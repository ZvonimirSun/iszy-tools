import{ac as ae,L as oe,Z as k,B as p,a4 as K,aZ as Z,a_ as j,a$ as le,a3 as ne,b0 as q,x as z,q as G,o as M,c as H,b as _,ae as g,ak as se,a as N,y as h,t as I,X as R,F as W,e as J,ad as Q,W as X,aQ as ue,aT as ce,aU as ie,am as re,an as fe}from"./vendor-2d125fa4.js";import{_ as de,S as ve}from"./ant-design-vue-cea3bdbb.js";import"./common-d4a6585c.js";var ee={exports:{}};(function(l,c){(function(a,$){l.exports=$()})(ae,function(){var a="minute",$=/[+-]\d\d(?::?\d\d)?/g,D=/([+-]|\d\d)/g;return function(d,r,v){var o=r.prototype;v.utc=function(e){var t={date:e,utc:!0,args:arguments};return new r(t)},o.utc=function(e){var t=v(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),a):t},o.local=function(){return v(this.toDate(),{locale:this.$L,utc:!1})};var w=o.parse;o.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),w.call(this,e)};var O=o.init;o.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else O.call(this)};var U=o.utcOffset;o.utcOffset=function(e,t){var f=this.$utils().u;if(f(e))return this.$u?0:f(this.$offset)?U.call(this):this.$offset;if(typeof e=="string"&&(e=function(m){m===void 0&&(m="");var x=m.match($);if(!x)return null;var n=(""+x[0]).match(D)||["-",0,0],y=n[0],V=60*+n[1]+ +n[2];return V===0?0:y==="+"?V:-V}(e),e===null))return this;var i=Math.abs(e)<=16?60*e:e,u=this;if(t)return u.$offset=i,u.$u=e===0,u;if(e!==0){var C=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(u=this.local().add(i+C,a)).$offset=i,u.$x.$localOffset=C}else u=this.utc();return u};var b=o.format;o.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,t)},o.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var E=o.toDate;o.toDate=function(e){return e==="s"&&this.$offset?v(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var S=o.diff;o.diff=function(e,t,f){if(e&&this.$u===e.$u)return S.call(this,e,t,f);var i=this.local(),u=v(e).local();return S.call(i,u,t,f)}}})})(ee);var he=ee.exports;const pe=oe(he);function me(...l){const c=typeof l[0]=="string"?l[0]:void 0,a=typeof c=="string"?1:0;let $={},D=K,d={immediate:!!a,shallow:!0};const r=s=>!!(s!=null&&s.request);l.length>0+a&&(r(l[0+a])?D=l[0+a]:$=l[0+a]),l.length>1+a&&r(l[1+a])&&(D=l[1+a]),(l.length===2+a&&!r(l[1+a])||l.length===3+a)&&(d=l[l.length-1]);const{initialData:v,shallow:o,onSuccess:w=Z,onError:O=Z,immediate:U,resetOnExecute:b=!1}=d,E=k(),S=(o?k:p)(v),e=p(!1),t=p(!1),f=p(!1),i=k(),u=K.CancelToken.source;let C=u();const m=s=>{e.value||!t.value||(C.cancel(s),C=u(),f.value=!0,t.value=!1,e.value=!1)},x=s=>{t.value=s,e.value=!s},n=()=>{b&&(S.value=v)},y=()=>new Promise((s,F)=>{le(e).toBe(!0).then(()=>i.value?F(i.value):s(B))}),V={then:(...s)=>y().then(...s),catch:(...s)=>y().catch(...s)};let Y=0;const A=(s=c,F={})=>{i.value=void 0;const L=typeof s=="string"?s:c??F.url;if(L===void 0)return i.value=new j(j.ERR_INVALID_URL),e.value=!0,V;n(),m(),x(!0),Y+=1;const te=Y;return D(L,{...$,...typeof s=="object"?s:F,cancelToken:C.token}).then(T=>{if(f.value)return;E.value=T;const P=T.data;S.value=P,w(P)}).catch(T=>{i.value=T,O(T)}).finally(()=>{var T;(T=d.onFinish)==null||T.call(d),te===Y&&x(!1)}),V};U&&c&&A();const B={response:E,data:S,error:i,isFinished:e,isLoading:t,cancel:m,isAborted:f,isCanceled:f,abort:m,execute:A};return{...B,...V}}const _e=l=>(re("data-v-fc1d1f21"),l=l(),fe(),l),$e={"w-full":"","h-full":"","overflow-auto":""},be=_e(()=>N("blockquote",null,"仅供参考，采用第三方接口，数据可能存在延迟",-1)),Ce={__name:"forexRate",setup(l){q.extend(pe);const c=p("USD"),a=p("CNY"),$=p("USD"),D=p("CNY"),d=p(1),r=p(0),v=p([{code:"USD",label:"美元"},{code:"CNY",label:"人民币"},{code:"GBP",label:"英镑"},{code:"EUR",label:"欧元"},{code:"HKD",label:"港币"},{code:"MOP",label:"澳门元"},{code:"JPY",label:"日元"},{code:"CAD",label:"加拿大元"},{code:"AUD",label:"澳大利亚元"},{code:"SGD",label:"新加坡元"},{code:"KRW",label:"韩元"},{code:"PHP",label:"菲律宾比索"},{code:"THB",label:"泰国铢"},{code:"CHF",label:"瑞士法郎"},{code:"NZD",label:"新西兰元"},{code:"DKK",label:"丹麦克朗"},{code:"NOK",label:"挪威克朗"},{code:"SEK",label:"瑞典克朗"},{code:"RUB",label:"卢布"},{code:"MYR",label:"林吉特"},{code:"ZAR",label:"南非兰特"}]),o=z(()=>{const e={};return v.value.forEach(t=>{e[t.code]=t.label}),e}),w=p(""),{data:O,execute:U}=me("https://api.it120.cc/iszy/forex/rate",{params:{fromCode:a.value,toCode:c.value}}),b=z(()=>{var e;return O.value&&((e=O.value.data)==null?void 0:e.rate)||0});G([c,a],()=>{U==null||U("https://api.it120.cc/iszy/forex/rate",{params:{fromCode:a.value,toCode:c.value}})}),G(b,()=>{w.value=q.utc().format("M月D日 UTC HH:mm"),$.value=c.value,D.value=a.value,r.value=d.value*b.value});function E(){r.value=parseFloat((d.value*b.value).toFixed(4))}function S(){d.value=parseFloat((r.value/b.value).toFixed(4))}return(e,t)=>{const f=de,i=ve,u=ue,C=ce,m=ie,x=se;return M(),H("div",$e,[_(f,null,{default:g(()=>[be]),_:1}),_(x,{gap:8,direction:"vertical",style:{margin:"0 auto"}},{default:g(()=>[N("div",null,[_(i,{title:`1 ${h(o)[h($)]} 等于`,value:`${h(b)} ${h(o)[h(D)]}`},null,8,["title","value"]),_(f,null,{default:g(()=>[N("blockquote",null,"查询时间: "+I(h(w)),1)]),_:1})]),_(x,{gap:8},{default:g(()=>[_(u,{modelValue:h(d),"onUpdate:modelValue":t[0]||(t[0]=n=>R(d)?d.value=n:null),modelModifiers:{number:!0},class:"w-50",onChange:E},null,8,["modelValue"]),_(m,{modelValue:h(c),"onUpdate:modelValue":t[1]||(t[1]=n=>R(c)?c.value=n:null),class:"w-50"},{default:g(()=>[(M(!0),H(W,null,J(h(v),(n,y)=>(M(),Q(C,{key:y,value:n.code},{default:g(()=>[X(I(n.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),_(x,{gap:8},{default:g(()=>[_(u,{modelValue:h(r),"onUpdate:modelValue":t[2]||(t[2]=n=>R(r)?r.value=n:null),modelModifiers:{number:!0},class:"w-50",onChange:S},null,8,["modelValue"]),_(m,{modelValue:h(a),"onUpdate:modelValue":t[3]||(t[3]=n=>R(a)?a.value=n:null),class:"w-50"},{default:g(()=>[(M(!0),H(W,null,J(h(v),(n,y)=>(M(),Q(C,{key:y,value:n.code},{default:g(()=>[X(I(n.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])}}},Se=ne(Ce,[["__scopeId","data-v-fc1d1f21"]]);export{Se as default};
