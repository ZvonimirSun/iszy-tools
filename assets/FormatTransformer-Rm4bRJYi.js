import{F as I,bL as M,t as P,aE as d,cc as y,m as F,w as c,J as C,K as k,X as n,a1 as r,u as t,az as B,aC as D}from"./index-Q6HFEFe9.js";import{a as z,E as J}from"./el-form-item-nMwvw3Ub.js";import{_ as K}from"./EditorMini-Am3FTF9g.js";const N={class:"formatter-container"},R=I({__name:"FormatTransformer",props:{plugin:{},target:{default:""},inputLabel:{default:"输入"},inputDefault:{default:""},inputPlaceholder:{default:"输入..."},invalidMessage:{default:"请输入正确的内容"},outputLabel:{default:"输出"},options:{default:()=>({})}},emits:["format"],setup(m,{emit:T}){const e=m,{plugin:f,inputDefault:p}=M(e),{_inputLabel:g,_inputPlaceholder:v,_invalidMessage:b,_outputLabel:L}=e.target?{_inputLabel:"你的"+e.target+"内容",_inputPlaceholder:"在这里粘贴"+e.target+"内容...",_invalidMessage:"请输入正确的"+e.target+"内容",_outputLabel:"格式化后的"+e.target+"内容"}:{_inputLabel:e.inputLabel,_inputPlaceholder:e.inputPlaceholder,_invalidMessage:e.invalidMessage,_outputLabel:e.outputLabel},u=P(),a=d({input:p.value}),h=e.plugin.formatter||y,E=e.plugin.isValid||(()=>!0),s=F(()=>E(a.input));c(p,l=>{a.input=l}),c([s,()=>e.options,u],()=>{var l,o;s.value?(l=u.value)==null||l.setInput(h(a.input,e.options)):(o=u.value)==null||o.setInput("")},{deep:!0});const V=d({input:[{validator:(l,o,i)=>{s.value?i():i(new Error(b))},trigger:"change"}]});return(l,o)=>{const i=B,_=z,w=J;return C(),k("div",N,[n(w,{model:t(a),"label-position":"top",rules:t(V)},{default:r(()=>[n(_,{label:t(g),prop:"input"},{default:r(()=>[n(i,{modelValue:t(a).input,"onUpdate:modelValue":o[0]||(o[0]=x=>t(a).input=x),placeholder:t(v),rows:20,type:"textarea"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(_,{label:t(L)},{default:r(()=>[n(K,{ref_key:"editor",ref:u,plugin:t(f),readonly:!0},null,8,["plugin"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])}}}),q=D(R,[["__scopeId","data-v-4568c76a"]]);export{q as _};
