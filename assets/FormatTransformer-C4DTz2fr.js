import{j as I,ar as M,a4 as d,bV as P,k as $,a7 as m,o as y,F,K as n,w as i,m as t,$ as k,a0 as C}from"./index-Dn8Aau8D.js";import{a as B,E as D}from"./el-form-item-C8EFtxuq.js";import{_ as R}from"./EditorMini-DZFa8Gwa.js";import{u as j}from"./useComponentRef-Pw2B8xTr.js";const K={class:"formatter-container"},N=I({__name:"FormatTransformer",props:{plugin:{},target:{default:""},inputLabel:{default:"输入"},inputDefault:{default:""},inputPlaceholder:{default:"输入..."},invalidMessage:{default:"请输入正确的内容"},outputLabel:{default:"输出"},options:{default:()=>({})}},emits:["format"],setup(c){const e=c,{plugin:f,inputDefault:p}=M(e),{_inputLabel:g,_inputPlaceholder:b,_invalidMessage:v,_outputLabel:h}=e.target?{_inputLabel:`你的${e.target}内容`,_inputPlaceholder:`在这里粘贴${e.target}内容...`,_invalidMessage:`请输入正确的${e.target}内容`,_outputLabel:`格式化后的${e.target}内容`}:{_inputLabel:e.inputLabel,_inputPlaceholder:e.inputPlaceholder,_invalidMessage:e.invalidMessage,_outputLabel:e.outputLabel},u=j(),a=d({input:p.value}),L=e.plugin.formatter||P,V=e.plugin.isValid||(()=>!0),s=$(()=>V(a.input));m(p,l=>{a.input=l}),m([s,()=>e.options,u],()=>{var l,o;s.value?(l=u.value)==null||l.setInput(L(a.input,e.options)):(o=u.value)==null||o.setInput("")},{deep:!0});const E=d({input:[{validator:(l,o,r)=>{s.value?r():r(new Error(v))},trigger:"change"}]});return(l,o)=>{const r=k,_=B,w=D;return y(),F("div",K,[n(w,{model:t(a),"label-position":"top",rules:t(E)},{default:i(()=>[n(_,{label:t(g),prop:"input"},{default:i(()=>[n(r,{modelValue:t(a).input,"onUpdate:modelValue":o[0]||(o[0]=x=>t(a).input=x),placeholder:t(b),rows:20,type:"textarea"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(_,{label:t(h)},{default:i(()=>[n(R,{ref_key:"editor",ref:u,plugin:t(f),readonly:!0},null,8,["plugin"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])}}}),A=C(N,[["__scopeId","data-v-53bc0af9"]]);export{A as _};
