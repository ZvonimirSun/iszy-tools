import{S as et,T as st,cm as k,aN as B,a5 as $,cM as it,_ as at,cw as nt,cN as b,a0 as W,aO as ot,cO as lt,cP as rt,cx as dt,o as S,L as I,b2 as y,b3 as v,M as i,a,a3 as M,cg as z,w as n,F,cd as ht,cy as ct,b as f,a2 as O,c as ft,a1 as Y,B as ut,ci as gt,I as pt,V as mt,W as _t}from"./index.1e324cd7.js";/* empty css               */import{b as yt,a as vt,_ as kt}from"./index.19a2dc92.js";/* empty css               */import{S as St}from"./index.f5ca75da.js";import"./index.a9ad47ad.js";import"./index.46e5d4c9.js";/* empty css               */import{C as Ct}from"./index.9a8b96b7.js";import{_ as It}from"./index.60d68246.js";import{D as wt}from"./index.79384d42.js";/* empty css               */import{d as C}from"./dayjs.min.1d4a9c1e.js";import{c as Dt}from"./clamp.1fbec405.js";import{J as H}from"./jsoneditor.min.b1a10d02.js";import{c as J}from"./createFile.20649866.js";import{g as U}from"./get.e5d9e532.js";import"./index.ff038533.js";import{_ as Lt,M as Rt}from"./Menu.9e9971fd.js";import"./Col.f56ba48a.js";import"./responsiveObserve.7b597bad.js";import"./useFlexGapSupport.5d943691.js";import"./toArray.d690c440.js";import"./Overflow.e0bd5d0a.js";import"./isMobile.481c1aec.js";import"./useState.e4eb9e69.js";import"./DownOutlined.e38d76d1.js";import"./SearchOutlined.47c8c105.js";import"./Checkbox.7463c660.js";import"./_baseGet.e1c68095.js";import"./toString.9d021185.js";import"./_arrayMap.dc1f124f.js";import"./shallowequal.0759de63.js";import"./_arrayIncludesWith.15e56e3a.js";import"./collapseMotion.40916c4d.js";function V(t,e){t=t||32,e=e||"ABCDEFGHJKMNPQRSTWXYZabcdefghijkmnprstwxyz2345678";const s=e.length;let c="";for(let p=0;p<t;p++)c+=e.charAt(Math.floor(Math.random()*s));return c}const bt=new it;let E={},A=!1;const N=et("jsonEditor",{persist:!0,state:()=>({leftId:null,rightId:null,splitterValue:.5,fullStatus:"",$_data:{}}),getters:{dataList:t=>e=>{const s=[];for(const c in t.$_data)s.push({_id:c,name:t.$_data[c].name,updated:C(t.$_data[c].updated).format("YYYY-MM-DD HH:mm")});return e?s.filter(c=>c.name.includes(e)):s},data:t=>e=>t.$_data[e]?{...t.$_data[e],updated:C(t.$_data[e].updated).format("YYYY-MM-DD HH:mm")}:null,leftData:t=>t.leftId&&t.$_data[t.leftId]?{...t.$_data[t.leftId],updated:C(t.$_data[t.leftId].updated).format("YYYY-MM-DD HH:mm")}:null,rightData:t=>t.rightId&&t.$_data[t.rightId]?{...t.$_data[t.rightId],updated:C(t.$_data[t.rightId].updated).format("YYYY-MM-DD HH:mm")}:null,syncCloud:()=>st().modules.jsonEditor.syncCloud},actions:{setSplitter(t=.5){this.splitterValue=Dt(t,0,1)},setFullStatus(t){t==="left"||t==="right"?this.fullStatus=t:this.fullStatus=""},replaceState(t=[]){const e={};for(const s of t)e[s.key]={name:s.name,content:{}},s.text!=null?e[s.key].content.text=s.text:s.json!=null&&(e[s.key].content.json=s.json),e[s.key].updated=C(s.updatedAt).format();this.$_data=e},async getSyncData(){try{const t=(await k.get(`${k.$apiBase}/tools/jsoneditor`)).data;t.success?this.replaceState(t.data):console.log(t.message)}catch(t){console.log(t.message)}},syncData:B(({id:t,data:e}={})=>{if(navigator.onLine)bt.enqueue(k.post(`${k.$apiBase}/tools/jsoneditor/${t}`,e));else if(E[t]=e,!A){let s=function(){window.removeEventListener("online",s);for(const c in E)N().syncData({id:c,data:E[c]});E={}};A=!0,window.addEventListener("online",s)}},500),saveData({left:t,right:e,id:s,content:c,name:p}={}){if(this.syncCloud&&(s=s||V(6),c!=null||p!=null)){const o={name:p||(this.$_data[s]||{}).name||`\u6587\u6863-${s}`};typeof c=="string"?o.text=c:typeof c=="object"&&(o.json=$(c)),this.syncData({id:s,data:o})}typeof c<"u"?(s=s||V(6),this.$_data[s]=this.$_data[s]||{},this.$_data[s].name=p||this.$_data[s].name||`\u6587\u6863-${s}`,typeof c=="string"?this.$_data[s].content={text:c}:this.$_data[s].content={json:$(c)},this.$_data[s].updated=C().format(),t&&(this.leftId=s),e&&(this.rightId=s)):s&&this.$_data[s]?(t&&(this.leftId=s),e&&(this.rightId=s),this.$_data[s].name=p||this.$_data[s].name):(t&&(this.leftId=null),e&&(this.rightId=null))},async deleteData({id:t}={}){if(this.syncCloud)try{const e=(await k.delete(`${k.$apiBase}/tools/jsoneditor/${t}`)).data;e.success?(this.leftId===t&&(this.leftId=null),this.rightId===t&&(this.rightId=null),this.$_data[t]&&delete this.$_data[t]):console.log(e.message)}catch(e){console.log(e)}else this.leftId===t&&(this.leftId=null),this.rightId===t&&(this.rightId=null),this.$_data[t]&&delete this.$_data[t]}}});function X(t,e=2){if(t===0)return"0 Bytes";const s=1024,c=e<0?0:e,p=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,o)).toFixed(c))+" "+p[o]}let d,h,x=0,P=0,T=!1;const Mt={name:"JsonEditor",data:()=>({codeLeft:{array:[1,2,3],boolean:!0,color:"gold",null:null,number:123,object:{a:"b",c:"d"},string:"Hello World"},codeRight:{},diff:!1,modalStatus:{type:"",leftOrRight:""},url:"",keyword:"",selectId:"",indent:2,currentName:"",diffMap:{},leftMode:"code",rightMode:"tree",fullPanel:"",loading:!0,targetEditor:""}),computed:{dataListAfterSearch:function(){return this.dataList(this.keyword)},codeLeftString:function(){return typeof this.codeLeft=="string"?this.codeLeft:JSON.stringify(this.codeLeft,null,this.indent)},codeRightString:function(){return typeof this.codeRight=="string"?this.codeRight:JSON.stringify(this.codeRight,null,this.indent)},documentProperties:function(){if(this.modalStatus.leftOrRight==="left"){let t;return typeof this.codeLeft=="string"?t="\u5B57\u7B26\u4E32\u7C7B\u578B":typeof this.codeLeft=="number"?t="\u6570\u5B57\u7C7B\u578B":typeof this.codeLeft=="boolean"?t="\u5E03\u5C14\u7C7B\u578B":Array.isArray(this.codeLeft)?t=`\u6570\u7EC4\u7C7B\u578B\uFF0C\u5305\u542B ${this.codeLeft.length} \u4E2A\u5BF9\u8C61`:typeof this.codeLeft=="object"&&(t=`\u5BF9\u8C61\u7C7B\u578B\uFF0C\u5305\u542B ${Object.keys(this.codeLeft).length} \u4E2A\u5C5E\u6027`),{name:this.leftData?.name,storage:this.leftData?"\u6D4F\u89C8\u5668\u672C\u5730":"",updated:this.leftData?.updated,content:t,size:X(this.codeLeftString.length)}}else if(this.modalStatus.leftOrRight==="right"){let t;return typeof this.codeRight=="string"?t="\u5B57\u7B26\u4E32\u7C7B\u578B":typeof this.codeRight=="number"?t="\u6570\u5B57\u7C7B\u578B":typeof this.codeRight=="boolean"?t="\u5E03\u5C14\u7C7B\u578B":Array.isArray(this.codeRight)?t=`\u6570\u7EC4\u7C7B\u578B\uFF0C\u5305\u542B ${this.codeRight.length} \u4E2A\u5BF9\u8C61`:typeof this.codeRight=="object"&&(t=`\u5BF9\u8C61\u7C7B\u578B\uFF0C\u5305\u542B ${Object.keys(this.codeRight).length} \u4E2A\u5C5E\u6027`),{name:this.rightData?.name,storage:this.rightData?"\u6D4F\u89C8\u5668\u672C\u5730":"",updated:this.rightData?.updated,content:t,size:X(this.codeRightString.length)}}else return{}},...nt(N,["leftId","rightId","splitterValue","fullStatus","dataList","data","leftData","rightData","syncCloud"])},watch:{leftId:{handler:function(t){this.handleHashParams("left",t)}},rightId:{handler:function(t){this.handleHashParams("right",t)}}},mounted(){this.init()},beforeUnmount(){d&&d.destroy(),h&&h.destroy(),window.removeEventListener("hashchange",this.hashChange),window.removeEventListener("keydown",this.downloadListener)},methods:{async init(){if(this.syncCloud?(await this.getSyncData(),this.loading=!1):this.loading=!1,this.fullPanel=this.fullStatus,d=new H(this.$refs.jsonEditorLeft,{mode:"code",modes:["code","tree"],onClassName:this.onClassName,onChangeText:B(s=>{this.diffMap={};try{this.codeLeft=JSON.parse(s)}catch{this.codeLeft=s}d.refresh(),h.refresh(),this.save("left")},100),onModeChange:s=>{this.leftMode=s,s==="code"&&typeof this.codeLeft!="string"&&d.updateText(this.codeLeftString),this.save("left")},onError:s=>{this.$msg.error(s.message)},onFocus:()=>{this.targetEditor="left"},onBlur:()=>{this.targetEditor==="left"&&(this.targetEditor="")}}),h=new H(this.$refs.jsonEditorRight,{mode:"tree",modes:["code","tree"],onClassName:this.onClassName,onChangeText:B(s=>{this.diffMap={};try{this.codeRight=JSON.parse(s)}catch{this.codeRight=s}d.refresh(),h.refresh(),this.save("right")},100),onModeChange:s=>{this.rightMode=s,s==="code"&&typeof this.codeRight!="string"&&h.updateText(this.codeRightString),this.save("right")},onError:s=>{this.$msg.error(s.message)},onFocus:()=>{this.targetEditor="right"},onBlur:()=>{this.targetEditor==="right"&&(this.targetEditor="")}}),this.leftData&&this.leftData.content){if(this.leftData.content.json)this.codeLeft=this.leftData.content.json,d.set(this.leftData.content.json),d.setMode("tree");else if(this.leftData.content.text){try{this.codeLeft=JSON.parse(this.leftData.content.text)}catch{this.codeLeft=this.leftData.content.text}d.setText(this.leftData.content.text),d.setMode("code")}}else d.set(this.codeLeft);if(this.rightData&&this.rightData.content){if(this.rightData.content.json)this.codeRight=this.rightData.content.json,h.set(this.rightData.content.json),h.setMode("tree");else if(this.rightData.content.text){try{this.codeRight=JSON.parse(this.rightData.content.text)}catch{this.codeRight=this.rightData.content.text}h.setText(this.rightData.content.text),h.setMode("code")}}else h.set(this.codeRight);const t=b("left"),e=b("right");t&&t!==this.leftId&&(this.selectId=t,this.modalStatus.leftOrRight="left",this.openRecent()),e&&e!==this.rightId&&(this.selectId=e,this.modalStatus.leftOrRight="right",this.openRecent()),this.$nextTick(()=>{this.handleHashParams("left",this.leftId),this.handleHashParams("right",this.rightId),window.addEventListener("hashchange",this.hashChange),window.addEventListener("keydown",this.downloadListener)})},copyRight(){typeof this.codeLeft=="string"?(h.setMode("code"),h.updateText(this.codeLeft),this.codeRight=this.codeLeft):(this.leftMode==="code"?h.updateText(d.getText()):h.updateText(this.codeLeftString),this.codeRight=W(this.codeLeft)),d.refresh(),h.refresh(),this.save("right")},copyLeft(){typeof this.codeRight=="string"?(d.setMode("code"),d.updateText(this.codeRight),this.codeLeft=this.codeRight):(this.rightMode==="code"?d.updateText(h.getText()):d.updateText(this.codeRightString),this.codeLeft=W(this.codeRight)),d.refresh(),h.refresh(),this.save("left")},save(t,e){(!t||t==="left")&&(this.leftMode==="tree"?this.saveData({left:!0,id:this.leftId,content:d.get(),name:e}):this.saveData({left:!0,id:this.leftId,content:d.getText(),name:e})),(!t||t==="right")&&(this.rightMode==="tree"?this.saveData({right:!0,id:this.rightId,content:h.get(),name:e}):this.saveData({right:!0,id:this.rightId,content:h.getText(),name:e}))},create(t){t==="left"?(d.set({}),this.codeLeft={},this.saveData({left:!0})):t==="right"&&(h.set({}),this.codeRight={},this.saveData({right:!0}))},open(t,e){switch(this.modalStatus.leftOrRight=e,t.key){case"recent":this.modalStatus.type="openRecent";break;case"file":this.$refs.uploader.click();break;case"url":this.modalStatus.type="openUrl";break}},openRecent(){if(this.selectId&&this.data(this.selectId)&&this.data(this.selectId).content){const t=this.data(this.selectId).content;if(this.modalStatus.leftOrRight==="left"){if(this.saveData({left:!0,id:this.selectId}),t.json)this.codeLeft=t.json,d.set(t.json),d.setMode("tree");else if(t.text){try{this.codeLeft=JSON.parse(t.text)}catch{this.codeLeft=t.text}d.setText(t.text),d.setMode("code")}}else if(this.modalStatus.leftOrRight==="right"){if(this.saveData({right:!0,id:this.selectId}),t.json)this.codeRight=t.json,h.set(t.json),h.setMode("tree");else if(t.text){try{this.codeRight=JSON.parse(t.text)}catch{this.codeRight=t.text}h.setText(t.text),h.setMode("code")}}}this.selectId="",this.closeModal()},openFile(t){if(t.target.files.length){const e=t.target.files[0],s=new FileReader;s.onload=()=>{s.result&&(this.create(this.modalStatus.leftOrRight),this.modalStatus.leftOrRight==="left"?(this.codeLeft=s.result,d.setText(s.result),this.save("left",e.name)):this.modalStatus.leftOrRight==="right"&&(this.codeRight=s.result,h.setText(s.result),this.save("right",e.name)))},s.readAsText(e)}t.target.value=""},async openUrl(t){try{const e=(await this.$axios.get(t)).data;e&&(this.create(this.modalStatus.leftOrRight),this.modalStatus.leftOrRight==="left"?(this.codeLeft=e,d.set(e),this.save("left")):this.modalStatus.leftOrRight==="right"&&(this.codeRight=e,h.set(e),this.save("right")),this.url="",this.closeModal())}catch(e){this.$msg.error(e.message)}},download(t){t==="left"?J(d.getText(),`${this.leftData?.name||"left"}.json`):t==="right"&&J(h.getText(),`${this.rightData?.name||"right"}.json`)},downloadListener(t){t.keyCode===83&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&(t.preventDefault(),this.targetEditor?this.download(this.targetEditor):this.$msg.warn("\u8BF7\u5148\u9009\u4E2D\u4E00\u4E2A\u7F16\u8F91\u5668"))},changeOption(t,e){switch(this.modalStatus.leftOrRight=e,t.key){case"indentation":this.modalStatus.type="setIndentation";break;case"properties":this.modalStatus.type="documentProperties";break;case"delete":e==="left"?this.deleteData({id:this.leftId}):e==="right"&&this.deleteData({id:this.rightId});break}},changeIndentation(){d.indentation=this.indent,h.indentation=this.indent,typeof this.codeLeft=="object"&&d.updateText(this.codeLeftString),typeof this.codeRight=="object"&&h.updateText(this.codeRightString),this.closeModal()},onEditStartLeft(){this.onEditStart("left")},onEditStartRight(){this.onEditStart("right")},onEditStart(t,e){this.currentName=this.documentProperties.name,this.modalStatus.leftOrRight=t||this.modalStatus.leftOrRight},onEditChange(t){this.currentName=t},onEditEnd(){this.modalStatus.leftOrRight==="left"?this.saveData({id:this.leftId,name:this.currentName}):this.modalStatus.leftOrRight==="right"&&this.saveData({id:this.rightId,name:this.currentName}),this.currentName=""},changeDiff(){if(!this.diff){if(typeof this.codeLeft=="string"||typeof this.codeRight=="string"){this.$msg.error("JSON\u5B58\u5728\u9519\u8BEF");return}(this.leftMode!=="tree"||this.rightMode!=="tree")&&this.$msg.warn("\u5BF9\u6BD4\u6A21\u5F0F\u4EC5\u5728\u300C\u6811\u300D\u6A21\u5F0F\u4E0B\u751F\u6548\uFF0C\u8BF7\u5207\u6362\u4E3A\u6811\u6A21\u5F0F")}this.diff=!this.diff,d.refresh(),h.refresh()},onClassName({path:t}){if(this.diff&&!this.fullPanel){const e=U(this.codeLeft,t),s=U(this.codeRight,t);return ot(e,s)?(delete this.diffMap[t],""):(this.diffMap[t]=!0,"differentElement")}else return""},closeModal(){this.modalStatus.type="",this.modalStatus.leftOrRight=""},handleHashParams(t,e){e!=null?lt(t,e):rt(t)},hashChange(){const t=b("left"),e=b("right");t&&t!==this.leftId&&(this.selectId=t,this.modalStatus.leftOrRight="left",this.openRecent()),e&&e!==this.rightId&&(this.selectId=e,this.modalStatus.leftOrRight="right",this.openRecent())},startDrag(t){t.button===0&&(T=!1,P=parseFloat(window.getComputedStyle(this.$refs.editorPanelContainerLeft).width),isNaN(P)&&(P=0),t.touches?(x=t.touches[0].clientX,document.addEventListener("touchend",this.endDrag),document.addEventListener("touchmove",this.dragMove)):(x=t.clientX,document.addEventListener("mouseup",this.endDrag),document.addEventListener("mousemove",this.dragMove)))},dragMove(t){T=!0;let e=0;t.touches?e=t.touches[0].clientX:e=t.clientX;const s=P-x+e,c=parseFloat(window.getComputedStyle(this.$refs.editorPanel).width);s<435?(this.fullPanel="right",this.fullPanel!==this.fullStatus&&this.setFullStatus("right")):c-100-s<435?(this.fullPanel="left",this.fullPanel!==this.fullStatus&&this.setFullStatus("left")):(this.fullPanel="",this.setSplitter(s/(c-100)),this.fullPanel!==this.fullStatus&&this.setFullStatus())},endDrag(){document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("mouseup",this.endDrag),document.removeEventListener("touchend",this.endDrag)},clickDragger(){T||(this.fullPanel==="left"?(this.setSplitter(1-435/(parseFloat(window.getComputedStyle(this.$refs.editorPanel).width)-100)),this.fullPanel=""):this.fullPanel==="right"&&(this.setSplitter(435/(parseFloat(window.getComputedStyle(this.$refs.editorPanel).width)-100)),this.fullPanel=""))},...dt(N,["setSplitter","setFullStatus","getSyncData","saveData","deleteData"])}},l=t=>(mt("data-v-f147a60e"),t=t(),_t(),t),Et={class:"loadingPanel"},Pt={ref:"editorPanel",class:"editorPanel"},jt={class:"editorController editorControllerLeft"},Ot={class:"editorTitle"},xt=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-file-addition-one"}),f("\xA0\u65B0\u5EFA")],-1)),Tt=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-history"}),f("\xA0\u6253\u5F00\u6700\u8FD1\u8BB0\u5F55")],-1)),Bt=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-computer"}),f("\xA0\u6253\u5F00\u672C\u5730\u6587\u4EF6")],-1)),Nt=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-link-three"}),f("\xA0\u6253\u5F00URL")],-1)),$t=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-folder-open"}),f("\xA0\u6253\u5F00"),i("span",{class:"i-icon-park-outline-down"})],-1)),Wt=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-save"}),f("\xA0\u4FDD\u5B58")],-1)),zt={class:"buttonWithIcon"},Ft=l(()=>i("span",{class:"i-icon-park-outline-indent-right"},null,-1)),Yt=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-info"}),f("\xA0\u6587\u6863\u5C5E\u6027")],-1)),Ht=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-delete"}),f("\xA0\u5220\u9664\u6587\u6863")],-1)),Jt=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-setting-two"}),f("\xA0\u9009\u9879"),i("span",{class:"i-icon-park-outline-down"})],-1)),Ut={ref:"jsonEditorLeft",class:"jsonEditor jsonEditorLeft"},Vt=l(()=>i("div",{class:"emptySpace"},null,-1)),At=l(()=>i("span",{class:"i-icon-park-outline-right"},null,-1)),Xt=l(()=>i("span",{class:"i-icon-park-outline-left"},null,-1)),Kt=l(()=>i("span",{class:"i-icon-park-outline-up"},null,-1)),qt=l(()=>i("span",{class:"i-icon-park-outline-down"},null,-1)),Gt={class:"dragIcon"},Qt={key:0,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},Zt=l(()=>i("path",{fill:"currentColor",d:"M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"},null,-1)),te=[Zt],ee={key:1,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-left",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},se=l(()=>i("path",{fill:"currentColor",d:"M224 480c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l169.4 169.4c12.5 12.5 12.5 32.75 0 45.25C240.4 476.9 232.2 480 224 480z"},null,-1)),ie=[se],ae={key:2,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"ellipsis-vertical",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 512"},ne=l(()=>i("path",{fill:"currentColor",d:"M64 360C94.93 360 120 385.1 120 416C120 446.9 94.93 472 64 472C33.07 472 8 446.9 8 416C8 385.1 33.07 360 64 360zM64 200C94.93 200 120 225.1 120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200zM64 152C33.07 152 8 126.9 8 96C8 65.07 33.07 40 64 40C94.93 40 120 65.07 120 96C120 126.9 94.93 152 64 152z"},null,-1)),oe=[ne],le={class:"editorController editorControllerRight"},re={class:"editorTitle"},de=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-file-addition-one"}),f("\xA0\u65B0\u5EFA")],-1)),he=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-history"}),f("\xA0\u6253\u5F00\u6700\u8FD1\u8BB0\u5F55")],-1)),ce=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-computer"}),f("\xA0\u6253\u5F00\u672C\u5730\u6587\u4EF6")],-1)),fe=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-link-three"}),f("\xA0\u6253\u5F00URL")],-1)),ue=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-folder-open"}),f("\xA0\u6253\u5F00"),i("span",{class:"i-icon-park-outline-down"})],-1)),ge=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-save"}),f("\xA0\u4FDD\u5B58")],-1)),pe={class:"buttonWithIcon"},me=l(()=>i("span",{class:"i-icon-park-outline-indent-right"},null,-1)),_e=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-info"}),f("\xA0\u6587\u6863\u5C5E\u6027")],-1)),ye=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-delete"}),f("\xA0\u5220\u9664\u6587\u6863")],-1)),ve=l(()=>i("span",{class:"buttonWithIcon"},[i("span",{class:"i-icon-park-outline-setting-two"}),f("\xA0\u9009\u9879"),i("span",{class:"i-icon-park-outline-down"})],-1)),ke={ref:"jsonEditorRight",class:"jsonEditor jsonEditorRight"},Se=l(()=>i("strong",null,"\u540D\u79F0\uFF1A",-1)),Ce=l(()=>i("strong",null,"\u5B58\u50A8\uFF1A",-1)),Ie=l(()=>i("strong",null,"\u66F4\u65B0\uFF1A",-1)),we=l(()=>i("strong",null,"\u5185\u5BB9\uFF1A",-1)),De=l(()=>i("strong",null,"\u5927\u5C0F\uFF1A",-1));function Le(t,e,s,c,p,o){const K=St,_=ht,u=ut,g=Lt,w=Rt,D=wt,L=It,q=Ct,m=gt,j=pt,G=yt,Q=vt,Z=kt,R=ct;return S(),I(F,null,[y(i("div",Et,[a(K,{tip:"\u540C\u6B65\u4E2D..."})],512),[[v,t.loading]]),y(i("div",Pt,[i("div",{ref:"editorPanelContainerLeft",class:M(["editorPanelContainer editorPanelContainerLeft",{full:t.fullPanel==="left",hide:t.fullPanel==="right"}]),style:z({flex:t.splitterValue+" 1 0"})},[i("div",jt,[i("div",Ot,[a(_,{content:t.leftData?.name,editable:t.leftData?.name?{onStart:o.onEditStartLeft,onChange:o.onEditChange,onEnd:o.onEditEnd}:!1},null,8,["content","editable"])]),a(L,{class:"editorControlButtons"},{default:n(()=>[a(u,{size:"small",type:"primary",onClick:e[0]||(e[0]=r=>o.create("left"))},{default:n(()=>[xt]),_:1}),a(D,null,{overlay:n(()=>[a(w,{trigger:["click","hover"],onClick:e[1]||(e[1]=r=>o.open(r,"left"))},{default:n(()=>[a(g,{key:"recent"},{default:n(()=>[Tt]),_:1}),a(g,{key:"file"},{default:n(()=>[Bt]),_:1}),a(g,{key:"url"},{default:n(()=>[Nt]),_:1})]),_:1})]),default:n(()=>[a(u,{size:"small",type:"primary"},{default:n(()=>[$t]),_:1})]),_:1}),a(u,{size:"small",type:"primary",onClick:e[2]||(e[2]=r=>o.download("left"))},{default:n(()=>[Wt]),_:1}),a(D,null,{overlay:n(()=>[a(w,{trigger:["click","hover"],onClick:e[3]||(e[3]=r=>o.changeOption(r,"left"))},{default:n(()=>[a(g,{key:"indentation"},{default:n(()=>[i("span",zt,[Ft,f("\xA0\u7F29\u8FDB("+O(t.indent)+")",1)])]),_:1}),a(g,{key:"properties"},{default:n(()=>[Yt]),_:1}),a(g,{key:"delete",disabled:!Boolean(t.leftId)},{default:n(()=>[Ht]),_:1},8,["disabled"])]),_:1})]),default:n(()=>[a(u,{size:"small",type:"primary"},{default:n(()=>[Jt]),_:1})]),_:1})]),_:1})]),i("div",Ut,null,512)],6),i("div",{class:M(["controller noShowMobile",{full:t.fullPanel}])},[a(L,{direction:"vertical"},{default:n(()=>[t.fullPanel?Y("",!0):(S(),I(F,{key:0},[Vt,a(u,{type:"primary",block:"",onClick:o.copyRight},{default:n(()=>[f(" \u590D\u5236 "),At]),_:1},8,["onClick"]),a(u,{type:"primary",block:"",onClick:o.copyLeft},{default:n(()=>[Xt,f(" \u590D\u5236 ")]),_:1},8,["onClick"]),a(q,{checked:t.diff,onChange:o.changeDiff},{default:n(()=>[f(" \u5BF9\u6BD4 ")]),_:1},8,["checked","onChange"]),t.diff?(S(),ft(L,{key:0},{default:n(()=>[a(u,{type:"primary",class:"diffBtn"},{default:n(()=>[Kt]),_:1}),a(u,{type:"primary",class:"diffBtn"},{default:n(()=>[qt]),_:1})]),_:1})):Y("",!0)],64)),i("div",{class:"drag",onMousedown:e[4]||(e[4]=(...r)=>o.startDrag&&o.startDrag(...r)),onTouchstart:e[5]||(e[5]=(...r)=>o.startDrag&&o.startDrag(...r)),onClick:e[6]||(e[6]=(...r)=>o.clickDragger&&o.clickDragger(...r))},[i("div",Gt,[t.fullPanel==="right"?(S(),I("svg",Qt,te)):t.fullPanel==="left"?(S(),I("svg",ee,ie)):(S(),I("svg",ae,oe))])],32)]),_:1})],2),i("div",{class:M(["editorPanelContainer editorPanelContainerRight noShowMobile",{full:t.fullPanel==="right",hide:t.fullPanel==="left"}]),style:z({flex:1-t.splitterValue+" 1 0"})},[i("div",le,[i("div",re,[a(_,{content:t.rightData?.name,editable:t.rightData?.name?{onStart:o.onEditStartRight,onChange:o.onEditChange,onEnd:o.onEditEnd}:!1},null,8,["content","editable"])]),a(L,{class:"editorControlButtons"},{default:n(()=>[a(u,{size:"small",type:"primary",onClick:e[7]||(e[7]=r=>o.create("right"))},{default:n(()=>[de]),_:1}),a(D,null,{overlay:n(()=>[a(w,{trigger:["click","hover"],onClick:e[8]||(e[8]=r=>o.open(r,"right"))},{default:n(()=>[a(g,{key:"recent"},{default:n(()=>[he]),_:1}),a(g,{key:"file"},{default:n(()=>[ce]),_:1}),a(g,{key:"url"},{default:n(()=>[fe]),_:1})]),_:1})]),default:n(()=>[a(u,{size:"small",type:"primary"},{default:n(()=>[ue]),_:1})]),_:1}),a(u,{size:"small",type:"primary",onClick:e[9]||(e[9]=r=>o.download("right"))},{default:n(()=>[ge]),_:1}),a(D,null,{overlay:n(()=>[a(w,{trigger:["click","hover"],onClick:e[10]||(e[10]=r=>o.changeOption(r,"right"))},{default:n(()=>[a(g,{key:"indentation"},{default:n(()=>[i("span",pe,[me,f("\xA0\u7F29\u8FDB("+O(t.indent)+")",1)])]),_:1}),a(g,{key:"properties"},{default:n(()=>[_e]),_:1}),a(g,{key:"delete",disabled:!Boolean(t.rightId)},{default:n(()=>[ye]),_:1},8,["disabled"])]),_:1})]),default:n(()=>[a(u,{size:"small",type:"primary"},{default:n(()=>[ve]),_:1})]),_:1})]),_:1})]),i("div",ke,null,512)],6)],512),[[v,!t.loading]]),a(R,{visible:t.modalStatus.type==="openRecent",title:"\u6253\u5F00\u6700\u8FD1",onCancel:o.closeModal,onOk:o.openRecent},{default:n(()=>[a(m,null,{default:n(()=>[f("\u641C\u7D22")]),_:1}),a(j,{value:t.keyword,"onUpdate:value":e[11]||(e[11]=r=>t.keyword=r),placeholder:"\u8BF7\u8F93\u5165\u6587\u6863\u540D\u79F0"},null,8,["value"]),a(Z,{class:"dataList","item-layout":"horizontal","data-source":o.dataListAfterSearch},{renderItem:n(({item:r})=>[a(Q,{class:M({selected:r._id===t.selectId}),onClick:tt=>t.selectId=r._id},{actions:n(()=>[a(u,{type:"primary",danger:"",onClick:tt=>t.deleteData({id:r._id})},{default:n(()=>[f(" \u5220\u9664 ")]),_:2},1032,["onClick"])]),default:n(()=>[a(G,{description:"\u6700\u540E\u4FEE\u6539: "+r.updated},{title:n(()=>[f(O(r.name),1)]),_:2},1032,["description"])]),_:2},1032,["class","onClick"])]),_:1},8,["data-source"])]),_:1},8,["visible","onCancel","onOk"]),i("input",{ref:"uploader",hidden:"",type:"file",accept:".json,.JSON",onChange:e[12]||(e[12]=(...r)=>o.openFile&&o.openFile(...r))},null,544),a(R,{visible:t.modalStatus.type==="openUrl",title:"\u6253\u5F00URL",onCancel:o.closeModal,onOk:e[14]||(e[14]=r=>o.openUrl(t.url))},{default:n(()=>[a(m,null,{default:n(()=>[f("\u4E0D\u652F\u6301\u9700\u8981\u9A8C\u8BC1\u6216\u5F00\u542FCORS\u7684\u5730\u5740")]),_:1}),a(j,{value:t.url,"onUpdate:value":e[13]||(e[13]=r=>t.url=r),placeholder:"\u8BF7\u8F93\u5165URL\u5730\u5740"},null,8,["value"])]),_:1},8,["visible","onCancel"]),a(R,{visible:t.modalStatus.type==="setIndentation",title:"\u8BBE\u7F6E\u7F29\u8FDB",onCancel:o.closeModal,onOk:o.changeIndentation},{default:n(()=>[a(m,null,{default:n(()=>[f("\u914D\u7F6E\u4EE3\u7801\u6A21\u5F0F\u4E0B\u7528\u4E8E\u7F29\u8FDB\u7684\u7A7A\u683C\u6570\u3002 \u7F29\u8FDB\u540C\u65F6\u5E94\u7528\u4E8E\u4E24\u4E2A\u9762\u677F\u3002")]),_:1}),a(j,{value:t.indent,"onUpdate:value":e[15]||(e[15]=r=>t.indent=r),valueModifiers:{number:!0}},null,8,["value"])]),_:1},8,["visible","onCancel","onOk"]),a(R,{visible:t.modalStatus.type==="documentProperties",title:"\u6587\u6863\u5C5E\u6027",class:"documentProperties",onCancel:o.closeModal,onOk:o.closeModal},{default:n(()=>[a(m,null,{default:n(()=>[Se,y(a(_,{editable:{onStart:o.onEditStart,onChange:o.onEditChange,onEnd:o.onEditEnd},content:o.documentProperties.name},null,8,["editable","content"]),[[v,o.documentProperties.name]])]),_:1}),a(m,null,{default:n(()=>[Ce,y(a(_,{content:o.documentProperties.storage},null,8,["content"]),[[v,o.documentProperties.storage]])]),_:1}),a(m,null,{default:n(()=>[Ie,y(a(_,{content:o.documentProperties.updated},null,8,["content"]),[[v,o.documentProperties.updated]])]),_:1}),a(m,null,{default:n(()=>[we,y(a(_,{content:o.documentProperties.content},null,8,["content"]),[[v,o.documentProperties.content]])]),_:1}),a(m,null,{default:n(()=>[De,y(a(_,{content:o.documentProperties.size},null,8,["content"]),[[v,o.documentProperties.size]])]),_:1})]),_:1},8,["visible","onCancel","onOk"])],64)}const rs=at(Mt,[["render",Le],["__scopeId","data-v-f147a60e"]]);export{rs as default};
