import{_ as Ye,a as Ue,u as Te,g as ie,o as K,w as W,r as mt,ar as fr,as as hr,y as S,a6 as pr,k as Lt,at as st,au as it,av as Je,aw as ut,ax as Be,U as mr,ay as Ve,az as $t,aA as gr,f as yr,aB as jt,aa as dt,i as $e,a5 as St,a0 as vr,A as Fe,I as X,aC as ot,aD as kr,K as Ee,a7 as lt,ad as ct,t as M,v as z,C as ee,x as V,j as br,h as me,P as be,n as Nr,N as pe,O as Le,aE as Cr,aF as wr,X as fe,aG as Er,Y as Ft,J as xr,V as Dr,aH as Ir,aI as Pr,aJ as Ne,b as Or,aK as Tr,d as Ge,z as ae,aL as jr,c as ft,ab as Sr,aM as qr,aN as Ar,D as re,M as qt,L as Kr,aO as Rr,aq as _r,aP as At,Q as Br}from"./index-BrEFJmNm.js";import{E as Lr}from"./el-checkbox-CNjsJKbA.js";import{E as $r}from"./el-text-CUvUi95x.js";/* empty css               */import{a as Fr,E as Ur}from"./el-select-CUnxjtUP.js";import"./el-popper-CycdaFL5.js";import{E as zr}from"./el-pagination-b4meRaa-.js";import{E as Mr}from"./el-divider-T-NSYMXG.js";import{L as Hr,P as Jr,T as Gr,a as Qr,b as Wr}from"./Router-CY_jKmDv.js";import{E as Vr}from"./index-DWrve-4c.js";import"./omit-B9uZVM92.js";import"./last-D-rYfuUG.js";import"./strings-LK1QCitN.js";import"./castArray-BcYYRqOe.js";import"./_baseIteratee-C3s6jKTb.js";import"./clamp-Bq1YGdY0.js";import"./index-BMcsbbEc.js";const Yr=Ue({name:"ElCollapseTransition",__name:"collapse-transition",setup(o){const a=Te("collapse-transition"),i=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},d={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){i(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){i(t)},leaveCancelled(t){i(t)}};return(t,l)=>(K(),ie(pr,fr({name:S(a).b()},hr(d)),{default:W(()=>[mt(t.$slots,"default")]),_:3},16,["name"]))}});var Xr=Ye(Yr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);const Zr=Lt(Xr),Oe="$treeNodeId",Kt=function(o,a){!a||a[Oe]||Object.defineProperty(a,Oe,{value:o.id,enumerable:!1,configurable:!1,writable:!1})},gt=(o,a)=>a?.[o||Oe],ht=(o,a,i)=>{const d=o.value.currentNode;i();const t=o.value.currentNode;d!==t&&a("current-change",t?t.data:null,t)},Ut=o=>{let a=!0,i=!0,d=!0,t=!0;for(let l=0,p=o.length;l<p;l++){const k=o[l];(k.checked!==!0||k.indeterminate)&&(a=!1,k.disabled||(d=!1)),(k.checked!==!1||k.indeterminate)&&(i=!1),k.isEffectivelyChecked||(t=!1)}return{all:a,none:i,allWithoutDisable:d,half:!a&&!i,isEffectivelyChecked:t}},_e=function(o){if(o.childNodes.length===0||o.loading){o.isEffectivelyChecked=o.disabled||o.checked;return}const{all:a,none:i,half:d,isEffectivelyChecked:t}=Ut(o.childNodes);o.isEffectivelyChecked=t,a?(o.checked=!0,o.indeterminate=!1):d?(o.checked=!1,o.indeterminate=!0):i&&(o.checked=!1,o.indeterminate=!1);const l=o.parent;!l||l.level===0||o.store.checkStrictly||_e(l)},Qe=function(o,a){const i=o.store.props,d=o.data||{},t=i[a];if(Ve(t))return t(d,o);if($t(t))return d[t];if(Be(t)){const l=d[a];return Be(l)?"":l}},pt=function(o,a){o.forEach(i=>{i.canFocus=a,pt(i.childNodes,a)})};let ea=0;class xe{constructor(a){this.isLeafByUser=void 0,this.isLeaf=void 0,this.isEffectivelyChecked=!1,this.id=ea++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in a)st(a,i)&&(this[i]=a[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var a;const i=this.store;if(!i)throw new Error("[Node]store is required!");i.registerNode(this);const d=i.props;if(d&&typeof d.isLeaf<"u"){const p=Qe(this,"isLeaf");it(p)&&(this.isLeafByUser=p)}if(i.lazy!==!0&&this.data?(this.setData(this.data),i.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&i.lazy&&i.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Je(this.data)||Kt(this,this.data),!this.data)return;const t=i.defaultExpandedKeys,l=i.key;l&&!ut(this.key)&&t&&t.includes(this.key)&&this.expand(null,i.autoExpandParent),l&&i.currentNodeKey!==void 0&&this.key===i.currentNodeKey&&(i.currentNode&&(i.currentNode.isCurrent=!1),i.currentNode=this,i.currentNode.isCurrent=!0),i.lazy&&i._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((a=this.parent)==null?void 0:a.expanded)===!0)&&(this.canFocus=!0)}setData(a){Je(a)||Kt(this,a),this.data=a,this.childNodes=[];let i;this.level===0&&Je(this.data)?i=this.data:i=Qe(this,"children")||[];for(let d=0,t=i.length;d<t;d++)this.insertChild({data:i[d]})}get label(){return Qe(this,"label")}get key(){const a=this.store.key;return this.data?this.data[a]:null}get disabled(){return Qe(this,"disabled")}get nextSibling(){const a=this.parent;if(a){const i=a.childNodes.indexOf(this);if(i>-1)return a.childNodes[i+1]}return null}get previousSibling(){const a=this.parent;if(a){const i=a.childNodes.indexOf(this);if(i>-1)return i>0?a.childNodes[i-1]:null}return null}contains(a,i=!0){return(this.childNodes||[]).some(d=>d===a||i&&d.contains(a))}remove(){const a=this.parent;a&&a.removeChild(this)}insertChild(a,i,d){if(!a)throw new Error("InsertChild error: child is required.");if(!(a instanceof xe)){if(!d){const t=this.getChildren(!0);t?.includes(a.data)||(Be(i)||i<0?t?.push(a.data):t?.splice(i,0,a.data))}Object.assign(a,{parent:this,store:this.store}),a=mr(new xe(a)),a instanceof xe&&a.initialize()}a.level=this.level+1,Be(i)||i<0?this.childNodes.push(a):this.childNodes.splice(i,0,a),this.updateLeafState()}insertBefore(a,i){let d;i&&(d=this.childNodes.indexOf(i)),this.insertChild(a,d)}insertAfter(a,i){let d;i&&(d=this.childNodes.indexOf(i),d!==-1&&(d+=1)),this.insertChild(a,d)}removeChild(a){const i=this.getChildren()||[],d=i.indexOf(a.data);d>-1&&i.splice(d,1);const t=this.childNodes.indexOf(a);t>-1&&(this.store&&this.store.deregisterNode(a),a.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(a){const i=this.childNodes.find(d=>d.data===a);i&&this.removeChild(i)}expand(a,i){const d=()=>{if(i){let t=this.parent;for(;t&&t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,a&&a(),pt(this.childNodes,!0)};this.shouldLoadData()?this.loadData(t=>{Je(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||_e(this),d())}):d()}doCreateChildren(a,i={}){a.forEach(d=>{this.insertChild(Object.assign({data:d},i),void 0,!0)})}collapse(){this.expanded=!1,pt(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}const a=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!a||a.length===0,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}this.isLeaf=!1}setChecked(a,i,d,t){if(this.indeterminate=a==="half",this.checked=a===!0,this.isEffectivelyChecked=!this.childNodes.length&&(this.disabled||this.checked),this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const p=()=>{if(i){const k=this.childNodes;for(let x=0,D=k.length;x<D;x++){const v=k[x];t=t||a!==!1;const L=v.disabled&&v.isLeaf?v.checked:t;v.setChecked(L,i,!0,t)}const{half:A,all:b,isEffectivelyChecked:N}=Ut(k);b||(this.checked=b,this.indeterminate=A),this.isEffectivelyChecked=this.childNodes.length?N:this.disabled||this.checked}};if(this.shouldLoadData()){this.loadData(()=>{p(),_e(this)},{checked:a!==!1});return}else p()}const l=this.parent;!l||l.level===0||d||_e(l)}getChildren(a=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const d=this.store.props;let t="children";return d&&(t=d.children||"children"),Be(i[t])&&(i[t]=null),a&&!i[t]&&(i[t]=[]),i[t]}updateChildren(){const a=this.getChildren()||[],i=this.childNodes.map(l=>l.data),d={},t=[];a.forEach((l,p)=>{const k=l[Oe];!!k&&i.some(b=>b?.[Oe]===k)?d[k]={index:p,data:l}:t.push({index:p,data:l})}),this.store.lazy||i.forEach(l=>{d[l?.[Oe]]||this.removeChildByData(l)}),t.forEach(({index:l,data:p})=>{this.insertChild({data:p},l)}),this.updateLeafState()}loadData(a,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const d=l=>{this.childNodes=[],this.doCreateChildren(l,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),a&&a.call(this,l)},t=()=>{this.loading=!1};this.store.load(this,d,t)}else a&&a.call(this)}eachNode(a){const i=[this];for(;i.length;){const d=i.shift();i.unshift(...d.childNodes),a(d)}}reInitChecked(){this.store.checkStrictly||_e(this)}}class ta{constructor(a){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const i in a)st(a,i)&&(this[i]=a[i]);this.nodesMap={}}initialize(){if(this.root=new xe({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const a=this.load;a(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()},gr)}else this._initDefaultCheckedNodes()}filter(a){const i=this.filterNodeMethod,d=this.lazy,t=async function(l){const p=l.root?l.root.childNodes:l.childNodes;for(const[k,A]of p.entries())A.visible=!!i?.call(A,a,A.data,A),k%80===0&&k>0&&await dt(),await t(A);if(!l.visible&&p.length){let k=!0;k=!p.some(A=>A.visible),l.root?l.root.visible=k===!1:l.visible=k===!1}a&&l.visible&&!l.isLeaf&&(!d||l.loaded)&&l.expand()};t(this)}setData(a){a!==this.root.data?(this.nodesMap={},this.root.setData(a),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(a){if(a instanceof xe)return a;const i=yr(a)?gt(this.key,a):a;return this.nodesMap[i]||null}insertBefore(a,i){var d;const t=this.getNode(i);(d=t.parent)==null||d.insertBefore({data:a},t)}insertAfter(a,i){var d;const t=this.getNode(i);(d=t.parent)==null||d.insertAfter({data:a},t)}remove(a){const i=this.getNode(a);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(a,i){const d=jt(i)?this.root:this.getNode(i);d&&d.insertChild({data:a})}_initDefaultCheckedNodes(){const a=this.defaultCheckedKeys||[],i=this.nodesMap;a.forEach(d=>{const t=i[d];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(a){const i=this.defaultCheckedKeys||[];!ut(a.key)&&i.includes(a.key)&&a.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(a){a!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=a,this._initDefaultCheckedNodes())}registerNode(a){const i=this.key;if(!(!a||!a.data))if(!i)this.nodesMap[a.id]=a;else{const d=a.key;ut(d)||(this.nodesMap[d]=a)}}deregisterNode(a){!this.key||!a||!a.data||(a.childNodes.forEach(d=>{this.deregisterNode(d)}),delete this.nodesMap[a.key])}getCheckedNodes(a=!1,i=!1){const d=[],t=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(k=>{(k.checked||i&&k.indeterminate)&&(!a||a&&k.isLeaf)&&d.push(k.data),t(k)})};return t(this),d}getCheckedKeys(a=!1){return this.getCheckedNodes(a).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const a=[],i=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(l=>{l.indeterminate&&a.push(l.data),i(l)})};return i(this),a}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(a=>(a||{})[this.key])}_getAllNodes(){const a=[],i=this.nodesMap;for(const d in i)st(i,d)&&a.push(i[d]);return a}updateChildren(a,i){const d=this.nodesMap[a];if(!d)return;const t=d.childNodes;for(let l=t.length-1;l>=0;l--){const p=t[l];this.remove(p.data)}for(let l=0,p=i.length;l<p;l++){const k=i[l];this.append(k,d.data)}}_setCheckedKeys(a,i=!1,d){const t=this._getAllNodes().sort((A,b)=>A.level-b.level),l=Object.create(null),p=Object.keys(d);t.forEach(A=>A.setChecked(!1,!1));const k=A=>{A.childNodes.forEach(b=>{var N;l[b.data[a]]=!0,(N=b.childNodes)!=null&&N.length&&k(b)})};for(let A=0,b=t.length;A<b;A++){const N=t[A],x=N.data[a].toString();if(!p.includes(x)){N.checked&&!l[x]&&N.setChecked(!1,!1);continue}if(N.childNodes.length&&k(N),N.isLeaf||this.checkStrictly){N.setChecked(!0,!1);continue}if(N.setChecked(!0,!0),i){N.setChecked(!1,!1);const v=function(L){L.childNodes.forEach(C=>{C.isLeaf||C.setChecked(!1,!1),v(C)})};v(N)}}}setCheckedNodes(a,i=!1){const d=this.key,t={};a.forEach(l=>{t[(l||{})[d]]=!0}),this._setCheckedKeys(d,i,t)}setCheckedKeys(a,i=!1){this.defaultCheckedKeys=a;const d=this.key,t={};a.forEach(l=>{t[l]=!0}),this._setCheckedKeys(d,i,t)}setDefaultExpandedKeys(a){a=a||[],this.defaultExpandedKeys=a,a.forEach(i=>{const d=this.getNode(i);d&&d.expand(null,this.autoExpandParent)})}setChecked(a,i,d){const t=this.getNode(a);t&&t.setChecked(!!i,d)}getCurrentNode(){return this.currentNode}setCurrentNode(a){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=a,this.currentNode.isCurrent=!0}setUserCurrentNode(a,i=!0){var d;const t=a[this.key],l=this.nodesMap[t];this.setCurrentNode(l),i&&this.currentNode&&this.currentNode.level>1&&((d=this.currentNode.parent)==null||d.expand(null,!0))}setCurrentNodeKey(a,i=!0){var d;if(this.currentNodeKey=a,jt(a)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const t=this.getNode(a);t&&(this.setCurrentNode(t),i&&this.currentNode&&this.currentNode.level>1&&((d=this.currentNode.parent)==null||d.expand(null,!0)))}}const yt="RootTree",zt="NodeInstance",Rt="TreeNodeMap",na=Ue({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(o){const a=Te("tree"),i=$e(zt),d=$e(yt);return()=>{const t=o.node,{data:l,store:p}=t;return o.renderContent?o.renderContent(St,{_self:i,node:t,data:l,store:p}):mt(d.ctx.slots,"default",{node:t,data:l},()=>[St($r,{tag:"span",truncated:!0,class:a.be("node","label")},()=>[t.label])])}}});var ra=Ye(na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function Mt(o){const a=$e(Rt,null);let i={treeNodeExpand:d=>{var t;o.node!==d&&((t=o.node)==null||t.collapse())},children:new Set};return a&&a.children.add(i),vr(()=>{a&&a.children.delete(i),i=null}),Fe(Rt,i),{broadcastExpanded:d=>{if(o.accordion)for(const t of i.children)t.treeNodeExpand(d)}}}const Ht=Symbol("dragEvents");function aa({props:o,ctx:a,el$:i,dropIndicator$:d,store:t}){const l=Te("tree"),p=X({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Fe(Ht,{treeNodeDragStart:({event:N,treeNode:x})=>{if(N.dataTransfer){if(Ve(o.allowDrag)&&!o.allowDrag(x.node))return N.preventDefault(),!1;N.dataTransfer.effectAllowed="move";try{N.dataTransfer.setData("text/plain","")}catch{}p.value.draggingNode=x,a.emit("node-drag-start",x.node,N)}},treeNodeDragOver:({event:N,treeNode:x})=>{if(!N.dataTransfer)return;const D=x,v=p.value.dropNode;v&&v.node.id!==D.node.id&&ot(v.$el,l.is("drop-inner"));const L=p.value.draggingNode;if(!L||!D)return;let B=!0,C=!0,G=!0,H=!0;Ve(o.allowDrop)&&(B=o.allowDrop(L.node,D.node,"prev"),H=C=o.allowDrop(L.node,D.node,"inner"),G=o.allowDrop(L.node,D.node,"next")),N.dataTransfer.dropEffect=C||B||G?"move":"none",(B||C||G)&&v?.node.id!==D.node.id&&(v&&a.emit("node-drag-leave",L.node,v.node,N),a.emit("node-drag-enter",L.node,D.node,N)),B||C||G?p.value.dropNode=D:p.value.dropNode=null,D.node.nextSibling===L.node&&(G=!1),D.node.previousSibling===L.node&&(B=!1),D.node.contains(L.node,!1)&&(C=!1),(L.node===D.node||L.node.contains(D.node))&&(B=!1,C=!1,G=!1);const te=D.$el,Q=te.querySelector(`.${l.be("node","content")}`).getBoundingClientRect(),E=i.value.getBoundingClientRect(),U=i.value.scrollTop;let Y;const de=B?C?.25:G?.45:1:Number.NEGATIVE_INFINITY,j=G?C?.75:B?.55:0:Number.POSITIVE_INFINITY;let O=-9999;const I=N.clientY-Q.top;I<Q.height*de?Y="before":I>Q.height*j?Y="after":C?Y="inner":Y="none";const Z=te.querySelector(`.${l.be("node","expand-icon")}`).getBoundingClientRect(),ge=d.value;Y==="before"?O=Z.top-E.top+U:Y==="after"&&(O=Z.bottom-E.top+U),ge.style.top=`${O}px`,ge.style.left=`${Z.right-E.left}px`,Y==="inner"?kr(te,l.is("drop-inner")):ot(te,l.is("drop-inner")),p.value.showDropIndicator=Y==="before"||Y==="after",p.value.allowDrop=p.value.showDropIndicator||H,p.value.dropType=Y,a.emit("node-drag-over",L.node,D.node,N)},treeNodeDragEnd:N=>{var x,D;const{draggingNode:v,dropType:L,dropNode:B}=p.value;if(N.preventDefault(),N.dataTransfer&&(N.dataTransfer.dropEffect="move"),v?.node.data&&B){const C={data:v.node.data};L!=="none"&&v.node.remove(),L==="before"?(x=B.node.parent)==null||x.insertBefore(C,B.node):L==="after"?(D=B.node.parent)==null||D.insertAfter(C,B.node):L==="inner"&&B.node.insertChild(C),L!=="none"&&(t.value.registerNode(C),t.value.key&&v.node.eachNode(G=>{var H;(H=t.value.nodesMap[G.data[t.value.key]])==null||H.setChecked(G.checked,!t.value.checkStrictly)})),ot(B.$el,l.is("drop-inner")),a.emit("node-drag-end",v.node,B.node,L,N),L!=="none"&&a.emit("node-drop",v.node,B.node,L,N)}v&&!B&&a.emit("node-drag-end",v.node,null,L,N),p.value.showDropIndicator=!1,p.value.draggingNode=null,p.value.dropNode=null,p.value.allowDrop=!0}}),{dragState:p}}const oa=Ue({name:"ElTreeNode",components:{ElCollapseTransition:Zr,ElCheckbox:Lr,NodeContent:ra,ElIcon:wr,Loading:Cr},props:{node:{type:xe,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(o,a){const i=Te("tree"),{broadcastExpanded:d}=Mt(o),t=$e(yt),l=X(!1),p=X(!1),k=X(),A=X(),b=X(),N=$e(Ht),x=Ft();Fe(zt,x),o.node.expanded&&(l.value=!0,p.value=!0);const D=t.props.props.children||"children";fe(()=>{var j;const O=(j=o.node.data)==null?void 0:j[D];return O&&[...O]},()=>{o.node.updateChildren()}),fe(()=>o.node.indeterminate,j=>{B(o.node.checked,j)}),fe(()=>o.node.checked,j=>{B(j,o.node.indeterminate)}),fe(()=>o.node.childNodes.length,()=>o.node.reInitChecked()),fe(()=>o.node.expanded,j=>{dt(()=>l.value=j),j&&(p.value=!0)});const v=j=>gt(t.props.nodeKey,j.data),L=j=>{const O=o.props.class;if(!O)return{};let I;if(Ve(O)){const{data:Z}=j;I=O(Z,j)}else I=O;return $t(I)?{[I]:!0}:I},B=(j,O)=>{(k.value!==j||A.value!==O)&&t.ctx.emit("check-change",o.node.data,j,O),k.value=j,A.value=O},C=j=>{ht(t.store,t.ctx.emit,()=>{var O;if((O=t?.props)==null?void 0:O.nodeKey){const Z=v(o.node);t.store.value.setCurrentNodeKey(Z)}else t.store.value.setCurrentNode(o.node)}),t.currentNode.value=o.node,t.props.expandOnClickNode&&H(),(t.props.checkOnClickNode||o.node.isLeaf&&t.props.checkOnClickLeaf&&o.showCheckbox)&&!o.node.disabled&&te(!o.node.checked),t.ctx.emit("node-click",o.node.data,o.node,x,j)},G=j=>{var O;(O=t.instance.vnode.props)!=null&&O.onNodeContextmenu&&(j.stopPropagation(),j.preventDefault()),t.ctx.emit("node-contextmenu",j,o.node.data,o.node,x)},H=()=>{o.node.isLeaf||(l.value?(t.ctx.emit("node-collapse",o.node.data,o.node,x),o.node.collapse()):o.node.expand(()=>{a.emit("node-expand",o.node.data,o.node,x)}))},te=j=>{const O=t?.props.checkStrictly,I=o.node.childNodes;!O&&I.length&&(j=I.some(Z=>!Z.isEffectivelyChecked)),o.node.setChecked(j,!O),dt(()=>{const Z=t.store.value;t.ctx.emit("check",o.node.data,{checkedNodes:Z.getCheckedNodes(),checkedKeys:Z.getCheckedKeys(),halfCheckedNodes:Z.getHalfCheckedNodes(),halfCheckedKeys:Z.getHalfCheckedKeys()})})};return{ns:i,node$:b,tree:t,expanded:l,childNodeRendered:p,oldChecked:k,oldIndeterminate:A,getNodeKey:v,getNodeClass:L,handleSelectChange:B,handleClick:C,handleContextMenu:G,handleExpandIconClick:H,handleCheckChange:te,handleChildNodeExpand:(j,O,I)=>{d(O),t.ctx.emit("node-expand",j,O,I)},handleDragStart:j=>{t.props.draggable&&N.treeNodeDragStart({event:j,treeNode:o})},handleDragOver:j=>{j.preventDefault(),t.props.draggable&&N.treeNodeDragOver({event:j,treeNode:{$el:b.value,node:o.node}})},handleDrop:j=>{j.preventDefault()},handleDragEnd:j=>{t.props.draggable&&N.treeNodeDragEnd(j)},CaretRight:Er}}}),sa=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],ia=["aria-expanded"];function ua(o,a,i,d,t,l){const p=Ee("el-icon"),k=Ee("el-checkbox"),A=Ee("loading"),b=Ee("node-content"),N=Ee("el-tree-node"),x=Ee("el-collapse-transition");return lt((K(),M("div",{ref:"node$",class:me([o.ns.b("node"),o.ns.is("expanded",o.expanded),o.ns.is("current",o.node.isCurrent),o.ns.is("hidden",!o.node.visible),o.ns.is("focusable",!o.node.disabled),o.ns.is("checked",!o.node.disabled&&o.node.checked),o.getNodeClass(o.node)]),role:"treeitem",tabindex:"-1","aria-expanded":o.expanded,"aria-disabled":o.node.disabled,"aria-checked":o.node.checked,draggable:o.tree.props.draggable,"data-key":o.getNodeKey(o.node),onClick:a[2]||(a[2]=be((...D)=>o.handleClick&&o.handleClick(...D),["stop"])),onContextmenu:a[3]||(a[3]=(...D)=>o.handleContextMenu&&o.handleContextMenu(...D)),onDragstart:a[4]||(a[4]=be((...D)=>o.handleDragStart&&o.handleDragStart(...D),["stop"])),onDragover:a[5]||(a[5]=be((...D)=>o.handleDragOver&&o.handleDragOver(...D),["stop"])),onDragend:a[6]||(a[6]=be((...D)=>o.handleDragEnd&&o.handleDragEnd(...D),["stop"])),onDrop:a[7]||(a[7]=be((...D)=>o.handleDrop&&o.handleDrop(...D),["stop"]))},[z("div",{class:me(o.ns.be("node","content")),style:Nr({paddingLeft:(o.node.level-1)*o.tree.props.indent+"px"})},[o.tree.props.icon||o.CaretRight?(K(),ie(p,{key:0,class:me([o.ns.be("node","expand-icon"),o.ns.is("leaf",o.node.isLeaf),{expanded:!o.node.isLeaf&&o.expanded}]),onClick:be(o.handleExpandIconClick,["stop"])},{default:W(()=>[(K(),ie(br(o.tree.props.icon||o.CaretRight)))]),_:1},8,["class","onClick"])):V("v-if",!0),o.showCheckbox?(K(),ie(k,{key:1,"model-value":o.node.checked,indeterminate:o.node.indeterminate,disabled:!!o.node.disabled,onClick:a[0]||(a[0]=be(()=>{},["stop"])),onChange:o.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):V("v-if",!0),o.node.loading?(K(),ie(p,{key:2,class:me([o.ns.be("node","loading-icon"),o.ns.is("loading")])},{default:W(()=>[ee(A)]),_:1},8,["class"])):V("v-if",!0),ee(b,{node:o.node,"render-content":o.renderContent},null,8,["node","render-content"])],6),ee(x,null,{default:W(()=>[!o.renderAfterExpand||o.childNodeRendered?lt((K(),M("div",{key:0,class:me(o.ns.be("node","children")),role:"group","aria-expanded":o.expanded,onClick:a[1]||(a[1]=be(()=>{},["stop"]))},[(K(!0),M(pe,null,Le(o.node.childNodes,D=>(K(),ie(N,{key:o.getNodeKey(D),"render-content":o.renderContent,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,node:D,accordion:o.accordion,props:o.props,onNodeExpand:o.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,ia)),[[ct,o.expanded]]):V("v-if",!0)]),_:1})],42,sa)),[[ct,o.node.visible]])}var da=Ye(oa,[["render",ua],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function la({el$:o},a){const i=Te("tree");xr(()=>{l()}),Dr(()=>{var p;(p=o.value)==null||p.querySelectorAll("input[type=checkbox]").forEach(k=>{k.setAttribute("tabindex","-1")})});function d(p,k){var A,b;const N=a.value.getNode(p[k].dataset.key);return N.canFocus&&N.visible&&(((A=N.parent)==null?void 0:A.expanded)||((b=N.parent)==null?void 0:b.level)===0)}Ir(o,"keydown",p=>{const k=p.target;if(!k.className.includes(i.b("node")))return;const A=Pr(p),b=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),N=b.indexOf(k);let x;if([Ne.up,Ne.down].includes(A)){if(p.preventDefault(),A===Ne.up){x=N===-1?0:N!==0?N-1:b.length-1;const v=x;for(;!d(b,x);){if(x--,x===v){x=-1;break}x<0&&(x=b.length-1)}}else{x=N===-1?0:N<b.length-1?N+1:0;const v=x;for(;!d(b,x);){if(x++,x===v){x=-1;break}x>=b.length&&(x=0)}}x!==-1&&b[x].focus()}[Ne.left,Ne.right].includes(A)&&(p.preventDefault(),k.click());const D=k.querySelector('[type="checkbox"]');[Ne.enter,Ne.numpadEnter,Ne.space].includes(A)&&D&&(p.preventDefault(),D.click())});const l=()=>{var p;if(!o.value)return;const k=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));Array.from(o.value.querySelectorAll("input[type=checkbox]")).forEach(N=>{N.setAttribute("tabindex","-1")});const b=o.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(b.length){b[0].setAttribute("tabindex","0");return}(p=k[0])==null||p.setAttribute("tabindex","0")}}const ca=Or({data:{type:Ge(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:{type:Array},defaultExpandedKeys:{type:Array},currentNodeKey:{type:[String,Number]},renderContent:{type:Ge(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:Ge(Function)},allowDrop:{type:Ge(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:{type:Function},filterNodeMethod:{type:Function},accordion:Boolean,indent:{type:Number,default:18},icon:{type:Tr}}),fa={"check-change":(o,a,i)=>o&&it(a)&&it(i),"current-change":(o,a)=>!0,"node-click":(o,a,i,d)=>o&&a&&d instanceof Event,"node-contextmenu":(o,a,i,d)=>o instanceof Event&&a&&i,"node-collapse":(o,a,i)=>o&&a,"node-expand":(o,a,i)=>o&&a,check:(o,a)=>o&&a,"node-drag-start":(o,a)=>o&&a,"node-drag-end":(o,a,i,d)=>o&&d,"node-drop":(o,a,i,d)=>o&&a&&d,"node-drag-leave":(o,a,i)=>o&&a&&i,"node-drag-enter":(o,a,i)=>o&&a&&i,"node-drag-over":(o,a,i)=>o&&a&&i},ha=Ue({name:"ElTree",components:{ElTreeNode:da},props:ca,emits:fa,setup(o,a){const{t:i}=jr(),d=Te("tree"),t=X(new ta({key:o.nodeKey,data:o.data,lazy:o.lazy,props:o.props,load:o.load,currentNodeKey:o.currentNodeKey,checkStrictly:o.checkStrictly,checkDescendants:o.checkDescendants,defaultCheckedKeys:o.defaultCheckedKeys,defaultExpandedKeys:o.defaultExpandedKeys,autoExpandParent:o.autoExpandParent,defaultExpandAll:o.defaultExpandAll,filterNodeMethod:o.filterNodeMethod}));t.value.initialize();const l=X(t.value.root),p=X(null),k=X(null),A=X(null),{broadcastExpanded:b}=Mt(o),{dragState:N}=aa({props:o,ctx:a,el$:k,dropIndicator$:A,store:t});la({el$:k},t);const x=Ft(),D=ft(()=>{let w=x?.parent;for(;w;){if(w.type.name==="ElTreeSelect")return!0;w=w.parent}return!1}),v=ft(()=>{const{childNodes:w}=l.value;return(!w||w.length===0||w.every(({visible:F})=>!F))&&!D.value});fe(()=>o.currentNodeKey,w=>{t.value.setCurrentNodeKey(w??null)}),fe(()=>o.defaultCheckedKeys,(w,F)=>{Sr(w,F)||t.value.setDefaultCheckedKey(w??[])}),fe(()=>o.defaultExpandedKeys,w=>{t.value.setDefaultExpandedKeys(w??[])}),fe(()=>o.data,w=>{t.value.setData(w)},{deep:!0}),fe(()=>o.checkStrictly,w=>{t.value.checkStrictly=w});const L=w=>{if(!o.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");t.value.filter(w)},B=w=>gt(o.nodeKey,w.data),C=w=>{if(!o.nodeKey)throw new Error(`[Tree] nodeKey is required in ${w}`)},G=w=>{C("getNodePath");const F=t.value.getNode(w);if(!F)return[];const ve=[F.data];let Ce=F.parent;for(;Ce&&Ce!==l.value;)ve.push(Ce.data),Ce=Ce.parent;return ve.reverse()},H=(w,F)=>t.value.getCheckedNodes(w,F),te=w=>t.value.getCheckedKeys(w),Q=()=>{const w=t.value.getCurrentNode();return w?w.data:null},E=()=>{C("getCurrentKey");const w=Q();return w?w[o.nodeKey]:null},U=(w,F)=>{C("setCheckedNodes"),t.value.setCheckedNodes(w,F)},Y=(w,F)=>{C("setCheckedKeys"),t.value.setCheckedKeys(w,F)},de=(w,F,ve)=>{t.value.setChecked(w,F,ve)},j=()=>t.value.getHalfCheckedNodes(),O=()=>t.value.getHalfCheckedKeys(),I=(w,F=!0)=>{C("setCurrentNode"),ht(t,a.emit,()=>{b(w),t.value.setUserCurrentNode(w,F)})},Z=(w=null,F=!0)=>{C("setCurrentKey"),ht(t,a.emit,()=>{b(),t.value.setCurrentNodeKey(w,F)})},ge=w=>t.value.getNode(w),De=w=>{t.value.remove(w)},le=(w,F)=>{t.value.append(w,F)},je=(w,F)=>{t.value.insertBefore(w,F)},Se=(w,F)=>{t.value.insertAfter(w,F)},R=(w,F,ve)=>{b(F),a.emit("node-expand",w,F,ve)},ye=(w,F)=>{C("updateKeyChild"),t.value.updateChildren(w,F)};return Fe(yt,{ctx:a,props:o,store:t,root:l,currentNode:p,instance:x}),Fe(qr,void 0),{ns:d,store:t,root:l,currentNode:p,dragState:N,el$:k,dropIndicator$:A,isEmpty:v,filter:L,getNodeKey:B,getNodePath:G,getCheckedNodes:H,getCheckedKeys:te,getCurrentNode:Q,getCurrentKey:E,setCheckedNodes:U,setCheckedKeys:Y,setChecked:de,getHalfCheckedNodes:j,getHalfCheckedKeys:O,setCurrentNode:I,setCurrentKey:Z,t:i,getNode:ge,remove:De,append:le,insertBefore:je,insertAfter:Se,handleNodeExpand:R,updateKeyChildren:ye}}});function pa(o,a,i,d,t,l){const p=Ee("el-tree-node");return K(),M("div",{ref:"el$",class:me([o.ns.b(),o.ns.is("dragging",!!o.dragState.draggingNode),o.ns.is("drop-not-allow",!o.dragState.allowDrop),o.ns.is("drop-inner",o.dragState.dropType==="inner"),{[o.ns.m("highlight-current")]:o.highlightCurrent}]),role:"tree"},[(K(!0),M(pe,null,Le(o.root.childNodes,k=>(K(),ie(p,{key:o.getNodeKey(k),node:k,props:o.props,accordion:o.accordion,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,"render-content":o.renderContent,onNodeExpand:o.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),o.isEmpty?(K(),M("div",{key:0,class:me(o.ns.e("empty-block"))},[mt(o.$slots,"empty",{},()=>{var k;return[z("span",{class:me(o.ns.e("empty-text"))},ae((k=o.emptyText)!=null?k:o.t("el.tree.emptyText")),3)]})],2)):V("v-if",!0),lt(z("div",{ref:"dropIndicator$",class:me(o.ns.e("drop-indicator"))},null,2),[[ct,o.dragState.showDropIndicator]])],2)}var ma=Ye(ha,[["render",pa],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);const ga=Lt(ma);var We={exports:{}};var ya=We.exports,_t;function va(){return _t||(_t=1,(function(o,a){(function(i,d){o.exports=d()})(ya,(function(){function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),r.push.apply(r,s)}return r}function t(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(s){i(e,s,r[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))}))}return e}function l(e,n){if(e==null)return{};var r,s,u=(function(m,g){if(m==null)return{};var f,h,y={},P=Object.keys(m);for(h=0;h<P.length;h++)f=P[h],g.indexOf(f)>=0||(y[f]=m[f]);return y})(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(s=0;s<c.length;s++)r=c[s],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}function p(e,n){return(function(r){if(Array.isArray(r))return r})(e)||(function(r,s){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var u=[],c=!0,m=!1,g=void 0;try{for(var f,h=r[Symbol.iterator]();!(c=(f=h.next()).done)&&(u.push(f.value),!s||u.length!==s);c=!0);}catch(y){m=!0,g=y}finally{try{c||h.return==null||h.return()}finally{if(m)throw g}}return u}})(e,n)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function k(e){return(function(n){if(Array.isArray(n)){for(var r=0,s=new Array(n.length);r<n.length;r++)s[r]=n[r];return s}})(e)||(function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function A(e){var n,r="algoliasearch-client-js-".concat(e.key),s=function(){return n===void 0&&(n=e.localStorage||window.localStorage),n},u=function(){return JSON.parse(s().getItem(r)||"{}")},c=function(g){s().setItem(r,JSON.stringify(g))},m=function(){var g=e.timeToLive?1e3*e.timeToLive:null,f=u(),h=Object.fromEntries(Object.entries(f).filter((function(P){return p(P,2)[1].timestamp!==void 0})));if(c(h),g){var y=Object.fromEntries(Object.entries(h).filter((function(P){var T=p(P,2)[1],_=new Date().getTime();return!(T.timestamp+g<_)})));c(y)}};return{get:function(g,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){m();var y=JSON.stringify(g);return u()[y]})).then((function(y){return Promise.all([y?y.value:f(),y!==void 0])})).then((function(y){var P=p(y,2),T=P[0],_=P[1];return Promise.all([T,_||h.miss(T)])})).then((function(y){return p(y,1)[0]}))},set:function(g,f){return Promise.resolve().then((function(){var h=u();return h[JSON.stringify(g)]={timestamp:new Date().getTime(),value:f},s().setItem(r,JSON.stringify(h)),f}))},delete:function(g){return Promise.resolve().then((function(){var f=u();delete f[JSON.stringify(g)],s().setItem(r,JSON.stringify(f))}))},clear:function(){return Promise.resolve().then((function(){s().removeItem(r)}))}}}function b(e){var n=k(e.caches),r=n.shift();return r===void 0?{get:function(s,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},m=u();return m.then((function(g){return Promise.all([g,c.miss(g)])})).then((function(g){return p(g,1)[0]}))},set:function(s,u){return Promise.resolve(u)},delete:function(s){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(s,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(s,u,c).catch((function(){return b({caches:n}).get(s,u,c)}))},set:function(s,u){return r.set(s,u).catch((function(){return b({caches:n}).set(s,u)}))},delete:function(s){return r.delete(s).catch((function(){return b({caches:n}).delete(s)}))},clear:function(){return r.clear().catch((function(){return b({caches:n}).clear()}))}}}function N(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},n={};return{get:function(r,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},c=JSON.stringify(r);if(c in n)return Promise.resolve(e.serializable?JSON.parse(n[c]):n[c]);var m=s(),g=u&&u.miss||function(){return Promise.resolve()};return m.then((function(f){return g(f)})).then((function(){return m}))},set:function(r,s){return n[JSON.stringify(r)]=e.serializable?JSON.stringify(s):s,Promise.resolve(s)},delete:function(r){return delete n[JSON.stringify(r)],Promise.resolve()},clear:function(){return n={},Promise.resolve()}}}function x(e,n,r){var s={"x-algolia-api-key":r,"x-algolia-application-id":n};return{headers:function(){return e===G.WithinHeaders?s:{}},queryParameters:function(){return e===G.WithinQueryParameters?s:{}}}}function D(e){var n=0;return e((function r(){return n++,new Promise((function(s){setTimeout((function(){s(e(r))}),Math.min(100*n,1e3))}))}))}function v(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,s){return Promise.resolve()};return Object.assign(e,{wait:function(r){return v(e.then((function(s){return Promise.all([n(s,r),s])})).then((function(s){return s[1]})))}})}function L(e){for(var n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),s=e[n];e[n]=e[r],e[r]=s}return e}function B(e,n){return n&&Object.keys(n).forEach((function(r){e[r]=n[r](e)})),e}function C(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var u=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[u++])}))}var G={WithinQueryParameters:0,WithinHeaders:1};function H(e,n){var r=e||{},s=r.data||{};return Object.keys(r).forEach((function(u){["timeout","headers","queryParameters","data","cacheable"].indexOf(u)===-1&&(s[u]=r[u])})),{data:Object.entries(s).length>0?s:void 0,timeout:r.timeout||n,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var te={Read:1,Write:2,Any:3},Q=1,E=2,U=3;function Y(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q;return t(t({},e),{},{status:n,lastUpdate:Date.now()})}function de(e){return typeof e=="string"?{protocol:"https",url:e,accept:te.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||te.Any}}var j="DELETE",O="GET",I="POST",Z="PUT";function ge(e,n){return Promise.all(n.map((function(r){return e.get(r,(function(){return Promise.resolve(Y(r))}))}))).then((function(r){var s=r.filter((function(m){return(function(g){return g.status===Q||Date.now()-g.lastUpdate>12e4})(m)})),u=r.filter((function(m){return(function(g){return g.status===U&&Date.now()-g.lastUpdate<=12e4})(m)})),c=[].concat(k(s),k(u));return{getTimeout:function(m,g){return(u.length===0&&m===0?1:u.length+3+m)*g},statelessHosts:c.length>0?c.map((function(m){return de(m)})):n}}))}function De(e,n,r,s){var u=[],c=(function(T,_){if(!(T.method===O||T.data===void 0&&_.data===void 0)){var q=Array.isArray(T.data)?T.data:t(t({},T.data),_.data);return JSON.stringify(q)}})(r,s),m=(function(T,_){var q=t(t({},T.headers),_.headers),$={};return Object.keys(q).forEach((function(J){var oe=q[J];$[J.toLowerCase()]=oe})),$})(e,s),g=r.method,f=r.method!==O?{}:t(t({},r.data),s.data),h=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),f),s.queryParameters),y=0,P=function T(_,q){var $=_.pop();if($===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:ye(u)};var J={data:c,headers:m,method:g,url:Se($,r.path,h),connectTimeout:q(y,e.timeouts.connect),responseTimeout:q(y,s.timeout)},oe=function(ue){var se={request:J,response:ue,host:$,triesLeft:_.length};return u.push(se),se},Ke={onSuccess:function(ue){return(function(se){try{return JSON.parse(se.content)}catch(we){throw(function(ke,Pe){return{name:"DeserializationError",message:ke,response:Pe}})(we.message,se)}})(ue)},onRetry:function(ue){var se=oe(ue);return ue.isTimedOut&&y++,Promise.all([e.logger.info("Retryable failure",w(se)),e.hostsCache.set($,Y($,ue.isTimedOut?U:E))]).then((function(){return T(_,q)}))},onFail:function(ue){throw oe(ue),(function(se,we){var ke=se.content,Pe=se.status,Re=ke;try{Re=JSON.parse(ke).message}catch{}return(function(He,at,cr){return{name:"ApiError",message:He,status:at,transporterStackTrace:cr}})(Re,Pe,we)})(ue,ye(u))}};return e.requester.send(J).then((function(ue){return(function(se,we){return(function(ke){var Pe=ke.status;return ke.isTimedOut||(function(Re){var He=Re.isTimedOut,at=Re.status;return!He&&~~at==0})(ke)||~~(Pe/100)!=2&&~~(Pe/100)!=4})(se)?we.onRetry(se):~~(se.status/100)==2?we.onSuccess(se):we.onFail(se)})(ue,Ke)}))};return ge(e.hostsCache,n).then((function(T){return P(k(T.statelessHosts).reverse(),T.getTimeout)}))}function le(e){var n=e.hostsCache,r=e.logger,s=e.requester,u=e.requestsCache,c=e.responsesCache,m=e.timeouts,g=e.userAgent,f=e.hosts,h=e.queryParameters,y={hostsCache:n,logger:r,requester:s,requestsCache:u,responsesCache:c,timeouts:m,userAgent:g,headers:e.headers,queryParameters:h,hosts:f.map((function(P){return de(P)})),read:function(P,T){var _=H(T,y.timeouts.read),q=function(){return De(y,y.hosts.filter((function(J){return(J.accept&te.Read)!=0})),P,_)};if((_.cacheable!==void 0?_.cacheable:P.cacheable)!==!0)return q();var $={request:P,mappedRequestOptions:_,transporter:{queryParameters:y.queryParameters,headers:y.headers}};return y.responsesCache.get($,(function(){return y.requestsCache.get($,(function(){return y.requestsCache.set($,q()).then((function(J){return Promise.all([y.requestsCache.delete($),J])}),(function(J){return Promise.all([y.requestsCache.delete($),Promise.reject(J)])})).then((function(J){var oe=p(J,2);return oe[0],oe[1]}))}))}),{miss:function(J){return y.responsesCache.set($,J)}})},write:function(P,T){return De(y,y.hosts.filter((function(_){return(_.accept&te.Write)!=0})),P,H(T,y.timeouts.write))}};return y}function je(e){var n={value:"Algolia for JavaScript (".concat(e,")"),add:function(r){var s="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return n.value.indexOf(s)===-1&&(n.value="".concat(n.value).concat(s)),n}};return n}function Se(e,n,r){var s=R(r),u="".concat(e.protocol,"://").concat(e.url,"/").concat(n.charAt(0)==="/"?n.substr(1):n);return s.length&&(u+="?".concat(s)),u}function R(e){return Object.keys(e).map((function(n){return C("%s=%s",n,(r=e[n],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(e[n]):e[n]));var r})).join("&")}function ye(e){return e.map((function(n){return w(n)}))}function w(e){var n=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),n)})})}var F=function(e){return function(n,r){return e.transporter.write({method:I,path:"2/abtests",data:n},r)}},ve=function(e){return function(n,r){return e.transporter.write({method:j,path:C("2/abtests/%s",n)},r)}},Ce=function(e){return function(n,r){return e.transporter.read({method:O,path:C("2/abtests/%s",n)},r)}},Gt=function(e){return function(n){return e.transporter.read({method:O,path:"2/abtests"},n)}},Qt=function(e){return function(n,r){return e.transporter.write({method:I,path:C("2/abtests/%s/stop",n)},r)}},Wt=function(e){return function(n){return e.transporter.read({method:O,path:"1/strategies/personalization"},n)}},Vt=function(e){return function(n,r){return e.transporter.write({method:I,path:"1/strategies/personalization",data:n},r)}};function Xe(e){return(function n(r){return e.request(r).then((function(s){if(e.batch!==void 0&&e.batch(s.hits),!e.shouldStop(s))return s.cursor?n({cursor:s.cursor}):n({page:(r.page||0)+1})}))})({})}var Yt=function(e){return function(n,r){var s=r||{},u=s.queryParameters,c=l(s,["queryParameters"]),m=t({acl:n},u!==void 0?{queryParameters:u}:{});return v(e.transporter.write({method:I,path:"1/keys",data:m},c),(function(g,f){return D((function(h){return qe(e)(g.key,f).catch((function(y){if(y.status!==404)throw y;return h()}))}))}))}},Xt=function(e){return function(n,r,s){var u=H(s);return u.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:I,path:"1/clusters/mapping",data:{cluster:r}},u)}},Zt=function(e){return function(n,r,s){return e.transporter.write({method:I,path:"1/clusters/mapping/batch",data:{users:n,cluster:r}},s)}},en=function(e){return function(n,r){return v(e.transporter.write({method:I,path:C("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),(function(s,u){return Ie(e)(s.taskID,u)}))}},ze=function(e){return function(n,r,s){return v(e.transporter.write({method:I,path:C("1/indexes/%s/operation",n),data:{operation:"copy",destination:r}},s),(function(u,c){return Ae(e)(n,{methods:{waitTask:ne}}).waitTask(u.taskID,c)}))}},tn=function(e){return function(n,r,s){return ze(e)(n,r,t(t({},s),{},{scope:[rt.Rules]}))}},nn=function(e){return function(n,r,s){return ze(e)(n,r,t(t({},s),{},{scope:[rt.Settings]}))}},rn=function(e){return function(n,r,s){return ze(e)(n,r,t(t({},s),{},{scope:[rt.Synonyms]}))}},an=function(e){return function(n,r){return n.method===O?e.transporter.read(n,r):e.transporter.write(n,r)}},on=function(e){return function(n,r){return v(e.transporter.write({method:j,path:C("1/keys/%s",n)},r),(function(s,u){return D((function(c){return qe(e)(n,u).then(c).catch((function(m){if(m.status!==404)throw m}))}))}))}},sn=function(e){return function(n,r,s){var u=r.map((function(c){return{action:"deleteEntry",body:{objectID:c}}}));return v(e.transporter.write({method:I,path:C("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},s),(function(c,m){return Ie(e)(c.taskID,m)}))}},qe=function(e){return function(n,r){return e.transporter.read({method:O,path:C("1/keys/%s",n)},r)}},vt=function(e){return function(n,r){return e.transporter.read({method:O,path:C("1/task/%s",n.toString())},r)}},un=function(e){return function(n){return e.transporter.read({method:O,path:"/1/dictionaries/*/settings"},n)}},dn=function(e){return function(n){return e.transporter.read({method:O,path:"1/logs"},n)}},ln=function(e){return function(n){return e.transporter.read({method:O,path:"1/clusters/mapping/top"},n)}},cn=function(e){return function(n,r){return e.transporter.read({method:O,path:C("1/clusters/mapping/%s",n)},r)}},fn=function(e){return function(n){var r=n||{},s=r.retrieveMappings,u=l(r,["retrieveMappings"]);return s===!0&&(u.getClusters=!0),e.transporter.read({method:O,path:"1/clusters/mapping/pending"},u)}},Ae=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s={transporter:e.transporter,appId:e.appId,indexName:n};return B(s,r.methods)}},hn=function(e){return function(n){return e.transporter.read({method:O,path:"1/keys"},n)}},pn=function(e){return function(n){return e.transporter.read({method:O,path:"1/clusters"},n)}},mn=function(e){return function(n){return e.transporter.read({method:O,path:"1/indexes"},n)}},gn=function(e){return function(n){return e.transporter.read({method:O,path:"1/clusters/mapping"},n)}},yn=function(e){return function(n,r,s){return v(e.transporter.write({method:I,path:C("1/indexes/%s/operation",n),data:{operation:"move",destination:r}},s),(function(u,c){return Ae(e)(n,{methods:{waitTask:ne}}).waitTask(u.taskID,c)}))}},vn=function(e){return function(n,r){return v(e.transporter.write({method:I,path:"1/indexes/*/batch",data:{requests:n}},r),(function(s,u){return Promise.all(Object.keys(s.taskID).map((function(c){return Ae(e)(c,{methods:{waitTask:ne}}).waitTask(s.taskID[c],u)})))}))}},kn=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:n}},r)}},kt=function(e){return function(n,r){var s=n.map((function(u){return t(t({},u),{},{params:R(u.params||{})})}));return e.transporter.read({method:I,path:"1/indexes/*/queries",data:{requests:s},cacheable:!0},r)}},bt=function(e){return function(n,r){return Promise.all(n.map((function(s){var u=s.params,c=u.facetName,m=u.facetQuery,g=l(u,["facetName","facetQuery"]);return Ae(e)(s.indexName,{methods:{searchForFacetValues:It}}).searchForFacetValues(c,m,t(t({},r),g))})))}},bn=function(e){return function(n,r){var s=H(r);return s.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:j,path:"1/clusters/mapping"},s)}},Nn=function(e){return function(n,r,s){var u=r.map((function(c){return{action:"addEntry",body:c}}));return v(e.transporter.write({method:I,path:C("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:u}},s),(function(c,m){return Ie(e)(c.taskID,m)}))}},Cn=function(e){return function(n,r){return v(e.transporter.write({method:I,path:C("1/keys/%s/restore",n)},r),(function(s,u){return D((function(c){return qe(e)(n,u).catch((function(m){if(m.status!==404)throw m;return c()}))}))}))}},wn=function(e){return function(n,r,s){var u=r.map((function(c){return{action:"addEntry",body:c}}));return v(e.transporter.write({method:I,path:C("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},s),(function(c,m){return Ie(e)(c.taskID,m)}))}},En=function(e){return function(n,r,s){return e.transporter.read({method:I,path:C("/1/dictionaries/%s/search",n),data:{query:r},cacheable:!0},s)}},xn=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/clusters/mapping/search",data:{query:n}},r)}},Dn=function(e){return function(n,r){return v(e.transporter.write({method:Z,path:"/1/dictionaries/*/settings",data:n},r),(function(s,u){return Ie(e)(s.taskID,u)}))}},In=function(e){return function(n,r){var s=Object.assign({},r),u=r||{},c=u.queryParameters,m=l(u,["queryParameters"]),g=c?{queryParameters:c}:{},f=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return v(e.transporter.write({method:Z,path:C("1/keys/%s",n),data:g},m),(function(h,y){return D((function(P){return qe(e)(n,y).then((function(T){return(function(_){return Object.keys(s).filter((function(q){return f.indexOf(q)!==-1})).every((function(q){if(Array.isArray(_[q])&&Array.isArray(s[q])){var $=_[q];return $.length===s[q].length&&$.every((function(J,oe){return J===s[q][oe]}))}return _[q]===s[q]}))})(T)?Promise.resolve():P()}))}))}))}},Ie=function(e){return function(n,r){return D((function(s){return vt(e)(n,r).then((function(u){return u.status!=="published"?s():void 0}))}))}},Nt=function(e){return function(n,r){return v(e.transporter.write({method:I,path:C("1/indexes/%s/batch",e.indexName),data:{requests:n}},r),(function(s,u){return ne(e)(s.taskID,u)}))}},Pn=function(e){return function(n){return Xe(t(t({shouldStop:function(r){return r.cursor===void 0}},n),{},{request:function(r){return e.transporter.read({method:I,path:C("1/indexes/%s/browse",e.indexName),data:r},n)}}))}},On=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Xe(t(t({shouldStop:function(s){return s.hits.length<r.hitsPerPage}},r),{},{request:function(s){return Pt(e)("",t(t({},r),s)).then((function(u){return t(t({},u),{},{hits:u.hits.map((function(c){return delete c._highlightResult,c}))})}))}}))}},Tn=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Xe(t(t({shouldStop:function(s){return s.hits.length<r.hitsPerPage}},r),{},{request:function(s){return Ot(e)("",t(t({},r),s)).then((function(u){return t(t({},u),{},{hits:u.hits.map((function(c){return delete c._highlightResult,c}))})}))}}))}},Ze=function(e){return function(n,r,s){var u=s||{},c=u.batchSize,m=l(u,["batchSize"]),g={taskIDs:[],objectIDs:[]};return v((function f(){var h,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=[];for(h=y;h<n.length&&(P.push(n[h]),P.length!==(c||1e3));h++);return P.length===0?Promise.resolve(g):Nt(e)(P.map((function(T){return{action:r,body:T}})),m).then((function(T){return g.objectIDs=g.objectIDs.concat(T.objectIDs),g.taskIDs.push(T.taskID),h++,f(h)}))})(),(function(f,h){return Promise.all(f.taskIDs.map((function(y){return ne(e)(y,h)})))}))}},jn=function(e){return function(n){return v(e.transporter.write({method:I,path:C("1/indexes/%s/clear",e.indexName)},n),(function(r,s){return ne(e)(r.taskID,s)}))}},Sn=function(e){return function(n){var r=n||{},s=r.forwardToReplicas,u=H(l(r,["forwardToReplicas"]));return s&&(u.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:I,path:C("1/indexes/%s/rules/clear",e.indexName)},u),(function(c,m){return ne(e)(c.taskID,m)}))}},qn=function(e){return function(n){var r=n||{},s=r.forwardToReplicas,u=H(l(r,["forwardToReplicas"]));return s&&(u.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:I,path:C("1/indexes/%s/synonyms/clear",e.indexName)},u),(function(c,m){return ne(e)(c.taskID,m)}))}},An=function(e){return function(n,r){return v(e.transporter.write({method:I,path:C("1/indexes/%s/deleteByQuery",e.indexName),data:n},r),(function(s,u){return ne(e)(s.taskID,u)}))}},Ct=function(e){return function(n){return v(e.transporter.write({method:j,path:C("1/indexes/%s",e.indexName)},n),(function(r,s){return ne(e)(r.taskID,s)}))}},Kn=function(e){return function(n,r){return v(wt(e)([n],r).then((function(s){return{taskID:s.taskIDs[0]}})),(function(s,u){return ne(e)(s.taskID,u)}))}},wt=function(e){return function(n,r){var s=n.map((function(u){return{objectID:u}}));return Ze(e)(s,ce.DeleteObject,r)}},Rn=function(e){return function(n,r){var s=r||{},u=s.forwardToReplicas,c=H(l(s,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:j,path:C("1/indexes/%s/rules/%s",e.indexName,n)},c),(function(m,g){return ne(e)(m.taskID,g)}))}},_n=function(e){return function(n,r){var s=r||{},u=s.forwardToReplicas,c=H(l(s,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:j,path:C("1/indexes/%s/synonyms/%s",e.indexName,n)},c),(function(m,g){return ne(e)(m.taskID,g)}))}},Bn=function(e){return function(n){return Et(e)(n).then((function(){return!0})).catch((function(r){if(r.status!==404)throw r;return!1}))}},Ln=function(e){return function(n,r,s){return e.transporter.read({method:I,path:C("1/answers/%s/prediction",e.indexName),data:{query:n,queryLanguages:r},cacheable:!0},s)}},$n=function(e){return function(n,r){var s=r||{},u=s.query,c=s.paginate,m=l(s,["query","paginate"]),g=0;return(function f(){return Dt(e)(u||"",t(t({},m),{},{page:g})).then((function(h){for(var y=0,P=Object.entries(h.hits);y<P.length;y++){var T=p(P[y],2),_=T[0],q=T[1];if(n(q))return{object:q,position:parseInt(_,10),page:g}}if(g++,c===!1||g>=h.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return f()}))})()}},Fn=function(e){return function(n,r){return e.transporter.read({method:O,path:C("1/indexes/%s/%s",e.indexName,n)},r)}},Un=function(){return function(e,n){for(var r=0,s=Object.entries(e.hits);r<s.length;r++){var u=p(s[r],2),c=u[0];if(u[1].objectID===n)return parseInt(c,10)}return-1}},zn=function(e){return function(n,r){var s=r||{},u=s.attributesToRetrieve,c=l(s,["attributesToRetrieve"]),m=n.map((function(g){return t({indexName:e.indexName,objectID:g},u?{attributesToRetrieve:u}:{})}));return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:m}},c)}},Mn=function(e){return function(n,r){return e.transporter.read({method:O,path:C("1/indexes/%s/rules/%s",e.indexName,n)},r)}},Et=function(e){return function(n){return e.transporter.read({method:O,path:C("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},n)}},Hn=function(e){return function(n,r){return e.transporter.read({method:O,path:C("1/indexes/%s/synonyms/%s",e.indexName,n)},r)}},Jn=function(e){return function(n,r){return v(xt(e)([n],r).then((function(s){return{objectID:s.objectIDs[0],taskID:s.taskIDs[0]}})),(function(s,u){return ne(e)(s.taskID,u)}))}},xt=function(e){return function(n,r){var s=r||{},u=s.createIfNotExists,c=l(s,["createIfNotExists"]),m=u?ce.PartialUpdateObject:ce.PartialUpdateObjectNoCreate;return Ze(e)(n,m,c)}},Gn=function(e){return function(n,r){var s=r||{},u=s.safe,c=s.autoGenerateObjectIDIfNotExist,m=s.batchSize,g=l(s,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),f=function(q,$,J,oe){return v(e.transporter.write({method:I,path:C("1/indexes/%s/operation",q),data:{operation:J,destination:$}},oe),(function(Ke,ue){return ne(e)(Ke.taskID,ue)}))},h=Math.random().toString(36).substring(7),y="".concat(e.indexName,"_tmp_").concat(h),P=et({appId:e.appId,transporter:e.transporter,indexName:y}),T=[],_=f(e.indexName,y,"copy",t(t({},g),{},{scope:["settings","synonyms","rules"]}));return T.push(_),v((u?_.wait(g):_).then((function(){var q=P(n,t(t({},g),{},{autoGenerateObjectIDIfNotExist:c,batchSize:m}));return T.push(q),u?q.wait(g):q})).then((function(){var q=f(y,e.indexName,"move",g);return T.push(q),u?q.wait(g):q})).then((function(){return Promise.all(T)})).then((function(q){var $=p(q,3),J=$[0],oe=$[1],Ke=$[2];return{objectIDs:oe.objectIDs,taskIDs:[J.taskID].concat(k(oe.taskIDs),[Ke.taskID])}})).catch((function(q){return Ct({appId:e.appId,transporter:e.transporter,indexName:y})().catch((function(){})).then((function(){throw q}))})),(function(q,$){return Promise.all(T.map((function(J){return J.wait($)})))}))}},Qn=function(e){return function(n,r){return tt(e)(n,t(t({},r),{},{clearExistingRules:!0}))}},Wn=function(e){return function(n,r){return nt(e)(n,t(t({},r),{},{clearExistingSynonyms:!0}))}},Vn=function(e){return function(n,r){return v(et(e)([n],r).then((function(s){return{objectID:s.objectIDs[0],taskID:s.taskIDs[0]}})),(function(s,u){return ne(e)(s.taskID,u)}))}},et=function(e){return function(n,r){var s=r||{},u=s.autoGenerateObjectIDIfNotExist,c=l(s,["autoGenerateObjectIDIfNotExist"]),m=u?ce.AddObject:ce.UpdateObject;if(m===ce.UpdateObject){var g=!0,f=!1,h=void 0;try{for(var y,P=n[Symbol.iterator]();!(g=(y=P.next()).done);g=!0)if(y.value.objectID===void 0)return v(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(T){f=!0,h=T}finally{try{g||P.return==null||P.return()}finally{if(f)throw h}}}return Ze(e)(n,m,c)}},Yn=function(e){return function(n,r){return tt(e)([n],r)}},tt=function(e){return function(n,r){var s=r||{},u=s.forwardToReplicas,c=s.clearExistingRules,m=H(l(s,["forwardToReplicas","clearExistingRules"]));return u&&(m.queryParameters.forwardToReplicas=1),c&&(m.queryParameters.clearExistingRules=1),v(e.transporter.write({method:I,path:C("1/indexes/%s/rules/batch",e.indexName),data:n},m),(function(g,f){return ne(e)(g.taskID,f)}))}},Xn=function(e){return function(n,r){return nt(e)([n],r)}},nt=function(e){return function(n,r){var s=r||{},u=s.forwardToReplicas,c=s.clearExistingSynonyms,m=s.replaceExistingSynonyms,g=H(l(s,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return u&&(g.queryParameters.forwardToReplicas=1),(m||c)&&(g.queryParameters.replaceExistingSynonyms=1),v(e.transporter.write({method:I,path:C("1/indexes/%s/synonyms/batch",e.indexName),data:n},g),(function(f,h){return ne(e)(f.taskID,h)}))}},Dt=function(e){return function(n,r){return e.transporter.read({method:I,path:C("1/indexes/%s/query",e.indexName),data:{query:n},cacheable:!0},r)}},It=function(e){return function(n,r,s){return e.transporter.read({method:I,path:C("1/indexes/%s/facets/%s/query",e.indexName,n),data:{facetQuery:r},cacheable:!0},s)}},Pt=function(e){return function(n,r){return e.transporter.read({method:I,path:C("1/indexes/%s/rules/search",e.indexName),data:{query:n}},r)}},Ot=function(e){return function(n,r){return e.transporter.read({method:I,path:C("1/indexes/%s/synonyms/search",e.indexName),data:{query:n}},r)}},Zn=function(e){return function(n,r){var s=r||{},u=s.forwardToReplicas,c=H(l(s,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:Z,path:C("1/indexes/%s/settings",e.indexName),data:n},c),(function(m,g){return ne(e)(m.taskID,g)}))}},ne=function(e){return function(n,r){return D((function(s){return(function(u){return function(c,m){return u.transporter.read({method:O,path:C("1/indexes/%s/task/%s",u.indexName,c.toString())},m)}})(e)(n,r).then((function(u){return u.status!=="published"?s():void 0}))}))}},ce={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject"},rt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},er=1,tr=2,nr=3,Me=function(e){return function(n,r){var s=n.map((function(u){return t(t({},u),{},{threshold:u.threshold||0})}));return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:s},cacheable:!0},r)}},rr=function(e){return function(n,r){return Me(e)(n.map((function(s){return t(t({},s),{},{fallbackParameters:{},model:"bought-together"})})),r)}},ar=function(e){return function(n,r){return Me(e)(n.map((function(s){return t(t({},s),{},{model:"related-products"})})),r)}},or=function(e){return function(n,r){var s=n.map((function(u){return t(t({},u),{},{model:"trending-facets",threshold:u.threshold||0})}));return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:s},cacheable:!0},r)}},sr=function(e){return function(n,r){var s=n.map((function(u){return t(t({},u),{},{model:"trending-items",threshold:u.threshold||0})}));return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:s},cacheable:!0},r)}},ir=function(e){return function(n,r){return Me(e)(n.map((function(s){return t(t({},s),{},{model:"looking-similar"})})),r)}},ur=function(e){return function(n,r){var s=n.map((function(u){return t(t({},u),{},{model:"recommended-for-you",threshold:u.threshold||0})}));return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:s},cacheable:!0},r)}};function dr(e,n){return function(r,s){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=s||{},c=u.autoGenerateObjectIDIfNotExist,m=u.watch,g=l(u,["autoGenerateObjectIDIfNotExist","watch"]),f=c?ce.AddObject:ce.UpdateObject;return n.push({indexName:e,pushTaskPayload:{action:f,records:r},watch:m},g)}}function lr(e,n){return function(r,s){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=s||{},c=u.createIfNotExists,m=u.watch,g=l(u,["createIfNotExists","watch"]),f=c?ce.PartialUpdateObject:ce.PartialUpdateObjectNoCreate;return n.push({indexName:e,pushTaskPayload:{action:f,records:r},watch:m},g)}}function he(e){return{name:"TransformationConfigurationError",message:e}}function Tt(e,n,r){var s,u,c={appId:e,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(f){return new Promise((function(h){var y=new XMLHttpRequest;y.open(f.method,f.url,!0),Object.keys(f.headers).forEach((function(q){return y.setRequestHeader(q,f.headers[q])}));var P,T=function(q,$){return setTimeout((function(){y.abort(),h({status:0,content:$,isTimedOut:!0})}),1e3*q)},_=T(f.connectTimeout,"Connection timeout");y.onreadystatechange=function(){y.readyState>y.OPENED&&P===void 0&&(clearTimeout(_),P=T(f.responseTimeout,"Socket timeout"))},y.onerror=function(){y.status===0&&(clearTimeout(_),clearTimeout(P),h({content:y.responseText||"Network request failed",status:y.status,isTimedOut:!1}))},y.onload=function(){clearTimeout(_),clearTimeout(P),h({content:y.responseText,status:y.status,isTimedOut:!1})},y.send(f.data)}))}},logger:(s=nr,{debug:function(f,h){return er>=s&&console.debug(f,h),Promise.resolve()},info:function(f,h){return tr>=s&&console.info(f,h),Promise.resolve()},error:function(f,h){return console.error(f,h),Promise.resolve()}}),responsesCache:N(),requestsCache:N({serializable:!1}),hostsCache:b({caches:[A({key:"".concat("4.25.3","-").concat(e)}),N()]}),userAgent:je("4.25.3").add({segment:"Browser"})},m=t(t({},c),r),g=function(){return function(f){return(function(h){var y=h.region||"us",P=x(G.WithinHeaders,h.appId,h.apiKey),T=le(t(t({hosts:[{url:"personalization.".concat(y,".algolia.com")}]},h),{},{headers:t(t(t({},P.headers()),{"content-type":"application/json"}),h.headers),queryParameters:t(t({},P.queryParameters()),h.queryParameters)}));return B({appId:h.appId,transporter:T},h.methods)})(t(t(t({},c),f),{},{methods:{getPersonalizationStrategy:Wt,setPersonalizationStrategy:Vt}}))}};if(r&&r.transformation){if(!r.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");u=(function(f){if(!f||!f.transformation||!f.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");if(f.transformation.region!=="eu"&&f.transformation.region!=="us")throw he("`region` is required and must be one of the following: eu, us");var h=f.appId,y=x(G.WithinHeaders,h,f.apiKey),P=le(t(t({hosts:[{url:"data.".concat(f.transformation.region,".algolia.com"),accept:te.ReadWrite,protocol:"https"}]},f),{},{headers:t(t(t({},y.headers()),{"content-type":"text/plain"}),f.headers),queryParameters:t(t({},y.queryParameters()),f.queryParameters)}));return{transporter:P,appId:h,addAlgoliaAgent:function(T,_){P.userAgent.add({segment:T,version:_}),P.userAgent.add({segment:"Ingestion",version:_}),P.userAgent.add({segment:"Ingestion via Algoliasearch"})},clearCache:function(){return Promise.all([P.requestsCache.clear(),P.responsesCache.clear()]).then((function(){}))},push:function(T,_){var q=T.indexName,$=T.pushTaskPayload,J=T.watch;if(!q)throw he("Parameter `indexName` is required when calling `push`.");if(!$)throw he("Parameter `pushTaskPayload` is required when calling `push`.");if(!$.action)throw he("Parameter `pushTaskPayload.action` is required when calling `push`.");if(!$.records)throw he("Parameter `pushTaskPayload.records` is required when calling `push`.");var oe=_||{queryParameters:{}};return P.write({method:I,path:C("1/push/%s",q),data:$},t(t({},oe),{},{queryParameters:t(t({},oe.queryParameters),{},{watch:J!==void 0})}))}}})(t(t({},r),c))}return(function(f){var h=f.appId,y=x(f.authMode!==void 0?f.authMode:G.WithinHeaders,h,f.apiKey),P=le(t(t({hosts:[{url:"".concat(h,"-dsn.algolia.net"),accept:te.Read},{url:"".concat(h,".algolia.net"),accept:te.Write}].concat(L([{url:"".concat(h,"-1.algolianet.com")},{url:"".concat(h,"-2.algolianet.com")},{url:"".concat(h,"-3.algolianet.com")}]))},f),{},{headers:t(t(t({},y.headers()),{"content-type":"application/x-www-form-urlencoded"}),f.headers),queryParameters:t(t({},y.queryParameters()),f.queryParameters)}));return B({transporter:P,appId:h,addAlgoliaAgent:function(T,_){P.userAgent.add({segment:T,version:_})},clearCache:function(){return Promise.all([P.requestsCache.clear(),P.responsesCache.clear()]).then((function(){}))}},f.methods)})(t(t({},m),{},{methods:{search:kt,searchForFacetValues:bt,multipleBatch:vn,multipleGetObjects:kn,multipleQueries:kt,copyIndex:ze,copySettings:nn,copySynonyms:rn,copyRules:tn,moveIndex:yn,listIndices:mn,getLogs:dn,listClusters:pn,multipleSearchForFacetValues:bt,getApiKey:qe,addApiKey:Yt,listApiKeys:hn,updateApiKey:In,deleteApiKey:on,restoreApiKey:Cn,assignUserID:Xt,assignUserIDs:Zt,getUserID:cn,searchUserIDs:xn,listUserIDs:gn,getTopUserIDs:ln,removeUserID:bn,hasPendingMappings:fn,clearDictionaryEntries:en,deleteDictionaryEntries:sn,getDictionarySettings:un,getAppTask:vt,replaceDictionaryEntries:Nn,saveDictionaryEntries:wn,searchDictionaryEntries:En,setDictionarySettings:Dn,waitAppTask:Ie,customRequest:an,initIndex:function(f){return function(h){return t(t({},Ae(f)(h,{methods:{batch:Nt,delete:Ct,findAnswers:Ln,getObject:Fn,getObjects:zn,saveObject:Vn,saveObjects:et,search:Dt,searchForFacetValues:It,waitTask:ne,setSettings:Zn,getSettings:Et,partialUpdateObject:Jn,partialUpdateObjects:xt,deleteObject:Kn,deleteObjects:wt,deleteBy:An,clearObjects:jn,browseObjects:Pn,getObjectPosition:Un,findObject:$n,exists:Bn,saveSynonym:Xn,saveSynonyms:nt,getSynonym:Hn,searchSynonyms:Ot,browseSynonyms:Tn,deleteSynonym:_n,clearSynonyms:qn,replaceAllObjects:Gn,replaceAllSynonyms:Wn,searchRules:Pt,getRule:Mn,deleteRule:Rn,saveRule:Yn,saveRules:tt,replaceAllRules:Qn,browseRules:On,clearRules:Sn}})),{},{saveObjectsWithTransformation:dr(h,u),partialUpdateObjectsWithTransformation:lr(h,u)})}},initAnalytics:function(){return function(f){return(function(h){var y=h.region||"us",P=x(G.WithinHeaders,h.appId,h.apiKey),T=le(t(t({hosts:[{url:"analytics.".concat(y,".algolia.com")}]},h),{},{headers:t(t(t({},P.headers()),{"content-type":"application/json"}),h.headers),queryParameters:t(t({},P.queryParameters()),h.queryParameters)}));return B({appId:h.appId,transporter:T},h.methods)})(t(t(t({},c),f),{},{methods:{addABTest:F,getABTest:Ce,getABTests:Gt,stopABTest:Qt,deleteABTest:ve}}))}},initPersonalization:g,initRecommendation:function(){return function(f){return m.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),g()(f)}},getRecommendations:Me,getFrequentlyBoughtTogether:rr,getLookingSimilar:ir,getRecommendedForYou:ur,getRelatedProducts:ar,getTrendingFacets:or,getTrendingItems:sr}}))}return Tt.version="4.25.3",Tt}))})(We)),We.exports}var ka=va();const ba=Ar(ka),Na=ba("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),Jt=Na.initIndex("npm-search"),Ca=async(o,a=0,i=10)=>{try{const d=Da(o);if(!d)return{response:null,query:o};const t={page:a,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:d.facetFilters?d.facetFilters:void 0},l=await Jt.search(d.query,t);return l.hits.sort((p,k)=>p.name===d.query?-1:k.name===d.query?1:0),{response:l,query:o}}catch{return{response:null,query:o}}};async function wa(o){return Jt.getObject(o)}const Ea=/\s*[a-z]+\s*:\s*(?:.(?![a-z]*\s*:))*/gi,xa=/^((?:[^\s:]+(?!\s*:)\s*)*)/,Bt={author:"owner.name",type:"moduleTypes"};function Da(o){const a=o.match(xa)?.[0].trim();if(a==null)return;const i=o,d=[];let t;for(;(t=Ea.exec(i))!==null;){const l=t[0].split(":");Bt[l[0].trim()]&&d.push(`${Bt[l[0].trim()]}:${l[1].trim()}`)}return{query:a,facetFilters:d.join(",")}}const Ia={key:0},Pa={class:"result-list"},Oa={class:"pkgName"},Ta={class:"meta"},ja=["onClick"],Sa=["src","alt"],qa=["title"],Aa={key:0,class:"description"},Ka={key:1,flex:"","gap-2":""},Ra={key:0},_a={key:1},Ba={key:2},La={key:3},$a={key:4},Fa={key:5},Ua={key:7},za={key:8},Ma={key:9},Ha={key:0,flex:"","items-center":""},Ja={key:1,flex:"","items-center":""},Ga=10,Qa=Ue({__name:"cdnQuery",setup(o){let a=null;const i=X(!1),d=X(""),t=X(""),l=X(0),p=X([]),k=X(0),A=X(""),b=X(),N=X(""),x=X([]),D=X(),v=X([]),L=ft(()=>v.value&&v.value.length?te(v.value):[]);async function B(Q=0){if(!d.value){i.value=!1,b.value=null,N.value="",x.value=[],p.value=[],l.value=0,k.value=0,t.value="";return}a&&clearTimeout(a),a=window.setTimeout(async()=>{i.value=!0;const{response:E,query:U}=await Ca(d.value,Q,Ga);if(U===d.value){if(E){const{hits:Y,page:de,nbHits:j}=E;p.value=Y,k.value=j,l.value=de,t.value="done"}else _r.warning("");i.value=!1}},200)}function C(Q){d.value=`author:${Q}`,B(0)}async function G(Q){A.value=Q,b.value=null,N.value="",x.value=[],D.value=null,v.value=[];try{b.value=await wa(Q),N.value=b.value.version??"",await H()}catch(E){console.error(E.message)}}async function H(){try{x.value=[],D.value=null,v.value=[],x.value=(await At.get(`https://data.jsdelivr.com/v1/package/npm/${b.value?.name??""}`)).data.versions.map(U=>({label:U,value:U}));const{default:Q,files:E}=(await At.get(`https://data.jsdelivr.com/v1/package/npm/${b.value?.name??""}@${N.value}`)).data;D.value=Q,v.value=E}catch(Q){console.error(Q.message)}}function te(Q,E){return Q.map(U=>{const Y=E?`${E}/${U.name}`:`/${U.name}`;return{label:U.name,icon:U.type==="directory"?"Folder":"",isLeaf:U.type!=="directory",fileName:Y,children:U.type==="directory"&&U.files?te(U.files,Y):void 0}})}return(Q,E)=>{const U=Hr,Y=Jr,de=Gr,j=Kr,O=Mr,I=Vr,Z=zr,ge=Ur,De=Fr,le=Wr,je=Qr,Se=ga;return K(),M(pe,null,[ee(Y,null,{default:W(()=>[z("blockquote",null,[z("ul",null,[z("li",null,[E[6]||(E[6]=re(" : ",-1)),ee(U,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:W(()=>[...E[5]||(E[5]=[re(" JSDelivr ",-1)])]),_:1})]),z("li",null,[E[8]||(E[8]=re(" : ",-1)),ee(U,{href:"https://www.algolia.com/",target:"_blank"},{default:W(()=>[...E[7]||(E[7]=[re(" Algolia ",-1)])]),_:1})])])])]),_:1}),ee(de,{level:3},{default:W(()=>[...E[9]||(E[9]=[re(" CDN ",-1)])]),_:1}),ee(j,{modelValue:S(d),"onUpdate:modelValue":E[0]||(E[0]=R=>qt(d)?d.value=R:null),placeholder:"jquery",clearable:"",onChange:E[1]||(E[1]=R=>B(0))},null,8,["modelValue"]),(K(),ie(Rr,null,[S(t)==="done"?(K(),M(pe,{key:0},[ee(O),S(A)?(K(),M(pe,{key:1},[ee(U,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:E[3]||(E[3]=R=>A.value=null)},{default:W(()=>[...E[12]||(E[12]=[z("span",{class:"i-icon-park-outline-return"},null,-1),re("  ",-1)])]),_:1}),S(b)?(K(),ie(je,{key:0,class:"metaDetail"},{default:W(()=>[z("ul",null,[S(b).name?(K(),M("li",Ra,[E[13]||(E[13]=z("b",null,": ",-1)),re(ae(S(b).name),1)])):V("",!0),S(b).homepage?(K(),M("li",_a,[E[14]||(E[14]=z("b",null,": ",-1)),ee(U,{href:S(b).homepage,target:"_blank"},{default:W(()=>[re(ae(S(b).homepage),1)]),_:1},8,["href"])])):V("",!0),S(b).description?(K(),M("li",Ba,[E[15]||(E[15]=z("b",null,": ",-1)),re(ae(S(b).description),1)])):V("",!0),S(b).repository?(K(),M("li",La,[E[16]||(E[16]=z("b",null,": ",-1)),re(ae(S(b).repository.type)+" / ",1),ee(U,{href:S(b).repository.url,target:"_blank"},{default:W(()=>[re(ae(S(b).repository.url),1)]),_:1},8,["href"])])):V("",!0),S(b).license?(K(),M("li",$a,[E[17]||(E[17]=z("b",null,": ",-1)),re(ae(S(b).license),1)])):V("",!0),S(b).owner?(K(),M("li",Fa,[E[18]||(E[18]=z("b",null,": ",-1)),re(ae(S(b).owner.name)+" / ",1),ee(U,{href:S(b).owner.link,target:"_blank"},{default:W(()=>[re(ae(S(b).owner.link),1)]),_:1},8,["href"])])):V("",!0),S(x).length?(K(),ie(O,{key:6})):V("",!0),S(x).length?(K(),M("li",Ua,[E[19]||(E[19]=z("b",null,": ",-1)),ee(De,{modelValue:S(N),"onUpdate:modelValue":E[4]||(E[4]=R=>qt(N)?N.value=R:null),options:S(x),onChange:H},{default:W(()=>[(K(!0),M(pe,null,Le(S(x),R=>(K(),ie(ge,{key:R.value,value:R.value,label:R.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):V("",!0),S(D)?(K(),M("li",za,[E[20]||(E[20]=z("b",null,": ",-1)),ee(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(b).name}@${S(N)}${S(D)}`}},{default:W(()=>[ee(U,{href:`https://cdn.jsdelivr.net/npm/${S(b).name}@${S(N)}${S(D)}`,target:"_blank"},{default:W(()=>[re(ae(S(D)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):V("",!0),S(v)&&S(v).length?(K(),M("li",Ma,[...E[21]||(E[21]=[z("b",null,"",-1),z("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)])])):V("",!0)])]),_:1})):V("",!0),S(b)&&S(v)&&S(v).length?(K(),ie(Se,{key:1,data:S(L),selectable:!1},{default:W(({data:R})=>[R.isLeaf?(K(),M("div",Ha,[E[22]||(E[22]=z("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),ee(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(b).name}@${S(N)}${R.fileName}`}},{default:W(()=>[re(ae(R.label),1)]),_:2},1032,["copyable"])])):(K(),M("div",Ja,[E[23]||(E[23]=z("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),ee(le,null,{default:W(()=>[re(ae(R.label),1)]),_:2},1024)]))]),_:1},8,["data"])):V("",!0)],64)):(K(),M(pe,{key:0},[ee(de,{level:4},{default:W(()=>[z("span",null," "+ae(S(k))+" ",1),S(k)>1e3?(K(),M("span",Ia," 1000 ")):V("",!0)]),_:1}),z("div",Pa,[(K(!0),M(pe,null,Le(S(p),R=>(K(),M("div",{key:R.objectID,class:"result-list-item"},[z("div",Oa,[ee(de,{level:4,onClick:ye=>G(R.objectID)},{default:W(()=>[re(ae(R.name),1)]),_:2},1032,["onClick"])]),z("div",Ta,[R.owner?(K(),M("div",{key:0,class:"owner",onClick:ye=>C(R.owner.name)},[z("img",{src:R.owner.avatar,alt:R.owner.name},null,8,Sa),z("div",null,ae(R.owner.name),1)],8,ja)):V("",!0),R.version?(K(),ie(I,{key:1,effect:"plain"},{default:W(()=>[E[10]||(E[10]=z("span",{class:"i-icon-park-outline-tag-one"},null,-1)),z("span",{title:R.version},ae(R.version),9,qa)]),_:2},1024)):V("",!0),R.license?(K(),ie(I,{key:2,effect:"plain"},{default:W(()=>[E[11]||(E[11]=z("span",{class:"i-icon-park-outline-balance-two"},null,-1)),re(ae(R.license),1)]),_:2},1024)):V("",!0)]),R.description?(K(),M("div",Aa,ae(R.description),1)):V("",!0),R.keywords&&R.keywords.length?(K(),M("div",Ka,[(K(!0),M(pe,null,Le(R.keywords,(ye,w)=>(K(),ie(I,{key:w,effect:"plain"},{default:W(()=>[re(ae(ye),1)]),_:2},1024))),128))])):V("",!0)]))),128))]),ee(Z,{layout:"prev,jumper,next",total:S(k)>1e3?1e3:S(k),"hide-on-single-page":!0,onCurrentChange:E[2]||(E[2]=R=>B(R-1))},null,8,["total"])],64))],64)):V("",!0)],1024))],64)}}}),ho=Br(Qa,[["__scopeId","data-v-ead9b880"]]);export{ho as default};
