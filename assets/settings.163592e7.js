var $=Object.defineProperty,j=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var b=(e,o,a)=>o in e?$(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,f=(e,o)=>{for(var a in o||(o={}))G.call(o,a)&&b(e,a,o[a]);if(U)for(var a of U(o))J.call(o,a)&&b(e,a,o[a]);return e},k=(e,o)=>j(e,E(o));import{a5 as O,bi as B,ag as P,ah as N,a4 as R,aL as W,T as z,ae as M,aj as Q,W as X,j as T,aC as Y,c as g,f as n,y as r,a as u,J as C,r as s,o as c,ab as S,h as p,L as w,p as Z,b as x,K as ee}from"./vendor.9bf0bfaf.js";/* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                */import{u as I}from"./index.cf414c09.js";import{_ as oe}from"./index.59750db5.js";const{TabPane:ne}=B,{Item:ae}=P,{Password:te}=N,{mapGetters:re,mapActions:se}=O("imgHosting"),le={name:"ImgHostingSettings",components:{Tabs:B,TabPane:ne,Form:P,Item:ae,Input:N,Password:te,Button:R,Switch:W,Typography:z,Divider:M,Space:Q},data:()=>({uploaders:I,currentUploader:"aliyun",currentConfig:[],currentCommonConfig:{renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0,customCopyContent:"$url"}}),computed:f({},re(["config","uploader","commonConfig"])),mounted(){this.uploader&&(this.currentUploader=this.uploader),this.changeUploader(),this.currentCommonConfig=X(this.currentCommonConfig,T(this.commonConfig||{}))},methods:k(f({},se(["saveConfig","saveCommonConfig","importConfig"])),{changeUploader(){this.currentConfig=T(I[this.currentUploader].config(this.config(this.currentUploader)))},save(){const e={};for(const o of this.currentConfig){if(o.required&&(o.default==null||o.default==="")){this.$msg.warn("\u5FC5\u586B\u9879\u672A\u586B\u5199\u5B8C\u6574");return}e[o.name]=o.default}this.saveConfig({uploader:this.currentUploader,config:e}),this.$msg.success("\u4FDD\u5B58\u6210\u529F")},handler(){this.$refs.file.click()},updateConfig(){Y(()=>{this.saveCommonConfig(this.currentCommonConfig)},100)()}})},q=e=>(Z("data-v-23c31cf0"),e=e(),x(),e),ce=q(()=>u("h4",null,"\u901A\u7528\u914D\u7F6E",-1)),ue={class:"commonConfigPanel"},de=q(()=>u("h4",null,"\u56FE\u5E8A\u8BBE\u7F6E",-1)),pe={class:"configPanel"},ie={class:"configTable"},me={class:"configOperator"},fe=ee(" \u4FDD\u5B58 ");function ge(e,o,a,Ce,he,d){const h=s("Typography"),_=s("Switch"),i=s("Item"),v=s("Input"),A=s("Space"),D=s("Divider"),F=s("Password"),K=s("Form"),L=s("Button"),V=s("TabPane"),H=s("Tabs");return c(),g(C,null,[n(h,null,{default:r(()=>[ce]),_:1}),u("div",ue,[n(A,{layout:"inline"},{default:r(()=>[n(i,{label:"\u65F6\u95F4\u6233\u91CD\u547D\u540D"},{default:r(()=>[n(_,{checked:e.currentCommonConfig.renameTimeStamp,"onUpdate:checked":o[0]||(o[0]=l=>e.currentCommonConfig.renameTimeStamp=l),onChange:d.updateConfig},null,8,["checked","onChange"])]),_:1}),n(i,{label:"\u4E0A\u4F20\u540E\u81EA\u52A8\u590D\u5236URL"},{default:r(()=>[n(_,{checked:e.currentCommonConfig.copyUrlAfterUpload,"onUpdate:checked":o[1]||(o[1]=l=>e.currentCommonConfig.copyUrlAfterUpload=l),onChange:d.updateConfig},null,8,["checked","onChange"])]),_:1}),n(i,{label:"\u81EA\u5B9A\u4E49\u590D\u5236\u5185\u5BB9"},{default:r(()=>[n(v,{value:e.currentCommonConfig.customCopyContent,"onUpdate:value":o[2]||(o[2]=l=>e.currentCommonConfig.customCopyContent=l),onChange:d.updateConfig},null,8,["value","onChange"])]),_:1})]),_:1})]),n(D),n(h,null,{default:r(()=>[de]),_:1}),n(H,{activeKey:e.currentUploader,"onUpdate:activeKey":o[3]||(o[3]=l=>e.currentUploader=l),type:"card",onChange:d.changeUploader},{default:r(()=>[(c(!0),g(C,null,S(e.uploaders,(l,y)=>(c(),p(V,{key:y,tab:l.name},{default:r(()=>[u("div",pe,[u("div",ie,[e.currentUploader===y?(c(),p(K,{key:0,layout:"vertical"},{default:r(()=>[(c(!0),g(C,null,S(e.currentConfig,t=>(c(),p(i,{key:t.name,label:t.label,required:t.required},{default:r(()=>[t.type==="input"?(c(),p(v,{key:0,value:t.default,"onUpdate:value":m=>t.default=m,"allow-clear":"",placeholder:t.hint},null,8,["value","onUpdate:value","placeholder"])):t.type==="password"?(c(),p(F,{key:1,value:t.default,"onUpdate:value":m=>t.default=m,"allow-clear":"",placeholder:t.hint},null,8,["value","onUpdate:value","placeholder"])):w("",!0)]),_:2},1032,["label","required"]))),128))]),_:2},1024)):w("",!0)]),u("div",me,[n(L,{type:"primary",onClick:d.save},{default:r(()=>[fe]),_:1},8,["onClick"])])])]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey","onChange"])],64)}var Be=oe(le,[["render",ge],["__scopeId","data-v-23c31cf0"]]);export{Be as default};
