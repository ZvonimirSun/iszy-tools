import{Y as at,c as x,bG as po,b as ce,bH as Ne,d as p,m as Xt,a as Se,u as Ie,I as F,U as Io,bI as Oo,j as n,X as Oe,a0 as Zt,a5 as fe,P as Ao,f as Rt,Z as Fe,e as Q,aU as No,aa as Me,av as We,ay as xt,bu as Qe,S as ze,ac as zt,i as Tt,V as zo,C as _,aH as it,J as Et,bJ as Lo,bK as Po,k as Lt,az as Pt,ar as X,N as Do,at as Fo,ax as $o,bL as Wo,A as Jt,r as Xe,bc as Go,aF as Qt,bM as Vo,bN as Ko,bO as jo,b7 as ko,l as eo}from"./index-CRxzzwo-.js";import{V as Bo,F as Be,B as dt,R as to,a as oo,b as ut,c as lo,S as qo,H as Dt,d as Uo,I as Ft,e as $t,A as Ce,D as Wt,C as $e,f as ht,g as ft,h as no,E as Yo}from"./el-empty-1jKQyhMQ.js";import{c as Xo}from"./castArray-Cr9anuCZ.js";import{c as ot,r as Ht}from"./raf-HEth4KfI.js";import{m as Zo}from"./memoize-one.esm-BdPwpGay.js";const Jo=()=>{const t=at().proxy.$props;return x(()=>{const o=(l,r,a)=>({});return t.perfMode?po(o):Zo(o)})},mt=Ne({type:p([Number,Function]),required:!0}),vt=Ne({type:Number}),yt=Ne({type:Number,default:2}),Qo=Ne({type:String,values:["ltr","rtl"],default:"ltr"}),gt=Ne({type:Number,default:0}),lt=Ne({type:Number,required:!0}),ao=Ne({type:String,values:["horizontal","vertical"],default:Bo}),ro=ce({className:{type:String,default:""},containerElement:{type:p([String,Object]),default:"div"},data:{type:p(Array),default:()=>Xt([])},direction:Qo,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},innerProps:{type:p(Object),default:()=>({})},style:{type:p([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),el=ce({cache:yt,estimatedItemSize:vt,layout:ao,initScrollOffset:gt,total:lt,itemSize:mt,...ro}),wt={type:Number,default:6},so={type:Number,default:0},co={type:Number,default:2},pe=ce({columnCache:yt,columnWidth:mt,estimatedColumnWidth:vt,estimatedRowHeight:vt,initScrollLeft:gt,initScrollTop:gt,itemKey:{type:p(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:yt,rowHeight:mt,totalColumn:lt,totalRow:lt,hScrollbarSize:wt,vScrollbarSize:wt,scrollbarStartGap:so,scrollbarEndGap:co,role:String,...ro}),io=ce({alwaysOn:Boolean,class:String,layout:ao,total:lt,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:wt,startGap:so,endGap:co,visible:Boolean}),Je=(e,t)=>e<t?Be:dt,Gt=e=>e===to;let De=null;function Vt(e=!1){if(De===null||e){const t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const l=document.createElement("div"),r=l.style;return r.width="100px",r.height="100px",t.appendChild(l),document.body.appendChild(t),t.scrollLeft>0?De=oo:(t.scrollLeft=1,t.scrollLeft===0?De=ut:De=lo),document.body.removeChild(t),De}return De}function tl({move:e,size:t,bar:o},l){const r={},a=`translate${o.axis}(${e}px)`;return r[o.size]=t,r.transform=a,l==="horizontal"?r.height="100%":r.width="100%",r}const Kt=Se({name:"ElVirtualScrollBar",props:io,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const o=x(()=>e.startGap+e.endGap),l=Ie("virtual-scrollbar"),r=Ie("scrollbar"),a=F(),s=F();let c=null,m=null;const h=Io({isDragging:!1,traveled:0}),d=x(()=>Oo[e.layout]),y=x(()=>e.clientSize-n(o)),w=x(()=>({position:"absolute",width:`${Dt===e.layout?y.value:e.scrollbarSize}px`,height:`${Dt===e.layout?e.scrollbarSize:y.value}px`,[qo[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),g=x(()=>{const S=e.ratio;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*y.value/100;const $=y.value/3;return Math.floor(Math.min(Math.max(S*y.value/100,Uo),$))}),v=x(()=>{if(!Number.isFinite(g.value))return{display:"none"};const S=`${g.value}px`;return tl({bar:d.value,size:S,move:h.traveled},e.layout)}),u=x(()=>Math.ceil(e.clientSize-g.value-n(o))),i=()=>{window.addEventListener("mousemove",M),window.addEventListener("mouseup",T);const S=n(s);S&&(m=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",M,{passive:!0}),S.addEventListener("touchend",T))},f=()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",T),document.onselectstart=m,m=null;const S=n(s);S&&(S.removeEventListener("touchmove",M),S.removeEventListener("touchend",T))},b=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(h.isDragging=!0,h[d.value.axis]=S.currentTarget[d.value.offset]-(S[d.value.client]-S.currentTarget.getBoundingClientRect()[d.value.direction]),t("start-move"),i())},T=()=>{h.isDragging=!1,h[d.value.axis]=0,t("stop-move"),f()},M=S=>{const{isDragging:$}=h;if(!$||!s.value||!a.value)return;const G=h[d.value.axis];if(!G)return;ot(c);const j=(a.value.getBoundingClientRect()[d.value.direction]-S[d.value.client])*-1,R=s.value[d.value.offset]-G,I=j-R;c=Ht(()=>{h.traveled=Math.max(0,Math.min(I,u.value)),t("scroll",I,u.value)})},A=S=>{const $=Math.abs(S.target.getBoundingClientRect()[d.value.direction]-S[d.value.client]),G=s.value[d.value.offset]/2,j=$-G;h.traveled=Math.max(0,Math.min(j,u.value)),t("scroll",j,u.value)};return Oe(()=>e.scrollFrom,S=>{h.isDragging||(h.traveled=Math.ceil(S*u.value))}),Zt(()=>{f()}),()=>fe("div",{role:"presentation",ref:a,class:[l.b(),e.class,(e.alwaysOn||h.isDragging)&&"always-on"],style:w.value,onMousedown:Ao(A,["stop","prevent"]),onTouchstartPrevent:b},fe("div",{ref:s,class:r.e("thumb"),style:v.value,onMousedown:b},[]))}});var qe=(e=>(e.ASC="asc",e.DESC="desc",e))(qe||{}),Ue=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(Ue||{}),uo=(e=>(e.LEFT="left",e.RIGHT="right",e))(uo||{});const bt={asc:"desc",desc:"asc"},Ye=Symbol("placeholder"),ol=(e,t,o)=>{var l;const r={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};o||(r.flexShrink=1);const a={...(l=e.style)!=null?l:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a};function ll(e,t,o){const l=x(()=>n(t).map((i,f)=>{var b,T;return{...i,key:(T=(b=i.key)!=null?b:i.dataKey)!=null?T:f}})),r=x(()=>n(l).filter(i=>!i.hidden)),a=x(()=>n(r).filter(i=>i.fixed==="left"||i.fixed===!0)),s=x(()=>n(r).filter(i=>i.fixed==="right")),c=x(()=>n(r).filter(i=>!i.fixed)),m=x(()=>{const i=[];return n(a).forEach(f=>{i.push({...f,placeholderSign:Ye})}),n(c).forEach(f=>{i.push(f)}),n(s).forEach(f=>{i.push({...f,placeholderSign:Ye})}),i}),h=x(()=>n(a).length||n(s).length),d=x(()=>n(l).reduce((i,f)=>(i[f.key]=ol(f,n(o),e.fixed),i),{})),y=x(()=>n(r).reduce((i,f)=>i+f.width,0)),w=i=>n(l).find(f=>f.key===i),g=i=>n(d)[i],v=(i,f)=>{i.width=f};function u(i){var f;const{key:b}=i.currentTarget.dataset;if(!b)return;const{sortState:T,sortBy:M}=e;let A=qe.ASC;Rt(T)?A=bt[T[b]]:A=bt[M.order],(f=e.onColumnSort)==null||f.call(e,{column:w(b),key:b,order:A})}return{columns:l,columnsStyles:d,columnsTotalWidth:y,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,hasFixedColumns:h,mainColumns:m,normalColumns:c,visibleColumns:r,getColumn:w,getColumnStyle:g,updateColumnWidth:v,onColumnSorted:u}}const nl=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:r})=>{const a=F({scrollLeft:0,scrollTop:0});function s(g){var v,u,i;const{scrollTop:f}=g;(v=t.value)==null||v.scrollTo(g),(u=o.value)==null||u.scrollToTop(f),(i=l.value)==null||i.scrollToTop(f)}function c(g){a.value=g,s(g)}function m(g){a.value.scrollTop=g,s(n(a))}function h(g){var v,u;a.value.scrollLeft=g,(u=(v=t.value)==null?void 0:v.scrollTo)==null||u.call(v,n(a))}function d(g){var v;c(g),(v=e.onScroll)==null||v.call(e,g)}function y({scrollTop:g}){const{scrollTop:v}=n(a);g!==v&&m(g)}function w(g,v="auto"){var u;(u=t.value)==null||u.scrollToRow(g,v)}return Oe(()=>n(a).scrollTop,(g,v)=>{g>v&&r()}),{scrollPos:a,scrollTo:c,scrollToLeft:h,scrollToTop:m,scrollToRow:w,onScroll:d,onVerticalScroll:y}},al=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:r,ns:a,isScrolling:s})=>{const c=at(),{emit:m}=c,h=Fe(!1),d=F(e.defaultExpandedRowKeys||[]),y=F(-1),w=Fe(null),g=F({}),v=F({}),u=Fe({}),i=Fe({}),f=Fe({}),b=x(()=>Q(e.estimatedRowHeight));function T(R){var I;(I=e.onRowsRendered)==null||I.call(e,R),R.rowCacheEnd>n(y)&&(y.value=R.rowCacheEnd)}function M({hovered:R,rowKey:I}){if(s.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(I)}"]`).forEach(K=>{R?K.classList.add(a.is("hovered")):K.classList.remove(a.is("hovered"))})}function A({expanded:R,rowData:I,rowIndex:D,rowKey:N}){var K,B;const V=[...n(d)],U=V.indexOf(N);R?U===-1&&V.push(N):U>-1&&V.splice(U,1),d.value=V,m("update:expandedRowKeys",V),(K=e.onRowExpand)==null||K.call(e,{expanded:R,rowData:I,rowIndex:D,rowKey:N}),(B=e.onExpandedRowsChange)==null||B.call(e,V),r.vnode.el.querySelector(`.${a.is("hovered")}[rowkey="${String(N)}"]`)&&Me(()=>M({hovered:!0,rowKey:N}))}const S=No(()=>{var R,I,D,N;h.value=!0,g.value={...n(g),...n(v)},$(n(w),!1),v.value={},w.value=null,(R=t.value)==null||R.forceUpdate(),(I=o.value)==null||I.forceUpdate(),(D=l.value)==null||D.forceUpdate(),(N=c.proxy)==null||N.$forceUpdate(),h.value=!1},0);function $(R,I=!1){n(b)&&[t,o,l].forEach(D=>{const N=n(D);N&&N.resetAfterRowIndex(R,I)})}function G(R,I,D){const N=n(w);(N===null||N>D)&&(w.value=D),v.value[R]=I}function j({rowKey:R,height:I,rowIndex:D},N){N?N===uo.RIGHT?f.value[R]=I:u.value[R]=I:i.value[R]=I;const K=Math.max(...[u,f,i].map(B=>B.value[R]||0));n(g)[R]!==K&&(G(R,K,D),S())}return{expandedRowKeys:d,lastRenderedRowIndex:y,isDynamic:b,isResetting:h,rowHeights:g,resetAfterIndex:$,onRowExpanded:A,onRowHovered:M,onRowsRendered:T,onRowHeightChange:j}},rl=(e,{expandedRowKeys:t,lastRenderedRowIndex:o,resetAfterIndex:l})=>{const r=F({}),a=x(()=>{const c={},{data:m,rowKey:h}=e,d=n(t);if(!d||!d.length)return m;const y=[],w=new Set;d.forEach(v=>w.add(v));let g=m.slice();for(g.forEach(v=>c[v[h]]=0);g.length>0;){const v=g.shift();y.push(v),w.has(v[h])&&We(v.children)&&v.children.length>0&&(g=[...v.children,...g],v.children.forEach(u=>c[u[h]]=c[v[h]]+1))}return r.value=c,y}),s=x(()=>{const{data:c,expandColumnKey:m}=e;return m?n(a):c});return Oe(s,(c,m)=>{c!==m&&(o.value=-1,l(0,!0))}),{data:s,depthMap:r}},sl=(e,t)=>e+t,et=e=>We(e)?e.reduce(sl,0):e,Ae=(e,t,o={})=>xt(e)?e(t):e??o,be=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Qe(e[t])}),e),ho=e=>ze(e)?t=>fe(e,t):e,cl=(e,{columnsTotalWidth:t,rowsHeight:o,fixedColumnsOnLeft:l,fixedColumnsOnRight:r})=>{const a=x(()=>{const{fixed:f,width:b,vScrollbarSize:T}=e,M=b-T;return f?Math.max(Math.round(n(t)),M):M}),s=x(()=>{const{height:f=0,maxHeight:b=0,footerHeight:T,hScrollbarSize:M}=e;if(b>0){const A=n(w),S=n(o),G=n(y)+A+S+M;return Math.min(G,b-T)}return f-T}),c=x(()=>{const{maxHeight:f}=e,b=n(s);if(Q(f)&&f>0)return b;const T=n(o)+n(y)+n(w);return Math.min(b,T)}),m=f=>f.width,h=x(()=>et(n(l).map(m))),d=x(()=>et(n(r).map(m))),y=x(()=>et(e.headerHeight)),w=x(()=>{var f;return(((f=e.fixedData)==null?void 0:f.length)||0)*e.rowHeight}),g=x(()=>n(s)-n(y)-n(w)),v=x(()=>{const{style:f={},height:b,width:T}=e;return be({...f,height:b,width:T})}),u=x(()=>be({height:e.footerHeight})),i=x(()=>({top:Qe(n(y)),bottom:Qe(e.footerHeight),width:Qe(e.width)}));return{bodyWidth:a,fixedTableHeight:c,mainTableHeight:s,leftTableWidth:h,rightTableWidth:d,windowHeight:g,footerHeight:u,emptyStyle:i,rootStyle:v,headerHeight:y}};function il(e){const t=F(),o=F(),l=F(),{columns:r,columnsStyles:a,columnsTotalWidth:s,fixedColumnsOnLeft:c,fixedColumnsOnRight:m,hasFixedColumns:h,mainColumns:d,onColumnSorted:y}=ll(e,zt(e,"columns"),zt(e,"fixed")),{scrollTo:w,scrollToLeft:g,scrollToTop:v,scrollToRow:u,onScroll:i,onVerticalScroll:f,scrollPos:b}=nl(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:Le}),T=Ie("table-v2"),M=at(),A=Fe(!1),{expandedRowKeys:S,lastRenderedRowIndex:$,isDynamic:G,isResetting:j,rowHeights:R,resetAfterIndex:I,onRowExpanded:D,onRowHeightChange:N,onRowHovered:K,onRowsRendered:B}=al(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:M,ns:T,isScrolling:A}),{data:V,depthMap:U}=rl(e,{expandedRowKeys:S,lastRenderedRowIndex:$,resetAfterIndex:I}),oe=x(()=>{const{estimatedRowHeight:Y,rowHeight:le}=e,re=n(V);return Q(Y)?Object.values(n(R)).reduce((ee,Te)=>ee+Te,0):re.length*le}),{bodyWidth:ve,fixedTableHeight:ie,mainTableHeight:ae,leftTableWidth:ye,rightTableWidth:de,windowHeight:ge,footerHeight:Z,emptyStyle:we,rootStyle:Re,headerHeight:xe}=cl(e,{columnsTotalWidth:s,fixedColumnsOnLeft:c,fixedColumnsOnRight:m,rowsHeight:oe}),Ge=F(),Ve=x(()=>{const Y=n(V).length===0;return We(e.fixedData)?e.fixedData.length===0&&Y:Y});function Ke(Y){const{estimatedRowHeight:le,rowHeight:re,rowKey:ee}=e;return le?n(R)[n(V)[Y][ee]]||le:re}const ue=F(!1);function Le(){const{onEndReached:Y}=e;if(!Y)return;const{scrollTop:le}=n(b),re=n(oe),ee=n(ge),Te=re-(le+ee)+e.hScrollbarSize;!ue.value&&n($)>=0&&re<=le+n(ae)-n(xe)?(ue.value=!0,Y(Te)):ue.value=!1}return Oe(()=>n(oe),()=>ue.value=!1),Oe(()=>e.expandedRowKeys,Y=>S.value=Y,{deep:!0}),{columns:r,containerRef:Ge,mainTableRef:t,leftTableRef:o,rightTableRef:l,isDynamic:G,isResetting:j,isScrolling:A,hasFixedColumns:h,columnsStyles:a,columnsTotalWidth:s,data:V,expandedRowKeys:S,depthMap:U,fixedColumnsOnLeft:c,fixedColumnsOnRight:m,mainColumns:d,bodyWidth:ve,emptyStyle:we,rootStyle:Re,footerHeight:Z,mainTableHeight:ae,fixedTableHeight:ie,leftTableWidth:ye,rightTableWidth:de,showEmpty:Ve,getRowHeight:Ke,onColumnSorted:y,onRowHovered:K,onRowExpanded:D,onRowsRendered:B,onRowHeightChange:N,scrollTo:w,scrollToLeft:g,scrollToTop:v,scrollToRow:u,onScroll:i,onVerticalScroll:f}}const Ct=Symbol("tableV2"),fo="tableV2GridScrollLeft",mo=String,Ze={type:p(Array),required:!0},_t={type:p(Array)},vo={..._t,required:!0},dl=String,jt={type:p(Array),default:()=>Xt([])},He={type:Number,required:!0},yo={type:p([String,Number,Symbol]),default:"id"},kt={type:p(Object)},_e=ce({class:String,columns:Ze,columnsStyles:{type:p(Object),required:!0},depth:Number,expandColumnKey:dl,estimatedRowHeight:{...pe.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:p(Function)},onRowHover:{type:p(Function)},onRowHeightChange:{type:p(Function)},rowData:{type:p(Object),required:!0},rowEventHandlers:{type:p(Object)},rowIndex:{type:Number,required:!0},rowKey:yo,style:{type:p(Object)}}),ct={type:Number,required:!0},Mt=ce({class:String,columns:Ze,fixedHeaderData:{type:p(Array)},headerData:{type:p(Array),required:!0},headerHeight:{type:p([Number,Array]),default:50},rowWidth:ct,rowHeight:{type:Number,default:50},height:ct,width:ct}),tt=ce({columns:Ze,data:vo,fixedData:_t,estimatedRowHeight:_e.estimatedRowHeight,width:He,height:He,headerWidth:He,headerHeight:Mt.headerHeight,bodyWidth:He,rowHeight:He,cache:el.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:pe.scrollbarAlwaysOn,scrollbarStartGap:pe.scrollbarStartGap,scrollbarEndGap:pe.scrollbarEndGap,class:mo,style:kt,containerStyle:kt,getRowHeight:{type:p(Function),required:!0},rowKey:_e.rowKey,onRowsRendered:{type:p(Function)},onScroll:{type:p(Function)}}),ul=ce({cache:tt.cache,estimatedRowHeight:_e.estimatedRowHeight,rowKey:yo,headerClass:{type:p([String,Function])},headerProps:{type:p([Object,Function])},headerCellProps:{type:p([Object,Function])},headerHeight:Mt.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:p([String,Function])},rowProps:{type:p([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:p([Object,Function])},columns:Ze,data:vo,dataGetter:{type:p(Function)},fixedData:_t,expandColumnKey:_e.expandColumnKey,expandedRowKeys:jt,defaultExpandedRowKeys:jt,class:mo,fixed:Boolean,style:{type:p(Object)},width:He,height:He,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:pe.hScrollbarSize,vScrollbarSize:pe.vScrollbarSize,scrollbarAlwaysOn:io.alwaysOn,sortBy:{type:p(Object),default:()=>({})},sortState:{type:p(Object),default:void 0},onColumnSort:{type:p(Function)},onExpandedRowsChange:{type:p(Function)},onEndReached:{type:p(Function)},onRowExpand:_e.onRowExpand,onScroll:tt.onScroll,onRowsRendered:tt.onRowsRendered,rowEventHandlers:_e.rowEventHandlers}),hl="ElTableV2Header",fl=Se({name:hl,props:Mt,setup(e,{slots:t,expose:o}){const l=Ie("table-v2"),r=Tt(fo),a=F(),s=x(()=>be({width:e.width,height:e.height})),c=x(()=>be({width:e.rowWidth,height:e.height})),m=x(()=>Xo(n(e.headerHeight))),h=w=>{const g=n(a);Me(()=>{g?.scroll&&g.scroll({left:w})})},d=()=>{const w=l.e("fixed-header-row"),{columns:g,fixedHeaderData:v,rowHeight:u}=e;return v?.map((i,f)=>{var b;const T=be({height:u,width:"100%"});return(b=t.fixed)==null?void 0:b.call(t,{class:w,columns:g,rowData:i,rowIndex:-(f+1),style:T})})},y=()=>{const w=l.e("dynamic-header-row"),{columns:g}=e;return n(m).map((v,u)=>{var i;const f=be({width:"100%",height:v});return(i=t.dynamic)==null?void 0:i.call(t,{class:w,columns:g,headerIndex:u,style:f})})};return zo(()=>{r?.value&&h(r.value)}),o({scrollToLeft:h}),()=>{if(!(e.height<=0))return _("div",{ref:a,class:e.class,style:n(s),role:"rowgroup"},[_("div",{style:n(c),class:l.e("header")},[y(),d()])])}}});var ml=fl;const vl=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:o,atYStartEdge:l},r)=>{let a=null,s=0,c=0;const m=(d,y)=>{const w=d<=0&&t.value||d>=0&&e.value,g=y<=0&&l.value||y>=0&&o.value;return w&&g};return{hasReachedEdge:m,onWheel:d=>{ot(a);let y=d.deltaX,w=d.deltaY;Math.abs(y)>Math.abs(w)?w=0:y=0,d.shiftKey&&w!==0&&(y=w,w=0),!(m(s,c)&&m(s+y,c+w))&&(s+=y,c+=w,d.preventDefault(),a=Ht(()=>{r(s,c),s=0,c=0}))}}},yl=(e,t,o,l,r,a,s)=>{const c=F(0),m=F(0);let h,d=0,y=0;const w=v=>{ot(h),c.value=v.touches[0].clientX,m.value=v.touches[0].clientY,d=0,y=0},g=v=>{v.preventDefault(),ot(h),d+=c.value-v.touches[0].clientX,y+=m.value-v.touches[0].clientY,c.value=v.touches[0].clientX,m.value=v.touches[0].clientY,h=Ht(()=>{const u=l.value-n(a),i=r.value-n(s),f=Math.min(t.value.scrollLeft+d,u),b=Math.min(t.value.scrollTop+y,i);o({scrollLeft:f,scrollTop:b}),d=0,y=0})};return it(e,"touchstart",w,{passive:!0}),it(e,"touchmove",g,{passive:!1}),{touchStartX:c,touchStartY:m,handleTouchStart:w,handleTouchMove:g}},go=({name:e,clearCache:t,getColumnPosition:o,getColumnStartIndexForOffset:l,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:a,getEstimatedTotalWidth:s,getColumnOffset:c,getRowOffset:m,getRowPosition:h,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:y,initCache:w,injectToInstance:g,validateProps:v})=>Se({name:e??"ElVirtualList",props:pe,emits:[Ft,$t],setup(u,{emit:i,expose:f,slots:b}){const T=Ie("vl");v(u);const M=at(),A=F(w(u,M));g?.(M,A);const S=F(),$=F(),G=F(),j=F(),R=F({isScrolling:!1,scrollLeft:Q(u.initScrollLeft)?u.initScrollLeft:0,scrollTop:Q(u.initScrollTop)?u.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Be,yAxisScrollDir:Be}),I=Jo(),D=x(()=>Number.parseInt(`${u.height}`,10)),N=x(()=>Number.parseInt(`${u.width}`,10)),K=x(()=>{const{totalColumn:E,totalRow:H,columnCache:C}=u,{isScrolling:L,xAxisScrollDir:O,scrollLeft:z}=n(R);if(E===0||H===0)return[0,0,0,0];const P=l(u,z,n(A)),W=r(u,P,z,n(A)),k=!L||O===dt?Math.max(1,C):1,J=!L||O===Be?Math.max(1,C):1;return[Math.max(0,P-k),Math.max(0,Math.min(E-1,W+J)),P,W]}),B=x(()=>{const{totalColumn:E,totalRow:H,rowCache:C}=u,{isScrolling:L,yAxisScrollDir:O,scrollTop:z}=n(R);if(E===0||H===0)return[0,0,0,0];const P=d(u,z,n(A)),W=y(u,P,z,n(A)),k=!L||O===dt?Math.max(1,C):1,J=!L||O===Be?Math.max(1,C):1;return[Math.max(0,P-k),Math.max(0,Math.min(H-1,W+J)),P,W]}),V=x(()=>a(u,n(A))),U=x(()=>s(u,n(A))),oe=x(()=>{var E;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:Q(u.height)?`${u.height}px`:u.height,width:Q(u.width)?`${u.width}px`:u.width},(E=u.style)!=null?E:{}]}),ve=x(()=>{const E=`${n(U)}px`;return{height:`${n(V)}px`,pointerEvents:n(R).isScrolling?"none":void 0,width:E}}),ie=()=>{const{totalColumn:E,totalRow:H}=u;if(E>0&&H>0){const[W,k,J,se]=n(K),[q,te,Pe,rt]=n(B);i(Ft,{columnCacheStart:W,columnCacheEnd:k,rowCacheStart:q,rowCacheEnd:te,columnVisibleStart:J,columnVisibleEnd:se,rowVisibleStart:Pe,rowVisibleEnd:rt})}const{scrollLeft:C,scrollTop:L,updateRequested:O,xAxisScrollDir:z,yAxisScrollDir:P}=n(R);i($t,{xAxisScrollDir:z,scrollLeft:C,yAxisScrollDir:P,scrollTop:L,updateRequested:O})},ae=E=>{const{clientHeight:H,clientWidth:C,scrollHeight:L,scrollLeft:O,scrollTop:z,scrollWidth:P}=E.currentTarget,W=n(R);if(W.scrollTop===z&&W.scrollLeft===O)return;let k=O;if(Gt(u.direction))switch(Vt()){case ut:k=-O;break;case oo:k=P-C-O;break}R.value={...W,isScrolling:!0,scrollLeft:k,scrollTop:Math.max(0,Math.min(z,L-H)),updateRequested:!0,xAxisScrollDir:Je(W.scrollLeft,k),yAxisScrollDir:Je(W.scrollTop,z)},Me(()=>ue()),Le(),ie()},ye=(E,H)=>{const C=n(D),L=(V.value-C)/H*E;Z({scrollTop:Math.min(V.value-C,L)})},de=(E,H)=>{const C=n(N),L=(U.value-C)/H*E;Z({scrollLeft:Math.min(U.value-C,L)})},{onWheel:ge}=vl({atXStartEdge:x(()=>R.value.scrollLeft<=0),atXEndEdge:x(()=>R.value.scrollLeft>=U.value-n(N)),atYStartEdge:x(()=>R.value.scrollTop<=0),atYEndEdge:x(()=>R.value.scrollTop>=V.value-n(D))},(E,H)=>{var C,L,O,z;(L=(C=$.value)==null?void 0:C.onMouseUp)==null||L.call(C),(z=(O=G.value)==null?void 0:O.onMouseUp)==null||z.call(O);const P=n(N),W=n(D);Z({scrollLeft:Math.min(R.value.scrollLeft+E,U.value-P),scrollTop:Math.min(R.value.scrollTop+H,V.value-W)})});it(S,"wheel",ge,{passive:!1});const Z=({scrollLeft:E=R.value.scrollLeft,scrollTop:H=R.value.scrollTop})=>{E=Math.max(E,0),H=Math.max(H,0);const C=n(R);H===C.scrollTop&&E===C.scrollLeft||(R.value={...C,xAxisScrollDir:Je(C.scrollLeft,E),yAxisScrollDir:Je(C.scrollTop,H),scrollLeft:E,scrollTop:H,updateRequested:!0},Me(()=>ue()),Le(),ie())},{touchStartX:we,touchStartY:Re,handleTouchStart:xe,handleTouchMove:Ge}=yl(S,R,Z,U,V,N,D),Ve=(E=0,H=0,C=Ce)=>{const L=n(R);H=Math.max(0,Math.min(H,u.totalColumn-1)),E=Math.max(0,Math.min(E,u.totalRow-1));const O=Po(T.namespace.value),z=n(A),P=a(u,z),W=s(u,z);Z({scrollLeft:c(u,H,C,L.scrollLeft,z,W>u.width?O:0),scrollTop:m(u,E,C,L.scrollTop,z,P>u.height?O:0)})},Ke=(E,H)=>{const{columnWidth:C,direction:L,rowHeight:O}=u,z=I.value(t&&C,t&&O,t&&L),P=`${E},${H}`;if(Fo(z,P))return z[P];{const[,W]=o(u,H,n(A)),k=n(A),J=Gt(L),[se,q]=h(u,E,k),[te]=o(u,H,k);return z[P]={position:"absolute",left:J?void 0:`${W}px`,right:J?`${W}px`:void 0,top:`${q}px`,height:`${se}px`,width:`${te}px`},z[P]}},ue=()=>{R.value.isScrolling=!1,Me(()=>{I.value(-1,null,null)})};Et(()=>{if(!Lo)return;const{initScrollLeft:E,initScrollTop:H}=u,C=n(S);C&&(Q(E)&&(C.scrollLeft=E),Q(H)&&(C.scrollTop=H)),ie()});const Le=()=>{const{direction:E}=u,{scrollLeft:H,scrollTop:C,updateRequested:L}=n(R),O=n(S);if(L&&O){if(E===to)switch(Vt()){case ut:{O.scrollLeft=-H;break}case lo:{O.scrollLeft=H;break}default:{const{clientWidth:z,scrollWidth:P}=O;O.scrollLeft=P-z-H;break}}else O.scrollLeft=Math.max(0,H);O.scrollTop=Math.max(0,C)}},{resetAfterColumnIndex:Y,resetAfterRowIndex:le,resetAfter:re}=M.proxy;f({windowRef:S,innerRef:j,getItemStyleCache:I,touchStartX:we,touchStartY:Re,handleTouchStart:xe,handleTouchMove:Ge,scrollTo:Z,scrollToItem:Ve,states:R,resetAfterColumnIndex:Y,resetAfterRowIndex:le,resetAfter:re});const ee=()=>{const{scrollbarAlwaysOn:E,scrollbarStartGap:H,scrollbarEndGap:C,totalColumn:L,totalRow:O}=u,z=n(N),P=n(D),W=n(U),k=n(V),{scrollLeft:J,scrollTop:se}=n(R),q=fe(Kt,{ref:$,alwaysOn:E,startGap:H,endGap:C,class:T.e("horizontal"),clientSize:z,layout:"horizontal",onScroll:de,ratio:z*100/W,scrollFrom:J/(W-z),total:O,visible:!0}),te=fe(Kt,{ref:G,alwaysOn:E,startGap:H,endGap:C,class:T.e("vertical"),clientSize:P,layout:"vertical",onScroll:ye,ratio:P*100/k,scrollFrom:se/(k-P),total:L,visible:!0});return{horizontalScrollbar:q,verticalScrollbar:te}},Te=()=>{var E;const[H,C]=n(K),[L,O]=n(B),{data:z,totalColumn:P,totalRow:W,useIsScrolling:k,itemKey:J}=u,se=[];if(W>0&&P>0)for(let q=L;q<=O;q++)for(let te=H;te<=C;te++){const Pe=J({columnIndex:te,data:z,rowIndex:q});se.push(fe(Do,{key:Pe},(E=b.default)==null?void 0:E.call(b,{columnIndex:te,data:z,isScrolling:k?n(R).isScrolling:void 0,style:Ke(q,te),rowIndex:q})))}return se},je=()=>{const E=Lt(u.innerElement),H=Te();return[fe(E,X(u.innerProps,{style:n(ve),ref:j}),Pt(E)?H:{default:()=>H})]};return()=>{const E=Lt(u.containerElement),{horizontalScrollbar:H,verticalScrollbar:C}=ee(),L=je();return fe("div",{key:0,class:T.e("wrapper"),role:u.role},[fe(E,{class:u.className,style:n(oe),onScroll:ae,ref:S},Pt(E)?L:{default:()=>L}),H,C])}}}),{max:nt,min:wo,floor:bo}=Math,gl={column:"columnWidth",row:"rowHeight"},St={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},me=(e,t,o,l)=>{const[r,a,s]=[o[l],e[gl[l]],o[St[l]]];if(t>s){let c=0;if(s>=0){const m=r[s];c=m.offset+m.size}for(let m=s+1;m<=t;m++){const h=a(m);r[m]={offset:c,size:h},c+=h}o[St[l]]=t}return r[t]},So=(e,t,o,l,r,a)=>{for(;o<=l;){const s=o+bo((l-o)/2),c=me(e,s,t,a).offset;if(c===r)return s;c<r?o=s+1:l=s-1}return nt(0,o-1)},wl=(e,t,o,l,r)=>{const a=r==="column"?e.totalColumn:e.totalRow;let s=1;for(;o<a&&me(e,o,t,r).offset<l;)o+=s,s*=2;return So(e,t,bo(o/2),wo(o,a-1),l,r)},Bt=(e,t,o,l)=>{const[r,a]=[t[l],t[St[l]]];return(a>0?r[a].offset:0)>=o?So(e,t,0,a,o,l):wl(e,t,nt(0,a),o,l)},Ro=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:o,row:l})=>{let r=0;if(o>=e&&(o=e-1),o>=0){const c=l[o];r=c.offset+c.size}const s=(e-o-1)*t;return r+s},xo=({totalColumn:e},{column:t,estimatedColumnWidth:o,lastVisitedColumnIndex:l})=>{let r=0;if(l>e&&(l=e-1),l>=0){const c=t[l];r=c.offset+c.size}const s=(e-l-1)*o;return r+s},bl={column:xo,row:Ro},qt=(e,t,o,l,r,a,s)=>{const[c,m]=[a==="row"?e.height:e.width,bl[a]],h=me(e,t,r,a),d=m(e,r),y=nt(0,wo(d-c,h.offset)),w=nt(0,h.offset-c+s+h.size);switch(o===no&&(l>=w-c&&l<=y+c?o=Ce:o=$e),o){case ft:return y;case ht:return w;case $e:return Math.round(w+(y-w)/2);case Ce:default:return l>=w&&l<=y?l:w>y||l<w?w:y}},Sl=go({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,o)=>{const l=me(e,t,o,"column");return[l.size,l.offset]},getRowPosition:(e,t,o)=>{const l=me(e,t,o,"row");return[l.size,l.offset]},getColumnOffset:(e,t,o,l,r,a)=>qt(e,t,o,l,r,"column",a),getRowOffset:(e,t,o,l,r,a)=>qt(e,t,o,l,r,"row",a),getColumnStartIndexForOffset:(e,t,o)=>Bt(e,o,t,"column"),getColumnStopIndexForStartIndex:(e,t,o,l)=>{const r=me(e,t,l,"column"),a=o+e.width;let s=r.offset+r.size,c=t;for(;c<e.totalColumn-1&&s<a;)c++,s+=me(e,t,l,"column").size;return c},getEstimatedTotalHeight:Ro,getEstimatedTotalWidth:xo,getRowStartIndexForOffset:(e,t,o)=>Bt(e,o,t,"row"),getRowStopIndexForStartIndex:(e,t,o,l)=>{const{totalRow:r,height:a}=e,s=me(e,t,l,"row"),c=o+a;let m=s.size+s.offset,h=t;for(;h<r-1&&m<c;)h++,m+=me(e,h,l,"row").size;return h},injectToInstance:(e,t)=>{const o=({columnIndex:a,rowIndex:s},c)=>{var m,h;c=$o(c)?!0:c,Q(a)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,a-1)),Q(s)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,s-1)),(m=e.exposed)==null||m.getItemStyleCache.value(-1,null,null),c&&((h=e.proxy)==null||h.$forceUpdate())},l=(a,s)=>{o({columnIndex:a},s)},r=(a,s)=>{o({rowIndex:a},s)};Object.assign(e.proxy,{resetAfterColumnIndex:l,resetAfterRowIndex:r,resetAfter:o})},initCache:({estimatedColumnWidth:e=Wt,estimatedRowHeight:t=Wt})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Rl=go({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:o},l,r,a,s,c)=>{o=Number(o);const m=Math.max(0,e*t-o),h=Math.min(m,l*t),d=Math.max(0,l*t-o+c+t);switch(r==="smart"&&(a>=d-o&&a<=h+o?r=Ce:r=$e),r){case ft:return h;case ht:return d;case $e:{const y=Math.round(d+(h-d)/2);return y<Math.ceil(o/2)?0:y>m+Math.floor(o/2)?m:y}case Ce:default:return a>=d&&a<=h?a:d>h||a<d?d:h}},getRowOffset:({rowHeight:e,height:t,totalRow:o},l,r,a,s,c)=>{t=Number(t);const m=Math.max(0,o*e-t),h=Math.min(m,l*e),d=Math.max(0,l*e-t+c+e);switch(r===no&&(a>=d-t&&a<=h+t?r=Ce:r=$e),r){case ft:return h;case ht:return d;case $e:{const y=Math.round(d+(h-d)/2);return y<Math.ceil(t/2)?0:y>m+Math.floor(t/2)?m:y}case Ce:default:return a>=d&&a<=h?a:d>h||a<d?d:h}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:o},l,r)=>{const a=l*e,s=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+s-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:o},l,r)=>{const a=l*e,s=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),xl="ElTableV2Grid",Tl=e=>{const t=F(),o=F(),l=F(0),r=x(()=>{const{data:i,rowHeight:f,estimatedRowHeight:b}=e;if(!b)return i.length*f}),a=x(()=>{const{fixedData:i,rowHeight:f}=e;return(i?.length||0)*f}),s=x(()=>et(e.headerHeight)),c=x(()=>{const{height:i}=e;return Math.max(0,i-n(s)-n(a))}),m=x(()=>n(s)+n(a)>0),h=({data:i,rowIndex:f})=>i[f][e.rowKey];function d({rowCacheStart:i,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:T}){var M;(M=e.onRowsRendered)==null||M.call(e,{rowCacheStart:i,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:T})}function y(i,f){var b;(b=o.value)==null||b.resetAfterRowIndex(i,f)}function w(i,f){const b=n(t),T=n(o);Rt(i)?(b?.scrollToLeft(i.scrollLeft),l.value=i.scrollLeft,T?.scrollTo(i)):(b?.scrollToLeft(i),l.value=i,T?.scrollTo({scrollLeft:i,scrollTop:f}))}function g(i){var f;(f=n(o))==null||f.scrollTo({scrollTop:i})}function v(i,f){var b;(b=n(o))==null||b.scrollToItem(i,1,f)}function u(){var i,f;(i=n(o))==null||i.$forceUpdate(),(f=n(t))==null||f.$forceUpdate()}return Oe(()=>e.bodyWidth,()=>{var i;Q(e.estimatedRowHeight)&&((i=o.value)==null||i.resetAfter({columnIndex:0},!1))}),{bodyRef:o,forceUpdate:u,fixedRowHeight:a,gridHeight:c,hasHeader:m,headerHeight:s,headerRef:t,totalHeight:r,itemKey:h,onItemRendered:d,resetAfterRowIndex:y,scrollTo:w,scrollToTop:g,scrollToRow:v,scrollLeft:l}},El=Se({name:xl,props:tt,setup(e,{slots:t,expose:o}){const{ns:l}=Tt(Ct),{bodyRef:r,fixedRowHeight:a,gridHeight:s,hasHeader:c,headerRef:m,headerHeight:h,totalHeight:d,forceUpdate:y,itemKey:w,onItemRendered:g,resetAfterRowIndex:v,scrollTo:u,scrollToTop:i,scrollToRow:f,scrollLeft:b}=Tl(e);Jt(fo,b),Wo(async()=>{var M;await Me();const A=(M=r.value)==null?void 0:M.states.scrollTop;A&&i(Math.round(A)+1)}),o({forceUpdate:y,totalHeight:d,scrollTo:u,scrollToTop:i,scrollToRow:f,resetAfterRowIndex:v});const T=()=>e.bodyWidth;return()=>{const{cache:M,columns:A,data:S,fixedData:$,useIsScrolling:G,scrollbarAlwaysOn:j,scrollbarEndGap:R,scrollbarStartGap:I,style:D,rowHeight:N,bodyWidth:K,estimatedRowHeight:B,headerWidth:V,height:U,width:oe,getRowHeight:ve,onScroll:ie}=e,ae=Q(B),ye=ae?Sl:Rl,de=n(h);return _("div",{role:"table",class:[l.e("table"),e.class],style:D},[_(ye,{ref:r,data:S,useIsScrolling:G,itemKey:w,columnCache:0,columnWidth:ae?T:K,totalColumn:1,totalRow:S.length,rowCache:M,rowHeight:ae?ve:N,width:oe,height:n(s),class:l.e("body"),role:"rowgroup",scrollbarStartGap:I,scrollbarEndGap:R,scrollbarAlwaysOn:j,onScroll:ie,onItemRendered:g,perfMode:!1},{default:ge=>{var Z;const we=S[ge.rowIndex];return(Z=t.row)==null?void 0:Z.call(t,{...ge,columns:A,rowData:we})}}),n(c)&&_(ml,{ref:m,class:l.e("header-wrapper"),columns:A,headerData:S,headerHeight:e.headerHeight,fixedHeaderData:$,rowWidth:V,rowHeight:N,width:oe,height:Math.min(de+n(a),U)},{dynamic:t.header,fixed:t.row})])}}});var pt=El;function Hl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const Cl=(e,{slots:t})=>{const{mainTableRef:o,...l}=e;return _(pt,X({ref:o},l),Hl(t)?t:{default:()=>[t]})};var _l=Cl;function Ml(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const pl=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:o,...l}=e;return _(pt,X({ref:o},l),Ml(t)?t:{default:()=>[t]})};var Il=pl;function Ol(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const Al=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:o,...l}=e;return _(pt,X({ref:o},l),Ol(t)?t:{default:()=>[t]})};var Nl=Al;const zl=e=>{const{isScrolling:t}=Tt(Ct),o=F(!1),l=F(),r=x(()=>Q(e.estimatedRowHeight)&&e.rowIndex>=0),a=(m=!1)=>{const h=n(l);if(!h)return;const{columns:d,onRowHeightChange:y,rowKey:w,rowIndex:g,style:v}=e,{height:u}=h.getBoundingClientRect();o.value=!0,Me(()=>{if(m||u!==Number.parseInt(v.height)){const i=d[0],f=i?.placeholderSign===Ye;y?.({rowKey:w,height:u,rowIndex:g},i&&!f&&i.fixed)}})},s=x(()=>{const{rowData:m,rowIndex:h,rowKey:d,onRowHover:y}=e,w=e.rowEventHandlers||{},g={};return Object.entries(w).forEach(([v,u])=>{xt(u)&&(g[v]=i=>{u({event:i,rowData:m,rowIndex:h,rowKey:d})})}),y&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:v,hovered:u})=>{const i=g[v];g[v]=f=>{y({event:f,hovered:u,rowData:m,rowIndex:h,rowKey:d}),i?.(f)}}),g}),c=m=>{const{onRowExpand:h,rowData:d,rowIndex:y,rowKey:w}=e;h?.({expanded:m,rowData:d,rowIndex:y,rowKey:w})};return Et(()=>{n(r)&&a(!0)}),{isScrolling:t,measurable:r,measured:o,rowRef:l,eventHandlers:s,onExpand:c}},Ll="ElTableV2TableRow",Pl=Se({name:Ll,props:_e,setup(e,{expose:t,slots:o,attrs:l}){const{eventHandlers:r,isScrolling:a,measurable:s,measured:c,rowRef:m,onExpand:h}=zl(e);return t({onExpand:h}),()=>{const{columns:d,columnsStyles:y,expandColumnKey:w,depth:g,rowData:v,rowIndex:u,style:i}=e;let f=d.map((b,T)=>{const M=We(v.children)&&v.children.length>0&&b.key===w;return o.cell({column:b,columns:d,columnIndex:T,depth:g,style:y[b.key],rowData:v,rowIndex:u,isScrolling:n(a),expandIconProps:M?{rowData:v,rowIndex:u,onExpand:h}:void 0})});if(o.row&&(f=o.row({cells:f.map(b=>We(b)&&b.length===1?b[0]:b),style:i,columns:d,depth:g,rowData:v,rowIndex:u,isScrolling:n(a)})),n(s)){const{height:b,...T}=i||{},M=n(c);return _("div",X({ref:m,class:e.class,style:M?i:T,role:"row"},l,n(r)),[f])}return _("div",X(l,{ref:m,class:e.class,style:i,role:"row"},n(r)),[f])}}});var Dl=Pl;function Fl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const $l=(e,{slots:t})=>{const{columns:o,columnsStyles:l,depthMap:r,expandColumnKey:a,expandedRowKeys:s,estimatedRowHeight:c,hasFixedColumns:m,rowData:h,rowIndex:d,style:y,isScrolling:w,rowProps:g,rowClass:v,rowKey:u,rowEventHandlers:i,ns:f,onRowHovered:b,onRowExpanded:T}=e,M=Ae(v,{columns:o,rowData:h,rowIndex:d},""),A=Ae(g,{columns:o,rowData:h,rowIndex:d}),S=h[u],$=r[S]||0,G=!!a,j=d<0,R=[f.e("row"),M,f.is("expanded",G&&s.includes(S)),f.is("fixed",!$&&j),f.is("customized",!!t.row),{[f.e(`row-depth-${$}`)]:G&&d>=0}],I=m?b:void 0,D={...A,columns:o,columnsStyles:l,class:R,depth:$,expandColumnKey:a,estimatedRowHeight:j?void 0:c,isScrolling:w,rowIndex:d,rowData:h,rowKey:S,rowEventHandlers:i,style:y};return _(Dl,X(D,{onRowExpand:T,onMouseenter:B=>{I?.({hovered:!0,rowKey:S,event:B,rowData:h,rowIndex:d})},onMouseleave:B=>{I?.({hovered:!1,rowKey:S,event:B,rowData:h,rowIndex:d})},rowkey:S}),Fl(t)?t:{default:()=>[t]})};var Wl=$l;const It=(e,{slots:t})=>{var o;const{cellData:l,style:r}=e,a=((o=l?.toString)==null?void 0:o.call(l))||"",s=Xe(t,"default",e,()=>[a]);return _("div",{class:e.class,title:a,style:r},[s])};It.displayName="ElTableV2Cell";It.inheritAttrs=!1;var Gl=It;const Vl=e=>{const{expanded:t,expandable:o,onExpand:l,style:r,size:a}=e,s={onClick:o?()=>l(!t):void 0,class:e.class};return _(Qt,X(s,{size:a,style:r}),{default:()=>[_(Go,null,null)]})};var Kl=Vl;const To=({columns:e,column:t,columnIndex:o,depth:l,expandIconProps:r,isScrolling:a,rowData:s,rowIndex:c,style:m,expandedRowKeys:h,ns:d,cellProps:y,expandColumnKey:w,indentSize:g,iconSize:v,rowKey:u},{slots:i})=>{const f=be(m);if(t.placeholderSign===Ye)return _("div",{class:d.em("row-cell","placeholder"),style:f},null);const{cellRenderer:b,dataKey:T,dataGetter:M}=t,A=xt(M)?M({columns:e,column:t,columnIndex:o,rowData:s,rowIndex:c}):Vo(s,T??""),S=Ae(y,{cellData:A,columns:e,column:t,columnIndex:o,rowIndex:c,rowData:s}),$={class:d.e("cell-text"),columns:e,column:t,columnIndex:o,cellData:A,isScrolling:a,rowData:s,rowIndex:c},G=ho(b),j=G?G($):Xe(i,"default",$,()=>[_(Gl,$,null)]),R=[d.e("row-cell"),t.class,t.align===Ue.CENTER&&d.is("align-center"),t.align===Ue.RIGHT&&d.is("align-right")],I=c>=0&&w&&t.key===w,D=c>=0&&h.includes(s[u]);let N;const K=`margin-inline-start: ${l*g}px;`;return I&&(Rt(r)?N=_(Kl,X(r,{class:[d.e("expand-icon"),d.is("expanded",D)],size:v,expanded:D,style:K,expandable:!0}),null):N=_("div",{style:[K,`width: ${v}px; height: ${v}px;`].join(" ")},null)),_("div",X({class:R,style:f},S,{role:"cell"}),[N,j])};To.inheritAttrs=!1;var Ut=To;const jl=ce({class:String,columns:Ze,columnsStyles:{type:p(Object),required:!0},headerIndex:Number,style:{type:p(Object)}}),kl=Se({name:"ElTableV2HeaderRow",props:jl,setup(e,{slots:t}){return()=>{const{columns:o,columnsStyles:l,headerIndex:r,style:a}=e;let s=o.map((c,m)=>t.cell({columns:o,column:c,columnIndex:m,headerIndex:r,style:l[c.key]}));return t.header&&(s=t.header({cells:s.map(c=>We(c)&&c.length===1?c[0]:c),columns:o,headerIndex:r})),_("div",{class:e.class,style:a,role:"row"},[s])}}});var Bl=kl;function ql(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const Ul=({columns:e,columnsStyles:t,headerIndex:o,style:l,headerClass:r,headerProps:a,ns:s},{slots:c})=>{const m={columns:e,headerIndex:o},h=[s.e("header-row"),Ae(r,m,""),s.is("customized",!!c.header)],d={...Ae(a,m),columnsStyles:t,class:h,columns:e,headerIndex:o,style:l};return _(Bl,d,ql(c)?c:{default:()=>[c]})};var Yl=Ul;const Ot=(e,{slots:t})=>Xe(t,"default",e,()=>{var o,l;return[_("div",{class:e.class,title:(o=e.column)==null?void 0:o.title},[(l=e.column)==null?void 0:l.title])]});Ot.displayName="ElTableV2HeaderCell";Ot.inheritAttrs=!1;var Xl=Ot;const Zl=e=>{const{sortOrder:t}=e;return _(Qt,{size:14,class:e.class},{default:()=>[t===qe.ASC?_(Ko,null,null):_(jo,null,null)]})};var Jl=Zl;const Ql=(e,{slots:t})=>{const{column:o,ns:l,style:r,onColumnSorted:a}=e,s=be(r);if(o.placeholderSign===Ye)return _("div",{class:l.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:c,headerClass:m,sortable:h}=o,d={...e,class:l.e("header-cell-text")},y=ho(c),w=y?y(d):Xe(t,"default",d,()=>[_(Xl,d,null)]),{sortBy:g,sortState:v,headerCellProps:u}=e;let i,f;if(v){const M=v[o.key];i=!!bt[M],f=i?M:qe.ASC}else i=o.key===g.key,f=i?g.order:qe.ASC;const b=[l.e("header-cell"),Ae(m,e,""),o.align===Ue.CENTER&&l.is("align-center"),o.align===Ue.RIGHT&&l.is("align-right"),h&&l.is("sortable")],T={...Ae(u,e),onClick:o.sortable?a:void 0,class:b,style:s,"data-key":o.key};return _("div",X(T,{role:"columnheader"}),[w,h&&_(Jl,{class:[l.e("sort-icon"),i&&l.is("sorting")],sortOrder:f},null)])};var Yt=Ql;const Eo=(e,{slots:t})=>{var o;return _("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};Eo.displayName="ElTableV2Footer";var en=Eo;const Ho=(e,{slots:t})=>{const o=Xe(t,"default",{},()=>[_(Yo,null,null)]);return _("div",{class:e.class,style:e.style},[o])};Ho.displayName="ElTableV2Empty";var tn=Ho;const Co=(e,{slots:t})=>{var o;return _("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};Co.displayName="ElTableV2Overlay";var on=Co;function ke(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const ln="ElTableV2",nn=Se({name:ln,props:ul,setup(e,{slots:t,expose:o}){const l=Ie("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,mainColumns:c,mainTableHeight:m,fixedTableHeight:h,leftTableWidth:d,rightTableWidth:y,data:w,depthMap:g,expandedRowKeys:v,hasFixedColumns:u,mainTableRef:i,leftTableRef:f,rightTableRef:b,isDynamic:T,isResetting:M,isScrolling:A,bodyWidth:S,emptyStyle:$,rootStyle:G,footerHeight:j,showEmpty:R,scrollTo:I,scrollToLeft:D,scrollToTop:N,scrollToRow:K,getRowHeight:B,onColumnSorted:V,onRowHeightChange:U,onRowHovered:oe,onRowExpanded:ve,onRowsRendered:ie,onScroll:ae,onVerticalScroll:ye}=il(e);return o({scrollTo:I,scrollToLeft:D,scrollToTop:N,scrollToRow:K}),Jt(Ct,{ns:l,isResetting:M,isScrolling:A}),()=>{const{cache:de,cellProps:ge,estimatedRowHeight:Z,expandColumnKey:we,fixedData:Re,headerHeight:xe,headerClass:Ge,headerProps:Ve,headerCellProps:Ke,sortBy:ue,sortState:Le,rowHeight:Y,rowClass:le,rowEventHandlers:re,rowKey:ee,rowProps:Te,scrollbarAlwaysOn:je,indentSize:At,iconSize:E,useIsScrolling:H,vScrollbarSize:C,width:L}=e,O=n(w),z={cache:de,class:l.e("main"),columns:n(c),data:O,fixedData:Re,estimatedRowHeight:Z,bodyWidth:n(S),headerHeight:xe,headerWidth:n(S),height:n(m),mainTableRef:i,rowKey:ee,rowHeight:Y,scrollbarAlwaysOn:je,scrollbarStartGap:2,scrollbarEndGap:C,useIsScrolling:H,width:L,getRowHeight:B,onRowsRendered:ie,onScroll:ae},P=n(d),W=n(h),k={cache:de,class:l.e("left"),columns:n(a),data:O,fixedData:Re,estimatedRowHeight:Z,leftTableRef:f,rowHeight:Y,bodyWidth:P,headerWidth:P,headerHeight:xe,height:W,rowKey:ee,scrollbarAlwaysOn:je,scrollbarStartGap:2,scrollbarEndGap:C,useIsScrolling:H,width:P,getRowHeight:B,onScroll:ye},J=n(y),se={cache:de,class:l.e("right"),columns:n(s),data:O,fixedData:Re,estimatedRowHeight:Z,rightTableRef:b,rowHeight:Y,bodyWidth:J,headerWidth:J,headerHeight:xe,height:W,rowKey:ee,scrollbarAlwaysOn:je,scrollbarStartGap:2,scrollbarEndGap:C,width:J,style:`${l.cssVarName("table-scrollbar-size")}: ${C}px`,useIsScrolling:H,getRowHeight:B,onScroll:ye},q=n(r),te={ns:l,depthMap:n(g),columnsStyles:q,expandColumnKey:we,expandedRowKeys:n(v),estimatedRowHeight:Z,hasFixedColumns:n(u),rowProps:Te,rowClass:le,rowKey:ee,rowEventHandlers:re,onRowHovered:oe,onRowExpanded:ve,onRowHeightChange:U},Pe={cellProps:ge,expandColumnKey:we,indentSize:At,iconSize:E,rowKey:ee,expandedRowKeys:n(v),ns:l},rt={ns:l,headerClass:Ge,headerProps:Ve,columnsStyles:q},Nt={ns:l,sortBy:ue,sortState:Le,headerCellProps:Ke,onColumnSorted:V},he={row:st=>_(Wl,X(st,te),{row:t.row,cell:ne=>{let Ee;return t.cell?_(Ut,X(ne,Pe,{style:q[ne.column.key]}),ke(Ee=t.cell(ne))?Ee:{default:()=>[Ee]}):_(Ut,X(ne,Pe,{style:q[ne.column.key]}),null)}}),header:st=>_(Yl,X(st,rt),{header:t.header,cell:ne=>{let Ee;return t["header-cell"]?_(Yt,X(ne,Nt,{style:q[ne.column.key]}),ke(Ee=t["header-cell"](ne))?Ee:{default:()=>[Ee]}):_(Yt,X(ne,Nt,{style:q[ne.column.key]}),null)}})},_o=[e.class,l.b(),l.e("root"),l.is("dynamic",n(T))],Mo={class:l.e("footer"),style:n(j)};return _("div",{class:_o,style:n(G)},[_(_l,z,ke(he)?he:{default:()=>[he]}),_(Il,k,ke(he)?he:{default:()=>[he]}),_(Nl,se,ke(he)?he:{default:()=>[he]}),t.footer&&_(en,Mo,{default:t.footer}),n(R)&&_(tn,{class:l.e("empty"),style:n($)},{default:t.empty}),t.overlay&&_(on,{class:l.e("overlay")},{default:t.overlay})])}}});var an=nn;const rn=ce({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:p(Function)}}),sn=e=>{const t=F(),o=F(0),l=F(0);let r;return Et(()=>{r=ko(t,([a])=>{const{width:s,height:c}=a.contentRect,{paddingLeft:m,paddingRight:h,paddingTop:d,paddingBottom:y}=getComputedStyle(a.target),w=Number.parseInt(m)||0,g=Number.parseInt(h)||0,v=Number.parseInt(d)||0,u=Number.parseInt(y)||0;o.value=s-w-g,l.value=c-v-u}).stop}),Zt(()=>{r?.()}),Oe([o,l],([a,s])=>{var c;(c=e.onResize)==null||c.call(e,{width:a,height:s})}),{sizer:t,width:o,height:l}},cn=Se({name:"ElAutoResizer",props:rn,setup(e,{slots:t}){const o=Ie("auto-resizer"),{height:l,width:r,sizer:a}=sn(e),s={width:"100%",height:"100%"};return()=>{var c;return _("div",{ref:a,class:o.b(),style:s},[(c=t.default)==null?void 0:c.call(t,{height:l.value,width:r.value})])}}});var dn=cn;const yn=eo(an),gn=eo(dn);export{gn as E,uo as F,yn as a};
