import{h as ne,j as me,o as T,c as ee,w as G,r as Yt,bx as _r,d6 as Sr,n as p,aU as Dr,v as ke,g as Ae,bJ as Ge,aG as xe,k as ue,l as R,t as Z,q as Nt,ag as wt,a4 as Le,a5 as Zt,a9 as en,aX as tn,y as H,D as he,a as Q,H as ge,I as Oe,p as ae,m as J,B as nn,aV as rn,s as Y,d1 as Tr,d7 as Rt,d2 as Ir,a3 as Or,ac as at,am as Fe,aD as jr,aF as be,ar as Te,ah as Ar,ai as qr,x as Kr,co as gt,X as zr,aL as $r,cP as ft,cN as Rr,bL as Br,$ as mt,d8 as Mr,aJ as Ie,T as vt,U as yt,aK as Se,a1 as Lr,bz as Fr,aq as Ur,a0 as Bt,R as an,af as Hr,aB as Wr,ak as De,bE as Jr,Z as Vr,C as Qr,W as Gr,b as se,z as Mt,d9 as Xr,A as Yr,aQ as Lt,J as Zr,K as ea,_ as ta}from"./index-72f789a3.js";import{E as na}from"./el-checkbox-c9cf833b.js";import{u as Pt,h as Ft,j as Ut,c as on,a as Be,k as ra,l as aa,P as Ht,C as oa,T as sa}from"./index-9197feca.js";import"./el-tag-9d184646.js";import{E as sn,a as un}from"./el-select-f82919b0.js";import"./el-scrollbar-e88d9e52.js";import"./el-popper-d07007b7.js";import{E as ia}from"./el-divider-f958bb15.js";import{i as ua}from"./isEqual-2346821b.js";import"./index-89fdaf8f.js";import{_ as la}from"./Link-44cb5fef.js";import{_ as ca}from"./Paragraph-722ef948.js";import{_ as da}from"./Title-004ffd2b.js";import{_ as fa}from"./Text-3bcaee00.js";import"./ResizeObserver.es-0f9f8adb.js";import"./index-1f31530c.js";import"./strings-562f3c14.js";const ha=ne({name:"ElCollapseTransition"}),pa=ne({...ha,setup(t){const n=me("collapse-transition"),i={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){s.dataset.oldOverflow=s.style.overflow,s.scrollHeight!==0?(s.style.maxHeight=`${s.scrollHeight}px`,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom):(s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom),s.style.overflow="hidden"},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom}};return(s,r)=>(T(),ee(Dr,_r({name:p(n).b()},Sr(i)),{default:G(()=>[Yt(s.$slots,"default")]),_:3},16,["name"]))}});var tt=ke(pa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);tt.install=t=>{t.component(tt.name,tt)};const ga=tt,ln=Symbol("elPaginationKey"),ma=Ae({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ge}}),va={click:t=>t instanceof MouseEvent},ya=["disabled","aria-label","aria-disabled"],ba={key:0},ka=ne({name:"ElPaginationPrev"}),Ca=ne({...ka,props:ma,emits:va,setup(t){const n=t,{t:i}=xe(),s=ue(()=>n.disabled||n.currentPage<=1);return(r,c)=>(T(),R("button",{type:"button",class:"btn-prev",disabled:p(s),"aria-label":r.prevText||p(i)("el.pagination.prev"),"aria-disabled":p(s),onClick:c[0]||(c[0]=g=>r.$emit("click",g))},[r.prevText?(T(),R("span",ba,Z(r.prevText),1)):(T(),ee(p(wt),{key:1},{default:G(()=>[(T(),ee(Nt(r.prevIcon)))]),_:1}))],8,ya))}});var Na=ke(Ca,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const wa=Ae({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ge}}),Pa=["disabled","aria-label","aria-disabled"],Ea={key:0},xa=ne({name:"ElPaginationNext"}),_a=ne({...xa,props:wa,emits:["click"],setup(t){const n=t,{t:i}=xe(),s=ue(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(r,c)=>(T(),R("button",{type:"button",class:"btn-next",disabled:p(s),"aria-label":r.nextText||p(i)("el.pagination.next"),"aria-disabled":p(s),onClick:c[0]||(c[0]=g=>r.$emit("click",g))},[r.nextText?(T(),R("span",Ea,Z(r.nextText),1)):(T(),ee(p(wt),{key:1},{default:G(()=>[(T(),ee(Nt(r.nextIcon)))]),_:1}))],8,Pa))}});var Sa=ke(_a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Et=()=>Le(ln,{}),Da=Ae({pageSize:{type:Number,required:!0},pageSizes:{type:Zt(Array),default:()=>en([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:tn}}),Ta=ne({name:"ElPaginationSizes"}),Ia=ne({...Ta,props:Da,emits:["page-size-change"],setup(t,{emit:n}){const i=t,{t:s}=xe(),r=me("pagination"),c=Et(),g=H(i.pageSize);he(()=>i.pageSizes,(h,E)=>{if(!ua(h,E)&&Array.isArray(h)){const y=h.includes(i.pageSize)?i.pageSize:i.pageSizes[0];n("page-size-change",y)}}),he(()=>i.pageSize,h=>{g.value=h});const f=ue(()=>i.pageSizes);function z(h){var E;h!==g.value&&(g.value=h,(E=c.handleSizeChange)==null||E.call(c,Number(h)))}return(h,E)=>(T(),R("span",{class:ae(p(r).e("sizes"))},[Q(p(un),{"model-value":g.value,disabled:h.disabled,"popper-class":h.popperClass,size:h.size,"validate-event":!1,onChange:z},{default:G(()=>[(T(!0),R(ge,null,Oe(p(f),y=>(T(),ee(p(sn),{key:y,value:y,label:y+p(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var Oa=ke(Ia,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const ja=Ae({size:{type:String,values:tn}}),Aa=["disabled"],qa=ne({name:"ElPaginationJumper"}),Ka=ne({...qa,props:ja,setup(t){const{t:n}=xe(),i=me("pagination"),{pageCount:s,disabled:r,currentPage:c,changeEvent:g}=Et(),f=H(),z=ue(()=>{var y;return(y=f.value)!=null?y:c?.value});function h(y){f.value=y?+y:""}function E(y){y=Math.trunc(+y),g?.(y),f.value=void 0}return(y,b)=>(T(),R("span",{class:ae(p(i).e("jump")),disabled:p(r)},[J("span",{class:ae([p(i).e("goto")])},Z(p(n)("el.pagination.goto")),3),Q(p(nn),{size:y.size,class:ae([p(i).e("editor"),p(i).is("in-pagination")]),min:1,max:p(s),disabled:p(r),"model-value":p(z),"validate-event":!1,label:p(n)("el.pagination.page"),type:"number","onUpdate:modelValue":h,onChange:E},null,8,["size","class","max","disabled","model-value","label"]),J("span",{class:ae([p(i).e("classifier")])},Z(p(n)("el.pagination.pageClassifier")),3)],10,Aa))}});var za=ke(Ka,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const $a=Ae({total:{type:Number,default:1e3}}),Ra=["disabled"],Ba=ne({name:"ElPaginationTotal"}),Ma=ne({...Ba,props:$a,setup(t){const{t:n}=xe(),i=me("pagination"),{disabled:s}=Et();return(r,c)=>(T(),R("span",{class:ae(p(i).e("total")),disabled:p(s)},Z(p(n)("el.pagination.total",{total:r.total})),11,Ra))}});var La=ke(Ma,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const Fa=Ae({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Ua=["onKeyup"],Ha=["aria-current","aria-label","tabindex"],Wa=["tabindex","aria-label"],Ja=["aria-current","aria-label","tabindex"],Va=["tabindex","aria-label"],Qa=["aria-current","aria-label","tabindex"],Ga=ne({name:"ElPaginationPager"}),Xa=ne({...Ga,props:Fa,emits:["change"],setup(t,{emit:n}){const i=t,s=me("pager"),r=me("icon"),{t:c}=xe(),g=H(!1),f=H(!1),z=H(!1),h=H(!1),E=H(!1),y=H(!1),b=ue(()=>{const _=i.pagerCount,C=(_-1)/2,x=Number(i.currentPage),D=Number(i.pageCount);let k=!1,B=!1;D>_&&(x>_-C&&(k=!0),x<D-C&&(B=!0));const W=[];if(k&&!B){const P=D-(_-2);for(let j=P;j<D;j++)W.push(j)}else if(!k&&B)for(let P=2;P<_;P++)W.push(P);else if(k&&B){const P=Math.floor(_/2)-1;for(let j=x-P;j<=x+P;j++)W.push(j)}else for(let P=2;P<D;P++)W.push(P);return W}),d=ue(()=>i.disabled?-1:0);rn(()=>{const _=(i.pagerCount-1)/2;g.value=!1,f.value=!1,i.pageCount>i.pagerCount&&(i.currentPage>i.pagerCount-_&&(g.value=!0),i.currentPage<i.pageCount-_&&(f.value=!0))});function $(_=!1){i.disabled||(_?z.value=!0:h.value=!0)}function F(_=!1){_?E.value=!0:y.value=!0}function S(_){const C=_.target;if(C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("number")){const x=Number(C.textContent);x!==i.currentPage&&n("change",x)}else C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("more")&&V(_)}function V(_){const C=_.target;if(C.tagName.toLowerCase()==="ul"||i.disabled)return;let x=Number(C.textContent);const D=i.pageCount,k=i.currentPage,B=i.pagerCount-2;C.className.includes("more")&&(C.className.includes("quickprev")?x=k-B:C.className.includes("quicknext")&&(x=k+B)),Number.isNaN(+x)||(x<1&&(x=1),x>D&&(x=D)),x!==k&&n("change",x)}return(_,C)=>(T(),R("ul",{class:ae(p(s).b()),onClick:V,onKeyup:Or(S,["enter"])},[_.pageCount>0?(T(),R("li",{key:0,class:ae([[p(s).is("active",_.currentPage===1),p(s).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===1,"aria-label":p(c)("el.pagination.currentPage",{pager:1}),tabindex:p(d)}," 1 ",10,Ha)):Y("v-if",!0),g.value?(T(),R("li",{key:1,class:ae(["more","btn-quickprev",p(r).b(),p(s).is("disabled",_.disabled)]),tabindex:p(d),"aria-label":p(c)("el.pagination.prevPages",{pager:_.pagerCount-2}),onMouseenter:C[0]||(C[0]=x=>$(!0)),onMouseleave:C[1]||(C[1]=x=>z.value=!1),onFocus:C[2]||(C[2]=x=>F(!0)),onBlur:C[3]||(C[3]=x=>E.value=!1)},[(z.value||E.value)&&!_.disabled?(T(),ee(p(Tr),{key:0})):(T(),ee(p(Rt),{key:1}))],42,Wa)):Y("v-if",!0),(T(!0),R(ge,null,Oe(p(b),x=>(T(),R("li",{key:x,class:ae([[p(s).is("active",_.currentPage===x),p(s).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===x,"aria-label":p(c)("el.pagination.currentPage",{pager:x}),tabindex:p(d)},Z(x),11,Ja))),128)),f.value?(T(),R("li",{key:2,class:ae(["more","btn-quicknext",p(r).b(),p(s).is("disabled",_.disabled)]),tabindex:p(d),"aria-label":p(c)("el.pagination.nextPages",{pager:_.pagerCount-2}),onMouseenter:C[4]||(C[4]=x=>$()),onMouseleave:C[5]||(C[5]=x=>h.value=!1),onFocus:C[6]||(C[6]=x=>F()),onBlur:C[7]||(C[7]=x=>y.value=!1)},[(h.value||y.value)&&!_.disabled?(T(),ee(p(Ir),{key:0})):(T(),ee(p(Rt),{key:1}))],42,Va)):Y("v-if",!0),_.pageCount>1?(T(),R("li",{key:3,class:ae([[p(s).is("active",_.currentPage===_.pageCount),p(s).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===_.pageCount,"aria-label":p(c)("el.pagination.currentPage",{pager:_.pageCount}),tabindex:p(d)},Z(_.pageCount),11,Qa)):Y("v-if",!0)],42,Ua))}});var Ya=ke(Xa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const le=t=>typeof t!="number",Za=Ae({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Te(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Zt(Array),default:()=>en([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ge,default:()=>Ar},nextText:{type:String,default:""},nextIcon:{type:Ge,default:()=>qr},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),eo={"update:current-page":t=>Te(t),"update:page-size":t=>Te(t),"size-change":t=>Te(t),"current-change":t=>Te(t),"prev-click":t=>Te(t),"next-click":t=>Te(t)},Wt="ElPagination";var to=ne({name:Wt,props:Za,emits:eo,setup(t,{emit:n,slots:i}){const{t:s}=xe(),r=me("pagination"),c=at().vnode.props||{},g="onUpdate:currentPage"in c||"onUpdate:current-page"in c||"onCurrentChange"in c,f="onUpdate:pageSize"in c||"onUpdate:page-size"in c||"onSizeChange"in c,z=ue(()=>{if(le(t.total)&&le(t.pageCount)||!le(t.currentPage)&&!g)return!1;if(t.layout.includes("sizes")){if(le(t.pageCount)){if(!le(t.total)&&!le(t.pageSize)&&!f)return!1}else if(!f)return!1}return!0}),h=H(le(t.defaultPageSize)?10:t.defaultPageSize),E=H(le(t.defaultCurrentPage)?1:t.defaultCurrentPage),y=ue({get(){return le(t.pageSize)?h.value:t.pageSize},set(C){le(t.pageSize)&&(h.value=C),f&&(n("update:page-size",C),n("size-change",C))}}),b=ue(()=>{let C=0;return le(t.pageCount)?le(t.total)||(C=Math.max(1,Math.ceil(t.total/y.value))):C=t.pageCount,C}),d=ue({get(){return le(t.currentPage)?E.value:t.currentPage},set(C){let x=C;C<1?x=1:C>b.value&&(x=b.value),le(t.currentPage)&&(E.value=x),g&&(n("update:current-page",x),n("current-change",x))}});he(b,C=>{d.value>C&&(d.value=C)});function $(C){d.value=C}function F(C){y.value=C;const x=b.value;d.value>x&&(d.value=x)}function S(){t.disabled||(d.value-=1,n("prev-click",d.value))}function V(){t.disabled||(d.value+=1,n("next-click",d.value))}function _(C,x){C&&(C.props||(C.props={}),C.props.class=[C.props.class,x].join(" "))}return Fe(ln,{pageCount:b,disabled:ue(()=>t.disabled),currentPage:d,changeEvent:$,handleSizeChange:F}),()=>{var C,x;if(!z.value)return jr(Wt,s("el.pagination.deprecationWarning")),null;if(!t.layout||t.hideOnSinglePage&&b.value<=1)return null;const D=[],k=[],B=be("div",{class:r.e("rightwrapper")},k),W={prev:be(Na,{disabled:t.disabled,currentPage:d.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:S}),jumper:be(za,{size:t.small?"small":"default"}),pager:be(Ya,{currentPage:d.value,pageCount:b.value,pagerCount:t.pagerCount,onChange:$,disabled:t.disabled}),next:be(Sa,{disabled:t.disabled,currentPage:d.value,pageCount:b.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:V}),sizes:be(Oa,{pageSize:y.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,size:t.small?"small":"default"}),slot:(x=(C=i?.default)==null?void 0:C.call(i))!=null?x:null,total:be(La,{total:le(t.total)?0:t.total})},P=t.layout.split(",").map(I=>I.trim());let j=!1;return P.forEach(I=>{if(I==="->"){j=!0;return}j?k.push(W[I]):D.push(W[I])}),_(D[0],r.is("first")),_(D[D.length-1],r.is("last")),j&&k.length>0&&(_(k[0],r.is("first")),_(k[k.length-1],r.is("last")),D.push(B)),be("div",{class:[r.b(),r.is("background",t.background),{[r.m("small")]:t.small}]},D)}}});const no=Kr(to),Me="$treeNodeId",Jt=function(t,n){!n||n[Me]||Object.defineProperty(n,Me,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},xt=function(t,n){return t?n[t]:n[Me]},bt=(t,n,i)=>{const s=t.value.currentNode;i();const r=t.value.currentNode;s!==r&&n("current-change",r?r.data:null,r)},kt=t=>{let n=!0,i=!0,s=!0;for(let r=0,c=t.length;r<c;r++){const g=t[r];(g.checked!==!0||g.indeterminate)&&(n=!1,g.disabled||(s=!1)),(g.checked!==!1||g.indeterminate)&&(i=!1)}return{all:n,none:i,allWithoutDisable:s,half:!n&&!i}},nt=function(t){if(t.childNodes.length===0||t.loading)return;const{all:n,none:i,half:s}=kt(t.childNodes);n?(t.checked=!0,t.indeterminate=!1):s?(t.checked=!1,t.indeterminate=!0):i&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||nt(r)},Ze=function(t,n){const i=t.store.props,s=t.data||{},r=i[n];if(typeof r=="function")return r(s,t);if(typeof r=="string")return s[r];if(typeof r>"u"){const c=s[n];return c===void 0?"":c}};let ro=0;class je{constructor(n){this.id=ro++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in n)gt(n,i)&&(this[i]=n[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const i=n.props;if(i&&typeof i.isLeaf<"u"){const c=Ze(this,"isLeaf");typeof c=="boolean"&&(this.isLeafByUser=c)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Jt(this,this.data),!this.data)return;const s=n.defaultExpandedKeys,r=n.key;r&&s&&s.includes(this.key)&&this.expand(null,n.autoExpandParent),r&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||Jt(this,n),this.data=n,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=Ze(this,"children")||[];for(let s=0,r=i.length;s<r;s++)this.insertChild({data:i[s]})}get label(){return Ze(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return Ze(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return n.childNodes[i+1]}return null}get previousSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return i>0?n.childNodes[i-1]:null}return null}contains(n,i=!0){return(this.childNodes||[]).some(s=>s===n||i&&s.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,i,s){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof je)){if(!s){const r=this.getChildren(!0);r.includes(n.data)||(typeof i>"u"||i<0?r.push(n.data):r.splice(i,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=zr(new je(n)),n instanceof je&&n.initialize()}n.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(n):this.childNodes.splice(i,0,n),this.updateLeafState()}insertBefore(n,i){let s;i&&(s=this.childNodes.indexOf(i)),this.insertChild(n,s)}insertAfter(n,i){let s;i&&(s=this.childNodes.indexOf(i),s!==-1&&(s+=1)),this.insertChild(n,s)}removeChild(n){const i=this.getChildren()||[],s=i.indexOf(n.data);s>-1&&i.splice(s,1);const r=this.childNodes.indexOf(n);r>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(n){let i=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===n){i=this.childNodes[s];break}i&&this.removeChild(i)}expand(n,i){const s=()=>{if(i){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||nt(this),s())}):s()}doCreateChildren(n,i={}){n.forEach(s=>{this.insertChild(Object.assign({data:s},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,i,s,r){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:g,allWithoutDisable:f}=kt(this.childNodes);!this.isLeaf&&!g&&f&&(this.checked=!1,n=!1);const z=()=>{if(i){const h=this.childNodes;for(let b=0,d=h.length;b<d;b++){const $=h[b];r=r||n!==!1;const F=$.disabled?$.checked:r;$.setChecked(F,i,!0,r)}const{half:E,all:y}=kt(h);y||(this.checked=y,this.indeterminate=E)}};if(this.shouldLoadData()){this.loadData(()=>{z(),nt(this)},{checked:n!==!1});return}else z()}const c=this.parent;!c||c.level===0||s||nt(c)}getChildren(n=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const s=this.store.props;let r="children";return s&&(r=s.children||"children"),i[r]===void 0&&(i[r]=null),n&&!i[r]&&(i[r]=[]),i[r]}updateChildren(){const n=this.getChildren()||[],i=this.childNodes.map(c=>c.data),s={},r=[];n.forEach((c,g)=>{const f=c[Me];!!f&&i.findIndex(h=>h[Me]===f)>=0?s[f]={index:g,data:c}:r.push({index:g,data:c})}),this.store.lazy||i.forEach(c=>{s[c[Me]]||this.removeChildByData(c)}),r.forEach(({index:c,data:g})=>{this.insertChild({data:g},c)}),this.updateLeafState()}loadData(n,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const s=r=>{this.childNodes=[],this.doCreateChildren(r,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,r)};this.store.load(this,s)}else n&&n.call(this)}}class ao{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const i in n)gt(n,i)&&(this[i]=n[i]);this.nodesMap={}}initialize(){if(this.root=new je({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const i=this.filterNodeMethod,s=this.lazy,r=function(c){const g=c.root?c.root.childNodes:c.childNodes;if(g.forEach(f=>{f.visible=i.call(f,n,f.data,f),r(f)}),!c.visible&&g.length){let f=!0;f=!g.some(z=>z.visible),c.root?c.root.visible=f===!1:c.visible=f===!1}n&&c.visible&&!c.isLeaf&&!s&&c.expand()};r(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof je)return n;const i=$r(n)?xt(this.key,n):n;return this.nodesMap[i]||null}insertBefore(n,i){const s=this.getNode(i);s.parent.insertBefore({data:n},s)}insertAfter(n,i){const s=this.getNode(i);s.parent.insertAfter({data:n},s)}remove(n){const i=this.getNode(n);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(n,i){const s=i?this.getNode(i):this.root;s&&s.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],i=this.nodesMap;n.forEach(s=>{const r=i[s];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const i=this.key;!n||!n.data||(i?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,i=!1){const s=[],r=function(c){(c.root?c.root.childNodes:c.childNodes).forEach(f=>{(f.checked||i&&f.indeterminate)&&(!n||n&&f.isLeaf)&&s.push(f.data),r(f)})};return r(this),s}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const n=[],i=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(c=>{c.indeterminate&&n.push(c.data),i(c)})};return i(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],i=this.nodesMap;for(const s in i)gt(i,s)&&n.push(i[s]);return n}updateChildren(n,i){const s=this.nodesMap[n];if(!s)return;const r=s.childNodes;for(let c=r.length-1;c>=0;c--){const g=r[c];this.remove(g.data)}for(let c=0,g=i.length;c<g;c++){const f=i[c];this.append(f,s.data)}}_setCheckedKeys(n,i=!1,s){const r=this._getAllNodes().sort((f,z)=>z.level-f.level),c=Object.create(null),g=Object.keys(s);r.forEach(f=>f.setChecked(!1,!1));for(let f=0,z=r.length;f<z;f++){const h=r[f],E=h.data[n].toString();if(!g.includes(E)){h.checked&&!c[E]&&h.setChecked(!1,!1);continue}let b=h.parent;for(;b&&b.level>0;)c[b.data[n]]=!0,b=b.parent;if(h.isLeaf||this.checkStrictly){h.setChecked(!0,!1);continue}if(h.setChecked(!0,!0),i){h.setChecked(!1,!1);const d=function($){$.childNodes.forEach(S=>{S.isLeaf||S.setChecked(!1,!1),d(S)})};d(h)}}}setCheckedNodes(n,i=!1){const s=this.key,r={};n.forEach(c=>{r[(c||{})[s]]=!0}),this._setCheckedKeys(s,i,r)}setCheckedKeys(n,i=!1){this.defaultCheckedKeys=n;const s=this.key,r={};n.forEach(c=>{r[c]=!0}),this._setCheckedKeys(s,i,r)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(i=>{const s=this.getNode(i);s&&s.expand(null,this.autoExpandParent)})}setChecked(n,i,s){const r=this.getNode(n);r&&r.setChecked(!!i,s)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,i=!0){const s=n[this.key],r=this.nodesMap[s];this.setCurrentNode(r),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,i=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(n);s&&(this.setCurrentNode(s),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const oo=ne({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const n=me("tree"),i=Le("NodeInstance"),s=Le("RootTree");return()=>{const r=t.node,{data:c,store:g}=r;return t.renderContent?t.renderContent(be,{_self:i,node:r,data:c,store:g}):s.ctx.slots.default?s.ctx.slots.default({node:r,data:c}):be("span",{class:n.be("node","label")},[r.label])}}});var so=ke(oo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function cn(t){const n=Le("TreeNodeMap",null),i={treeNodeExpand:s=>{t.node!==s&&t.node.collapse()},children:[]};return n&&n.children.push(i),Fe("TreeNodeMap",i),{broadcastExpanded:s=>{if(t.accordion)for(const r of i.children)r.treeNodeExpand(s)}}}const dn=Symbol("dragEvents");function io({props:t,ctx:n,el$:i,dropIndicator$:s,store:r}){const c=me("tree"),g=H({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Fe(dn,{treeNodeDragStart:({event:E,treeNode:y})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(y.node))return E.preventDefault(),!1;E.dataTransfer.effectAllowed="move";try{E.dataTransfer.setData("text/plain","")}catch{}g.value.draggingNode=y,n.emit("node-drag-start",y.node,E)},treeNodeDragOver:({event:E,treeNode:y})=>{const b=y,d=g.value.dropNode;d&&d.node.id!==b.node.id&&ft(d.$el,c.is("drop-inner"));const $=g.value.draggingNode;if(!$||!b)return;let F=!0,S=!0,V=!0,_=!0;typeof t.allowDrop=="function"&&(F=t.allowDrop($.node,b.node,"prev"),_=S=t.allowDrop($.node,b.node,"inner"),V=t.allowDrop($.node,b.node,"next")),E.dataTransfer.dropEffect=S||F||V?"move":"none",(F||S||V)&&d?.node.id!==b.node.id&&(d&&n.emit("node-drag-leave",$.node,d.node,E),n.emit("node-drag-enter",$.node,b.node,E)),(F||S||V)&&(g.value.dropNode=b),b.node.nextSibling===$.node&&(V=!1),b.node.previousSibling===$.node&&(F=!1),b.node.contains($.node,!1)&&(S=!1),($.node===b.node||$.node.contains(b.node))&&(F=!1,S=!1,V=!1);const C=b.$el.getBoundingClientRect(),x=i.value.getBoundingClientRect();let D;const k=F?S?.25:V?.45:1:-1,B=V?S?.75:F?.55:0:1;let W=-9999;const P=E.clientY-C.top;P<C.height*k?D="before":P>C.height*B?D="after":S?D="inner":D="none";const j=b.$el.querySelector(`.${c.be("node","expand-icon")}`).getBoundingClientRect(),I=s.value;D==="before"?W=j.top-x.top:D==="after"&&(W=j.bottom-x.top),I.style.top=`${W}px`,I.style.left=`${j.right-x.left}px`,D==="inner"?Rr(b.$el,c.is("drop-inner")):ft(b.$el,c.is("drop-inner")),g.value.showDropIndicator=D==="before"||D==="after",g.value.allowDrop=g.value.showDropIndicator||_,g.value.dropType=D,n.emit("node-drag-over",$.node,b.node,E)},treeNodeDragEnd:E=>{const{draggingNode:y,dropType:b,dropNode:d}=g.value;if(E.preventDefault(),E.dataTransfer.dropEffect="move",y&&d){const $={data:y.node.data};b!=="none"&&y.node.remove(),b==="before"?d.node.parent.insertBefore($,d.node):b==="after"?d.node.parent.insertAfter($,d.node):b==="inner"&&d.node.insertChild($),b!=="none"&&r.value.registerNode($),ft(d.$el,c.is("drop-inner")),n.emit("node-drag-end",y.node,d.node,b,E),b!=="none"&&n.emit("node-drop",y.node,d.node,b,E)}y&&!d&&n.emit("node-drag-end",y.node,null,b,E),g.value.showDropIndicator=!1,g.value.draggingNode=null,g.value.dropNode=null,g.value.allowDrop=!0}}),{dragState:g}}const uo=ne({name:"ElTreeNode",components:{ElCollapseTransition:ga,ElCheckbox:na,NodeContent:so,ElIcon:wt,Loading:Br},props:{node:{type:je,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,n){const i=me("tree"),{broadcastExpanded:s}=cn(t),r=Le("RootTree"),c=H(!1),g=H(!1),f=H(null),z=H(null),h=H(null),E=Le(dn),y=at();Fe("NodeInstance",y),t.node.expanded&&(c.value=!0,g.value=!0);const b=r.props.children||"children";he(()=>{const P=t.node.data[b];return P&&[...P]},()=>{t.node.updateChildren()}),he(()=>t.node.indeterminate,P=>{F(t.node.checked,P)}),he(()=>t.node.checked,P=>{F(P,t.node.indeterminate)}),he(()=>t.node.expanded,P=>{mt(()=>c.value=P),P&&(g.value=!0)});const d=P=>xt(r.props.nodeKey,P.data),$=P=>{const j=t.props.class;if(!j)return{};let I;if(Fr(j)){const{data:ve}=P;I=j(ve,P)}else I=j;return Ur(I)?{[I]:!0}:I},F=(P,j)=>{(f.value!==P||z.value!==j)&&r.ctx.emit("check-change",t.node.data,P,j),f.value=P,z.value=j},S=P=>{bt(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(t.node)),r.currentNode.value=t.node,r.props.expandOnClickNode&&_(),r.props.checkOnClickNode&&!t.node.disabled&&C(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,y,P)},V=P=>{r.instance.vnode.props.onNodeContextmenu&&(P.stopPropagation(),P.preventDefault()),r.ctx.emit("node-contextmenu",P,t.node.data,t.node,y)},_=()=>{t.node.isLeaf||(c.value?(r.ctx.emit("node-collapse",t.node.data,t.node,y),t.node.collapse()):(t.node.expand(),n.emit("node-expand",t.node.data,t.node,y)))},C=(P,j)=>{t.node.setChecked(j.target.checked,!r.props.checkStrictly),mt(()=>{const I=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:i,node$:h,tree:r,expanded:c,childNodeRendered:g,oldChecked:f,oldIndeterminate:z,getNodeKey:d,getNodeClass:$,handleSelectChange:F,handleClick:S,handleContextMenu:V,handleExpandIconClick:_,handleCheckChange:C,handleChildNodeExpand:(P,j,I)=>{s(j),r.ctx.emit("node-expand",P,j,I)},handleDragStart:P=>{r.props.draggable&&E.treeNodeDragStart({event:P,treeNode:t})},handleDragOver:P=>{P.preventDefault(),r.props.draggable&&E.treeNodeDragOver({event:P,treeNode:{$el:h.value,node:t.node}})},handleDrop:P=>{P.preventDefault()},handleDragEnd:P=>{r.props.draggable&&E.treeNodeDragEnd(P)},CaretRight:Mr}}}),lo=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],co=["aria-expanded"];function fo(t,n,i,s,r,c){const g=Ie("el-icon"),f=Ie("el-checkbox"),z=Ie("loading"),h=Ie("node-content"),E=Ie("el-tree-node"),y=Ie("el-collapse-transition");return vt((T(),R("div",{ref:"node$",class:ae([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:n[1]||(n[1]=Se((...b)=>t.handleClick&&t.handleClick(...b),["stop"])),onContextmenu:n[2]||(n[2]=(...b)=>t.handleContextMenu&&t.handleContextMenu(...b)),onDragstart:n[3]||(n[3]=Se((...b)=>t.handleDragStart&&t.handleDragStart(...b),["stop"])),onDragover:n[4]||(n[4]=Se((...b)=>t.handleDragOver&&t.handleDragOver(...b),["stop"])),onDragend:n[5]||(n[5]=Se((...b)=>t.handleDragEnd&&t.handleDragEnd(...b),["stop"])),onDrop:n[6]||(n[6]=Se((...b)=>t.handleDrop&&t.handleDrop(...b),["stop"]))},[J("div",{class:ae(t.ns.be("node","content")),style:Lr({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(T(),ee(g,{key:0,class:ae([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:Se(t.handleExpandIconClick,["stop"])},{default:G(()=>[(T(),ee(Nt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):Y("v-if",!0),t.showCheckbox?(T(),ee(f,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:n[0]||(n[0]=Se(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Y("v-if",!0),t.node.loading?(T(),ee(g,{key:2,class:ae([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:G(()=>[Q(z)]),_:1},8,["class"])):Y("v-if",!0),Q(h,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),Q(y,null,{default:G(()=>[!t.renderAfterExpand||t.childNodeRendered?vt((T(),R("div",{key:0,class:ae(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(T(!0),R(ge,null,Oe(t.node.childNodes,b=>(T(),ee(E,{key:t.getNodeKey(b),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:b,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,co)),[[yt,t.expanded]]):Y("v-if",!0)]),_:1})],42,lo)),[[yt,t.node.visible]])}var ho=ke(uo,[["render",fo],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function po({el$:t},n){const i=me("tree"),s=Bt([]),r=Bt([]);an(()=>{g()}),Hr(()=>{s.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),he(r,f=>{f.forEach(z=>{z.setAttribute("tabindex","-1")})}),Wr(t,"keydown",f=>{const z=f.target;if(!z.className.includes(i.b("node")))return;const h=f.code;s.value=Array.from(t.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const E=s.value.indexOf(z);let y;if([De.up,De.down].includes(h)){if(f.preventDefault(),h===De.up){y=E===-1?0:E!==0?E-1:s.value.length-1;const d=y;for(;!n.value.getNode(s.value[y].dataset.key).canFocus;){if(y--,y===d){y=-1;break}y<0&&(y=s.value.length-1)}}else{y=E===-1?0:E<s.value.length-1?E+1:0;const d=y;for(;!n.value.getNode(s.value[y].dataset.key).canFocus;){if(y++,y===d){y=-1;break}y>=s.value.length&&(y=0)}}y!==-1&&s.value[y].focus()}[De.left,De.right].includes(h)&&(f.preventDefault(),z.click());const b=z.querySelector('[type="checkbox"]');[De.enter,De.space].includes(h)&&b&&(f.preventDefault(),b.click())});const g=()=>{var f;s.value=Array.from(t.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const z=t.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(z.length){z[0].setAttribute("tabindex","0");return}(f=s.value[0])==null||f.setAttribute("tabindex","0")}}const go=ne({name:"ElTree",components:{ElTreeNode:ho},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ge}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,n){const{t:i}=xe(),s=me("tree"),r=H(new ao({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));r.value.initialize();const c=H(r.value.root),g=H(null),f=H(null),z=H(null),{broadcastExpanded:h}=cn(t),{dragState:E}=io({props:t,ctx:n,el$:f,dropIndicator$:z,store:r});po({el$:f},r);const y=ue(()=>{const{childNodes:K}=c.value;return!K||K.length===0||K.every(({visible:O})=>!O)});he(()=>t.currentNodeKey,K=>{r.value.setCurrentNodeKey(K)}),he(()=>t.defaultCheckedKeys,K=>{r.value.setDefaultCheckedKey(K)}),he(()=>t.defaultExpandedKeys,K=>{r.value.setDefaultExpandedKeys(K)}),he(()=>t.data,K=>{r.value.setData(K)},{deep:!0}),he(()=>t.checkStrictly,K=>{r.value.checkStrictly=K});const b=K=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(K)},d=K=>xt(t.nodeKey,K.data),$=K=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const O=r.value.getNode(K);if(!O)return[];const fe=[O.data];let ye=O.parent;for(;ye&&ye!==c.value;)fe.push(ye.data),ye=ye.parent;return fe.reverse()},F=(K,O)=>r.value.getCheckedNodes(K,O),S=K=>r.value.getCheckedKeys(K),V=()=>{const K=r.value.getCurrentNode();return K?K.data:null},_=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const K=V();return K?K[t.nodeKey]:null},C=(K,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(K,O)},x=(K,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(K,O)},D=(K,O,fe)=>{r.value.setChecked(K,O,fe)},k=()=>r.value.getHalfCheckedNodes(),B=()=>r.value.getHalfCheckedKeys(),W=(K,O=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");bt(r,n.emit,()=>r.value.setUserCurrentNode(K,O))},P=(K,O=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");bt(r,n.emit,()=>r.value.setCurrentNodeKey(K,O))},j=K=>r.value.getNode(K),I=K=>{r.value.remove(K)},ve=(K,O)=>{r.value.append(K,O)},Ne=(K,O)=>{r.value.insertBefore(K,O)},we=(K,O)=>{r.value.insertAfter(K,O)},Ce=(K,O,fe)=>{h(O),n.emit("node-expand",K,O,fe)},Ue=(K,O)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(K,O)};return Fe("RootTree",{ctx:n,props:t,store:r,root:c,currentNode:g,instance:at()}),Fe(Jr,void 0),{ns:s,store:r,root:c,currentNode:g,dragState:E,el$:f,dropIndicator$:z,isEmpty:y,filter:b,getNodeKey:d,getNodePath:$,getCheckedNodes:F,getCheckedKeys:S,getCurrentNode:V,getCurrentKey:_,setCheckedNodes:C,setCheckedKeys:x,setChecked:D,getHalfCheckedNodes:k,getHalfCheckedKeys:B,setCurrentNode:W,setCurrentKey:P,t:i,getNode:j,remove:I,append:ve,insertBefore:Ne,insertAfter:we,handleNodeExpand:Ce,updateKeyChildren:Ue}}});function mo(t,n,i,s,r,c){const g=Ie("el-tree-node");return T(),R("div",{ref:"el$",class:ae([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(T(!0),R(ge,null,Oe(t.root.childNodes,f=>(T(),ee(g,{key:t.getNodeKey(f),node:f,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(T(),R("div",{key:0,class:ae(t.ns.e("empty-block"))},[Yt(t.$slots,"empty",{},()=>{var f;return[J("span",{class:ae(t.ns.e("empty-text"))},Z((f=t.emptyText)!=null?f:t.t("el.tree.emptyText")),3)]})],2)):Y("v-if",!0),vt(J("div",{ref:"dropIndicator$",class:ae(t.ns.e("drop-indicator"))},null,2),[[yt,t.dragState.showDropIndicator]])],2)}var rt=ke(go,[["render",mo],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);rt.install=t=>{t.component(rt.name,rt)};const vo=rt,yo=vo;var ht={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},pt={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},$e=[],Re=[];function bo(){var t=document.createElement("div"),n=t.style;"AnimationEvent"in window||(delete ht.animationstart.animation,delete pt.animationend.animation),"TransitionEvent"in window||(delete ht.transitionstart.transition,delete pt.transitionend.transition);function i(s,r){for(var c in s)if(s.hasOwnProperty(c)){var g=s[c];for(var f in g)if(f in n){r.push(g[f]);break}}}i(ht,$e),i(pt,Re)}typeof window<"u"&&typeof document<"u"&&bo();function Vt(t,n,i){t.addEventListener(n,i,!1)}function Qt(t,n,i){t.removeEventListener(n,i,!1)}var ko={startEvents:$e,addStartEventListener:function(n,i){if($e.length===0){setTimeout(i,0);return}$e.forEach(function(s){Vt(n,s,i)})},removeStartEventListener:function(n,i){$e.length!==0&&$e.forEach(function(s){Qt(n,s,i)})},endEvents:Re,addEndEventListener:function(n,i){if(Re.length===0){setTimeout(i,0);return}Re.forEach(function(s){Vt(n,s,i)})},removeEndEventListener:function(n,i){Re.length!==0&&Re.forEach(function(s){Qt(n,s,i)})}};const et=ko;var Ee;function Gt(t){return!t||t.offsetParent===null}function Co(t){var n=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}const No=ne({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,i){var s=i.slots,r=i.expose,c=at(),g=Pt("",n),f=g.csp,z=g.prefixCls;r({csp:f});var h=null,E=null,y=null,b=!1,d=null,$=!1,F=function(k){if(!$){var B=Ft(c);!k||k.target!==B||b||C(B)}},S=function(k){!k||k.animationName!=="fadeEffect"||C(k.target)},V=function(){var k=n.insertExtraNode;return k?"".concat(z.value,"-click-animating"):"".concat(z.value,"-click-animating-without-extra-node")},_=function(k,B){var W=n.insertExtraNode,P=n.disabled;if(!(P||!k||Gt(k)||k.className.indexOf("-leave")>=0)){d=document.createElement("div"),d.className="".concat(z.value,"-click-animating-node");var j=V();if(k.removeAttribute(j),k.setAttribute(j,"true"),Ee=Ee||document.createElement("style"),B&&B!=="#ffffff"&&B!=="rgb(255, 255, 255)"&&Co(B)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(B)&&B!=="transparent"){var I;(I=f.value)!==null&&I!==void 0&&I.nonce&&(Ee.nonce=f.value.nonce),d.style.borderColor=B,Ee.innerHTML=`
        [`.concat(z.value,"-click-animating-without-extra-node='true']::after, .").concat(z.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(B,`;
        }`),document.body.contains(Ee)||document.body.appendChild(Ee)}W&&k.appendChild(d),et.addStartEventListener(k,F),et.addEndEventListener(k,S)}},C=function(k){if(!(!k||k===d||!(k instanceof Element))){var B=n.insertExtraNode,W=V();k.setAttribute(W,"false"),Ee&&(Ee.innerHTML=""),B&&d&&k.contains(d)&&k.removeChild(d),et.removeStartEventListener(k,F),et.removeEndEventListener(k,S)}},x=function(k){if(!(!k||!k.getAttribute||k.getAttribute("disabled")||k.className.indexOf("disabled")>=0)){var B=function(P){if(!(P.target.tagName==="INPUT"||Gt(P.target))){C(k);var j=getComputedStyle(k).getPropertyValue("border-top-color")||getComputedStyle(k).getPropertyValue("border-color")||getComputedStyle(k).getPropertyValue("background-color");E=setTimeout(function(){return _(k,j)},0),Ut.cancel(y),b=!0,y=Ut(function(){b=!1},10)}};return k.addEventListener("click",B,!0),{cancel:function(){k.removeEventListener("click",B,!0)}}}};return an(function(){mt(function(){var D=Ft(c);D.nodeType===1&&(h=x(D))})}),Vr(function(){h&&h.cancel(),clearTimeout(E),$=!0}),function(){var D;return(D=s.default)===null||D===void 0?void 0:D.call(s)[0]}}});var wo=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}},Po=ne({compatConfig:{MODE:3},name:"ACheckableTag",props:wo(),setup:function(n,i){var s=i.slots,r=i.emit,c=Pt("tag",n),g=c.prefixCls,f=function(E){var y=n.checked;r("update:checked",!y),r("change",!y),r("click",E)},z=ue(function(){var h;return on(g.value,(h={},Be(h,"".concat(g.value,"-checkable"),!0),Be(h,"".concat(g.value,"-checkable-checked"),n.checked),h))});return function(){var h;return Q("span",{class:z.value,onClick:f},[(h=s.default)===null||h===void 0?void 0:h.call(s)])}}});const Ct=Po;var Eo=new RegExp("^(".concat(ra.join("|"),")(-inverse)?$")),xo=new RegExp("^(".concat(aa.join("|"),")$")),_o=function(){return{prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:Ht.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},"onUpdate:visible":Function,icon:Ht.any}},Qe=ne({compatConfig:{MODE:3},name:"ATag",props:_o(),slots:["closeIcon","icon"],setup:function(n,i){var s=i.slots,r=i.emit,c=i.attrs,g=Pt("tag",n),f=g.prefixCls,z=g.direction,h=H(!0);rn(function(){n.visible!==void 0&&(h.value=n.visible)});var E=function($){$.stopPropagation(),r("update:visible",!1),r("close",$),!$.defaultPrevented&&n.visible===void 0&&(h.value=!1)},y=ue(function(){var d=n.color;return d?Eo.test(d)||xo.test(d):!1}),b=ue(function(){var d;return on(f.value,(d={},Be(d,"".concat(f.value,"-").concat(n.color),y.value),Be(d,"".concat(f.value,"-has-color"),n.color&&!y.value),Be(d,"".concat(f.value,"-hidden"),!h.value),Be(d,"".concat(f.value,"-rtl"),z.value==="rtl"),d))});return function(){var d,$,F,S=n.icon,V=S===void 0?(d=s.icon)===null||d===void 0?void 0:d.call(s):S,_=n.color,C=n.closeIcon,x=C===void 0?($=s.closeIcon)===null||$===void 0?void 0:$.call(s):C,D=n.closable,k=D===void 0?!1:D,B=function(){return k?x?Q("span",{class:"".concat(f.value,"-close-icon"),onClick:E},[x]):Q(oa,{class:"".concat(f.value,"-close-icon"),onClick:E},null):null},W={backgroundColor:_&&!y.value?_:void 0},P=V||null,j=(F=s.default)===null||F===void 0?void 0:F.call(s),I=P?Q(ge,null,[P,Q("span",null,[j])]):j,ve="onClick"in c,Ne=Q("span",{class:b.value,style:W},[I,B()]);return ve?Q(No,null,{default:function(){return[Ne]}}):Ne}}});Qe.CheckableTag=Ct;Qe.install=function(t){return t.component(Qe.name,Qe),t.component(Ct.name,Ct),t};const So=Qe;var fn={exports:{}};/*! algoliasearch.umd.js | 4.10.5 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,n){(function(i,s){t.exports=s()})(Gr,function(){function i(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function s(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);a&&(u=u.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),o.push.apply(o,u)}return o}function r(e){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?s(Object(o),!0).forEach(function(u){i(e,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(o,u))})}return e}function c(e,a){if(e==null)return{};var o,u,l=function(N,v){if(N==null)return{};var w,q,A={},L=Object.keys(N);for(q=0;q<L.length;q++)w=L[q],v.indexOf(w)>=0||(A[w]=N[w]);return A}(e,a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(u=0;u<m.length;u++)o=m[u],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(l[o]=e[o])}return l}function g(e,a){return function(o){if(Array.isArray(o))return o}(e)||function(o,u){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]"){var l=[],m=!0,N=!1,v=void 0;try{for(var w,q=o[Symbol.iterator]();!(m=(w=q.next()).done)&&(l.push(w.value),!u||l.length!==u);m=!0);}catch(A){N=!0,v=A}finally{try{m||q.return==null||q.return()}finally{if(N)throw v}}return l}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e){return function(a){if(Array.isArray(a)){for(var o=0,u=new Array(a.length);o<a.length;o++)u[o]=a[o];return u}}(e)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function z(e){var a,o="algoliasearch-client-js-".concat(e.key),u=function(){return a===void 0&&(a=e.localStorage||window.localStorage),a},l=function(){return JSON.parse(u().getItem(o)||"{}")};return{get:function(m,N){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var w=JSON.stringify(m),q=l()[w];return Promise.all([q||N(),q!==void 0])}).then(function(w){var q=g(w,2),A=q[0],L=q[1];return Promise.all([A,L||v.miss(A)])}).then(function(w){return g(w,1)[0]})},set:function(m,N){return Promise.resolve().then(function(){var v=l();return v[JSON.stringify(m)]=N,u().setItem(o,JSON.stringify(v)),N})},delete:function(m){return Promise.resolve().then(function(){var N=l();delete N[JSON.stringify(m)],u().setItem(o,JSON.stringify(N))})},clear:function(){return Promise.resolve().then(function(){u().removeItem(o)})}}}function h(e){var a=f(e.caches),o=a.shift();return o===void 0?{get:function(u,l){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},N=l();return N.then(function(v){return Promise.all([v,m.miss(v)])}).then(function(v){return g(v,1)[0]})},set:function(u,l){return Promise.resolve(l)},delete:function(u){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(u,l){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return o.get(u,l,m).catch(function(){return h({caches:a}).get(u,l,m)})},set:function(u,l){return o.set(u,l).catch(function(){return h({caches:a}).set(u,l)})},delete:function(u){return o.delete(u).catch(function(){return h({caches:a}).delete(u)})},clear:function(){return o.clear().catch(function(){return h({caches:a}).clear()})}}}function E(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},a={};return{get:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},m=JSON.stringify(o);if(m in a)return Promise.resolve(e.serializable?JSON.parse(a[m]):a[m]);var N=u(),v=l&&l.miss||function(){return Promise.resolve()};return N.then(function(w){return v(w)}).then(function(){return N})},set:function(o,u){return a[JSON.stringify(o)]=e.serializable?JSON.stringify(u):u,Promise.resolve(u)},delete:function(o){return delete a[JSON.stringify(o)],Promise.resolve()},clear:function(){return a={},Promise.resolve()}}}function y(e,a,o){var u={"x-algolia-api-key":o,"x-algolia-application-id":a};return{headers:function(){return e===V.WithinHeaders?u:{}},queryParameters:function(){return e===V.WithinQueryParameters?u:{}}}}function b(e){var a=0;return e(function o(){return a++,new Promise(function(u){setTimeout(function(){u(e(o))},Math.min(100*a,1e3))})})}function d(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(o,u){return Promise.resolve()};return Object.assign(e,{wait:function(o){return d(e.then(function(u){return Promise.all([a(u,o),u])}).then(function(u){return u[1]}))}})}function $(e){for(var a=e.length-1;a>0;a--){var o=Math.floor(Math.random()*(a+1)),u=e[a];e[a]=e[o],e[o]=u}return e}function F(e,a){return a&&Object.keys(a).forEach(function(o){e[o]=a[o](e)}),e}function S(e){for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];var l=0;return e.replace(/%s/g,function(){return encodeURIComponent(o[l++])})}var V={WithinQueryParameters:0,WithinHeaders:1};function _(e,a){var o=e||{},u=o.data||{};return Object.keys(o).forEach(function(l){["timeout","headers","queryParameters","data","cacheable"].indexOf(l)===-1&&(u[l]=o[l])}),{data:Object.entries(u).length>0?u:void 0,timeout:o.timeout||a,headers:o.headers||{},queryParameters:o.queryParameters||{},cacheable:o.cacheable}}var C={Read:1,Write:2,Any:3},x=1,D=2,k=3;function B(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return r(r({},e),{},{status:a,lastUpdate:Date.now()})}function W(e){return typeof e=="string"?{protocol:"https",url:e,accept:C.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||C.Any}}var P="DELETE",j="GET",I="POST",ve="PUT";function Ne(e,a){return Promise.all(a.map(function(o){return e.get(o,function(){return Promise.resolve(B(o))})})).then(function(o){var u=o.filter(function(N){return function(v){return v.status===x||Date.now()-v.lastUpdate>12e4}(N)}),l=o.filter(function(N){return function(v){return v.status===k&&Date.now()-v.lastUpdate<=12e4}(N)}),m=[].concat(f(u),f(l));return{getTimeout:function(N,v){return(l.length===0&&N===0?1:l.length+3+N)*v},statelessHosts:m.length>0?m.map(function(N){return W(N)}):a}})}function we(e,a,o,u){var l=[],m=function(M,X){if(!(M.method===j||M.data===void 0&&X.data===void 0)){var U=Array.isArray(M.data)?M.data:r(r({},M.data),X.data);return JSON.stringify(U)}}(o,u),N=function(M,X){var U=r(r({},M.headers),X.headers),te={};return Object.keys(U).forEach(function(re){var pe=U[re];te[re.toLowerCase()]=pe}),te}(e,u),v=o.method,w=o.method!==j?{}:r(r({},o.data),u.data),q=r(r(r({"x-algolia-agent":e.userAgent.value},e.queryParameters),w),u.queryParameters),A=0,L=function M(X,U){var te=X.pop();if(te===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:fe(l)};var re={data:m,headers:N,method:v,url:K(te,o.path,q),connectTimeout:U(A,e.timeouts.connect),responseTimeout:U(A,u.timeout)},pe=function(de){var ie={request:re,response:de,host:te,triesLeft:X.length};return l.push(ie),ie},Je={onSuccess:function(de){return function(ie){try{return JSON.parse(ie.content)}catch(_e){throw function(Pe,ze){return{name:"DeserializationError",message:Pe,response:ze}}(_e.message,ie)}}(de)},onRetry:function(de){var ie=pe(de);return de.isTimedOut&&A++,Promise.all([e.logger.info("Retryable failure",ye(ie)),e.hostsCache.set(te,B(te,de.isTimedOut?k:D))]).then(function(){return M(X,U)})},onFail:function(de){throw pe(de),function(ie,_e){var Pe=ie.content,ze=ie.status,Ve=Pe;try{Ve=JSON.parse(Pe).message}catch{}return function(Ye,dt,xr){return{name:"ApiError",message:Ye,status:dt,transporterStackTrace:xr}}(Ve,ze,_e)}(de,fe(l))}};return e.requester.send(re).then(function(de){return function(ie,_e){return function(Pe){var ze=Pe.status;return Pe.isTimedOut||function(Ve){var Ye=Ve.isTimedOut,dt=Ve.status;return!Ye&&~~dt==0}(Pe)||~~(ze/100)!=2&&~~(ze/100)!=4}(ie)?_e.onRetry(ie):~~(ie.status/100)==2?_e.onSuccess(ie):_e.onFail(ie)}(de,Je)})};return Ne(e.hostsCache,a).then(function(M){return L(f(M.statelessHosts).reverse(),M.getTimeout)})}function Ce(e){var a=e.hostsCache,o=e.logger,u=e.requester,l=e.requestsCache,m=e.responsesCache,N=e.timeouts,v=e.userAgent,w=e.hosts,q=e.queryParameters,A={hostsCache:a,logger:o,requester:u,requestsCache:l,responsesCache:m,timeouts:N,userAgent:v,headers:e.headers,queryParameters:q,hosts:w.map(function(L){return W(L)}),read:function(L,M){var X=_(M,A.timeouts.read),U=function(){return we(A,A.hosts.filter(function(re){return(re.accept&C.Read)!=0}),L,X)};if((X.cacheable!==void 0?X.cacheable:L.cacheable)!==!0)return U();var te={request:L,mappedRequestOptions:X,transporter:{queryParameters:A.queryParameters,headers:A.headers}};return A.responsesCache.get(te,function(){return A.requestsCache.get(te,function(){return A.requestsCache.set(te,U()).then(function(re){return Promise.all([A.requestsCache.delete(te),re])},function(re){return Promise.all([A.requestsCache.delete(te),Promise.reject(re)])}).then(function(re){var pe=g(re,2);return pe[0],pe[1]})})},{miss:function(re){return A.responsesCache.set(te,re)}})},write:function(L,M){return we(A,A.hosts.filter(function(X){return(X.accept&C.Write)!=0}),L,_(M,A.timeouts.write))}};return A}function Ue(e){var a={value:"Algolia for JavaScript (".concat(e,")"),add:function(o){var u="; ".concat(o.segment).concat(o.version!==void 0?" (".concat(o.version,")"):"");return a.value.indexOf(u)===-1&&(a.value="".concat(a.value).concat(u)),a}};return a}function K(e,a,o){var u=O(o),l="".concat(e.protocol,"://").concat(e.url,"/").concat(a.charAt(0)==="/"?a.substr(1):a);return u.length&&(l+="?".concat(u)),l}function O(e){return Object.keys(e).map(function(a){return S("%s=%s",a,(o=e[a],Object.prototype.toString.call(o)==="[object Object]"||Object.prototype.toString.call(o)==="[object Array]"?JSON.stringify(e[a]):e[a]));var o}).join("&")}function fe(e){return e.map(function(a){return ye(a)})}function ye(e){var a=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),a)})})}var pn=function(e){return function(a,o){return e.transporter.write({method:I,path:"2/abtests",data:a},o)}},gn=function(e){return function(a,o){return e.transporter.write({method:P,path:S("2/abtests/%s",a)},o)}},mn=function(e){return function(a,o){return e.transporter.read({method:j,path:S("2/abtests/%s",a)},o)}},vn=function(e){return function(a){return e.transporter.read({method:j,path:"2/abtests"},a)}},yn=function(e){return function(a,o){return e.transporter.write({method:I,path:S("2/abtests/%s/stop",a)},o)}},bn=function(e){return function(a){return e.transporter.read({method:j,path:"1/strategies/personalization"},a)}},kn=function(e){return function(a,o){return e.transporter.write({method:I,path:"1/strategies/personalization",data:a},o)}};function ot(e){return function a(o){return e.request(o).then(function(u){if(e.batch!==void 0&&e.batch(u.hits),!e.shouldStop(u))return u.cursor?a({cursor:u.cursor}):a({page:(o.page||0)+1})})}({})}var Cn=function(e){return function(a,o){var u=o||{},l=u.queryParameters,m=c(u,["queryParameters"]),N=r({acl:a},l!==void 0?{queryParameters:l}:{});return d(e.transporter.write({method:I,path:"1/keys",data:N},m),function(v,w){return b(function(q){return He(e)(v.key,w).catch(function(A){if(A.status!==404)throw A;return q()})})})}},Nn=function(e){return function(a,o,u){var l=_(u);return l.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:I,path:"1/clusters/mapping",data:{cluster:o}},l)}},wn=function(e){return function(a,o,u){return e.transporter.write({method:I,path:"1/clusters/mapping/batch",data:{users:a,cluster:o}},u)}},Pn=function(e){return function(a,o){return d(e.transporter.write({method:I,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},o),function(u,l){return qe(e)(u.taskID,l)})}},Xe=function(e){return function(a,o,u){return d(e.transporter.write({method:I,path:S("1/indexes/%s/operation",a),data:{operation:"copy",destination:o}},u),function(l,m){return We(e)(a,{methods:{waitTask:oe}}).waitTask(l.taskID,m)})}},En=function(e){return function(a,o,u){return Xe(e)(a,o,r(r({},u),{},{scope:[ct.Rules]}))}},xn=function(e){return function(a,o,u){return Xe(e)(a,o,r(r({},u),{},{scope:[ct.Settings]}))}},_n=function(e){return function(a,o,u){return Xe(e)(a,o,r(r({},u),{},{scope:[ct.Synonyms]}))}},Sn=function(e){return function(a,o){return d(e.transporter.write({method:P,path:S("1/keys/%s",a)},o),function(u,l){return b(function(m){return He(e)(a,l).then(m).catch(function(N){if(N.status!==404)throw N})})})}},Dn=function(e){return function(a,o,u){var l=o.map(function(m){return{action:"deleteEntry",body:{objectID:m}}});return d(e.transporter.write({method:I,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},u),function(m,N){return qe(e)(m.taskID,N)})}},He=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/keys/%s",a)},o)}},Tn=function(e){return function(a){return e.transporter.read({method:j,path:"/1/dictionaries/*/settings"},a)}},In=function(e){return function(a){return e.transporter.read({method:j,path:"1/logs"},a)}},On=function(e){return function(a){return e.transporter.read({method:j,path:"1/clusters/mapping/top"},a)}},_t=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/task/%s",a.toString())},o)}},jn=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/clusters/mapping/%s",a)},o)}},An=function(e){return function(a){var o=a||{},u=o.retrieveMappings,l=c(o,["retrieveMappings"]);return u===!0&&(l.getClusters=!0),e.transporter.read({method:j,path:"1/clusters/mapping/pending"},l)}},We=function(e){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={transporter:e.transporter,appId:e.appId,indexName:a};return F(u,o.methods)}},qn=function(e){return function(a){return e.transporter.read({method:j,path:"1/keys"},a)}},Kn=function(e){return function(a){return e.transporter.read({method:j,path:"1/clusters"},a)}},zn=function(e){return function(a){return e.transporter.read({method:j,path:"1/indexes"},a)}},$n=function(e){return function(a){return e.transporter.read({method:j,path:"1/clusters/mapping"},a)}},Rn=function(e){return function(a,o,u){return d(e.transporter.write({method:I,path:S("1/indexes/%s/operation",a),data:{operation:"move",destination:o}},u),function(l,m){return We(e)(a,{methods:{waitTask:oe}}).waitTask(l.taskID,m)})}},Bn=function(e){return function(a,o){return d(e.transporter.write({method:I,path:"1/indexes/*/batch",data:{requests:a}},o),function(u,l){return Promise.all(Object.keys(u.taskID).map(function(m){return We(e)(m,{methods:{waitTask:oe}}).waitTask(u.taskID[m],l)}))})}},Mn=function(e){return function(a,o){return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:a}},o)}},St=function(e){return function(a,o){var u=a.map(function(l){return r(r({},l),{},{params:O(l.params||{})})});return e.transporter.read({method:I,path:"1/indexes/*/queries",data:{requests:u},cacheable:!0},o)}},Dt=function(e){return function(a,o){return Promise.all(a.map(function(u){var l=u.params,m=l.facetName,N=l.facetQuery,v=c(l,["facetName","facetQuery"]);return We(e)(u.indexName,{methods:{searchForFacetValues:qt}}).searchForFacetValues(m,N,r(r({},o),v))}))}},Ln=function(e){return function(a,o){var u=_(o);return u.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:P,path:"1/clusters/mapping"},u)}},Fn=function(e){return function(a,o,u){var l=o.map(function(m){return{action:"addEntry",body:m}});return d(e.transporter.write({method:I,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:l}},u),function(m,N){return qe(e)(m.taskID,N)})}},Un=function(e){return function(a,o){return d(e.transporter.write({method:I,path:S("1/keys/%s/restore",a)},o),function(u,l){return b(function(m){return He(e)(a,l).catch(function(N){if(N.status!==404)throw N;return m()})})})}},Hn=function(e){return function(a,o,u){var l=o.map(function(m){return{action:"addEntry",body:m}});return d(e.transporter.write({method:I,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},u),function(m,N){return qe(e)(m.taskID,N)})}},Wn=function(e){return function(a,o,u){return e.transporter.read({method:I,path:S("/1/dictionaries/%s/search",a),data:{query:o},cacheable:!0},u)}},Jn=function(e){return function(a,o){return e.transporter.read({method:I,path:"1/clusters/mapping/search",data:{query:a}},o)}},Vn=function(e){return function(a,o){return d(e.transporter.write({method:ve,path:"/1/dictionaries/*/settings",data:a},o),function(u,l){return qe(e)(u.taskID,l)})}},Qn=function(e){return function(a,o){var u=Object.assign({},o),l=o||{},m=l.queryParameters,N=c(l,["queryParameters"]),v=m?{queryParameters:m}:{},w=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return d(e.transporter.write({method:ve,path:S("1/keys/%s",a),data:v},N),function(q,A){return b(function(L){return He(e)(a,A).then(function(M){return function(X){return Object.keys(u).filter(function(U){return w.indexOf(U)!==-1}).every(function(U){return X[U]===u[U]})}(M)?Promise.resolve():L()})})})}},qe=function(e){return function(a,o){return b(function(u){return _t(e)(a,o).then(function(l){return l.status!=="published"?u():void 0})})}},Tt=function(e){return function(a,o){return d(e.transporter.write({method:I,path:S("1/indexes/%s/batch",e.indexName),data:{requests:a}},o),function(u,l){return oe(e)(u.taskID,l)})}},Gn=function(e){return function(a){return ot(r(r({shouldStop:function(o){return o.cursor===void 0}},a),{},{request:function(o){return e.transporter.read({method:I,path:S("1/indexes/%s/browse",e.indexName),data:o},a)}}))}},Xn=function(e){return function(a){var o=r({hitsPerPage:1e3},a);return ot(r(r({shouldStop:function(u){return u.hits.length<o.hitsPerPage}},o),{},{request:function(u){return Kt(e)("",r(r({},o),u)).then(function(l){return r(r({},l),{},{hits:l.hits.map(function(m){return delete m._highlightResult,m})})})}}))}},Yn=function(e){return function(a){var o=r({hitsPerPage:1e3},a);return ot(r(r({shouldStop:function(u){return u.hits.length<o.hitsPerPage}},o),{},{request:function(u){return zt(e)("",r(r({},o),u)).then(function(l){return r(r({},l),{},{hits:l.hits.map(function(m){return delete m._highlightResult,m})})})}}))}},st=function(e){return function(a,o,u){var l=u||{},m=l.batchSize,N=c(l,["batchSize"]),v={taskIDs:[],objectIDs:[]};return d(function w(){var q,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=[];for(q=A;q<a.length&&(L.push(a[q]),L.length!==(m||1e3));q++);return L.length===0?Promise.resolve(v):Tt(e)(L.map(function(M){return{action:o,body:M}}),N).then(function(M){return v.objectIDs=v.objectIDs.concat(M.objectIDs),v.taskIDs.push(M.taskID),q++,w(q)})}(),function(w,q){return Promise.all(w.taskIDs.map(function(A){return oe(e)(A,q)}))})}},Zn=function(e){return function(a){return d(e.transporter.write({method:I,path:S("1/indexes/%s/clear",e.indexName)},a),function(o,u){return oe(e)(o.taskID,u)})}},er=function(e){return function(a){var o=a||{},u=o.forwardToReplicas,l=_(c(o,["forwardToReplicas"]));return u&&(l.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:I,path:S("1/indexes/%s/rules/clear",e.indexName)},l),function(m,N){return oe(e)(m.taskID,N)})}},tr=function(e){return function(a){var o=a||{},u=o.forwardToReplicas,l=_(c(o,["forwardToReplicas"]));return u&&(l.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:I,path:S("1/indexes/%s/synonyms/clear",e.indexName)},l),function(m,N){return oe(e)(m.taskID,N)})}},nr=function(e){return function(a,o){return d(e.transporter.write({method:I,path:S("1/indexes/%s/deleteByQuery",e.indexName),data:a},o),function(u,l){return oe(e)(u.taskID,l)})}},rr=function(e){return function(a){return d(e.transporter.write({method:P,path:S("1/indexes/%s",e.indexName)},a),function(o,u){return oe(e)(o.taskID,u)})}},ar=function(e){return function(a,o){return d(It(e)([a],o).then(function(u){return{taskID:u.taskIDs[0]}}),function(u,l){return oe(e)(u.taskID,l)})}},It=function(e){return function(a,o){var u=a.map(function(l){return{objectID:l}});return st(e)(u,Ke.DeleteObject,o)}},or=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,m=_(c(u,["forwardToReplicas"]));return l&&(m.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:P,path:S("1/indexes/%s/rules/%s",e.indexName,a)},m),function(N,v){return oe(e)(N.taskID,v)})}},sr=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,m=_(c(u,["forwardToReplicas"]));return l&&(m.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:P,path:S("1/indexes/%s/synonyms/%s",e.indexName,a)},m),function(N,v){return oe(e)(N.taskID,v)})}},ir=function(e){return function(a){return Ot(e)(a).then(function(){return!0}).catch(function(o){if(o.status!==404)throw o;return!1})}},ur=function(e){return function(a,o,u){return e.transporter.read({method:I,path:S("1/answers/%s/prediction",e.indexName),data:{query:a,queryLanguages:o},cacheable:!0},u)}},lr=function(e){return function(a,o){var u=o||{},l=u.query,m=u.paginate,N=c(u,["query","paginate"]),v=0;return function w(){return At(e)(l||"",r(r({},N),{},{page:v})).then(function(q){for(var A=0,L=Object.entries(q.hits);A<L.length;A++){var M=g(L[A],2),X=M[0],U=M[1];if(a(U))return{object:U,position:parseInt(X,10),page:v}}if(v++,m===!1||v>=q.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return w()})}()}},cr=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/indexes/%s/%s",e.indexName,a)},o)}},dr=function(){return function(e,a){for(var o=0,u=Object.entries(e.hits);o<u.length;o++){var l=g(u[o],2),m=l[0];if(l[1].objectID===a)return parseInt(m,10)}return-1}},fr=function(e){return function(a,o){var u=o||{},l=u.attributesToRetrieve,m=c(u,["attributesToRetrieve"]),N=a.map(function(v){return r({indexName:e.indexName,objectID:v},l?{attributesToRetrieve:l}:{})});return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:N}},m)}},hr=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/indexes/%s/rules/%s",e.indexName,a)},o)}},Ot=function(e){return function(a){return e.transporter.read({method:j,path:S("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},a)}},pr=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/indexes/%s/synonyms/%s",e.indexName,a)},o)}},gr=function(e){return function(a,o){return d(jt(e)([a],o).then(function(u){return{objectID:u.objectIDs[0],taskID:u.taskIDs[0]}}),function(u,l){return oe(e)(u.taskID,l)})}},jt=function(e){return function(a,o){var u=o||{},l=u.createIfNotExists,m=c(u,["createIfNotExists"]),N=l?Ke.PartialUpdateObject:Ke.PartialUpdateObjectNoCreate;return st(e)(a,N,m)}},mr=function(e){return function(a,o){var u=o||{},l=u.safe,m=u.autoGenerateObjectIDIfNotExist,N=u.batchSize,v=c(u,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),w=function(U,te,re,pe){return d(e.transporter.write({method:I,path:S("1/indexes/%s/operation",U),data:{operation:re,destination:te}},pe),function(Je,de){return oe(e)(Je.taskID,de)})},q=Math.random().toString(36).substring(7),A="".concat(e.indexName,"_tmp_").concat(q),L=it({appId:e.appId,transporter:e.transporter,indexName:A}),M=[],X=w(e.indexName,A,"copy",r(r({},v),{},{scope:["settings","synonyms","rules"]}));return M.push(X),d((l?X.wait(v):X).then(function(){var U=L(a,r(r({},v),{},{autoGenerateObjectIDIfNotExist:m,batchSize:N}));return M.push(U),l?U.wait(v):U}).then(function(){var U=w(A,e.indexName,"move",v);return M.push(U),l?U.wait(v):U}).then(function(){return Promise.all(M)}).then(function(U){var te=g(U,3),re=te[0],pe=te[1],Je=te[2];return{objectIDs:pe.objectIDs,taskIDs:[re.taskID].concat(f(pe.taskIDs),[Je.taskID])}}),function(U,te){return Promise.all(M.map(function(re){return re.wait(te)}))})}},vr=function(e){return function(a,o){return ut(e)(a,r(r({},o),{},{clearExistingRules:!0}))}},yr=function(e){return function(a,o){return lt(e)(a,r(r({},o),{},{clearExistingSynonyms:!0}))}},br=function(e){return function(a,o){return d(it(e)([a],o).then(function(u){return{objectID:u.objectIDs[0],taskID:u.taskIDs[0]}}),function(u,l){return oe(e)(u.taskID,l)})}},it=function(e){return function(a,o){var u=o||{},l=u.autoGenerateObjectIDIfNotExist,m=c(u,["autoGenerateObjectIDIfNotExist"]),N=l?Ke.AddObject:Ke.UpdateObject;if(N===Ke.UpdateObject){var v=!0,w=!1,q=void 0;try{for(var A,L=a[Symbol.iterator]();!(v=(A=L.next()).done);v=!0)if(A.value.objectID===void 0)return d(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(M){w=!0,q=M}finally{try{v||L.return==null||L.return()}finally{if(w)throw q}}}return st(e)(a,N,m)}},kr=function(e){return function(a,o){return ut(e)([a],o)}},ut=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,m=u.clearExistingRules,N=_(c(u,["forwardToReplicas","clearExistingRules"]));return l&&(N.queryParameters.forwardToReplicas=1),m&&(N.queryParameters.clearExistingRules=1),d(e.transporter.write({method:I,path:S("1/indexes/%s/rules/batch",e.indexName),data:a},N),function(v,w){return oe(e)(v.taskID,w)})}},Cr=function(e){return function(a,o){return lt(e)([a],o)}},lt=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,m=u.clearExistingSynonyms,N=u.replaceExistingSynonyms,v=_(c(u,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return l&&(v.queryParameters.forwardToReplicas=1),(N||m)&&(v.queryParameters.replaceExistingSynonyms=1),d(e.transporter.write({method:I,path:S("1/indexes/%s/synonyms/batch",e.indexName),data:a},v),function(w,q){return oe(e)(w.taskID,q)})}},At=function(e){return function(a,o){return e.transporter.read({method:I,path:S("1/indexes/%s/query",e.indexName),data:{query:a},cacheable:!0},o)}},qt=function(e){return function(a,o,u){return e.transporter.read({method:I,path:S("1/indexes/%s/facets/%s/query",e.indexName,a),data:{facetQuery:o},cacheable:!0},u)}},Kt=function(e){return function(a,o){return e.transporter.read({method:I,path:S("1/indexes/%s/rules/search",e.indexName),data:{query:a}},o)}},zt=function(e){return function(a,o){return e.transporter.read({method:I,path:S("1/indexes/%s/synonyms/search",e.indexName),data:{query:a}},o)}},Nr=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,m=_(c(u,["forwardToReplicas"]));return l&&(m.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:ve,path:S("1/indexes/%s/settings",e.indexName),data:a},m),function(N,v){return oe(e)(N.taskID,v)})}},oe=function(e){return function(a,o){return b(function(u){return function(l){return function(m,N){return l.transporter.read({method:j,path:S("1/indexes/%s/task/%s",l.indexName,m.toString())},N)}}(e)(a,o).then(function(l){return l.status!=="published"?u():void 0})})}},Ke={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ct={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},wr=1,Pr=2,Er=3;function $t(e,a,o){var u,l={appId:e,apiKey:a,timeouts:{connect:1,read:2,write:30},requester:{send:function(v){return new Promise(function(w){var q=new XMLHttpRequest;q.open(v.method,v.url,!0),Object.keys(v.headers).forEach(function(X){return q.setRequestHeader(X,v.headers[X])});var A,L=function(X,U){return setTimeout(function(){q.abort(),w({status:0,content:U,isTimedOut:!0})},1e3*X)},M=L(v.connectTimeout,"Connection timeout");q.onreadystatechange=function(){q.readyState>q.OPENED&&A===void 0&&(clearTimeout(M),A=L(v.responseTimeout,"Socket timeout"))},q.onerror=function(){q.status===0&&(clearTimeout(M),clearTimeout(A),w({content:q.responseText||"Network request failed",status:q.status,isTimedOut:!1}))},q.onload=function(){clearTimeout(M),clearTimeout(A),w({content:q.responseText,status:q.status,isTimedOut:!1})},q.send(v.data)})}},logger:(u=Er,{debug:function(v,w){return wr>=u&&console.debug(v,w),Promise.resolve()},info:function(v,w){return Pr>=u&&console.info(v,w),Promise.resolve()},error:function(v,w){return console.error(v,w),Promise.resolve()}}),responsesCache:E(),requestsCache:E({serializable:!1}),hostsCache:h({caches:[z({key:"".concat("4.10.5","-").concat(e)}),E()]}),userAgent:Ue("4.10.5").add({segment:"Browser"})},m=r(r({},l),o),N=function(){return function(v){return function(w){var q=w.region||"us",A=y(V.WithinHeaders,w.appId,w.apiKey),L=Ce(r(r({hosts:[{url:"personalization.".concat(q,".algolia.com")}]},w),{},{headers:r(r(r({},A.headers()),{"content-type":"application/json"}),w.headers),queryParameters:r(r({},A.queryParameters()),w.queryParameters)}));return F({appId:w.appId,transporter:L},w.methods)}(r(r(r({},l),v),{},{methods:{getPersonalizationStrategy:bn,setPersonalizationStrategy:kn}}))}};return function(v){var w=v.appId,q=y(v.authMode!==void 0?v.authMode:V.WithinHeaders,w,v.apiKey),A=Ce(r(r({hosts:[{url:"".concat(w,"-dsn.algolia.net"),accept:C.Read},{url:"".concat(w,".algolia.net"),accept:C.Write}].concat($([{url:"".concat(w,"-1.algolianet.com")},{url:"".concat(w,"-2.algolianet.com")},{url:"".concat(w,"-3.algolianet.com")}]))},v),{},{headers:r(r(r({},q.headers()),{"content-type":"application/x-www-form-urlencoded"}),v.headers),queryParameters:r(r({},q.queryParameters()),v.queryParameters)}));return F({transporter:A,appId:w,addAlgoliaAgent:function(L,M){A.userAgent.add({segment:L,version:M})},clearCache:function(){return Promise.all([A.requestsCache.clear(),A.responsesCache.clear()]).then(function(){})}},v.methods)}(r(r({},m),{},{methods:{search:St,searchForFacetValues:Dt,multipleBatch:Bn,multipleGetObjects:Mn,multipleQueries:St,copyIndex:Xe,copySettings:xn,copySynonyms:_n,copyRules:En,moveIndex:Rn,listIndices:zn,getLogs:In,listClusters:Kn,multipleSearchForFacetValues:Dt,getApiKey:He,addApiKey:Cn,listApiKeys:qn,updateApiKey:Qn,deleteApiKey:Sn,restoreApiKey:Un,assignUserID:Nn,assignUserIDs:wn,getUserID:jn,searchUserIDs:Jn,listUserIDs:$n,getTopUserIDs:On,removeUserID:Ln,hasPendingMappings:An,clearDictionaryEntries:Pn,deleteDictionaryEntries:Dn,getDictionarySettings:Tn,getAppTask:_t,replaceDictionaryEntries:Fn,saveDictionaryEntries:Hn,searchDictionaryEntries:Wn,setDictionarySettings:Vn,waitAppTask:qe,initIndex:function(v){return function(w){return We(v)(w,{methods:{batch:Tt,delete:rr,findAnswers:ur,getObject:cr,getObjects:fr,saveObject:br,saveObjects:it,search:At,searchForFacetValues:qt,waitTask:oe,setSettings:Nr,getSettings:Ot,partialUpdateObject:gr,partialUpdateObjects:jt,deleteObject:ar,deleteObjects:It,deleteBy:nr,clearObjects:Zn,browseObjects:Gn,getObjectPosition:dr,findObject:lr,exists:ir,saveSynonym:Cr,saveSynonyms:lt,getSynonym:pr,searchSynonyms:zt,browseSynonyms:Yn,deleteSynonym:sr,clearSynonyms:tr,replaceAllObjects:mr,replaceAllSynonyms:yr,searchRules:Kt,getRule:hr,deleteRule:or,saveRule:kr,saveRules:ut,replaceAllRules:vr,browseRules:Xn,clearRules:er}})}},initAnalytics:function(){return function(v){return function(w){var q=w.region||"us",A=y(V.WithinHeaders,w.appId,w.apiKey),L=Ce(r(r({hosts:[{url:"analytics.".concat(q,".algolia.com")}]},w),{},{headers:r(r(r({},A.headers()),{"content-type":"application/json"}),w.headers),queryParameters:r(r({},A.queryParameters()),w.queryParameters)}));return F({appId:w.appId,transporter:L},w.methods)}(r(r(r({},l),v),{},{methods:{addABTest:pn,getABTest:mn,getABTests:vn,stopABTest:yn,deleteABTest:gn}}))}},initPersonalization:N,initRecommendation:function(){return function(v){return m.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),N()(v)}}}}))}return $t.version="4.10.5",$t})})(fn);var Do=fn.exports;const To=Qr(Do),Io=To("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),hn=Io.initIndex("npm-search"),Oo=async(t,n=0,i=10)=>{try{const s=Ko(t);if(!s)return{response:null,query:t};const r={page:n,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:s.facetFilters?s.facetFilters:void 0},c=await hn.search(s.query,r);return c.hits.sort((g,f)=>g.name===s.query?-1:f.name===s.query?1:0),{response:c,query:t}}catch{return{response:null,query:t}}},jo=async t=>hn.getObject(t),Ao=/\s*(?:[a-z]+)\s*:\s*(?:.(?![a-z]*\s*:))*/gi,qo=/^((?:(?:[^\s:]+(?![a-z]*\s*:))\s*)*)/i,Xt={author:"owner.name",type:"moduleTypes"};function Ko(t){const n=t.match(qo)?.[0].trim();if(n==null)return;const i=t,s=[];let r;for(;(r=Ao.exec(i))!==null;){const c=r[0].split(":");Xt[c[0].trim()]&&s.push(Xt[c[0].trim()]+":"+c[1].trim())}return{query:n,facetFilters:s.join(",")}}const ce=t=>(Zr("data-v-c472691b"),t=t(),ea(),t),zo={key:0},$o={class:"result-list"},Ro={class:"pkgName"},Bo={class:"meta"},Mo=["onClick"],Lo=["src","alt"],Fo=ce(()=>J("span",{class:"i-icon-park-outline-tag-one"},null,-1)),Uo=["title"],Ho=ce(()=>J("span",{class:"i-icon-park-outline-balance-two"},null,-1)),Wo={key:0,class:"description"},Jo={key:1},Vo=ce(()=>J("span",{class:"i-icon-park-outline-return"},null,-1)),Qo={key:0},Go=ce(()=>J("b",null,"名称: ",-1)),Xo={key:1},Yo=ce(()=>J("b",null,"主页: ",-1)),Zo={key:2},es=ce(()=>J("b",null,"简介: ",-1)),ts={key:3},ns=ce(()=>J("b",null,"仓库: ",-1)),rs={key:4},as=ce(()=>J("b",null,"协议: ",-1)),os={key:5},ss=ce(()=>J("b",null,"作者: ",-1)),is={key:7},us=ce(()=>J("b",null,"版本: ",-1)),ls={key:8},cs=ce(()=>J("b",null,"默认文件: ",-1)),ds={key:9},fs=ce(()=>J("b",null,"文件列表",-1)),hs=ce(()=>J("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)),ps=[fs,hs],gs={key:0,flex:"","items-center":""},ms=ce(()=>J("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),vs={key:1,flex:"","items-center":""},ys=ce(()=>J("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),bs=10,ks=ne({__name:"cdnQuery",setup(t){let n=null;const i=H(!1),s=H(""),r=H(""),c=H(0),g=H([]),f=H(0),z=H(""),h=H(null),E=H(""),y=H([]),b=H(null),d=H([]),$=ue(()=>d.value&&d.value.length?C(d.value):[]);async function F(x=0){if(!s.value){i.value=!1,h.value=null,E.value="",y.value=[],g.value=[],c.value=0,f.value=0,r.value="";return}n&&clearTimeout(n),n=window.setTimeout(async()=>{i.value=!0;const{response:D,query:k}=await Oo(s.value,x,bs);if(k===s.value){if(D){const{hits:B,page:W,nbHits:P}=D;g.value=B,f.value=P,c.value=W,r.value="done"}else Yr.warning("搜索失败");i.value=!1}},200)}function S(x){s.value="author:"+x,F(0)}async function V(x){z.value=x,h.value=null,E.value="",y.value=[],b.value=null,d.value=[];try{h.value=await jo(x),E.value=h.value.version??"",await _()}catch(D){console.error(D.message)}}async function _(){try{y.value=[],b.value=null,d.value=[],y.value=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${h.value?.name??""}`)).data.versions.map(k=>({label:k,value:k}));const{default:x,files:D}=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${h.value?.name??""}@${E.value}`)).data;b.value=x,d.value=D}catch(x){console.error(x.message)}}function C(x,D){return x.map(k=>{const B=D?`${D}/${k.name}`:`/${k.name}`;return{label:k.name,icon:k.type==="directory"?"Folder":"",isLeaf:k.type!=="directory",fileName:B,children:k.type==="directory"&&k.files?C(k.files,B):void 0}})}return(x,D)=>{const k=la,B=ca,W=da,P=nn,j=ia,I=So,ve=no,Ne=sn,we=un,Ce=fa,Ue=sa,K=yo;return T(),R(ge,null,[Q(B,null,{default:G(()=>[J("blockquote",null,[J("ul",null,[J("li",null,[se(" 数据来自: "),Q(k,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:G(()=>[se(" JSDelivr ")]),_:1})]),J("li",null,[se(" 搜索接口来自: "),Q(k,{href:"https://www.algolia.com/",target:"_blank"},{default:G(()=>[se(" Algolia ")]),_:1})])])])]),_:1}),Q(W,{level:3},{default:G(()=>[se(" 请输入要获取CDN的库名 ")]),_:1}),Q(P,{modelValue:p(s),"onUpdate:modelValue":D[0]||(D[0]=O=>Mt(s)?s.value=O:null),placeholder:"jquery",clearable:"",onChange:D[1]||(D[1]=O=>F(0))},null,8,["modelValue"]),(T(),ee(Xr,null,[p(r)==="done"?(T(),R(ge,{key:0},[Q(j),p(z)?(T(),R(ge,{key:1},[Q(k,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:D[3]||(D[3]=O=>z.value=null)},{default:G(()=>[Vo,se(" 返回 ")]),_:1}),p(h)?(T(),ee(Ue,{key:0,class:"metaDetail"},{default:G(()=>[J("ul",null,[p(h).name?(T(),R("li",Qo,[Go,se(Z(p(h).name),1)])):Y("",!0),p(h).homepage?(T(),R("li",Xo,[Yo,Q(k,{href:p(h).homepage,target:"_blank"},{default:G(()=>[se(Z(p(h).homepage),1)]),_:1},8,["href"])])):Y("",!0),p(h).description?(T(),R("li",Zo,[es,se(Z(p(h).description),1)])):Y("",!0),p(h).repository?(T(),R("li",ts,[ns,se(Z(p(h).repository.type)+" / ",1),Q(k,{href:p(h).repository.url,target:"_blank"},{default:G(()=>[se(Z(p(h).repository.url),1)]),_:1},8,["href"])])):Y("",!0),p(h).license?(T(),R("li",rs,[as,se(Z(p(h).license),1)])):Y("",!0),p(h).owner?(T(),R("li",os,[ss,se(Z(p(h).owner.name)+" / ",1),Q(k,{href:p(h).owner.link,target:"_blank"},{default:G(()=>[se(Z(p(h).owner.link),1)]),_:1},8,["href"])])):Y("",!0),p(y).length?(T(),ee(j,{key:6})):Y("",!0),p(y).length?(T(),R("li",is,[us,Q(we,{modelValue:p(E),"onUpdate:modelValue":D[4]||(D[4]=O=>Mt(E)?E.value=O:null),options:p(y),onChange:_},{default:G(()=>[(T(!0),R(ge,null,Oe(p(y),O=>(T(),ee(Ne,{key:O.value,value:O.value,label:O.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):Y("",!0),p(b)?(T(),R("li",ls,[cs,Q(Ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${p(h).name}@${p(E)}${p(b)}`}},{default:G(()=>[Q(k,{href:`https://cdn.jsdelivr.net/npm/${p(h).name}@${p(E)}${p(b)}`,target:"_blank"},{default:G(()=>[se(Z(p(b)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):Y("",!0),p(d)&&p(d).length?(T(),R("li",ds,ps)):Y("",!0)])]),_:1})):Y("",!0),p(h)&&p(d)&&p(d).length?(T(),ee(K,{key:1,data:p($),selectable:!1},{default:G(({data:O})=>[O.isLeaf?(T(),R("div",gs,[ms,Q(Ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${p(h).name}@${p(E)}${O.fileName}`}},{default:G(()=>[se(Z(O.label),1)]),_:2},1032,["copyable"])])):(T(),R("div",vs,[ys,Q(Ce,null,{default:G(()=>[se(Z(O.label),1)]),_:2},1024)]))]),_:1},8,["data"])):Y("",!0)],64)):(T(),R(ge,{key:0},[Q(W,{level:4},{default:G(()=>[J("span",null,"共找到 "+Z(p(f))+" 个库",1),p(f)>1e3?(T(),R("span",zo,"，最多展示前 1000 个结果")):Y("",!0)]),_:1}),J("div",$o,[(T(!0),R(ge,null,Oe(p(g),O=>(T(),R("div",{key:O.objectID,class:"result-list-item"},[J("div",Ro,[Q(W,{level:4,onClick:fe=>V(O.objectID)},{default:G(()=>[se(Z(O.name),1)]),_:2},1032,["onClick"])]),J("div",Bo,[O.owner?(T(),R("div",{key:0,class:"owner",onClick:fe=>S(O.owner.name)},[J("img",{src:O.owner.avatar,alt:O.owner.name},null,8,Lo),J("div",null,Z(O.owner.name),1)],8,Mo)):Y("",!0),O.version?(T(),ee(I,{key:1},{icon:G(()=>[Fo]),default:G(()=>[J("span",{title:O.version},Z(O.version),9,Uo)]),_:2},1024)):Y("",!0),O.license?(T(),ee(I,{key:2},{icon:G(()=>[Ho]),default:G(()=>[se(" "+Z(O.license),1)]),_:2},1024)):Y("",!0)]),O.description?(T(),R("div",Wo,Z(O.description),1)):Y("",!0),O.keywords&&O.keywords.length?(T(),R("div",Jo,[(T(!0),R(ge,null,Oe(O.keywords,(fe,ye)=>(T(),ee(I,{key:ye},{default:G(()=>[se(Z(fe),1)]),_:2},1024))),128))])):Y("",!0)]))),128))]),Q(ve,{layout:"prev,jumper,next",total:p(f)>1e3?1e3:p(f),"hide-on-single-page":!0,onCurrentChange:D[2]||(D[2]=O=>F(O-1))},null,8,["total"])],64))],64)):Y("",!0)],1024))],64)}}});const $s=ta(ks,[["__scopeId","data-v-c472691b"]]);export{$s as default};
