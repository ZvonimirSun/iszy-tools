import{av as we,da as Et,bk as Q,dQ as Dt,aN as la,aL as Fe,I as ne,c as A,ab as Bt,bf as Ma,b as De,d as de,cD as ln,de as sn,cC as rn,cu as on,_ as We,a as Re,cE as Lt,cG as un,U as ct,dI as dn,u as Ve,d8 as Wt,t as X,o as F,r as fe,v as Z,ar as ba,y as e,n as st,h as S,cF as Ha,aZ as vt,i as Se,d6 as cn,cj as Ra,aY as vn,X as $e,dR as fn,dS as mn,cR as pn,a0 as Kt,g as he,w as ie,P as Ze,L as da,x as ue,aF as be,aA as Ct,j as xa,z as pe,aI as ft,aJ as ge,aa as Oe,ct as St,cJ as hn,A as ya,aU as bn,du as yn,J as kn,N as ke,O as Me,D as na,bs as gn,a7 as Ye,C as G,cz as wn,br as Dn,e as Cn,ax as Ut,a6 as Sn,az as Pn,F as Mn,bi as He,cA as qa,bg as mt,ac as Le,ad as Je,dn as ca,bb as rt,bc as _a,dq as va,E as Ga,ay as ot,Y as jt,ah as Vn,S as zt,k as Ht}from"./index-COHXkc47.js";import{b as $n,u as Pt,E as On,c as Ne,e as Sa}from"./el-popper-CoyF7d0p.js";import{v as Mt}from"./index-1T3qJb3h.js";import{C as it}from"./el-select-DybUODmc.js";import{o as Yn}from"./omit-CECI4Eyb.js";const tt=(t,d)=>[t>0?t-1:void 0,t,t<d?t+1:void 0],qt=t=>Array.from(Array.from({length:t}).keys()),Gt=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Zt=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Vt=function(t,d){const l=Dt(t),a=Dt(d);return l&&a?t.getTime()===d.getTime():!l&&!a?t===d:!1},Jt=function(t,d){const l=we(t),a=we(d);return l&&a?t.length!==d.length?!1:t.every((n,c)=>Vt(n,d[c])):!l&&!a?Vt(t,d):!1},$t=function(t,d,l){const a=Et(d)||d==="x"?Q(t).locale(l):Q(t,d).locale(l);return a.isValid()?a:void 0},Ot=function(t,d,l){return Et(d)?t:d==="x"?+t:Q(t).locale(l).format(d)},nt=(t,d)=>{var l;const a=[],n=d?.();for(let c=0;c<t;c++)a.push((l=n?.includes(c))!=null?l:!1);return a},Aa=t=>we(t)?t.map(d=>d.toDate()):t.toDate();var Ea={exports:{}},Rn=Ea.exports,Yt;function Tn(){return Yt||(Yt=1,(function(t,d){(function(l,a){t.exports=a()})(Rn,(function(){return function(l,a,n){var c=a.prototype,u=function(w){return w&&(w.indexOf?w:w.s)},y=function(w,T,x,m,k){var r=w.name?w:w.$locale(),v=u(r[T]),L=u(r[x]),p=v||L.map((function(P){return P.slice(0,m)}));if(!k)return p;var g=r.weekStart;return p.map((function(P,o){return p[(o+(g||0))%7]}))},D=function(){return n.Ls[n.locale()]},M=function(w,T){return w.formats[T]||(function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(m,k,r){return k||r.slice(1)}))})(w.formats[T.toUpperCase()])},C=function(){var w=this;return{months:function(T){return T?T.format("MMMM"):y(w,"months")},monthsShort:function(T){return T?T.format("MMM"):y(w,"monthsShort","months",3)},firstDayOfWeek:function(){return w.$locale().weekStart||0},weekdays:function(T){return T?T.format("dddd"):y(w,"weekdays")},weekdaysMin:function(T){return T?T.format("dd"):y(w,"weekdaysMin","weekdays",2)},weekdaysShort:function(T){return T?T.format("ddd"):y(w,"weekdaysShort","weekdays",3)},longDateFormat:function(T){return M(w.$locale(),T)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};c.localeData=function(){return C.bind(this)()},n.localeData=function(){var w=D();return{firstDayOfWeek:function(){return w.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(T){return M(w,T)},meridiem:w.meridiem,ordinal:w.ordinal}},n.months=function(){return y(D(),"months")},n.monthsShort=function(){return y(D(),"monthsShort","months",3)},n.weekdays=function(w){return y(D(),"weekdays",null,null,w)},n.weekdaysShort=function(w){return y(D(),"weekdaysShort","weekdays",3,w)},n.weekdaysMin=function(w){return y(D(),"weekdaysMin","weekdays",2,w)}}}))})(Ea)),Ea.exports}var In=Tn();const xn=la(In),Nn=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"];var Ba={exports:{}},Fn=Ba.exports,Rt;function _n(){return Rt||(Rt=1,(function(t,d){(function(l,a){t.exports=a()})(Fn,(function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,c=/\d\d/,u=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,D={},M=function(r){return(r=+r)+(r>68?1900:2e3)},C=function(r){return function(v){this[r]=+v}},w=[/[+-]\d\d:?(\d\d)?|Z/,function(r){(this.zone||(this.zone={})).offset=(function(v){if(!v||v==="Z")return 0;var L=v.match(/([+-]|\d\d)/g),p=60*L[1]+(+L[2]||0);return p===0?0:L[0]==="+"?-p:p})(r)}],T=function(r){var v=D[r];return v&&(v.indexOf?v:v.s.concat(v.f))},x=function(r,v){var L,p=D.meridiem;if(p){for(var g=1;g<=24;g+=1)if(r.indexOf(p(g,0,v))>-1){L=g>12;break}}else L=r===(v?"pm":"PM");return L},m={A:[y,function(r){this.afternoon=x(r,!1)}],a:[y,function(r){this.afternoon=x(r,!0)}],Q:[n,function(r){this.month=3*(r-1)+1}],S:[n,function(r){this.milliseconds=100*+r}],SS:[c,function(r){this.milliseconds=10*+r}],SSS:[/\d{3}/,function(r){this.milliseconds=+r}],s:[u,C("seconds")],ss:[u,C("seconds")],m:[u,C("minutes")],mm:[u,C("minutes")],H:[u,C("hours")],h:[u,C("hours")],HH:[u,C("hours")],hh:[u,C("hours")],D:[u,C("day")],DD:[c,C("day")],Do:[y,function(r){var v=D.ordinal,L=r.match(/\d+/);if(this.day=L[0],v)for(var p=1;p<=31;p+=1)v(p).replace(/\[|\]/g,"")===r&&(this.day=p)}],w:[u,C("week")],ww:[c,C("week")],M:[u,C("month")],MM:[c,C("month")],MMM:[y,function(r){var v=T("months"),L=(T("monthsShort")||v.map((function(p){return p.slice(0,3)}))).indexOf(r)+1;if(L<1)throw new Error;this.month=L%12||L}],MMMM:[y,function(r){var v=T("months").indexOf(r)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,C("year")],YY:[c,function(r){this.year=M(r)}],YYYY:[/\d{4}/,C("year")],Z:w,ZZ:w};function k(r){var v,L;v=r,L=D&&D.formats;for(var p=(r=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function($,E,W){var K=W&&W.toUpperCase();return E||L[W]||l[W]||L[K].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(H,te,le){return te||le.slice(1)}))}))).match(a),g=p.length,P=0;P<g;P+=1){var o=p[P],O=m[o],i=O&&O[0],Y=O&&O[1];p[P]=Y?{regex:i,parser:Y}:o.replace(/^\[|\]$/g,"")}return function($){for(var E={},W=0,K=0;W<g;W+=1){var H=p[W];if(typeof H=="string")K+=H.length;else{var te=H.regex,le=H.parser,ce=$.slice(K),U=te.exec(ce)[0];le.call(E,U),$=$.replace(U,"")}}return(function(h){var q=h.afternoon;if(q!==void 0){var N=h.hours;q?N<12&&(h.hours+=12):N===12&&(h.hours=0),delete h.afternoon}})(E),E}}return function(r,v,L){L.p.customParseFormat=!0,r&&r.parseTwoDigitYear&&(M=r.parseTwoDigitYear);var p=v.prototype,g=p.parse;p.parse=function(P){var o=P.date,O=P.utc,i=P.args;this.$u=O;var Y=i[1];if(typeof Y=="string"){var $=i[2]===!0,E=i[3]===!0,W=$||E,K=i[2];E&&(K=i[2]),D=this.$locale(),!$&&K&&(D=L.Ls[K]),this.$d=(function(ce,U,h,q){try{if(["x","X"].indexOf(U)>-1)return new Date((U==="X"?1e3:1)*ce);var N=k(U)(ce),ee=N.year,b=N.month,R=N.day,I=N.hours,J=N.minutes,_=N.seconds,se=N.milliseconds,oe=N.zone,me=N.week,_e=new Date,Ke=R||(ee||b?1:_e.getDate()),Ue=ee||_e.getFullYear(),Te=0;ee&&!b||(Te=b>0?b-1:_e.getMonth());var Ae,Ce=I||0,Pe=J||0,Be=_||0,je=se||0;return oe?new Date(Date.UTC(Ue,Te,Ke,Ce,Pe,Be,je+60*oe.offset*1e3)):h?new Date(Date.UTC(Ue,Te,Ke,Ce,Pe,Be,je)):(Ae=new Date(Ue,Te,Ke,Ce,Pe,Be,je),me&&(Ae=q(Ae).week(me).toDate()),Ae)}catch{return new Date("")}})(o,Y,O,L),this.init(),K&&K!==!0&&(this.$L=this.locale(K).$L),W&&o!=this.format(Y)&&(this.$d=new Date("")),D={}}else if(Y instanceof Array)for(var H=Y.length,te=1;te<=H;te+=1){i[1]=Y[te-1];var le=L.apply(this,i);if(le.isValid()){this.$d=le.$d,this.$L=le.$L,this.init();break}te===H&&(this.$d=new Date(""))}else g.call(this,P)}}}))})(Ba)),Ba.exports}var An=_n();const En=la(An),Tt=["hours","minutes","seconds"],qe="EP_PICKER_BASE",Qt="ElPopperOptions",Xt=Symbol("commonPickerContextKey"),Va="HH:mm:ss",ta="YYYY-MM-DD",Bn={date:ta,dates:ta,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${ta} ${Va}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:ta,datetimerange:`${ta} ${Va}`},en=(t,d)=>{const{lang:l}=Fe(),a=ne(!1),n=ne(!1),c=ne(null),u=A(()=>{const{modelValue:m}=t;return!m||we(m)&&!m.filter(Boolean).length}),y=m=>{if(!Jt(t.modelValue,m)){let k;we(m)?k=m.map(v=>Ot(v,t.valueFormat,l.value)):m&&(k=Ot(m,t.valueFormat,l.value)),d(Ma,m&&k,l.value)}},D=A(()=>{var m;let k;if(u.value?M.value.getDefaultValue&&(k=M.value.getDefaultValue()):we(t.modelValue)?k=t.modelValue.map(r=>$t(r,t.valueFormat,l.value)):k=$t((m=t.modelValue)!=null?m:"",t.valueFormat,l.value),M.value.getRangeAvailableTime){const r=M.value.getRangeAvailableTime(k);Bt(r,k)||(k=r,u.value||y(Aa(k)))}return we(k)&&k.some(r=>!r)&&(k=[]),k}),M=ne({});return{parsedValue:D,pickerActualVisible:n,pickerOptions:M,pickerVisible:a,userInput:c,valueIsEmpty:u,emitInput:y,onCalendarChange:m=>{d("calendar-change",m)},onPanelChange:(m,k,r)=>{d("panel-change",m,k,r)},onPick:(m="",k=!1)=>{a.value=k;let r;we(m)?r=m.map(v=>v.toDate()):r=m&&m.toDate(),c.value=null,y(r)},onSetPickerOption:m=>{M.value[m[0]]=m[1],M.value.panelReady=!0}}},pt=De({disabledHours:{type:de(Function)},disabledMinutes:{type:de(Function)},disabledSeconds:{type:de(Function)}}),Ln=De({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),an=De({automaticDropdown:{type:Boolean,default:!0},id:{type:de([Array,String])},name:{type:de([Array,String])},popperClass:Pt.popperClass,popperStyle:Pt.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:de([String,Object]),default:on},editable:{type:Boolean,default:!0},prefixIcon:{type:de([String,Object]),default:""},size:rn,readonly:Boolean,disabled:{type:Boolean,default:void 0},placeholder:{type:String,default:""},popperOptions:{type:de(Object),default:()=>({})},modelValue:{type:de([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:de([Date,Array])},defaultTime:{type:de([Date,Array])},isRange:Boolean,...pt,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:de([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:de(String),values:$n,default:"bottom"},fallbackPlacements:{type:de(Array),default:["bottom","top","right","left"]},...sn,...ln(["ariaLabel"]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),Wn=De({id:{type:de(Array)},name:{type:de(Array)},modelValue:{type:de([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),Kn=["id","name","placeholder","value","disabled"],Un=["id","name","placeholder","value","disabled"],jn=Re({name:"PickerRangeTrigger",inheritAttrs:!1,__name:"picker-range-trigger",props:Wn,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:d,emit:l}){const a=t,n=l,{formItem:c}=Lt(),{inputId:u}=un(ct({id:A(()=>{var i;return(i=a.id)==null?void 0:i[0]})}),{formItemContext:c}),y=dn(),D=Ve("date"),M=Ve("range"),C=ne(),w=ne(),{wrapperRef:T,isFocused:x}=Wt(C,{disabled:A(()=>a.disabled)}),m=i=>{n("click",i)},k=i=>{n("mouseenter",i)},r=i=>{n("mouseleave",i)},v=i=>{n("touchstart",i)},L=i=>{n("startInput",i)},p=i=>{n("endInput",i)},g=i=>{n("startChange",i)},P=i=>{n("endChange",i)};return d({focus:()=>{var i;(i=C.value)==null||i.focus()},blur:()=>{var i,Y;(i=C.value)==null||i.blur(),(Y=w.value)==null||Y.blur()}}),(i,Y)=>(F(),X("div",{ref_key:"wrapperRef",ref:T,class:S([e(D).is("active",e(x)),i.$attrs.class]),style:st(i.$attrs.style),onClick:m,onMouseenter:k,onMouseleave:r,onTouchstartPassive:v},[fe(i.$slots,"prefix"),Z("input",ba(e(y),{id:e(u),ref_key:"inputRef",ref:C,name:i.name&&i.name[0],placeholder:i.startPlaceholder,value:i.modelValue&&i.modelValue[0],class:e(M).b("input"),disabled:i.disabled,onInput:L,onChange:g}),null,16,Kn),fe(i.$slots,"range-separator"),Z("input",ba(e(y),{id:i.id&&i.id[1],ref_key:"endInputRef",ref:w,name:i.name&&i.name[1],placeholder:i.endPlaceholder,value:i.modelValue&&i.modelValue[1],class:e(M).b("input"),disabled:i.disabled,onInput:p,onChange:P}),null,16,Un),fe(i.$slots,"suffix")],38))}});var zn=We(jn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker-range-trigger.vue"]]);const Hn=Re({name:"Picker",__name:"picker",props:an,emits:[Ma,Ha,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:d,emit:l}){const a=t,n=l,c=vt(),u=Ve("date"),y=Ve("input"),D=Ve("range"),{formItem:M}=Lt(),C=Se(Qt,{}),w=cn(a,null),T=ne(),x=ne(),m=ne(null);let k=!1;const r=Ra(),v=en(a,n),{parsedValue:L,pickerActualVisible:p,userInput:g,pickerVisible:P,pickerOptions:o,valueIsEmpty:O,emitInput:i,onPick:Y,onSetPickerOption:$,onCalendarChange:E,onPanelChange:W}=v,{isFocused:K,handleFocus:H,handleBlur:te}=Wt(x,{disabled:r,beforeFocus(){return a.readonly},afterFocus(){a.automaticDropdown&&(P.value=!0)},beforeBlur(s){var z;return!k&&((z=T.value)==null?void 0:z.isFocusInsideContent(s))},afterBlur(){oa(),P.value=!1,k=!1,a.validateEvent&&M?.validate("blur").catch(s=>St())}}),le=ne(!1),ce=A(()=>[u.b("editor"),u.bm("editor",a.type),y.e("wrapper"),u.is("disabled",r.value),u.is("active",P.value),D.b("editor"),sa?D.bm("editor",sa.value):"",c.class]),U=A(()=>[y.e("icon"),D.e("close-icon"),Ae.value?"":D.em("close-icon","hidden")]);$e(P,s=>{s?Oe(()=>{s&&(m.value=a.modelValue)}):(g.value=null,Oe(()=>{h(a.modelValue)}))});const h=(s,z)=>{(z||!Jt(s,m.value))&&(n(Ha,s),z&&(m.value=s),a.validateEvent&&M?.validate("change").catch(re=>St()))},q=s=>{n("keydown",s)},N=A(()=>x.value?Array.from(x.value.$el.querySelectorAll("input")):[]),ee=(s,z,re)=>{const ye=N.value;ye.length&&(!re||re==="min"?(ye[0].setSelectionRange(s,z),ye[0].focus()):re==="max"&&(ye[1].setSelectionRange(s,z),ye[1].focus()))},b=()=>{p.value=!0},R=()=>{n("visible-change",!0)},I=()=>{p.value=!1,P.value=!1,n("visible-change",!1)},J=()=>{P.value=!0},_=()=>{P.value=!1},se=A(()=>{const s=Ge(L.value);return we(g.value)?[g.value[0]||s&&s[0]||"",g.value[1]||s&&s[1]||""]:g.value!==null?g.value:!me.value&&O.value||!P.value&&O.value?"":s?_e.value||Ke.value||Ue.value?s.join(", "):s:""}),oe=A(()=>a.type.includes("time")),me=A(()=>a.type.startsWith("time")),_e=A(()=>a.type==="dates"),Ke=A(()=>a.type==="months"),Ue=A(()=>a.type==="years"),Te=A(()=>a.prefixIcon||(oe.value?fn:mn)),Ae=A(()=>a.clearable&&!r.value&&!a.readonly&&!O.value&&(le.value||K.value)),Ce=s=>{a.readonly||r.value||(Ae.value&&(s.stopPropagation(),o.value.handleClear?o.value.handleClear():i(w.valueOnClear.value),h(w.valueOnClear.value,!0),I()),n("clear"))},Pe=async s=>{var z;a.readonly||r.value||(((z=s.target)==null?void 0:z.tagName)!=="INPUT"||K.value||!a.automaticDropdown)&&(P.value=!0)},Be=()=>{a.readonly||r.value||!O.value&&a.clearable&&(le.value=!0)},je=()=>{le.value=!1},Ee=s=>{var z;a.readonly||r.value||(((z=s.touches[0].target)==null?void 0:z.tagName)!=="INPUT"||K.value||!a.automaticDropdown)&&(P.value=!0)},wa=A(()=>a.type.includes("range")),sa=vn(),ra=A(()=>{var s,z;return(z=(s=e(T))==null?void 0:s.popperRef)==null?void 0:z.contentRef}),fa=pn(x,s=>{const z=e(ra),re=hn(x);z&&(s.target===z||s.composedPath().includes(z))||s.target===re||re&&s.composedPath().includes(re)||(P.value=!1)});Kt(()=>{fa?.()});const oa=()=>{if(g.value){const s=Qe(se.value);s&&(ze(s)&&i(Aa(s)),g.value=null)}g.value===""&&(i(w.valueOnClear.value),h(w.valueOnClear.value,!0),g.value=null)},Qe=s=>s?o.value.parseUserInput(s):null,Ge=s=>s?we(s)?s.map(re=>re.format(a.format)):s.format(a.format):null,ze=s=>o.value.isValidValue(s),ve=async s=>{if(a.readonly||r.value)return;const z=ft(s);if(q(s),z===ge.esc){P.value===!0&&(P.value=!1,s.preventDefault(),s.stopPropagation());return}if(z===ge.down&&(o.value.handleFocusPicker&&(s.preventDefault(),s.stopPropagation()),P.value===!1&&(P.value=!0,await Oe()),o.value.handleFocusPicker)){o.value.handleFocusPicker();return}if(z===ge.tab){k=!0;return}if(z===ge.enter||z===ge.numpadEnter){P.value?(g.value===null||g.value===""||ze(Qe(se.value)))&&(oa(),P.value=!1):P.value=!0,s.preventDefault(),s.stopPropagation();return}if(g.value){s.stopPropagation();return}o.value.handleKeydownInput&&o.value.handleKeydownInput(s)},Xe=s=>{g.value=s,P.value||(P.value=!0)},ea=s=>{const z=s.target;g.value?g.value=[z.value,g.value[1]]:g.value=[z.value,null]},ma=s=>{const z=s.target;g.value?g.value=[g.value[0],z.value]:g.value=[null,z.value]},ia=()=>{var s;const z=g.value,re=Qe(z&&z[0]),ye=e(L);if(re&&re.isValid()){g.value=[Ge(re),((s=se.value)==null?void 0:s[1])||null];const xe=[re,ye&&(ye[1]||null)];ze(xe)&&(i(Aa(xe)),g.value=null)}},Ie=()=>{var s;const z=e(g),re=Qe(z&&z[1]),ye=e(L);if(re&&re.isValid()){g.value=[((s=e(se))==null?void 0:s[0])||null,Ge(re)];const xe=[ye&&ye[0],re];ze(xe)&&(i(Aa(xe)),g.value=null)}},f=()=>{var s;(s=x.value)==null||s.focus()},j=()=>{var s;(s=x.value)==null||s.blur()};return ya(qe,{props:a,emptyValues:w}),ya(Xt,v),d({focus:f,blur:j,handleOpen:J,handleClose:_,onPick:Y}),(s,z)=>(F(),he(e(On),ba({ref_key:"refPopper",ref:T,visible:e(P),effect:"light",pure:"",trigger:"click"},s.$attrs,{role:"dialog",teleported:"",transition:`${e(u).namespace.value}-zoom-in-top`,"popper-class":[`${e(u).namespace.value}-picker__popper`,s.popperClass],"popper-style":s.popperStyle,"popper-options":e(C),"fallback-placements":s.fallbackPlacements,"gpu-acceleration":!1,placement:s.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:b,onShow:R,onHide:I}),{default:ie(()=>[wa.value?(F(),he(zn,{key:1,id:s.id,ref_key:"inputRef",ref:x,"model-value":se.value,name:s.name,disabled:e(r),readonly:!s.editable||s.readonly,"start-placeholder":s.startPlaceholder,"end-placeholder":s.endPlaceholder,class:S(ce.value),style:st(s.$attrs.style),"aria-label":s.ariaLabel,tabindex:s.tabindex,autocomplete:"off",role:"combobox",onClick:Pe,onFocus:e(H),onBlur:e(te),onStartInput:ea,onStartChange:ia,onEndInput:ma,onEndChange:Ie,onMousedown:Pe,onMouseenter:Be,onMouseleave:je,onTouchstartPassive:Ee,onKeydown:ve},{prefix:ie(()=>[Te.value?(F(),he(e(be),{key:0,class:S([e(y).e("icon"),e(D).e("icon")])},{default:ie(()=>[(F(),he(xa(Te.value)))]),_:1},8,["class"])):ue("v-if",!0)]),"range-separator":ie(()=>[fe(s.$slots,"range-separator",{},()=>[Z("span",{class:S(e(D).b("separator"))},pe(s.rangeSeparator),3)])]),suffix:ie(()=>[s.clearIcon?(F(),he(e(be),{key:0,class:S(U.value),onMousedown:Ze(e(Ct),["prevent"]),onClick:Ce},{default:ie(()=>[(F(),he(xa(s.clearIcon)))]),_:1},8,["class","onMousedown"])):ue("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(F(),he(e(da),{key:0,id:s.id,ref_key:"inputRef",ref:x,"container-role":"combobox","model-value":se.value,name:s.name,size:e(sa),disabled:e(r),placeholder:s.placeholder,class:S([e(u).b("editor"),e(u).bm("editor",s.type),e(u).is("focus",e(P)),s.$attrs.class]),style:st(s.$attrs.style),readonly:!s.editable||s.readonly||_e.value||Ke.value||Ue.value||s.type==="week","aria-label":s.ariaLabel,tabindex:s.tabindex,"validate-event":!1,onInput:Xe,onFocus:e(H),onBlur:e(te),onKeydown:ve,onChange:oa,onMousedown:Pe,onMouseenter:Be,onMouseleave:je,onTouchstartPassive:Ee,onClick:z[0]||(z[0]=Ze(()=>{},["stop"]))},{prefix:ie(()=>[Te.value?(F(),he(e(be),{key:0,class:S(e(y).e("icon")),onMousedown:Ze(Pe,["prevent"]),onTouchstartPassive:Ee},{default:ie(()=>[(F(),he(xa(Te.value)))]),_:1},8,["class"])):ue("v-if",!0)]),suffix:ie(()=>[Ae.value&&s.clearIcon?(F(),he(e(be),{key:0,class:S(`${e(y).e("icon")} clear-icon`),onMousedown:Ze(e(Ct),["prevent"]),onClick:Ce},{default:ie(()=>[(F(),he(xa(s.clearIcon)))]),_:1},8,["class","onMousedown"])):ue("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur"]))]),content:ie(()=>[fe(s.$slots,"default",{visible:e(P),actualVisible:e(p),parsedValue:e(L),format:s.format,dateFormat:s.dateFormat,timeFormat:s.timeFormat,unlinkPanels:s.unlinkPanels,type:s.type,defaultValue:s.defaultValue,showNow:s.showNow,showConfirm:s.showConfirm,showFooter:s.showFooter,showWeekNumber:s.showWeekNumber,onPick:z[1]||(z[1]=(...re)=>e(Y)&&e(Y)(...re)),onSelectRange:ee,onSetPickerOption:z[2]||(z[2]=(...re)=>e($)&&e($)(...re)),onCalendarChange:z[3]||(z[3]=(...re)=>e(E)&&e(E)(...re)),onPanelChange:z[4]||(z[4]=(...re)=>e(W)&&e(W)(...re)),onMousedown:z[5]||(z[5]=Ze(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-style","popper-options","fallback-placements","placement"]))}});var qn=We(Hn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Gn=De({...Ln,datetimeRole:String,parsedValue:{type:de(Object)}}),Zn=({getAvailableHours:t,getAvailableMinutes:d,getAvailableSeconds:l})=>{const a=(u,y,D,M)=>{const C={hour:t,minute:d,second:l};let w=u;return["hour","minute","second"].forEach(T=>{if(C[T]){let x;const m=C[T];switch(T){case"minute":{x=m(w.hour(),y,M);break}case"second":{x=m(w.hour(),w.minute(),y,M);break}default:{x=m(y,M);break}}if(x?.length&&!x.includes(w[T]())){const k=D?0:x.length-1;w=w[T](x[k])}}}),w},n={};return{timePickerOptions:n,getAvailableTime:a,onSetOption:([u,y])=>{n[u]=y}}},lt=t=>{const d=(a,n)=>a||n,l=a=>a!==!0;return t.map(d).filter(l)},tn=(t,d,l)=>({getHoursList:(u,y)=>nt(24,t&&(()=>t?.(u,y))),getMinutesList:(u,y,D)=>nt(60,d&&(()=>d?.(u,y,D))),getSecondsList:(u,y,D,M)=>nt(60,l&&(()=>l?.(u,y,D,M)))}),Jn=(t,d,l)=>{const{getHoursList:a,getMinutesList:n,getSecondsList:c}=tn(t,d,l);return{getAvailableHours:(M,C)=>lt(a(M,C)),getAvailableMinutes:(M,C,w)=>lt(n(M,C,w)),getAvailableSeconds:(M,C,w,T)=>lt(c(M,C,w,T))}},Qn=t=>{const d=ne(t.parsedValue);return $e(()=>t.visible,l=>{l||(d.value=t.parsedValue)}),d},Xn=De({role:{type:String,required:!0},spinnerDate:{type:de(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:de(String),default:""},...pt}),el=["onClick"],al=["onMouseenter"],tl=Re({__name:"basic-time-spinner",props:Xn,emits:[Ha,"select-range","set-option"],setup(t,{emit:d}){const l=t,a=Se(qe),{isRange:n,format:c}=a.props,u=d,y=Ve("time"),{getHoursList:D,getMinutesList:M,getSecondsList:C}=tn(l.disabledHours,l.disabledMinutes,l.disabledSeconds);let w=!1;const T=ne(),x=ne(),m=ne(),k=ne(),r={hours:x,minutes:m,seconds:k},v=A(()=>l.showSeconds?Tt:Tt.slice(0,2)),L=A(()=>{const{spinnerDate:b}=l,R=b.hour(),I=b.minute(),J=b.second();return{hours:R,minutes:I,seconds:J}}),p=A(()=>{const{hours:b,minutes:R}=e(L),{role:I,spinnerDate:J}=l,_=n?void 0:J;return{hours:D(I,_),minutes:M(b,I,_),seconds:C(b,R,I,_)}}),g=A(()=>{const{hours:b,minutes:R,seconds:I}=e(L);return{hours:tt(b,23),minutes:tt(R,59),seconds:tt(I,59)}}),P=bn(b=>{w=!1,i(b)},200),o=b=>{if(!!!l.amPmMode)return"";const I=l.amPmMode==="A";let J=b<12?" am":" pm";return I&&(J=J.toUpperCase()),J},O=b=>{let R=[0,0];const I=c||Va,J=I.indexOf("HH"),_=I.indexOf("mm"),se=I.indexOf("ss");switch(b){case"hours":J!==-1&&(R=[J,J+2]);break;case"minutes":_!==-1&&(R=[_,_+2]);break;case"seconds":se!==-1&&(R=[se,se+2]);break}const[oe,me]=R;u("select-range",oe,me),T.value=b},i=b=>{E(b,e(L)[b])},Y=()=>{i("hours"),i("minutes"),i("seconds")},$=b=>b.querySelector(`.${y.namespace.value}-scrollbar__wrap`),E=(b,R)=>{if(l.arrowControl)return;const I=e(r[b]);I&&I.$el&&($(I.$el).scrollTop=Math.max(0,R*W(b)))},W=b=>{const R=e(r[b]),I=R?.$el.querySelector("li");return I&&Number.parseFloat(yn(I,"height"))||0},K=()=>{te(1)},H=()=>{te(-1)},te=b=>{T.value||O("hours");const R=T.value,I=e(L)[R],J=T.value==="hours"?24:60,_=le(R,I,b,J);ce(R,_),E(R,_),Oe(()=>O(R))},le=(b,R,I,J)=>{let _=(R+I+J)%J;const se=e(p)[b];for(;se[_]&&_!==R;)_=(_+I+J)%J;return _},ce=(b,R)=>{if(e(p)[b][R])return;const{hours:_,minutes:se,seconds:oe}=e(L);let me;switch(b){case"hours":me=l.spinnerDate.hour(R).minute(se).second(oe);break;case"minutes":me=l.spinnerDate.hour(_).minute(R).second(oe);break;case"seconds":me=l.spinnerDate.hour(_).minute(se).second(R);break}u(Ha,me)},U=(b,{value:R,disabled:I})=>{I||(ce(b,R),O(b),E(b,R))},h=b=>{const R=e(r[b]);if(!R)return;w=!0,P(b);const I=Math.min(Math.round(($(R.$el).scrollTop-(q(b)*.5-10)/W(b)+3)/W(b)),b==="hours"?23:59);ce(b,I)},q=b=>e(r[b]).$el.offsetHeight,N=()=>{const b=R=>{const I=e(r[R]);I&&I.$el&&($(I.$el).onscroll=()=>{h(R)})};b("hours"),b("minutes"),b("seconds")};kn(()=>{Oe(()=>{!l.arrowControl&&N(),Y(),l.role==="start"&&O("hours")})});const ee=(b,R)=>{r[R].value=b??void 0};return u("set-option",[`${l.role}_scrollDown`,te]),u("set-option",[`${l.role}_emitSelectRange`,O]),$e(()=>l.spinnerDate,()=>{w||Y()}),(b,R)=>(F(),X("div",{class:S([e(y).b("spinner"),{"has-seconds":b.showSeconds}])},[b.arrowControl?ue("v-if",!0):(F(!0),X(ke,{key:0},Me(v.value,I=>(F(),he(e(gn),{key:I,ref_for:!0,ref:J=>ee(J,I),class:S(e(y).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(y).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:J=>O(I),onMousemove:J=>i(I)},{default:ie(()=>[(F(!0),X(ke,null,Me(p.value[I],(J,_)=>(F(),X("li",{key:_,class:S([e(y).be("spinner","item"),e(y).is("active",_===L.value[I]),e(y).is("disabled",J)]),onClick:se=>U(I,{value:_,disabled:J})},[I==="hours"?(F(),X(ke,{key:0},[na(pe(("0"+(b.amPmMode?_%12||12:_)).slice(-2))+pe(o(_)),1)],64)):(F(),X(ke,{key:1},[na(pe(("0"+_).slice(-2)),1)],64))],10,el))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),b.arrowControl?(F(!0),X(ke,{key:1},Me(v.value,I=>(F(),X("div",{key:I,class:S([e(y).be("spinner","wrapper"),e(y).is("arrow")]),onMouseenter:J=>O(I)},[Ye((F(),he(e(be),{class:S(["arrow-up",e(y).be("spinner","arrow")])},{default:ie(()=>[G(e(wn))]),_:1},8,["class"])),[[e(Mt),H]]),Ye((F(),he(e(be),{class:S(["arrow-down",e(y).be("spinner","arrow")])},{default:ie(()=>[G(e(Dn))]),_:1},8,["class"])),[[e(Mt),K]]),Z("ul",{class:S(e(y).be("spinner","list"))},[(F(!0),X(ke,null,Me(g.value[I],(J,_)=>(F(),X("li",{key:_,class:S([e(y).be("spinner","item"),e(y).is("active",J===L.value[I]),e(y).is("disabled",p.value[I][J])])},[e(Cn)(J)?(F(),X(ke,{key:0},[I==="hours"?(F(),X(ke,{key:0},[na(pe(("0"+(b.amPmMode?J%12||12:J)).slice(-2))+pe(o(J)),1)],64)):(F(),X(ke,{key:1},[na(pe(("0"+J).slice(-2)),1)],64))],64)):ue("v-if",!0)],2))),128))],2)],42,al))),128)):ue("v-if",!0)],2))}});var nl=We(tl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const ll=Re({__name:"panel-time-pick",props:Gn,emits:["pick","select-range","set-picker-option"],setup(t,{emit:d}){const l=t,a=d,n=Se(qe),{arrowControl:c,disabledHours:u,disabledMinutes:y,disabledSeconds:D,defaultValue:M}=n.props,{getAvailableHours:C,getAvailableMinutes:w,getAvailableSeconds:T}=Jn(u,y,D),x=Ve("time"),{t:m,lang:k}=Fe(),r=ne([0,2]),v=Qn(l),L=A(()=>Ut(l.actualVisible)?`${x.namespace.value}-zoom-in-top`:""),p=A(()=>l.format.includes("ss")),g=A(()=>l.format.includes("A")?"A":l.format.includes("a")?"a":""),P=U=>{const h=Q(U).locale(k.value),q=te(h);return h.isSame(q)},o=()=>{const U=v.value;a("pick",U,!1),Oe(()=>{v.value=U})},O=(U=!1,h=!1)=>{h||a("pick",l.parsedValue,U)},i=U=>{if(!l.visible)return;const h=te(U).millisecond(0);a("pick",h,!0)},Y=(U,h)=>{a("select-range",U,h),r.value=[U,h]},$=U=>{const h=l.format,q=h.indexOf("HH"),N=h.indexOf("mm"),ee=h.indexOf("ss"),b=[],R=[];q!==-1&&(b.push(q),R.push("hours")),N!==-1&&(b.push(N),R.push("minutes")),ee!==-1&&p.value&&(b.push(ee),R.push("seconds"));const J=(b.indexOf(r.value[0])+U+b.length)%b.length;W.start_emitSelectRange(R[J])},E=U=>{const h=ft(U),{left:q,right:N,up:ee,down:b}=ge;if([q,N].includes(h)){$(h===q?-1:1),U.preventDefault();return}if([ee,b].includes(h)){const R=h===ee?-1:1;W.start_scrollDown(R),U.preventDefault();return}},{timePickerOptions:W,onSetOption:K,getAvailableTime:H}=Zn({getAvailableHours:C,getAvailableMinutes:w,getAvailableSeconds:T}),te=U=>H(U,l.datetimeRole||"",!0),le=U=>U?Q(U,l.format).locale(k.value):null,ce=()=>Q(M).locale(k.value);return a("set-picker-option",["isValidValue",P]),a("set-picker-option",["parseUserInput",le]),a("set-picker-option",["handleKeydownInput",E]),a("set-picker-option",["getRangeAvailableTime",te]),a("set-picker-option",["getDefaultValue",ce]),(U,h)=>(F(),he(Sn,{name:L.value},{default:ie(()=>[U.actualVisible||U.visible?(F(),X("div",{key:0,class:S(e(x).b("panel"))},[Z("div",{class:S([e(x).be("panel","content"),{"has-seconds":p.value}])},[G(nl,{ref:"spinner",role:U.datetimeRole||"start","arrow-control":e(c),"show-seconds":p.value,"am-pm-mode":g.value,"spinner-date":U.parsedValue,"disabled-hours":e(u),"disabled-minutes":e(y),"disabled-seconds":e(D),onChange:i,onSetOption:e(K),onSelectRange:Y},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Z("div",{class:S(e(x).be("panel","footer"))},[Z("button",{type:"button",class:S([e(x).be("panel","btn"),"cancel"]),onClick:o},pe(e(m)("el.datepicker.cancel")),3),Z("button",{type:"button",class:S([e(x).be("panel","btn"),"confirm"]),onClick:h[0]||(h[0]=q=>O())},pe(e(m)("el.datepicker.confirm")),3)],2)],2)):ue("v-if",!0)]),_:1},8,["name"]))}});var ut=We(ll,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),La={exports:{}},sl=La.exports,It;function rl(){return It||(It=1,(function(t,d){(function(l,a){t.exports=a()})(sl,(function(){return function(l,a){var n=a.prototype,c=n.format;n.format=function(u){var y=this,D=this.$locale();if(!this.isValid())return c.bind(this)(u);var M=this.$utils(),C=(u||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(w){switch(w){case"Q":return Math.ceil((y.$M+1)/3);case"Do":return D.ordinal(y.$D);case"gggg":return y.weekYear();case"GGGG":return y.isoWeekYear();case"wo":return D.ordinal(y.week(),"W");case"w":case"ww":return M.s(y.week(),w==="w"?1:2,"0");case"W":case"WW":return M.s(y.isoWeek(),w==="W"?1:2,"0");case"k":case"kk":return M.s(String(y.$H===0?24:y.$H),w==="k"?1:2,"0");case"X":return Math.floor(y.$d.getTime()/1e3);case"x":return y.$d.getTime();case"z":return"["+y.offsetName()+"]";case"zzz":return"["+y.offsetName("long")+"]";default:return w}}));return c.bind(this)(C)}}}))})(La)),La.exports}var ol=rl();const il=la(ol);var Wa={exports:{}},ul=Wa.exports,xt;function dl(){return xt||(xt=1,(function(t,d){(function(l,a){t.exports=a()})(ul,(function(){var l="week",a="year";return function(n,c,u){var y=c.prototype;y.week=function(D){if(D===void 0&&(D=null),D!==null)return this.add(7*(D-this.week()),"day");var M=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var C=u(this).startOf(a).add(1,a).date(M),w=u(this).endOf(l);if(C.isBefore(w))return 1}var T=u(this).startOf(a).date(M).startOf(l).subtract(1,"millisecond"),x=this.diff(T,l,!0);return x<0?u(this).startOf("week").week():Math.ceil(x)},y.weeks=function(D){return D===void 0&&(D=null),this.week(D)}}}))})(Wa)),Wa.exports}var cl=dl();const vl=la(cl);var Ka={exports:{}},fl=Ka.exports,Nt;function ml(){return Nt||(Nt=1,(function(t,d){(function(l,a){t.exports=a()})(fl,(function(){return function(l,a){a.prototype.weekYear=function(){var n=this.month(),c=this.week(),u=this.year();return c===1&&n===11?u+1:n===0&&c>=52?u-1:u}}}))})(Ka)),Ka.exports}var pl=ml();const hl=la(pl);var Ua={exports:{}},bl=Ua.exports,Ft;function yl(){return Ft||(Ft=1,(function(t,d){(function(l,a){t.exports=a()})(bl,(function(){return function(l,a,n){a.prototype.dayOfYear=function(c){var u=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return c==null?u:this.add(c-u,"day")}}}))})(Ua)),Ua.exports}var kl=yl();const gl=la(kl);var ja={exports:{}},wl=ja.exports,_t;function Dl(){return _t||(_t=1,(function(t,d){(function(l,a){t.exports=a()})(wl,(function(){return function(l,a){a.prototype.isSameOrAfter=function(n,c){return this.isSame(n,c)||this.isAfter(n,c)}}}))})(ja)),ja.exports}var Cl=Dl();const Sl=la(Cl);var za={exports:{}},Pl=za.exports,At;function Ml(){return At||(At=1,(function(t,d){(function(l,a){t.exports=a()})(Pl,(function(){return function(l,a){a.prototype.isSameOrBefore=function(n,c){return this.isSame(n,c)||this.isBefore(n,c)}}}))})(za)),za.exports}var Vl=Ml();const $l=la(Vl),Ol=De({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:de([Date,Array,String,Number]),default:""},defaultValue:{type:de([Date,Array])},defaultTime:{type:de([Date,Array])},isRange:Boolean,...pt,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:de(String),default:"date"},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0}}),ht=Symbol("rootPickerContextKey"),Ta="ElIsDefaultFormat",Yl=["date","dates","year","years","month","months","week","range"],bt=De({cellClassName:{type:de(Function)},disabledDate:{type:de(Function)},date:{type:de(Object),required:!0},minDate:{type:de(Object)},maxDate:{type:de(Object)},parsedValue:{type:de([Object,Array])},rangeState:{type:de(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),nn=De({type:{type:de(String),required:!0,values:Nn},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean,editable:{type:Boolean,default:!0}}),yt=De({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:de(Array)}}),kt=t=>({type:String,values:Yl,default:t}),Rl=De({...nn,parsedValue:{type:de([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:""}}),$a=t=>{if(!we(t))return!1;const[d,l]=t;return Q.isDayjs(d)&&Q.isDayjs(l)&&Q(d).isValid()&&Q(l).isValid()&&d.isSameOrBefore(l)},Xa=(t,{lang:d,step:l=1,unit:a,unlinkPanels:n})=>{let c;if(we(t)){let[u,y]=t.map(D=>Q(D).locale(d));return n||(y=u.add(l,a)),[u,y]}else t?c=Q(t):c=Q();return c=c.locale(d),[c,c.add(l,a)]},Tl=(t,d,{columnIndexOffset:l,startDate:a,nextEndDate:n,now:c,unit:u,relativeDateGetter:y,setCellMetadata:D,setRowMetadata:M})=>{for(let C=0;C<t.row;C++){const w=d[C];for(let T=0;T<t.column;T++){let x=w[T+l];x||(x={row:C,column:T,type:"normal",inRange:!1,start:!1,end:!1});const m=C*t.column+T,k=y(m);x.dayjs=k,x.date=k.toDate(),x.timestamp=k.valueOf(),x.type="normal",x.inRange=!!(a&&k.isSameOrAfter(a,u)&&n&&k.isSameOrBefore(n,u))||!!(a&&k.isSameOrBefore(a,u)&&n&&k.isSameOrAfter(n,u)),a?.isSameOrAfter(n)?(x.start=!!n&&k.isSame(n,u),x.end=a&&k.isSame(a,u)):(x.start=!!a&&k.isSame(a,u),x.end=!!n&&k.isSame(n,u)),k.isSame(c,u)&&(x.type="today"),D?.(x,{rowIndex:C,columnIndex:T}),w[T+l]=x}M?.(w)}},Za=(t,d,l,a)=>{const n=Q().locale(a).startOf("month").month(l).year(d).hour(t.hour()).minute(t.minute()).second(t.second()),c=n.daysInMonth();return qt(c).map(u=>n.add(u,"day").toDate())},ka=(t,d,l,a,n)=>{const c=Q().year(d).month(l).startOf("month").hour(t.hour()).minute(t.minute()).second(t.second()),u=Za(t,d,l,a).find(y=>!n?.(y));return u?Q(u).locale(a):c.locale(a)},Ja=(t,d,l)=>{const a=t.year();if(!l?.(t.toDate()))return t.locale(d);const n=t.month();if(!Za(t,a,n,d).every(l))return ka(t,a,n,d,l);for(let c=0;c<12;c++)if(!Za(t,a,c,d).every(l))return ka(t,a,c,d,l);return t},ga=(t,d,l,a)=>{if(we(t))return t.map(n=>ga(n,d,l,a));if(Pn(t)){const n=a?.value?Q(t):Q(t,d);if(!n.isValid())return n}return Q(t,d).locale(l)},Il=De({...bt,showWeekNumber:Boolean,selectionMode:kt("date")}),xl=["changerange","pick","select"],Qa=(t="")=>["normal","today"].includes(t),Nl=(t,d)=>{const{lang:l}=Fe(),a=ne(),n=ne(),c=ne(),u=ne(),y=ne([[],[],[],[],[],[]]);let D=!1;const M=t.date.$locale().weekStart||7,C=t.date.locale("en").localeData().weekdaysShort().map(h=>h.toLowerCase()),w=A(()=>M>3?7-M:-M),T=A(()=>{const h=t.date.startOf("month");return h.subtract(h.day()||7,"day")}),x=A(()=>C.concat(C).slice(M,M+7)),m=A(()=>Mn(e(g)).some(h=>h.isCurrent)),k=A(()=>{const h=t.date.startOf("month"),q=h.day()||7,N=h.daysInMonth(),ee=h.subtract(1,"month").daysInMonth();return{startOfMonthDay:q,dateCountOfMonth:N,dateCountOfLastMonth:ee}}),r=A(()=>t.selectionMode==="dates"?Ne(t.parsedValue):[]),v=(h,{count:q,rowIndex:N,columnIndex:ee})=>{const{startOfMonthDay:b,dateCountOfMonth:R,dateCountOfLastMonth:I}=e(k),J=e(w);if(N>=0&&N<=1){const _=b+J<0?7+b+J:b+J;if(ee+N*7>=_)return h.text=q,!0;h.text=I-(_-ee%7)+1+N*7,h.type="prev-month"}else return q<=R?h.text=q:(h.text=q-R,h.type="next-month"),!0;return!1},L=(h,{columnIndex:q,rowIndex:N},ee)=>{const{disabledDate:b,cellClassName:R}=t,I=e(r),J=v(h,{count:ee,rowIndex:N,columnIndex:q}),_=h.dayjs.toDate();return h.selected=I.find(se=>se.isSame(h.dayjs,"day")),h.isSelected=!!h.selected,h.isCurrent=o(h),h.disabled=b?.(_),h.customClass=R?.(_),J},p=h=>{if(t.selectionMode==="week"){const[q,N]=t.showWeekNumber?[1,7]:[0,6],ee=U(h[q+1]);h[q].inRange=ee,h[q].start=ee,h[N].inRange=ee,h[N].end=ee}},g=A(()=>{const{minDate:h,maxDate:q,rangeState:N,showWeekNumber:ee}=t,b=e(w),R=e(y),I="day";let J=1;if(Tl({row:6,column:7},R,{startDate:h,columnIndexOffset:ee?1:0,nextEndDate:N.endDate||q||N.selecting&&h||null,now:Q().locale(e(l)).startOf(I),unit:I,relativeDateGetter:_=>e(T).add(_-b,I),setCellMetadata:(..._)=>{L(..._,J)&&(J+=1)},setRowMetadata:p}),ee)for(let _=0;_<6;_++)R[_][1].dayjs&&(R[_][0]={type:"week",text:R[_][1].dayjs.week()});return R});$e(()=>t.date,async()=>{var h;(h=e(a))!=null&&h.contains(document.activeElement)&&(await Oe(),await P())});const P=async()=>{var h;return(h=e(n))==null?void 0:h.focus()},o=h=>t.selectionMode==="date"&&Qa(h.type)&&O(h,t.parsedValue),O=(h,q)=>q?Q(q).locale(e(l)).isSame(t.date.date(Number(h.text)),"day"):!1,i=(h,q)=>{const N=h*7+(q-(t.showWeekNumber?1:0))-e(w);return e(T).add(N,"day")},Y=h=>{var q;if(!t.rangeState.selecting)return;let N=h.target;if(N.tagName==="SPAN"&&(N=(q=N.parentNode)==null?void 0:q.parentNode),N.tagName==="DIV"&&(N=N.parentNode),N.tagName!=="TD")return;const ee=N.parentNode.rowIndex-1,b=N.cellIndex;e(g)[ee][b].disabled||(ee!==e(c)||b!==e(u))&&(c.value=ee,u.value=b,d("changerange",{selecting:!0,endDate:i(ee,b)}))},$=h=>!e(m)&&h?.text===1&&Qa(h.type)||h.isCurrent,E=h=>{D||e(m)||t.selectionMode!=="date"||ce(h,!0)},W=h=>{h.target.closest("td")&&(D=!0)},K=h=>{h.target.closest("td")&&(D=!1)},H=h=>{!t.rangeState.selecting||!t.minDate?(d("pick",{minDate:h,maxDate:null}),d("select",!0)):(h>=t.minDate?d("pick",{minDate:t.minDate,maxDate:h}):d("pick",{minDate:h,maxDate:t.minDate}),d("select",!1))},te=h=>{const q=h.week(),N=`${h.year()}w${q}`;d("pick",{year:h.year(),week:q,value:N,date:h.startOf("week")})},le=(h,q)=>{const N=q?Ne(t.parsedValue).filter(ee=>ee?.valueOf()!==h.valueOf()):Ne(t.parsedValue).concat([h]);d("pick",N)},ce=(h,q=!1)=>{if(t.disabled)return;const N=h.target.closest("td");if(!N)return;const ee=N.parentNode.rowIndex-1,b=N.cellIndex,R=e(g)[ee][b];if(R.disabled||R.type==="week")return;const I=i(ee,b);switch(t.selectionMode){case"range":{H(I);break}case"date":{d("pick",I,q);break}case"week":{te(I);break}case"dates":{le(I,!!R.selected);break}}},U=h=>{if(t.selectionMode!=="week")return!1;let q=t.date.startOf("day");if(h.type==="prev-month"&&(q=q.subtract(1,"month")),h.type==="next-month"&&(q=q.add(1,"month")),q=q.date(Number.parseInt(h.text,10)),t.parsedValue&&!we(t.parsedValue)){const N=(t.parsedValue.day()-M+7)%7-1;return t.parsedValue.subtract(N,"day").isSame(q,"day")}return!1};return{WEEKS:x,rows:g,tbodyRef:a,currentCellRef:n,focus:P,isCurrent:o,isWeekActive:U,isSelectedCell:$,handlePickDate:ce,handleMouseUp:K,handleMouseDown:W,handleMouseMove:Y,handleFocus:E}},Fl=(t,{isCurrent:d,isWeekActive:l})=>{const a=Ve("date-table"),{t:n}=Fe(),c=A(()=>[a.b(),a.is("week-mode",t.selectionMode==="week"&&!t.disabled)]),u=A(()=>n("el.datepicker.dateTablePrompt")),y=M=>{const C=[];return Qa(M.type)&&!M.disabled?(C.push("available"),M.type==="today"&&C.push("today")):C.push(M.type),d(M)&&C.push("current"),M.inRange&&(Qa(M.type)||t.selectionMode==="week")&&(C.push("in-range"),M.start&&C.push("start-date"),M.end&&C.push("end-date")),(M.disabled||t.disabled)&&C.push("disabled"),M.selected&&C.push("selected"),M.customClass&&C.push(M.customClass),C.join(" ")},D=M=>[a.e("row"),{current:l(M)}];return{tableKls:c,tableLabel:u,weekHeaderClass:a.e("week-header"),getCellClasses:y,getRowKls:D,t:n}},_l=De({cell:{type:de(Object)}});var gt=Re({name:"ElDatePickerCell",props:_l,setup(t){const d=Ve("date-table-cell"),{slots:l}=Se(ht);return()=>{const{cell:a}=t;return fe(l,"default",{...a},()=>{var n;return[G("div",{class:d.b()},[G("span",{class:d.e("text")},[(n=a?.renderText)!=null?n:a?.text])])]})}}});const Al=["aria-label"],El=["aria-label"],Bl=["aria-current","aria-selected","tabindex","aria-disabled"],Ll=Re({__name:"basic-date-table",props:Il,emits:xl,setup(t,{expose:d,emit:l}){const a=t,n=l,{WEEKS:c,rows:u,tbodyRef:y,currentCellRef:D,focus:M,isCurrent:C,isWeekActive:w,isSelectedCell:T,handlePickDate:x,handleMouseUp:m,handleMouseDown:k,handleMouseMove:r,handleFocus:v}=Nl(a,n),{tableLabel:L,tableKls:p,getCellClasses:g,getRowKls:P,weekHeaderClass:o,t:O}=Fl(a,{isCurrent:C,isWeekActive:w});let i=!1;return Kt(()=>{i=!0}),d({focus:M}),(Y,$)=>(F(),X("table",{"aria-label":e(L),class:S(e(p)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:$[1]||($[1]=(...E)=>e(x)&&e(x)(...E)),onMousemove:$[2]||($[2]=(...E)=>e(r)&&e(r)(...E)),onMousedown:$[3]||($[3]=(...E)=>e(k)&&e(k)(...E)),onMouseup:$[4]||($[4]=(...E)=>e(m)&&e(m)(...E))},[Z("tbody",{ref_key:"tbodyRef",ref:y},[Z("tr",null,[Y.showWeekNumber?(F(),X("th",{key:0,scope:"col",class:S(e(o))},null,2)):ue("v-if",!0),(F(!0),X(ke,null,Me(e(c),(E,W)=>(F(),X("th",{key:W,"aria-label":e(O)("el.datepicker.weeksFull."+E),scope:"col"},pe(e(O)("el.datepicker.weeks."+E)),9,El))),128))]),(F(!0),X(ke,null,Me(e(u),(E,W)=>(F(),X("tr",{key:W,class:S(e(P)(Y.showWeekNumber?E[2]:E[1]))},[(F(!0),X(ke,null,Me(E,(K,H)=>(F(),X("td",{key:`${W}.${H}`,ref_for:!0,ref:te=>!e(i)&&e(T)(K)&&(D.value=te),class:S(e(g)(K)),"aria-current":K.isCurrent?"date":void 0,"aria-selected":K.isCurrent,tabindex:Y.disabled?void 0:e(T)(K)?0:-1,"aria-disabled":Y.disabled,onFocus:$[0]||($[0]=(...te)=>e(v)&&e(v)(...te))},[G(e(gt),{cell:K},null,8,["cell"])],42,Bl))),128))],2))),128))],512)],42,Al))}});var dt=We(Ll,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-date-table.vue"]]);const Wl=De({...bt,selectionMode:kt("month")}),Kl=["aria-label"],Ul=["aria-selected","aria-label","tabindex","onKeydown"],jl=Re({__name:"basic-month-table",props:Wl,emits:["changerange","pick","select"],setup(t,{expose:d,emit:l}){const a=t,n=l,c=Ve("month-table"),{t:u,lang:y}=Fe(),D=ne(),M=ne(),C=ne(a.date.locale("en").localeData().monthsShort().map(g=>g.toLowerCase())),w=ne([[],[],[]]),T=ne(),x=ne(),m=A(()=>{var g,P,o;const O=w.value,i=Q().locale(y.value).startOf("month");for(let Y=0;Y<3;Y++){const $=O[Y];for(let E=0;E<4;E++){const W=$[E]||($[E]={row:Y,column:E,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});W.type="normal";const K=Y*4+E,H=a.date.startOf("year").month(K),te=a.rangeState.endDate||a.maxDate||a.rangeState.selecting&&a.minDate||null;W.inRange=!!(a.minDate&&H.isSameOrAfter(a.minDate,"month")&&te&&H.isSameOrBefore(te,"month"))||!!(a.minDate&&H.isSameOrBefore(a.minDate,"month")&&te&&H.isSameOrAfter(te,"month")),(g=a.minDate)!=null&&g.isSameOrAfter(te)?(W.start=!!(te&&H.isSame(te,"month")),W.end=a.minDate&&H.isSame(a.minDate,"month")):(W.start=!!(a.minDate&&H.isSame(a.minDate,"month")),W.end=!!(te&&H.isSame(te,"month"))),i.isSame(H)&&(W.type="today");const ce=H.toDate();W.text=K,W.disabled=((P=a.disabledDate)==null?void 0:P.call(a,ce))||!1,W.date=ce,W.customClass=(o=a.cellClassName)==null?void 0:o.call(a,ce),W.dayjs=H,W.timestamp=H.valueOf(),W.isSelected=v(W)}}return O}),k=()=>{var g;(g=M.value)==null||g.focus()},r=g=>{const P={},o=a.date.year(),O=new Date,i=g.text;return P.disabled=a.disabled||(a.disabledDate?Za(a.date,o,i,y.value).every(a.disabledDate):!1),P.current=Ne(a.parsedValue).some(Y=>Q.isDayjs(Y)&&Y.year()===o&&Y.month()===i),P.today=O.getFullYear()===o&&O.getMonth()===i,g.customClass&&(P[g.customClass]=!0),g.inRange&&(P["in-range"]=!0,g.start&&(P["start-date"]=!0),g.end&&(P["end-date"]=!0)),P},v=g=>{const P=a.date.year(),o=g.text;return Ne(a.date).some(O=>O.year()===P&&O.month()===o)},L=g=>{var P;if(!a.rangeState.selecting)return;let o=g.target;if(o.tagName==="SPAN"&&(o=(P=o.parentNode)==null?void 0:P.parentNode),o.tagName==="DIV"&&(o=o.parentNode),o.tagName!=="TD")return;const O=o.parentNode.rowIndex,i=o.cellIndex;m.value[O][i].disabled||(O!==T.value||i!==x.value)&&(T.value=O,x.value=i,n("changerange",{selecting:!0,endDate:a.date.startOf("year").month(O*4+i)}))},p=g=>{var P;if(a.disabled)return;const o=(P=g.target)==null?void 0:P.closest("td");if(o?.tagName!=="TD"||qa(o,"disabled"))return;const O=o.cellIndex,Y=o.parentNode.rowIndex*4+O,$=a.date.startOf("year").month(Y);if(a.selectionMode==="months"){if(g.type==="keydown"){n("pick",Ne(a.parsedValue),!1);return}const E=ka(a.date,a.date.year(),Y,y.value,a.disabledDate),W=qa(o,"current")?Ne(a.parsedValue).filter(K=>K?.year()!==E.year()||K?.month()!==E.month()):Ne(a.parsedValue).concat([Q(E)]);n("pick",W)}else a.selectionMode==="range"?a.rangeState.selecting?(a.minDate&&$>=a.minDate?n("pick",{minDate:a.minDate,maxDate:$}):n("pick",{minDate:$,maxDate:a.minDate}),n("select",!1)):(n("pick",{minDate:$,maxDate:null}),n("select",!0)):n("pick",Y)};return $e(()=>a.date,async()=>{var g,P;(g=D.value)!=null&&g.contains(document.activeElement)&&(await Oe(),(P=M.value)==null||P.focus())}),d({focus:k}),(g,P)=>(F(),X("table",{role:"grid","aria-label":e(u)("el.datepicker.monthTablePrompt"),class:S(e(c).b()),onClick:p,onMousemove:L},[Z("tbody",{ref_key:"tbodyRef",ref:D},[(F(!0),X(ke,null,Me(m.value,(o,O)=>(F(),X("tr",{key:O},[(F(!0),X(ke,null,Me(o,(i,Y)=>(F(),X("td",{key:Y,ref_for:!0,ref:$=>i.isSelected&&(M.value=$),class:S(r(i)),"aria-selected":!!i.isSelected,"aria-label":e(u)(`el.datepicker.month${+i.text+1}`),tabindex:i.isSelected?0:-1,onKeydown:[He(Ze(p,["prevent","stop"]),["space"]),He(Ze(p,["prevent","stop"]),["enter"])]},[G(e(gt),{cell:{...i,renderText:e(u)("el.datepicker.months."+C.value[i.text])}},null,8,["cell"])],42,Ul))),128))]))),128))],512)],42,Kl))}});var Oa=We(jl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-month-table.vue"]]);const zl=De({...bt,selectionMode:kt("year")}),Hl=["aria-label"],ql=["aria-selected","aria-label","tabindex","onKeydown"],Gl=Re({__name:"basic-year-table",props:zl,emits:["changerange","pick","select"],setup(t,{expose:d,emit:l}){const a=(P,o)=>{const O=Q(String(P)).locale(o).startOf("year"),Y=O.endOf("year").dayOfYear();return qt(Y).map($=>O.add($,"day").toDate())},n=t,c=l,u=Ve("year-table"),{t:y,lang:D}=Fe(),M=ne(),C=ne(),w=A(()=>Math.floor(n.date.year()/10)*10),T=ne([[],[],[]]),x=ne(),m=ne(),k=A(()=>{var P,o,O;const i=T.value,Y=Q().locale(D.value).startOf("year");for(let $=0;$<3;$++){const E=i[$];for(let W=0;W<4&&!($*4+W>=10);W++){let K=E[W];K||(K={row:$,column:W,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0}),K.type="normal";const H=$*4+W+w.value,te=Q().year(H),le=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;K.inRange=!!(n.minDate&&te.isSameOrAfter(n.minDate,"year")&&le&&te.isSameOrBefore(le,"year"))||!!(n.minDate&&te.isSameOrBefore(n.minDate,"year")&&le&&te.isSameOrAfter(le,"year")),(P=n.minDate)!=null&&P.isSameOrAfter(le)?(K.start=!!(le&&te.isSame(le,"year")),K.end=!!(n.minDate&&te.isSame(n.minDate,"year"))):(K.start=!!(n.minDate&&te.isSame(n.minDate,"year")),K.end=!!(le&&te.isSame(le,"year"))),Y.isSame(te)&&(K.type="today"),K.text=H;const U=te.toDate();K.disabled=((o=n.disabledDate)==null?void 0:o.call(n,U))||!1,K.date=U,K.customClass=(O=n.cellClassName)==null?void 0:O.call(n,U),K.dayjs=te,K.timestamp=te.valueOf(),K.isSelected=L(K),E[W]=K}}return i}),r=()=>{var P;(P=C.value)==null||P.focus()},v=P=>{const o={},O=Q().locale(D.value),i=P.text;return o.disabled=n.disabled||(n.disabledDate?a(i,D.value).every(n.disabledDate):!1),o.today=O.year()===i,o.current=Ne(n.parsedValue).some(Y=>Y.year()===i),P.customClass&&(o[P.customClass]=!0),P.inRange&&(o["in-range"]=!0,P.start&&(o["start-date"]=!0),P.end&&(o["end-date"]=!0)),o},L=P=>{const o=P.text;return Ne(n.date).some(O=>O.year()===o)},p=P=>{var o;if(n.disabled)return;const O=(o=P.target)==null?void 0:o.closest("td");if(!O||!O.textContent||qa(O,"disabled"))return;const i=O.cellIndex,$=O.parentNode.rowIndex*4+i+w.value,E=Q().year($);if(n.selectionMode==="range")n.rangeState.selecting?(n.minDate&&E>=n.minDate?c("pick",{minDate:n.minDate,maxDate:E}):c("pick",{minDate:E,maxDate:n.minDate}),c("select",!1)):(c("pick",{minDate:E,maxDate:null}),c("select",!0));else if(n.selectionMode==="years"){if(P.type==="keydown"){c("pick",Ne(n.parsedValue),!1);return}const W=Ja(E.startOf("year"),D.value,n.disabledDate),K=qa(O,"current")?Ne(n.parsedValue).filter(H=>H?.year()!==$):Ne(n.parsedValue).concat([W]);c("pick",K)}else c("pick",$)},g=P=>{var o;if(!n.rangeState.selecting)return;const O=(o=P.target)==null?void 0:o.closest("td");if(!O)return;const i=O.parentNode.rowIndex,Y=O.cellIndex;k.value[i][Y].disabled||(i!==x.value||Y!==m.value)&&(x.value=i,m.value=Y,c("changerange",{selecting:!0,endDate:Q().year(w.value).add(i*4+Y,"year")}))};return $e(()=>n.date,async()=>{var P,o;(P=M.value)!=null&&P.contains(document.activeElement)&&(await Oe(),(o=C.value)==null||o.focus())}),d({focus:r}),(P,o)=>(F(),X("table",{role:"grid","aria-label":e(y)("el.datepicker.yearTablePrompt"),class:S(e(u).b()),onClick:p,onMousemove:g},[Z("tbody",{ref_key:"tbodyRef",ref:M},[(F(!0),X(ke,null,Me(k.value,(O,i)=>(F(),X("tr",{key:i},[(F(!0),X(ke,null,Me(O,(Y,$)=>(F(),X("td",{key:`${i}_${$}`,ref_for:!0,ref:E=>Y.isSelected&&(C.value=E),class:S(["available",v(Y)]),"aria-selected":Y.isSelected,"aria-label":String(Y.text),tabindex:Y.isSelected?0:-1,onKeydown:[He(Ze(p,["prevent","stop"]),["space"]),He(Ze(p,["prevent","stop"]),["enter"])]},[G(e(gt),{cell:Y},null,8,["cell"])],42,ql))),128))]))),128))],512)],42,Hl))}});var Ya=We(Gl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/basic-year-table.vue"]]);const Zl=["disabled","onClick"],Jl=["aria-label","disabled"],Ql=["aria-label","disabled"],Xl=["tabindex","aria-disabled"],es=["tabindex","aria-disabled"],as=["aria-label","disabled"],ts=["aria-label","disabled"],ns=Re({__name:"panel-date-pick",props:Rl,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:d}){const l=(f,j,s)=>!0,a=t,n=d,c=Ve("picker-panel"),u=Ve("date-picker"),y=vt(),D=mt(),{t:M,lang:C}=Fe(),w=Se(qe),T=Se(Ta,void 0),{shortcuts:x,disabledDate:m,cellClassName:k,defaultTime:r}=w.props,v=Le(w.props,"defaultValue"),L=ne(),p=ne(Q().locale(C.value)),g=ne(!1);let P=!1;const o=A(()=>Q(r).locale(C.value)),O=A(()=>p.value.month()),i=A(()=>p.value.year()),Y=ne([]),$=ne(null),E=ne(null),W=f=>Y.value.length>0?l(f,Y.value,a.format||"HH:mm:ss"):!0,K=f=>r&&!Be.value&&!g.value&&!P?o.value.year(f.year()).month(f.month()).date(f.date()):oe.value?f.millisecond(0):f.startOf("day"),H=(f,...j)=>{if(!f)n("pick",f,...j);else if(we(f)){const s=f.map(K);n("pick",s,...j)}else n("pick",K(f),...j);$.value=null,E.value=null,g.value=!1,P=!1},te=async(f,j)=>{if(N.value==="date"&&Q.isDayjs(f)){const s=Sa(a.parsedValue);let z=s?s.year(f.year()).month(f.month()).date(f.date()):f;W(z),p.value=z,H(z,oe.value||j)}else N.value==="week"?H(f.date):N.value==="dates"&&H(f,!0)},le=f=>{const j=f?"add":"subtract";p.value=p.value[j](1,"month"),Ie("month")},ce=f=>{const j=p.value,s=f?"add":"subtract";p.value=U.value==="year"?j[s](10,"year"):j[s](1,"year"),Ie("year")},U=ne("date"),h=A(()=>{const f=M("el.datepicker.year");if(U.value==="year"){const j=Math.floor(i.value/10)*10;return f?`${j} ${f} - ${j+9} ${f}`:`${j} - ${j+9}`}return`${i.value} ${f}`}),q=f=>{const j=ot(f.value)?f.value():f.value;if(j){P=!0,H(Q(j).locale(C.value));return}f.onClick&&f.onClick({attrs:y,slots:D,emit:n})},N=A(()=>{const{type:f}=a;return["week","month","months","year","years","dates"].includes(f)?f:"date"}),ee=A(()=>N.value==="dates"||N.value==="months"||N.value==="years"),b=A(()=>N.value==="date"?U.value:N.value),R=A(()=>!!x.length),I=async(f,j)=>{N.value==="month"?(p.value=ka(p.value,p.value.year(),f,C.value,m),H(p.value,!1)):N.value==="months"?H(f,j??!0):(p.value=ka(p.value,p.value.year(),f,C.value,m),U.value="date",["month","year","date","week"].includes(N.value)&&(H(p.value,!0),await Oe(),Xe())),Ie("month")},J=async(f,j)=>{if(N.value==="year"){const s=p.value.startOf("year").year(f);p.value=Ja(s,C.value,m),H(p.value,!1)}else if(N.value==="years")H(f,j??!0);else{const s=p.value.year(f);p.value=Ja(s,C.value,m),U.value="month",["month","year","date","week"].includes(N.value)&&(H(p.value,!0),await Oe(),Xe())}Ie("year")},_=Ra(),se=async f=>{_.value||(U.value=f,await Oe(),Xe())},oe=A(()=>a.type==="datetime"||a.type==="datetimerange"),me=A(()=>{const f=oe.value||N.value==="dates",j=N.value==="years",s=N.value==="months",z=U.value==="date",re=U.value==="year",ye=U.value==="month";return f&&z||j&&re||s&&ye}),_e=A(()=>!ee.value&&a.showNow||a.showConfirm),Ke=A(()=>m?a.parsedValue?we(a.parsedValue)?m(a.parsedValue[0].toDate()):m(a.parsedValue.toDate()):!0:!1),Ue=()=>{if(ee.value)H(a.parsedValue);else{let f=Sa(a.parsedValue);if(!f){const j=Q(r).locale(C.value),s=ve();f=j.year(s.year()).month(s.month()).date(s.date())}p.value=f,H(f)}},Te=A(()=>m?m(Q().locale(C.value).toDate()):!1),Ae=()=>{const j=Q().locale(C.value).toDate();g.value=!0,(!m||!m(j))&&W(j)&&(p.value=Q().locale(C.value),H(p.value))},Ce=A(()=>a.timeFormat||Zt(a.format)||Va),Pe=A(()=>a.dateFormat||Gt(a.format)||ta),Be=A(()=>E.value?E.value:!a.parsedValue&&!v.value?void 0:(Sa(a.parsedValue)||p.value).format(Ce.value)),je=A(()=>$.value?$.value:!a.parsedValue&&!v.value?void 0:(Sa(a.parsedValue)||p.value).format(Pe.value)),Ee=ne(!1),wa=()=>{Ee.value=!0},sa=()=>{Ee.value=!1},ra=f=>({hour:f.hour(),minute:f.minute(),second:f.second(),year:f.year(),month:f.month(),date:f.date()}),fa=(f,j,s)=>{const{hour:z,minute:re,second:ye}=ra(f),xe=Sa(a.parsedValue),Da=xe?xe.hour(z).minute(re).second(ye):f;p.value=Da,H(p.value,!0),s||(Ee.value=j)},oa=f=>{const j=Q(f,Ce.value).locale(C.value);if(j.isValid()&&W(j)){const{year:s,month:z,date:re}=ra(p.value);p.value=j.year(s).month(z).date(re),E.value=null,Ee.value=!1,H(p.value,!0)}},Qe=f=>{const j=ga(f,Pe.value,C.value,T);if(j.isValid()){if(m&&m(j.toDate()))return;const{hour:s,minute:z,second:re}=ra(p.value);p.value=j.hour(s).minute(z).second(re),$.value=null,H(p.value,!0)}},Ge=f=>Q.isDayjs(f)&&f.isValid()&&(m?!m(f.toDate()):!0),ze=f=>ga(f,a.format,C.value,T),ve=()=>{const f=Q(v.value).locale(C.value);if(!v.value){const j=o.value;return Q().hour(j.hour()).minute(j.minute()).second(j.second()).locale(C.value)}return f},Xe=()=>{var f;["week","month","year","date"].includes(N.value)&&((f=L.value)==null||f.focus())},ea=()=>{Xe(),N.value==="week"&&ia(ge.down)},ma=f=>{const j=ft(f);[ge.up,ge.down,ge.left,ge.right,ge.home,ge.end,ge.pageUp,ge.pageDown].includes(j)&&(ia(j),f.stopPropagation(),f.preventDefault()),[ge.enter,ge.space,ge.numpadEnter].includes(j)&&$.value===null&&E.value===null&&(f.preventDefault(),H(p.value,!1))},ia=f=>{var j;const{up:s,down:z,left:re,right:ye,home:xe,end:Da,pageUp:et,pageDown:Ia}=ge,at={year:{[s]:-4,[z]:4,[re]:-1,[ye]:1,offset:(V,B)=>V.setFullYear(V.getFullYear()+B)},month:{[s]:-4,[z]:4,[re]:-1,[ye]:1,offset:(V,B)=>V.setMonth(V.getMonth()+B)},week:{[s]:-1,[z]:1,[re]:-1,[ye]:1,offset:(V,B)=>V.setDate(V.getDate()+B*7)},date:{[s]:-7,[z]:7,[re]:-1,[ye]:1,[xe]:V=>-V.getDay(),[Da]:V=>-V.getDay()+6,[et]:V=>-new Date(V.getFullYear(),V.getMonth(),0).getDate(),[Ia]:V=>new Date(V.getFullYear(),V.getMonth()+1,0).getDate(),offset:(V,B)=>V.setDate(V.getDate()+B)}},aa=p.value.toDate();for(;Math.abs(p.value.diff(aa,"year",!0))<1;){const V=at[b.value];if(!V)return;if(V.offset(aa,ot(V[f])?V[f](aa):(j=V[f])!=null?j:0),m&&m(aa))break;const B=Q(aa).locale(C.value);p.value=B,n("pick",B,!0);break}},Ie=f=>{n("panel-change",p.value.toDate(),f,U.value)};return $e(()=>N.value,f=>{if(["month","year"].includes(f)){U.value=f;return}else if(f==="years"){U.value="year";return}else if(f==="months"){U.value="month";return}U.value="date"},{immediate:!0}),$e(()=>v.value,f=>{f&&(p.value=ve())},{immediate:!0}),$e(()=>a.parsedValue,f=>{if(f){if(ee.value||we(f))return;p.value=f}else p.value=ve()},{immediate:!0}),n("set-picker-option",["isValidValue",Ge]),n("set-picker-option",["parseUserInput",ze]),n("set-picker-option",["handleFocusPicker",ea]),(f,j)=>(F(),X("div",{class:S([e(c).b(),e(u).b(),e(c).is("border",f.border),e(c).is("disabled",e(_)),{"has-sidebar":f.$slots.sidebar||R.value,"has-time":oe.value}])},[Z("div",{class:S(e(c).e("body-wrapper"))},[fe(f.$slots,"sidebar",{class:S(e(c).e("sidebar"))}),R.value?(F(),X("div",{key:0,class:S(e(c).e("sidebar"))},[(F(!0),X(ke,null,Me(e(x),(s,z)=>(F(),X("button",{key:z,type:"button",disabled:e(_),class:S(e(c).e("shortcut")),onClick:re=>q(s)},pe(s.text),11,Zl))),128))],2)):ue("v-if",!0),Z("div",{class:S(e(c).e("body"))},[oe.value?(F(),X("div",{key:0,class:S(e(u).e("time-header"))},[Z("span",{class:S(e(u).e("editor-wrap"))},[G(e(da),{placeholder:e(M)("el.datepicker.selectDate"),"model-value":je.value,size:"small","validate-event":!1,disabled:e(_),readonly:!f.editable,onInput:j[0]||(j[0]=s=>$.value=s),onChange:Qe},null,8,["placeholder","model-value","disabled","readonly"])],2),Ye((F(),X("span",{class:S(e(u).e("editor-wrap"))},[G(e(da),{placeholder:e(M)("el.datepicker.selectTime"),"model-value":Be.value,size:"small","validate-event":!1,disabled:e(_),readonly:!f.editable,onFocus:wa,onInput:j[1]||(j[1]=s=>E.value=s),onChange:oa},null,8,["placeholder","model-value","disabled","readonly"]),G(e(ut),{visible:Ee.value,format:Ce.value,"parsed-value":p.value,onPick:fa},null,8,["visible","format","parsed-value"])],2)),[[e(it),sa]])],2)):ue("v-if",!0),Ye(Z("div",{class:S([e(u).e("header"),(U.value==="year"||U.value==="month")&&e(u).em("header","bordered")])},[Z("span",{class:S(e(u).e("prev-btn"))},[Z("button",{type:"button","aria-label":e(M)("el.datepicker.prevYear"),class:S(["d-arrow-left",e(c).e("icon-btn")]),disabled:e(_),onClick:j[2]||(j[2]=s=>ce(!1))},[fe(f.$slots,"prev-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(ca))]),_:1})])],10,Jl),Ye(Z("button",{type:"button","aria-label":e(M)("el.datepicker.prevMonth"),class:S([e(c).e("icon-btn"),"arrow-left"]),disabled:e(_),onClick:j[3]||(j[3]=s=>le(!1))},[fe(f.$slots,"prev-month",{},()=>[G(e(be),null,{default:ie(()=>[G(e(rt))]),_:1})])],10,Ql),[[Je,U.value==="date"]])],2),Z("span",{role:"button",class:S(e(u).e("header-label")),"aria-live":"polite",tabindex:f.disabled?void 0:0,"aria-disabled":f.disabled,onKeydown:j[4]||(j[4]=He(s=>se("year"),["enter"])),onClick:j[5]||(j[5]=s=>se("year"))},pe(h.value),43,Xl),Ye(Z("span",{role:"button","aria-live":"polite",tabindex:f.disabled?void 0:0,"aria-disabled":f.disabled,class:S([e(u).e("header-label"),{active:U.value==="month"}]),onKeydown:j[6]||(j[6]=He(s=>se("month"),["enter"])),onClick:j[7]||(j[7]=s=>se("month"))},pe(e(M)(`el.datepicker.month${O.value+1}`)),43,es),[[Je,U.value==="date"]]),Z("span",{class:S(e(u).e("next-btn"))},[Ye(Z("button",{type:"button","aria-label":e(M)("el.datepicker.nextMonth"),class:S([e(c).e("icon-btn"),"arrow-right"]),disabled:e(_),onClick:j[8]||(j[8]=s=>le(!0))},[fe(f.$slots,"next-month",{},()=>[G(e(be),null,{default:ie(()=>[G(e(_a))]),_:1})])],10,as),[[Je,U.value==="date"]]),Z("button",{type:"button","aria-label":e(M)("el.datepicker.nextYear"),class:S([e(c).e("icon-btn"),"d-arrow-right"]),disabled:e(_),onClick:j[9]||(j[9]=s=>ce(!0))},[fe(f.$slots,"next-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(va))]),_:1})])],10,ts)],2)],2),[[Je,U.value!=="time"]]),Z("div",{class:S(e(c).e("content")),onKeydown:ma},[U.value==="date"?(F(),he(dt,{key:0,ref_key:"currentViewRef",ref:L,"selection-mode":N.value,date:p.value,"parsed-value":f.parsedValue,"disabled-date":e(m),disabled:e(_),"cell-class-name":e(k),"show-week-number":f.showWeekNumber,onPick:te},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name","show-week-number"])):ue("v-if",!0),U.value==="year"?(F(),he(Ya,{key:1,ref_key:"currentViewRef",ref:L,"selection-mode":N.value,date:p.value,"disabled-date":e(m),disabled:e(_),"parsed-value":f.parsedValue,"cell-class-name":e(k),onPick:J},null,8,["selection-mode","date","disabled-date","disabled","parsed-value","cell-class-name"])):ue("v-if",!0),U.value==="month"?(F(),he(Oa,{key:2,ref_key:"currentViewRef",ref:L,"selection-mode":N.value,date:p.value,"parsed-value":f.parsedValue,"disabled-date":e(m),disabled:e(_),"cell-class-name":e(k),onPick:I},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name"])):ue("v-if",!0)],34)],2)],2),f.showFooter&&me.value&&_e.value?(F(),X("div",{key:0,class:S(e(c).e("footer"))},[Ye(G(e(Ga),{text:"",size:"small",class:S(e(c).e("link-btn")),disabled:Te.value,onClick:Ae},{default:ie(()=>[na(pe(e(M)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Je,!ee.value&&f.showNow]]),f.showConfirm?(F(),he(e(Ga),{key:0,plain:"",size:"small",class:S(e(c).e("link-btn")),disabled:Ke.value,onClick:Ue},{default:ie(()=>[na(pe(e(M)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):ue("v-if",!0)],2)):ue("v-if",!0)],2))}});var ls=We(ns,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-pick.vue"]]);const ss=De({...nn,...yt}),rs=t=>{const{emit:d}=jt(),l=vt(),a=mt();return c=>{const u=ot(c.value)?c.value():c.value;if(u){d("pick",[Q(u[0]).locale(t.value),Q(u[1]).locale(t.value)]);return}c.onClick&&c.onClick({attrs:l,slots:a,emit:d})}},wt=(t,{defaultValue:d,defaultTime:l,leftDate:a,rightDate:n,step:c,unit:u,sortDates:y})=>{const{emit:D}=jt(),{pickerNs:M}=Se(ht),C=Ve("date-range-picker"),{t:w,lang:T}=Fe(),x=rs(T),m=ne(),k=ne(),r=ne({endDate:null,selecting:!1}),v=o=>{r.value=o},L=(o=!1)=>{const O=e(m),i=e(k);$a([O,i])&&D("pick",[O,i],o)},p=o=>{r.value.selecting=o,o||(r.value.endDate=null)},g=o=>{if(we(o)&&o.length===2){const[O,i]=o;m.value=O,a.value=O,k.value=i,y(e(m),e(k))}else P()},P=()=>{let[o,O]=Xa(e(d),{lang:e(T),step:c,unit:u,unlinkPanels:t.unlinkPanels});const i=$=>$.diff($.startOf("d"),"ms"),Y=e(l);if(Y){let $=0,E=0;if(we(Y)){const[W,K]=Y.map(Q);$=i(W),E=i(K)}else{const W=i(Q(Y));$=W,E=W}o=o.startOf("d").add($,"ms"),O=O.startOf("d").add(E,"ms")}m.value=void 0,k.value=void 0,a.value=o,n.value=O};return $e(d,o=>{o&&P()},{immediate:!0}),$e(()=>t.parsedValue,o=>{(!o?.length||!Bt(o,[m.value,k.value]))&&g(o)},{immediate:!0}),$e(()=>t.visible,()=>{t.visible&&g(t.parsedValue)},{immediate:!0}),{minDate:m,maxDate:k,rangeState:r,lang:T,ppNs:M,drpNs:C,handleChangeRange:v,handleRangeConfirm:L,handleShortcutClick:x,onSelect:p,parseValue:g,t:w}},os=(t,d,l,a)=>{const n=ne("date"),c=ne(),u=ne("date"),y=ne(),D=Se(qe),{disabledDate:M}=D.props,{t:C,lang:w}=Fe(),T=A(()=>l.value.year()),x=A(()=>l.value.month()),m=A(()=>a.value.year()),k=A(()=>a.value.month());function r(o,O){const i=C("el.datepicker.year");if(o.value==="year"){const Y=Math.floor(O.value/10)*10;return i?`${Y} ${i} - ${Y+9} ${i}`:`${Y} - ${Y+9}`}return`${O.value} ${i}`}function v(o){o?.focus()}async function L(o,O){if(t.disabled)return;const i=o==="left"?n:u,Y=o==="left"?c:y;i.value=O,await Oe(),v(Y.value)}async function p(o,O,i){if(t.disabled)return;const Y=O==="left",$=Y?l:a,E=Y?a:l,W=Y?n:u,K=Y?c:y;if(o==="year"){const H=$.value.year(i);$.value=Ja(H,w.value,M)}o==="month"&&($.value=ka($.value,$.value.year(),i,w.value,M)),t.unlinkPanels||(E.value=O==="left"?$.value.add(1,"month"):$.value.subtract(1,"month")),W.value=o==="year"?"month":"date",await Oe(),v(K.value),g(o)}function g(o){d("panel-change",[l.value.toDate(),a.value.toDate()],o)}function P(o,O,i){const Y=i?"add":"subtract";return o==="year"?O[Y](10,"year"):O[Y](1,"year")}return{leftCurrentView:n,rightCurrentView:u,leftCurrentViewRef:c,rightCurrentViewRef:y,leftYear:T,rightYear:m,leftMonth:x,rightMonth:k,leftYearLabel:A(()=>r(n,T)),rightYearLabel:A(()=>r(u,m)),showLeftPicker:o=>L("left",o),showRightPicker:o=>L("right",o),handleLeftYearPick:o=>p("year","left",o),handleRightYearPick:o=>p("year","right",o),handleLeftMonthPick:o=>p("month","left",o),handleRightMonthPick:o=>p("month","right",o),handlePanelChange:g,adjustDateByView:P}},is=["disabled","onClick"],us=["aria-label","disabled"],ds=["aria-label","disabled"],cs=["disabled","aria-label"],vs=["disabled","aria-label"],fs=["tabindex","aria-disabled"],ms=["tabindex","aria-disabled"],ps=["disabled","aria-label"],hs=["disabled","aria-label"],bs=["aria-label","disabled"],ys=["disabled","aria-label"],ks=["tabindex","aria-disabled"],gs=["tabindex","aria-disabled"],Na="month",ws=Re({__name:"panel-date-range",props:ss,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:d}){const l=t,a=d,n=Se(qe),c=Se(Ta,void 0),{disabledDate:u,cellClassName:y,defaultTime:D,clearable:M}=n.props,C=Le(n.props,"format"),w=Le(n.props,"shortcuts"),T=Le(n.props,"defaultValue"),{lang:x}=Fe(),m=ne(Q().locale(x.value)),k=ne(Q().locale(x.value).add(1,Na)),{minDate:r,maxDate:v,rangeState:L,ppNs:p,drpNs:g,handleChangeRange:P,handleRangeConfirm:o,handleShortcutClick:O,onSelect:i,parseValue:Y,t:$}=wt(l,{defaultValue:T,defaultTime:D,leftDate:m,rightDate:k,unit:Na,sortDates:aa});$e(()=>l.visible,V=>{!V&&L.value.selecting&&(Y(l.parsedValue),i(!1))});const E=ne({min:null,max:null}),W=ne({min:null,max:null}),{leftCurrentView:K,rightCurrentView:H,leftCurrentViewRef:te,rightCurrentViewRef:le,leftYear:ce,rightYear:U,leftMonth:h,rightMonth:q,leftYearLabel:N,rightYearLabel:ee,showLeftPicker:b,showRightPicker:R,handleLeftYearPick:I,handleRightYearPick:J,handleLeftMonthPick:_,handleRightMonthPick:se,handlePanelChange:oe,adjustDateByView:me}=os(l,a,m,k),_e=A(()=>!!w.value.length),Ke=A(()=>E.value.min!==null?E.value.min:r.value?r.value.format(Pe.value):""),Ue=A(()=>E.value.max!==null?E.value.max:v.value||r.value?(v.value||r.value).format(Pe.value):""),Te=A(()=>W.value.min!==null?W.value.min:r.value?r.value.format(Ce.value):""),Ae=A(()=>W.value.max!==null?W.value.max:v.value||r.value?(v.value||r.value).format(Ce.value):""),Ce=A(()=>l.timeFormat||Zt(C.value||"")||Va),Pe=A(()=>l.dateFormat||Gt(C.value||"")||ta),Be=V=>$a(V)&&(u?!u(V[0].toDate())&&!u(V[1].toDate()):!0),je=()=>{m.value=me(K.value,m.value,!1),l.unlinkPanels||(k.value=m.value.add(1,"month")),oe("year")},Ee=()=>{m.value=m.value.subtract(1,"month"),l.unlinkPanels||(k.value=m.value.add(1,"month")),oe("month")},wa=()=>{l.unlinkPanels?k.value=me(H.value,k.value,!0):(m.value=me(H.value,m.value,!0),k.value=m.value.add(1,"month")),oe("year")},sa=()=>{l.unlinkPanels?k.value=k.value.add(1,"month"):(m.value=m.value.add(1,"month"),k.value=m.value.add(1,"month")),oe("month")},ra=()=>{m.value=me(K.value,m.value,!0),oe("year")},fa=()=>{m.value=m.value.add(1,"month"),oe("month")},oa=()=>{k.value=me(H.value,k.value,!1),oe("year")},Qe=()=>{k.value=k.value.subtract(1,"month"),oe("month")},Ge=A(()=>{const V=(h.value+1)%12,B=h.value+1>=12?1:0;return l.unlinkPanels&&new Date(ce.value+B,V)<new Date(U.value,q.value)}),ze=A(()=>l.unlinkPanels&&U.value*12+q.value-(ce.value*12+h.value+1)>=12),ve=Ra(),Xe=A(()=>!(r.value&&v.value&&!L.value.selecting&&$a([r.value,v.value])&&!ve.value)),ea=A(()=>l.type==="datetime"||l.type==="datetimerange"),ma=(V,B)=>{if(V)return D?Q(D[B]||D).locale(x.value).year(V.year()).month(V.month()).date(V.date()):V},ia=(V,B=!0)=>{const ae=V.minDate,ua=V.maxDate,pa=ma(ae,0),Ca=ma(ua,1);v.value===Ca&&r.value===pa||(a("calendar-change",[ae.toDate(),ua&&ua.toDate()]),v.value=Ca,r.value=pa,!ea.value&&B&&(B=!pa||!Ca),o(B))},Ie=ne(!1),f=ne(!1),j=()=>{Ie.value=!1},s=()=>{f.value=!1},z=(V,B)=>{E.value[B]=V;const ae=Q(V,Pe.value).locale(x.value);if(ae.isValid()){if(u&&u(ae.toDate()))return;B==="min"?(m.value=ae,r.value=(r.value||m.value).year(ae.year()).month(ae.month()).date(ae.date()),!l.unlinkPanels&&(!v.value||v.value.isBefore(r.value))&&(k.value=ae.add(1,"month"),v.value=r.value.add(1,"month"))):(k.value=ae,v.value=(v.value||k.value).year(ae.year()).month(ae.month()).date(ae.date()),!l.unlinkPanels&&(!r.value||r.value.isAfter(v.value))&&(m.value=ae.subtract(1,"month"),r.value=v.value.subtract(1,"month"))),aa(r.value,v.value),o(!0)}},re=(V,B)=>{E.value[B]=null},ye=(V,B)=>{W.value[B]=V;const ae=Q(V,Ce.value).locale(x.value);ae.isValid()&&(B==="min"?(Ie.value=!0,r.value=(r.value||m.value).hour(ae.hour()).minute(ae.minute()).second(ae.second()),m.value=r.value):(f.value=!0,v.value=(v.value||k.value).hour(ae.hour()).minute(ae.minute()).second(ae.second()),k.value=v.value))},xe=(V,B)=>{W.value[B]=null,B==="min"?(m.value=r.value,Ie.value=!1,(!v.value||v.value.isBefore(r.value))&&(v.value=r.value)):(k.value=v.value,f.value=!1,v.value&&v.value.isBefore(r.value)&&(r.value=v.value)),o(!0)},Da=(V,B,ae)=>{W.value.min||(V&&(r.value=(r.value||m.value).hour(V.hour()).minute(V.minute()).second(V.second())),ae||(Ie.value=B),(!v.value||v.value.isBefore(r.value))&&(v.value=r.value,k.value=V,Oe(()=>{Y(l.parsedValue)})),o(!0))},et=(V,B,ae)=>{W.value.max||(V&&(v.value=(v.value||k.value).hour(V.hour()).minute(V.minute()).second(V.second())),ae||(f.value=B),v.value&&v.value.isBefore(r.value)&&(r.value=v.value),o(!0))},Ia=()=>{let V=null;n?.emptyValues&&(V=n.emptyValues.valueOnClear.value),m.value=Xa(e(T),{lang:e(x),unit:"month",unlinkPanels:l.unlinkPanels})[0],k.value=m.value.add(1,"month"),v.value=void 0,r.value=void 0,o(!0),a("pick",V)},at=V=>ga(V,C.value||"",x.value,c);function aa(V,B){if(l.unlinkPanels&&B){const ae=V?.year()||0,ua=V?.month()||0,pa=B.year(),Ca=B.month();k.value=ae===pa&&ua===Ca?B.add(1,Na):B}else k.value=m.value.add(1,Na),B&&(k.value=k.value.hour(B.hour()).minute(B.minute()).second(B.second()))}return a("set-picker-option",["isValidValue",Be]),a("set-picker-option",["parseUserInput",at]),a("set-picker-option",["handleClear",Ia]),(V,B)=>(F(),X("div",{class:S([e(p).b(),e(g).b(),e(p).is("border",V.border),e(p).is("disabled",e(ve)),{"has-sidebar":V.$slots.sidebar||_e.value,"has-time":ea.value}])},[Z("div",{class:S(e(p).e("body-wrapper"))},[fe(V.$slots,"sidebar",{class:S(e(p).e("sidebar"))}),_e.value?(F(),X("div",{key:0,class:S(e(p).e("sidebar"))},[(F(!0),X(ke,null,Me(w.value,(ae,ua)=>(F(),X("button",{key:ua,type:"button",disabled:e(ve),class:S(e(p).e("shortcut")),onClick:pa=>e(O)(ae)},pe(ae.text),11,is))),128))],2)):ue("v-if",!0),Z("div",{class:S(e(p).e("body"))},[ea.value?(F(),X("div",{key:0,class:S(e(g).e("time-header"))},[Z("span",{class:S(e(g).e("editors-wrap"))},[Z("span",{class:S(e(g).e("time-picker-wrap"))},[G(e(da),{size:"small",disabled:e(L).selecting||e(ve),placeholder:e($)("el.datepicker.startDate"),class:S(e(g).e("editor")),"model-value":Ke.value,"validate-event":!1,readonly:!V.editable,onInput:B[0]||(B[0]=ae=>z(ae,"min")),onChange:B[1]||(B[1]=ae=>re(ae,"min"))},null,8,["disabled","placeholder","class","model-value","readonly"])],2),Ye((F(),X("span",{class:S(e(g).e("time-picker-wrap"))},[G(e(da),{size:"small",class:S(e(g).e("editor")),disabled:e(L).selecting||e(ve),placeholder:e($)("el.datepicker.startTime"),"model-value":Te.value,"validate-event":!1,readonly:!V.editable,onFocus:B[2]||(B[2]=ae=>Ie.value=!0),onInput:B[3]||(B[3]=ae=>ye(ae,"min")),onChange:B[4]||(B[4]=ae=>xe(ae,"min"))},null,8,["class","disabled","placeholder","model-value","readonly"]),G(e(ut),{visible:Ie.value,format:Ce.value,"datetime-role":"start","parsed-value":e(r)||m.value,onPick:Da},null,8,["visible","format","parsed-value"])],2)),[[e(it),j]])],2),Z("span",null,[G(e(be),null,{default:ie(()=>[G(e(_a))]),_:1})]),Z("span",{class:S([e(g).e("editors-wrap"),"is-right"])},[Z("span",{class:S(e(g).e("time-picker-wrap"))},[G(e(da),{size:"small",class:S(e(g).e("editor")),disabled:e(L).selecting||e(ve),placeholder:e($)("el.datepicker.endDate"),"model-value":Ue.value,readonly:!e(r)||!V.editable,"validate-event":!1,onInput:B[5]||(B[5]=ae=>z(ae,"max")),onChange:B[6]||(B[6]=ae=>re(ae,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ye((F(),X("span",{class:S(e(g).e("time-picker-wrap"))},[G(e(da),{size:"small",class:S(e(g).e("editor")),disabled:e(L).selecting||e(ve),placeholder:e($)("el.datepicker.endTime"),"model-value":Ae.value,readonly:!e(r)||!V.editable,"validate-event":!1,onFocus:B[7]||(B[7]=ae=>e(r)&&(f.value=!0)),onInput:B[8]||(B[8]=ae=>ye(ae,"max")),onChange:B[9]||(B[9]=ae=>xe(ae,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),G(e(ut),{"datetime-role":"end",visible:f.value,format:Ce.value,"parsed-value":e(v)||k.value,onPick:et},null,8,["visible","format","parsed-value"])],2)),[[e(it),s]])],2)],2)):ue("v-if",!0),Z("div",{class:S([[e(p).e("content"),e(g).e("content")],"is-left"])},[Z("div",{class:S(e(g).e("header"))},[Z("button",{type:"button",class:S([e(p).e("icon-btn"),"d-arrow-left"]),"aria-label":e($)("el.datepicker.prevYear"),disabled:e(ve),onClick:je},[fe(V.$slots,"prev-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(ca))]),_:1})])],10,us),Ye(Z("button",{type:"button",class:S([e(p).e("icon-btn"),"arrow-left"]),"aria-label":e($)("el.datepicker.prevMonth"),disabled:e(ve),onClick:Ee},[fe(V.$slots,"prev-month",{},()=>[G(e(be),null,{default:ie(()=>[G(e(rt))]),_:1})])],10,ds),[[Je,e(K)==="date"]]),V.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!ze.value||e(ve),class:S([[e(p).e("icon-btn"),e(p).is("disabled",!ze.value||e(ve))],"d-arrow-right"]),"aria-label":e($)("el.datepicker.nextYear"),onClick:ra},[fe(V.$slots,"next-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(va))]),_:1})])],10,cs)):ue("v-if",!0),V.unlinkPanels&&e(K)==="date"?(F(),X("button",{key:1,type:"button",disabled:!Ge.value||e(ve),class:S([[e(p).e("icon-btn"),e(p).is("disabled",!Ge.value||e(ve))],"arrow-right"]),"aria-label":e($)("el.datepicker.nextMonth"),onClick:fa},[fe(V.$slots,"next-month",{},()=>[G(e(be),null,{default:ie(()=>[G(e(_a))]),_:1})])],10,vs)):ue("v-if",!0),Z("div",null,[Z("span",{role:"button",class:S(e(g).e("header-label")),"aria-live":"polite",tabindex:V.disabled?void 0:0,"aria-disabled":V.disabled,onKeydown:B[10]||(B[10]=He(ae=>e(b)("year"),["enter"])),onClick:B[11]||(B[11]=ae=>e(b)("year"))},pe(e(N)),43,fs),Ye(Z("span",{role:"button","aria-live":"polite",tabindex:V.disabled?void 0:0,"aria-disabled":V.disabled,class:S([e(g).e("header-label"),{active:e(K)==="month"}]),onKeydown:B[12]||(B[12]=He(ae=>e(b)("month"),["enter"])),onClick:B[13]||(B[13]=ae=>e(b)("month"))},pe(e($)(`el.datepicker.month${m.value.month()+1}`)),43,ms),[[Je,e(K)==="date"]])])],2),e(K)==="date"?(F(),he(dt,{key:0,ref_key:"leftCurrentViewRef",ref:te,"selection-mode":"range",date:m.value,"min-date":e(r),"max-date":e(v),"range-state":e(L),"disabled-date":e(u),"cell-class-name":e(y),"show-week-number":V.showWeekNumber,disabled:e(ve),onChangerange:e(P),onPick:ia,onSelect:e(i)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):ue("v-if",!0),e(K)==="year"?(F(),he(Ya,{key:1,ref_key:"leftCurrentViewRef",ref:te,"selection-mode":"year",date:m.value,"disabled-date":e(u),"parsed-value":V.parsedValue,disabled:e(ve),onPick:e(I)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):ue("v-if",!0),e(K)==="month"?(F(),he(Oa,{key:2,ref_key:"leftCurrentViewRef",ref:te,"selection-mode":"month",date:m.value,"parsed-value":V.parsedValue,"disabled-date":e(u),disabled:e(ve),onPick:e(_)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):ue("v-if",!0)],2),Z("div",{class:S([[e(p).e("content"),e(g).e("content")],"is-right"])},[Z("div",{class:S(e(g).e("header"))},[V.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!ze.value||e(ve),class:S([e(p).e("icon-btn"),"d-arrow-left"]),"aria-label":e($)("el.datepicker.prevYear"),onClick:oa},[fe(V.$slots,"prev-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(ca))]),_:1})])],10,ps)):ue("v-if",!0),V.unlinkPanels&&e(H)==="date"?(F(),X("button",{key:1,type:"button",disabled:!Ge.value||e(ve),class:S([e(p).e("icon-btn"),"arrow-left"]),"aria-label":e($)("el.datepicker.prevMonth"),onClick:Qe},[fe(V.$slots,"prev-month",{},()=>[G(e(be),null,{default:ie(()=>[G(e(rt))]),_:1})])],10,hs)):ue("v-if",!0),Z("button",{type:"button","aria-label":e($)("el.datepicker.nextYear"),class:S([e(p).e("icon-btn"),"d-arrow-right"]),disabled:e(ve),onClick:wa},[fe(V.$slots,"next-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(va))]),_:1})])],10,bs),Ye(Z("button",{type:"button",class:S([e(p).e("icon-btn"),"arrow-right"]),disabled:e(ve),"aria-label":e($)("el.datepicker.nextMonth"),onClick:sa},[fe(V.$slots,"next-month",{},()=>[G(e(be),null,{default:ie(()=>[G(e(_a))]),_:1})])],10,ys),[[Je,e(H)==="date"]]),Z("div",null,[Z("span",{role:"button",class:S(e(g).e("header-label")),"aria-live":"polite",tabindex:V.disabled?void 0:0,"aria-disabled":V.disabled,onKeydown:B[14]||(B[14]=He(ae=>e(R)("year"),["enter"])),onClick:B[15]||(B[15]=ae=>e(R)("year"))},pe(e(ee)),43,ks),Ye(Z("span",{role:"button","aria-live":"polite",tabindex:V.disabled?void 0:0,"aria-disabled":V.disabled,class:S([e(g).e("header-label"),{active:e(H)==="month"}]),onKeydown:B[16]||(B[16]=He(ae=>e(R)("month"),["enter"])),onClick:B[17]||(B[17]=ae=>e(R)("month"))},pe(e($)(`el.datepicker.month${k.value.month()+1}`)),43,gs),[[Je,e(H)==="date"]])])],2),e(H)==="date"?(F(),he(dt,{key:0,ref_key:"rightCurrentViewRef",ref:le,"selection-mode":"range",date:k.value,"min-date":e(r),"max-date":e(v),"range-state":e(L),"disabled-date":e(u),"cell-class-name":e(y),"show-week-number":V.showWeekNumber,disabled:e(ve),onChangerange:e(P),onPick:ia,onSelect:e(i)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):ue("v-if",!0),e(H)==="year"?(F(),he(Ya,{key:1,ref_key:"rightCurrentViewRef",ref:le,"selection-mode":"year",date:k.value,"disabled-date":e(u),"parsed-value":V.parsedValue,disabled:e(ve),onPick:e(J)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):ue("v-if",!0),e(H)==="month"?(F(),he(Oa,{key:2,ref_key:"rightCurrentViewRef",ref:le,"selection-mode":"month",date:k.value,"parsed-value":V.parsedValue,"disabled-date":e(u),disabled:e(ve),onPick:e(se)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):ue("v-if",!0)],2)],2)],2),V.showFooter&&ea.value&&(V.showConfirm||e(M))?(F(),X("div",{key:0,class:S(e(p).e("footer"))},[e(M)?(F(),he(e(Ga),{key:0,text:"",size:"small",class:S(e(p).e("link-btn")),onClick:Ia},{default:ie(()=>[na(pe(e($)("el.datepicker.clear")),1)]),_:1},8,["class"])):ue("v-if",!0),V.showConfirm?(F(),he(e(Ga),{key:1,plain:"",size:"small",class:S(e(p).e("link-btn")),disabled:Xe.value,onClick:B[18]||(B[18]=ae=>e(o)(!1))},{default:ie(()=>[na(pe(e($)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):ue("v-if",!0)],2)):ue("v-if",!0)],2))}});var Ds=We(ws,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-date-range.vue"]]);const Cs=De({...yt}),Ss=["pick","set-picker-option","calendar-change"],Ps=({unlinkPanels:t,leftDate:d,rightDate:l})=>{const{t:a}=Fe(),n=()=>{d.value=d.value.subtract(1,"year"),t.value||(l.value=l.value.subtract(1,"year"))},c=()=>{t.value||(d.value=d.value.add(1,"year")),l.value=l.value.add(1,"year")},u=()=>{d.value=d.value.add(1,"year")},y=()=>{l.value=l.value.subtract(1,"year")},D=A(()=>`${d.value.year()} ${a("el.datepicker.year")}`),M=A(()=>`${l.value.year()} ${a("el.datepicker.year")}`),C=A(()=>d.value.year()),w=A(()=>l.value.year()===d.value.year()?d.value.year()+1:l.value.year());return{leftPrevYear:n,rightNextYear:c,leftNextYear:u,rightPrevYear:y,leftLabel:D,rightLabel:M,leftYear:C,rightYear:w}},Ms=["disabled","onClick"],Vs=["disabled"],$s=["disabled"],Os=["disabled"],Ys=["disabled"],Fa="year",Rs=Re({name:"DatePickerMonthRange",__name:"panel-month-range",props:Cs,emits:Ss,setup(t,{emit:d}){const l=t,a=d,{lang:n}=Fe(),c=Se(qe),u=Se(Ta,void 0),{shortcuts:y,disabledDate:D,cellClassName:M}=c.props,C=Le(c.props,"format"),w=Le(c.props,"defaultValue"),T=ne(Q().locale(n.value)),x=ne(Q().locale(n.value).add(1,Fa)),{minDate:m,maxDate:k,rangeState:r,ppNs:v,drpNs:L,handleChangeRange:p,handleRangeConfirm:g,handleShortcutClick:P,onSelect:o,parseValue:O}=wt(l,{defaultValue:w,leftDate:T,rightDate:x,unit:Fa,sortDates:N}),i=A(()=>!!y.length),{leftPrevYear:Y,rightNextYear:$,leftNextYear:E,rightPrevYear:W,leftLabel:K,rightLabel:H,leftYear:te,rightYear:le}=Ps({unlinkPanels:Le(l,"unlinkPanels"),leftDate:T,rightDate:x}),ce=A(()=>l.unlinkPanels&&le.value>te.value+1),U=(b,R=!0)=>{const I=b.minDate,J=b.maxDate;k.value===J&&m.value===I||(a("calendar-change",[I.toDate(),J&&J.toDate()]),k.value=J,m.value=I,R&&g())},h=()=>{let b=null;c?.emptyValues&&(b=c.emptyValues.valueOnClear.value),T.value=Xa(e(w),{lang:e(n),unit:"year",unlinkPanels:l.unlinkPanels})[0],x.value=T.value.add(1,"year"),a("pick",b)},q=b=>ga(b,C.value,n.value,u);function N(b,R){if(l.unlinkPanels&&R){const I=b?.year()||0,J=R.year();x.value=I===J?R.add(1,Fa):R}else x.value=T.value.add(1,Fa)}const ee=Ra();return $e(()=>l.visible,b=>{!b&&r.value.selecting&&(O(l.parsedValue),o(!1))}),a("set-picker-option",["isValidValue",$a]),a("set-picker-option",["parseUserInput",q]),a("set-picker-option",["handleClear",h]),(b,R)=>(F(),X("div",{class:S([e(v).b(),e(L).b(),e(v).is("border",b.border),e(v).is("disabled",e(ee)),{"has-sidebar":!!b.$slots.sidebar||i.value}])},[Z("div",{class:S(e(v).e("body-wrapper"))},[fe(b.$slots,"sidebar",{class:S(e(v).e("sidebar"))}),i.value?(F(),X("div",{key:0,class:S(e(v).e("sidebar"))},[(F(!0),X(ke,null,Me(e(y),(I,J)=>(F(),X("button",{key:J,type:"button",class:S(e(v).e("shortcut")),disabled:e(ee),onClick:_=>e(P)(I)},pe(I.text),11,Ms))),128))],2)):ue("v-if",!0),Z("div",{class:S(e(v).e("body"))},[Z("div",{class:S([[e(v).e("content"),e(L).e("content")],"is-left"])},[Z("div",{class:S(e(L).e("header"))},[Z("button",{type:"button",class:S([e(v).e("icon-btn"),"d-arrow-left"]),disabled:e(ee),onClick:R[0]||(R[0]=(...I)=>e(Y)&&e(Y)(...I))},[fe(b.$slots,"prev-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(ca))]),_:1})])],10,Vs),b.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!ce.value||e(ee),class:S([[e(v).e("icon-btn"),e(v).is("disabled",!ce.value||e(ee))],"d-arrow-right"]),onClick:R[1]||(R[1]=(...I)=>e(E)&&e(E)(...I))},[fe(b.$slots,"next-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(va))]),_:1})])],10,$s)):ue("v-if",!0),Z("div",null,pe(e(K)),1)],2),G(Oa,{"selection-mode":"range",date:T.value,"min-date":e(m),"max-date":e(k),"range-state":e(r),"disabled-date":e(D),disabled:e(ee),"cell-class-name":e(M),onChangerange:e(p),onPick:U,onSelect:e(o)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:S([[e(v).e("content"),e(L).e("content")],"is-right"])},[Z("div",{class:S(e(L).e("header"))},[b.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!ce.value||e(ee),class:S([[e(v).e("icon-btn"),e(v).is("disabled",!ce.value||e(ee))],"d-arrow-left"]),onClick:R[2]||(R[2]=(...I)=>e(W)&&e(W)(...I))},[fe(b.$slots,"prev-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(ca))]),_:1})])],10,Os)):ue("v-if",!0),Z("button",{type:"button",class:S([e(v).e("icon-btn"),"d-arrow-right"]),disabled:e(ee),onClick:R[3]||(R[3]=(...I)=>e($)&&e($)(...I))},[fe(b.$slots,"next-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(va))]),_:1})])],10,Ys),Z("div",null,pe(e(H)),1)],2),G(Oa,{"selection-mode":"range",date:x.value,"min-date":e(m),"max-date":e(k),"range-state":e(r),"disabled-date":e(D),disabled:e(ee),"cell-class-name":e(M),onChangerange:e(p),onPick:U,onSelect:e(o)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var Ts=We(Rs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-month-range.vue"]]);const Is=De({...yt}),xs=["pick","set-picker-option","calendar-change"],Ns=({unlinkPanels:t,leftDate:d,rightDate:l})=>{const a=()=>{d.value=d.value.subtract(10,"year"),t.value||(l.value=l.value.subtract(10,"year"))},n=()=>{t.value||(d.value=d.value.add(10,"year")),l.value=l.value.add(10,"year")},c=()=>{d.value=d.value.add(10,"year")},u=()=>{l.value=l.value.subtract(10,"year")},y=A(()=>{const w=Math.floor(d.value.year()/10)*10;return`${w}-${w+9}`}),D=A(()=>{const w=Math.floor(l.value.year()/10)*10;return`${w}-${w+9}`}),M=A(()=>Math.floor(d.value.year()/10)*10+9),C=A(()=>Math.floor(l.value.year()/10)*10);return{leftPrevYear:a,rightNextYear:n,leftNextYear:c,rightPrevYear:u,leftLabel:y,rightLabel:D,leftYear:M,rightYear:C}},Fs=["disabled","onClick"],_s=["disabled"],As=["disabled"],Es=["disabled"],Bs=["disabled"],ha=10,Pa="year",Ls=Re({name:"DatePickerYearRange",__name:"panel-year-range",props:Is,emits:xs,setup(t,{emit:d}){const l=t,a=d,{lang:n}=Fe(),c=ne(Q().locale(n.value)),u=ne(Q().locale(n.value).add(ha,Pa)),y=Se(Ta,void 0),D=Se(qe),{shortcuts:M,disabledDate:C,cellClassName:w}=D.props,T=Le(D.props,"format"),x=Le(D.props,"defaultValue"),{minDate:m,maxDate:k,rangeState:r,ppNs:v,drpNs:L,handleChangeRange:p,handleRangeConfirm:g,handleShortcutClick:P,onSelect:o,parseValue:O}=wt(l,{defaultValue:x,leftDate:c,rightDate:u,step:ha,unit:Pa,sortDates:J}),{leftPrevYear:i,rightNextYear:Y,leftNextYear:$,rightPrevYear:E,leftLabel:W,rightLabel:K,leftYear:H,rightYear:te}=Ns({unlinkPanels:Le(l,"unlinkPanels"),leftDate:c,rightDate:u}),le=Ra(),ce=A(()=>!!M.length),U=A(()=>[v.b(),L.b(),v.is("border",l.border),v.is("disabled",le.value),{"has-sidebar":!!mt().sidebar||ce.value}]),h=A(()=>({content:[v.e("content"),L.e("content"),"is-left"],arrowLeftBtn:[v.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[v.e("icon-btn"),v.is("disabled",!N.value||le.value),"d-arrow-right"]})),q=A(()=>({content:[v.e("content"),L.e("content"),"is-right"],arrowLeftBtn:[v.e("icon-btn"),v.is("disabled",!N.value||le.value),"d-arrow-left"],arrowRightBtn:[v.e("icon-btn"),"d-arrow-right"]})),N=A(()=>l.unlinkPanels&&te.value>H.value+1),ee=(_,se=!0)=>{const oe=_.minDate,me=_.maxDate;k.value===me&&m.value===oe||(a("calendar-change",[oe.toDate(),me&&me.toDate()]),k.value=me,m.value=oe,se&&g())},b=_=>ga(_,T.value,n.value,y),R=_=>$a(_)&&(C?!C(_[0].toDate())&&!C(_[1].toDate()):!0),I=()=>{let _=null;D?.emptyValues&&(_=D.emptyValues.valueOnClear.value);const se=Xa(e(x),{lang:e(n),step:ha,unit:Pa,unlinkPanels:l.unlinkPanels});c.value=se[0],u.value=se[1],a("pick",_)};function J(_,se){if(l.unlinkPanels&&se){const oe=_?.year()||0,me=se.year();u.value=oe+ha>me?se.add(ha,Pa):se}else u.value=c.value.add(ha,Pa)}return $e(()=>l.visible,_=>{!_&&r.value.selecting&&(O(l.parsedValue),o(!1))}),a("set-picker-option",["isValidValue",R]),a("set-picker-option",["parseUserInput",b]),a("set-picker-option",["handleClear",I]),(_,se)=>(F(),X("div",{class:S(U.value)},[Z("div",{class:S(e(v).e("body-wrapper"))},[fe(_.$slots,"sidebar",{class:S(e(v).e("sidebar"))}),ce.value?(F(),X("div",{key:0,class:S(e(v).e("sidebar"))},[(F(!0),X(ke,null,Me(e(M),(oe,me)=>(F(),X("button",{key:me,type:"button",class:S(e(v).e("shortcut")),disabled:e(le),onClick:_e=>e(P)(oe)},pe(oe.text),11,Fs))),128))],2)):ue("v-if",!0),Z("div",{class:S(e(v).e("body"))},[Z("div",{class:S(h.value.content)},[Z("div",{class:S(e(L).e("header"))},[Z("button",{type:"button",class:S(h.value.arrowLeftBtn),disabled:e(le),onClick:se[0]||(se[0]=(...oe)=>e(i)&&e(i)(...oe))},[fe(_.$slots,"prev-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(ca))]),_:1})])],10,_s),_.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!N.value||e(le),class:S(h.value.arrowRightBtn),onClick:se[1]||(se[1]=(...oe)=>e($)&&e($)(...oe))},[fe(_.$slots,"next-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(va))]),_:1})])],10,As)):ue("v-if",!0),Z("div",null,pe(e(W)),1)],2),G(Ya,{"selection-mode":"range",date:c.value,"min-date":e(m),"max-date":e(k),"range-state":e(r),"disabled-date":e(C),disabled:e(le),"cell-class-name":e(w),onChangerange:e(p),onPick:ee,onSelect:e(o)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),Z("div",{class:S(q.value.content)},[Z("div",{class:S(e(L).e("header"))},[_.unlinkPanels?(F(),X("button",{key:0,type:"button",disabled:!N.value||e(le),class:S(q.value.arrowLeftBtn),onClick:se[2]||(se[2]=(...oe)=>e(E)&&e(E)(...oe))},[fe(_.$slots,"prev-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(ca))]),_:1})])],10,Es)):ue("v-if",!0),Z("button",{type:"button",class:S(q.value.arrowRightBtn),disabled:e(le),onClick:se[3]||(se[3]=(...oe)=>e(Y)&&e(Y)(...oe))},[fe(_.$slots,"next-year",{},()=>[G(e(be),null,{default:ie(()=>[G(e(va))]),_:1})])],10,Bs),Z("div",null,pe(e(K)),1)],2),G(Ya,{"selection-mode":"range",date:u.value,"min-date":e(m),"max-date":e(k),"range-state":e(r),"disabled-date":e(C),disabled:e(le),"cell-class-name":e(w),onChangerange:e(p),onPick:ee,onSelect:e(o)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var Ws=We(Ls,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker-panel/src/date-picker-com/panel-year-range.vue"]]);const Ks=function(t){switch(t){case"daterange":case"datetimerange":return Ds;case"monthrange":return Ts;case"yearrange":return Ws;default:return ls}};function Us(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!zt(t)}Q.extend(xn);Q.extend(il);Q.extend(En);Q.extend(vl);Q.extend(hl);Q.extend(gl);Q.extend(Sl);Q.extend($l);var js=Re({name:"ElDatePickerPanel",install:null,inheritAttrs:!1,props:Ol,emits:[Ma,"calendar-change","panel-change","visible-change"],setup(t,{slots:d,emit:l,attrs:a}){const n=Ve("picker-panel"),c=Se(qe,void 0);if(Ut(c)){const w=ct({...Vn(t)});ya(qe,{props:w})}ya(ht,{slots:d,pickerNs:n});const{parsedValue:u,onCalendarChange:y,onPanelChange:D,onSetPickerOption:M,onPick:C}=Se(Xt,()=>en(t,l),!0);return()=>{const w=Ks(t.type);return G(w,ba(Yn(a,"onPick"),t,{parsedValue:u.value,"onSet-picker-option":M,"onCalendar-change":y,"onPanel-change":D,onPick:C}),Us(d)?d:{default:()=>[d]})}}});const zs=Ht(js),Hs=De({...an,type:{type:de(String),default:"date"}});function qs(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!zt(t)}var Gs=Re({name:"ElDatePicker",install:null,props:Hs,emits:[Ma],setup(t,{expose:d,emit:l,slots:a}){const n=A(()=>!t.format);ya(Ta,n),ya(Qt,ct(Le(t,"popperOptions")));const c=ne();d({focus:()=>{var D;(D=c.value)==null||D.focus()},blur:()=>{var D;(D=c.value)==null||D.blur()},handleOpen:()=>{var D;(D=c.value)==null||D.handleOpen()},handleClose:()=>{var D;(D=c.value)==null||D.handleClose()}});const y=D=>{l(Ma,D)};return()=>{var D;const M=(D=t.format)!=null?D:Bn[t.type]||ta;return G(qn,ba(t,{format:M,type:t.type,ref:c,"onUpdate:modelValue":y}),{default:C=>G(zs,ba({disabled:t.disabled,editable:t.editable,border:!1},C),qs(a)?a:{default:()=>[a]}),"range-separator":a["range-separator"]})}}});const ar=Ht(Gs);export{ar as E};
