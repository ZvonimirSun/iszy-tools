import{L as Lt,a3 as Nt,a9 as Dt,r as Mt,c as It,b as $,az as J,F as $t,b1 as Vt,o as At,U as Ot,w as jt,f as Gt,a as mt,n as Wt,aB as Ht,aA as zt,a_ as Xt,b2 as qt,bQ as Yt,aH as Jt,aI as Kt}from"./vendor-vjIVktzB.js";import{_ as Qt}from"./ant-design-vue-1cRNMsj5.js";import{a5 as Zt}from"./common-6zdkHDjP.js";import{a as te}from"./@ckpack/vue-color-DM0tJOIf.js";import"./vanilla-jsoneditor--Y_UqYYL.js";var Tt={},yt={};yt.byteLength=ne;yt.toByteArray=oe;yt.fromByteArray=le;var rt=[],tt=[],ee=typeof Uint8Array<"u"?Uint8Array:Array,Ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ct=0,re=Ft.length;ct<re;++ct)rt[ct]=Ft[ct],tt[Ft.charCodeAt(ct)]=ct;tt[45]=62;tt[95]=63;function Ct(l){var c=l.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=l.indexOf("=");f===-1&&(f=c);var U=f===c?0:4-f%4;return[f,U]}function ne(l){var c=Ct(l),f=c[0],U=c[1];return(f+U)*3/4-U}function ie(l,c,f){return(c+f)*3/4-f}function oe(l){var c,f=Ct(l),U=f[0],F=f[1],m=new ee(ie(l,U,F)),p=0,o=F>0?U-4:U,T;for(T=0;T<o;T+=4)c=tt[l.charCodeAt(T)]<<18|tt[l.charCodeAt(T+1)]<<12|tt[l.charCodeAt(T+2)]<<6|tt[l.charCodeAt(T+3)],m[p++]=c>>16&255,m[p++]=c>>8&255,m[p++]=c&255;return F===2&&(c=tt[l.charCodeAt(T)]<<2|tt[l.charCodeAt(T+1)]>>4,m[p++]=c&255),F===1&&(c=tt[l.charCodeAt(T)]<<10|tt[l.charCodeAt(T+1)]<<4|tt[l.charCodeAt(T+2)]>>2,m[p++]=c>>8&255,m[p++]=c&255),m}function ue(l){return rt[l>>18&63]+rt[l>>12&63]+rt[l>>6&63]+rt[l&63]}function ae(l,c,f){for(var U,F=[],m=c;m<f;m+=3)U=(l[m]<<16&16711680)+(l[m+1]<<8&65280)+(l[m+2]&255),F.push(ue(U));return F.join("")}function le(l){for(var c,f=l.length,U=f%3,F=[],m=16383,p=0,o=f-U;p<o;p+=m)F.push(ae(l,p,p+m>o?o:p+m));return U===1?(c=l[f-1],F.push(rt[c>>2]+rt[c<<4&63]+"==")):U===2&&(c=(l[f-2]<<8)+l[f-1],F.push(rt[c>>10]+rt[c>>4&63]+rt[c<<2&63]+"=")),F.join("")}var Ut={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ut.read=function(l,c,f,U,F){var m,p,o=F*8-U-1,T=(1<<o)-1,z=T>>1,_=-7,R=f?F-1:0,K=f?-1:1,V=l[c+R];for(R+=K,m=V&(1<<-_)-1,V>>=-_,_+=o;_>0;m=m*256+l[c+R],R+=K,_-=8);for(p=m&(1<<-_)-1,m>>=-_,_+=U;_>0;p=p*256+l[c+R],R+=K,_-=8);if(m===0)m=1-z;else{if(m===T)return p?NaN:(V?-1:1)*(1/0);p=p+Math.pow(2,U),m=m-z}return(V?-1:1)*p*Math.pow(2,m-U)};Ut.write=function(l,c,f,U,F,m){var p,o,T,z=m*8-F-1,_=(1<<z)-1,R=_>>1,K=F===23?Math.pow(2,-24)-Math.pow(2,-77):0,V=U?0:m-1,L=U?1:-1,ot=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(o=isNaN(c)?1:0,p=_):(p=Math.floor(Math.log(c)/Math.LN2),c*(T=Math.pow(2,-p))<1&&(p--,T*=2),p+R>=1?c+=K/T:c+=K*Math.pow(2,1-R),c*T>=2&&(p++,T/=2),p+R>=_?(o=0,p=_):p+R>=1?(o=(c*T-1)*Math.pow(2,F),p=p+R):(o=c*Math.pow(2,R-1)*Math.pow(2,F),p=0));F>=8;l[f+V]=o&255,V+=L,o/=256,F-=8);for(p=p<<F|o,z+=F;z>0;l[f+V]=p&255,V+=L,p/=256,z-=8);l[f+V-L]|=ot*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(l){const c=yt,f=Ut,U=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=o,l.SlowBuffer=gt,l.INSPECT_MAX_BYTES=50;const F=2147483647;l.kMaxLength=F,o.TYPED_ARRAY_SUPPORT=m(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function p(r){if(r>F)throw new RangeError('The value "'+r+'" is invalid for option "size"');const t=new Uint8Array(r);return Object.setPrototypeOf(t,o.prototype),t}function o(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(r)}return T(r,t,e)}o.poolSize=8192;function T(r,t,e){if(typeof r=="string")return K(r,t);if(ArrayBuffer.isView(r))return L(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(et(r,ArrayBuffer)||r&&et(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(et(r,SharedArrayBuffer)||r&&et(r.buffer,SharedArrayBuffer)))return ot(r,t,e);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return o.from(n,t,e);const i=wt(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return o.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}o.from=function(r,t,e){return T(r,t,e)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function z(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function _(r,t,e){return z(r),r<=0?p(r):t!==void 0?typeof e=="string"?p(r).fill(t,e):p(r).fill(t):p(r)}o.alloc=function(r,t,e){return _(r,t,e)};function R(r){return z(r),p(r<0?0:ft(r)|0)}o.allocUnsafe=function(r){return R(r)},o.allocUnsafeSlow=function(r){return R(r)};function K(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const e=ht(r,t)|0;let n=p(e);const i=n.write(r,t);return i!==e&&(n=n.slice(0,i)),n}function V(r){const t=r.length<0?0:ft(r.length)|0,e=p(t);for(let n=0;n<t;n+=1)e[n]=r[n]&255;return e}function L(r){if(et(r,Uint8Array)){const t=new Uint8Array(r);return ot(t.buffer,t.byteOffset,t.byteLength)}return V(r)}function ot(r,t,e){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&e===void 0?n=new Uint8Array(r):e===void 0?n=new Uint8Array(r,t):n=new Uint8Array(r,t,e),Object.setPrototypeOf(n,o.prototype),n}function wt(r){if(o.isBuffer(r)){const t=ft(r.length)|0,e=p(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||Bt(r.length)?p(0):V(r);if(r.type==="Buffer"&&Array.isArray(r.data))return V(r.data)}function ft(r){if(r>=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return r|0}function gt(r){return+r!=r&&(r=0),o.alloc(+r)}o.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==o.prototype},o.compare=function(t,e){if(et(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),et(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let u=0,a=Math.min(n,i);u<a;++u)if(t[u]!==e[u]){n=t[u],i=e[u];break}return n<i?-1:i<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return o.alloc(0);let n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const i=o.allocUnsafe(e);let u=0;for(n=0;n<t.length;++n){let a=t[n];if(et(a,Uint8Array))u+a.length>i.length?(o.isBuffer(a)||(a=o.from(a)),a.copy(i,u)):Uint8Array.prototype.set.call(i,a,u);else if(o.isBuffer(a))a.copy(i,u);else throw new TypeError('"list" argument must be an Array of Buffers');u+=a.length}return i};function ht(r,t){if(o.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||et(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const e=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&e===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return Et(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return bt(r).length;default:if(i)return n?-1:Et(r).length;t=(""+t).toLowerCase(),i=!0}}o.byteLength=ht;function xt(r,t,e){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return X(this,t,e);case"utf8":case"utf-8":return x(this,t,e);case"ascii":return M(this,t,e);case"latin1":case"binary":return it(this,t,e);case"base64":return w(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}o.prototype._isBuffer=!0;function nt(r,t,e){const n=r[t];r[t]=r[e],r[e]=n}o.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)nt(this,e,e+1);return this},o.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)nt(this,e,e+3),nt(this,e+1,e+2);return this},o.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)nt(this,e,e+7),nt(this,e+1,e+6),nt(this,e+2,e+5),nt(this,e+3,e+4);return this},o.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?x(this,0,t):xt.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:o.compare(this,t)===0},o.prototype.inspect=function(){let t="";const e=l.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},U&&(o.prototype[U]=o.prototype.inspect),o.prototype.compare=function(t,e,n,i,u){if(et(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),u===void 0&&(u=this.length),e<0||n>t.length||i<0||u>this.length)throw new RangeError("out of range index");if(i>=u&&e>=n)return 0;if(i>=u)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,u>>>=0,this===t)return 0;let a=u-i,B=n-e;const N=Math.min(a,B),k=this.slice(i,u),D=t.slice(e,n);for(let S=0;S<N;++S)if(k[S]!==D[S]){a=k[S],B=D[S];break}return a<B?-1:B<a?1:0};function pt(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,Bt(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=o.from(t,n)),o.isBuffer(t))return t.length===0?-1:d(r,t,e,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):d(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function d(r,t,e,n,i){let u=1,a=r.length,B=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;u=2,a/=2,B/=2,e/=2}function N(D,S){return u===1?D[S]:D.readUInt16BE(S*u)}let k;if(i){let D=-1;for(k=e;k<a;k++)if(N(r,k)===N(t,D===-1?0:k-D)){if(D===-1&&(D=k),k-D+1===B)return D*u}else D!==-1&&(k-=k-D),D=-1}else for(e+B>a&&(e=a-B),k=e;k>=0;k--){let D=!0;for(let S=0;S<B;S++)if(N(r,k+S)!==N(t,S)){D=!1;break}if(D)return k}return-1}o.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},o.prototype.indexOf=function(t,e,n){return pt(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return pt(this,t,e,n,!1)};function h(r,t,e,n){e=Number(e)||0;const i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;const u=t.length;n>u/2&&(n=u/2);let a;for(a=0;a<n;++a){const B=parseInt(t.substr(a*2,2),16);if(Bt(B))return a;r[e+a]=B}return a}function y(r,t,e,n){return dt(Et(t,r.length-e),r,e,n)}function g(r,t,e,n){return dt(St(t),r,e,n)}function b(r,t,e,n){return dt(bt(t),r,e,n)}function I(r,t,e,n){return dt(Rt(t,r.length-e),r,e,n)}o.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const u=this.length-e;if((n===void 0||n>u)&&(n=u),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return h(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":case"latin1":case"binary":return g(this,t,e,n);case"base64":return b(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(r,t,e){return t===0&&e===r.length?c.fromByteArray(r):c.fromByteArray(r.slice(t,e))}function x(r,t,e){e=Math.min(r.length,e);const n=[];let i=t;for(;i<e;){const u=r[i];let a=null,B=u>239?4:u>223?3:u>191?2:1;if(i+B<=e){let N,k,D,S;switch(B){case 1:u<128&&(a=u);break;case 2:N=r[i+1],(N&192)===128&&(S=(u&31)<<6|N&63,S>127&&(a=S));break;case 3:N=r[i+1],k=r[i+2],(N&192)===128&&(k&192)===128&&(S=(u&15)<<12|(N&63)<<6|k&63,S>2047&&(S<55296||S>57343)&&(a=S));break;case 4:N=r[i+1],k=r[i+2],D=r[i+3],(N&192)===128&&(k&192)===128&&(D&192)===128&&(S=(u&15)<<18|(N&63)<<12|(k&63)<<6|D&63,S>65535&&S<1114112&&(a=S))}}a===null?(a=65533,B=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=B}return Q(n)}const G=4096;function Q(r){const t=r.length;if(t<=G)return String.fromCharCode.apply(String,r);let e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=G));return e}function M(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function it(r,t,e){let n="";e=Math.min(r.length,e);for(let i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function X(r,t,e){const n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);let i="";for(let u=t;u<e;++u)i+=kt[r[u]];return i}function j(r,t,e){const n=r.slice(t,e);let i="";for(let u=0;u<n.length-1;u+=2)i+=String.fromCharCode(n[u]+n[u+1]*256);return i}o.prototype.slice=function(t,e){const n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,o.prototype),i};function C(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||C(t,e,this.length);let i=this[t],u=1,a=0;for(;++a<e&&(u*=256);)i+=this[t+a]*u;return i},o.prototype.readUintBE=o.prototype.readUIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||C(t,e,this.length);let i=this[t+--e],u=1;for(;e>0&&(u*=256);)i+=this[t+--e]*u;return i},o.prototype.readUint8=o.prototype.readUInt8=function(t,e){return t=t>>>0,e||C(t,1,this.length),this[t]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||C(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||C(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||C(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readBigUInt64LE=ut(function(t){t=t>>>0,W(t,"offset");const e=this[t],n=this[t+7];(e===void 0||n===void 0)&&H(t,this.length-8);const i=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,u=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(u)<<BigInt(32))}),o.prototype.readBigUInt64BE=ut(function(t){t=t>>>0,W(t,"offset");const e=this[t],n=this[t+7];(e===void 0||n===void 0)&&H(t,this.length-8);const i=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],u=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(u)}),o.prototype.readIntLE=function(t,e,n){t=t>>>0,e=e>>>0,n||C(t,e,this.length);let i=this[t],u=1,a=0;for(;++a<e&&(u*=256);)i+=this[t+a]*u;return u*=128,i>=u&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,n){t=t>>>0,e=e>>>0,n||C(t,e,this.length);let i=e,u=1,a=this[t+--i];for(;i>0&&(u*=256);)a+=this[t+--i]*u;return u*=128,a>=u&&(a-=Math.pow(2,8*e)),a},o.prototype.readInt8=function(t,e){return t=t>>>0,e||C(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},o.prototype.readInt16LE=function(t,e){t=t>>>0,e||C(t,2,this.length);const n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n},o.prototype.readInt16BE=function(t,e){t=t>>>0,e||C(t,2,this.length);const n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n},o.prototype.readInt32LE=function(t,e){return t=t>>>0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t=t>>>0,e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readBigInt64LE=ut(function(t){t=t>>>0,W(t,"offset");const e=this[t],n=this[t+7];(e===void 0||n===void 0)&&H(t,this.length-8);const i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),o.prototype.readBigInt64BE=ut(function(t){t=t>>>0,W(t,"offset");const e=this[t],n=this[t+7];(e===void 0||n===void 0)&&H(t,this.length-8);const i=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)}),o.prototype.readFloatLE=function(t,e){return t=t>>>0,e||C(t,4,this.length),f.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t=t>>>0,e||C(t,4,this.length),f.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||C(t,8,this.length),f.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||C(t,8,this.length),f.read(this,t,!1,52,8)};function v(r,t,e,n,i,u){if(!o.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<u)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){const B=Math.pow(2,8*n)-1;v(this,t,e,n,B,0)}let u=1,a=0;for(this[e]=t&255;++a<n&&(u*=256);)this[e+a]=t/u&255;return e+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,n=n>>>0,!i){const B=Math.pow(2,8*n)-1;v(this,t,e,n,B,0)}let u=n-1,a=1;for(this[e+u]=t&255;--u>=0&&(a*=256);)this[e+u]=t/a&255;return e+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,1,255,0),this[e]=t&255,e+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function q(r,t,e,n,i){lt(t,n,i,r,e,7);let u=Number(t&BigInt(4294967295));r[e++]=u,u=u>>8,r[e++]=u,u=u>>8,r[e++]=u,u=u>>8,r[e++]=u;let a=Number(t>>BigInt(32)&BigInt(4294967295));return r[e++]=a,a=a>>8,r[e++]=a,a=a>>8,r[e++]=a,a=a>>8,r[e++]=a,e}function Z(r,t,e,n,i){lt(t,n,i,r,e,7);let u=Number(t&BigInt(4294967295));r[e+7]=u,u=u>>8,r[e+6]=u,u=u>>8,r[e+5]=u,u=u>>8,r[e+4]=u;let a=Number(t>>BigInt(32)&BigInt(4294967295));return r[e+3]=a,a=a>>8,r[e+2]=a,a=a>>8,r[e+1]=a,a=a>>8,r[e]=a,e+8}o.prototype.writeBigUInt64LE=ut(function(t,e=0){return q(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ut(function(t,e=0){return Z(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){const N=Math.pow(2,8*n-1);v(this,t,e,n,N-1,-N)}let u=0,a=1,B=0;for(this[e]=t&255;++u<n&&(a*=256);)t<0&&B===0&&this[e+u-1]!==0&&(B=1),this[e+u]=(t/a>>0)-B&255;return e+n},o.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e>>>0,!i){const N=Math.pow(2,8*n-1);v(this,t,e,n,N-1,-N)}let u=n-1,a=1,B=0;for(this[e+u]=t&255;--u>=0&&(a*=256);)t<0&&B===0&&this[e+u+1]!==0&&(B=1),this[e+u]=(t/a>>0)-B&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e>>>0,n||v(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},o.prototype.writeBigInt64LE=ut(function(t,e=0){return q(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ut(function(t,e=0){return Z(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function s(r,t,e,n,i,u){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function E(r,t,e,n,i){return t=+t,e=e>>>0,i||s(r,t,e,4),f.write(r,t,e,n,23,4),e+4}o.prototype.writeFloatLE=function(t,e,n){return E(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return E(this,t,e,!1,n)};function P(r,t,e,n,i){return t=+t,e=e>>>0,i||s(r,t,e,8),f.write(r,t,e,n,52,8),e+8}o.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,i){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);const u=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),u},o.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){const a=t.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(t=a)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let u;if(typeof t=="number")for(u=e;u<n;++u)this[u]=t;else{const a=o.isBuffer(t)?t:o.from(t,i),B=a.length;if(B===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(u=0;u<n-e;++u)this[u+e]=a[u%B]}return this};const A={};function O(r,t,e){A[r]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}O("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),O("ERR_INVALID_ARG_TYPE",function(r,t){return`The "${r}" argument must be of type number. Received type ${typeof t}`},TypeError),O("ERR_OUT_OF_RANGE",function(r,t,e){let n=`The value of "${r}" is out of range.`,i=e;return Number.isInteger(e)&&Math.abs(e)>2**32?i=Y(String(e)):typeof e=="bigint"&&(i=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(i=Y(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function Y(r){let t="",e=r.length;const n=r[0]==="-"?1:0;for(;e>=n+4;e-=3)t=`_${r.slice(e-3,e)}${t}`;return`${r.slice(0,e)}${t}`}function st(r,t,e){W(t,"offset"),(r[t]===void 0||r[t+e]===void 0)&&H(t,r.length-(e+1))}function lt(r,t,e,n,i,u){if(r>e||r<t){const a=typeof t=="bigint"?"n":"";let B;throw u>3?t===0||t===BigInt(0)?B=`>= 0${a} and < 2${a} ** ${(u+1)*8}${a}`:B=`>= -(2${a} ** ${(u+1)*8-1}${a}) and < 2 ** ${(u+1)*8-1}${a}`:B=`>= ${t}${a} and <= ${e}${a}`,new A.ERR_OUT_OF_RANGE("value",B,r)}st(n,i,u)}function W(r,t){if(typeof r!="number")throw new A.ERR_INVALID_ARG_TYPE(t,"number",r)}function H(r,t,e){throw Math.floor(r)!==r?(W(r,e),new A.ERR_OUT_OF_RANGE(e||"offset","an integer",r)):t<0?new A.ERR_BUFFER_OUT_OF_BOUNDS:new A.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,r)}const at=/[^+/0-9A-Za-z-_]/g;function _t(r){if(r=r.split("=")[0],r=r.trim().replace(at,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Et(r,t){t=t||1/0;let e;const n=r.length;let i=null;const u=[];for(let a=0;a<n;++a){if(e=r.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&u.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&u.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&u.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&u.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;u.push(e)}else if(e<2048){if((t-=2)<0)break;u.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;u.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;u.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return u}function St(r){const t=[];for(let e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Rt(r,t){let e,n,i;const u=[];for(let a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,i=e%256,u.push(i),u.push(n);return u}function bt(r){return c.toByteArray(_t(r))}function dt(r,t,e,n){let i;for(i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function et(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function Bt(r){return r!==r}const kt=function(){const r="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){const n=e*16;for(let i=0;i<16;++i)t[n+i]=r[e]+r[i]}return t}();function ut(r){return typeof BigInt>"u"?vt:r}function vt(){throw new Error("BigInt not supported")}})(Tt);var Pt={exports:{}};(function(l){(function(c){var f=ht(),U=xt(),F=nt(),m=pt(),p={imagePlaceholder:void 0,cacheBust:!1},o={toSvg:T,toPng:_,toJpeg:R,toBlob:K,toPixelData:z,impl:{fontFaces:F,images:m,util:f,inliner:U,options:{}}};l.exports=o;function T(d,h){return h=h||{},V(h),Promise.resolve(d).then(function(g){return ot(g,h.filter,!0)}).then(wt).then(ft).then(y).then(function(g){return gt(g,h.width||f.width(d),h.height||f.height(d))});function y(g){return h.bgcolor&&(g.style.backgroundColor=h.bgcolor),h.width&&(g.style.width=h.width+"px"),h.height&&(g.style.height=h.height+"px"),h.style&&Object.keys(h.style).forEach(function(b){g.style[b]=h.style[b]}),g}}function z(d,h){return L(d,h||{}).then(function(y){return y.getContext("2d").getImageData(0,0,f.width(d),f.height(d)).data})}function _(d,h){return L(d,h||{}).then(function(y){return y.toDataURL()})}function R(d,h){return h=h||{},L(d,h).then(function(y){return y.toDataURL("image/jpeg",h.quality||1)})}function K(d,h){return L(d,h||{}).then(f.canvasToBlob)}function V(d){typeof d.imagePlaceholder>"u"?o.impl.options.imagePlaceholder=p.imagePlaceholder:o.impl.options.imagePlaceholder=d.imagePlaceholder,typeof d.cacheBust>"u"?o.impl.options.cacheBust=p.cacheBust:o.impl.options.cacheBust=d.cacheBust}function L(d,h){return T(d,h).then(f.makeImage).then(f.delay(100)).then(function(g){var b=y(d);return b.getContext("2d").drawImage(g,0,0),b});function y(g){var b=document.createElement("canvas");if(b.width=h.width||f.width(g),b.height=h.height||f.height(g),h.bgcolor){var I=b.getContext("2d");I.fillStyle=h.bgcolor,I.fillRect(0,0,b.width,b.height)}return b}}function ot(d,h,y){if(!y&&h&&!h(d))return Promise.resolve();return Promise.resolve(d).then(g).then(function(w){return b(d,w,h)}).then(function(w){return I(d,w)});function g(w){return w instanceof HTMLCanvasElement?f.makeImage(w.toDataURL()):w.cloneNode(!1)}function b(w,x,G){var Q=w.childNodes;if(Q.length===0)return Promise.resolve(x);return M(x,f.asArray(Q),G).then(function(){return x});function M(it,X,j){var C=Promise.resolve();return X.forEach(function(v){C=C.then(function(){return ot(v,j)}).then(function(q){q&&it.appendChild(q)})}),C}}function I(w,x){if(!(x instanceof Element))return x;return Promise.resolve().then(G).then(Q).then(M).then(it).then(function(){return x});function G(){X(window.getComputedStyle(w),x.style);function X(j,C){j.cssText?C.cssText=j.cssText:v(j,C);function v(q,Z){f.asArray(q).forEach(function(s){Z.setProperty(s,q.getPropertyValue(s),q.getPropertyPriority(s))})}}}function Q(){[":before",":after"].forEach(function(j){X(j)});function X(j){var C=window.getComputedStyle(w,j),v=C.getPropertyValue("content");if(v===""||v==="none")return;var q=f.uid();x.className=x.className+" "+q;var Z=document.createElement("style");Z.appendChild(s(q,j,C)),x.appendChild(Z);function s(E,P,A){var O="."+E+":"+P,Y=A.cssText?st(A):lt(A);return document.createTextNode(O+"{"+Y+"}");function st(W){var H=W.getPropertyValue("content");return W.cssText+" content: "+H+";"}function lt(W){return f.asArray(W).map(H).join("; ")+";";function H(at){return at+": "+W.getPropertyValue(at)+(W.getPropertyPriority(at)?" !important":"")}}}}}function M(){w instanceof HTMLTextAreaElement&&(x.innerHTML=w.value),w instanceof HTMLInputElement&&x.setAttribute("value",w.value)}function it(){x instanceof SVGElement&&(x.setAttribute("xmlns","http://www.w3.org/2000/svg"),x instanceof SVGRectElement&&["width","height"].forEach(function(X){var j=x.getAttribute(X);j&&x.style.setProperty(X,j)}))}}}function wt(d){return F.resolveAll().then(function(h){var y=document.createElement("style");return d.appendChild(y),y.appendChild(document.createTextNode(h)),d})}function ft(d){return m.inlineAll(d).then(function(){return d})}function gt(d,h,y){return Promise.resolve(d).then(function(g){return g.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(g)}).then(f.escapeXhtml).then(function(g){return'<foreignObject x="0" y="0" width="100%" height="100%">'+g+"</foreignObject>"}).then(function(g){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+h+'" height="'+y+'">'+g+"</svg>"}).then(function(g){return"data:image/svg+xml;charset=utf-8,"+g})}function ht(){return{escape:it,parseExtension:h,mimeType:y,dataAsUrl:M,isDataUrl:g,canvasToBlob:I,resolveUrl:w,getAndEncode:Q,uid:x(),delay:X,asArray:j,escapeXhtml:C,makeImage:G,width:v,height:q};function d(){var s="application/font-woff",E="image/jpeg";return{woff:s,woff2:s,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:E,jpeg:E,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function h(s){var E=/\.([^\.\/]*?)$/g.exec(s);return E?E[1]:""}function y(s){var E=h(s).toLowerCase();return d()[E]||""}function g(s){return s.search(/^(data:)/)!==-1}function b(s){return new Promise(function(E){for(var P=window.atob(s.toDataURL().split(",")[1]),A=P.length,O=new Uint8Array(A),Y=0;Y<A;Y++)O[Y]=P.charCodeAt(Y);E(new Blob([O],{type:"image/png"}))})}function I(s){return s.toBlob?new Promise(function(E){s.toBlob(E)}):b(s)}function w(s,E){var P=document.implementation.createHTMLDocument(),A=P.createElement("base");P.head.appendChild(A);var O=P.createElement("a");return P.body.appendChild(O),A.href=E,O.href=s,O.href}function x(){var s=0;return function(){return"u"+E()+s++;function E(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function G(s){return new Promise(function(E,P){var A=new Image;A.onload=function(){E(A)},A.onerror=P,A.src=s})}function Q(s){var E=3e4;return o.impl.options.cacheBust&&(s+=(/\?/.test(s)?"&":"?")+new Date().getTime()),new Promise(function(P){var A=new XMLHttpRequest;A.onreadystatechange=st,A.ontimeout=lt,A.responseType="blob",A.timeout=E,A.open("GET",s,!0),A.send();var O;if(o.impl.options.imagePlaceholder){var Y=o.impl.options.imagePlaceholder.split(/,/);Y&&Y[1]&&(O=Y[1])}function st(){if(A.readyState===4){if(A.status!==200){O?P(O):W("cannot fetch resource: "+s+", status: "+A.status);return}var H=new FileReader;H.onloadend=function(){var at=H.result.split(/,/)[1];P(at)},H.readAsDataURL(A.response)}}function lt(){O?P(O):W("timeout of "+E+"ms occured while fetching resource: "+s)}function W(H){console.error(H),P("")}})}function M(s,E){return"data:"+E+";base64,"+s}function it(s){return s.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function X(s){return function(E){return new Promise(function(P){setTimeout(function(){P(E)},s)})}}function j(s){for(var E=[],P=s.length,A=0;A<P;A++)E.push(s[A]);return E}function C(s){return s.replace(/#/g,"%23").replace(/\n/g,"%0A")}function v(s){var E=Z(s,"border-left-width"),P=Z(s,"border-right-width");return s.scrollWidth+E+P}function q(s){var E=Z(s,"border-top-width"),P=Z(s,"border-bottom-width");return s.scrollHeight+E+P}function Z(s,E){var P=window.getComputedStyle(s).getPropertyValue(E);return parseFloat(P.replace("px",""))}}function xt(){var d=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:b,shouldProcess:h,impl:{readUrls:y,inline:g}};function h(I){return I.search(d)!==-1}function y(I){for(var w=[],x;(x=d.exec(I))!==null;)w.push(x[1]);return w.filter(function(G){return!f.isDataUrl(G)})}function g(I,w,x,G){return Promise.resolve(w).then(function(M){return x?f.resolveUrl(M,x):M}).then(G||f.getAndEncode).then(function(M){return f.dataAsUrl(M,f.mimeType(w))}).then(function(M){return I.replace(Q(w),"$1"+M+"$3")});function Q(M){return new RegExp(`(url\\(['"]?)(`+f.escape(M)+`)(['"]?\\))`,"g")}}function b(I,w,x){if(G())return Promise.resolve(I);return Promise.resolve(I).then(y).then(function(Q){var M=Promise.resolve(I);return Q.forEach(function(it){M=M.then(function(X){return g(X,it,w,x)})}),M});function G(){return!h(I)}}}function nt(){return{resolveAll:d,impl:{readAll:h}};function d(){return h().then(function(y){return Promise.all(y.map(function(g){return g.resolve()}))}).then(function(y){return y.join(`
`)})}function h(){return Promise.resolve(f.asArray(document.styleSheets)).then(g).then(y).then(function(I){return I.map(b)});function y(I){return I.filter(function(w){return w.type===CSSRule.FONT_FACE_RULE}).filter(function(w){return U.shouldProcess(w.style.getPropertyValue("src"))})}function g(I){var w=[];return I.forEach(function(x){try{f.asArray(x.cssRules||[]).forEach(w.push.bind(w))}catch(G){console.log("Error while reading CSS rules from "+x.href,G.toString())}}),w}function b(I){return{resolve:function(){var x=(I.parentStyleSheet||{}).href;return U.inlineAll(I.cssText,x)},src:function(){return I.style.getPropertyValue("src")}}}}}function pt(){return{inlineAll:h,impl:{newImage:d}};function d(y){return{inline:g};function g(b){return f.isDataUrl(y.src)?Promise.resolve():Promise.resolve(y.src).then(b||f.getAndEncode).then(function(I){return f.dataAsUrl(I,f.mimeType(y.src))}).then(function(I){return new Promise(function(w,x){y.onload=w,y.onerror=x,y.src=I})})}}function h(y){if(!(y instanceof Element))return Promise.resolve(y);return g(y).then(function(){return y instanceof HTMLImageElement?d(y).inline():Promise.all(f.asArray(y.childNodes).map(function(b){return h(b)}))});function g(b){var I=b.style.getPropertyValue("background");return I?U.inlineAll(I).then(function(w){b.style.setProperty("background",w,b.style.getPropertyPriority("background"))}).then(function(){return b}):Promise.resolve(b)}}}})()})(Pt);var ce=Pt.exports;const fe=Lt(ce),se={name:"WatermarkTool",components:{Compact:te},data:()=>({file:"",fileName:"",loading:!1,options:{fontSize:14,text:"仅供 xxx 验证使用",alpha:5,color:"#000000",rotate:23,width:10}}),computed:{color:{get(){return{hex:this.options.color}},set(l){l&&l.hex&&(this.options.color=l.hex)}},svg(){let l=this.options.fontSize*this.options.text.length;l=l+this.options.width/100*l;const c=`<svg xmlns="http://www.w3.org/2000/svg" width="${l}px" height="${l}px">
                <text x="50%" y="50%"
                    alignment-baseline="middle"
                    text-anchor="middle"
                    stroke="${this.options.color}"
                    opacity="${this.options.alpha/10}"
                    transform="translate(${l/2}, ${l/2}) rotate(${this.options.rotate}) translate(-${l/2}, -${l/2})"
                    font-weight="100"
                    font-size="${this.options.fontSize}"
                    font-family="microsoft yahe"
                    >
                    ${this.options.text}
                </text>
            </svg>`;return"data:image/svg+xml;base64,"+Tt.Buffer.from(c).toString("base64")}},methods:{upload(l){const c=new FileReader;return c.onload=()=>{this.fileName=l.name,this.file=c.result},c.readAsDataURL(l),!1},async addWatermark(){this.loading=!0;try{const l=await fe.toBlob(this.$refs.preview,{});Zt(l,"watermark.png")}catch{Dt.error("生成失败")}this.loading=!1}}},he=l=>(Jt("data-v-023e47f6"),l=l(),Kt(),l),pe=he(()=>mt("blockquote",null,"全部过程均在本地进行，本工具可离线使用",-1)),de={key:0},me={key:1},ye={ref:"preview",class:"preview"},we=["src"];function ge(l,c,f,U,F,m){const p=Qt,o=Ht,T=zt,z=Xt,_=qt,R=Yt,K=Mt("Compact"),V=Vt;return At(),It($t,null,[$(p,null,{default:J(()=>[pe]),_:1}),$(V,{layout:"vertical"},{default:J(()=>[$(_,{label:"请选择要添加水印的图片"},{default:J(()=>[$(z,{"file-list":[],"show-upload-list":!1,accept:"image/*","before-upload":m.upload},{default:J(()=>[$(T,{readonly:"",placeholder:"点击这里上传图片",value:l.fileName},{append:J(()=>[$(o,{block:"",disabled:!l.file,loading:l.loading,onClick:Ot(m.addWatermark,["stop"])},{default:J(()=>[l.loading?(At(),It("span",de,"处理中")):(At(),It("span",me,"开始处理"))]),_:1},8,["disabled","loading","onClick"])]),_:1},8,["value"])]),_:1},8,["before-upload"])]),_:1}),$(_,{label:"请输入水印文字"},{default:J(()=>[$(T,{modelValue:l.options.text,"onUpdate:modelValue":c[0]||(c[0]=L=>l.options.text=L),placeholder:"仅供 xxx 验证使用"},null,8,["modelValue"])]),_:1}),$(_,{label:"字体大小"},{default:J(()=>[$(R,{modelValue:l.options.fontSize,"onUpdate:modelValue":c[1]||(c[1]=L=>l.options.fontSize=L),max:30,min:10},null,8,["modelValue"])]),_:1}),$(_,{label:"透明度"},{default:J(()=>[$(R,{modelValue:l.options.alpha,"onUpdate:modelValue":c[2]||(c[2]=L=>l.options.alpha=L),max:10,min:1,step:.1},null,8,["modelValue"])]),_:1}),$(_,{label:"旋转角度"},{default:J(()=>[$(R,{modelValue:l.options.rotate,"onUpdate:modelValue":c[3]||(c[3]=L=>l.options.rotate=L),max:365,min:0},null,8,["modelValue"])]),_:1}),$(_,{label:"文本间距"},{default:J(()=>[$(R,{modelValue:l.options.width,"onUpdate:modelValue":c[4]||(c[4]=L=>l.options.width=L),max:100,min:0},null,8,["modelValue"])]),_:1}),$(_,{label:"文字颜色"},{default:J(()=>[$(K,{modelValue:m.color,"onUpdate:modelValue":c[5]||(c[5]=L=>m.color=L)},null,8,["modelValue"])]),_:1}),jt($(_,{label:"预览"},{default:J(()=>[mt("div",ye,[mt("img",{src:l.file,alt:"preview"},null,8,we),mt("div",{class:"watermark",style:Wt({background:`url(${m.svg})`})},null,4)],512)]),_:1},512),[[Gt,l.file]])]),_:1})],64)}const Ue=Nt(se,[["render",ge],["__scopeId","data-v-023e47f6"]]);export{Ue as default};
