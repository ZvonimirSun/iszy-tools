import{a as f,I as l,t,C as _,a7 as h,w as m,y as a,o as r,bi as v,M as w,L as x,D as y,z as g,aP as k,aq as V}from"./index-BrEFJmNm.js";import{v as C}from"./el-loading-BjldzHwI.js";const D={"h-full":"","w-full":"",flex:"","flex-col":""},M={key:1,class:"i-icon-park-outline-search","cursor-pointer":""},q={"flex-1":"","overflow-auto":""},B=f({__name:"whois",setup(E){const s=l(!1),e=l(""),i=l();async function c(){if(e.value){s.value=!0;try{const n=(await k.get(`https://cdn.ovooo.cc/cors/https://www.iana.org/whois?q=${e.value}`)).data,o=new DOMParser().parseFromString(n,"text/html");i.value=o.querySelector("#results + pre")?.innerHTML}catch{V.error("查询失败")}s.value=!1}}return(n,o)=>{const u=x,p=C;return r(),t("div",D,[_(u,{modelValue:a(e),"onUpdate:modelValue":o[0]||(o[0]=d=>w(e)?e.value=d:null),placeholder:"输入域名查询",onKeyup:v(c,["enter"])},{suffix:m(()=>[a(s)?(r(),t("span",M)):(r(),t("span",{key:0,class:"i-icon-park-outline-search","cursor-pointer":"",onClick:c}))]),_:1},8,["modelValue"]),h((r(),t("pre",q,[y(g(a(i)),1)])),[[p,a(s)]])])}}});export{B as default};
