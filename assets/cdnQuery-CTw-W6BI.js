import{_ as Qe,k as Oe,u as Pe,q as ae,r as K,w as W,s as ct,aB as lr,aC as cr,x as S,ah as fr,z as Kt,aD as at,aE as hr,aF as He,aG as ot,aH as Be,a4 as pr,aI as Ge,aJ as At,aK as mr,p as gr,aL as Et,al as st,l as Ie,ag as It,I as Le,R as V,aM as rt,aN as yr,V as Ne,ai as it,an as ut,E as z,F as U,K as Y,G,y as vr,v as me,$ as ye,t as br,Y as pe,Z as $e,aO as kr,aP as Nr,a7 as fe,aQ as Cr,a8 as _t,T as wr,a5 as xr,aR as Dr,aS as ve,H as te,aT as Er,j as Me,aU as Ir,n as Rt,aV as Or,aW as Pr,N as ee,X as Ot,W as Tr,aX as jr,aA as Sr,aY as Pt,a0 as qr}from"./index-DdH6q6SV.js";import{E as Kr}from"./el-checkbox-Bh4BhDHp.js";import{E as Ar}from"./el-text-zp6DZS8L.js";/* empty css               */import{s as _r,a as Rr,E as Br}from"./el-select-BxurROVm.js";import"./el-popper-B_12Myl_.js";import{E as $r}from"./el-pagination-CfeQBfbH.js";import{E as Lr}from"./el-divider-CLDa65Rc.js";import{L as Fr,P as Ur,T as zr,a as Hr,b as Mr}from"./Router-C4hKjnIW.js";import{E as Jr}from"./index-PvysGUtG.js";import"./strings-Ddq4QAeH.js";import"./castArray-DfJK8VnQ.js";import"./_baseIteratee-CGDUxasU.js";import"./index-B1QAsMn1.js";import"./index--kSuBU8m.js";import"./index-ukcMG_GO.js";const Wr=Oe({name:"ElCollapseTransition"}),Gr=Oe({...Wr,setup(o){const s=Pe("collapse-transition"),i=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},l={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){i(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){i(t)},leaveCancelled(t){i(t)}};return(t,d)=>(K(),ae(fr,lr({name:S(s).b()},cr(l)),{default:W(()=>[ct(t.$slots,"default")]),_:3},16,["name"]))}});var Qr=Qe(Gr,[["__file","collapse-transition.vue"]]);const Vr=Kt(Qr),Ee="$treeNodeId",Tt=function(o,s){!s||s[Ee]||Object.defineProperty(s,Ee,{value:o.id,enumerable:!1,configurable:!1,writable:!1})},ft=(o,s)=>s?.[o||Ee],dt=(o,s,i)=>{const l=o.value.currentNode;i();const t=o.value.currentNode;l!==t&&s("current-change",t?t.data:null,t)},lt=o=>{let s=!0,i=!0,l=!0;for(let t=0,d=o.length;t<d;t++){const m=o[t];(m.checked!==!0||m.indeterminate)&&(s=!1,m.disabled||(l=!1)),(m.checked!==!1||m.indeterminate)&&(i=!1)}return{all:s,none:i,allWithoutDisable:l,half:!s&&!i}},Re=function(o){if(o.childNodes.length===0||o.loading)return;const{all:s,none:i,half:l}=lt(o.childNodes);s?(o.checked=!0,o.indeterminate=!1):l?(o.checked=!1,o.indeterminate=!0):i&&(o.checked=!1,o.indeterminate=!1);const t=o.parent;!t||t.level===0||o.store.checkStrictly||Re(t)},Je=function(o,s){const i=o.store.props,l=o.data||{},t=i[s];if(Ge(t))return t(l,o);if(At(t))return l[t];if(Be(t)){const d=l[s];return Be(d)?"":d}};let Yr=0;class Ce{constructor(s){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=Yr++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in s)at(s,i)&&(this[i]=s[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var s;const i=this.store;if(!i)throw new Error("[Node]store is required!");i.registerNode(this);const l=i.props;if(l&&typeof l.isLeaf<"u"){const m=Je(this,"isLeaf");hr(m)&&(this.isLeafByUser=m)}if(i.lazy!==!0&&this.data?(this.setData(this.data),i.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&i.lazy&&i.defaultExpandAll&&!this.isLeafByUser&&this.expand(),He(this.data)||Tt(this,this.data),!this.data)return;const t=i.defaultExpandedKeys,d=i.key;d&&!ot(this.key)&&t&&t.includes(this.key)&&this.expand(null,i.autoExpandParent),d&&i.currentNodeKey!==void 0&&this.key===i.currentNodeKey&&(i.currentNode=this,i.currentNode.isCurrent=!0),i.lazy&&i._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((s=this.parent)==null?void 0:s.expanded)===!0)&&(this.canFocus=!0)}setData(s){He(s)||Tt(this,s),this.data=s,this.childNodes=[];let i;this.level===0&&He(this.data)?i=this.data:i=Je(this,"children")||[];for(let l=0,t=i.length;l<t;l++)this.insertChild({data:i[l]})}get label(){return Je(this,"label")}get key(){const s=this.store.key;return this.data?this.data[s]:null}get disabled(){return Je(this,"disabled")}get nextSibling(){const s=this.parent;if(s){const i=s.childNodes.indexOf(this);if(i>-1)return s.childNodes[i+1]}return null}get previousSibling(){const s=this.parent;if(s){const i=s.childNodes.indexOf(this);if(i>-1)return i>0?s.childNodes[i-1]:null}return null}contains(s,i=!0){return(this.childNodes||[]).some(l=>l===s||i&&l.contains(s))}remove(){const s=this.parent;s&&s.removeChild(this)}insertChild(s,i,l){if(!s)throw new Error("InsertChild error: child is required.");if(!(s instanceof Ce)){if(!l){const t=this.getChildren(!0);t?.includes(s.data)||(Be(i)||i<0?t?.push(s.data):t?.splice(i,0,s.data))}Object.assign(s,{parent:this,store:this.store}),s=pr(new Ce(s)),s instanceof Ce&&s.initialize()}s.level=this.level+1,Be(i)||i<0?this.childNodes.push(s):this.childNodes.splice(i,0,s),this.updateLeafState()}insertBefore(s,i){let l;i&&(l=this.childNodes.indexOf(i)),this.insertChild(s,l)}insertAfter(s,i){let l;i&&(l=this.childNodes.indexOf(i),l!==-1&&(l+=1)),this.insertChild(s,l)}removeChild(s){const i=this.getChildren()||[],l=i.indexOf(s.data);l>-1&&i.splice(l,1);const t=this.childNodes.indexOf(s);t>-1&&(this.store&&this.store.deregisterNode(s),s.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(s){let i=null;for(let l=0;l<this.childNodes.length;l++)if(this.childNodes[l].data===s){i=this.childNodes[l];break}i&&this.removeChild(i)}expand(s,i){const l=()=>{if(i){let t=this.parent;for(;t&&t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,s&&s(),this.childNodes.forEach(t=>{t.canFocus=!0})};this.shouldLoadData()?this.loadData(t=>{He(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Re(this),l())}):l()}doCreateChildren(s,i={}){s.forEach(l=>{this.insertChild(Object.assign({data:l},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(s=>{s.canFocus=!1})}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const s=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!s||s.length===0;return}this.isLeaf=!1}setChecked(s,i,l,t){if(this.indeterminate=s==="half",this.checked=s===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:m,allWithoutDisable:x}=lt(this.childNodes);!this.isLeaf&&!m&&x&&(this.checked=!1,s=!1);const T=()=>{if(i){const N=this.childNodes;for(let j=0,k=N.length;j<k;j++){const $=N[j];t=t||s!==!1;const B=$.disabled?$.checked:t;$.setChecked(B,i,!0,t)}const{half:b,all:A}=lt(N);A||(this.checked=A,this.indeterminate=b)}};if(this.shouldLoadData()){this.loadData(()=>{T(),Re(this)},{checked:s!==!1});return}else T()}const d=this.parent;!d||d.level===0||l||Re(d)}getChildren(s=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const l=this.store.props;let t="children";return l&&(t=l.children||"children"),Be(i[t])&&(i[t]=null),s&&!i[t]&&(i[t]=[]),i[t]}updateChildren(){const s=this.getChildren()||[],i=this.childNodes.map(d=>d.data),l={},t=[];s.forEach((d,m)=>{const x=d[Ee];!!x&&i.findIndex(N=>N?.[Ee]===x)>=0?l[x]={index:m,data:d}:t.push({index:m,data:d})}),this.store.lazy||i.forEach(d=>{l[d?.[Ee]]||this.removeChildByData(d)}),t.forEach(({index:d,data:m})=>{this.insertChild({data:m},d)}),this.updateLeafState()}loadData(s,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const l=d=>{this.childNodes=[],this.doCreateChildren(d,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),s&&s.call(this,d)},t=()=>{this.loading=!1};this.store.load(this,l,t)}else s&&s.call(this)}eachNode(s){const i=[this];for(;i.length;){const l=i.shift();i.unshift(...l.childNodes),s(l)}}reInitChecked(){this.store.checkStrictly||Re(this)}}class Xr{constructor(s){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const i in s)at(s,i)&&(this[i]=s[i]);this.nodesMap={}}initialize(){if(this.root=new Ce({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const s=this.load;s(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()},mr)}else this._initDefaultCheckedNodes()}filter(s){const i=this.filterNodeMethod,l=this.lazy,t=async function(d){const m=d.root?d.root.childNodes:d.childNodes;for(const[x,T]of m.entries())T.visible=!!i?.call(T,s,T.data,T),x%80===0&&x>0&&await st(),await t(T);if(!d.visible&&m.length){let x=!0;x=!m.some(T=>T.visible),d.root?d.root.visible=x===!1:d.visible=x===!1}s&&d.visible&&!d.isLeaf&&(!l||d.loaded)&&d.expand()};t(this)}setData(s){s!==this.root.data?(this.nodesMap={},this.root.setData(s),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(s){if(s instanceof Ce)return s;const i=gr(s)?ft(this.key,s):s;return this.nodesMap[i]||null}insertBefore(s,i){var l;const t=this.getNode(i);(l=t.parent)==null||l.insertBefore({data:s},t)}insertAfter(s,i){var l;const t=this.getNode(i);(l=t.parent)==null||l.insertAfter({data:s},t)}remove(s){const i=this.getNode(s);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(s,i){const l=Et(i)?this.root:this.getNode(i);l&&l.insertChild({data:s})}_initDefaultCheckedNodes(){const s=this.defaultCheckedKeys||[],i=this.nodesMap;s.forEach(l=>{const t=i[l];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(s){const i=this.defaultCheckedKeys||[];!ot(s.key)&&i.includes(s.key)&&s.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(s){s!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=s,this._initDefaultCheckedNodes())}registerNode(s){const i=this.key;if(!(!s||!s.data))if(!i)this.nodesMap[s.id]=s;else{const l=s.key;ot(l)||(this.nodesMap[l]=s)}}deregisterNode(s){!this.key||!s||!s.data||(s.childNodes.forEach(l=>{this.deregisterNode(l)}),delete this.nodesMap[s.key])}getCheckedNodes(s=!1,i=!1){const l=[],t=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(x=>{(x.checked||i&&x.indeterminate)&&(!s||s&&x.isLeaf)&&l.push(x.data),t(x)})};return t(this),l}getCheckedKeys(s=!1){return this.getCheckedNodes(s).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const s=[],i=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(d=>{d.indeterminate&&s.push(d.data),i(d)})};return i(this),s}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(s=>(s||{})[this.key])}_getAllNodes(){const s=[],i=this.nodesMap;for(const l in i)at(i,l)&&s.push(i[l]);return s}updateChildren(s,i){const l=this.nodesMap[s];if(!l)return;const t=l.childNodes;for(let d=t.length-1;d>=0;d--){const m=t[d];this.remove(m.data)}for(let d=0,m=i.length;d<m;d++){const x=i[d];this.append(x,l.data)}}_setCheckedKeys(s,i=!1,l){const t=this._getAllNodes().sort((T,N)=>T.level-N.level),d=Object.create(null),m=Object.keys(l);t.forEach(T=>T.setChecked(!1,!1));const x=T=>{T.childNodes.forEach(N=>{var b;d[N.data[s]]=!0,(b=N.childNodes)!=null&&b.length&&x(N)})};for(let T=0,N=t.length;T<N;T++){const b=t[T],A=b.data[s].toString();if(!m.includes(A)){b.checked&&!d[A]&&b.setChecked(!1,!1);continue}if(b.childNodes.length&&x(b),b.isLeaf||this.checkStrictly){b.setChecked(!0,!1);continue}if(b.setChecked(!0,!0),i){b.setChecked(!1,!1);const k=function($){$.childNodes.forEach(w=>{w.isLeaf||w.setChecked(!1,!1),k(w)})};k(b)}}}setCheckedNodes(s,i=!1){const l=this.key,t={};s.forEach(d=>{t[(d||{})[l]]=!0}),this._setCheckedKeys(l,i,t)}setCheckedKeys(s,i=!1){this.defaultCheckedKeys=s;const l=this.key,t={};s.forEach(d=>{t[d]=!0}),this._setCheckedKeys(l,i,t)}setDefaultExpandedKeys(s){s=s||[],this.defaultExpandedKeys=s,s.forEach(i=>{const l=this.getNode(i);l&&l.expand(null,this.autoExpandParent)})}setChecked(s,i,l){const t=this.getNode(s);t&&t.setChecked(!!i,l)}getCurrentNode(){return this.currentNode}setCurrentNode(s){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=s,this.currentNode.isCurrent=!0}setUserCurrentNode(s,i=!0){var l;const t=s[this.key],d=this.nodesMap[t];this.setCurrentNode(d),i&&this.currentNode&&this.currentNode.level>1&&((l=this.currentNode.parent)==null||l.expand(null,!0))}setCurrentNodeKey(s,i=!0){var l;if(this.currentNodeKey=s,Et(s)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const t=this.getNode(s);t&&(this.setCurrentNode(t),i&&this.currentNode&&this.currentNode.level>1&&((l=this.currentNode.parent)==null||l.expand(null,!0)))}}const ht="RootTree",Bt="NodeInstance",jt="TreeNodeMap",Zr=Oe({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(o){const s=Pe("tree"),i=Ie(Bt),l=Ie(ht);return()=>{const t=o.node,{data:d,store:m}=t;return o.renderContent?o.renderContent(It,{_self:i,node:t,data:d,store:m}):ct(l.ctx.slots,"default",{node:t,data:d},()=>[It(Ar,{tag:"span",truncated:!0,class:s.be("node","label")},()=>[t.label])])}}});var ea=Qe(Zr,[["__file","tree-node-content.vue"]]);function $t(o){const s=Ie(jt,null),i={treeNodeExpand:l=>{var t;o.node!==l&&((t=o.node)==null||t.collapse())},children:[]};return s&&s.children.push(i),Le(jt,i),{broadcastExpanded:l=>{if(o.accordion)for(const t of i.children)t.treeNodeExpand(l)}}}const Lt=Symbol("dragEvents");function ta({props:o,ctx:s,el$:i,dropIndicator$:l,store:t}){const d=Pe("tree"),m=V({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Le(Lt,{treeNodeDragStart:({event:b,treeNode:A})=>{if(b.dataTransfer){if(Ge(o.allowDrag)&&!o.allowDrag(A.node))return b.preventDefault(),!1;b.dataTransfer.effectAllowed="move";try{b.dataTransfer.setData("text/plain","")}catch{}m.value.draggingNode=A,s.emit("node-drag-start",A.node,b)}},treeNodeDragOver:({event:b,treeNode:A})=>{if(!b.dataTransfer)return;const j=A,k=m.value.dropNode;k&&k.node.id!==j.node.id&&rt(k.$el,d.is("drop-inner"));const $=m.value.draggingNode;if(!$||!j)return;let B=!0,w=!0,J=!0,H=!0;Ge(o.allowDrop)&&(B=o.allowDrop($.node,j.node,"prev"),H=w=o.allowDrop($.node,j.node,"inner"),J=o.allowDrop($.node,j.node,"next")),b.dataTransfer.dropEffect=w||B||J?"move":"none",(B||w||J)&&k?.node.id!==j.node.id&&(k&&s.emit("node-drag-leave",$.node,k.node,b),s.emit("node-drag-enter",$.node,j.node,b)),B||w||J?m.value.dropNode=j:m.value.dropNode=null,j.node.nextSibling===$.node&&(J=!1),j.node.previousSibling===$.node&&(B=!1),j.node.contains($.node,!1)&&(w=!1),($.node===j.node||$.node.contains(j.node))&&(B=!1,w=!1,J=!1);const X=j.$el,Q=X.querySelector(`.${d.be("node","content")}`).getBoundingClientRect(),C=i.value.getBoundingClientRect();let R;const oe=B?w?.25:J?.45:1:-1,ue=J?w?.75:B?.55:0:1;let O=-9999;const I=b.clientY-Q.top;I<Q.height*oe?R="before":I>Q.height*ue?R="after":w?R="inner":R="none";const E=X.querySelector(`.${d.be("node","expand-icon")}`).getBoundingClientRect(),se=l.value;R==="before"?O=E.top-C.top:R==="after"&&(O=E.bottom-C.top),se.style.top=`${O}px`,se.style.left=`${E.right-C.left}px`,R==="inner"?yr(X,d.is("drop-inner")):rt(X,d.is("drop-inner")),m.value.showDropIndicator=R==="before"||R==="after",m.value.allowDrop=m.value.showDropIndicator||H,m.value.dropType=R,s.emit("node-drag-over",$.node,j.node,b)},treeNodeDragEnd:b=>{var A,j;const{draggingNode:k,dropType:$,dropNode:B}=m.value;if(b.preventDefault(),b.dataTransfer&&(b.dataTransfer.dropEffect="move"),k?.node.data&&B){const w={data:k.node.data};$!=="none"&&k.node.remove(),$==="before"?(A=B.node.parent)==null||A.insertBefore(w,B.node):$==="after"?(j=B.node.parent)==null||j.insertAfter(w,B.node):$==="inner"&&B.node.insertChild(w),$!=="none"&&(t.value.registerNode(w),t.value.key&&k.node.eachNode(J=>{var H;(H=t.value.nodesMap[J.data[t.value.key]])==null||H.setChecked(J.checked,!t.value.checkStrictly)})),rt(B.$el,d.is("drop-inner")),s.emit("node-drag-end",k.node,B.node,$,b),$!=="none"&&s.emit("node-drop",k.node,B.node,$,b)}k&&!B&&s.emit("node-drag-end",k.node,null,$,b),m.value.showDropIndicator=!1,m.value.draggingNode=null,m.value.dropNode=null,m.value.allowDrop=!0}}),{dragState:m}}const na=Oe({name:"ElTreeNode",components:{ElCollapseTransition:Vr,ElCheckbox:Kr,NodeContent:ea,ElIcon:Nr,Loading:kr},props:{node:{type:Ce,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(o,s){const i=Pe("tree"),{broadcastExpanded:l}=$t(o),t=Ie(ht),d=V(!1),m=V(!1),x=V(),T=V(),N=V(),b=Ie(Lt),A=_t();Le(Bt,A),o.node.expanded&&(d.value=!0,m.value=!0);const j=t.props.props.children||"children";fe(()=>{var O;const I=(O=o.node.data)==null?void 0:O[j];return I&&[...I]},()=>{o.node.updateChildren()}),fe(()=>o.node.indeterminate,O=>{B(o.node.checked,O)}),fe(()=>o.node.checked,O=>{B(O,o.node.indeterminate)}),fe(()=>o.node.childNodes.length,()=>o.node.reInitChecked()),fe(()=>o.node.expanded,O=>{st(()=>d.value=O),O&&(m.value=!0)});const k=O=>ft(t.props.nodeKey,O.data),$=O=>{const I=o.props.class;if(!I)return{};let E;if(Ge(I)){const{data:se}=O;E=I(se,O)}else E=I;return At(E)?{[E]:!0}:E},B=(O,I)=>{(x.value!==O||T.value!==I)&&t.ctx.emit("check-change",o.node.data,O,I),x.value=O,T.value=I},w=O=>{dt(t.store,t.ctx.emit,()=>{var I;if((I=t?.props)==null?void 0:I.nodeKey){const se=k(o.node);t.store.value.setCurrentNodeKey(se)}else t.store.value.setCurrentNode(o.node)}),t.currentNode.value=o.node,t.props.expandOnClickNode&&H(),(t.props.checkOnClickNode||o.node.isLeaf&&t.props.checkOnClickLeaf&&o.showCheckbox)&&!o.node.disabled&&X(!o.node.checked),t.ctx.emit("node-click",o.node.data,o.node,A,O)},J=O=>{var I;(I=t.instance.vnode.props)!=null&&I.onNodeContextmenu&&(O.stopPropagation(),O.preventDefault()),t.ctx.emit("node-contextmenu",O,o.node.data,o.node,A)},H=()=>{o.node.isLeaf||(d.value?(t.ctx.emit("node-collapse",o.node.data,o.node,A),o.node.collapse()):o.node.expand(()=>{s.emit("node-expand",o.node.data,o.node,A)}))},X=O=>{o.node.setChecked(O,!t?.props.checkStrictly),st(()=>{const I=t.store.value;t.ctx.emit("check",o.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:i,node$:N,tree:t,expanded:d,childNodeRendered:m,oldChecked:x,oldIndeterminate:T,getNodeKey:k,getNodeClass:$,handleSelectChange:B,handleClick:w,handleContextMenu:J,handleExpandIconClick:H,handleCheckChange:X,handleChildNodeExpand:(O,I,E)=>{l(I),t.ctx.emit("node-expand",O,I,E)},handleDragStart:O=>{t.props.draggable&&b.treeNodeDragStart({event:O,treeNode:o})},handleDragOver:O=>{O.preventDefault(),t.props.draggable&&b.treeNodeDragOver({event:O,treeNode:{$el:N.value,node:o.node}})},handleDrop:O=>{O.preventDefault()},handleDragEnd:O=>{t.props.draggable&&b.treeNodeDragEnd(O)},CaretRight:Cr}}});function ra(o,s,i,l,t,d){const m=Ne("el-icon"),x=Ne("el-checkbox"),T=Ne("loading"),N=Ne("node-content"),b=Ne("el-tree-node"),A=Ne("el-collapse-transition");return it((K(),z("div",{ref:"node$",class:me([o.ns.b("node"),o.ns.is("expanded",o.expanded),o.ns.is("current",o.node.isCurrent),o.ns.is("hidden",!o.node.visible),o.ns.is("focusable",!o.node.disabled),o.ns.is("checked",!o.node.disabled&&o.node.checked),o.getNodeClass(o.node)]),role:"treeitem",tabindex:"-1","aria-expanded":o.expanded,"aria-disabled":o.node.disabled,"aria-checked":o.node.checked,draggable:o.tree.props.draggable,"data-key":o.getNodeKey(o.node),onClick:ye(o.handleClick,["stop"]),onContextmenu:o.handleContextMenu,onDragstart:ye(o.handleDragStart,["stop"]),onDragover:ye(o.handleDragOver,["stop"]),onDragend:ye(o.handleDragEnd,["stop"]),onDrop:ye(o.handleDrop,["stop"])},[U("div",{class:me(o.ns.be("node","content")),style:br({paddingLeft:(o.node.level-1)*o.tree.props.indent+"px"})},[o.tree.props.icon||o.CaretRight?(K(),ae(m,{key:0,class:me([o.ns.be("node","expand-icon"),o.ns.is("leaf",o.node.isLeaf),{expanded:!o.node.isLeaf&&o.expanded}]),onClick:ye(o.handleExpandIconClick,["stop"])},{default:W(()=>[(K(),ae(vr(o.tree.props.icon||o.CaretRight)))]),_:1},8,["class","onClick"])):G("v-if",!0),o.showCheckbox?(K(),ae(x,{key:1,"model-value":o.node.checked,indeterminate:o.node.indeterminate,disabled:!!o.node.disabled,onClick:ye(()=>{},["stop"]),onChange:o.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):G("v-if",!0),o.node.loading?(K(),ae(m,{key:2,class:me([o.ns.be("node","loading-icon"),o.ns.is("loading")])},{default:W(()=>[Y(T)]),_:1},8,["class"])):G("v-if",!0),Y(N,{node:o.node,"render-content":o.renderContent},null,8,["node","render-content"])],6),Y(A,null,{default:W(()=>[!o.renderAfterExpand||o.childNodeRendered?it((K(),z("div",{key:0,class:me(o.ns.be("node","children")),role:"group","aria-expanded":o.expanded,onClick:ye(()=>{},["stop"])},[(K(!0),z(pe,null,$e(o.node.childNodes,j=>(K(),ae(b,{key:o.getNodeKey(j),"render-content":o.renderContent,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,node:j,accordion:o.accordion,props:o.props,onNodeExpand:o.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[ut,o.expanded]]):G("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[ut,o.node.visible]])}var aa=Qe(na,[["render",ra],["__file","tree-node.vue"]]);function oa({el$:o},s){const i=Pe("tree");wr(()=>{t()}),xr(()=>{Array.from(o.value.querySelectorAll("input[type=checkbox]")).forEach(m=>{m.setAttribute("tabindex","-1")})}),Dr(o,"keydown",d=>{const m=d.target;if(!m.className.includes(i.b("node")))return;const x=d.code,T=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),N=T.indexOf(m);let b;if([ve.up,ve.down].includes(x)){if(d.preventDefault(),x===ve.up){b=N===-1?0:N!==0?N-1:T.length-1;const j=b;for(;!s.value.getNode(T[b].dataset.key).canFocus;){if(b--,b===j){b=-1;break}b<0&&(b=T.length-1)}}else{b=N===-1?0:N<T.length-1?N+1:0;const j=b;for(;!s.value.getNode(T[b].dataset.key).canFocus;){if(b++,b===j){b=-1;break}b>=T.length&&(b=0)}}b!==-1&&T[b].focus()}[ve.left,ve.right].includes(x)&&(d.preventDefault(),m.click());const A=m.querySelector('[type="checkbox"]');[ve.enter,ve.numpadEnter,ve.space].includes(x)&&A&&(d.preventDefault(),A.click())});const t=()=>{var d;if(!o.value)return;const m=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));Array.from(o.value.querySelectorAll("input[type=checkbox]")).forEach(N=>{N.setAttribute("tabindex","-1")});const T=o.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(T.length){T[0].setAttribute("tabindex","0");return}(d=m[0])==null||d.setAttribute("tabindex","0")}}const sa=Oe({name:"ElTree",components:{ElTreeNode:aa},props:{data:{type:Me(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:Me(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:Me(Function)},allowDrop:{type:Me(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Er}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(o,s){const{t:i}=Ir(),l=Pe("tree"),t=Ie(_r,null),d=V(new Xr({key:o.nodeKey,data:o.data,lazy:o.lazy,props:o.props,load:o.load,currentNodeKey:o.currentNodeKey,checkStrictly:o.checkStrictly,checkDescendants:o.checkDescendants,defaultCheckedKeys:o.defaultCheckedKeys,defaultExpandedKeys:o.defaultExpandedKeys,autoExpandParent:o.autoExpandParent,defaultExpandAll:o.defaultExpandAll,filterNodeMethod:o.filterNodeMethod}));d.value.initialize();const m=V(d.value.root),x=V(null),T=V(null),N=V(null),{broadcastExpanded:b}=$t(o),{dragState:A}=ta({props:o,ctx:s,el$:T,dropIndicator$:N,store:d});oa({el$:T},d);const j=Rt(()=>{const{childNodes:f}=m.value,L=t?t.hasFilteredOptions!==0:!1;return(!f||f.length===0||f.every(({visible:de})=>!de))&&!L});fe(()=>o.currentNodeKey,f=>{d.value.setCurrentNodeKey(f??null)}),fe(()=>o.defaultCheckedKeys,f=>{d.value.setDefaultCheckedKey(f??[])}),fe(()=>o.defaultExpandedKeys,f=>{d.value.setDefaultExpandedKeys(f??[])}),fe(()=>o.data,f=>{d.value.setData(f)},{deep:!0}),fe(()=>o.checkStrictly,f=>{d.value.checkStrictly=f});const k=f=>{if(!o.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");d.value.filter(f)},$=f=>ft(o.nodeKey,f.data),B=f=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const L=d.value.getNode(f);if(!L)return[];const de=[L.data];let be=L.parent;for(;be&&be!==m.value;)de.push(be.data),be=be.parent;return de.reverse()},w=(f,L)=>d.value.getCheckedNodes(f,L),J=f=>d.value.getCheckedKeys(f),H=()=>{const f=d.value.getCurrentNode();return f?f.data:null},X=()=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const f=H();return f?f[o.nodeKey]:null},Q=(f,L)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");d.value.setCheckedNodes(f,L)},C=(f,L)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");d.value.setCheckedKeys(f,L)},R=(f,L,de)=>{d.value.setChecked(f,L,de)},oe=()=>d.value.getHalfCheckedNodes(),ue=()=>d.value.getHalfCheckedKeys(),O=(f,L=!0)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");dt(d,s.emit,()=>{b(f),d.value.setUserCurrentNode(f,L)})},I=(f,L=!0)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");dt(d,s.emit,()=>{b(),d.value.setCurrentNodeKey(f??null,L)})},E=f=>d.value.getNode(f),se=f=>{d.value.remove(f)},Te=(f,L)=>{d.value.append(f,L)},we=(f,L)=>{d.value.insertBefore(f,L)},le=(f,L)=>{d.value.insertAfter(f,L)},je=(f,L,de)=>{b(L),s.emit("node-expand",f,L,de)},Se=(f,L)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");d.value.updateChildren(f,L)};return Le(ht,{ctx:s,props:o,store:d,root:m,currentNode:x,instance:_t()}),Le(Or,void 0),{ns:l,store:d,root:m,currentNode:x,dragState:A,el$:T,dropIndicator$:N,isEmpty:j,filter:k,getNodeKey:$,getNodePath:B,getCheckedNodes:w,getCheckedKeys:J,getCurrentNode:H,getCurrentKey:X,setCheckedNodes:Q,setCheckedKeys:C,setChecked:R,getHalfCheckedNodes:oe,getHalfCheckedKeys:ue,setCurrentNode:O,setCurrentKey:I,t:i,getNode:E,remove:se,append:Te,insertBefore:we,insertAfter:le,handleNodeExpand:je,updateKeyChildren:Se}}});function ia(o,s,i,l,t,d){const m=Ne("el-tree-node");return K(),z("div",{ref:"el$",class:me([o.ns.b(),o.ns.is("dragging",!!o.dragState.draggingNode),o.ns.is("drop-not-allow",!o.dragState.allowDrop),o.ns.is("drop-inner",o.dragState.dropType==="inner"),{[o.ns.m("highlight-current")]:o.highlightCurrent}]),role:"tree"},[(K(!0),z(pe,null,$e(o.root.childNodes,x=>(K(),ae(m,{key:o.getNodeKey(x),node:x,props:o.props,accordion:o.accordion,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,"render-content":o.renderContent,onNodeExpand:o.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),o.isEmpty?(K(),z("div",{key:0,class:me(o.ns.e("empty-block"))},[ct(o.$slots,"empty",{},()=>{var x;return[U("span",{class:me(o.ns.e("empty-text"))},te((x=o.emptyText)!=null?x:o.t("el.tree.emptyText")),3)]})],2)):G("v-if",!0),it(U("div",{ref:"dropIndicator$",class:me(o.ns.e("drop-indicator"))},null,2),[[ut,o.dragState.showDropIndicator]])],2)}var ua=Qe(sa,[["render",ia],["__file","tree.vue"]]);const da=Kt(ua);var We={exports:{}};/*! algoliasearch.umd.js | 4.25.2 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */var la=We.exports,St;function ca(){return St||(St=1,function(o,s){(function(i,l){o.exports=l()})(la,function(){function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,a)}return r}function t(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?l(Object(r),!0).forEach(function(a){i(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function d(e,n){if(e==null)return{};var r,a,u=function(g,y){if(g==null)return{};var h,p,v={},D=Object.keys(g);for(p=0;p<D.length;p++)h=D[p],y.indexOf(h)>=0||(v[h]=g[h]);return v}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}function m(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,a){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var u=[],c=!0,g=!1,y=void 0;try{for(var h,p=r[Symbol.iterator]();!(c=(h=p.next()).done)&&(u.push(h.value),!a||u.length!==a);c=!0);}catch(v){g=!0,y=v}finally{try{c||p.return==null||p.return()}finally{if(g)throw y}}return u}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(e){return function(n){if(Array.isArray(n)){for(var r=0,a=new Array(n.length);r<n.length;r++)a[r]=n[r];return a}}(e)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(e){var n,r="algoliasearch-client-js-".concat(e.key),a=function(){return n===void 0&&(n=e.localStorage||window.localStorage),n},u=function(){return JSON.parse(a().getItem(r)||"{}")},c=function(y){a().setItem(r,JSON.stringify(y))},g=function(){var y=e.timeToLive?1e3*e.timeToLive:null,h=u(),p=Object.fromEntries(Object.entries(h).filter(function(D){return m(D,2)[1].timestamp!==void 0}));if(c(p),y){var v=Object.fromEntries(Object.entries(p).filter(function(D){var P=m(D,2)[1],_=new Date().getTime();return!(P.timestamp+y<_)}));c(v)}};return{get:function(y,h){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){g();var v=JSON.stringify(y);return u()[v]}).then(function(v){return Promise.all([v?v.value:h(),v!==void 0])}).then(function(v){var D=m(v,2),P=D[0],_=D[1];return Promise.all([P,_||p.miss(P)])}).then(function(v){return m(v,1)[0]})},set:function(y,h){return Promise.resolve().then(function(){var p=u();return p[JSON.stringify(y)]={timestamp:new Date().getTime(),value:h},a().setItem(r,JSON.stringify(p)),h})},delete:function(y){return Promise.resolve().then(function(){var h=u();delete h[JSON.stringify(y)],a().setItem(r,JSON.stringify(h))})},clear:function(){return Promise.resolve().then(function(){a().removeItem(r)})}}}function N(e){var n=x(e.caches),r=n.shift();return r===void 0?{get:function(a,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},g=u();return g.then(function(y){return Promise.all([y,c.miss(y)])}).then(function(y){return m(y,1)[0]})},set:function(a,u){return Promise.resolve(u)},delete:function(a){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(a,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(a,u,c).catch(function(){return N({caches:n}).get(a,u,c)})},set:function(a,u){return r.set(a,u).catch(function(){return N({caches:n}).set(a,u)})},delete:function(a){return r.delete(a).catch(function(){return N({caches:n}).delete(a)})},clear:function(){return r.clear().catch(function(){return N({caches:n}).clear()})}}}function b(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},n={};return{get:function(r,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},c=JSON.stringify(r);if(c in n)return Promise.resolve(e.serializable?JSON.parse(n[c]):n[c]);var g=a(),y=u&&u.miss||function(){return Promise.resolve()};return g.then(function(h){return y(h)}).then(function(){return g})},set:function(r,a){return n[JSON.stringify(r)]=e.serializable?JSON.stringify(a):a,Promise.resolve(a)},delete:function(r){return delete n[JSON.stringify(r)],Promise.resolve()},clear:function(){return n={},Promise.resolve()}}}function A(e,n,r){var a={"x-algolia-api-key":r,"x-algolia-application-id":n};return{headers:function(){return e===J.WithinHeaders?a:{}},queryParameters:function(){return e===J.WithinQueryParameters?a:{}}}}function j(e){var n=0;return e(function r(){return n++,new Promise(function(a){setTimeout(function(){a(e(r))},Math.min(100*n,1e3))})})}function k(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,a){return Promise.resolve()};return Object.assign(e,{wait:function(r){return k(e.then(function(a){return Promise.all([n(a,r),a])}).then(function(a){return a[1]}))}})}function $(e){for(var n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=e[n];e[n]=e[r],e[r]=a}return e}function B(e,n){return n&&Object.keys(n).forEach(function(r){e[r]=n[r](e)}),e}function w(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var u=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[u++])})}var J={WithinQueryParameters:0,WithinHeaders:1};function H(e,n){var r=e||{},a=r.data||{};return Object.keys(r).forEach(function(u){["timeout","headers","queryParameters","data","cacheable"].indexOf(u)===-1&&(a[u]=r[u])}),{data:Object.entries(a).length>0?a:void 0,timeout:r.timeout||n,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var X={Read:1,Write:2,Any:3},Q=1,C=2,R=3;function oe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q;return t(t({},e),{},{status:n,lastUpdate:Date.now()})}function ue(e){return typeof e=="string"?{protocol:"https",url:e,accept:X.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||X.Any}}var O="DELETE",I="GET",E="POST",se="PUT";function Te(e,n){return Promise.all(n.map(function(r){return e.get(r,function(){return Promise.resolve(oe(r))})})).then(function(r){var a=r.filter(function(g){return function(y){return y.status===Q||Date.now()-y.lastUpdate>12e4}(g)}),u=r.filter(function(g){return function(y){return y.status===R&&Date.now()-y.lastUpdate<=12e4}(g)}),c=[].concat(x(a),x(u));return{getTimeout:function(g,y){return(u.length===0&&g===0?1:u.length+3+g)*y},statelessHosts:c.length>0?c.map(function(g){return ue(g)}):n}})}function we(e,n,r,a){var u=[],c=function(P,_){if(!(P.method===I||P.data===void 0&&_.data===void 0)){var q=Array.isArray(P.data)?P.data:t(t({},P.data),_.data);return JSON.stringify(q)}}(r,a),g=function(P,_){var q=t(t({},P.headers),_.headers),F={};return Object.keys(q).forEach(function(M){var ne=q[M];F[M.toLowerCase()]=ne}),F}(e,a),y=r.method,h=r.method!==I?{}:t(t({},r.data),a.data),p=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),h),a.queryParameters),v=0,D=function P(_,q){var F=_.pop();if(F===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:L(u)};var M={data:c,headers:g,method:y,url:Se(F,r.path,p),connectTimeout:q(v,e.timeouts.connect),responseTimeout:q(v,a.timeout)},ne=function(ie){var re={request:M,response:ie,host:F,triesLeft:_.length};return u.push(re),re},Ae={onSuccess:function(ie){return function(re){try{return JSON.parse(re.content)}catch(ke){throw function(ge,De){return{name:"DeserializationError",message:ge,response:De}}(ke.message,re)}}(ie)},onRetry:function(ie){var re=ne(ie);return ie.isTimedOut&&v++,Promise.all([e.logger.info("Retryable failure",de(re)),e.hostsCache.set(F,oe(F,ie.isTimedOut?R:C))]).then(function(){return P(_,q)})},onFail:function(ie){throw ne(ie),function(re,ke){var ge=re.content,De=re.status,_e=ge;try{_e=JSON.parse(ge).message}catch{}return function(ze,nt,dr){return{name:"ApiError",message:ze,status:nt,transporterStackTrace:dr}}(_e,De,ke)}(ie,L(u))}};return e.requester.send(M).then(function(ie){return function(re,ke){return function(ge){var De=ge.status;return ge.isTimedOut||function(_e){var ze=_e.isTimedOut,nt=_e.status;return!ze&&~~nt==0}(ge)||~~(De/100)!=2&&~~(De/100)!=4}(re)?ke.onRetry(re):~~(re.status/100)==2?ke.onSuccess(re):ke.onFail(re)}(ie,Ae)})};return Te(e.hostsCache,n).then(function(P){return D(x(P.statelessHosts).reverse(),P.getTimeout)})}function le(e){var n=e.hostsCache,r=e.logger,a=e.requester,u=e.requestsCache,c=e.responsesCache,g=e.timeouts,y=e.userAgent,h=e.hosts,p=e.queryParameters,v={hostsCache:n,logger:r,requester:a,requestsCache:u,responsesCache:c,timeouts:g,userAgent:y,headers:e.headers,queryParameters:p,hosts:h.map(function(D){return ue(D)}),read:function(D,P){var _=H(P,v.timeouts.read),q=function(){return we(v,v.hosts.filter(function(M){return(M.accept&X.Read)!=0}),D,_)};if((_.cacheable!==void 0?_.cacheable:D.cacheable)!==!0)return q();var F={request:D,mappedRequestOptions:_,transporter:{queryParameters:v.queryParameters,headers:v.headers}};return v.responsesCache.get(F,function(){return v.requestsCache.get(F,function(){return v.requestsCache.set(F,q()).then(function(M){return Promise.all([v.requestsCache.delete(F),M])},function(M){return Promise.all([v.requestsCache.delete(F),Promise.reject(M)])}).then(function(M){var ne=m(M,2);return ne[0],ne[1]})})},{miss:function(M){return v.responsesCache.set(F,M)}})},write:function(D,P){return we(v,v.hosts.filter(function(_){return(_.accept&X.Write)!=0}),D,H(P,v.timeouts.write))}};return v}function je(e){var n={value:"Algolia for JavaScript (".concat(e,")"),add:function(r){var a="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return n.value.indexOf(a)===-1&&(n.value="".concat(n.value).concat(a)),n}};return n}function Se(e,n,r){var a=f(r),u="".concat(e.protocol,"://").concat(e.url,"/").concat(n.charAt(0)==="/"?n.substr(1):n);return a.length&&(u+="?".concat(a)),u}function f(e){return Object.keys(e).map(function(n){return w("%s=%s",n,(r=e[n],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(e[n]):e[n]));var r}).join("&")}function L(e){return e.map(function(n){return de(n)})}function de(e){var n=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),n)})})}var be=function(e){return function(n,r){return e.transporter.write({method:E,path:"2/abtests",data:n},r)}},Ut=function(e){return function(n,r){return e.transporter.write({method:O,path:w("2/abtests/%s",n)},r)}},zt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("2/abtests/%s",n)},r)}},Ht=function(e){return function(n){return e.transporter.read({method:I,path:"2/abtests"},n)}},Mt=function(e){return function(n,r){return e.transporter.write({method:E,path:w("2/abtests/%s/stop",n)},r)}},Jt=function(e){return function(n){return e.transporter.read({method:I,path:"1/strategies/personalization"},n)}},Wt=function(e){return function(n,r){return e.transporter.write({method:E,path:"1/strategies/personalization",data:n},r)}};function Ve(e){return function n(r){return e.request(r).then(function(a){if(e.batch!==void 0&&e.batch(a.hits),!e.shouldStop(a))return a.cursor?n({cursor:a.cursor}):n({page:(r.page||0)+1})})}({})}var Gt=function(e){return function(n,r){var a=r||{},u=a.queryParameters,c=d(a,["queryParameters"]),g=t({acl:n},u!==void 0?{queryParameters:u}:{});return k(e.transporter.write({method:E,path:"1/keys",data:g},c),function(y,h){return j(function(p){return qe(e)(y.key,h).catch(function(v){if(v.status!==404)throw v;return p()})})})}},Qt=function(e){return function(n,r,a){var u=H(a);return u.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:E,path:"1/clusters/mapping",data:{cluster:r}},u)}},Vt=function(e){return function(n,r,a){return e.transporter.write({method:E,path:"1/clusters/mapping/batch",data:{users:n,cluster:r}},a)}},Yt=function(e){return function(n,r){return k(e.transporter.write({method:E,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),function(a,u){return xe(e)(a.taskID,u)})}},Fe=function(e){return function(n,r,a){return k(e.transporter.write({method:E,path:w("1/indexes/%s/operation",n),data:{operation:"copy",destination:r}},a),function(u,c){return Ke(e)(n,{methods:{waitTask:Z}}).waitTask(u.taskID,c)})}},Xt=function(e){return function(n,r,a){return Fe(e)(n,r,t(t({},a),{},{scope:[tt.Rules]}))}},Zt=function(e){return function(n,r,a){return Fe(e)(n,r,t(t({},a),{},{scope:[tt.Settings]}))}},en=function(e){return function(n,r,a){return Fe(e)(n,r,t(t({},a),{},{scope:[tt.Synonyms]}))}},tn=function(e){return function(n,r){return n.method===I?e.transporter.read(n,r):e.transporter.write(n,r)}},nn=function(e){return function(n,r){return k(e.transporter.write({method:O,path:w("1/keys/%s",n)},r),function(a,u){return j(function(c){return qe(e)(n,u).then(c).catch(function(g){if(g.status!==404)throw g})})})}},rn=function(e){return function(n,r,a){var u=r.map(function(c){return{action:"deleteEntry",body:{objectID:c}}});return k(e.transporter.write({method:E,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(c,g){return xe(e)(c.taskID,g)})}},qe=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/keys/%s",n)},r)}},pt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/task/%s",n.toString())},r)}},an=function(e){return function(n){return e.transporter.read({method:I,path:"/1/dictionaries/*/settings"},n)}},on=function(e){return function(n){return e.transporter.read({method:I,path:"1/logs"},n)}},sn=function(e){return function(n){return e.transporter.read({method:I,path:"1/clusters/mapping/top"},n)}},un=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/clusters/mapping/%s",n)},r)}},dn=function(e){return function(n){var r=n||{},a=r.retrieveMappings,u=d(r,["retrieveMappings"]);return a===!0&&(u.getClusters=!0),e.transporter.read({method:I,path:"1/clusters/mapping/pending"},u)}},Ke=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={transporter:e.transporter,appId:e.appId,indexName:n};return B(a,r.methods)}},ln=function(e){return function(n){return e.transporter.read({method:I,path:"1/keys"},n)}},cn=function(e){return function(n){return e.transporter.read({method:I,path:"1/clusters"},n)}},fn=function(e){return function(n){return e.transporter.read({method:I,path:"1/indexes"},n)}},hn=function(e){return function(n){return e.transporter.read({method:I,path:"1/clusters/mapping"},n)}},pn=function(e){return function(n,r,a){return k(e.transporter.write({method:E,path:w("1/indexes/%s/operation",n),data:{operation:"move",destination:r}},a),function(u,c){return Ke(e)(n,{methods:{waitTask:Z}}).waitTask(u.taskID,c)})}},mn=function(e){return function(n,r){return k(e.transporter.write({method:E,path:"1/indexes/*/batch",data:{requests:n}},r),function(a,u){return Promise.all(Object.keys(a.taskID).map(function(c){return Ke(e)(c,{methods:{waitTask:Z}}).waitTask(a.taskID[c],u)}))})}},gn=function(e){return function(n,r){return e.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:n}},r)}},mt=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{params:f(u.params||{})})});return e.transporter.read({method:E,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},r)}},gt=function(e){return function(n,r){return Promise.all(n.map(function(a){var u=a.params,c=u.facetName,g=u.facetQuery,y=d(u,["facetName","facetQuery"]);return Ke(e)(a.indexName,{methods:{searchForFacetValues:Ct}}).searchForFacetValues(c,g,t(t({},r),y))}))}},yn=function(e){return function(n,r){var a=H(r);return a.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:O,path:"1/clusters/mapping"},a)}},vn=function(e){return function(n,r,a){var u=r.map(function(c){return{action:"addEntry",body:c}});return k(e.transporter.write({method:E,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:u}},a),function(c,g){return xe(e)(c.taskID,g)})}},bn=function(e){return function(n,r){return k(e.transporter.write({method:E,path:w("1/keys/%s/restore",n)},r),function(a,u){return j(function(c){return qe(e)(n,u).catch(function(g){if(g.status!==404)throw g;return c()})})})}},kn=function(e){return function(n,r,a){var u=r.map(function(c){return{action:"addEntry",body:c}});return k(e.transporter.write({method:E,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(c,g){return xe(e)(c.taskID,g)})}},Nn=function(e){return function(n,r,a){return e.transporter.read({method:E,path:w("/1/dictionaries/%s/search",n),data:{query:r},cacheable:!0},a)}},Cn=function(e){return function(n,r){return e.transporter.read({method:E,path:"1/clusters/mapping/search",data:{query:n}},r)}},wn=function(e){return function(n,r){return k(e.transporter.write({method:se,path:"/1/dictionaries/*/settings",data:n},r),function(a,u){return xe(e)(a.taskID,u)})}},xn=function(e){return function(n,r){var a=Object.assign({},r),u=r||{},c=u.queryParameters,g=d(u,["queryParameters"]),y=c?{queryParameters:c}:{},h=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return k(e.transporter.write({method:se,path:w("1/keys/%s",n),data:y},g),function(p,v){return j(function(D){return qe(e)(n,v).then(function(P){return function(_){return Object.keys(a).filter(function(q){return h.indexOf(q)!==-1}).every(function(q){if(Array.isArray(_[q])&&Array.isArray(a[q])){var F=_[q];return F.length===a[q].length&&F.every(function(M,ne){return M===a[q][ne]})}return _[q]===a[q]})}(P)?Promise.resolve():D()})})})}},xe=function(e){return function(n,r){return j(function(a){return pt(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},yt=function(e){return function(n,r){return k(e.transporter.write({method:E,path:w("1/indexes/%s/batch",e.indexName),data:{requests:n}},r),function(a,u){return Z(e)(a.taskID,u)})}},Dn=function(e){return function(n){return Ve(t(t({shouldStop:function(r){return r.cursor===void 0}},n),{},{request:function(r){return e.transporter.read({method:E,path:w("1/indexes/%s/browse",e.indexName),data:r},n)}}))}},En=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Ve(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return wt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(c){return delete c._highlightResult,c})})})}}))}},In=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Ve(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return xt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(c){return delete c._highlightResult,c})})})}}))}},Ye=function(e){return function(n,r,a){var u=a||{},c=u.batchSize,g=d(u,["batchSize"]),y={taskIDs:[],objectIDs:[]};return k(function h(){var p,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=[];for(p=v;p<n.length&&(D.push(n[p]),D.length!==(c||1e3));p++);return D.length===0?Promise.resolve(y):yt(e)(D.map(function(P){return{action:r,body:P}}),g).then(function(P){return y.objectIDs=y.objectIDs.concat(P.objectIDs),y.taskIDs.push(P.taskID),p++,h(p)})}(),function(h,p){return Promise.all(h.taskIDs.map(function(v){return Z(e)(v,p)}))})}},On=function(e){return function(n){return k(e.transporter.write({method:E,path:w("1/indexes/%s/clear",e.indexName)},n),function(r,a){return Z(e)(r.taskID,a)})}},Pn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=H(d(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:E,path:w("1/indexes/%s/rules/clear",e.indexName)},u),function(c,g){return Z(e)(c.taskID,g)})}},Tn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=H(d(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:E,path:w("1/indexes/%s/synonyms/clear",e.indexName)},u),function(c,g){return Z(e)(c.taskID,g)})}},jn=function(e){return function(n,r){return k(e.transporter.write({method:E,path:w("1/indexes/%s/deleteByQuery",e.indexName),data:n},r),function(a,u){return Z(e)(a.taskID,u)})}},Sn=function(e){return function(n){return k(e.transporter.write({method:O,path:w("1/indexes/%s",e.indexName)},n),function(r,a){return Z(e)(r.taskID,a)})}},qn=function(e){return function(n,r){return k(vt(e)([n],r).then(function(a){return{taskID:a.taskIDs[0]}}),function(a,u){return Z(e)(a.taskID,u)})}},vt=function(e){return function(n,r){var a=n.map(function(u){return{objectID:u}});return Ye(e)(a,ce.DeleteObject,r)}},Kn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=H(d(a,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:O,path:w("1/indexes/%s/rules/%s",e.indexName,n)},c),function(g,y){return Z(e)(g.taskID,y)})}},An=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=H(d(a,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:O,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},c),function(g,y){return Z(e)(g.taskID,y)})}},_n=function(e){return function(n){return bt(e)(n).then(function(){return!0}).catch(function(r){if(r.status!==404)throw r;return!1})}},Rn=function(e){return function(n,r,a){return e.transporter.read({method:E,path:w("1/answers/%s/prediction",e.indexName),data:{query:n,queryLanguages:r},cacheable:!0},a)}},Bn=function(e){return function(n,r){var a=r||{},u=a.query,c=a.paginate,g=d(a,["query","paginate"]),y=0;return function h(){return Nt(e)(u||"",t(t({},g),{},{page:y})).then(function(p){for(var v=0,D=Object.entries(p.hits);v<D.length;v++){var P=m(D[v],2),_=P[0],q=P[1];if(n(q))return{object:q,position:parseInt(_,10),page:y}}if(y++,c===!1||y>=p.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return h()})}()}},$n=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/%s",e.indexName,n)},r)}},Ln=function(){return function(e,n){for(var r=0,a=Object.entries(e.hits);r<a.length;r++){var u=m(a[r],2),c=u[0];if(u[1].objectID===n)return parseInt(c,10)}return-1}},Fn=function(e){return function(n,r){var a=r||{},u=a.attributesToRetrieve,c=d(a,["attributesToRetrieve"]),g=n.map(function(y){return t({indexName:e.indexName,objectID:y},u?{attributesToRetrieve:u}:{})});return e.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:g}},c)}},Un=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/rules/%s",e.indexName,n)},r)}},bt=function(e){return function(n){return e.transporter.read({method:I,path:w("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},n)}},zn=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},r)}},Hn=function(e){return function(n,r){return k(kt(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Z(e)(a.taskID,u)})}},kt=function(e){return function(n,r){var a=r||{},u=a.createIfNotExists,c=d(a,["createIfNotExists"]),g=u?ce.PartialUpdateObject:ce.PartialUpdateObjectNoCreate;return Ye(e)(n,g,c)}},Mn=function(e){return function(n,r){var a=r||{},u=a.safe,c=a.autoGenerateObjectIDIfNotExist,g=a.batchSize,y=d(a,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),h=function(q,F,M,ne){return k(e.transporter.write({method:E,path:w("1/indexes/%s/operation",q),data:{operation:M,destination:F}},ne),function(Ae,ie){return Z(e)(Ae.taskID,ie)})},p=Math.random().toString(36).substring(7),v="".concat(e.indexName,"_tmp_").concat(p),D=Xe({appId:e.appId,transporter:e.transporter,indexName:v}),P=[],_=h(e.indexName,v,"copy",t(t({},y),{},{scope:["settings","synonyms","rules"]}));return P.push(_),k((u?_.wait(y):_).then(function(){var q=D(n,t(t({},y),{},{autoGenerateObjectIDIfNotExist:c,batchSize:g}));return P.push(q),u?q.wait(y):q}).then(function(){var q=h(v,e.indexName,"move",y);return P.push(q),u?q.wait(y):q}).then(function(){return Promise.all(P)}).then(function(q){var F=m(q,3),M=F[0],ne=F[1],Ae=F[2];return{objectIDs:ne.objectIDs,taskIDs:[M.taskID].concat(x(ne.taskIDs),[Ae.taskID])}}),function(q,F){return Promise.all(P.map(function(M){return M.wait(F)}))})}},Jn=function(e){return function(n,r){return Ze(e)(n,t(t({},r),{},{clearExistingRules:!0}))}},Wn=function(e){return function(n,r){return et(e)(n,t(t({},r),{},{clearExistingSynonyms:!0}))}},Gn=function(e){return function(n,r){return k(Xe(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Z(e)(a.taskID,u)})}},Xe=function(e){return function(n,r){var a=r||{},u=a.autoGenerateObjectIDIfNotExist,c=d(a,["autoGenerateObjectIDIfNotExist"]),g=u?ce.AddObject:ce.UpdateObject;if(g===ce.UpdateObject){var y=!0,h=!1,p=void 0;try{for(var v,D=n[Symbol.iterator]();!(y=(v=D.next()).done);y=!0)if(v.value.objectID===void 0)return k(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(P){h=!0,p=P}finally{try{y||D.return==null||D.return()}finally{if(h)throw p}}}return Ye(e)(n,g,c)}},Qn=function(e){return function(n,r){return Ze(e)([n],r)}},Ze=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=a.clearExistingRules,g=H(d(a,["forwardToReplicas","clearExistingRules"]));return u&&(g.queryParameters.forwardToReplicas=1),c&&(g.queryParameters.clearExistingRules=1),k(e.transporter.write({method:E,path:w("1/indexes/%s/rules/batch",e.indexName),data:n},g),function(y,h){return Z(e)(y.taskID,h)})}},Vn=function(e){return function(n,r){return et(e)([n],r)}},et=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=a.clearExistingSynonyms,g=a.replaceExistingSynonyms,y=H(d(a,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return u&&(y.queryParameters.forwardToReplicas=1),(g||c)&&(y.queryParameters.replaceExistingSynonyms=1),k(e.transporter.write({method:E,path:w("1/indexes/%s/synonyms/batch",e.indexName),data:n},y),function(h,p){return Z(e)(h.taskID,p)})}},Nt=function(e){return function(n,r){return e.transporter.read({method:E,path:w("1/indexes/%s/query",e.indexName),data:{query:n},cacheable:!0},r)}},Ct=function(e){return function(n,r,a){return e.transporter.read({method:E,path:w("1/indexes/%s/facets/%s/query",e.indexName,n),data:{facetQuery:r},cacheable:!0},a)}},wt=function(e){return function(n,r){return e.transporter.read({method:E,path:w("1/indexes/%s/rules/search",e.indexName),data:{query:n}},r)}},xt=function(e){return function(n,r){return e.transporter.read({method:E,path:w("1/indexes/%s/synonyms/search",e.indexName),data:{query:n}},r)}},Yn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=H(d(a,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:se,path:w("1/indexes/%s/settings",e.indexName),data:n},c),function(g,y){return Z(e)(g.taskID,y)})}},Z=function(e){return function(n,r){return j(function(a){return function(u){return function(c,g){return u.transporter.read({method:I,path:w("1/indexes/%s/task/%s",u.indexName,c.toString())},g)}}(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},ce={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject"},tt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Xn=1,Zn=2,er=3,Ue=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{threshold:u.threshold||0})});return e.transporter.read({method:E,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},tr=function(e){return function(n,r){return Ue(e)(n.map(function(a){return t(t({},a),{},{fallbackParameters:{},model:"bought-together"})}),r)}},nr=function(e){return function(n,r){return Ue(e)(n.map(function(a){return t(t({},a),{},{model:"related-products"})}),r)}},rr=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-facets",threshold:u.threshold||0})});return e.transporter.read({method:E,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},ar=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-items",threshold:u.threshold||0})});return e.transporter.read({method:E,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},or=function(e){return function(n,r){return Ue(e)(n.map(function(a){return t(t({},a),{},{model:"looking-similar"})}),r)}},sr=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"recommended-for-you",threshold:u.threshold||0})});return e.transporter.read({method:E,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}};function ir(e,n){return function(r,a){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=a||{},c=u.autoGenerateObjectIDIfNotExist,g=u.watch,y=d(u,["autoGenerateObjectIDIfNotExist","watch"]),h=c?ce.AddObject:ce.UpdateObject;return n.push({indexName:e,pushTaskPayload:{action:h,records:r},watch:g},y)}}function ur(e,n){return function(r,a){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=a||{},c=u.createIfNotExists,g=u.watch,y=d(u,["createIfNotExists","watch"]),h=c?ce.PartialUpdateObject:ce.PartialUpdateObjectNoCreate;return n.push({indexName:e,pushTaskPayload:{action:h,records:r},watch:g},y)}}function he(e){return{name:"TransformationConfigurationError",message:e}}function Dt(e,n,r){var a,u,c={appId:e,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(h){return new Promise(function(p){var v=new XMLHttpRequest;v.open(h.method,h.url,!0),Object.keys(h.headers).forEach(function(q){return v.setRequestHeader(q,h.headers[q])});var D,P=function(q,F){return setTimeout(function(){v.abort(),p({status:0,content:F,isTimedOut:!0})},1e3*q)},_=P(h.connectTimeout,"Connection timeout");v.onreadystatechange=function(){v.readyState>v.OPENED&&D===void 0&&(clearTimeout(_),D=P(h.responseTimeout,"Socket timeout"))},v.onerror=function(){v.status===0&&(clearTimeout(_),clearTimeout(D),p({content:v.responseText||"Network request failed",status:v.status,isTimedOut:!1}))},v.onload=function(){clearTimeout(_),clearTimeout(D),p({content:v.responseText,status:v.status,isTimedOut:!1})},v.send(h.data)})}},logger:(a=er,{debug:function(h,p){return Xn>=a&&console.debug(h,p),Promise.resolve()},info:function(h,p){return Zn>=a&&console.info(h,p),Promise.resolve()},error:function(h,p){return console.error(h,p),Promise.resolve()}}),responsesCache:b(),requestsCache:b({serializable:!1}),hostsCache:N({caches:[T({key:"".concat("4.25.2","-").concat(e)}),b()]}),userAgent:je("4.25.2").add({segment:"Browser"})},g=t(t({},c),r),y=function(){return function(h){return function(p){var v=p.region||"us",D=A(J.WithinHeaders,p.appId,p.apiKey),P=le(t(t({hosts:[{url:"personalization.".concat(v,".algolia.com")}]},p),{},{headers:t(t(t({},D.headers()),{"content-type":"application/json"}),p.headers),queryParameters:t(t({},D.queryParameters()),p.queryParameters)}));return B({appId:p.appId,transporter:P},p.methods)}(t(t(t({},c),h),{},{methods:{getPersonalizationStrategy:Jt,setPersonalizationStrategy:Wt}}))}};if(r&&r.transformation){if(!r.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");u=function(h){if(!h||!h.transformation||!h.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");if(h.transformation.region!=="eu"&&h.transformation.region!=="us")throw he("`region` is required and must be one of the following: eu, us");var p=h.appId,v=A(J.WithinHeaders,p,h.apiKey),D=le(t(t({hosts:[{url:"data.".concat(h.transformation.region,".algolia.com"),accept:X.ReadWrite,protocol:"https"}]},h),{},{headers:t(t(t({},v.headers()),{"content-type":"text/plain"}),h.headers),queryParameters:t(t({},v.queryParameters()),h.queryParameters)}));return{transporter:D,appId:p,addAlgoliaAgent:function(P,_){D.userAgent.add({segment:P,version:_}),D.userAgent.add({segment:"Ingestion",version:_}),D.userAgent.add({segment:"Ingestion via Algoliasearch"})},clearCache:function(){return Promise.all([D.requestsCache.clear(),D.responsesCache.clear()]).then(function(){})},push:function(P,_){var q=P.indexName,F=P.pushTaskPayload,M=P.watch;if(!q)throw he("Parameter `indexName` is required when calling `push`.");if(!F)throw he("Parameter `pushTaskPayload` is required when calling `push`.");if(!F.action)throw he("Parameter `pushTaskPayload.action` is required when calling `push`.");if(!F.records)throw he("Parameter `pushTaskPayload.records` is required when calling `push`.");var ne=_||{queryParameters:{}};return D.write({method:E,path:w("1/push/%s",q),data:F},t(t({},ne),{},{queryParameters:t(t({},ne.queryParameters),{},{watch:M!==void 0})}))}}}(t(t({},r),c))}return function(h){var p=h.appId,v=A(h.authMode!==void 0?h.authMode:J.WithinHeaders,p,h.apiKey),D=le(t(t({hosts:[{url:"".concat(p,"-dsn.algolia.net"),accept:X.Read},{url:"".concat(p,".algolia.net"),accept:X.Write}].concat($([{url:"".concat(p,"-1.algolianet.com")},{url:"".concat(p,"-2.algolianet.com")},{url:"".concat(p,"-3.algolianet.com")}]))},h),{},{headers:t(t(t({},v.headers()),{"content-type":"application/x-www-form-urlencoded"}),h.headers),queryParameters:t(t({},v.queryParameters()),h.queryParameters)}));return B({transporter:D,appId:p,addAlgoliaAgent:function(P,_){D.userAgent.add({segment:P,version:_})},clearCache:function(){return Promise.all([D.requestsCache.clear(),D.responsesCache.clear()]).then(function(){})}},h.methods)}(t(t({},g),{},{methods:{search:mt,searchForFacetValues:gt,multipleBatch:mn,multipleGetObjects:gn,multipleQueries:mt,copyIndex:Fe,copySettings:Zt,copySynonyms:en,copyRules:Xt,moveIndex:pn,listIndices:fn,getLogs:on,listClusters:cn,multipleSearchForFacetValues:gt,getApiKey:qe,addApiKey:Gt,listApiKeys:ln,updateApiKey:xn,deleteApiKey:nn,restoreApiKey:bn,assignUserID:Qt,assignUserIDs:Vt,getUserID:un,searchUserIDs:Cn,listUserIDs:hn,getTopUserIDs:sn,removeUserID:yn,hasPendingMappings:dn,clearDictionaryEntries:Yt,deleteDictionaryEntries:rn,getDictionarySettings:an,getAppTask:pt,replaceDictionaryEntries:vn,saveDictionaryEntries:kn,searchDictionaryEntries:Nn,setDictionarySettings:wn,waitAppTask:xe,customRequest:tn,initIndex:function(h){return function(p){return t(t({},Ke(h)(p,{methods:{batch:yt,delete:Sn,findAnswers:Rn,getObject:$n,getObjects:Fn,saveObject:Gn,saveObjects:Xe,search:Nt,searchForFacetValues:Ct,waitTask:Z,setSettings:Yn,getSettings:bt,partialUpdateObject:Hn,partialUpdateObjects:kt,deleteObject:qn,deleteObjects:vt,deleteBy:jn,clearObjects:On,browseObjects:Dn,getObjectPosition:Ln,findObject:Bn,exists:_n,saveSynonym:Vn,saveSynonyms:et,getSynonym:zn,searchSynonyms:xt,browseSynonyms:In,deleteSynonym:An,clearSynonyms:Tn,replaceAllObjects:Mn,replaceAllSynonyms:Wn,searchRules:wt,getRule:Un,deleteRule:Kn,saveRule:Qn,saveRules:Ze,replaceAllRules:Jn,browseRules:En,clearRules:Pn}})),{},{saveObjectsWithTransformation:ir(p,u),partialUpdateObjectsWithTransformation:ur(p,u)})}},initAnalytics:function(){return function(h){return function(p){var v=p.region||"us",D=A(J.WithinHeaders,p.appId,p.apiKey),P=le(t(t({hosts:[{url:"analytics.".concat(v,".algolia.com")}]},p),{},{headers:t(t(t({},D.headers()),{"content-type":"application/json"}),p.headers),queryParameters:t(t({},D.queryParameters()),p.queryParameters)}));return B({appId:p.appId,transporter:P},p.methods)}(t(t(t({},c),h),{},{methods:{addABTest:be,getABTest:zt,getABTests:Ht,stopABTest:Mt,deleteABTest:Ut}}))}},initPersonalization:y,initRecommendation:function(){return function(h){return g.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),y()(h)}},getRecommendations:Ue,getFrequentlyBoughtTogether:tr,getLookingSimilar:or,getRecommendedForYou:sr,getRelatedProducts:nr,getTrendingFacets:rr,getTrendingItems:ar}}))}return Dt.version="4.25.2",Dt})}(We)),We.exports}var fa=ca();const ha=Pr(fa),pa=ha("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),Ft=pa.initIndex("npm-search"),ma=async(o,s=0,i=10)=>{try{const l=ba(o);if(!l)return{response:null,query:o};const t={page:s,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:l.facetFilters?l.facetFilters:void 0},d=await Ft.search(l.query,t);return d.hits.sort((m,x)=>m.name===l.query?-1:x.name===l.query?1:0),{response:d,query:o}}catch{return{response:null,query:o}}};async function ga(o){return Ft.getObject(o)}const ya=/\s*[a-z]+\s*:\s*(?:.(?![a-z]*\s*:))*/gi,va=/^((?:[^\s:]+(?!\s*:)\s*)*)/,qt={author:"owner.name",type:"moduleTypes"};function ba(o){const s=o.match(va)?.[0].trim();if(s==null)return;const i=o,l=[];let t;for(;(t=ya.exec(i))!==null;){const d=t[0].split(":");qt[d[0].trim()]&&l.push(`${qt[d[0].trim()]}:${d[1].trim()}`)}return{query:s,facetFilters:l.join(",")}}const ka={key:0},Na={class:"result-list"},Ca={class:"pkgName"},wa={class:"meta"},xa=["onClick"],Da=["src","alt"],Ea=["title"],Ia={key:0,class:"description"},Oa={key:1,flex:"","gap-2":""},Pa={key:0},Ta={key:1},ja={key:2},Sa={key:3},qa={key:4},Ka={key:5},Aa={key:7},_a={key:8},Ra={key:9},Ba={key:0,flex:"","items-center":""},$a={key:1,flex:"","items-center":""},La=10,Fa=Oe({__name:"cdnQuery",setup(o){let s=null;const i=V(!1),l=V(""),t=V(""),d=V(0),m=V([]),x=V(0),T=V(""),N=V(),b=V(""),A=V([]),j=V(),k=V([]),$=Rt(()=>k.value&&k.value.length?X(k.value):[]);async function B(Q=0){if(!l.value){i.value=!1,N.value=null,b.value="",A.value=[],m.value=[],d.value=0,x.value=0,t.value="";return}s&&clearTimeout(s),s=window.setTimeout(async()=>{i.value=!0;const{response:C,query:R}=await ma(l.value,Q,La);if(R===l.value){if(C){const{hits:oe,page:ue,nbHits:O}=C;m.value=oe,x.value=O,d.value=ue,t.value="done"}else Sr.warning("搜索失败");i.value=!1}},200)}function w(Q){l.value=`author:${Q}`,B(0)}async function J(Q){T.value=Q,N.value=null,b.value="",A.value=[],j.value=null,k.value=[];try{N.value=await ga(Q),b.value=N.value.version??"",await H()}catch(C){console.error(C.message)}}async function H(){try{A.value=[],j.value=null,k.value=[],A.value=(await Pt.get(`https://data.jsdelivr.com/v1/package/npm/${N.value?.name??""}`)).data.versions.map(R=>({label:R,value:R}));const{default:Q,files:C}=(await Pt.get(`https://data.jsdelivr.com/v1/package/npm/${N.value?.name??""}@${b.value}`)).data;j.value=Q,k.value=C}catch(Q){console.error(Q.message)}}function X(Q,C){return Q.map(R=>{const oe=C?`${C}/${R.name}`:`/${R.name}`;return{label:R.name,icon:R.type==="directory"?"Folder":"",isLeaf:R.type!=="directory",fileName:oe,children:R.type==="directory"&&R.files?X(R.files,oe):void 0}})}return(Q,C)=>{const R=Fr,oe=Ur,ue=zr,O=Tr,I=Lr,E=Jr,se=$r,Te=Br,we=Rr,le=Mr,je=Hr,Se=da;return K(),z(pe,null,[Y(oe,null,{default:W(()=>[U("blockquote",null,[U("ul",null,[U("li",null,[C[6]||(C[6]=ee(" 数据来自: ",-1)),Y(R,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:W(()=>C[5]||(C[5]=[ee(" JSDelivr ",-1)])),_:1,__:[5]})]),U("li",null,[C[8]||(C[8]=ee(" 搜索接口来自: ",-1)),Y(R,{href:"https://www.algolia.com/",target:"_blank"},{default:W(()=>C[7]||(C[7]=[ee(" Algolia ",-1)])),_:1,__:[7]})])])])]),_:1}),Y(ue,{level:3},{default:W(()=>C[9]||(C[9]=[ee(" 请输入要获取CDN的库名 ",-1)])),_:1,__:[9]}),Y(O,{modelValue:S(l),"onUpdate:modelValue":C[0]||(C[0]=f=>Ot(l)?l.value=f:null),placeholder:"jquery",clearable:"",onChange:C[1]||(C[1]=f=>B(0))},null,8,["modelValue"]),(K(),ae(jr,null,[S(t)==="done"?(K(),z(pe,{key:0},[Y(I),S(T)?(K(),z(pe,{key:1},[Y(R,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:C[3]||(C[3]=f=>T.value=null)},{default:W(()=>C[12]||(C[12]=[U("span",{class:"i-icon-park-outline-return"},null,-1),ee(" 返回 ",-1)])),_:1,__:[12]}),S(N)?(K(),ae(je,{key:0,class:"metaDetail"},{default:W(()=>[U("ul",null,[S(N).name?(K(),z("li",Pa,[C[13]||(C[13]=U("b",null,"名称: ",-1)),ee(te(S(N).name),1)])):G("",!0),S(N).homepage?(K(),z("li",Ta,[C[14]||(C[14]=U("b",null,"主页: ",-1)),Y(R,{href:S(N).homepage,target:"_blank"},{default:W(()=>[ee(te(S(N).homepage),1)]),_:1},8,["href"])])):G("",!0),S(N).description?(K(),z("li",ja,[C[15]||(C[15]=U("b",null,"简介: ",-1)),ee(te(S(N).description),1)])):G("",!0),S(N).repository?(K(),z("li",Sa,[C[16]||(C[16]=U("b",null,"仓库: ",-1)),ee(te(S(N).repository.type)+" / ",1),Y(R,{href:S(N).repository.url,target:"_blank"},{default:W(()=>[ee(te(S(N).repository.url),1)]),_:1},8,["href"])])):G("",!0),S(N).license?(K(),z("li",qa,[C[17]||(C[17]=U("b",null,"协议: ",-1)),ee(te(S(N).license),1)])):G("",!0),S(N).owner?(K(),z("li",Ka,[C[18]||(C[18]=U("b",null,"作者: ",-1)),ee(te(S(N).owner.name)+" / ",1),Y(R,{href:S(N).owner.link,target:"_blank"},{default:W(()=>[ee(te(S(N).owner.link),1)]),_:1},8,["href"])])):G("",!0),S(A).length?(K(),ae(I,{key:6})):G("",!0),S(A).length?(K(),z("li",Aa,[C[19]||(C[19]=U("b",null,"版本: ",-1)),Y(we,{modelValue:S(b),"onUpdate:modelValue":C[4]||(C[4]=f=>Ot(b)?b.value=f:null),options:S(A),onChange:H},{default:W(()=>[(K(!0),z(pe,null,$e(S(A),f=>(K(),ae(Te,{key:f.value,value:f.value,label:f.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):G("",!0),S(j)?(K(),z("li",_a,[C[20]||(C[20]=U("b",null,"默认文件: ",-1)),Y(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(N).name}@${S(b)}${S(j)}`}},{default:W(()=>[Y(R,{href:`https://cdn.jsdelivr.net/npm/${S(N).name}@${S(b)}${S(j)}`,target:"_blank"},{default:W(()=>[ee(te(S(j)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):G("",!0),S(k)&&S(k).length?(K(),z("li",Ra,C[21]||(C[21]=[U("b",null,"文件列表",-1),U("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)]))):G("",!0)])]),_:1})):G("",!0),S(N)&&S(k)&&S(k).length?(K(),ae(Se,{key:1,data:S($),selectable:!1},{default:W(({data:f})=>[f.isLeaf?(K(),z("div",Ba,[C[22]||(C[22]=U("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),Y(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(N).name}@${S(b)}${f.fileName}`}},{default:W(()=>[ee(te(f.label),1)]),_:2},1032,["copyable"])])):(K(),z("div",$a,[C[23]||(C[23]=U("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),Y(le,null,{default:W(()=>[ee(te(f.label),1)]),_:2},1024)]))]),_:1},8,["data"])):G("",!0)],64)):(K(),z(pe,{key:0},[Y(ue,{level:4},{default:W(()=>[U("span",null,"共找到 "+te(S(x))+" 个库",1),S(x)>1e3?(K(),z("span",ka,"，最多展示前 1000 个结果")):G("",!0)]),_:1}),U("div",Na,[(K(!0),z(pe,null,$e(S(m),f=>(K(),z("div",{key:f.objectID,class:"result-list-item"},[U("div",Ca,[Y(ue,{level:4,onClick:L=>J(f.objectID)},{default:W(()=>[ee(te(f.name),1)]),_:2},1032,["onClick"])]),U("div",wa,[f.owner?(K(),z("div",{key:0,class:"owner",onClick:L=>w(f.owner.name)},[U("img",{src:f.owner.avatar,alt:f.owner.name},null,8,Da),U("div",null,te(f.owner.name),1)],8,xa)):G("",!0),f.version?(K(),ae(E,{key:1,effect:"plain"},{default:W(()=>[C[10]||(C[10]=U("span",{class:"i-icon-park-outline-tag-one"},null,-1)),U("span",{title:f.version},te(f.version),9,Ea)]),_:2,__:[10]},1024)):G("",!0),f.license?(K(),ae(E,{key:2,effect:"plain"},{default:W(()=>[C[11]||(C[11]=U("span",{class:"i-icon-park-outline-balance-two"},null,-1)),ee(te(f.license),1)]),_:2,__:[11]},1024)):G("",!0)]),f.description?(K(),z("div",Ia,te(f.description),1)):G("",!0),f.keywords&&f.keywords.length?(K(),z("div",Oa,[(K(!0),z(pe,null,$e(f.keywords,(L,de)=>(K(),ae(E,{key:de,effect:"plain"},{default:W(()=>[ee(te(L),1)]),_:2},1024))),128))])):G("",!0)]))),128))]),Y(se,{layout:"prev,jumper,next",total:S(x)>1e3?1e3:S(x),"hide-on-single-page":!0,onCurrentChange:C[2]||(C[2]=f=>B(f-1))},null,8,["total"])],64))],64)):G("",!0)],1024))],64)}}}),ao=qr(Fa,[["__scopeId","data-v-ead9b880"]]);export{ao as default};
