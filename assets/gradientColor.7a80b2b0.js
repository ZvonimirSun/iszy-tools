import{o as u,m as p,bw as _,r as y,q as r,a as h,s as te,v as ne,y as X,x as P,n as T,F as Y,p as q,_ as oe,H as se,K as z,f as D,at as L,bg as K,w as j,a1 as ae,B as re,b as I}from"./index.d7f470ad.js";import{_ as ie}from"./index.69801f43.js";import{t as le,a as R}from"./tinycolor.ff055fe6.js";import{s as $,i as E,c as ce}from"./color.027c81e9.js";import"./DownOutlined.47b2682d.js";import"./isMobile.6491fde5.js";import"./debounce.2f9f27b7.js";const V={};var S={name:"Checkboard",props:{size:{type:[Number,String],default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},computed:{bgStyle(){return{"background-image":`url(${de(this.white,this.grey,this.size)})`}}}};function he(e,t,o){if(typeof document=="undefined")return null;const a=document.createElement("canvas");a.width=a.height=o*2;const i=a.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,a.width,a.height),i.fillStyle=t,i.fillRect(0,0,o,o),i.translate(o,o),i.fillRect(0,0,o,o),a.toDataURL()):null}function de(e,t,o){const a=`${e},${t},${o}`;if(V[a])return V[a];const i=he(e,t,o);return V[a]=i,i}function ue(e,t,o,a,i,n){return u(),p("div",{class:"vc-checkerboard",style:_(n.bgStyle)},null,4)}var pe=".vc-checkerboard{background-size:contain;bottom:0;left:0;position:absolute;right:0;top:0}";$(pe);S.render=ue;S.__file="src/components/checkboard/checkboard.vue";S.install=E;var A={name:"Alpha",props:{value:Object,onChange:Function},components:{checkboard:S},computed:{colors(){return this.value},gradientColor(){const{rgba:e}=this.colors,t=[e.r,e.g,e.b].join(",");return`linear-gradient(to right, rgba(${t}, 0) 0%, rgba(${t}, 1) 100%)`}},methods:{handleChange(e,t){!t&&e.preventDefault();const{container:o}=this.$refs;if(!o)return;const a=o.clientWidth,i=o.getBoundingClientRect().left+window.pageXOffset,s=(e.pageX||(e.touches?e.touches[0].pageX:0))-i;let c;s<0?c=0:s>a?c=1:c=Math.round(s*100/a)/100,this.colors.a!==c&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:c,source:"rgba"})},handleMouseDown(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const ve={class:"vc-alpha"},ge={class:"vc-alpha-checkboard-wrap"},fe=r("div",{class:"vc-alpha-picker"},null,-1),be=[fe];function me(e,t,o,a,i,n){const s=y("checkboard");return u(),p("div",ve,[r("div",ge,[h(s)]),r("div",{class:"vc-alpha-gradient",style:_({background:n.gradientColor})},null,4),r("div",{class:"vc-alpha-container",ref:"container",onMousedown:t[0]||(t[0]=(...c)=>n.handleMouseDown&&n.handleMouseDown(...c)),onTouchmove:t[1]||(t[1]=(...c)=>n.handleChange&&n.handleChange(...c)),onTouchstart:t[2]||(t[2]=(...c)=>n.handleChange&&n.handleChange(...c))},[r("div",{class:"vc-alpha-pointer",style:_({left:n.colors.a*100+"%"})},be,4)],544)])}var _e=".vc-alpha,.vc-alpha-checkboard-wrap{bottom:0;left:0;position:absolute;right:0;top:0}.vc-alpha-checkboard-wrap{overflow:hidden}.vc-alpha-gradient{bottom:0;left:0;position:absolute;right:0;top:0}.vc-alpha-container{cursor:pointer;height:100%;margin:0 3px;position:relative;z-index:2}.vc-alpha-pointer{position:absolute;z-index:2}.vc-alpha-picker{background:#fff;border-radius:1px;box-shadow:0 0 2px rgba(0,0,0,.6);cursor:pointer;height:8px;margin-top:1px;transform:translateX(-2px);width:4px}";$(_e);A.render=me;A.__file="src/components/alpha/alpha.vue";A.install=E;var F={name:"editableInput",props:{label:String,labelText:String,desc:String,value:[String,Number],max:Number,min:Number,arrowOffset:{type:Number,default:1}},computed:{val:{get(){return this.value},set(e){if(this.max!==void 0&&+e>this.max)this.$refs.input.value=this.max;else return e}},labelId(){return`input__label__${this.label}__${Math.random().toString().slice(2,5)}`},labelSpanText(){return this.labelText||this.label}},methods:{update(e){this.handleChange(e.target.value)},handleChange(e){const t={};t[this.label]=e,t.hex===void 0&&t["#"]===void 0?this.$emit("change",t):e.length>5&&this.$emit("change",t)},handleKeyDown(e){let{val:t}=this;const o=Number(t);if(o){const a=this.arrowOffset||1;e.keyCode===38&&(t=o+a,this.handleChange(t),e.preventDefault()),e.keyCode===40&&(t=o-a,this.handleChange(t),e.preventDefault())}}}};const xe={class:"vc-editable-input"},we=["aria-labelledby"],Ce=["for","id"],ke={class:"vc-input__desc"};function ye(e,t,o,a,i,n){return u(),p("div",xe,[te(r("input",{"aria-labelledby":n.labelId,class:"vc-input__input","onUpdate:modelValue":t[0]||(t[0]=s=>n.val=s),onKeydown:t[1]||(t[1]=(...s)=>n.handleKeyDown&&n.handleKeyDown(...s)),onInput:t[2]||(t[2]=(...s)=>n.update&&n.update(...s)),ref:"input"},null,40,we),[[ne,n.val]]),r("span",{for:o.label,class:"vc-input__label",id:n.labelId},X(n.labelSpanText),9,Ce),r("span",ke,X(o.desc),1)])}var $e=".vc-editable-input{position:relative}.vc-input__input{border:0;outline:none;padding:0}.vc-input__label{text-transform:capitalize}";$($e);F.render=ye;F.__file="src/components/editable-input/editable-input.vue";F.install=E;function N(e,t,o){return t<o?e<t?t:e>o?o:e:e<o?o:e>t?t:e}var H={name:"Saturation",props:{value:Object},computed:{colors(){return this.value},bgColor(){return`hsl(${this.colors.hsv.h}, 100%, 50%)`},pointerTop(){return`${-(this.colors.hsv.v*100)+1+100}%`},pointerLeft(){return`${this.colors.hsv.s*100}%`}},methods:{throttle:le((e,t)=>{e(t)},20,{leading:!0,trailing:!1}),handleChange(e,t){!t&&e.preventDefault();const{container:o}=this.$refs;if(!o)return;const a=o.clientWidth,i=o.clientHeight,n=o.getBoundingClientRect().left+window.pageXOffset,s=o.getBoundingClientRect().top+window.pageYOffset,c=e.pageX||(e.touches?e.touches[0].pageX:0),x=e.pageY||(e.touches?e.touches[0].pageY:0),f=N(c-n,0,a),v=N(x-s,0,i),l=f/a,b=N(-(v/i)+1,0,1);this.throttle(this.onChange,{h:this.colors.hsv.h,s:l,v:b,a:this.colors.hsv.a,source:"hsva"})},onChange(e){this.$emit("change",e)},handleMouseDown(e){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const Ee=r("div",{class:"vc-saturation--white"},null,-1),Me=r("div",{class:"vc-saturation--black"},null,-1),De=r("div",{class:"vc-saturation-circle"},null,-1),Le=[De];function Be(e,t,o,a,i,n){return u(),p("div",{class:"vc-saturation",style:_({background:n.bgColor}),ref:"container",onMousedown:t[0]||(t[0]=(...s)=>n.handleMouseDown&&n.handleMouseDown(...s)),onTouchmove:t[1]||(t[1]=(...s)=>n.handleChange&&n.handleChange(...s)),onTouchstart:t[2]||(t[2]=(...s)=>n.handleChange&&n.handleChange(...s))},[Ee,Me,r("div",{class:"vc-saturation-pointer",style:_({top:n.pointerTop,left:n.pointerLeft})},Le,4)],36)}var Se=".vc-saturation,.vc-saturation--black,.vc-saturation--white{bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.vc-saturation--white{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.vc-saturation--black{background:linear-gradient(0deg,#000,transparent)}.vc-saturation-pointer{cursor:pointer;position:absolute}.vc-saturation-circle{border-radius:50%;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);cursor:head;height:4px;transform:translate(-2px,-2px);width:4px}";$(Se);H.render=Be;H.__file="src/components/saturation/saturation.vue";H.install=E;var O={name:"Hue",props:{value:Object,direction:{type:String,default:"horizontal"}},data(){return{oldHue:0,pullDirection:""}},computed:{colors(){const{h:e}=this.value.hsl;return e!==0&&e-this.oldHue>0&&(this.pullDirection="right"),e!==0&&e-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=e,this.value},directionClass(){return{"vc-hue--horizontal":this.direction==="horizontal","vc-hue--vertical":this.direction==="vertical"}},pointerTop(){return this.direction==="vertical"?this.colors.hsl.h===0&&this.pullDirection==="right"?0:`${-(this.colors.hsl.h*100/360)+100}%`:0},pointerLeft(){return this.direction==="vertical"?0:this.colors.hsl.h===0&&this.pullDirection==="right"?"100%":`${this.colors.hsl.h*100/360}%`}},methods:{handleChange(e,t){!t&&e.preventDefault();const{container:o}=this.$refs;if(!o)return;const a=o.clientWidth,i=o.clientHeight,n=o.getBoundingClientRect().left+window.pageXOffset,s=o.getBoundingClientRect().top+window.pageYOffset,c=e.pageX||(e.touches?e.touches[0].pageX:0),x=e.pageY||(e.touches?e.touches[0].pageY:0),f=c-n,v=x-s;let l,b;this.direction==="vertical"?(v<0?l=360:v>i?l=0:(b=-(v*100/i)+100,l=360*b/100),this.colors.hsl.h!==l&&this.$emit("change",{h:l,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(f<0?l=0:f>a?l=360:(b=f*100/a,l=360*b/100),this.colors.hsl.h!==l&&this.$emit("change",{h:l,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))},handleMouseDown(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const Te=["aria-valuenow"],ze=r("div",{class:"vc-hue-picker"},null,-1),Re=[ze];function Xe(e,t,o,a,i,n){return u(),p("div",{class:P(["vc-hue",n.directionClass])},[r("div",{class:"vc-hue-container",role:"slider","aria-valuenow":n.colors.hsl.h,"aria-valuemin":"0","aria-valuemax":"360",ref:"container",onMousedown:t[0]||(t[0]=(...s)=>n.handleMouseDown&&n.handleMouseDown(...s)),onTouchmove:t[1]||(t[1]=(...s)=>n.handleChange&&n.handleChange(...s)),onTouchstart:t[2]||(t[2]=(...s)=>n.handleChange&&n.handleChange(...s))},[r("div",{class:"vc-hue-pointer",style:_({top:n.pointerTop,left:n.pointerLeft}),role:"presentation"},Re,4)],40,Te)],2)}var Ae=".vc-hue{border-radius:2px;bottom:0;left:0;position:absolute;right:0;top:0}.vc-hue--horizontal{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.vc-hue--vertical{background:linear-gradient(0deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.vc-hue-container{cursor:pointer;height:100%;margin:0 2px;position:relative}.vc-hue-pointer{position:absolute;z-index:2}.vc-hue-picker{background:#fff;border-radius:1px;box-shadow:0 0 2px rgba(0,0,0,.6);cursor:pointer;height:8px;margin-top:1px;transform:translateX(-2px);width:4px}";$(Ae);O.render=Xe;O.__file="src/components/hue/hue.vue";O.install=E;const Fe=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","rgba(0,0,0,0)"];var B={name:"Sketch",mixins:[ce],components:{saturation:H,hue:O,alpha:A,"ed-in":F,checkboard:S},props:{presetColors:{type:Array,default(){return Fe}},disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},computed:{hex(){let e;return this.colors.a<1?e=this.colors.hex8:e=this.colors.hex,e.replace("#","")},activeColor(){const{rgba:e}=this.colors;return`rgba(${[e.r,e.g,e.b,e.a].join(",")})`}},methods:{handlePreset(e){this.colorChange(e)},childChange(e){this.colorChange(e)},inputChange(e){!e||(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b||e.a)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}};const He={class:"vc-sketch-saturation-wrap"},Oe={class:"vc-sketch-controls"},Ue={class:"vc-sketch-sliders"},je={class:"vc-sketch-hue-wrap"},Ve={key:0,class:"vc-sketch-alpha-wrap"},Ne={class:"vc-sketch-color-wrap"},Ye=["aria-label"],Ie={key:0,class:"vc-sketch-field"},We={class:"vc-sketch-field--double"},Ge={class:"vc-sketch-field--single"},Ke={class:"vc-sketch-field--single"},Pe={class:"vc-sketch-field--single"},qe={key:0,class:"vc-sketch-field--single"},Je={class:"vc-sketch-presets",role:"group","aria-label":"A color preset, pick one to set as current color"},Qe=["aria-label","onClick"],Ze=["aria-label","onClick"];function et(e,t,o,a,i,n){const s=y("saturation"),c=y("hue"),x=y("alpha"),f=y("checkboard"),v=y("ed-in");return u(),p("div",{role:"application","aria-label":"Sketch color picker",class:P(["vc-sketch",o.disableAlpha?"vc-sketch__disable-alpha":""])},[r("div",He,[h(s,{value:e.colors,onChange:n.childChange},null,8,["value","onChange"])]),r("div",Oe,[r("div",Ue,[r("div",je,[h(c,{value:e.colors,onChange:n.childChange},null,8,["value","onChange"])]),o.disableAlpha?T("v-if",!0):(u(),p("div",Ve,[h(x,{value:e.colors,onChange:n.childChange},null,8,["value","onChange"])]))]),r("div",Ne,[r("div",{"aria-label":`Current color is ${n.activeColor}`,class:"vc-sketch-active-color",style:_({background:n.activeColor})},null,12,Ye),h(f)])]),o.disableFields?T("v-if",!0):(u(),p("div",Ie,[T(" rgba "),r("div",We,[h(v,{label:"hex",value:n.hex,onChange:n.inputChange},null,8,["value","onChange"])]),r("div",Ge,[h(v,{label:"r",value:e.colors.rgba.r,onChange:n.inputChange},null,8,["value","onChange"])]),r("div",Ke,[h(v,{label:"g",value:e.colors.rgba.g,onChange:n.inputChange},null,8,["value","onChange"])]),r("div",Pe,[h(v,{label:"b",value:e.colors.rgba.b,onChange:n.inputChange},null,8,["value","onChange"])]),o.disableAlpha?T("v-if",!0):(u(),p("div",qe,[h(v,{label:"a",value:e.colors.a,"arrow-offset":.01,max:1,onChange:n.inputChange},null,8,["value","arrow-offset","onChange"])]))])),r("div",Je,[(u(!0),p(Y,null,q(o.presetColors,l=>(u(),p(Y,null,[e.isTransparent(l)?(u(),p("div",{key:l,"aria-label":"Color:"+l,class:"vc-sketch-presets-color",onClick:b=>n.handlePreset(l)},[h(f)],8,Ze)):(u(),p("div",{key:`!${l}`,class:"vc-sketch-presets-color","aria-label":"Color:"+l,style:_({background:l}),onClick:b=>n.handlePreset(l)},null,12,Qe))],64))),256))])],2)}var tt=".vc-sketch{background:#fff;border-radius:4px;box-shadow:0 0 0 1px rgba(0,0,0,.15),0 8px 16px rgba(0,0,0,.15);box-sizing:initial;padding:10px 10px 0;position:relative;width:200px}.vc-sketch-saturation-wrap{overflow:hidden;padding-bottom:75%;position:relative;width:100%}.vc-sketch-controls{display:flex}.vc-sketch-sliders{flex:1;padding:4px 0}.vc-sketch-sliders .vc-alpha-gradient,.vc-sketch-sliders .vc-hue{border-radius:2px}.vc-sketch-alpha-wrap,.vc-sketch-hue-wrap{height:10px;position:relative}.vc-sketch-alpha-wrap{margin-top:4px;overflow:hidden}.vc-sketch-color-wrap{border-radius:3px;height:24px;margin-left:4px;margin-top:4px;position:relative;width:24px}.vc-sketch-active-color{border-radius:2px;bottom:0;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15),inset 0 0 4px rgba(0,0,0,.25);left:0;position:absolute;right:0;top:0;z-index:2}.vc-sketch-color-wrap .vc-checkerboard{background-size:auto}.vc-sketch-field{display:flex;padding-top:4px}.vc-sketch-field .vc-input__input{border:none;box-shadow:inset 0 0 0 1px #ccc;font-size:10px;padding:4px 0 3px 10%;width:90%}.vc-sketch-field .vc-input__label{color:#222;display:block;font-size:11px;padding-bottom:4px;padding-top:3px;text-align:center;text-transform:capitalize}.vc-sketch-field--single{flex:1;padding-left:6px}.vc-sketch-field--double{flex:2}.vc-sketch-presets{border-top:1px solid #eee;margin-left:-10px;margin-right:-10px;padding-left:10px;padding-top:10px}.vc-sketch-presets-color{cursor:pointer;display:inline-block;height:16px;margin:0 10px 10px 0;overflow:hidden;position:relative;vertical-align:top;width:16px}.vc-sketch-presets-color,.vc-sketch-presets-color .vc-checkerboard{border-radius:3px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15)}.vc-sketch__disable-alpha .vc-sketch-color-wrap{height:10px}";$(tt);B.render=et;B.__file="src/components/sketch/sketch.vue";B.install=E;const nt={flex:"","flex-col":"","w-fit":"","mx-auto":"","justify-start":"","items-center":"","h-full":"","overflow-auto":"","p-t-1":"",class:"gap-3.2"},ot={flex:"","w-fit":"","flex-wrap":"","max-w-full":"","mx-auto":"","justify-start":"","items-center":"",class:"gap-3.2 selector"},st={flex:"","flex-col":"","items-center":"","mx-auto":""},at=I(" \u6E10\u53D8\u4E2A\u6570 "),rt={flex:"","flex-row":"","w-fit":"","mx-auto":"","justify-start":"","flex-wrap":"","items-stretch":"",class:"gap-3.2"},it=["onClick"],lt={relative:""},ct=I(" \u590D\u5236\u6240\u6709 "),ht={setup(e){const t=se("$msg"),o=z("#ff0000"),a=z("#00ffff"),i=z(10),n=z(!1),s=D({get(){return o.value},set(d){d&&d.hex&&(o.value=d.hex)}}),c=D({get(){return a.value},set(d){d&&d.hex&&(a.value=d.hex)}}),x=D(()=>l(o.value,a.value,i.value)),f=D(()=>x.value.map(d=>R(d).toRgbString())),v=D(()=>n.value?f.value:x.value);function l(d,m,C){const w=R(d).toRgb(),k=R(m).toRgb(),g=(k.r-w.r)/C,U=(k.g-w.g)/C,W=(k.b-w.b)/C,G=[];for(let M=0;M<C;M++){const Q=Math.round(w.r+g*M),Z=Math.round(w.g+U*M),ee=Math.round(w.b+W*M);G.push(R({r:Q,g:Z,b:ee}).toHexString())}return G}function b(d){window.navigator.clipboard.writeText(d),t.success("\u590D\u5236\u6210\u529F")}function J(){const d=v.value.join(",");window.navigator.clipboard.writeText(d),t.success("\u590D\u5236\u6210\u529F")}return(d,m)=>{const C=ae,w=ie,k=re;return u(),p("div",nt,[r("div",ot,[h(L(B),{modelValue:L(s),"onUpdate:modelValue":m[0]||(m[0]=g=>K(s)?s.value=g:null),"disable-alpha":!0,"mx-auto":""},null,8,["modelValue"]),r("div",st,[h(C,null,{default:j(()=>[at]),_:1}),h(w,{value:i.value,"onUpdate:value":m[1]||(m[1]=g=>i.value=g),valueModifiers:{number:!0},step:1,precision:0},null,8,["value"])]),h(L(B),{modelValue:L(c),"onUpdate:modelValue":m[2]||(m[2]=g=>K(c)?c.value=g:null),"mx-auto":"","disable-alpha":!0},null,8,["modelValue"])]),r("div",rt,[(u(!0),p(Y,null,q(L(v),(g,U)=>(u(),p("div",{key:U,"display-block":"","cursor-pointer":"",truncate:"","h-fit":"","text-center":"",class:"p-3.2",style:_({background:g,width:n.value?"15rem":"9rem"}),onClick:W=>b(g)},X(g),13,it))),128)),r("div",lt,[h(k,{"h-full":"",onClick:m[3]||(m[3]=g=>n.value=!n.value)},{default:j(()=>[I(X(n.value?"\u663E\u793AHEX":"\u663E\u793ARGB"),1)]),_:1})])]),h(k,{type:"primary",onClick:J},{default:j(()=>[ct]),_:1})])}}};var mt=oe(ht,[["__scopeId","data-v-79bba6c5"]]);export{mt as default};
