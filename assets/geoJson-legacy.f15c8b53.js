!function(){var t=document.createElement("style");t.innerHTML='.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-nav-container{height:40px}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-ink-bar{visibility:hidden}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab{height:40px;margin:0 2px 0 0;padding:0 16px;line-height:38px;background:#fafafa;border:1px solid #f0f0f0;border-radius:2px 2px 0 0;transition:all .3s cubic-bezier(.645,.045,.355,1)}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab-active{height:40px;color:#1890ff;background:#fff;border-color:#f0f0f0;border-bottom:1px solid #fff}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab-active:before{border-top:2px solid transparent}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab-disabled{color:#1890ff;color:#00000040}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab-inactive{padding:0}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-nav-wrap{margin-bottom:0}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab .ant-tabs-close-x{width:16px;height:16px;height:14px;margin-right:-5px;margin-left:3px;overflow:hidden;color:#00000073;font-size:12px;vertical-align:middle;transition:all .3s}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab .ant-tabs-close-x:hover{color:#000000d9}.ant-tabs.ant-tabs-card .ant-tabs-card-content>.ant-tabs-tabpane,.ant-tabs.ant-tabs-editable-card .ant-tabs-card-content>.ant-tabs-tabpane{transition:none!important}.ant-tabs.ant-tabs-card .ant-tabs-card-content>.ant-tabs-tabpane-inactive,.ant-tabs.ant-tabs-editable-card .ant-tabs-card-content>.ant-tabs-tabpane-inactive{overflow:hidden}.ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab:hover .anticon-close{opacity:1}.ant-tabs-extra-content{line-height:46.001px}.ant-tabs-extra-content .ant-tabs-new-tab{position:relative;width:20px;height:20px;color:#000000d9;font-size:12px;line-height:20px;text-align:center;border:1px solid #f0f0f0;border-radius:2px;cursor:pointer;transition:all .3s}.ant-tabs-extra-content .ant-tabs-new-tab:hover{color:#1890ff;border-color:#1890ff}.ant-tabs-extra-content .ant-tabs-new-tab svg{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto}.ant-tabs.ant-tabs-large .ant-tabs-extra-content{line-height:57.144px}.ant-tabs.ant-tabs-small .ant-tabs-extra-content{line-height:38.001px}.ant-tabs.ant-tabs-card .ant-tabs-extra-content{line-height:40px}.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-left-bar .ant-tabs-nav-container,.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-right-bar .ant-tabs-nav-container{height:100%}.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-left-bar .ant-tabs-tab,.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-right-bar .ant-tabs-tab{margin-bottom:8px;border-bottom:1px solid #f0f0f0}.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-left-bar .ant-tabs-tab-active,.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-right-bar .ant-tabs-tab-active{padding-bottom:4px}.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-left-bar .ant-tabs-tab:last-child,.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-right-bar .ant-tabs-tab:last-child{margin-bottom:8px}.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-left-bar .ant-tabs-new-tab,.ant-tabs-vertical.ant-tabs-card .ant-tabs-card-bar.ant-tabs-right-bar .ant-tabs-new-tab{width:90%}.ant-tabs-vertical.ant-tabs-card.ant-tabs-left .ant-tabs-card-bar.ant-tabs-left-bar .ant-tabs-nav-wrap{margin-right:0}.ant-tabs-vertical.ant-tabs-card.ant-tabs-left .ant-tabs-card-bar.ant-tabs-left-bar .ant-tabs-tab{margin-right:1px;border-right:0;border-radius:2px 0 0 2px}.ant-tabs-vertical.ant-tabs-card.ant-tabs-left .ant-tabs-card-bar.ant-tabs-left-bar .ant-tabs-tab-active{margin-right:-1px;padding-right:18px}.ant-tabs-vertical.ant-tabs-card.ant-tabs-right .ant-tabs-card-bar.ant-tabs-right-bar .ant-tabs-nav-wrap{margin-left:0}.ant-tabs-vertical.ant-tabs-card.ant-tabs-right .ant-tabs-card-bar.ant-tabs-right-bar .ant-tabs-tab{margin-left:1px;border-left:0;border-radius:0 2px 2px 0}.ant-tabs-vertical.ant-tabs-card.ant-tabs-right .ant-tabs-card-bar.ant-tabs-right-bar .ant-tabs-tab-active{margin-left:-1px;padding-left:18px}.ant-tabs .ant-tabs-card-bar.ant-tabs-bottom-bar .ant-tabs-tab{height:auto;border-top:0;border-bottom:1px solid #f0f0f0;border-radius:0 0 2px 2px}.ant-tabs .ant-tabs-card-bar.ant-tabs-bottom-bar .ant-tabs-tab-active{padding-top:1px;padding-bottom:0;color:#1890ff}.ant-tabs{box-sizing:border-box;margin:0;padding:0;color:#000000d9;font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";position:relative;overflow:hidden;zoom:1}.ant-tabs:before,.ant-tabs:after{display:table;content:""}.ant-tabs:after{clear:both}.ant-tabs-ink-bar{position:absolute;bottom:1px;left:0;z-index:1;box-sizing:border-box;width:0;height:2px;background-color:#1890ff;transform-origin:0 0}.ant-tabs-bar{margin:0 0 16px;border-bottom:1px solid #f0f0f0;outline:none;transition:padding .3s cubic-bezier(.645,.045,.355,1)}.ant-tabs-nav-container{position:relative;box-sizing:border-box;margin-bottom:-1px;overflow:hidden;font-size:14px;line-height:1.5715;white-space:nowrap;transition:padding .3s cubic-bezier(.645,.045,.355,1);zoom:1}.ant-tabs-nav-container:before,.ant-tabs-nav-container:after{display:table;content:""}.ant-tabs-nav-container:after{clear:both}.ant-tabs-nav-container-scrolling{padding-right:32px;padding-left:32px}.ant-tabs-bottom .ant-tabs-bottom-bar{margin-top:16px;margin-bottom:0;border-top:1px solid #f0f0f0;border-bottom:none}.ant-tabs-bottom .ant-tabs-bottom-bar .ant-tabs-ink-bar{top:1px;bottom:auto}.ant-tabs-bottom .ant-tabs-bottom-bar .ant-tabs-nav-container{margin-top:-1px;margin-bottom:0}.ant-tabs-tab-prev,.ant-tabs-tab-next{position:absolute;z-index:2;width:0;height:100%;color:#00000073;text-align:center;background-color:transparent;border:0;cursor:pointer;opacity:0;transition:width .3s cubic-bezier(.645,.045,.355,1),opacity .3s cubic-bezier(.645,.045,.355,1),color .3s cubic-bezier(.645,.045,.355,1);user-select:none;pointer-events:none}.ant-tabs-tab-prev.ant-tabs-tab-arrow-show,.ant-tabs-tab-next.ant-tabs-tab-arrow-show{width:32px;height:100%;opacity:1;pointer-events:auto}.ant-tabs-tab-prev:hover,.ant-tabs-tab-next:hover{color:#000000d9}.ant-tabs-tab-prev-icon,.ant-tabs-tab-next-icon{position:absolute;top:50%;left:50%;font-weight:bold;font-style:normal;font-variant:normal;line-height:inherit;text-align:center;text-transform:none;transform:translate(-50%,-50%)}.ant-tabs-tab-prev-icon-target,.ant-tabs-tab-next-icon-target{display:block;display:inline-block;font-size:12px;font-size:10px \\\t;transform:scale(.83333333) rotate(0)}:root .ant-tabs-tab-prev-icon-target,:root .ant-tabs-tab-next-icon-target{font-size:12px}.ant-tabs-tab-btn-disabled{cursor:not-allowed}.ant-tabs-tab-btn-disabled,.ant-tabs-tab-btn-disabled:hover{color:#00000040}.ant-tabs-tab-next{right:2px}.ant-tabs-tab-prev{left:0}:root .ant-tabs-tab-prev{filter:none}.ant-tabs-nav-wrap{margin-bottom:-1px;overflow:hidden}.ant-tabs-nav-scroll{overflow:hidden;white-space:nowrap}.ant-tabs-nav{position:relative;display:inline-block;box-sizing:border-box;margin:0;padding-left:0;list-style:none;transition:transform .3s cubic-bezier(.645,.045,.355,1)}.ant-tabs-nav:before,.ant-tabs-nav:after{display:table;content:" "}.ant-tabs-nav:after{clear:both}.ant-tabs-nav .ant-tabs-tab{position:relative;display:inline-block;box-sizing:border-box;height:100%;margin:0 32px 0 0;padding:12px 16px;text-decoration:none;cursor:pointer;transition:color .3s cubic-bezier(.645,.045,.355,1)}.ant-tabs-nav .ant-tabs-tab:before{position:absolute;top:-1px;left:0;width:100%;border-top:2px solid transparent;border-radius:2px 2px 0 0;transition:all .3s;content:"";pointer-events:none}.ant-tabs-nav .ant-tabs-tab:last-child{margin-right:0}.ant-tabs-nav .ant-tabs-tab:hover{color:#40a9ff}.ant-tabs-nav .ant-tabs-tab:active{color:#096dd9}.ant-tabs-nav .ant-tabs-tab .anticon{margin-right:8px}.ant-tabs-nav .ant-tabs-tab-active{color:#1890ff;text-shadow:0 0 .25px currentColor}.ant-tabs-nav .ant-tabs-tab-disabled,.ant-tabs-nav .ant-tabs-tab-disabled:hover{color:#00000040;cursor:not-allowed}.ant-tabs .ant-tabs-large-bar .ant-tabs-nav-container{font-size:16px}.ant-tabs .ant-tabs-large-bar .ant-tabs-tab{padding:16px}.ant-tabs .ant-tabs-small-bar .ant-tabs-nav-container{font-size:14px}.ant-tabs .ant-tabs-small-bar .ant-tabs-tab{padding:8px 16px}.ant-tabs .ant-tabs-centered-bar .ant-tabs-nav-wrap{text-align:center}.ant-tabs-content:before{display:block;overflow:hidden;content:""}.ant-tabs .ant-tabs-top-content,.ant-tabs .ant-tabs-bottom-content{width:100%}.ant-tabs .ant-tabs-top-content>.ant-tabs-tabpane,.ant-tabs .ant-tabs-bottom-content>.ant-tabs-tabpane{flex-shrink:0;width:100%;-webkit-backface-visibility:hidden;opacity:1;transition:opacity .45s}.ant-tabs .ant-tabs-top-content>.ant-tabs-tabpane-inactive,.ant-tabs .ant-tabs-bottom-content>.ant-tabs-tabpane-inactive{height:0;padding:0!important;overflow:hidden;opacity:0;pointer-events:none}.ant-tabs .ant-tabs-top-content>.ant-tabs-tabpane-inactive input,.ant-tabs .ant-tabs-bottom-content>.ant-tabs-tabpane-inactive input{visibility:hidden}.ant-tabs .ant-tabs-top-content.ant-tabs-content-animated,.ant-tabs .ant-tabs-bottom-content.ant-tabs-content-animated{display:flex;flex-direction:row;transition:margin-left .3s cubic-bezier(.645,.045,.355,1);will-change:margin-left}.ant-tabs .ant-tabs-left-bar,.ant-tabs .ant-tabs-right-bar{height:100%;border-bottom:0}.ant-tabs .ant-tabs-left-bar .ant-tabs-tab-arrow-show,.ant-tabs .ant-tabs-right-bar .ant-tabs-tab-arrow-show{width:100%;height:32px}.ant-tabs .ant-tabs-left-bar .ant-tabs-tab,.ant-tabs .ant-tabs-right-bar .ant-tabs-tab{display:block;float:none;margin:0 0 16px;padding:8px 24px}.ant-tabs .ant-tabs-left-bar .ant-tabs-tab:last-child,.ant-tabs .ant-tabs-right-bar .ant-tabs-tab:last-child{margin-bottom:0}.ant-tabs .ant-tabs-left-bar .ant-tabs-extra-content,.ant-tabs .ant-tabs-right-bar .ant-tabs-extra-content{text-align:center}.ant-tabs .ant-tabs-left-bar .ant-tabs-nav-scroll,.ant-tabs .ant-tabs-right-bar .ant-tabs-nav-scroll{width:auto}.ant-tabs .ant-tabs-left-bar .ant-tabs-nav-container,.ant-tabs .ant-tabs-right-bar .ant-tabs-nav-container,.ant-tabs .ant-tabs-left-bar .ant-tabs-nav-wrap,.ant-tabs .ant-tabs-right-bar .ant-tabs-nav-wrap{height:100%}.ant-tabs .ant-tabs-left-bar .ant-tabs-nav-container,.ant-tabs .ant-tabs-right-bar .ant-tabs-nav-container{margin-bottom:0}.ant-tabs .ant-tabs-left-bar .ant-tabs-nav-container.ant-tabs-nav-container-scrolling,.ant-tabs .ant-tabs-right-bar .ant-tabs-nav-container.ant-tabs-nav-container-scrolling{padding:32px 0}.ant-tabs .ant-tabs-left-bar .ant-tabs-nav-wrap,.ant-tabs .ant-tabs-right-bar .ant-tabs-nav-wrap{margin-bottom:0}.ant-tabs .ant-tabs-left-bar .ant-tabs-nav,.ant-tabs .ant-tabs-right-bar .ant-tabs-nav{width:100%}.ant-tabs .ant-tabs-left-bar .ant-tabs-ink-bar,.ant-tabs .ant-tabs-right-bar .ant-tabs-ink-bar{top:0;bottom:auto;left:auto;width:2px;height:0}.ant-tabs .ant-tabs-left-bar .ant-tabs-tab-next,.ant-tabs .ant-tabs-right-bar .ant-tabs-tab-next{right:0;bottom:0;width:100%;height:32px}.ant-tabs .ant-tabs-left-bar .ant-tabs-tab-prev,.ant-tabs .ant-tabs-right-bar .ant-tabs-tab-prev{top:0;width:100%;height:32px}.ant-tabs .ant-tabs-left-content,.ant-tabs .ant-tabs-right-content{width:auto;margin-top:0!important;overflow:hidden}.ant-tabs .ant-tabs-left-bar{float:left;margin-right:-1px;margin-bottom:0;border-right:1px solid #f0f0f0}.ant-tabs .ant-tabs-left-bar .ant-tabs-tab{text-align:right}.ant-tabs .ant-tabs-left-bar .ant-tabs-nav-container{margin-right:-1px}.ant-tabs .ant-tabs-left-bar .ant-tabs-nav-wrap{margin-right:-1px}.ant-tabs .ant-tabs-left-bar .ant-tabs-ink-bar{right:1px}.ant-tabs .ant-tabs-left-content{padding-left:24px;border-left:1px solid #f0f0f0}.ant-tabs .ant-tabs-right-bar{float:right;margin-bottom:0;margin-left:-1px;border-left:1px solid #f0f0f0}.ant-tabs .ant-tabs-right-bar .ant-tabs-nav-container{margin-left:-1px}.ant-tabs .ant-tabs-right-bar .ant-tabs-nav-wrap{margin-left:-1px}.ant-tabs .ant-tabs-right-bar .ant-tabs-ink-bar{left:1px}.ant-tabs .ant-tabs-right-content{padding-right:24px;border-right:1px solid #f0f0f0}.ant-tabs-top .ant-tabs-ink-bar-animated,.ant-tabs-bottom .ant-tabs-ink-bar-animated{transition:transform .3s cubic-bezier(.645,.045,.355,1),width .2s cubic-bezier(.645,.045,.355,1),left .3s cubic-bezier(.645,.045,.355,1)}.ant-tabs-left .ant-tabs-ink-bar-animated,.ant-tabs-right .ant-tabs-ink-bar-animated{transition:transform .3s cubic-bezier(.645,.045,.355,1),height .2s cubic-bezier(.645,.045,.355,1),top .3s cubic-bezier(.645,.045,.355,1)}.no-flex>.ant-tabs-content>.ant-tabs-content-animated,.ant-tabs-no-animation>.ant-tabs-content>.ant-tabs-content-animated{margin-left:0!important;transform:none!important}.no-flex>.ant-tabs-content>.ant-tabs-tabpane-inactive,.ant-tabs-no-animation>.ant-tabs-content>.ant-tabs-tabpane-inactive{height:0;padding:0!important;overflow:hidden;opacity:0;pointer-events:none}.no-flex>.ant-tabs-content>.ant-tabs-tabpane-inactive input,.ant-tabs-no-animation>.ant-tabs-content>.ant-tabs-tabpane-inactive input{visibility:hidden}.ant-tabs-left-content>.ant-tabs-content-animated,.ant-tabs-right-content>.ant-tabs-content-animated{margin-left:0!important;transform:none!important}.ant-tabs-left-content>.ant-tabs-tabpane-inactive,.ant-tabs-right-content>.ant-tabs-tabpane-inactive{height:0;padding:0!important;overflow:hidden;opacity:0;pointer-events:none}.ant-tabs-left-content>.ant-tabs-tabpane-inactive input,.ant-tabs-right-content>.ant-tabs-tabpane-inactive input{visibility:hidden}.container[data-v-11d6635a]{height:100%;width:100%;display:flex}.container .mapContainer[data-v-11d6635a]{height:100%;width:60%}.container .leaflet-popup-content .propertyPopup[data-v-11d6635a]{display:block!important;width:25rem;height:20rem;overflow-y:auto}.container[data-v-11d6635a] .ant-tabs{width:40%;height:100%}.container[data-v-11d6635a] .ant-tabs .ant-tabs-bar{margin:0}.container[data-v-11d6635a] .ant-tabs .ant-tabs-content{height:calc(100% - 4rem)}.container[data-v-11d6635a] .ant-tabs .ant-tabs-content .ant-tabs-tabpane{height:100%;overflow:auto}.container[data-v-11d6635a] .ant-tabs .ant-tabs-content .ant-tabs-tabpane.ant-tabs-tabpane-inactive{display:none}.container[data-v-11d6635a] .ant-tabs .ant-tabs-content .ant-table th{background-color:#e6e6e6}.container[data-v-11d6635a] .ant-tabs .ant-tabs-content .ant-table td{white-space:nowrap}.container[data-v-11d6635a] .ant-tabs .ant-tabs-content .ant-table td .editable-cell-input-wrapper,.container[data-v-11d6635a] .ant-tabs .ant-tabs-content .ant-table td .editable-cell-text-wrapper{width:max-content}.container[data-v-11d6635a] .ant-tabs .ant-tabs-content .ant-table-striped .table-striped{background-color:#fafafa}.container[data-v-11d6635a] .ant-tabs .geoJsonContainer{height:100%}\n',document.head.appendChild(t),System.register(["./leaflet-src.esm-legacy.3e7f17a4.js","./container-legacy.ef2af940.js","./vendor-legacy.c6a019b7.js","./jsoneditor.min-legacy.81071c2a.js","./index-legacy.d96abe93.js","./index-legacy.a72b0b5f.js","./index-legacy.7738458e.js","./index-legacy.307817a4.js","./index-legacy.a000b4fb.js","./index-legacy.c3a455d8.js"],(function(t){"use strict";var a,n,e,o,s,i,r,b,l,d,c,p,h,m,g,f,v,u,x,y,w,k,z,T,C,J,Z,_,L,U,I,E,N;return{setters:[function(t){a=t.c,n=t.g,e=t.a,o=t.t,s=t.l,i=t.G},function(t){r=t._},function(t){b=t.ao,l=t.at,d=t.a4,c=t.au,p=t.P,h=t.Q,m=t.ac,g=t.av,f=t.i,v=t.p,u=t.a,x=t.r,y=t.c,w=t.w,k=t.o,z=t.d,T=t.E,C=t.A,J=t.I,Z=t.H,_=t.G,L=t.b,U=t.J,I=t.K,E=t.a3},function(t){N=t.J},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){const{TabPane:D}=l,{Item:F}=p,G=t("default",b({name:"geoJson",components:{Container:r,Tabs:l,TabPane:D,Table:d,Empty:c,Form:p,Item:F,Input:h},data:()=>({map:void 0,editor:void 0,geoJson:{type:"FeatureCollection",features:[]},geoJsonLayer:void 0,selectedFeature:void 0,editorUpdated:!1,editorUpdateTimeout:void 0,editableData:{},tdtToken:"bed806b1ccb34b268ab1c0700123d444"}),computed:{tableColumns(){if(this.propertyList&&this.propertyList.length>0){const t=Object.keys(this.propertyList[0]).map((t=>({title:t,dataIndex:t,key:t,slots:{customRender:"property"}})));return t.push({title:"操作",dataIndex:"operation",width:40,fixed:"right",slots:{customRender:"operation"}}),t}return null},propertyList(){return this.features?this.features.map((t=>t.properties)):null},features(){if(this.geoJsonLayer)try{return this.geoJsonLayer.toGeoJSON().features}catch(t){return null}return null}},mounted(){this.editor=m(new N(this.$refs.geoJsonContainer,{mode:"code",onChangeText:()=>{this.editorUpdated=!0,this.editorUpdateTimeout&&(clearTimeout(this.editorUpdateTimeout),this.editorUpdateTimeout=void 0),this.editorUpdateTimeout=setTimeout((()=>{this.updateGeoJsonLayer(),this.editorUpdated=!1,this.editorUpdateTimeout=void 0}),5e3)},onBlur:()=>{this.editorUpdateTimeout&&(clearTimeout(this.editorUpdateTimeout),this.editorUpdateTimeout=void 0),this.editorUpdated&&(this.updateGeoJsonLayer(),this.editorUpdated=!1)}},this.geoJson)),this.initMap()},methods:{initMap(){this.map=m(a(this.$refs.mapContainer,{attributionControl:!0,zoomControl:!1})),this.map.setView([35,105],4),this.geoJsonLayer=n(void 0,{onEachFeature:this.onEachFeature}).addTo(this.map),e.layers({"高德矢量":o("https://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",{subdomains:"1234",minZoom:3,maxNativeZoom:18,maxZoom:20,attribution:'&copy; <a href="https://lbs.amap.com/pages/terms/" target="_blank">高德地图</a> 贡献者'}).addTo(this.map),"高德影像":s([o("https://webst0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=6&x={x}&y={y}&z={z}",{subdomains:"1234",minZoom:3,maxNativeZoom:18,maxZoom:20}),o("https://webst0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}",{subdomains:"1234",minZoom:3,maxNativeZoom:18,maxZoom:20})],{attribution:'&copy; <a href="https://lbs.amap.com/pages/terms/" target="_blank">高德地图</a> 贡献者'}),"天地图矢量":s([o("https://t{s}.tianditu.gov.cn/vec_w/wmts?service=wmts&request=GetTile&version=1.0.0&layer=vec&style=default&tilematrixset=w&format=tiles&tilematrix={z}&tilerow={y}&tilecol={x}&tk="+this.tdtToken,{subdomains:"01234567",minZoom:3,maxNativeZoom:18,maxZoom:20}),o("https://t{s}.tianditu.gov.cn/cva_w/wmts?service=wmts&request=GetTile&version=1.0.0&layer=cva&style=default&tilematrixset=w&format=tiles&tilematrix={z}&tilerow={y}&tilecol={x}&tk="+this.tdtToken,{subdomains:"01234567",minZoom:3,maxNativeZoom:18,maxZoom:20})],{attribution:'&copy; <a href="https://www.tianditu.gov.cn/" target="_blank">天地图</a> 贡献者'}),"天地图影像":s([o("https://t{s}.tianditu.gov.cn/img_w/wmts?service=wmts&request=GetTile&version=1.0.0&layer=img&style=default&tilematrixset=w&format=tiles&tilematrix={z}&tilerow={y}&tilecol={x}&tk="+this.tdtToken,{subdomains:"01234567",minZoom:3,maxNativeZoom:18,maxZoom:20}),o("https://t{s}.tianditu.gov.cn/cia_w/wmts?service=wmts&request=GetTile&version=1.0.0&layer=cia&style=default&tilematrixset=w&format=tiles&tilematrix={z}&tilerow={y}&tilecol={x}&tk="+this.tdtToken,{subdomains:"01234567",minZoom:3,maxNativeZoom:18,maxZoom:20})],{attribution:'&copy; <a href="https://www.tianditu.gov.cn/" target="_blank">天地图</a> 贡献者'}),"天地图地形":s([o("https://t{s}.tianditu.gov.cn/ter_w/wmts?service=wmts&request=GetTile&version=1.0.0&layer=ter&style=default&tilematrixset=w&format=tiles&tilematrix={z}&tilerow={y}&tilecol={x}&tk="+this.tdtToken,{subdomains:"01234567",minZoom:3,maxNativeZoom:14,maxZoom:20}),o("https://t{s}.tianditu.gov.cn/cta_w/wmts?service=wmts&request=GetTile&version=1.0.0&layer=cta&style=default&tilematrixset=w&format=tiles&tilematrix={z}&tilerow={y}&tilecol={x}&tk="+this.tdtToken,{subdomains:"01234567",minZoom:3,maxNativeZoom:14,maxZoom:20})],{attribution:'&copy; <a href="https://www.tianditu.gov.cn/" target="_blank">天地图</a> 贡献者'}),OpenStreetMap:o("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> 贡献者'})},{"图形":g(this.geoJsonLayer)},{collapsed:!1,hideSingleBase:!0,position:"topright"}).addTo(this.map),e.scale({imperial:!1,position:"bottomleft"}).addTo(this.map),e.zoom({zoomInTitle:"放大",zoomOutTitle:"缩小",position:"bottomright"}).addTo(this.map)},updateGeoJsonLayer(){this.geoJsonLayer&&this.geoJsonLayer instanceof i&&this.geoJsonLayer.clearLayers();try{this.geoJson=this.editor.get();try{this.geoJsonLayer.addData(this.geoJson);const t=this.geoJsonLayer.getBounds(),a=t.getCenter(),n=this.map.getBoundsZoom(t);this.map.setView(a,n)}catch(t){}}catch(t){this.geoJson=void 0}},locationGeo(t){try{const a=n(t).getBounds(),e=a.getCenter(),o=this.map.getBoundsZoom(a);this.map.setView(e,o)}catch(a){}},onEachFeature(t,a){t.properties&&a.bindPopup(this.$refs.propertyPopup).on("popupopen",(()=>{this.selectedFeature=t,a.setStyle({color:"#ff7800",weight:5,opacity:.65})})).on("popupclose",(()=>{this.selectedFeature=void 0,this.geoJsonLayer.resetStyle()}))},saveToEditor(t,a,n){if(t instanceof InputEvent&&a&&n)try{a.properties[n]=JSON.parse(t.currentTarget.value)}catch(e){a.properties[n]=t.currentTarget.value}this.geoJson=this.geoJsonLayer.toGeoJSON(),this.editor.update(this.geoJson)},saveToEditableData(t,a,n){if(t instanceof InputEvent&&a&&n)try{a[n]=JSON.parse(t.currentTarget.value)}catch(e){a[n]=t.currentTarget.value}},edit(t){this.editableData[t]=f(this.propertyList[t])},save(t){Object.assign(this.propertyList[t],this.editableData[t]),delete this.editableData[t]},cancel(t){delete this.editableData[t]},rowEvents(t,a){return{onClick:()=>{this.locationGeo(this.features[a])}}}},beforeUnmount(){this.map&&(this.map.remove(),this.map=void 0),this.editor&&(this.editor.destroy(),this.editor=void 0)}}));v("data-v-11d6635a");const j={class:"container"},S={class:"mapContainer",ref:"mapContainer"},O={class:"propertyPopup",ref:"propertyPopup"},P={class:"geoJsonContainer",ref:"geoJsonContainer"},M={key:0,class:"editable-cell-input-wrapper"},q={key:1,class:"editable-cell-text-wrapper"},B={key:0},R=["onClick"],K=["onClick"],V={key:1},$=["onClick"];u(),G.render=function(t,a,n,e,o,s){const i=x("Input"),r=x("Item"),b=x("Form"),l=x("TabPane"),d=x("Table"),c=x("Empty"),p=x("Tabs"),h=x("container");return k(),y(h,null,{default:w((()=>[z("div",j,[z("div",S,null,512),T(z("div",O,[t.selectedFeature?.properties?(k(),y(b,{key:0,"label-col":{span:6},"wrapper-col":{span:18},colon:!1},{default:w((()=>[(k(!0),C(Z,null,J(t.selectedFeature.properties,((a,n,e)=>(k(),y(r,{label:n,key:"prop"+e},{default:w((()=>["string"==typeof t.selectedFeature.properties[n]?(k(),y(i,{key:0,value:t.selectedFeature.properties[n],"onUpdate:value":a=>t.selectedFeature.properties[n]=a,onChange:t.saveToEditor},null,8,["value","onUpdate:value","onChange"])):"number"==typeof t.selectedFeature.properties[n]?(k(),y(i,{key:1,value:t.selectedFeature.properties[n],"onUpdate:value":a=>t.selectedFeature.properties[n]=a,valueModifiers:{number:!0},onChange:t.saveToEditor},null,8,["value","onUpdate:value","onChange"])):(k(),y(i,{key:2,value:JSON.stringify(a),onChange:a=>t.saveToEditor(a,t.selectedFeature,n)},null,8,["value","onChange"]))])),_:2},1032,["label"])))),128))])),_:1})):_("",!0)],512),[[E,!1]]),L(p,{type:"card"},{default:w((()=>[L(l,{key:"geoJson",tab:"GeoJSON"},{default:w((()=>[z("div",P,null,512)])),_:1}),L(l,{key:"table",tab:"Table"},{default:w((()=>[t.tableColumns?(k(),y(d,{key:0,class:"ant-table-striped",columns:t.tableColumns,"data-source":t.propertyList,rowKey:(t,a)=>a,pagination:!1,bordered:"",size:"small",scroll:{x:!0},rowClassName:(t,a)=>a%2==1?"table-striped":null,customRow:t.rowEvents},{property:w((({text:a,column:n,index:e})=>[t.editableData[e]?(k(),C("div",M,["string"==typeof t.editableData[e][n.dataIndex]?(k(),y(i,{key:0,value:t.editableData[e][n.dataIndex],"onUpdate:value":a=>t.editableData[e][n.dataIndex]=a,onChange:t.saveToEditor},null,8,["value","onUpdate:value","onChange"])):"number"==typeof t.editableData[e][n.dataIndex]?(k(),y(i,{key:1,value:t.editableData[e][n.dataIndex],"onUpdate:value":a=>t.editableData[e][n.dataIndex]=a,valueModifiers:{number:!0},onChange:t.saveToEditor},null,8,["value","onUpdate:value","onChange"])):(k(),y(i,{key:2,value:JSON.stringify(t.editableData[e][n.dataIndex]),onChange:a=>t.saveToEditableData(a,t.editableData[e],n.dataIndex)},null,8,["value","onChange"]))])):(k(),C("div",q,U("object"==typeof a?JSON.stringify(a):a),1))])),operation:w((({index:a})=>[t.editableData[a]?(k(),C("span",B,[z("a",{onClick:I((n=>t.save(a)),["stop"])}," 保存属性 ",8,R),z("a",{onClick:I((n=>t.cancel(a)),["stop"])}," 取消编辑 ",8,K)])):(k(),C("span",V,[z("a",{onClick:I((n=>t.edit(a)),["stop"])}," 编辑属性 ",8,$)]))])),_:1},8,["columns","data-source","rowKey","rowClassName","customRow"])):(k(),y(c,{key:1}))])),_:1})])),_:1})])])),_:1})},G.__scopeId="data-v-11d6635a"}}}))}();
