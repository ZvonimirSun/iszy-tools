import{_ as Y,k as U,s as V,R as h,l as F,T as De,x as c,ab as Ke,I as te,h as fe,j as G,n as R,am as se,bF as eo,a7 as Me,aR as oo,V as O,q as X,r as K,w as l,K as s,b8 as no,bG as to,aT as lo,aS as P,E as Q,G as ne,b2 as ro,aB as pe,v as ae,bH as so,aP as Le,bI as ao,L as _e,u as be,aU as io,bJ as uo,b4 as co,bK as Ae,a8 as Ge,al as po,F as m,y as fo,$ as ge,Y as mo,t as vo,bL as go,z as _o,b9 as Ve,bz as $e,a5 as bo,ai as ee,N as A,H as Ne,X as de,an as oe,W as Io,a0 as wo}from"./index-1Gxk3gC0.js";import{c as ze,E as yo}from"./el-dialog-DF3csnbF.js";import{E as Eo}from"./el-space-BI4VLvVv.js";import{c as z,u as Oe,r as Co,a as ho,O as To,E as ko,w as Se}from"./el-popper-DjvKtvrr.js";import{$ as ce,H as $o}from"./jse-theme-dark-D1tAYhsx.js";import{c as Fe}from"./createFile-Cw3agU2I.js";import{f as No}from"./formatBytes-aAslYXQD.js";import{c as Re}from"./clone-w3GeqvcT.js";import{c as Oo}from"./castArray-DBVHyqGx.js";import{P as So,b as Fo}from"./Router-CiqySeZu.js";const Ro=U({inheritAttrs:!1});function Po(e,r,v,t,d,y){return V(e.$slots,"default")}var Bo=Y(Ro,[["render",Po],["__file","collection.vue"]]);const Do=U({name:"ElCollectionItem",inheritAttrs:!1});function Ko(e,r,v,t,d,y){return V(e.$slots,"default")}var Mo=Y(Do,[["render",Ko],["__file","collection-item.vue"]]);const je="data-el-collection-item",Ue=e=>{const r=`El${e}Collection`,v=`${r}Item`,t=Symbol(r),d=Symbol(v),y={...Bo,name:r,setup(){const u=h(),b=new Map;te(t,{itemMap:b,getItems:()=>{const i=c(u);if(!i)return[];const p=Array.from(i.querySelectorAll(`[${je}]`));return[...b.values()].sort((n,f)=>p.indexOf(n.ref)-p.indexOf(f.ref))},collectionRef:u})}},_={...Mo,name:v,setup(u,{attrs:b}){const E=h(),i=F(t,void 0);te(d,{collectionItemRef:E}),De(()=>{const p=c(E);p&&i.itemMap.set(p,{ref:p,...b})}),Ke(()=>{const p=c(E);i.itemMap.delete(p)})}};return{COLLECTION_INJECTION_KEY:t,COLLECTION_ITEM_INJECTION_KEY:d,ElCollection:y,ElCollectionItem:_}},Lo=fe({style:{type:G([String,Array,Object])},currentTabId:{type:G(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:G(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Ao,ElCollectionItem:Go,COLLECTION_INJECTION_KEY:Ie,COLLECTION_ITEM_INJECTION_KEY:Vo}=Ue("RovingFocusGroup"),we=Symbol("elRovingFocusGroup"),Je=Symbol("elRovingFocusGroupItem"),zo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},jo=(e,r)=>e,Uo=(e,r,v)=>{const t=jo(e.code);return zo[t]},Jo=(e,r)=>e.map((v,t)=>e[(t+r)%e.length]),ye=e=>{const{activeElement:r}=document;for(const v of e)if(v===r||(v.focus(),r!==document.activeElement))return},Pe="currentTabIdChange",Be="rovingFocusGroup.entryFocus",Yo={bubbles:!1,cancelable:!0},Ho=U({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Lo,emits:[Pe,"entryFocus"],setup(e,{emit:r}){var v;const t=h((v=e.currentTabId||e.defaultCurrentTabId)!=null?v:null),d=h(!1),y=h(!1),_=h(),{getItems:u}=F(Ie,void 0),b=R(()=>[{outline:"none"},e.style]),E=g=>{r(Pe,g)},i=()=>{d.value=!0},p=z(g=>{var w;(w=e.onMousedown)==null||w.call(e,g)},()=>{y.value=!0}),I=z(g=>{var w;(w=e.onFocus)==null||w.call(e,g)},g=>{const w=!c(y),{target:k,currentTarget:N}=g;if(k===N&&w&&!c(d)){const M=new Event(Be,Yo);if(N?.dispatchEvent(M),!M.defaultPrevented){const $=u().filter(D=>D.focusable),L=$.find(D=>D.active),B=$.find(D=>D.id===c(t)),J=[L,B,...$].filter(Boolean).map(D=>D.ref);ye(J)}}y.value=!1}),n=z(g=>{var w;(w=e.onBlur)==null||w.call(e,g)},()=>{d.value=!1}),f=(...g)=>{r("entryFocus",...g)};te(we,{currentTabbedId:eo(t),loop:se(e,"loop"),tabIndex:R(()=>c(d)?-1:0),rovingFocusGroupRef:_,rovingFocusGroupRootStyle:b,orientation:se(e,"orientation"),dir:se(e,"dir"),onItemFocus:E,onItemShiftTab:i,onBlur:n,onFocus:I,onMousedown:p}),Me(()=>e.currentTabId,g=>{t.value=g??null}),oo(_,Be,f)}});function Wo(e,r,v,t,d,y){return V(e.$slots,"default")}var qo=Y(Ho,[["render",Wo],["__file","roving-focus-group-impl.vue"]]);const Qo=U({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Ao,ElRovingFocusGroupImpl:qo}});function Xo(e,r,v,t,d,y){const _=O("el-roving-focus-group-impl"),u=O("el-focus-group-collection");return K(),X(u,null,{default:l(()=>[s(_,no(to(e.$attrs)),{default:l(()=>[V(e.$slots,"default")]),_:3},16)]),_:3})}var Zo=Y(Qo,[["render",Xo],["__file","roving-focus-group.vue"]]);const xo=fe({trigger:ho.trigger,triggerKeys:{type:G(Array),default:()=>[P.enter,P.numpadEnter,P.space,P.down]},effect:{...Oe.effect,default:"light"},type:{type:G(String)},placement:{type:G(String),default:"bottom"},popperOptions:{type:G(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:G([Number,String]),default:0},maxHeight:{type:G([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:Co,default:"menu"},buttonProps:{type:G(Object)},teleported:Oe.teleported,persistent:{type:Boolean,default:!0}}),Ye=fe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:lo}}),en=fe({onKeydown:{type:G(Function)}}),on=[P.down,P.pageDown,P.home],He=[P.up,P.pageUp,P.end],nn=[...on,...He],{ElCollection:tn,ElCollectionItem:ln,COLLECTION_INJECTION_KEY:rn,COLLECTION_ITEM_INJECTION_KEY:sn}=Ue("Dropdown"),me=Symbol("elDropdown"),We="elDropdown",{ButtonGroup:an}=_e,un=U({name:"ElDropdown",components:{ElButton:_e,ElButtonGroup:an,ElScrollbar:ao,ElDropdownCollection:tn,ElTooltip:ko,ElRovingFocusGroup:Zo,ElOnlyChild:To,ElIcon:Le,ArrowDown:so},props:xo,emits:["visible-change","click","command"],setup(e,{emit:r}){const v=Ge(),t=be("dropdown"),{t:d}=io(),y=h(),_=h(),u=h(),b=h(),E=h(null),i=h(null),p=h(!1),I=R(()=>({maxHeight:uo(e.maxHeight)})),n=R(()=>[t.m($.value)]),f=R(()=>Oo(e.trigger)),g=Ae().value,w=R(()=>e.id||g);function k(){N()}function N(){var C;(C=u.value)==null||C.onClose()}function M(){var C;(C=u.value)==null||C.onOpen()}const $=co();function L(...C){r("command",...C)}function B(){}function j(){const C=c(b);f.value.includes("hover")&&C?.focus({preventScroll:!0}),i.value=null}function J(C){i.value=C}function D(C){p.value||(C.preventDefault(),C.stopImmediatePropagation())}function ie(){r("visible-change",!0)}function Z(C){var W;C?.type==="keydown"&&((W=b.value)==null||W.focus())}function H(){r("visible-change",!1)}return te(me,{contentRef:b,role:R(()=>e.role),triggerId:w,isUsingKeyboard:p,onItemEnter:B,onItemLeave:j}),te(We,{instance:v,dropdownSize:$,handleClick:k,commandHandler:L,trigger:se(e,"trigger"),hideOnClick:se(e,"hideOnClick")}),{t:d,ns:t,scrollbar:E,wrapStyle:I,dropdownTriggerKls:n,dropdownSize:$,triggerId:w,currentTabId:i,handleCurrentTabIdChange:J,handlerMainButtonClick:C=>{r("click",C)},handleEntryFocus:D,handleClose:N,handleOpen:M,handleBeforeShowTooltip:ie,handleShowTooltip:Z,handleBeforeHideTooltip:H,onFocusAfterTrapped:C=>{var W,ue;C.preventDefault(),(ue=(W=b.value)==null?void 0:W.focus)==null||ue.call(W,{preventScroll:!0})},popperRef:u,contentRef:b,triggeringElementRef:y,referenceElementRef:_}}});function dn(e,r,v,t,d,y){var _;const u=O("el-dropdown-collection"),b=O("el-roving-focus-group"),E=O("el-scrollbar"),i=O("el-only-child"),p=O("el-tooltip"),I=O("el-button"),n=O("arrow-down"),f=O("el-icon"),g=O("el-button-group");return K(),Q("div",{class:ae([e.ns.b(),e.ns.is("disabled",e.disabled)])},[s(p,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(_=e.referenceElementRef)==null?void 0:_.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"","focus-on-target":"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ro({content:l(()=>[s(E,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:l(()=>[s(b,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:l(()=>[s(u,null,{default:l(()=>[V(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:l(()=>[s(i,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:l(()=>[V(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(K(),X(g,{key:0},{default:l(()=>[s(I,pe({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:l(()=>[V(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),s(I,pe({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:l(()=>[s(f,{class:ae(e.ns.e("icon"))},{default:l(()=>[s(n)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ne("v-if",!0)],2)}var cn=Y(un,[["render",dn],["__file","dropdown.vue"]]);const pn=U({components:{ElRovingFocusCollectionItem:Go},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(e,{emit:r}){const{currentTabbedId:v,loop:t,onItemFocus:d,onItemShiftTab:y}=F(we,void 0),{getItems:_}=F(Ie,void 0),u=Ae(),b=h(),E=z(n=>{r("mousedown",n)},n=>{e.focusable?d(c(u)):n.preventDefault()}),i=z(n=>{r("focus",n)},()=>{d(c(u))}),p=z(n=>{r("keydown",n)},n=>{const{code:f,shiftKey:g,target:w,currentTarget:k}=n;if(f===P.tab&&g){y();return}if(w!==k)return;const N=Uo(n);if(N){n.preventDefault();let $=_().filter(L=>L.focusable).map(L=>L.ref);switch(N){case"last":{$.reverse();break}case"prev":case"next":{N==="prev"&&$.reverse();const L=$.indexOf(k);$=t.value?Jo($,L+1):$.slice(L+1);break}}po(()=>{ye($)})}}),I=R(()=>v.value===c(u));return te(Je,{rovingFocusGroupItemRef:b,tabIndex:R(()=>c(I)?0:-1),handleMousedown:E,handleFocus:i,handleKeydown:p}),{id:u,handleKeydown:p,handleFocus:i,handleMousedown:E}}});function fn(e,r,v,t,d,y){const _=O("el-roving-focus-collection-item");return K(),X(_,{id:e.id,focusable:e.focusable,active:e.active},{default:l(()=>[V(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var mn=Y(pn,[["render",fn],["__file","roving-focus-item.vue"]]);const vn=U({name:"DropdownItemImpl",components:{ElIcon:Le},props:Ye,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:r}){const v=be("dropdown"),{role:t}=F(me,void 0),{collectionItemRef:d}=F(sn,void 0),{collectionItemRef:y}=F(Vo,void 0),{rovingFocusGroupItemRef:_,tabIndex:u,handleFocus:b,handleKeydown:E,handleMousedown:i}=F(Je,void 0),p=ze(d,y,_),I=R(()=>t.value==="menu"?"menuitem":t.value==="navigation"?"link":"button"),n=z(f=>{if([P.enter,P.numpadEnter,P.space].includes(f.code))return f.preventDefault(),f.stopImmediatePropagation(),r("clickimpl",f),!0},E);return{ns:v,itemRef:p,dataset:{[je]:""},role:I,tabIndex:u,handleFocus:b,handleKeydown:n,handleMousedown:i}}});function gn(e,r,v,t,d,y){const _=O("el-icon");return K(),Q(mo,null,[e.divided?(K(),Q("li",{key:0,role:"separator",class:ae(e.ns.bem("menu","item","divided"))},null,2)):ne("v-if",!0),m("li",pe({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:u=>e.$emit("clickimpl",u),onFocus:e.handleFocus,onKeydown:ge(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:u=>e.$emit("pointermove",u),onPointerleave:u=>e.$emit("pointerleave",u)}),[e.icon?(K(),X(_,{key:0},{default:l(()=>[(K(),X(fo(e.icon)))]),_:1})):ne("v-if",!0),V(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var _n=Y(vn,[["render",gn],["__file","dropdown-item-impl.vue"]]);const qe=()=>{const e=F(We,{}),r=R(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:r}},bn=U({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ln,ElRovingFocusItem:mn,ElDropdownItemImpl:_n},inheritAttrs:!1,props:Ye,emits:["pointermove","pointerleave","click"],setup(e,{emit:r,attrs:v}){const{elDropdown:t}=qe(),d=Ge(),y=h(null),_=R(()=>{var n,f;return(f=(n=c(y))==null?void 0:n.textContent)!=null?f:""}),{onItemEnter:u,onItemLeave:b}=F(me,void 0),E=z(n=>(r("pointermove",n),n.defaultPrevented),Se(n=>{if(e.disabled){b(n);return}const f=n.currentTarget;f===document.activeElement||f.contains(document.activeElement)||(u(n),n.defaultPrevented||f?.focus({preventScroll:!0}))})),i=z(n=>(r("pointerleave",n),n.defaultPrevented),Se(b)),p=z(n=>{if(!e.disabled)return r("click",n),n.type!=="keydown"&&n.defaultPrevented},n=>{var f,g,w;if(e.disabled){n.stopImmediatePropagation();return}(f=t?.hideOnClick)!=null&&f.value&&((g=t.handleClick)==null||g.call(t)),(w=t.commandHandler)==null||w.call(t,e.command,d,n)}),I=R(()=>({...e,...v}));return{handleClick:p,handlePointerMove:E,handlePointerLeave:i,textContent:_,propsAndAttrs:I}}});function In(e,r,v,t,d,y){var _;const u=O("el-dropdown-item-impl"),b=O("el-roving-focus-item"),E=O("el-dropdown-collection-item");return K(),X(E,{disabled:e.disabled,"text-value":(_=e.textValue)!=null?_:e.textContent},{default:l(()=>[s(b,{focusable:!e.disabled},{default:l(()=>[s(u,pe(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:l(()=>[V(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Qe=Y(bn,[["render",In],["__file","dropdown-item.vue"]]);const wn=U({name:"ElDropdownMenu",props:en,setup(e){const r=be("dropdown"),{_elDropdownSize:v}=qe(),t=v.value,{focusTrapRef:d,onKeydown:y}=F(go,void 0),{contentRef:_,role:u,triggerId:b}=F(me,void 0),{collectionRef:E,getItems:i}=F(rn,void 0),{rovingFocusGroupRef:p,rovingFocusGroupRootStyle:I,tabIndex:n,onBlur:f,onFocus:g,onMousedown:w}=F(we,void 0),{collectionRef:k}=F(Ie,void 0),N=R(()=>[r.b("menu"),r.bm("menu",t?.value)]),M=ze(_,E,d,p,k),$=z(B=>{var j;(j=e.onKeydown)==null||j.call(e,B)},B=>{const{currentTarget:j,code:J,target:D}=B;if(j.contains(D),P.tab===J&&B.stopImmediatePropagation(),B.preventDefault(),D!==c(_)||!nn.includes(J))return;const Z=i().filter(H=>!H.disabled).map(H=>H.ref);He.includes(J)&&Z.reverse(),ye(Z)});return{size:t,rovingFocusGroupRootStyle:I,tabIndex:n,dropdownKls:N,role:u,triggerId:b,dropdownListWrapperRef:M,handleKeydown:B=>{$(B),y(B)},onBlur:f,onFocus:g,onMousedown:w}}});function yn(e,r,v,t,d,y){return K(),Q("ul",{ref:e.dropdownListWrapperRef,class:ae(e.dropdownKls),style:vo(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:ge(e.handleKeydown,["self"]),onMousedown:ge(e.onMousedown,["self"])},[V(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Xe=Y(wn,[["render",yn],["__file","dropdown-menu.vue"]]);const En=_o(cn,{DropdownItem:Qe,DropdownMenu:Xe}),Cn=Ve(Qe),hn=Ve(Xe),Tn={key:0,class:"json-editor-menu"},kn={key:0,class:"editorTitle"},$n={class:"buttonWithIcon"},Nn={class:"dialog-footer"},On=U({__name:"VanillaJsonEditor",props:{content:{default:void 0},config:{default:()=>({mode:"text"})},showMenuBar:{type:Boolean,default:!1},name:{default:""}},emits:["change","create","changeName","open","openRecent","delete"],setup(e,{expose:r,emit:v}){const t=e,d=v,y=$e(),_=["content","mode","mainMenuBar","navigationBar","statusBar","readOnly","indentation","tabSize","escapeControlCharacters","escapeUnicodeCharacters","validator","onError","onChange","onChangeMode","onClassName","onRenderValue","onRenderMenu","queryLanguages","queryLanguageId","onChangeQueryLanguage","onFocus","onBlur"],u=h(),b=h(),E=h();let i;const p=h(""),I=h(2),n=h(!1),f=h(!1),g=h(!1),w=h(""),k=R(()=>{if(f.value){const a=i.get();let o,T;return ce(a)?T=a.json:T=a.text,typeof T=="string"?o="字符串类型":Array.isArray(T)?o=`数组类型，包含 ${T.length} 个对象`:T&&typeof T=="object"?o=`对象类型，包含 ${Object.keys(T).length} 个属性`:o="其他类型",{name:p.value,storage:p.value?"浏览器本地":"",updated:"",content:o,size:No(typeof T=="string"?T.length:JSON.stringify(T,null,I.value).length)}}else return{}});let N=!1;r({container:b,update:j,set:J,refresh:ie,get:D});let M={};De(()=>{u.value&&(M=Re(t.config),i=$o({target:u.value,props:{content:{json:{}},onChange:a=>{N||(ce(a)?d("change",a.json):d("change",a.text))},indentation:I.value,...Ce(M,_)}}),t.config.indentation&&(I.value=t.config.indentation))}),Ke(()=>{i?.destroy()}),Me(()=>$e().isDark,()=>{i?.refresh()}),bo(()=>{let a=!1;for(const o in t.config)if(t.config[o]!==M[o]){a=!0;break}a&&(M=Re(t.config),i?.updateProps(Ce(M,_))),t.content!=null&&j(t.content),p.value=t.name,i?.refresh()});function $(){i.set({json:{}}),d("create")}function L(a){switch(a){case"file":E.value?.click();break;case"recent":d("openRecent");break}}function B(a){const o=a.target;if(o.files&&o.files.length){const T=o.files[0];if(!T)return;const S=new FileReader;S.onload=()=>{S.result&&d("open",{name:T.name,content:S.result})},S.readAsText(T)}o.value=""}function j(a){N=!0;let o;a!=null&&(typeof a=="string"?o=a:o=JSON.stringify(a,null,I.value),i.update({text:o})),setTimeout(()=>{N=!1},0)}function J(a){N=!0,a!=null&&(typeof a=="string"?i.set({text:a}):i.set({json:a})),setTimeout(()=>{N=!1},0)}function D(){const a=i.get();return ce(a)?a.json:a.text}function ie(){i?.refresh()}function Z(){const a=i.get(),o=p.value?`${p.value}.json`:"未命名.json";ce(a)?Fe(JSON.stringify(a.json),o):Fe(a.text,o)}let H=I.value;function Ee(a){switch(a){case"indentation":H=I.value,n.value=!0;break;case"properties":f.value=!0;break;case"delete":d("delete");break}}function ve(){I.value=H,n.value=!1}function C(){i.updateProps({indentation:I.value}),n.value=!1}function W(){w.value=p.value,g.value=!0}function ue(){g.value=!1}function Ze(){w.value&&d("changeName",w.value),g.value=!1}function Ce(a,o){const T={};for(const S of o)a[S]!==void 0&&(T[S]=a[S]);return T}return(a,o)=>{const T=Io,S=_e,le=Cn,he=hn,Te=En,xe=Eo,x=So,ke=yo,re=Fo;return K(),Q("div",{ref_key:"container",ref:b,class:"json-editor-wrapper"},[a.showMenuBar?(K(),Q("div",Tn,[c(p)&&!c(g)?(K(),Q("div",kn,[A(Ne(c(p))+" ",1),m("i",{class:"i-icon-park-outline-edit",onClick:W})])):ne("",!0),c(g)?(K(),X(T,{key:1,modelValue:c(w),"onUpdate:modelValue":o[0]||(o[0]=q=>de(w)?w.value=q:null),class:"name-editor",placeholder:"请输入名称"},{suffix:l(()=>[m("i",{class:"i-icon-park-outline-close",onClick:ue}),m("i",{class:"i-icon-park-outline-check",onClick:Ze})]),_:1},8,["modelValue"])):ne("",!0),s(xe,{class:"editorControlButtons"},{default:l(()=>[s(S,{size:"small",type:"primary",onClick:$},{default:l(()=>[...o[4]||(o[4]=[m("span",{class:"buttonWithIcon"},[m("span",{class:"i-icon-park-outline-file-addition-one"}),A(" 新建")],-1)])]),_:1}),s(Te,{onCommand:L},{dropdown:l(()=>[s(he,null,{default:l(()=>[s(le,{command:"recent"},{default:l(()=>[...o[5]||(o[5]=[m("span",{class:"buttonWithIcon"},[m("span",{class:"i-icon-park-outline-history"}),A(" 打开最近记录")],-1)])]),_:1}),s(le,{command:"file"},{default:l(()=>[...o[6]||(o[6]=[m("span",{class:"buttonWithIcon"},[m("span",{class:"i-icon-park-outline-computer"}),A(" 打开本地文件")],-1)])]),_:1})]),_:1})]),default:l(()=>[s(S,{size:"small",type:"primary"},{default:l(()=>[...o[7]||(o[7]=[m("span",{class:"buttonWithIcon"},[m("span",{class:"i-icon-park-outline-folder-open"}),A(" 打开"),m("span",{class:"i-icon-park-outline-down"})],-1)])]),_:1})]),_:1}),s(S,{size:"small",type:"primary",onClick:Z},{default:l(()=>[...o[8]||(o[8]=[m("span",{class:"buttonWithIcon"},[m("span",{class:"i-icon-park-outline-save"}),A(" 保存")],-1)])]),_:1}),s(Te,{onCommand:Ee},{dropdown:l(()=>[s(he,null,{default:l(()=>[s(le,{command:"indentation"},{default:l(()=>[m("span",$n,[o[9]||(o[9]=m("span",{class:"i-icon-park-outline-indent-right"},null,-1)),A(" 缩进("+Ne(c(I))+")",1)])]),_:1}),s(le,{command:"properties"},{default:l(()=>[...o[10]||(o[10]=[m("span",{class:"buttonWithIcon"},[m("span",{class:"i-icon-park-outline-info"}),A(" 文档属性")],-1)])]),_:1}),s(le,{command:"delete"},{default:l(()=>[...o[11]||(o[11]=[m("span",{class:"buttonWithIcon"},[m("span",{class:"i-icon-park-outline-delete"}),A(" 删除文档")],-1)])]),_:1})]),_:1})]),default:l(()=>[s(S,{size:"small",type:"primary"},{default:l(()=>[...o[12]||(o[12]=[m("span",{class:"buttonWithIcon"},[m("span",{class:"i-icon-park-outline-setting-two"}),A(" 选项"),m("span",{class:"i-icon-park-outline-down"})],-1)])]),_:1})]),_:1})]),_:1})])):ne("",!0),m("div",{ref_key:"jsonEditorDiv",ref:u,class:ae(["json-editor",{"jse-theme-dark":c(y).isDark}])},null,2),ee(m("input",{ref_key:"uploader",ref:E,type:"file",accept:".json,.geojson,.txt",onChange:B},null,544),[[oe,!1]]),s(ke,{modelValue:c(n),"onUpdate:modelValue":o[2]||(o[2]=q=>de(n)?n.value=q:null),title:"设置缩进","before-close":ve},{footer:l(()=>[m("span",Nn,[s(S,{onClick:ve},{default:l(()=>[...o[14]||(o[14]=[A("取消",-1)])]),_:1}),s(S,{type:"primary",onClick:C},{default:l(()=>[...o[15]||(o[15]=[A(" 确定 ",-1)])]),_:1})])]),default:l(()=>[s(x,null,{default:l(()=>[...o[13]||(o[13]=[A("配置代码模式下用于缩进的空格数。 缩进同时应用于两个面板。",-1)])]),_:1}),s(T,{modelValue:c(I),"onUpdate:modelValue":o[1]||(o[1]=q=>de(I)?I.value=q:null),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["modelValue"]),s(ke,{modelValue:c(f),"onUpdate:modelValue":o[3]||(o[3]=q=>de(f)?f.value=q:null),title:"文档属性",class:"documentProperties"},{default:l(()=>[s(x,null,{default:l(()=>[o[16]||(o[16]=m("strong",null,"名称：",-1)),ee(s(re,{content:c(k).name},null,8,["content"]),[[oe,c(k).name]])]),_:1}),s(x,null,{default:l(()=>[o[17]||(o[17]=m("strong",null,"存储：",-1)),ee(s(re,{content:c(k).storage},null,8,["content"]),[[oe,c(k).storage]])]),_:1}),s(x,null,{default:l(()=>[o[18]||(o[18]=m("strong",null,"更新：",-1)),ee(s(re,{content:c(k).updated},null,8,["content"]),[[oe,c(k).updated]])]),_:1}),s(x,null,{default:l(()=>[o[19]||(o[19]=m("strong",null,"内容：",-1)),ee(s(re,{content:c(k).content},null,8,["content"]),[[oe,c(k).content]])]),_:1}),s(x,null,{default:l(()=>[o[20]||(o[20]=m("strong",null,"大小：",-1)),ee(s(re,{content:c(k).size},null,8,["content"]),[[oe,c(k).size]])]),_:1})]),_:1},8,["modelValue"])],512)}}}),Gn=wo(On,[["__scopeId","data-v-27220758"]]);export{Gn as V};
