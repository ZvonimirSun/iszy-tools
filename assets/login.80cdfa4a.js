import{d as C,r as n,cR as I,u as K,cS as S,j as q,m as z,o as E,J as R,K as u,a as t,w as s,b$ as y,b as h,cT as T,I as V,B as $,S as j,T as D,_ as Q}from"./index.450004ae.js";/* empty css              *//* empty css               */import{_ as U}from"./FormItem.b0e244d8.js";import{_ as J}from"./Password.760d3774.js";import{F as L}from"./Form.e9cda871.js";import"./Col.4b5fdd46.js";import"./responsiveObserve.af7850be.js";import"./useFlexGapSupport.a61b499b.js";import"./toArray.153fcb9e.js";import"./get.4a4f5284.js";import"./hasIn.e8ab569b.js";import"./toInteger.6e46c56f.js";import"./toFinite.a03e0e5b.js";import"./_baseFindIndex.10ef1a58.js";import"./collapseMotion.5842e810.js";import"./EyeOutlined.0555d885.js";import"./_arrayIncludesWith.91d14080.js";const w=a=>(j("data-v-a1375e54"),a=a(),D(),a),O={class:"login-container"},P={class:"main"},A=w(()=>u("span",{class:"i-icon-park-outline-user",style:{color:"rgba(0,0,0,.25)"}},null,-1)),G=w(()=>u("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),H={class:"btn-wrapper"},M=C({__name:"login",setup(a){const o=n({userName:"",password:""}),m=n(),f=n({}),i=n(!1),B=I(),v=K(),F=S(),l=q("$msg");z(F,function(r){const e=r.query;e&&(typeof e.redirect=="string"&&(m.value=e.redirect),f.value=k(e))},{immediate:!0});async function p(){if(!navigator.onLine){l.warn("\u5DF2\u79BB\u7EBF\uFF01");return}if(o.value.userName!=null&&o.value.password!=null){i.value=!0;try{await B.dispatch("user/login",{userName:o.value.userName,password:o.value.password}),l.success("\u767B\u5F55\u6210\u529F\uFF01"),v.push({path:m.value||"/",query:f.value})}catch(r){r instanceof Error&&l.error(r.message)}i.value=!1}}function k(r){const{redirect:e,...c}=r;return c}function x(){v.push("/register")}return(r,e)=>{const c=V,_=U,N=J,g=$,b=L;return E(),R("div",O,[u("div",P,[t(b,T({layout:"horizontal",model:o.value},{wrapperCol:{span:24}}),{default:s(()=>[t(_,{required:""},{default:s(()=>[t(c,{value:o.value.userName,"onUpdate:value":e[0]||(e[0]=d=>o.value.userName=d),placeholder:"\u8D26\u6237",size:"large",onKeypress:y(p,["enter"])},{prefix:s(()=>[A]),_:1},8,["value","onKeypress"])]),_:1}),t(_,{required:""},{default:s(()=>[t(N,{value:o.value.password,"onUpdate:value":e[1]||(e[1]=d=>o.value.password=d),placeholder:"\u5BC6\u7801",size:"large",onKeypress:y(p,["enter"])},{prefix:s(()=>[G]),_:1},8,["value","onKeypress"])]),_:1}),t(_,null,{default:s(()=>[u("div",H,[t(g,{type:"primary",block:"",size:"large",loading:i.value,onClick:p},{default:s(()=>[h(" \u767B\u5F55 ")]),_:1},8,["loading"]),t(g,{block:"",size:"large",onClick:x},{default:s(()=>[h(" \u6CE8\u518C ")]),_:1})])]),_:1})]),_:1},16,["model"])])])}}});const me=Q(M,[["__scopeId","data-v-a1375e54"]]);export{me as default};
