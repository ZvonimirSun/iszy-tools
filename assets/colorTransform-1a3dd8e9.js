import{a3 as U,j as H,o as E,c as L,a as g,b as u,n as k,am as B,an as I,bt as K,bu as N,B as A,x as Q,l as J,ae as C,y as l,aQ as q,ak as Z,W as D,X as O,af as ee,aS as oe,aR as ne}from"./vendor-c7d095d4.js";import{_ as R}from"./colorTransform-d4f5ebbf.js";import{b as le}from"./ant-design-vue-8684357f.js";import{t as y}from"./tinycolor2-ea5bcbb6.js";import"./common-bad41c28.js";const se=H({name:"AlphaPicker",components:{Checkerboard:R},props:{value:{type:Object,default:void 0}},emits:["change"],data:()=>({checkerboardBackground:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADBJREFUOE9jfPbs2X8GPEBSUhKfNAPjqAHDIgz+//+PNx08f/4cfzoYNYCBceiHAQC5flV5JzgrxQAAAABJRU5ErkJggg=="}),computed:{colors(){return this.value},gradientColor(){const{rgba:n}=this.colors,t=[n.r,n.g,n.b].join(",");return`linear-gradient(to right, rgba(${t}, 0) 0%, rgba(${t}, 1) 100%)`}},methods:{handleChange(n,t){!t&&n.preventDefault();const{container:f}=this.$refs;if(!f)return;const p=f.clientWidth,d=f.getBoundingClientRect().left+window.pageXOffset,a=(n.pageX||(n.touches?n.touches[0].pageX:0))-d;let h;a<0?h=0:a>p?h=1:h=Math.round(a*100/p)/100,this.colors.a!==h&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:h,source:"rgba"})},handleMouseDown(n){this.handleChange(n,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}),te=n=>(B("data-v-dbaf203c"),n=n(),I(),n),ae={class:"alphaContainer"},re={class:"alphaCheckerboardWrap"},ie=te(()=>g("div",{class:"alphaPicker"},null,-1)),ue=[ie];function de(n,t,f,p,d,c){const a=R;return E(),L("div",ae,[g("div",re,[u(a)]),g("div",{class:"alphaGradient",style:k({background:n.gradientColor})},null,4),g("div",{ref:"container",class:"alpha",onMousedown:t[0]||(t[0]=(...h)=>n.handleMouseDown&&n.handleMouseDown(...h)),onTouchmove:t[1]||(t[1]=(...h)=>n.handleChange&&n.handleChange(...h)),onTouchstart:t[2]||(t[2]=(...h)=>n.handleChange&&n.handleChange(...h))},[g("div",{class:"alphaPointer",style:k({left:n.colors.a*100+"%"})},ue,4)],544)])}const he=U(se,[["render",de],["__scopeId","data-v-dbaf203c"]]);const pe=H({name:"HuePicker",props:{value:{type:Object,default:void 0}},emits:["change"],data(){return{oldHue:0,pullDirection:""}},computed:{colors(){return this.value},pointerLeft(){return this.colors.hsl.h===0&&this.pullDirection==="right"?"100%":`${this.colors.hsl.h*100/360}%`}},watch:{colors:function(n){const{h:t}=n.hsl;t!==0&&t-this.oldHue>0&&(this.pullDirection="right"),t!==0&&t-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=t}},methods:{handleChange(n,t){!t&&n.preventDefault();const{container:f}=this.$refs;if(!f)return;const p=f.clientWidth,d=f.getBoundingClientRect().left+window.pageXOffset,a=(n.pageX||(n.touches?n.touches[0].pageX:0))-d;let h,S;a<0?h=0:a>p?h=360:(S=a*100/p,h=360*S/100),this.colors.hsl.h!==h&&this.$emit("change",{h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})},handleMouseDown(n){this.handleChange(n,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}),me=n=>(B("data-v-3592c1d6"),n=n(),I(),n),fe={class:"hueContainer"},ge=["aria-valuenow"],ce=me(()=>g("div",{class:"huePicker"},null,-1)),ve=[ce];function _e(n,t,f,p,d,c){return E(),L("div",fe,[g("div",{ref:"container",class:"hue","aria-valuemin":"0","aria-valuemax":"360","aria-valuenow":n.colors.hsl.h,onMousedown:t[0]||(t[0]=(...a)=>n.handleMouseDown&&n.handleMouseDown(...a)),onTouchmove:t[1]||(t[1]=(...a)=>n.handleChange&&n.handleChange(...a)),onTouchstart:t[2]||(t[2]=(...a)=>n.handleChange&&n.handleChange(...a))},[g("div",{class:"huePointer",style:k({top:0,left:n.pointerLeft}),role:"presentation"},ve,4)],40,ge)])}const be=U(pe,[["render",_e],["__scopeId","data-v-3592c1d6"]]);const we=H({name:"SaturationPicker",props:{value:{type:Object,default:void 0}},emits:["change"],computed:{colors(){return this.value},bgColor(){return`hsl(${this.colors.hsv.h}, 100%, 50%)`},pointerTop(){return`${-(this.colors.hsv.v*100)+1+100}%`},pointerLeft(){return`${this.colors.hsv.s*100}%`}},methods:{throttle:K((n,t)=>{n(t)},20,{leading:!0,trailing:!1}),handleChange(n,t){!t&&n.preventDefault();const{container:f}=this.$refs;if(!f)return;const p=f.clientWidth,d=f.clientHeight,c=f.getBoundingClientRect().left+window.pageXOffset,a=f.getBoundingClientRect().top+window.pageYOffset,h=n.pageX||(n.touches?n.touches[0].pageX:0),S=n.pageY||(n.touches?n.touches[0].pageY:0),_=N(h-c,0,p),$=N(S-a,0,d),V=_/p,x=N(-($/d)+1,0,1);this.throttle(this.onChange,{h:this.colors.hsv.h,s:V,v:x,a:this.colors.hsv.a,source:"hsva"})},onChange(n){this.$emit("change",n)},handleMouseDown(){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}}),X=n=>(B("data-v-89b0de63"),n=n(),I(),n),$e={class:"saturationContainer"},Ce=X(()=>g("div",{class:"saturationWhite"},null,-1)),Ve=X(()=>g("div",{class:"saturationBlack"},null,-1)),xe=X(()=>g("div",{class:"saturationCircle"},null,-1)),ye=[xe];function Ae(n,t,f,p,d,c){return E(),L("div",$e,[g("div",{ref:"container",class:"saturation",style:k({background:n.bgColor}),onMousedown:t[0]||(t[0]=(...a)=>n.handleMouseDown&&n.handleMouseDown(...a)),onTouchmove:t[1]||(t[1]=(...a)=>n.handleChange&&n.handleChange(...a)),onTouchstart:t[2]||(t[2]=(...a)=>n.handleChange&&n.handleChange(...a))},[Ce,Ve,g("div",{class:"saturationPointer",style:k({top:n.pointerTop,left:n.pointerLeft})},ye,4)],36)])}const Se=U(we,[["render",Ae],["__scopeId","data-v-89b0de63"]]);const ke={"max-w-full":"","h-full":"","overflow-auto":"",flex:"","flex-row":"","flex-wrap":"","justify-around":"","mx-auto":"","my-0":"",class:"p-3.2 gap-3.2"},Me={flex:"","flex-1":"","flex-col":"","h-fit":"","w-xl":"","max-w-full":""},Ue={flex:"","w-full":"","justify-between":"","overflow-auto":"",class:"gap-3.2"},Ee={flex:"","w-full":"","justify-between":"","overflow-auto":"",class:"gap-3.2"},Le={flex:"","w-full":"","justify-between":"","overflow-auto":"",class:"gap-3.2"},Ne={flex:"","w-full":"","justify-between":"","overflow-auto":"",class:"gap-3.2"},De={"w-xl":"","h-fit":"","max-w-full":""},He={"w-full":"","h-sm":"","b-2":"","b-solid":""},Be={"w-full":"","h-4":""},Ie={"w-full":"","h-4":""},Xe={flex:"","flex-col":"","h-fit":"","w-xl":"","max-w-full":""},Fe={__name:"colorTransform",setup(n){const t=A("#16b0f6"),f=A(""),p=A({r:void 0,g:void 0,b:void 0,a:void 0}),d=A({c:void 0,m:void 0,y:void 0,k:void 0}),c=A({h:void 0,s:void 0,l:void 0,a:void 0}),a=A({h:void 0,s:void 0,v:void 0,a:void 0}),h=A(j("16b0f6")),S=Q(()=>{const{rgba:o}=h.value;return`rgba(${[o.r,o.g,o.b,o.a].join(",")})`});J(()=>{_({cssString:t.value})});function _(o){if(o)if(o.hex)M(o.hex)&&$({hex:o.hex,from:"hex"});else if(o.rgba)M(o.rgba)&&$({r:o.rgba.r||h.value.rgba.r,g:o.rgba.g||h.value.rgba.g,b:o.rgba.b||h.value.rgba.b,a:o.rgba.a||h.value.rgba.a,from:"rgba"});else if(o.hsla){const e=`hsla(${o.hsla.h},${(o.hsla.s*100).toFixed(0)}%,${(o.hsla.l*100).toFixed(0)}%,${o.hsla.a}`;M(e)&&$({hsl:e,from:"hsla"})}else if(o.hsva){const e=`hsva(${o.hsva.h},${(o.hsva.s*100).toFixed(0)}%,${(o.hsva.v*100).toFixed(0)}%,${o.hsva.a}`;M(e)&&$({hsv:e,from:"hsva"})}else o.cssString?M(o.cssString)&&$({cssString:o.cssString,from:"cssString"}):o.cmyk&&$({cmyk:o.cmyk,from:"cmyk"})}function $(o){if(o.from==="cmyk"){const b=Y(d.value.c,d.value.m,d.value.y,d.value.k);if(b)o.rgba=`rgb(${b[0]},${b[1]},${b[2]})`;else return}const{rgba:e,hex:v,hex8:r,a:m,hsl:i,hsv:w}=h.value=j(o,h.value.hsl.h);if(o.from!=="rgba"&&(p.value.r=e.r,p.value.g=e.g,p.value.b=e.b,p.value.a=e.a),o.from!=="hsla"&&(c.value.h=i.h,c.value.s=i.s,c.value.l=i.l,c.value.a=m),o.from!=="hsva"&&(a.value.h=w.h,a.value.s=w.s,a.value.v=w.v,a.value.a=m),o.from!=="cmyk"){const b=T(e.r,e.g,e.b);b&&(d.value.c=b[0],d.value.m=b[1],d.value.y=b[2],d.value.k=b[3])}m===1?f.value=v.replace("#",""):f.value=r.replace("#",""),o.from!=="cssString"&&(m===1?t.value="#"+f.value.toLowerCase():t.value=`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`)}function V(o){return`${(o*100).toFixed(0)}%`}function x(o){return parseFloat((parseInt(o.replace("%",""))/100).toFixed(2))}function F(o){return`${parseFloat(parseFloat(o).toFixed(2))}°`}function P(o){return parseFloat(o.replace("°",""))}function M(o){return y(o).isValid()}function j(o,e){const v=o&&o.a;let r;o&&o.hsl?r=y(o.hsl):o&&o.hex&&o.hex.length>0?r=y(o.hex):o&&o.hsv?r=y(o.hsv):o&&o.rgba?r=y(o.rgba):o&&o.rgb?r=y(o.rgb):o&&o.cssString?r=y(o.cssString):r=y(o),r&&(r._a===void 0||r._a===null)&&r.setAlpha(v||1);const m=r.toHsl(),i=r.toHsv();return m.s===0&&(i.h=m.h=o.h||o.hsl&&o.hsl.h||e||0),{hsl:m,hex:r.toHexString(),hex8:r.toHex8String(),rgba:r.toRgb(),hsv:i,oldHue:o.h||e||m.h,from:o.from,a:o.a||r.getAlpha()}}function T(o,e,v){let r=0,m=0,i=0,w=0;if(o=parseInt((""+o).replace(/\s/g,""),10),e=parseInt((""+e).replace(/\s/g,""),10),v=parseInt((""+v).replace(/\s/g,""),10),o==null||e==null||v==null||isNaN(o)||isNaN(e)||isNaN(v)||o<0||e<0||v<0||o>255||e>255||v>255)return;if(o===0&&e===0&&v===0)return[0,0,0,1];r=1-o/255,m=1-e/255,i=1-v/255;const b=Math.min(r,Math.min(m,i));return r=(r-b)/(1-b),m=(m-b)/(1-b),i=(i-b)/(1-b),w=b,[r,m,i,w]}function Y(o,e,v,r){if(o==null||e==null||v==null||r==null||isNaN(o)||isNaN(e)||isNaN(v)||isNaN(r)||o<0||e<0||v<0||r<0||o>1||e>1||v>1||r>1)return;let m,i,w;return m=255*(1-o)*(1-r),i=255*(1-e)*(1-r),w=255*(1-v)*(1-r),m=Math.round(m),i=Math.round(i),w=Math.round(w),[m,i,w]}return(o,e)=>{const v=le,r=ee,m=oe,i=ne,w=q,b=Se,W=be,z=he,G=Z;return E(),L("div",ke,[g("div",Me,[u(v,{level:4},{default:C(()=>[D(" 颜色 ")]),_:1}),u(w,{"label-width":100},{default:C(()=>[u(m,{label:"CSS 字符串"},{default:C(()=>[u(r,{modelValue:l(t),"onUpdate:modelValue":e[0]||(e[0]=s=>O(t)?t.value=s:null),onChange:e[1]||(e[1]=s=>_({cssString:l(t)}))},null,8,["modelValue"])]),_:1}),u(m,{label:"HEX",class:"hex"},{default:C(()=>[u(r,{modelValue:l(f),"onUpdate:modelValue":e[2]||(e[2]=s=>O(f)?f.value=s:null),onChange:e[3]||(e[3]=s=>_({hex:l(f)}))},null,8,["modelValue"])]),_:1}),u(m,{label:"RGBA",class:"rgba"},{default:C(()=>[g("div",Ue,[u(i,{modelValue:l(p).r,"onUpdate:modelValue":e[4]||(e[4]=s=>l(p).r=s),"controls-position":"right",placeholder:"R",max:255,min:0,step:1,precision:0,onChange:e[5]||(e[5]=s=>_({rgba:l(p)}))},null,8,["modelValue"]),u(i,{modelValue:l(p).g,"onUpdate:modelValue":e[6]||(e[6]=s=>l(p).g=s),"controls-position":"right",placeholder:"G",max:255,min:0,step:1,precision:0,onChange:e[7]||(e[7]=s=>_({rgba:l(p)}))},null,8,["modelValue"]),u(i,{modelValue:l(p).b,"onUpdate:modelValue":e[8]||(e[8]=s=>l(p).b=s),"controls-position":"right",placeholder:"B",max:255,min:0,step:1,precision:0,onChange:e[9]||(e[9]=s=>_({rgba:l(p)}))},null,8,["modelValue"]),u(i,{modelValue:l(p).a,"onUpdate:modelValue":e[10]||(e[10]=s=>l(p).a=s),"controls-position":"right",placeholder:"A",max:1,min:0,step:.01,precision:2,onChange:e[11]||(e[11]=s=>_({rgba:l(p)}))},null,8,["modelValue"])])]),_:1}),u(m,{label:"CMYK",class:"cmyk"},{default:C(()=>[g("div",Ee,[u(i,{modelValue:l(d).c,"onUpdate:modelValue":e[12]||(e[12]=s=>l(d).c=s),"controls-position":"right",placeholder:"C",max:1,min:0,step:.01,formatter:V,parser:x,precision:2,onChange:e[13]||(e[13]=s=>_({cmyk:l(d)}))},null,8,["modelValue"]),u(i,{modelValue:l(d).m,"onUpdate:modelValue":e[14]||(e[14]=s=>l(d).m=s),"controls-position":"right",placeholder:"M",max:1,min:0,step:.01,formatter:V,parser:x,precision:2,onChange:e[15]||(e[15]=s=>_({cmyk:l(d)}))},null,8,["modelValue"]),u(i,{modelValue:l(d).y,"onUpdate:modelValue":e[16]||(e[16]=s=>l(d).y=s),"controls-position":"right",placeholder:"Y",max:1,min:0,step:.01,formatter:V,parser:x,precision:2,onChange:e[17]||(e[17]=s=>_({cmyk:l(d)}))},null,8,["modelValue"]),u(i,{modelValue:l(d).k,"onUpdate:modelValue":e[18]||(e[18]=s=>l(d).k=s),"controls-position":"right",placeholder:"K",max:1,min:0,step:.01,formatter:V,parser:x,precision:2,onChange:e[19]||(e[19]=s=>_({cmyk:l(d)}))},null,8,["modelValue"])])]),_:1}),u(m,{label:"HSVA",class:"hsva"},{default:C(()=>[g("div",Le,[u(i,{modelValue:l(a).h,"onUpdate:modelValue":e[20]||(e[20]=s=>l(a).h=s),"controls-position":"right",placeholder:"H",max:360,min:0,step:.01,formatter:F,parser:P,precision:2,onChange:e[21]||(e[21]=s=>_({hsva:l(a)}))},null,8,["modelValue"]),u(i,{modelValue:l(a).s,"onUpdate:modelValue":e[22]||(e[22]=s=>l(a).s=s),"controls-position":"right",placeholder:"S",max:1,min:0,step:.01,formatter:V,parser:x,precision:2,onChange:e[23]||(e[23]=s=>_({hsva:l(a)}))},null,8,["modelValue"]),u(i,{modelValue:l(a).v,"onUpdate:modelValue":e[24]||(e[24]=s=>l(a).v=s),"controls-position":"right",placeholder:"V",max:1,min:0,step:.01,formatter:V,parser:x,precision:2,onChange:e[25]||(e[25]=s=>_({hsva:l(a)}))},null,8,["modelValue"]),u(i,{modelValue:l(a).a,"onUpdate:modelValue":e[26]||(e[26]=s=>l(a).a=s),"controls-position":"right",placeholder:"A",max:1,min:0,step:.01,precision:2,onChange:e[27]||(e[27]=s=>_({hsva:l(a)}))},null,8,["modelValue"])])]),_:1}),u(m,{label:"HSLA",class:"hsla"},{default:C(()=>[g("div",Ne,[u(i,{modelValue:l(c).h,"onUpdate:modelValue":e[28]||(e[28]=s=>l(c).h=s),"controls-position":"right",placeholder:"H",max:360,min:0,step:.01,formatter:F,parser:P,precision:2,onChange:e[29]||(e[29]=s=>_({hsla:l(c)}))},null,8,["modelValue"]),u(i,{modelValue:l(c).s,"onUpdate:modelValue":e[30]||(e[30]=s=>l(c).s=s),"controls-position":"right",placeholder:"S",max:1,min:0,step:.01,formatter:V,parser:x,precision:2,onChange:e[31]||(e[31]=s=>_({hsla:l(c)}))},null,8,["modelValue"]),u(i,{modelValue:l(c).l,"onUpdate:modelValue":e[32]||(e[32]=s=>l(c).l=s),"controls-position":"right",placeholder:"L",max:1,min:0,step:.01,formatter:V,parser:x,precision:2,onChange:e[33]||(e[33]=s=>_({hsla:l(c)}))},null,8,["modelValue"]),u(i,{modelValue:l(c).a,"onUpdate:modelValue":e[34]||(e[34]=s=>l(c).a=s),"controls-position":"right",placeholder:"A",max:1,min:0,step:.01,precision:2,onChange:e[35]||(e[35]=s=>_({hsla:l(c)}))},null,8,["modelValue"])])]),_:1})]),_:1})]),g("div",De,[u(v,{level:4},{default:C(()=>[D(" 颜色选择 ")]),_:1}),u(G,{direction:"vertical","w-full":"",fill:!0,gap:8},{default:C(()=>[g("div",He,[u(b,{value:l(h),onChange:$},null,8,["value"])]),g("div",Be,[u(W,{value:l(h),onChange:$},null,8,["value"])]),g("div",Ie,[u(z,{value:l(h),onChange:$},null,8,["value"])])]),_:1})]),g("div",Xe,[u(v,{level:4},{default:C(()=>[D(" 颜色预览 ")]),_:1}),g("div",{"w-full":"","h-sm":"",style:k({background:l(S)})},null,4)])])}}},Ye=U(Fe,[["__scopeId","data-v-ae03e935"]]);export{Ye as default};
