var D=Object.defineProperty,L=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var w=(o,e,a)=>e in o?D(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,f=(o,e)=>{for(var a in e||(e={}))j.call(e,a)&&w(o,a,e[a]);if($)for(var a of $(e))z.call(e,a)&&w(o,a,e[a]);return o},S=(o,e)=>L(o,P(e));import{_ as E,j as G,cI as M,k as B,o as u,m as g,a as t,w as r,q as m,F as h,a2 as O,bw as y,p as T,c as p,n as q,b as i,cb as J,$ as Q,B as W}from"./index.93620b04.js";import{T as X,_ as Y}from"./index.e679be0a.js";/* empty css               *//* empty css              */import{_ as Z}from"./index.4278269d.js";import{_ as x}from"./index.c6cdc17d.js";import{R as ee}from"./index.cbd86609.js";import{_ as oe}from"./index.dd2a37f6.js";import{u as N}from"./index.0523568d.js";import{d as te}from"./debounce.ad03ffd6.js";import{_ as ne}from"./FormItem.8902bb1b.js";import{_ as re}from"./Password.3ed8a3f0.js";import{F as ae}from"./Form.2161c1b9.js";import"./index.3c9d73f8.js";import"./Menu.36ba291b.js";import"./_arrayIncludesWith.91d14080.js";import"./_baseFindIndex.10ef1a58.js";import"./Overflow.06e6a1ba.js";import"./collapseMotion.d64cd070.js";import"./useState.534723a7.js";import"./useRefs.4ffc8dd5.js";import"./hasIn.a4385df6.js";import"./isMobile.6491fde5.js";import"./useMergedState.eb1e23b5.js";import"./useFlexGapSupport.e3f41dab.js";import"./Checkbox.fce75e26.js";import"./Col.e97be1a3.js";import"./responsiveObserve.7ceb04cd.js";import"./toArray.bea24b0e.js";import"./get.8a6b5ea9.js";import"./toFinite.18bb5321.js";import"./EyeOutlined.43940bfa.js";const{mapGetters:se,mapActions:le}=G("imgHosting"),ue={name:"ImgHostingSettings",data:()=>({uploaders:N,currentUploader:"aliyun",currentConfig:[],currentCommonConfig:{renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0,customCopyContent:"$url"},radioStyle:{display:"flex",height:"32px",lineHeight:"32px"},customContent:"$url"}),computed:f({},se(["config","uploader","commonConfig"])),mounted(){this.uploader&&(this.currentUploader=this.uploader),this.changeUploader(),this.currentCommonConfig=M(this.currentCommonConfig,B(this.commonConfig||{})),this.currentCommonConfig.customCopyContent!=="$url"&&this.currentCommonConfig.customCopyContent!=="![]($url)"&&(this.customContent=this.currentCommonConfig.customCopyContent)},methods:S(f({},le(["saveConfig","saveCommonConfig","importConfig"])),{changeUploader(){this.currentConfig=B(N[this.currentUploader].config(this.config(this.currentUploader)))},save(){const o={};for(const e of this.currentConfig){if(e.required&&(e.default==null||e.default==="")){this.$msg.warn("\u5FC5\u586B\u9879\u672A\u586B\u5199\u5B8C\u6574");return}o[e.name]=e.default}this.saveConfig({uploader:this.currentUploader,config:o}),this.$msg.success("\u4FDD\u5B58\u6210\u529F")},handler(){this.$refs.file.click()},updateConfig:te(function(){this.saveCommonConfig(this.currentCommonConfig)},100),updateCustomCopyContent(o){this.currentCommonConfig.customCopyContent=o,this.updateConfig()}})},ie=i(" \u901A\u7528\u914D\u7F6E "),pe={class:"commonConfigPanel"},me=i(" \u94FE\u63A5\u590D\u5236\u683C\u5F0F "),ce=i(" \u6807\u51C6"),de=i(" MarkDown"),_e=i(" \u81EA\u5B9A\u4E49"),Ce=i(" \u56FE\u5E8A\u8BBE\u7F6E "),fe={class:"configPanel"},ge={class:"configTable"},he={class:"configOperator"},ye=i(" \u4FDD\u5B58 ");function ve(o,e,a,Ue,ke,l){const c=O,v=oe,d=ne,U=J,_=ee,k=Q,A=x,F=Z,H=re,I=ae,V=W,K=Y,R=X;return u(),g(h,null,[t(c,{level:4},{default:r(()=>[ie]),_:1}),m("div",pe,[t(d,{label:"\u65F6\u95F4\u6233\u91CD\u547D\u540D"},{default:r(()=>[t(v,{checked:o.currentCommonConfig.renameTimeStamp,"onUpdate:checked":e[0]||(e[0]=n=>o.currentCommonConfig.renameTimeStamp=n),onChange:l.updateConfig},null,8,["checked","onChange"])]),_:1}),t(d,{label:"\u4E0A\u4F20\u540E\u81EA\u52A8\u590D\u5236URL"},{default:r(()=>[t(v,{checked:o.currentCommonConfig.copyUrlAfterUpload,"onUpdate:checked":e[1]||(e[1]=n=>o.currentCommonConfig.copyUrlAfterUpload=n),onChange:l.updateConfig},null,8,["checked","onChange"])]),_:1}),t(c,{level:5},{default:r(()=>[me]),_:1}),t(A,null,{default:r(()=>[t(_,{style:y(o.radioStyle),checked:o.currentCommonConfig.customCopyContent==="$url",onChange:e[2]||(e[2]=n=>l.updateCustomCopyContent("$url"))},{default:r(()=>[ce,t(U,{code:"",content:"$url"})]),_:1},8,["style","checked"]),t(_,{style:y(o.radioStyle),checked:o.currentCommonConfig.customCopyContent==="![]($url)",onChange:e[3]||(e[3]=n=>l.updateCustomCopyContent("![]($url)"))},{default:r(()=>[de,t(U,{code:"",content:"![]($url)"})]),_:1},8,["style","checked"]),t(_,{style:y(o.radioStyle),checked:o.currentCommonConfig.customCopyContent===o.customContent,onChange:e[6]||(e[6]=n=>l.updateCustomCopyContent(o.customContent))},{default:r(()=>[_e,t(k,{value:o.customContent,"onUpdate:value":e[4]||(e[4]=n=>o.customContent=n),style:{width:"100px","margin-left":"10px"},onChange:e[5]||(e[5]=n=>l.updateCustomCopyContent(n.target.value))},null,8,["value"])]),_:1},8,["style","checked"])]),_:1})]),t(F),t(c,{level:4},{default:r(()=>[Ce]),_:1}),t(R,{activeKey:o.currentUploader,"onUpdate:activeKey":e[7]||(e[7]=n=>o.currentUploader=n),type:"card",onChange:l.changeUploader},{default:r(()=>[(u(!0),g(h,null,T(o.uploaders,(n,b)=>(u(),p(K,{key:b,tab:n.name},{default:r(()=>[m("div",fe,[m("div",ge,[o.currentUploader===b?(u(),p(I,{key:0,layout:"vertical"},{default:r(()=>[(u(!0),g(h,null,T(o.currentConfig,s=>(u(),p(d,{key:s.name,label:s.label,required:s.required},{default:r(()=>[s.type==="input"?(u(),p(k,{key:0,value:s.default,"onUpdate:value":C=>s.default=C,"allow-clear":"",placeholder:s.hint},null,8,["value","onUpdate:value","placeholder"])):s.type==="password"?(u(),p(H,{key:1,value:s.default,"onUpdate:value":C=>s.default=C,"allow-clear":"",placeholder:s.hint},null,8,["value","onUpdate:value","placeholder"])):q("",!0)]),_:2},1032,["label","required"]))),128))]),_:2},1024)):q("",!0)]),m("div",he,[t(V,{type:"primary",onClick:l.save},{default:r(()=>[ye]),_:1},8,["onClick"])])])]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey","onChange"])],64)}var to=E(ue,[["render",ve],["__scopeId","data-v-7e9da807"]]);export{to as default};
