import{j as M,bR as B,Y as S,B as d,k as E,q as F,x as z,l as N,o as b,c as y,b as o,az as w,y as t,aA as U,b4 as D,b3 as P,a3 as R,a as k,X as I,ay as T,bv as $,b8 as j,aH as q,aI as A}from"./vendor-_H2Zizob.js";import{x as L}from"./xml-formatter-_0nvPTPh.js";import H from"./fullEditor-AAAHpz1R.js";import"./shared/test/xmlEditor-Ju7E91wk.js";import"./common-ad37U__l.js";import"./ant-design-vue-VLD91q-I.js";import"./vanilla-jsoneditor--Y_UqYYL.js";const Y={class:"formatter-container"},G=M({__name:"FormatTransformer",props:{transformer:{type:Function,default:B},inputValidationRules:{default:()=>[]},inputLabel:{default:"输入"},inputPlaceholder:{default:"输入..."},inputDefault:{default:""},outputLabel:{default:"输出"}},emits:["format"],setup(u,{emit:r}){const s=u,{transformer:m,inputValidationRules:i,inputLabel:p,outputLabel:x,inputPlaceholder:h,inputDefault:c}=S(s),f=r,V=d(),l=E({input:c.value});F(c,_=>{l.input=_});const e=z(()=>m.value(l.input)),a=E({input:i.value});return N(()=>{f("format",e.value)}),F(e,()=>{f("format",e.value)}),(_,v)=>{const n=U,g=D,C=P;return b(),y("div",Y,[o(C,{ref_key:"ruleFormRef",ref:V,model:t(l),"label-position":"top",rules:t(a)},{default:w(()=>[o(g,{label:t(p),prop:"input"},{default:w(()=>[o(n,{modelValue:t(l).input,"onUpdate:modelValue":v[0]||(v[0]=X=>t(l).input=X),placeholder:t(h),rows:20,type:"textarea"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(g,{label:t(x)},{default:w(()=>[o(n,{"model-value":t(e),rows:20,type:"textarea",readonly:""},null,8,["model-value"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])}}}),J=R(G,[["__scopeId","data-v-31e396f2"]]),K=u=>(q("data-v-42d9ab2a"),u=u(),A(),u),O={class:"code-container"},Q={key:0,flex:"","gap-4":"","flex-col":"","w-full":"","items-center":""},W={flex:"","gap-4":"","items-center":""},Z=K(()=>k("span",null," 缩进大小 ",-1)),ee=M({__name:"xmlEditor",setup(u){const r=d(!1),s=d("<hello><world>foo</world><world>bar</world></hello>"),m=d(""),i=d(!0),p=d(2),x=[{validator:(l,e,a)=>{V(e)?a():a(new Error("请输入正确的XML内容"))},trigger:"change"}];function h(){s.value=m.value||s.value,r.value=!r.value}function c(l){m.value=l}function f(l){try{return L(l.trim(),{collapseContent:i.value,indentation:" ".repeat(p.value),lineSeparator:`
`})}catch{return""}}function V(l){const e=l.trim();if(!e)return!0;try{return L(e),!0}catch{return!1}}return(l,e)=>{const a=$,_=j,v=J;return b(),y("div",O,[o(a,{"model-value":t(r),size:"large","inactive-text":"简易模式","active-text":"高级模式",onChange:h},null,8,["model-value"]),t(r)?(b(),T(H,{key:1,value:t(s),onChange:c},null,8,["value"])):(b(),y("div",Q,[k("div",W,[o(a,{modelValue:t(i),"onUpdate:modelValue":e[0]||(e[0]=n=>I(i)?i.value=n:null),size:"large","inactive-text":"折叠内容"},null,8,["modelValue"]),Z,o(_,{modelValue:t(p),"onUpdate:modelValue":e[1]||(e[1]=n=>I(p)?p.value=n:null),min:0,max:10,step:1,"step-strictly":!0},null,8,["modelValue"])]),o(v,{"w-full":"","input-label":"你的XML内容","input-placeholder":"在这里粘贴XML内容...","output-label":"格式化后的XML内容","input-default":t(s),transformer:f,"input-validation-rules":x,onFormat:e[2]||(e[2]=n=>m.value=n)},null,8,["input-default"])]))])}}}),se=R(ee,[["__scopeId","data-v-42d9ab2a"]]);export{se as default};
