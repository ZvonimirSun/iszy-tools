import{_ as Je,k as Oe,u as Ie,q as oe,r as K,w as H,s as ut,aB as nr,aC as rr,x as j,ah as ar,z as Pt,aD as tt,aE as or,aF as ze,aG as nt,a4 as sr,aH as Ue,aI as Tt,p as ir,aJ as ur,al as rt,l as Ee,ag as Ct,I as Be,R as V,aK as et,aL as dr,V as ke,ai as at,an as ot,E as z,F as L,K as G,G as U,y as lr,v as he,$ as ve,t as cr,Y as fe,Z as _e,aM as fr,aN as hr,a7 as le,aO as pr,a8 as jt,a9 as wt,T as mr,a5 as gr,aP as yr,aQ as me,H as ee,aR as vr,aS as kr,n as St,aT as br,aU as Nr,N as Z,X as Dt,W as Cr,aV as wr,aA as Dr,aW as xt,a0 as xr}from"./index-BnVvX7-X.js";import{E as Er}from"./el-checkbox-BQNB1-8S.js";/* empty css               */import{s as Or,a as Ir,E as Pr}from"./el-select-D48WF10K.js";import"./el-popper-DdNCOOvz.js";import{E as Tr}from"./el-pagination-DXH_lStx.js";import{E as jr}from"./el-divider-BW5S2Hok.js";import{L as Sr,P as qr,T as Kr,a as Ar,b as Rr}from"./Router-CDhhOxJv.js";import{E as _r}from"./index-mwW2yrJy.js";import"./strings-xiLoSGND.js";import"./castArray-DaOcXusk.js";import"./_baseIteratee-DLvi0cuj.js";import"./index-B-0owVqi.js";import"./index-aeNPmGjh.js";import"./isUndefined-DCTLXrZ8.js";const Br=Oe({name:"ElCollapseTransition"}),$r=Oe({...Br,setup(s){const o=Ie("collapse-transition"),i=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},d={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){i(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){i(t)},leaveCancelled(t){i(t)}};return(t,l)=>(K(),oe(ar,nr({name:j(o).b()},rr(d)),{default:H(()=>[ut(t.$slots,"default")]),_:3},16,["name"]))}});var Lr=Je($r,[["__file","collapse-transition.vue"]]);const Fr=Pt(Lr),xe="$treeNodeId",Et=function(s,o){!o||o[xe]||Object.defineProperty(o,xe,{value:s.id,enumerable:!1,configurable:!1,writable:!1})},dt=(s,o)=>o==null?void 0:o[s||xe],st=(s,o,i)=>{const d=s.value.currentNode;i();const t=s.value.currentNode;d!==t&&o("current-change",t?t.data:null,t)},it=s=>{let o=!0,i=!0,d=!0;for(let t=0,l=s.length;t<l;t++){const g=s[t];(g.checked!==!0||g.indeterminate)&&(o=!1,g.disabled||(d=!1)),(g.checked!==!1||g.indeterminate)&&(i=!1)}return{all:o,none:i,allWithoutDisable:d,half:!o&&!i}},Re=function(s){if(s.childNodes.length===0||s.loading)return;const{all:o,none:i,half:d}=it(s.childNodes);o?(s.checked=!0,s.indeterminate=!1):d?(s.checked=!1,s.indeterminate=!0):i&&(s.checked=!1,s.indeterminate=!1);const t=s.parent;!t||t.level===0||s.store.checkStrictly||Re(t)},Me=function(s,o){const i=s.store.props,d=s.data||{},t=i[o];if(Ue(t))return t(d,s);if(Tt(t))return d[t];if(nt(t)){const l=d[o];return l===void 0?"":l}};let zr=0;class be{constructor(o){this.id=zr++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in o)tt(o,i)&&(this[i]=o[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const o=this.store;if(!o)throw new Error("[Node]store is required!");o.registerNode(this);const i=o.props;if(i&&typeof i.isLeaf<"u"){const l=Me(this,"isLeaf");or(l)&&(this.isLeafByUser=l)}if(o.lazy!==!0&&this.data?(this.setData(this.data),o.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&o.lazy&&o.defaultExpandAll&&!this.isLeafByUser&&this.expand(),ze(this.data)||Et(this,this.data),!this.data)return;const d=o.defaultExpandedKeys,t=o.key;t&&d&&d.includes(this.key)&&this.expand(null,o.autoExpandParent),t&&o.currentNodeKey!==void 0&&this.key===o.currentNodeKey&&(o.currentNode=this,o.currentNode.isCurrent=!0),o.lazy&&o._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(o){ze(o)||Et(this,o),this.data=o,this.childNodes=[];let i;this.level===0&&ze(this.data)?i=this.data:i=Me(this,"children")||[];for(let d=0,t=i.length;d<t;d++)this.insertChild({data:i[d]})}get label(){return Me(this,"label")}get key(){const o=this.store.key;return this.data?this.data[o]:null}get disabled(){return Me(this,"disabled")}get nextSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return o.childNodes[i+1]}return null}get previousSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return i>0?o.childNodes[i-1]:null}return null}contains(o,i=!0){return(this.childNodes||[]).some(d=>d===o||i&&d.contains(o))}remove(){const o=this.parent;o&&o.removeChild(this)}insertChild(o,i,d){if(!o)throw new Error("InsertChild error: child is required.");if(!(o instanceof be)){if(!d){const t=this.getChildren(!0);t.includes(o.data)||(nt(i)||i<0?t.push(o.data):t.splice(i,0,o.data))}Object.assign(o,{parent:this,store:this.store}),o=sr(new be(o)),o instanceof be&&o.initialize()}o.level=this.level+1,nt(i)||i<0?this.childNodes.push(o):this.childNodes.splice(i,0,o),this.updateLeafState()}insertBefore(o,i){let d;i&&(d=this.childNodes.indexOf(i)),this.insertChild(o,d)}insertAfter(o,i){let d;i&&(d=this.childNodes.indexOf(i),d!==-1&&(d+=1)),this.insertChild(o,d)}removeChild(o){const i=this.getChildren()||[],d=i.indexOf(o.data);d>-1&&i.splice(d,1);const t=this.childNodes.indexOf(o);t>-1&&(this.store&&this.store.deregisterNode(o),o.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(o){let i=null;for(let d=0;d<this.childNodes.length;d++)if(this.childNodes[d].data===o){i=this.childNodes[d];break}i&&this.removeChild(i)}expand(o,i){const d=()=>{if(i){let t=this.parent;for(;t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,o&&o(),this.childNodes.forEach(t=>{t.canFocus=!0})};this.shouldLoadData()?this.loadData(t=>{ze(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Re(this),d())}):d()}doCreateChildren(o,i={}){o.forEach(d=>{this.insertChild(Object.assign({data:d},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(o=>{o.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const o=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!o||o.length===0;return}this.isLeaf=!1}setChecked(o,i,d,t){if(this.indeterminate=o==="half",this.checked=o===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:g,allWithoutDisable:b}=it(this.childNodes);!this.isLeaf&&!g&&b&&(this.checked=!1,o=!1);const T=()=>{if(i){const D=this.childNodes;for(let E=0,y=D.length;E<y;E++){const B=D[E];t=t||o!==!1;const F=B.disabled?B.checked:t;B.setChecked(F,i,!0,t)}const{half:N,all:x}=it(D);x||(this.checked=x,this.indeterminate=N)}};if(this.shouldLoadData()){this.loadData(()=>{T(),Re(this)},{checked:o!==!1});return}else T()}const l=this.parent;!l||l.level===0||d||Re(l)}getChildren(o=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const d=this.store.props;let t="children";return d&&(t=d.children||"children"),i[t]===void 0&&(i[t]=null),o&&!i[t]&&(i[t]=[]),i[t]}updateChildren(){const o=this.getChildren()||[],i=this.childNodes.map(l=>l.data),d={},t=[];o.forEach((l,g)=>{const b=l[xe];!!b&&i.findIndex(D=>D[xe]===b)>=0?d[b]={index:g,data:l}:t.push({index:g,data:l})}),this.store.lazy||i.forEach(l=>{d[l[xe]]||this.removeChildByData(l)}),t.forEach(({index:l,data:g})=>{this.insertChild({data:g},l)}),this.updateLeafState()}loadData(o,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const d=l=>{this.childNodes=[],this.doCreateChildren(l,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),o&&o.call(this,l)},t=()=>{this.loading=!1};this.store.load(this,d,t)}else o&&o.call(this)}eachNode(o){const i=[this];for(;i.length;){const d=i.shift();i.unshift(...d.childNodes),o(d)}}reInitChecked(){this.store.checkStrictly||Re(this)}}class Mr{constructor(o){this.currentNode=null,this.currentNodeKey=null;for(const i in o)tt(o,i)&&(this[i]=o[i]);this.nodesMap={}}initialize(){if(this.root=new be({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const o=this.load;o(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(o){const i=this.filterNodeMethod,d=this.lazy,t=async function(l){const g=l.root?l.root.childNodes:l.childNodes;for(const[b,T]of g.entries())T.visible=i.call(T,o,T.data,T),b%80===0&&b>0&&await rt(),t(T);if(!l.visible&&g.length){let b=!0;b=!g.some(T=>T.visible),l.root?l.root.visible=b===!1:l.visible=b===!1}o&&l.visible&&!l.isLeaf&&(!d||l.loaded)&&l.expand()};t(this)}setData(o){o!==this.root.data?(this.nodesMap={},this.root.setData(o),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(o){if(o instanceof be)return o;const i=ir(o)?dt(this.key,o):o;return this.nodesMap[i]||null}insertBefore(o,i){const d=this.getNode(i);d.parent.insertBefore({data:o},d)}insertAfter(o,i){const d=this.getNode(i);d.parent.insertAfter({data:o},d)}remove(o){const i=this.getNode(o);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(o,i){const d=ur(i)?this.root:this.getNode(i);d&&d.insertChild({data:o})}_initDefaultCheckedNodes(){const o=this.defaultCheckedKeys||[],i=this.nodesMap;o.forEach(d=>{const t=i[d];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(o){(this.defaultCheckedKeys||[]).includes(o.key)&&o.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(o){o!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=o,this._initDefaultCheckedNodes())}registerNode(o){const i=this.key;!o||!o.data||(i?o.key!==void 0&&(this.nodesMap[o.key]=o):this.nodesMap[o.id]=o)}deregisterNode(o){!this.key||!o||!o.data||(o.childNodes.forEach(d=>{this.deregisterNode(d)}),delete this.nodesMap[o.key])}getCheckedNodes(o=!1,i=!1){const d=[],t=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(b=>{(b.checked||i&&b.indeterminate)&&(!o||o&&b.isLeaf)&&d.push(b.data),t(b)})};return t(this),d}getCheckedKeys(o=!1){return this.getCheckedNodes(o).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const o=[],i=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(l=>{l.indeterminate&&o.push(l.data),i(l)})};return i(this),o}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(o=>(o||{})[this.key])}_getAllNodes(){const o=[],i=this.nodesMap;for(const d in i)tt(i,d)&&o.push(i[d]);return o}updateChildren(o,i){const d=this.nodesMap[o];if(!d)return;const t=d.childNodes;for(let l=t.length-1;l>=0;l--){const g=t[l];this.remove(g.data)}for(let l=0,g=i.length;l<g;l++){const b=i[l];this.append(b,d.data)}}_setCheckedKeys(o,i=!1,d){const t=this._getAllNodes().sort((T,D)=>T.level-D.level),l=Object.create(null),g=Object.keys(d);t.forEach(T=>T.setChecked(!1,!1));const b=T=>{T.childNodes.forEach(D=>{var N;l[D.data[o]]=!0,(N=D.childNodes)!=null&&N.length&&b(D)})};for(let T=0,D=t.length;T<D;T++){const N=t[T],x=N.data[o].toString();if(!g.includes(x)){N.checked&&!l[x]&&N.setChecked(!1,!1);continue}if(N.childNodes.length&&b(N),N.isLeaf||this.checkStrictly){N.setChecked(!0,!1);continue}if(N.setChecked(!0,!0),i){N.setChecked(!1,!1);const y=function(B){B.childNodes.forEach(w=>{w.isLeaf||w.setChecked(!1,!1),y(w)})};y(N)}}}setCheckedNodes(o,i=!1){const d=this.key,t={};o.forEach(l=>{t[(l||{})[d]]=!0}),this._setCheckedKeys(d,i,t)}setCheckedKeys(o,i=!1){this.defaultCheckedKeys=o;const d=this.key,t={};o.forEach(l=>{t[l]=!0}),this._setCheckedKeys(d,i,t)}setDefaultExpandedKeys(o){o=o||[],this.defaultExpandedKeys=o,o.forEach(i=>{const d=this.getNode(i);d&&d.expand(null,this.autoExpandParent)})}setChecked(o,i,d){const t=this.getNode(o);t&&t.setChecked(!!i,d)}getCurrentNode(){return this.currentNode}setCurrentNode(o){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=o,this.currentNode.isCurrent=!0}setUserCurrentNode(o,i=!0){const d=o[this.key],t=this.nodesMap[d];this.setCurrentNode(t),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(o,i=!0){if(this.currentNodeKey=o,o==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const d=this.getNode(o);d&&(this.setCurrentNode(d),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Hr=Oe({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(s){const o=Ie("tree"),i=Ee("NodeInstance"),d=Ee("RootTree");return()=>{const t=s.node,{data:l,store:g}=t;return s.renderContent?s.renderContent(Ct,{_self:i,node:t,data:l,store:g}):ut(d.ctx.slots,"default",{node:t,data:l},()=>[Ct("span",{class:o.be("node","label")},[t.label])])}}});var Ur=Je(Hr,[["__file","tree-node-content.vue"]]);function qt(s){const o=Ee("TreeNodeMap",null),i={treeNodeExpand:d=>{s.node!==d&&s.node.collapse()},children:[]};return o&&o.children.push(i),Be("TreeNodeMap",i),{broadcastExpanded:d=>{if(s.accordion)for(const t of i.children)t.treeNodeExpand(d)}}}const Kt=Symbol("dragEvents");function Jr({props:s,ctx:o,el$:i,dropIndicator$:d,store:t}){const l=Ie("tree"),g=V({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Be(Kt,{treeNodeDragStart:({event:N,treeNode:x})=>{if(Ue(s.allowDrag)&&!s.allowDrag(x.node))return N.preventDefault(),!1;N.dataTransfer.effectAllowed="move";try{N.dataTransfer.setData("text/plain","")}catch{}g.value.draggingNode=x,o.emit("node-drag-start",x.node,N)},treeNodeDragOver:({event:N,treeNode:x})=>{const E=x,y=g.value.dropNode;y&&y.node.id!==E.node.id&&et(y.$el,l.is("drop-inner"));const B=g.value.draggingNode;if(!B||!E)return;let F=!0,w=!0,X=!0,J=!0;Ue(s.allowDrop)&&(F=s.allowDrop(B.node,E.node,"prev"),J=w=s.allowDrop(B.node,E.node,"inner"),X=s.allowDrop(B.node,E.node,"next")),N.dataTransfer.dropEffect=w||F||X?"move":"none",(F||w||X)&&(y==null?void 0:y.node.id)!==E.node.id&&(y&&o.emit("node-drag-leave",B.node,y.node,N),o.emit("node-drag-enter",B.node,E.node,N)),F||w||X?g.value.dropNode=E:g.value.dropNode=null,E.node.nextSibling===B.node&&(X=!1),E.node.previousSibling===B.node&&(F=!1),E.node.contains(B.node,!1)&&(w=!1),(B.node===E.node||B.node.contains(E.node))&&(F=!1,w=!1,X=!1);const te=E.$el.querySelector(`.${l.be("node","content")}`).getBoundingClientRect(),W=i.value.getBoundingClientRect();let v;const $=F?w?.25:X?.45:1:-1,re=X?w?.75:F?.55:0:1;let ne=-9999;const P=N.clientY-te.top;P<te.height*$?v="before":P>te.height*re?v="after":w?v="inner":v="none";const O=E.$el.querySelector(`.${l.be("node","expand-icon")}`).getBoundingClientRect(),I=d.value;v==="before"?ne=O.top-W.top:v==="after"&&(ne=O.bottom-W.top),I.style.top=`${ne}px`,I.style.left=`${O.right-W.left}px`,v==="inner"?dr(E.$el,l.is("drop-inner")):et(E.$el,l.is("drop-inner")),g.value.showDropIndicator=v==="before"||v==="after",g.value.allowDrop=g.value.showDropIndicator||J,g.value.dropType=v,o.emit("node-drag-over",B.node,E.node,N)},treeNodeDragEnd:N=>{const{draggingNode:x,dropType:E,dropNode:y}=g.value;if(N.preventDefault(),N.dataTransfer&&(N.dataTransfer.dropEffect="move"),x&&y){const B={data:x.node.data};E!=="none"&&x.node.remove(),E==="before"?y.node.parent.insertBefore(B,y.node):E==="after"?y.node.parent.insertAfter(B,y.node):E==="inner"&&y.node.insertChild(B),E!=="none"&&(t.value.registerNode(B),t.value.key&&x.node.eachNode(F=>{var w;(w=t.value.nodesMap[F.data[t.value.key]])==null||w.setChecked(F.checked,!t.value.checkStrictly)})),et(y.$el,l.is("drop-inner")),o.emit("node-drag-end",x.node,y.node,E,N),E!=="none"&&o.emit("node-drop",x.node,y.node,E,N)}x&&!y&&o.emit("node-drag-end",x.node,null,E,N),g.value.showDropIndicator=!1,g.value.draggingNode=null,g.value.dropNode=null,g.value.allowDrop=!0}}),{dragState:g}}const Qr=Oe({name:"ElTreeNode",components:{ElCollapseTransition:Fr,ElCheckbox:Er,NodeContent:Ur,ElIcon:hr,Loading:fr},props:{node:{type:be,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(s,o){const i=Ie("tree"),{broadcastExpanded:d}=qt(s),t=Ee("RootTree"),l=V(!1),g=V(!1),b=V(),T=V(),D=V(),N=Ee(Kt),x=jt();Be("NodeInstance",x),s.node.expanded&&(l.value=!0,g.value=!0);const E=t.props.props.children||"children";le(()=>{var P;const O=(P=s.node.data)==null?void 0:P[E];return O&&[...O]},()=>{s.node.updateChildren()}),le(()=>s.node.indeterminate,P=>{F(s.node.checked,P)}),le(()=>s.node.checked,P=>{F(P,s.node.indeterminate)}),le(()=>s.node.childNodes.length,()=>s.node.reInitChecked()),le(()=>s.node.expanded,P=>{rt(()=>l.value=P),P&&(g.value=!0)});const y=P=>dt(t.props.nodeKey,P.data),B=P=>{const O=s.props.class;if(!O)return{};let I;if(Ue(O)){const{data:de}=P;I=O(de,P)}else I=O;return Tt(I)?{[I]:!0}:I},F=(P,O)=>{(b.value!==P||T.value!==O)&&t.ctx.emit("check-change",s.node.data,P,O),b.value=P,T.value=O},w=P=>{st(t.store,t.ctx.emit,()=>{var O;if((O=t==null?void 0:t.props)==null?void 0:O.nodeKey){const de=y(s.node);t.store.value.setCurrentNodeKey(de)}else t.store.value.setCurrentNode(s.node)}),t.currentNode.value=s.node,t.props.expandOnClickNode&&J(),(t.props.checkOnClickNode||s.node.isLeaf&&t.props.checkOnClickLeaf)&&!s.node.disabled&&te(!s.node.checked),t.ctx.emit("node-click",s.node.data,s.node,x,P)},X=P=>{var O;(O=t.instance.vnode.props)!=null&&O.onNodeContextmenu&&(P.stopPropagation(),P.preventDefault()),t.ctx.emit("node-contextmenu",P,s.node.data,s.node,x)},J=()=>{s.node.isLeaf||(l.value?(t.ctx.emit("node-collapse",s.node.data,s.node,x),s.node.collapse()):s.node.expand(()=>{o.emit("node-expand",s.node.data,s.node,x)}))},te=P=>{s.node.setChecked(P,!(t!=null&&t.props.checkStrictly)),rt(()=>{const O=t.store.value;t.ctx.emit("check",s.node.data,{checkedNodes:O.getCheckedNodes(),checkedKeys:O.getCheckedKeys(),halfCheckedNodes:O.getHalfCheckedNodes(),halfCheckedKeys:O.getHalfCheckedKeys()})})};return{ns:i,node$:D,tree:t,expanded:l,childNodeRendered:g,oldChecked:b,oldIndeterminate:T,getNodeKey:y,getNodeClass:B,handleSelectChange:F,handleClick:w,handleContextMenu:X,handleExpandIconClick:J,handleCheckChange:te,handleChildNodeExpand:(P,O,I)=>{d(O),t.ctx.emit("node-expand",P,O,I)},handleDragStart:P=>{t.props.draggable&&N.treeNodeDragStart({event:P,treeNode:s})},handleDragOver:P=>{P.preventDefault(),t.props.draggable&&N.treeNodeDragOver({event:P,treeNode:{$el:D.value,node:s.node}})},handleDrop:P=>{P.preventDefault()},handleDragEnd:P=>{t.props.draggable&&N.treeNodeDragEnd(P)},CaretRight:pr}}});function Vr(s,o,i,d,t,l){const g=ke("el-icon"),b=ke("el-checkbox"),T=ke("loading"),D=ke("node-content"),N=ke("el-tree-node"),x=ke("el-collapse-transition");return at((K(),z("div",{ref:"node$",class:he([s.ns.b("node"),s.ns.is("expanded",s.expanded),s.ns.is("current",s.node.isCurrent),s.ns.is("hidden",!s.node.visible),s.ns.is("focusable",!s.node.disabled),s.ns.is("checked",!s.node.disabled&&s.node.checked),s.getNodeClass(s.node)]),role:"treeitem",tabindex:"-1","aria-expanded":s.expanded,"aria-disabled":s.node.disabled,"aria-checked":s.node.checked,draggable:s.tree.props.draggable,"data-key":s.getNodeKey(s.node),onClick:ve(s.handleClick,["stop"]),onContextmenu:s.handleContextMenu,onDragstart:ve(s.handleDragStart,["stop"]),onDragover:ve(s.handleDragOver,["stop"]),onDragend:ve(s.handleDragEnd,["stop"]),onDrop:ve(s.handleDrop,["stop"])},[L("div",{class:he(s.ns.be("node","content")),style:cr({paddingLeft:(s.node.level-1)*s.tree.props.indent+"px"})},[s.tree.props.icon||s.CaretRight?(K(),oe(g,{key:0,class:he([s.ns.be("node","expand-icon"),s.ns.is("leaf",s.node.isLeaf),{expanded:!s.node.isLeaf&&s.expanded}]),onClick:ve(s.handleExpandIconClick,["stop"])},{default:H(()=>[(K(),oe(lr(s.tree.props.icon||s.CaretRight)))]),_:1},8,["class","onClick"])):U("v-if",!0),s.showCheckbox?(K(),oe(b,{key:1,"model-value":s.node.checked,indeterminate:s.node.indeterminate,disabled:!!s.node.disabled,onClick:ve(()=>{},["stop"]),onChange:s.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):U("v-if",!0),s.node.loading?(K(),oe(g,{key:2,class:he([s.ns.be("node","loading-icon"),s.ns.is("loading")])},{default:H(()=>[G(T)]),_:1},8,["class"])):U("v-if",!0),G(D,{node:s.node,"render-content":s.renderContent},null,8,["node","render-content"])],6),G(x,null,{default:H(()=>[!s.renderAfterExpand||s.childNodeRendered?at((K(),z("div",{key:0,class:he(s.ns.be("node","children")),role:"group","aria-expanded":s.expanded},[(K(!0),z(fe,null,_e(s.node.childNodes,E=>(K(),oe(N,{key:s.getNodeKey(E),"render-content":s.renderContent,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,node:E,accordion:s.accordion,props:s.props,onNodeExpand:s.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[ot,s.expanded]]):U("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[ot,s.node.visible]])}var Wr=Je(Qr,[["render",Vr],["__file","tree-node.vue"]]);function Gr({el$:s},o){const i=Ie("tree"),d=wt([]),t=wt([]);mr(()=>{g()}),gr(()=>{d.value=Array.from(s.value.querySelectorAll("[role=treeitem]")),t.value=Array.from(s.value.querySelectorAll("input[type=checkbox]"))}),le(t,b=>{b.forEach(T=>{T.setAttribute("tabindex","-1")})}),yr(s,"keydown",b=>{const T=b.target;if(!T.className.includes(i.b("node")))return;const D=b.code;d.value=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const N=d.value.indexOf(T);let x;if([me.up,me.down].includes(D)){if(b.preventDefault(),D===me.up){x=N===-1?0:N!==0?N-1:d.value.length-1;const y=x;for(;!o.value.getNode(d.value[x].dataset.key).canFocus;){if(x--,x===y){x=-1;break}x<0&&(x=d.value.length-1)}}else{x=N===-1?0:N<d.value.length-1?N+1:0;const y=x;for(;!o.value.getNode(d.value[x].dataset.key).canFocus;){if(x++,x===y){x=-1;break}x>=d.value.length&&(x=0)}}x!==-1&&d.value[x].focus()}[me.left,me.right].includes(D)&&(b.preventDefault(),T.click());const E=T.querySelector('[type="checkbox"]');[me.enter,me.numpadEnter,me.space].includes(D)&&E&&(b.preventDefault(),E.click())});const g=()=>{var b;d.value=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),t.value=Array.from(s.value.querySelectorAll("input[type=checkbox]"));const T=s.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(T.length){T[0].setAttribute("tabindex","0");return}(b=d.value[0])==null||b.setAttribute("tabindex","0")}}const Xr=Oe({name:"ElTree",components:{ElTreeNode:Wr},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:vr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(s,o){const{t:i}=kr(),d=Ie("tree"),t=Ee(Or,null),l=V(new Mr({key:s.nodeKey,data:s.data,lazy:s.lazy,props:s.props,load:s.load,currentNodeKey:s.currentNodeKey,checkStrictly:s.checkStrictly,checkDescendants:s.checkDescendants,defaultCheckedKeys:s.defaultCheckedKeys,defaultExpandedKeys:s.defaultExpandedKeys,autoExpandParent:s.autoExpandParent,defaultExpandAll:s.defaultExpandAll,filterNodeMethod:s.filterNodeMethod}));l.value.initialize();const g=V(l.value.root),b=V(null),T=V(null),D=V(null),{broadcastExpanded:N}=qt(s),{dragState:x}=Jr({props:s,ctx:o,el$:T,dropIndicator$:D,store:l});Gr({el$:T},l);const E=St(()=>{const{childNodes:h}=g.value,R=t?t.hasFilteredOptions!==0:!1;return(!h||h.length===0||h.every(({visible:ue})=>!ue))&&!R});le(()=>s.currentNodeKey,h=>{l.value.setCurrentNodeKey(h)}),le(()=>s.defaultCheckedKeys,h=>{l.value.setDefaultCheckedKey(h)}),le(()=>s.defaultExpandedKeys,h=>{l.value.setDefaultExpandedKeys(h)}),le(()=>s.data,h=>{l.value.setData(h)},{deep:!0}),le(()=>s.checkStrictly,h=>{l.value.checkStrictly=h});const y=h=>{if(!s.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");l.value.filter(h)},B=h=>dt(s.nodeKey,h.data),F=h=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const R=l.value.getNode(h);if(!R)return[];const ue=[R.data];let ge=R.parent;for(;ge&&ge!==g.value;)ue.push(ge.data),ge=ge.parent;return ue.reverse()},w=(h,R)=>l.value.getCheckedNodes(h,R),X=h=>l.value.getCheckedKeys(h),J=()=>{const h=l.value.getCurrentNode();return h?h.data:null},te=()=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const h=J();return h?h[s.nodeKey]:null},W=(h,R)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");l.value.setCheckedNodes(h,R)},v=(h,R)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");l.value.setCheckedKeys(h,R)},$=(h,R,ue)=>{l.value.setChecked(h,R,ue)},re=()=>l.value.getHalfCheckedNodes(),ne=()=>l.value.getHalfCheckedKeys(),P=(h,R=!0)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");st(l,o.emit,()=>{N(h),l.value.setUserCurrentNode(h,R)})},O=(h,R=!0)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");st(l,o.emit,()=>{N(),l.value.setCurrentNodeKey(h,R)})},I=h=>l.value.getNode(h),de=h=>{l.value.remove(h)},Pe=(h,R)=>{l.value.append(h,R)},Ne=(h,R)=>{l.value.insertBefore(h,R)},ce=(h,R)=>{l.value.insertAfter(h,R)},Te=(h,R,ue)=>{N(R),o.emit("node-expand",h,R,ue)},je=(h,R)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");l.value.updateChildren(h,R)};return Be("RootTree",{ctx:o,props:s,store:l,root:g,currentNode:b,instance:jt()}),Be(br,void 0),{ns:d,store:l,root:g,currentNode:b,dragState:x,el$:T,dropIndicator$:D,isEmpty:E,filter:y,getNodeKey:B,getNodePath:F,getCheckedNodes:w,getCheckedKeys:X,getCurrentNode:J,getCurrentKey:te,setCheckedNodes:W,setCheckedKeys:v,setChecked:$,getHalfCheckedNodes:re,getHalfCheckedKeys:ne,setCurrentNode:P,setCurrentKey:O,t:i,getNode:I,remove:de,append:Pe,insertBefore:Ne,insertAfter:ce,handleNodeExpand:Te,updateKeyChildren:je}}});function Yr(s,o,i,d,t,l){const g=ke("el-tree-node");return K(),z("div",{ref:"el$",class:he([s.ns.b(),s.ns.is("dragging",!!s.dragState.draggingNode),s.ns.is("drop-not-allow",!s.dragState.allowDrop),s.ns.is("drop-inner",s.dragState.dropType==="inner"),{[s.ns.m("highlight-current")]:s.highlightCurrent}]),role:"tree"},[(K(!0),z(fe,null,_e(s.root.childNodes,b=>(K(),oe(g,{key:s.getNodeKey(b),node:b,props:s.props,accordion:s.accordion,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,"render-content":s.renderContent,onNodeExpand:s.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),s.isEmpty?(K(),z("div",{key:0,class:he(s.ns.e("empty-block"))},[ut(s.$slots,"empty",{},()=>{var b;return[L("span",{class:he(s.ns.e("empty-text"))},ee((b=s.emptyText)!=null?b:s.t("el.tree.emptyText")),3)]})],2)):U("v-if",!0),at(L("div",{ref:"dropIndicator$",class:he(s.ns.e("drop-indicator"))},null,2),[[ot,s.dragState.showDropIndicator]])],2)}var Zr=Je(Xr,[["render",Yr],["__file","tree.vue"]]);const ea=Pt(Zr);var He={exports:{}};/*! algoliasearch.umd.js | 4.24.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */var ta=He.exports,Ot;function na(){return Ot||(Ot=1,function(s,o){(function(i,d){s.exports=d()})(ta,function(){function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,a)}return r}function t(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?d(Object(r),!0).forEach(function(a){i(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function l(e,n){if(e==null)return{};var r,a,u=function(m,c){if(m==null)return{};var p,C,k={},q=Object.keys(m);for(C=0;C<q.length;C++)p=q[C],c.indexOf(p)>=0||(k[p]=m[p]);return k}(e,n);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(a=0;a<f.length;a++)r=f[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}function g(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,a){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var u=[],f=!0,m=!1,c=void 0;try{for(var p,C=r[Symbol.iterator]();!(f=(p=C.next()).done)&&(u.push(p.value),!a||u.length!==a);f=!0);}catch(k){m=!0,c=k}finally{try{f||C.return==null||C.return()}finally{if(m)throw c}}return u}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(e){return function(n){if(Array.isArray(n)){for(var r=0,a=new Array(n.length);r<n.length;r++)a[r]=n[r];return a}}(e)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(e){var n,r="algoliasearch-client-js-".concat(e.key),a=function(){return n===void 0&&(n=e.localStorage||window.localStorage),n},u=function(){return JSON.parse(a().getItem(r)||"{}")},f=function(c){a().setItem(r,JSON.stringify(c))},m=function(){var c=e.timeToLive?1e3*e.timeToLive:null,p=u(),C=Object.fromEntries(Object.entries(p).filter(function(q){return g(q,2)[1].timestamp!==void 0}));if(f(C),c){var k=Object.fromEntries(Object.entries(C).filter(function(q){var S=g(q,2)[1],_=new Date().getTime();return!(S.timestamp+c<_)}));f(k)}};return{get:function(c,p){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){m();var k=JSON.stringify(c);return u()[k]}).then(function(k){return Promise.all([k?k.value:p(),k!==void 0])}).then(function(k){var q=g(k,2),S=q[0],_=q[1];return Promise.all([S,_||C.miss(S)])}).then(function(k){return g(k,1)[0]})},set:function(c,p){return Promise.resolve().then(function(){var C=u();return C[JSON.stringify(c)]={timestamp:new Date().getTime(),value:p},a().setItem(r,JSON.stringify(C)),p})},delete:function(c){return Promise.resolve().then(function(){var p=u();delete p[JSON.stringify(c)],a().setItem(r,JSON.stringify(p))})},clear:function(){return Promise.resolve().then(function(){a().removeItem(r)})}}}function D(e){var n=b(e.caches),r=n.shift();return r===void 0?{get:function(a,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},m=u();return m.then(function(c){return Promise.all([c,f.miss(c)])}).then(function(c){return g(c,1)[0]})},set:function(a,u){return Promise.resolve(u)},delete:function(a){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(a,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(a,u,f).catch(function(){return D({caches:n}).get(a,u,f)})},set:function(a,u){return r.set(a,u).catch(function(){return D({caches:n}).set(a,u)})},delete:function(a){return r.delete(a).catch(function(){return D({caches:n}).delete(a)})},clear:function(){return r.clear().catch(function(){return D({caches:n}).clear()})}}}function N(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},n={};return{get:function(r,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},f=JSON.stringify(r);if(f in n)return Promise.resolve(e.serializable?JSON.parse(n[f]):n[f]);var m=a(),c=u&&u.miss||function(){return Promise.resolve()};return m.then(function(p){return c(p)}).then(function(){return m})},set:function(r,a){return n[JSON.stringify(r)]=e.serializable?JSON.stringify(a):a,Promise.resolve(a)},delete:function(r){return delete n[JSON.stringify(r)],Promise.resolve()},clear:function(){return n={},Promise.resolve()}}}function x(e,n,r){var a={"x-algolia-api-key":r,"x-algolia-application-id":n};return{headers:function(){return e===X.WithinHeaders?a:{}},queryParameters:function(){return e===X.WithinQueryParameters?a:{}}}}function E(e){var n=0;return e(function r(){return n++,new Promise(function(a){setTimeout(function(){a(e(r))},Math.min(100*n,1e3))})})}function y(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,a){return Promise.resolve()};return Object.assign(e,{wait:function(r){return y(e.then(function(a){return Promise.all([n(a,r),a])}).then(function(a){return a[1]}))}})}function B(e){for(var n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=e[n];e[n]=e[r],e[r]=a}return e}function F(e,n){return n&&Object.keys(n).forEach(function(r){e[r]=n[r](e)}),e}function w(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var u=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[u++])})}var X={WithinQueryParameters:0,WithinHeaders:1};function J(e,n){var r=e||{},a=r.data||{};return Object.keys(r).forEach(function(u){["timeout","headers","queryParameters","data","cacheable"].indexOf(u)===-1&&(a[u]=r[u])}),{data:Object.entries(a).length>0?a:void 0,timeout:r.timeout||n,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var te={Read:1,Write:2,Any:3},W=1,v=2,$=3;function re(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W;return t(t({},e),{},{status:n,lastUpdate:Date.now()})}function ne(e){return typeof e=="string"?{protocol:"https",url:e,accept:te.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||te.Any}}var P="DELETE",O="GET",I="POST",de="PUT";function Pe(e,n){return Promise.all(n.map(function(r){return e.get(r,function(){return Promise.resolve(re(r))})})).then(function(r){var a=r.filter(function(m){return function(c){return c.status===W||Date.now()-c.lastUpdate>12e4}(m)}),u=r.filter(function(m){return function(c){return c.status===$&&Date.now()-c.lastUpdate<=12e4}(m)}),f=[].concat(b(a),b(u));return{getTimeout:function(m,c){return(u.length===0&&m===0?1:u.length+3+m)*c},statelessHosts:f.length>0?f.map(function(m){return ne(m)}):n}})}function Ne(e,n,r,a){var u=[],f=function(S,_){if(!(S.method===O||S.data===void 0&&_.data===void 0)){var A=Array.isArray(S.data)?S.data:t(t({},S.data),_.data);return JSON.stringify(A)}}(r,a),m=function(S,_){var A=t(t({},S.headers),_.headers),M={};return Object.keys(A).forEach(function(Q){var se=A[Q];M[Q.toLowerCase()]=se}),M}(e,a),c=r.method,p=r.method!==O?{}:t(t({},r.data),a.data),C=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),p),a.queryParameters),k=0,q=function S(_,A){var M=_.pop();if(M===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:R(u)};var Q={data:f,headers:m,method:c,url:je(M,r.path,C),connectTimeout:A(k,e.timeouts.connect),responseTimeout:A(k,a.timeout)},se=function(ie){var ae={request:Q,response:ie,host:M,triesLeft:_.length};return u.push(ae),ae},Ke={onSuccess:function(ie){return function(ae){try{return JSON.parse(ae.content)}catch(ye){throw function(pe,De){return{name:"DeserializationError",message:pe,response:De}}(ye.message,ae)}}(ie)},onRetry:function(ie){var ae=se(ie);return ie.isTimedOut&&k++,Promise.all([e.logger.info("Retryable failure",ue(ae)),e.hostsCache.set(M,re(M,ie.isTimedOut?$:v))]).then(function(){return S(_,A)})},onFail:function(ie){throw se(ie),function(ae,ye){var pe=ae.content,De=ae.status,Ae=pe;try{Ae=JSON.parse(pe).message}catch{}return function(Fe,Ze,tr){return{name:"ApiError",message:Fe,status:Ze,transporterStackTrace:tr}}(Ae,De,ye)}(ie,R(u))}};return e.requester.send(Q).then(function(ie){return function(ae,ye){return function(pe){var De=pe.status;return pe.isTimedOut||function(Ae){var Fe=Ae.isTimedOut,Ze=Ae.status;return!Fe&&~~Ze==0}(pe)||~~(De/100)!=2&&~~(De/100)!=4}(ae)?ye.onRetry(ae):~~(ae.status/100)==2?ye.onSuccess(ae):ye.onFail(ae)}(ie,Ke)})};return Pe(e.hostsCache,n).then(function(S){return q(b(S.statelessHosts).reverse(),S.getTimeout)})}function ce(e){var n=e.hostsCache,r=e.logger,a=e.requester,u=e.requestsCache,f=e.responsesCache,m=e.timeouts,c=e.userAgent,p=e.hosts,C=e.queryParameters,k={hostsCache:n,logger:r,requester:a,requestsCache:u,responsesCache:f,timeouts:m,userAgent:c,headers:e.headers,queryParameters:C,hosts:p.map(function(q){return ne(q)}),read:function(q,S){var _=J(S,k.timeouts.read),A=function(){return Ne(k,k.hosts.filter(function(Q){return(Q.accept&te.Read)!=0}),q,_)};if((_.cacheable!==void 0?_.cacheable:q.cacheable)!==!0)return A();var M={request:q,mappedRequestOptions:_,transporter:{queryParameters:k.queryParameters,headers:k.headers}};return k.responsesCache.get(M,function(){return k.requestsCache.get(M,function(){return k.requestsCache.set(M,A()).then(function(Q){return Promise.all([k.requestsCache.delete(M),Q])},function(Q){return Promise.all([k.requestsCache.delete(M),Promise.reject(Q)])}).then(function(Q){var se=g(Q,2);return se[0],se[1]})})},{miss:function(Q){return k.responsesCache.set(M,Q)}})},write:function(q,S){return Ne(k,k.hosts.filter(function(_){return(_.accept&te.Write)!=0}),q,J(S,k.timeouts.write))}};return k}function Te(e){var n={value:"Algolia for JavaScript (".concat(e,")"),add:function(r){var a="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return n.value.indexOf(a)===-1&&(n.value="".concat(n.value).concat(a)),n}};return n}function je(e,n,r){var a=h(r),u="".concat(e.protocol,"://").concat(e.url,"/").concat(n.charAt(0)==="/"?n.substr(1):n);return a.length&&(u+="?".concat(a)),u}function h(e){return Object.keys(e).map(function(n){return w("%s=%s",n,(r=e[n],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(e[n]):e[n]));var r}).join("&")}function R(e){return e.map(function(n){return ue(n)})}function ue(e){var n=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),n)})})}var ge=function(e){return function(n,r){return e.transporter.write({method:I,path:"2/abtests",data:n},r)}},Rt=function(e){return function(n,r){return e.transporter.write({method:P,path:w("2/abtests/%s",n)},r)}},_t=function(e){return function(n,r){return e.transporter.read({method:O,path:w("2/abtests/%s",n)},r)}},Bt=function(e){return function(n){return e.transporter.read({method:O,path:"2/abtests"},n)}},$t=function(e){return function(n,r){return e.transporter.write({method:I,path:w("2/abtests/%s/stop",n)},r)}},Lt=function(e){return function(n){return e.transporter.read({method:O,path:"1/strategies/personalization"},n)}},Ft=function(e){return function(n,r){return e.transporter.write({method:I,path:"1/strategies/personalization",data:n},r)}};function Qe(e){return function n(r){return e.request(r).then(function(a){if(e.batch!==void 0&&e.batch(a.hits),!e.shouldStop(a))return a.cursor?n({cursor:a.cursor}):n({page:(r.page||0)+1})})}({})}var zt=function(e){return function(n,r){var a=r||{},u=a.queryParameters,f=l(a,["queryParameters"]),m=t({acl:n},u!==void 0?{queryParameters:u}:{});return y(e.transporter.write({method:I,path:"1/keys",data:m},f),function(c,p){return E(function(C){return Se(e)(c.key,p).catch(function(k){if(k.status!==404)throw k;return C()})})})}},Mt=function(e){return function(n,r,a){var u=J(a);return u.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:I,path:"1/clusters/mapping",data:{cluster:r}},u)}},Ht=function(e){return function(n,r,a){return e.transporter.write({method:I,path:"1/clusters/mapping/batch",data:{users:n,cluster:r}},a)}},Ut=function(e){return function(n,r){return y(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),function(a,u){return Ce(e)(a.taskID,u)})}},$e=function(e){return function(n,r,a){return y(e.transporter.write({method:I,path:w("1/indexes/%s/operation",n),data:{operation:"copy",destination:r}},a),function(u,f){return qe(e)(n,{methods:{waitTask:Y}}).waitTask(u.taskID,f)})}},Jt=function(e){return function(n,r,a){return $e(e)(n,r,t(t({},a),{},{scope:[Ye.Rules]}))}},Qt=function(e){return function(n,r,a){return $e(e)(n,r,t(t({},a),{},{scope:[Ye.Settings]}))}},Vt=function(e){return function(n,r,a){return $e(e)(n,r,t(t({},a),{},{scope:[Ye.Synonyms]}))}},Wt=function(e){return function(n,r){return n.method===O?e.transporter.read(n,r):e.transporter.write(n,r)}},Gt=function(e){return function(n,r){return y(e.transporter.write({method:P,path:w("1/keys/%s",n)},r),function(a,u){return E(function(f){return Se(e)(n,u).then(f).catch(function(m){if(m.status!==404)throw m})})})}},Xt=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"deleteEntry",body:{objectID:f}}});return y(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(f,m){return Ce(e)(f.taskID,m)})}},Se=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/keys/%s",n)},r)}},lt=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/task/%s",n.toString())},r)}},Yt=function(e){return function(n){return e.transporter.read({method:O,path:"/1/dictionaries/*/settings"},n)}},Zt=function(e){return function(n){return e.transporter.read({method:O,path:"1/logs"},n)}},en=function(e){return function(n){return e.transporter.read({method:O,path:"1/clusters/mapping/top"},n)}},tn=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/clusters/mapping/%s",n)},r)}},nn=function(e){return function(n){var r=n||{},a=r.retrieveMappings,u=l(r,["retrieveMappings"]);return a===!0&&(u.getClusters=!0),e.transporter.read({method:O,path:"1/clusters/mapping/pending"},u)}},qe=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={transporter:e.transporter,appId:e.appId,indexName:n};return F(a,r.methods)}},rn=function(e){return function(n){return e.transporter.read({method:O,path:"1/keys"},n)}},an=function(e){return function(n){return e.transporter.read({method:O,path:"1/clusters"},n)}},on=function(e){return function(n){return e.transporter.read({method:O,path:"1/indexes"},n)}},sn=function(e){return function(n){return e.transporter.read({method:O,path:"1/clusters/mapping"},n)}},un=function(e){return function(n,r,a){return y(e.transporter.write({method:I,path:w("1/indexes/%s/operation",n),data:{operation:"move",destination:r}},a),function(u,f){return qe(e)(n,{methods:{waitTask:Y}}).waitTask(u.taskID,f)})}},dn=function(e){return function(n,r){return y(e.transporter.write({method:I,path:"1/indexes/*/batch",data:{requests:n}},r),function(a,u){return Promise.all(Object.keys(a.taskID).map(function(f){return qe(e)(f,{methods:{waitTask:Y}}).waitTask(a.taskID[f],u)}))})}},ln=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:n}},r)}},ct=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{params:h(u.params||{})})});return e.transporter.read({method:I,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},r)}},ft=function(e){return function(n,r){return Promise.all(n.map(function(a){var u=a.params,f=u.facetName,m=u.facetQuery,c=l(u,["facetName","facetQuery"]);return qe(e)(a.indexName,{methods:{searchForFacetValues:vt}}).searchForFacetValues(f,m,t(t({},r),c))}))}},cn=function(e){return function(n,r){var a=J(r);return a.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:P,path:"1/clusters/mapping"},a)}},fn=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"addEntry",body:f}});return y(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:u}},a),function(f,m){return Ce(e)(f.taskID,m)})}},hn=function(e){return function(n,r){return y(e.transporter.write({method:I,path:w("1/keys/%s/restore",n)},r),function(a,u){return E(function(f){return Se(e)(n,u).catch(function(m){if(m.status!==404)throw m;return f()})})})}},pn=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"addEntry",body:f}});return y(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(f,m){return Ce(e)(f.taskID,m)})}},mn=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("/1/dictionaries/%s/search",n),data:{query:r},cacheable:!0},a)}},gn=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/clusters/mapping/search",data:{query:n}},r)}},yn=function(e){return function(n,r){return y(e.transporter.write({method:de,path:"/1/dictionaries/*/settings",data:n},r),function(a,u){return Ce(e)(a.taskID,u)})}},vn=function(e){return function(n,r){var a=Object.assign({},r),u=r||{},f=u.queryParameters,m=l(u,["queryParameters"]),c=f?{queryParameters:f}:{},p=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return y(e.transporter.write({method:de,path:w("1/keys/%s",n),data:c},m),function(C,k){return E(function(q){return Se(e)(n,k).then(function(S){return function(_){return Object.keys(a).filter(function(A){return p.indexOf(A)!==-1}).every(function(A){if(Array.isArray(_[A])&&Array.isArray(a[A])){var M=_[A];return M.length===a[A].length&&M.every(function(Q,se){return Q===a[A][se]})}return _[A]===a[A]})}(S)?Promise.resolve():q()})})})}},Ce=function(e){return function(n,r){return E(function(a){return lt(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},ht=function(e){return function(n,r){return y(e.transporter.write({method:I,path:w("1/indexes/%s/batch",e.indexName),data:{requests:n}},r),function(a,u){return Y(e)(a.taskID,u)})}},kn=function(e){return function(n){return Qe(t(t({shouldStop:function(r){return r.cursor===void 0}},n),{},{request:function(r){return e.transporter.read({method:I,path:w("1/indexes/%s/browse",e.indexName),data:r},n)}}))}},bn=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Qe(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return kt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(f){return delete f._highlightResult,f})})})}}))}},Nn=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Qe(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return bt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(f){return delete f._highlightResult,f})})})}}))}},Ve=function(e){return function(n,r,a){var u=a||{},f=u.batchSize,m=l(u,["batchSize"]),c={taskIDs:[],objectIDs:[]};return y(function p(){var C,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=[];for(C=k;C<n.length&&(q.push(n[C]),q.length!==(f||1e3));C++);return q.length===0?Promise.resolve(c):ht(e)(q.map(function(S){return{action:r,body:S}}),m).then(function(S){return c.objectIDs=c.objectIDs.concat(S.objectIDs),c.taskIDs.push(S.taskID),C++,p(C)})}(),function(p,C){return Promise.all(p.taskIDs.map(function(k){return Y(e)(k,C)}))})}},Cn=function(e){return function(n){return y(e.transporter.write({method:I,path:w("1/indexes/%s/clear",e.indexName)},n),function(r,a){return Y(e)(r.taskID,a)})}},wn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=J(l(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:I,path:w("1/indexes/%s/rules/clear",e.indexName)},u),function(f,m){return Y(e)(f.taskID,m)})}},Dn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=J(l(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:I,path:w("1/indexes/%s/synonyms/clear",e.indexName)},u),function(f,m){return Y(e)(f.taskID,m)})}},xn=function(e){return function(n,r){return y(e.transporter.write({method:I,path:w("1/indexes/%s/deleteByQuery",e.indexName),data:n},r),function(a,u){return Y(e)(a.taskID,u)})}},En=function(e){return function(n){return y(e.transporter.write({method:P,path:w("1/indexes/%s",e.indexName)},n),function(r,a){return Y(e)(r.taskID,a)})}},On=function(e){return function(n,r){return y(pt(e)([n],r).then(function(a){return{taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},pt=function(e){return function(n,r){var a=n.map(function(u){return{objectID:u}});return Ve(e)(a,we.DeleteObject,r)}},In=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(l(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:P,path:w("1/indexes/%s/rules/%s",e.indexName,n)},f),function(m,c){return Y(e)(m.taskID,c)})}},Pn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(l(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:P,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},f),function(m,c){return Y(e)(m.taskID,c)})}},Tn=function(e){return function(n){return mt(e)(n).then(function(){return!0}).catch(function(r){if(r.status!==404)throw r;return!1})}},jn=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("1/answers/%s/prediction",e.indexName),data:{query:n,queryLanguages:r},cacheable:!0},a)}},Sn=function(e){return function(n,r){var a=r||{},u=a.query,f=a.paginate,m=l(a,["query","paginate"]),c=0;return function p(){return yt(e)(u||"",t(t({},m),{},{page:c})).then(function(C){for(var k=0,q=Object.entries(C.hits);k<q.length;k++){var S=g(q[k],2),_=S[0],A=S[1];if(n(A))return{object:A,position:parseInt(_,10),page:c}}if(c++,f===!1||c>=C.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return p()})}()}},qn=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/indexes/%s/%s",e.indexName,n)},r)}},Kn=function(){return function(e,n){for(var r=0,a=Object.entries(e.hits);r<a.length;r++){var u=g(a[r],2),f=u[0];if(u[1].objectID===n)return parseInt(f,10)}return-1}},An=function(e){return function(n,r){var a=r||{},u=a.attributesToRetrieve,f=l(a,["attributesToRetrieve"]),m=n.map(function(c){return t({indexName:e.indexName,objectID:c},u?{attributesToRetrieve:u}:{})});return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:m}},f)}},Rn=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/indexes/%s/rules/%s",e.indexName,n)},r)}},mt=function(e){return function(n){return e.transporter.read({method:O,path:w("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},n)}},_n=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},r)}},Bn=function(e){return function(n,r){return y(gt(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},gt=function(e){return function(n,r){var a=r||{},u=a.createIfNotExists,f=l(a,["createIfNotExists"]),m=u?we.PartialUpdateObject:we.PartialUpdateObjectNoCreate;return Ve(e)(n,m,f)}},$n=function(e){return function(n,r){var a=r||{},u=a.safe,f=a.autoGenerateObjectIDIfNotExist,m=a.batchSize,c=l(a,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),p=function(A,M,Q,se){return y(e.transporter.write({method:I,path:w("1/indexes/%s/operation",A),data:{operation:Q,destination:M}},se),function(Ke,ie){return Y(e)(Ke.taskID,ie)})},C=Math.random().toString(36).substring(7),k="".concat(e.indexName,"_tmp_").concat(C),q=We({appId:e.appId,transporter:e.transporter,indexName:k}),S=[],_=p(e.indexName,k,"copy",t(t({},c),{},{scope:["settings","synonyms","rules"]}));return S.push(_),y((u?_.wait(c):_).then(function(){var A=q(n,t(t({},c),{},{autoGenerateObjectIDIfNotExist:f,batchSize:m}));return S.push(A),u?A.wait(c):A}).then(function(){var A=p(k,e.indexName,"move",c);return S.push(A),u?A.wait(c):A}).then(function(){return Promise.all(S)}).then(function(A){var M=g(A,3),Q=M[0],se=M[1],Ke=M[2];return{objectIDs:se.objectIDs,taskIDs:[Q.taskID].concat(b(se.taskIDs),[Ke.taskID])}}),function(A,M){return Promise.all(S.map(function(Q){return Q.wait(M)}))})}},Ln=function(e){return function(n,r){return Ge(e)(n,t(t({},r),{},{clearExistingRules:!0}))}},Fn=function(e){return function(n,r){return Xe(e)(n,t(t({},r),{},{clearExistingSynonyms:!0}))}},zn=function(e){return function(n,r){return y(We(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},We=function(e){return function(n,r){var a=r||{},u=a.autoGenerateObjectIDIfNotExist,f=l(a,["autoGenerateObjectIDIfNotExist"]),m=u?we.AddObject:we.UpdateObject;if(m===we.UpdateObject){var c=!0,p=!1,C=void 0;try{for(var k,q=n[Symbol.iterator]();!(c=(k=q.next()).done);c=!0)if(k.value.objectID===void 0)return y(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(S){p=!0,C=S}finally{try{c||q.return==null||q.return()}finally{if(p)throw C}}}return Ve(e)(n,m,f)}},Mn=function(e){return function(n,r){return Ge(e)([n],r)}},Ge=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=a.clearExistingRules,m=J(l(a,["forwardToReplicas","clearExistingRules"]));return u&&(m.queryParameters.forwardToReplicas=1),f&&(m.queryParameters.clearExistingRules=1),y(e.transporter.write({method:I,path:w("1/indexes/%s/rules/batch",e.indexName),data:n},m),function(c,p){return Y(e)(c.taskID,p)})}},Hn=function(e){return function(n,r){return Xe(e)([n],r)}},Xe=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=a.clearExistingSynonyms,m=a.replaceExistingSynonyms,c=J(l(a,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return u&&(c.queryParameters.forwardToReplicas=1),(m||f)&&(c.queryParameters.replaceExistingSynonyms=1),y(e.transporter.write({method:I,path:w("1/indexes/%s/synonyms/batch",e.indexName),data:n},c),function(p,C){return Y(e)(p.taskID,C)})}},yt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/query",e.indexName),data:{query:n},cacheable:!0},r)}},vt=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("1/indexes/%s/facets/%s/query",e.indexName,n),data:{facetQuery:r},cacheable:!0},a)}},kt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/rules/search",e.indexName),data:{query:n}},r)}},bt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/synonyms/search",e.indexName),data:{query:n}},r)}},Un=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(l(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:de,path:w("1/indexes/%s/settings",e.indexName),data:n},f),function(m,c){return Y(e)(m.taskID,c)})}},Y=function(e){return function(n,r){return E(function(a){return function(u){return function(f,m){return u.transporter.read({method:O,path:w("1/indexes/%s/task/%s",u.indexName,f.toString())},m)}}(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},we={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject"},Ye={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Jn=1,Qn=2,Vn=3,Le=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Wn=function(e){return function(n,r){return Le(e)(n.map(function(a){return t(t({},a),{},{fallbackParameters:{},model:"bought-together"})}),r)}},Gn=function(e){return function(n,r){return Le(e)(n.map(function(a){return t(t({},a),{},{model:"related-products"})}),r)}},Xn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-facets",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Yn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-items",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Zn=function(e){return function(n,r){return Le(e)(n.map(function(a){return t(t({},a),{},{model:"looking-similar"})}),r)}},er=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"recommended-for-you",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}};function Nt(e,n,r){var a,u={appId:e,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(c){return new Promise(function(p){var C=new XMLHttpRequest;C.open(c.method,c.url,!0),Object.keys(c.headers).forEach(function(_){return C.setRequestHeader(_,c.headers[_])});var k,q=function(_,A){return setTimeout(function(){C.abort(),p({status:0,content:A,isTimedOut:!0})},1e3*_)},S=q(c.connectTimeout,"Connection timeout");C.onreadystatechange=function(){C.readyState>C.OPENED&&k===void 0&&(clearTimeout(S),k=q(c.responseTimeout,"Socket timeout"))},C.onerror=function(){C.status===0&&(clearTimeout(S),clearTimeout(k),p({content:C.responseText||"Network request failed",status:C.status,isTimedOut:!1}))},C.onload=function(){clearTimeout(S),clearTimeout(k),p({content:C.responseText,status:C.status,isTimedOut:!1})},C.send(c.data)})}},logger:(a=Vn,{debug:function(c,p){return Jn>=a&&console.debug(c,p),Promise.resolve()},info:function(c,p){return Qn>=a&&console.info(c,p),Promise.resolve()},error:function(c,p){return console.error(c,p),Promise.resolve()}}),responsesCache:N(),requestsCache:N({serializable:!1}),hostsCache:D({caches:[T({key:"".concat("4.24.0","-").concat(e)}),N()]}),userAgent:Te("4.24.0").add({segment:"Browser"})},f=t(t({},u),r),m=function(){return function(c){return function(p){var C=p.region||"us",k=x(X.WithinHeaders,p.appId,p.apiKey),q=ce(t(t({hosts:[{url:"personalization.".concat(C,".algolia.com")}]},p),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),p.headers),queryParameters:t(t({},k.queryParameters()),p.queryParameters)}));return F({appId:p.appId,transporter:q},p.methods)}(t(t(t({},u),c),{},{methods:{getPersonalizationStrategy:Lt,setPersonalizationStrategy:Ft}}))}};return function(c){var p=c.appId,C=x(c.authMode!==void 0?c.authMode:X.WithinHeaders,p,c.apiKey),k=ce(t(t({hosts:[{url:"".concat(p,"-dsn.algolia.net"),accept:te.Read},{url:"".concat(p,".algolia.net"),accept:te.Write}].concat(B([{url:"".concat(p,"-1.algolianet.com")},{url:"".concat(p,"-2.algolianet.com")},{url:"".concat(p,"-3.algolianet.com")}]))},c),{},{headers:t(t(t({},C.headers()),{"content-type":"application/x-www-form-urlencoded"}),c.headers),queryParameters:t(t({},C.queryParameters()),c.queryParameters)}));return F({transporter:k,appId:p,addAlgoliaAgent:function(q,S){k.userAgent.add({segment:q,version:S})},clearCache:function(){return Promise.all([k.requestsCache.clear(),k.responsesCache.clear()]).then(function(){})}},c.methods)}(t(t({},f),{},{methods:{search:ct,searchForFacetValues:ft,multipleBatch:dn,multipleGetObjects:ln,multipleQueries:ct,copyIndex:$e,copySettings:Qt,copySynonyms:Vt,copyRules:Jt,moveIndex:un,listIndices:on,getLogs:Zt,listClusters:an,multipleSearchForFacetValues:ft,getApiKey:Se,addApiKey:zt,listApiKeys:rn,updateApiKey:vn,deleteApiKey:Gt,restoreApiKey:hn,assignUserID:Mt,assignUserIDs:Ht,getUserID:tn,searchUserIDs:gn,listUserIDs:sn,getTopUserIDs:en,removeUserID:cn,hasPendingMappings:nn,clearDictionaryEntries:Ut,deleteDictionaryEntries:Xt,getDictionarySettings:Yt,getAppTask:lt,replaceDictionaryEntries:fn,saveDictionaryEntries:pn,searchDictionaryEntries:mn,setDictionarySettings:yn,waitAppTask:Ce,customRequest:Wt,initIndex:function(c){return function(p){return qe(c)(p,{methods:{batch:ht,delete:En,findAnswers:jn,getObject:qn,getObjects:An,saveObject:zn,saveObjects:We,search:yt,searchForFacetValues:vt,waitTask:Y,setSettings:Un,getSettings:mt,partialUpdateObject:Bn,partialUpdateObjects:gt,deleteObject:On,deleteObjects:pt,deleteBy:xn,clearObjects:Cn,browseObjects:kn,getObjectPosition:Kn,findObject:Sn,exists:Tn,saveSynonym:Hn,saveSynonyms:Xe,getSynonym:_n,searchSynonyms:bt,browseSynonyms:Nn,deleteSynonym:Pn,clearSynonyms:Dn,replaceAllObjects:$n,replaceAllSynonyms:Fn,searchRules:kt,getRule:Rn,deleteRule:In,saveRule:Mn,saveRules:Ge,replaceAllRules:Ln,browseRules:bn,clearRules:wn}})}},initAnalytics:function(){return function(c){return function(p){var C=p.region||"us",k=x(X.WithinHeaders,p.appId,p.apiKey),q=ce(t(t({hosts:[{url:"analytics.".concat(C,".algolia.com")}]},p),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),p.headers),queryParameters:t(t({},k.queryParameters()),p.queryParameters)}));return F({appId:p.appId,transporter:q},p.methods)}(t(t(t({},u),c),{},{methods:{addABTest:ge,getABTest:_t,getABTests:Bt,stopABTest:$t,deleteABTest:Rt}}))}},initPersonalization:m,initRecommendation:function(){return function(c){return f.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),m()(c)}},getRecommendations:Le,getFrequentlyBoughtTogether:Wn,getLookingSimilar:Zn,getRecommendedForYou:er,getRelatedProducts:Gn,getTrendingFacets:Xn,getTrendingItems:Yn}}))}return Nt.version="4.24.0",Nt})}(He)),He.exports}var ra=na();const aa=Nr(ra),oa=aa("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),At=oa.initIndex("npm-search"),sa=async(s,o=0,i=10)=>{try{const d=la(s);if(!d)return{response:null,query:s};const t={page:o,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:d.facetFilters?d.facetFilters:void 0},l=await At.search(d.query,t);return l.hits.sort((g,b)=>g.name===d.query?-1:b.name===d.query?1:0),{response:l,query:s}}catch{return{response:null,query:s}}};async function ia(s){return At.getObject(s)}const ua=/\s*[a-z]+\s*:\s*(?:.(?![a-z]*\s*:))*/gi,da=/^((?:[^\s:]+(?!\s*:)\s*)*)/,It={author:"owner.name",type:"moduleTypes"};function la(s){var l;const o=(l=s.match(da))==null?void 0:l[0].trim();if(o==null)return;const i=s,d=[];let t;for(;(t=ua.exec(i))!==null;){const g=t[0].split(":");It[g[0].trim()]&&d.push(`${It[g[0].trim()]}:${g[1].trim()}`)}return{query:o,facetFilters:d.join(",")}}const ca={key:0},fa={class:"result-list"},ha={class:"pkgName"},pa={class:"meta"},ma=["onClick"],ga=["src","alt"],ya=["title"],va={key:0,class:"description"},ka={key:1,flex:"","gap-2":""},ba={key:0},Na={key:1},Ca={key:2},wa={key:3},Da={key:4},xa={key:5},Ea={key:7},Oa={key:8},Ia={key:9},Pa={key:0,flex:"","items-center":""},Ta={key:1,flex:"","items-center":""},ja=10,Sa=Oe({__name:"cdnQuery",setup(s){let o=null;const i=V(!1),d=V(""),t=V(""),l=V(0),g=V([]),b=V(0),T=V(""),D=V(),N=V(""),x=V([]),E=V(),y=V([]),B=St(()=>y.value&&y.value.length?te(y.value):[]);async function F(W=0){if(!d.value){i.value=!1,D.value=null,N.value="",x.value=[],g.value=[],l.value=0,b.value=0,t.value="";return}o&&clearTimeout(o),o=window.setTimeout(async()=>{i.value=!0;const{response:v,query:$}=await sa(d.value,W,ja);if($===d.value){if(v){const{hits:re,page:ne,nbHits:P}=v;g.value=re,b.value=P,l.value=ne,t.value="done"}else Dr.warning("搜索失败");i.value=!1}},200)}function w(W){d.value=`author:${W}`,F(0)}async function X(W){T.value=W,D.value=null,N.value="",x.value=[],E.value=null,y.value=[];try{D.value=await ia(W),N.value=D.value.version??"",await J()}catch(v){console.error(v.message)}}async function J(){var W,v;try{x.value=[],E.value=null,y.value=[],x.value=(await xt.get(`https://data.jsdelivr.com/v1/package/npm/${((W=D.value)==null?void 0:W.name)??""}`)).data.versions.map(ne=>({label:ne,value:ne}));const{default:$,files:re}=(await xt.get(`https://data.jsdelivr.com/v1/package/npm/${((v=D.value)==null?void 0:v.name)??""}@${N.value}`)).data;E.value=$,y.value=re}catch($){console.error($.message)}}function te(W,v){return W.map($=>{const re=v?`${v}/${$.name}`:`/${$.name}`;return{label:$.name,icon:$.type==="directory"?"Folder":"",isLeaf:$.type!=="directory",fileName:re,children:$.type==="directory"&&$.files?te($.files,re):void 0}})}return(W,v)=>{const $=Sr,re=qr,ne=Kr,P=Cr,O=jr,I=_r,de=Tr,Pe=Pr,Ne=Ir,ce=Rr,Te=Ar,je=ea;return K(),z(fe,null,[G(re,null,{default:H(()=>[L("blockquote",null,[L("ul",null,[L("li",null,[v[6]||(v[6]=Z(" 数据来自: ")),G($,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:H(()=>v[5]||(v[5]=[Z(" JSDelivr ")])),_:1})]),L("li",null,[v[8]||(v[8]=Z(" 搜索接口来自: ")),G($,{href:"https://www.algolia.com/",target:"_blank"},{default:H(()=>v[7]||(v[7]=[Z(" Algolia ")])),_:1})])])])]),_:1}),G(ne,{level:3},{default:H(()=>v[9]||(v[9]=[Z(" 请输入要获取CDN的库名 ")])),_:1}),G(P,{modelValue:j(d),"onUpdate:modelValue":v[0]||(v[0]=h=>Dt(d)?d.value=h:null),placeholder:"jquery",clearable:"",onChange:v[1]||(v[1]=h=>F(0))},null,8,["modelValue"]),(K(),oe(wr,null,[j(t)==="done"?(K(),z(fe,{key:0},[G(O),j(T)?(K(),z(fe,{key:1},[G($,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:v[3]||(v[3]=h=>T.value=null)},{default:H(()=>v[12]||(v[12]=[L("span",{class:"i-icon-park-outline-return"},null,-1),Z(" 返回 ")])),_:1}),j(D)?(K(),oe(Te,{key:0,class:"metaDetail"},{default:H(()=>[L("ul",null,[j(D).name?(K(),z("li",ba,[v[13]||(v[13]=L("b",null,"名称: ",-1)),Z(ee(j(D).name),1)])):U("",!0),j(D).homepage?(K(),z("li",Na,[v[14]||(v[14]=L("b",null,"主页: ",-1)),G($,{href:j(D).homepage,target:"_blank"},{default:H(()=>[Z(ee(j(D).homepage),1)]),_:1},8,["href"])])):U("",!0),j(D).description?(K(),z("li",Ca,[v[15]||(v[15]=L("b",null,"简介: ",-1)),Z(ee(j(D).description),1)])):U("",!0),j(D).repository?(K(),z("li",wa,[v[16]||(v[16]=L("b",null,"仓库: ",-1)),Z(ee(j(D).repository.type)+" / ",1),G($,{href:j(D).repository.url,target:"_blank"},{default:H(()=>[Z(ee(j(D).repository.url),1)]),_:1},8,["href"])])):U("",!0),j(D).license?(K(),z("li",Da,[v[17]||(v[17]=L("b",null,"协议: ",-1)),Z(ee(j(D).license),1)])):U("",!0),j(D).owner?(K(),z("li",xa,[v[18]||(v[18]=L("b",null,"作者: ",-1)),Z(ee(j(D).owner.name)+" / ",1),G($,{href:j(D).owner.link,target:"_blank"},{default:H(()=>[Z(ee(j(D).owner.link),1)]),_:1},8,["href"])])):U("",!0),j(x).length?(K(),oe(O,{key:6})):U("",!0),j(x).length?(K(),z("li",Ea,[v[19]||(v[19]=L("b",null,"版本: ",-1)),G(Ne,{modelValue:j(N),"onUpdate:modelValue":v[4]||(v[4]=h=>Dt(N)?N.value=h:null),options:j(x),onChange:J},{default:H(()=>[(K(!0),z(fe,null,_e(j(x),h=>(K(),oe(Pe,{key:h.value,value:h.value,label:h.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):U("",!0),j(E)?(K(),z("li",Oa,[v[20]||(v[20]=L("b",null,"默认文件: ",-1)),G(ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${j(D).name}@${j(N)}${j(E)}`}},{default:H(()=>[G($,{href:`https://cdn.jsdelivr.net/npm/${j(D).name}@${j(N)}${j(E)}`,target:"_blank"},{default:H(()=>[Z(ee(j(E)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):U("",!0),j(y)&&j(y).length?(K(),z("li",Ia,v[21]||(v[21]=[L("b",null,"文件列表",-1),L("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)]))):U("",!0)])]),_:1})):U("",!0),j(D)&&j(y)&&j(y).length?(K(),oe(je,{key:1,data:j(B),selectable:!1},{default:H(({data:h})=>[h.isLeaf?(K(),z("div",Pa,[v[22]||(v[22]=L("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),G(ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${j(D).name}@${j(N)}${h.fileName}`}},{default:H(()=>[Z(ee(h.label),1)]),_:2},1032,["copyable"])])):(K(),z("div",Ta,[v[23]||(v[23]=L("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),G(ce,null,{default:H(()=>[Z(ee(h.label),1)]),_:2},1024)]))]),_:1},8,["data"])):U("",!0)],64)):(K(),z(fe,{key:0},[G(ne,{level:4},{default:H(()=>[L("span",null,"共找到 "+ee(j(b))+" 个库",1),j(b)>1e3?(K(),z("span",ca,"，最多展示前 1000 个结果")):U("",!0)]),_:1}),L("div",fa,[(K(!0),z(fe,null,_e(j(g),h=>(K(),z("div",{key:h.objectID,class:"result-list-item"},[L("div",ha,[G(ne,{level:4,onClick:R=>X(h.objectID)},{default:H(()=>[Z(ee(h.name),1)]),_:2},1032,["onClick"])]),L("div",pa,[h.owner?(K(),z("div",{key:0,class:"owner",onClick:R=>w(h.owner.name)},[L("img",{src:h.owner.avatar,alt:h.owner.name},null,8,ga),L("div",null,ee(h.owner.name),1)],8,ma)):U("",!0),h.version?(K(),oe(I,{key:1,effect:"plain"},{default:H(()=>[v[10]||(v[10]=L("span",{class:"i-icon-park-outline-tag-one"},null,-1)),L("span",{title:h.version},ee(h.version),9,ya)]),_:2},1024)):U("",!0),h.license?(K(),oe(I,{key:2,effect:"plain"},{default:H(()=>[v[11]||(v[11]=L("span",{class:"i-icon-park-outline-balance-two"},null,-1)),Z(ee(h.license),1)]),_:2},1024)):U("",!0)]),h.description?(K(),z("div",va,ee(h.description),1)):U("",!0),h.keywords&&h.keywords.length?(K(),z("div",ka,[(K(!0),z(fe,null,_e(h.keywords,(R,ue)=>(K(),oe(I,{key:ue,effect:"plain"},{default:H(()=>[Z(ee(R),1)]),_:2},1024))),128))])):U("",!0)]))),128))]),G(de,{layout:"prev,jumper,next",total:j(b)>1e3?1e3:j(b),"hide-on-single-page":!0,onCurrentChange:v[2]||(v[2]=h=>F(h-1))},null,8,["total"])],64))],64)):U("",!0)],1024))],64)}}}),Va=xr(Sa,[["__scopeId","data-v-06f339c7"]]);export{Va as default};
