import{ae as le,L as oe,Z as R,B as h,a3 as j,bg as q,bh as z,bi as se,ad as ne,aB as Z,x as G,q as W,c as B,b,aD as D,aM as ue,o as E,a as N,y as v,t as I,X as Y,F as J,e as X,aH as Q,W as ee,b8 as ie,bb as ce,bc as re,aO as fe,aP as de}from"./vendor-e_qgH4qe.js";import{_ as ve,S as he}from"./ant-design-vue-K8nFJReh.js";var te={exports:{}};(function(o,i){(function(l,$){o.exports=$()})(le,function(){var l="minute",$=/[+-]\d\d(?::?\d\d)?/g,S=/([+-]|\d\d)/g;return function(p,c,r){var a=c.prototype;r.utc=function(e){var t={date:e,utc:!0,args:arguments};return new c(t)},a.utc=function(e){var t=r(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),l):t},a.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var y=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),y.call(this,e)};var O=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else O.call(this)};var T=a.utcOffset;a.utcOffset=function(e,t){var f=this.$utils().u;if(f(e))return this.$u?0:f(this.$offset)?T.call(this):this.$offset;if(typeof e=="string"&&(e=function(m){m===void 0&&(m="");var _=m.match($);if(!_)return null;var s=(""+_[0]).match(S)||["-",0,0],V=s[0],w=60*+s[1]+ +s[2];return w===0?0:V==="+"?w:-w}(e),e===null))return this;var d=Math.abs(e)<=16?60*e:e,n=this;if(t)return n.$offset=d,n.$u=e===0,n;if(e!==0){var g=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(n=this.local().add(d+g,l)).$offset=d,n.$x.$localOffset=g}else n=this.utc();return n};var C=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return C.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var M=a.toDate;a.toDate=function(e){return e==="s"&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():M.call(this)};var U=a.diff;a.diff=function(e,t,f){if(e&&this.$u===e.$u)return U.call(this,e,t,f);var d=this.local(),n=r(e).local();return U.call(d,n,t,f)}}})})(te);var pe=te.exports;const me=oe(pe);function _e(...o){const i=typeof o[0]=="string"?o[0]:void 0,l=typeof i=="string"?1:0,$={immediate:!!l,shallow:!0};let S={},p=j,c=$;const r=u=>!!(u!=null&&u.request);o.length>0+l&&(r(o[0+l])?p=o[0+l]:S=o[0+l]),o.length>1+l&&r(o[1+l])&&(p=o[1+l]),(o.length===2+l&&!r(o[1+l])||o.length===3+l)&&(c=o[o.length-1]||$);const{initialData:a,shallow:y,onSuccess:O=q,onError:T=q,immediate:C,resetOnExecute:M=!1}=c,U=R(),e=(y?R:h)(a),t=h(!1),f=h(!1),d=h(!1),n=R(),g=j.CancelToken.source;let m=g();const _=u=>{t.value||!f.value||(m.cancel(u),m=g(),d.value=!0,f.value=!1,t.value=!1)},s=u=>{f.value=u,t.value=!u},V=()=>{M&&(e.value=a)},w=()=>new Promise((u,F)=>{se(t).toBe(!0).then(()=>n.value?F(n.value):u(L))}),H={then:(...u)=>w().then(...u),catch:(...u)=>w().catch(...u)};let k=0;const A=(u=i,F={})=>{n.value=void 0;const P=typeof u=="string"?u:i??F.url;if(P===void 0)return n.value=new z(z.ERR_INVALID_URL),t.value=!0,H;V(),_(),s(!0),k+=1;const ae=k;return d.value=!1,p(P,{...S,...typeof u=="object"?u:F,cancelToken:m.token}).then(x=>{if(d.value)return;U.value=x;const K=x.data;e.value=K,O(K)}).catch(x=>{n.value=x,T(x)}).finally(()=>{var x;(x=c.onFinish)==null||x.call(c),ae===k&&s(!1)}),H};C&&i&&A();const L={response:U,data:e,error:n,isFinished:t,isLoading:f,cancel:_,isAborted:d,isCanceled:d,abort:_,execute:A};return{...L,...H}}const be=o=>(fe("data-v-7c529772"),o=o(),de(),o),$e={"w-full":"","h-full":"","overflow-auto":""},Ce=be(()=>N("blockquote",null,"仅供参考，采用第三方接口，数据可能存在延迟",-1)),De={__name:"forexRate",setup(o){Z.extend(me);const i=h("USD"),l=h("CNY"),$=h("USD"),S=h("CNY"),p=h(1),c=h(0),r=h([{code:"USD",label:"美元"},{code:"CNY",label:"人民币"},{code:"GBP",label:"英镑"},{code:"EUR",label:"欧元"},{code:"HKD",label:"港币"},{code:"MOP",label:"澳门元"},{code:"JPY",label:"日元"},{code:"CAD",label:"加拿大元"},{code:"AUD",label:"澳大利亚元"},{code:"SGD",label:"新加坡元"},{code:"KRW",label:"韩元"},{code:"PHP",label:"菲律宾比索"},{code:"THB",label:"泰国铢"},{code:"CHF",label:"瑞士法郎"},{code:"NZD",label:"新西兰元"},{code:"DKK",label:"丹麦克朗"},{code:"NOK",label:"挪威克朗"},{code:"SEK",label:"瑞典克朗"},{code:"RUB",label:"卢布"},{code:"MYR",label:"林吉特"},{code:"ZAR",label:"南非兰特"}]),a=G(()=>{const e={};return r.value.forEach(t=>{e[t.code]=t.label}),e}),y=h(""),{data:O,execute:T}=_e("https://api.it120.cc/iszy/forex/rate",{params:{fromCode:l.value,toCode:i.value}}),C=G(()=>{var e;return O.value&&((e=O.value.data)==null?void 0:e.rate)||0});W([i,l],()=>{T==null||T("https://api.it120.cc/iszy/forex/rate",{params:{fromCode:l.value,toCode:i.value}})}),W(C,()=>{y.value=Z.utc().format("M月D日 UTC HH:mm"),$.value=i.value,S.value=l.value,c.value=p.value*C.value});function M(){c.value=parseFloat((p.value*C.value).toFixed(4))}function U(){p.value=parseFloat((c.value/C.value).toFixed(4))}return(e,t)=>{const f=ve,d=he,n=ie,g=ce,m=re,_=ue;return E(),B("div",$e,[b(f,null,{default:D(()=>[Ce]),_:1}),b(_,{gap:8,direction:"vertical",style:{margin:"0 auto"}},{default:D(()=>[N("div",null,[b(d,{title:`1 ${v(a)[v($)]} 等于`,value:`${v(C)} ${v(a)[v(S)]}`},null,8,["title","value"]),b(f,null,{default:D(()=>[N("blockquote",null,"查询时间: "+I(v(y)),1)]),_:1})]),b(_,{gap:8},{default:D(()=>[b(n,{modelValue:v(p),"onUpdate:modelValue":t[0]||(t[0]=s=>Y(p)?p.value=s:null),modelModifiers:{number:!0},class:"w-50",onChange:M},null,8,["modelValue"]),b(m,{modelValue:v(i),"onUpdate:modelValue":t[1]||(t[1]=s=>Y(i)?i.value=s:null),class:"w-50"},{default:D(()=>[(E(!0),B(J,null,X(v(r),(s,V)=>(E(),Q(g,{key:V,value:s.code},{default:D(()=>[ee(I(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),b(_,{gap:8},{default:D(()=>[b(n,{modelValue:v(c),"onUpdate:modelValue":t[2]||(t[2]=s=>Y(c)?c.value=s:null),modelModifiers:{number:!0},class:"w-50",onChange:U},null,8,["modelValue"]),b(m,{modelValue:v(l),"onUpdate:modelValue":t[3]||(t[3]=s=>Y(l)?l.value=s:null),class:"w-50"},{default:D(()=>[(E(!0),B(J,null,X(v(r),(s,V)=>(E(),Q(g,{key:V,value:s.code},{default:D(()=>[ee(I(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])}}},Se=ne(De,[["__scopeId","data-v-7c529772"]]);export{Se as default};
