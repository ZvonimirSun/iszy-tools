import{aE as y,aF as v,ad as d,ae as u,a0 as w,c as k,a as N,f as r,x as s,aG as x,r as t,o as I,aC as m,G as $}from"./vendor.ac2e8219.js";/* empty css                *//* empty css               */import{_ as B}from"./index.5f07a1c8.js";const{Item:C}=d,{Password:b}=u,j={name:"\u767B\u5F55",components:{User:y,Lock:v,Form:d,Input:u,Button:w,Item:C,Password:b},watch:{$route:{handler:function(e){const o=e.query;o&&(this.redirect=o.redirect,this.otherQuery=this.getOtherQuery(o))},immediate:!0}},data:()=>({form:{layout:"horizontal",userName:"",password:""},redirect:void 0,otherQuery:{},loading:!1}),methods:{login(){this.form.userName!=null&&this.form.password!=null&&(this.loading=!0,this.$store.dispatch("user/login",{userName:this.form.userName,password:this.form.password}).then(e=>{e?(this.$msg.success("\u767B\u5F55\u6210\u529F\uFF01"),this.$router.push({path:this.redirect||"/",query:this.otherQuery})):this.$msg.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF\uFF01")}).catch(()=>{this.$msg.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF\uFF01")}).finally(()=>{this.loading=!1}))},getOtherQuery(e){return Object.keys(e).reduce((o,a)=>(a!=="redirect"&&(o[a]=e[a]),o),{})}}},K={class:"login-container"},Q={class:"main"},U=$(" \u786E\u5B9A ");function q(e,o,a,z,F,n){const c=t("User"),p=t("Input"),i=t("Item"),f=t("Lock"),h=t("Password"),_=t("Button"),g=t("Form");return I(),k("div",K,[N("div",Q,[r(g,x({layout:e.form.layout,model:e.form},{wrapperCol:{span:24}}),{default:s(()=>[r(i,{required:""},{default:s(()=>[r(p,{value:e.form.userName,"onUpdate:value":o[0]||(o[0]=l=>e.form.userName=l),placeholder:"\u8D26\u6237",size:"large",onKeypress:m(n.login,["enter"])},{prefix:s(()=>[r(c,{theme:"outline",style:{color:"rgba(0,0,0,.25)"}})]),_:1},8,["value","onKeypress"])]),_:1}),r(i,{required:""},{default:s(()=>[r(h,{value:e.form.password,"onUpdate:value":o[1]||(o[1]=l=>e.form.password=l),placeholder:"\u5BC6\u7801",size:"large",onKeypress:m(n.login,["enter"])},{prefix:s(()=>[r(f,{theme:"outline",style:{color:"rgba(0,0,0,.25)"}})]),_:1},8,["value","onKeypress"])]),_:1}),r(i,null,{default:s(()=>[r(_,{type:"primary",block:"",size:"large",onClick:n.login,loading:e.loading},{default:s(()=>[U]),_:1},8,["onClick","loading"])]),_:1})]),_:1},16,["layout","model"])])])}var E=B(j,[["render",q],["__scopeId","data-v-12b28837"]]);export{E as default};
