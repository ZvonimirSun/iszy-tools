import{az as W,e as X,au as z,cD as Z,cC as ee,bf as N,i as L,c as p,ax as G,cj as ae,cv as Se,cE as j,Y as le,X as te,aa as ne,cF as F,ct as oe,I as P,av as B,aB as $,f as Le,ag as J,ab as se,aY as Q,cG as ue,cf as D,_ as M,a as U,bg as re,u as K,g as O,o as V,w as ie,v as I,t as _,x as A,h as S,a7 as ce,ar as R,y as c,M as de,P as be,cH as ve,r as H,N as me,D as fe,z as he,j as T,n as Ee,b as Be,d as w,A as _e,cI as Ie,ah as Ne,O as De,k as we,b1 as pe}from"./index-BrEFJmNm.js";import{o as ze}from"./omit-B9uZVM92.js";const ke={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:{type:Boolean,default:void 0},checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:ee,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},ariaLabel:String,...Z(["ariaControls"])},xe={[N]:e=>W(e)||X(e)||z(e),change:e=>W(e)||X(e)||z(e)},E=Symbol("checkboxGroupContextKey"),Ge=({model:e,isChecked:t})=>{const i=L(E,void 0),l=L(Se,void 0),m=p(()=>{var d,o;const h=(d=i?.max)==null?void 0:d.value,v=(o=i?.min)==null?void 0:o.value;return!G(h)&&e.value.length>=h&&!t.value||!G(v)&&e.value.length<=v&&t.value});return{isDisabled:ae(p(()=>{var d,o;return i===void 0?(d=l?.disabled)!=null?d:m.value:((o=i.disabled)==null?void 0:o.value)||m.value})),isLimitDisabled:m}},Fe=(e,{model:t,isLimitExceeded:i,hasOwnLabel:l,isDisabled:m,isLabeledByFormItem:f})=>{const d=L(E,void 0),{formItem:o}=j(),{emit:h}=le();function v(n){var a,s,b,r;return[!0,e.trueValue,e.trueLabel].includes(n)?(s=(a=e.trueValue)!=null?a:e.trueLabel)!=null?s:!0:(r=(b=e.falseValue)!=null?b:e.falseLabel)!=null?r:!1}function u(n,a){h(F,v(n),a)}function g(n){if(i.value)return;const a=n.target;h(F,v(a.checked),n)}async function x(n){i.value||!l.value&&!m.value&&f.value&&(n.composedPath().some(b=>b.tagName==="LABEL")||(t.value=v([!1,e.falseValue,e.falseLabel].includes(t.value)),await ne(),u(t.value,n)))}const y=p(()=>d?.validateEvent||e.validateEvent);return te(()=>e.modelValue,()=>{y.value&&o?.validate("change").catch(n=>oe())}),{handleChange:g,onClickRoot:x}},Pe=e=>{const t=P(!1),{emit:i}=le(),l=L(E,void 0),m=p(()=>G(l)===!1),f=P(!1),d=p({get(){var o,h;return m.value?(o=l?.modelValue)==null?void 0:o.value:(h=e.modelValue)!=null?h:t.value},set(o){var h,v;m.value&&B(o)?(f.value=((h=l?.max)==null?void 0:h.value)!==void 0&&o.length>l?.max.value&&o.length>d.value.length,f.value===!1&&((v=l?.changeEvent)==null||v.call(l,o))):(i(N,o),t.value=o)}});return{model:d,isGroup:m,isLimitExceeded:f}},$e=(e,t,{model:i})=>{const l=L(E,void 0),m=P(!1),f=p(()=>$(e.value)?e.label:e.value),d=p(()=>{const u=i.value;return z(u)?u:B(u)?Le(f.value)?u.map(J).some(g=>se(g,f.value)):u.map(J).includes(f.value):u!=null?u===e.trueValue||u===e.trueLabel:!!u}),o=Q(p(()=>{var u;return(u=l?.size)==null?void 0:u.value}),{prop:!0}),h=Q(p(()=>{var u;return(u=l?.size)==null?void 0:u.value})),v=p(()=>!!t.default||!$(f.value));return{checkboxButtonSize:o,isChecked:d,isFocused:m,checkboxSize:h,hasOwnLabel:v,actualValue:f}},ge=(e,t)=>{const{formItem:i}=j(),{model:l,isGroup:m,isLimitExceeded:f}=Pe(e),{isFocused:d,isChecked:o,checkboxButtonSize:h,checkboxSize:v,hasOwnLabel:u,actualValue:g}=$e(e,t,{model:l}),{isDisabled:x}=Ge({model:l,isChecked:o}),{inputId:y,isLabeledByFormItem:n}=ue(e,{formItemContext:i,disableIdGeneration:u,disableIdManagement:m}),{handleChange:a,onClickRoot:s}=Fe(e,{model:l,isLimitExceeded:f,hasOwnLabel:u,isDisabled:x,isLabeledByFormItem:n});return(()=>{function r(){var k,C;B(l.value)&&!l.value.includes(g.value)?l.value.push(g.value):l.value=(C=(k=e.trueValue)!=null?k:e.trueLabel)!=null?C:!0}e.checked&&r()})(),D({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},p(()=>m.value&&$(e.value))),D({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},p(()=>!!e.trueLabel)),D({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},p(()=>!!e.falseLabel)),{inputId:y,isLabeledByFormItem:n,isChecked:o,isDisabled:x,isFocused:d,checkboxButtonSize:h,checkboxSize:v,hasOwnLabel:u,model:l,actualValue:g,handleChange:a,onClickRoot:s}},Oe=["id","indeterminate","name","tabindex","disabled"],Ae=U({name:"ElCheckbox",__name:"checkbox",props:ke,emits:xe,setup(e){const t=e,i=re(),{inputId:l,isLabeledByFormItem:m,isChecked:f,isDisabled:d,isFocused:o,checkboxSize:h,hasOwnLabel:v,model:u,actualValue:g,handleChange:x,onClickRoot:y}=ge(t,i),n=p(()=>{var r,k,C,q;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(k=(r=t.trueValue)!=null?r:t.trueLabel)!=null?k:!0,"false-value":(q=(C=t.falseValue)!=null?C:t.falseLabel)!=null?q:!1}:{value:g.value}}),a=K("checkbox"),s=p(()=>[a.b(),a.m(h.value),a.is("disabled",d.value),a.is("bordered",t.border),a.is("checked",f.value)]),b=p(()=>[a.e("input"),a.is("disabled",d.value),a.is("checked",f.value),a.is("indeterminate",t.indeterminate),a.is("focus",o.value)]);return(r,k)=>(V(),O(T(!c(v)&&c(m)?"span":"label"),{for:!c(v)&&c(m)?null:c(l),class:S(s.value),"aria-controls":r.indeterminate?r.ariaControls:null,"aria-checked":r.indeterminate?"mixed":void 0,"aria-label":r.ariaLabel,onClick:c(y)},{default:ie(()=>[I("span",{class:S(b.value)},[ce(I("input",R({id:c(l),"onUpdate:modelValue":k[0]||(k[0]=C=>de(u)?u.value=C:null),class:c(a).e("original"),type:"checkbox",indeterminate:r.indeterminate,name:r.name,tabindex:r.tabindex,disabled:c(d)},n.value,{onChange:k[1]||(k[1]=(...C)=>c(x)&&c(x)(...C)),onFocus:k[2]||(k[2]=C=>o.value=!0),onBlur:k[3]||(k[3]=C=>o.value=!1),onClick:k[4]||(k[4]=be(()=>{},["stop"]))}),null,16,Oe),[[ve,c(u)]]),I("span",{class:S(c(a).e("inner"))},null,2)],2),c(v)?(V(),_("span",{key:0,class:S(c(a).e("label"))},[H(r.$slots,"default"),r.$slots.default?A("v-if",!0):(V(),_(me,{key:0},[fe(he(r.label),1)],64))],2)):A("v-if",!0)]),_:3},8,["for","class","aria-controls","aria-checked","aria-label","onClick"]))}});var Ce=M(Ae,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Te=["name","tabindex","disabled"],je=U({name:"ElCheckboxButton",__name:"checkbox-button",props:ke,emits:xe,setup(e){const t=e,i=re(),{isFocused:l,isChecked:m,isDisabled:f,checkboxButtonSize:d,model:o,actualValue:h,handleChange:v}=ge(t,i),u=p(()=>{var a,s,b,r;return t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":(s=(a=t.trueValue)!=null?a:t.trueLabel)!=null?s:!0,"false-value":(r=(b=t.falseValue)!=null?b:t.falseLabel)!=null?r:!1}:{value:h.value}}),g=L(E,void 0),x=K("checkbox"),y=p(()=>{var a,s,b,r;const k=(s=(a=g?.fill)==null?void 0:a.value)!=null?s:"";return{backgroundColor:k,borderColor:k,color:(r=(b=g?.textColor)==null?void 0:b.value)!=null?r:"",boxShadow:k?`-1px 0 0 0 ${k}`:void 0}}),n=p(()=>[x.b("button"),x.bm("button",d.value),x.is("disabled",f.value),x.is("checked",m.value),x.is("focus",l.value)]);return(a,s)=>(V(),_("label",{class:S(n.value)},[ce(I("input",R({"onUpdate:modelValue":s[0]||(s[0]=b=>de(o)?o.value=b:null),class:c(x).be("button","original"),type:"checkbox",name:a.name,tabindex:a.tabindex,disabled:c(f)},u.value,{onChange:s[1]||(s[1]=(...b)=>c(v)&&c(v)(...b)),onFocus:s[2]||(s[2]=b=>l.value=!0),onBlur:s[3]||(s[3]=b=>l.value=!1),onClick:s[4]||(s[4]=be(()=>{},["stop"]))}),null,16,Te),[[ve,c(o)]]),a.$slots.default||a.label?(V(),_("span",{key:0,class:S(c(x).be("button","inner")),style:Ee(c(m)?y.value:void 0)},[H(a.$slots,"default",{},()=>[fe(he(a.label),1)])],6)):A("v-if",!0)],2))}});var Y=M(je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Me=Be({modelValue:{type:w(Array),default:()=>[]},disabled:{type:Boolean,default:void 0},min:Number,max:Number,size:ee,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:w(Array)},props:{type:w(Object),default:()=>ye},type:{type:String,values:["checkbox","button"],default:"checkbox"},...Z(["ariaLabel"])}),Ue={[N]:e=>B(e),change:e=>B(e)},ye={label:"label",value:"value",disabled:"disabled"},Ke=U({name:"ElCheckboxGroup",__name:"checkbox-group",props:Me,emits:Ue,setup(e,{emit:t}){const i=e,l=t,m=K("checkbox"),f=ae(),{formItem:d}=j(),{inputId:o,isLabeledByFormItem:h}=ue(i,{formItemContext:d}),v=async n=>{l(N,n),await ne(),l(F,n)},u=p({get(){return i.modelValue},set(n){v(n)}}),g=p(()=>({...ye,...i.props})),x=n=>{const{label:a,value:s,disabled:b}=g.value,r={label:n[a],value:n[s],disabled:n[b]};return{...ze(n,[a,s,b]),...r}},y=p(()=>i.type==="button"?Y:Ce);return _e(E,{...Ie(Ne(i),["size","min","max","validateEvent","fill","textColor"]),disabled:f,modelValue:u,changeEvent:v}),te(()=>i.modelValue,(n,a)=>{i.validateEvent&&!se(n,a)&&d?.validate("change").catch(s=>oe())}),(n,a)=>{var s;return V(),O(T(n.tag),{id:c(o),class:S(c(m).b("group")),role:"group","aria-label":c(h)?void 0:n.ariaLabel||"checkbox-group","aria-labelledby":c(h)?(s=c(d))==null?void 0:s.labelId:void 0},{default:ie(()=>[H(n.$slots,"default",{},()=>[(V(!0),_(me,null,De(n.options,(b,r)=>(V(),O(T(y.value),R({key:r},{ref_for:!0},x(b)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Ve=M(Ke,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Ye=we(Ce,{CheckboxButton:Y,CheckboxGroup:Ve});pe(Y);const qe=pe(Ve);export{Ye as E,qe as a};
