import{n as T,bv as Io,a8 as ot,c8 as _e,j as I,h as se,m as Bt,k as ge,u as He,R as $,a4 as Oo,cK as Ao,v as l,a7 as qe,ab as qt,ag as de,Z as zo,p as wt,a9 as ze,o as Q,a_ as No,aF as Le,bs as Xe,aH as bt,a1 as Me,am as Ot,l as St,a5 as Lo,K as C,al as Ke,aP as Po,T as Rt,bT as Wo,cL as Fo,y as At,aI as zt,X as Do,aD as $o,aG as Go,I as Ut,aB as Y,s as Ue,bd as Vo,aM as Yt,bS as Ko,cM as ko,cN as jo,b9 as Bo,z as Zt}from"./index-DfRcp7P5.js";import{c as qo}from"./castArray-C8c5ecoO.js";import{c as Xt,r as Jt}from"./raf-Clbh-EsQ.js";import{m as Uo}from"./memoize-one.esm-BdPwpGay.js";import{E as Yo}from"./el-empty-B1QCHSfJ.js";const Zo=()=>{const t=ot().proxy.$props;return T(()=>{const o=(n,a,r)=>({});return t.perfMode?Io(o):Uo(o)})},Nt=50,Lt="itemRendered",Pt="scroll",Ve="forward",at="backward",xe="auto",Qt="smart",st="start",Ne="center",ct="end",it="horizontal",eo="vertical",to="rtl",dt="negative",oo="positive-ascending",no="positive-descending",Xo={[it]:"left",[eo]:"top"},Jo=20,ut=_e({type:I([Number,Function]),required:!0}),ht=_e({type:Number}),ft=_e({type:Number,default:2}),Qo=_e({type:String,values:["ltr","rtl"],default:"ltr"}),mt=_e({type:Number,default:0}),et=_e({type:Number,required:!0}),lo=_e({type:String,values:["horizontal","vertical"],default:eo}),ro=se({className:{type:String,default:""},containerElement:{type:I([String,Object]),default:"div"},data:{type:I(Array),default:()=>Bt([])},direction:Qo,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:I([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),en=se({cache:ft,estimatedItemSize:ht,layout:lo,initScrollOffset:mt,total:et,itemSize:ut,...ro}),vt={type:Number,default:6},ao={type:Number,default:0},so={type:Number,default:2},Ee=se({columnCache:ft,columnWidth:ut,estimatedColumnWidth:ht,estimatedRowHeight:ht,initScrollLeft:mt,initScrollTop:mt,itemKey:{type:I(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:ft,rowHeight:ut,totalColumn:et,totalRow:et,hScrollbarSize:vt,vScrollbarSize:vt,scrollbarStartGap:ao,scrollbarEndGap:so,role:String,...ro}),co=se({alwaysOn:Boolean,class:String,layout:lo,total:et,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:vt,startGap:ao,endGap:so,visible:Boolean}),Ze=(e,t)=>e<t?Ve:at,Wt=e=>e===to;let Ae=null;function Ft(e=!1){if(Ae===null||e){const t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const n=document.createElement("div"),a=n.style;return a.width="100px",a.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?Ae=no:(t.scrollLeft=1,t.scrollLeft===0?Ae=dt:Ae=oo),document.body.removeChild(t),Ae}return Ae}function tn({move:e,size:t,bar:o},n){const a={},r=`translate${o.axis}(${e}px)`;return a[o.size]=t,a.transform=r,a.msTransform=r,a.webkitTransform=r,n==="horizontal"?a.height="100%":a.width="100%",a}const Dt=ge({name:"ElVirtualScrollBar",props:co,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const o=T(()=>e.startGap+e.endGap),n=He("virtual-scrollbar"),a=He("scrollbar"),r=$(),s=$();let c=null,f=null;const h=Oo({isDragging:!1,traveled:0}),d=T(()=>Ao[e.layout]),y=T(()=>e.clientSize-l(o)),w=T(()=>({position:"absolute",width:`${it===e.layout?y.value:e.scrollbarSize}px`,height:`${it===e.layout?e.scrollbarSize:y.value}px`,[Xo[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),v=T(()=>{const b=e.ratio,F=e.clientSize;if(b>=100)return Number.POSITIVE_INFINITY;if(b>=50)return b*F/100;const G=F/3;return Math.floor(Math.min(Math.max(b*F,Jo),G))}),g=T(()=>{if(!Number.isFinite(v.value))return{display:"none"};const b=`${v.value}px`;return tn({bar:d.value,size:b,move:h.traveled},e.layout)}),u=T(()=>Math.floor(e.clientSize-v.value-l(o))),i=()=>{window.addEventListener("mousemove",_),window.addEventListener("mouseup",S);const b=l(s);b&&(f=document.onselectstart,document.onselectstart=()=>!1,b.addEventListener("touchmove",_,{passive:!0}),b.addEventListener("touchend",S))},m=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",S),document.onselectstart=f,f=null;const b=l(s);b&&(b.removeEventListener("touchmove",_),b.removeEventListener("touchend",S))},x=b=>{b.stopImmediatePropagation(),!(b.ctrlKey||[1,2].includes(b.button))&&(h.isDragging=!0,h[d.value.axis]=b.currentTarget[d.value.offset]-(b[d.value.client]-b.currentTarget.getBoundingClientRect()[d.value.direction]),t("start-move"),i())},S=()=>{h.isDragging=!1,h[d.value.axis]=0,t("stop-move"),m()},_=b=>{const{isDragging:F}=h;if(!F||!s.value||!r.value)return;const G=h[d.value.axis];if(!G)return;Xt(c);const K=(r.value.getBoundingClientRect()[d.value.direction]-b[d.value.client])*-1,R=s.value[d.value.offset]-G,O=K-R;c=Jt(()=>{h.traveled=Math.max(e.startGap,Math.min(O,u.value)),t("scroll",O,u.value)})},p=b=>{const F=Math.abs(b.target.getBoundingClientRect()[d.value.direction]-b[d.value.client]),G=s.value[d.value.offset]/2,K=F-G;h.traveled=Math.max(0,Math.min(K,u.value)),t("scroll",K,u.value)};return qe(()=>e.scrollFrom,b=>{h.isDragging||(h.traveled=Math.ceil(b*u.value))}),qt(()=>{m()}),()=>de("div",{role:"presentation",ref:r,class:[n.b(),e.class,(e.alwaysOn||h.isDragging)&&"always-on"],style:w.value,onMousedown:zo(p,["stop","prevent"]),onTouchstartPrevent:x},de("div",{ref:s,class:a.e("thumb"),style:g.value,onMousedown:x},[]))}});var ke=(e=>(e.ASC="asc",e.DESC="desc",e))(ke||{}),je=(e=>(e.CENTER="center",e.RIGHT="right",e))(je||{}),io=(e=>(e.LEFT="left",e.RIGHT="right",e))(io||{});const gt={asc:"desc",desc:"asc"},Be=Symbol("placeholder"),on=(e,t,o)=>{var n;const a={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};o||(a.flexShrink=1);const r={...(n=e.style)!=null?n:{},...a,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(r.maxWidth=e.maxWidth),e.minWidth&&(r.minWidth=e.minWidth)),r};function nn(e,t,o){const n=T(()=>l(t).map((i,m)=>{var x,S;return{...i,key:(S=(x=i.key)!=null?x:i.dataKey)!=null?S:m}})),a=T(()=>l(n).filter(i=>!i.hidden)),r=T(()=>l(a).filter(i=>i.fixed==="left"||i.fixed===!0)),s=T(()=>l(a).filter(i=>i.fixed==="right")),c=T(()=>l(a).filter(i=>!i.fixed)),f=T(()=>{const i=[];return l(r).forEach(m=>{i.push({...m,placeholderSign:Be})}),l(c).forEach(m=>{i.push(m)}),l(s).forEach(m=>{i.push({...m,placeholderSign:Be})}),i}),h=T(()=>l(r).length||l(s).length),d=T(()=>l(n).reduce((i,m)=>(i[m.key]=on(m,l(o),e.fixed),i),{})),y=T(()=>l(a).reduce((i,m)=>i+m.width,0)),w=i=>l(n).find(m=>m.key===i),v=i=>l(d)[i],g=(i,m)=>{i.width=m};function u(i){var m;const{key:x}=i.currentTarget.dataset;if(!x)return;const{sortState:S,sortBy:_}=e;let p=ke.ASC;wt(S)?p=gt[S[x]]:p=gt[_.order],(m=e.onColumnSort)==null||m.call(e,{column:w(x),key:x,order:p})}return{columns:n,columnsStyles:d,columnsTotalWidth:y,fixedColumnsOnLeft:r,fixedColumnsOnRight:s,hasFixedColumns:h,mainColumns:f,normalColumns:c,visibleColumns:a,getColumn:w,getColumnStyle:v,updateColumnWidth:g,onColumnSorted:u}}const ln=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,onMaybeEndReached:a})=>{const r=$({scrollLeft:0,scrollTop:0});function s(v){var g,u,i;const{scrollTop:m}=v;(g=t.value)==null||g.scrollTo(v),(u=o.value)==null||u.scrollToTop(m),(i=n.value)==null||i.scrollToTop(m)}function c(v){r.value=v,s(v)}function f(v){r.value.scrollTop=v,s(l(r))}function h(v){var g,u;r.value.scrollLeft=v,(u=(g=t.value)==null?void 0:g.scrollTo)==null||u.call(g,l(r))}function d(v){var g;c(v),(g=e.onScroll)==null||g.call(e,v)}function y({scrollTop:v}){const{scrollTop:g}=l(r);v!==g&&f(v)}function w(v,g="auto"){var u;(u=t.value)==null||u.scrollToRow(v,g)}return qe(()=>l(r).scrollTop,(v,g)=>{v>g&&a()}),{scrollPos:r,scrollTo:c,scrollToLeft:h,scrollToTop:f,scrollToRow:w,onScroll:d,onVerticalScroll:y}},rn=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,tableInstance:a,ns:r,isScrolling:s})=>{const c=ot(),{emit:f}=c,h=ze(!1),d=$(e.defaultExpandedRowKeys||[]),y=$(-1),w=ze(null),v=$({}),g=$({}),u=ze({}),i=ze({}),m=ze({}),x=T(()=>Q(e.estimatedRowHeight));function S(R){var O;(O=e.onRowsRendered)==null||O.call(e,R),R.rowCacheEnd>l(y)&&(y.value=R.rowCacheEnd)}function _({hovered:R,rowKey:O}){if(s.value)return;a.vnode.el.querySelectorAll(`[rowkey="${String(O)}"]`).forEach(k=>{R?k.classList.add(r.is("hovered")):k.classList.remove(r.is("hovered"))})}function p({expanded:R,rowData:O,rowIndex:D,rowKey:L}){var k,B;const V=[...l(d)],q=V.indexOf(L);R?q===-1&&V.push(L):q>-1&&V.splice(q,1),d.value=V,f("update:expandedRowKeys",V),(k=e.onRowExpand)==null||k.call(e,{expanded:R,rowData:O,rowIndex:D,rowKey:L}),(B=e.onExpandedRowsChange)==null||B.call(e,V)}const b=No(()=>{var R,O,D,L;h.value=!0,v.value={...l(v),...l(g)},F(l(w),!1),g.value={},w.value=null,(R=t.value)==null||R.forceUpdate(),(O=o.value)==null||O.forceUpdate(),(D=n.value)==null||D.forceUpdate(),(L=c.proxy)==null||L.$forceUpdate(),h.value=!1},0);function F(R,O=!1){l(x)&&[t,o,n].forEach(D=>{const L=l(D);L&&L.resetAfterRowIndex(R,O)})}function G(R,O,D){const L=l(w);(L===null||L>D)&&(w.value=D),g.value[R]=O}function K({rowKey:R,height:O,rowIndex:D},L){L?L===io.RIGHT?m.value[R]=O:u.value[R]=O:i.value[R]=O;const k=Math.max(...[u,m,i].map(B=>B.value[R]||0));l(v)[R]!==k&&(G(R,k,D),b())}return{expandedRowKeys:d,lastRenderedRowIndex:y,isDynamic:x,isResetting:h,rowHeights:v,resetAfterIndex:F,onRowExpanded:p,onRowHovered:_,onRowsRendered:S,onRowHeightChange:K}},an=(e,{expandedRowKeys:t,lastRenderedRowIndex:o,resetAfterIndex:n})=>{const a=$({}),r=T(()=>{const c={},{data:f,rowKey:h}=e,d=l(t);if(!d||!d.length)return f;const y=[],w=new Set;d.forEach(g=>w.add(g));let v=f.slice();for(v.forEach(g=>c[g[h]]=0);v.length>0;){const g=v.shift();y.push(g),w.has(g[h])&&Le(g.children)&&g.children.length>0&&(v=[...g.children,...v],g.children.forEach(u=>c[u[h]]=c[g[h]]+1))}return a.value=c,y}),s=T(()=>{const{data:c,expandColumnKey:f}=e;return f?l(r):c});return qe(s,(c,f)=>{c!==f&&(o.value=-1,n(0,!0))}),{data:s,depthMap:a}},sn=(e,t)=>e+t,Je=e=>Le(e)?e.reduce(sn,0):e,Ce=(e,t,o={})=>bt(e)?e(t):e??o,ve=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Xe(e[t])}),e),uo=e=>Me(e)?t=>de(e,t):e,cn=(e,{columnsTotalWidth:t,data:o,fixedColumnsOnLeft:n,fixedColumnsOnRight:a})=>{const r=T(()=>{const{fixed:S,width:_,vScrollbarSize:p}=e,b=_-p;return S?Math.max(Math.round(l(t)),b):b}),s=T(()=>l(r)+e.vScrollbarSize),c=T(()=>{const{height:S=0,maxHeight:_=0,footerHeight:p,hScrollbarSize:b}=e;if(_>0){const F=l(g),G=l(f),R=l(v)+F+G+b;return Math.min(R,_-p)}return S-p}),f=T(()=>{const{rowHeight:S,estimatedRowHeight:_}=e,p=l(o);return Q(_)?p.length*_:p.length*S}),h=T(()=>{const{maxHeight:S}=e,_=l(c);if(Q(S)&&S>0)return _;const p=l(f)+l(v)+l(g);return Math.min(_,p)}),d=S=>S.width,y=T(()=>Je(l(n).map(d))),w=T(()=>Je(l(a).map(d))),v=T(()=>Je(e.headerHeight)),g=T(()=>{var S;return(((S=e.fixedData)==null?void 0:S.length)||0)*e.rowHeight}),u=T(()=>l(c)-l(v)-l(g)),i=T(()=>{const{style:S={},height:_,width:p}=e;return ve({...S,height:_,width:p})}),m=T(()=>ve({height:e.footerHeight})),x=T(()=>({top:Xe(l(v)),bottom:Xe(e.footerHeight),width:Xe(e.width)}));return{bodyWidth:r,fixedTableHeight:h,mainTableHeight:c,leftTableWidth:y,rightTableWidth:w,headerWidth:s,rowsHeight:f,windowHeight:u,footerHeight:m,emptyStyle:x,rootStyle:i,headerHeight:v}};function dn(e){const t=$(),o=$(),n=$(),{columns:a,columnsStyles:r,columnsTotalWidth:s,fixedColumnsOnLeft:c,fixedColumnsOnRight:f,hasFixedColumns:h,mainColumns:d,onColumnSorted:y}=nn(e,Ot(e,"columns"),Ot(e,"fixed")),{scrollTo:w,scrollToLeft:v,scrollToTop:g,scrollToRow:u,onScroll:i,onVerticalScroll:m,scrollPos:x}=ln(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,onMaybeEndReached:De}),S=He("table-v2"),_=ot(),p=ze(!1),{expandedRowKeys:b,lastRenderedRowIndex:F,isDynamic:G,isResetting:K,rowHeights:R,resetAfterIndex:O,onRowExpanded:D,onRowHeightChange:L,onRowHovered:k,onRowsRendered:B}=rn(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,tableInstance:_,ns:S,isScrolling:p}),{data:V,depthMap:q}=an(e,{expandedRowKeys:b,lastRenderedRowIndex:F,resetAfterIndex:O}),{bodyWidth:he,fixedTableHeight:ye,mainTableHeight:ne,leftTableWidth:ce,rightTableWidth:we,headerWidth:fe,rowsHeight:le,windowHeight:ee,footerHeight:re,emptyStyle:pe,rootStyle:Ie,headerHeight:me}=cn(e,{columnsTotalWidth:s,data:V,fixedColumnsOnLeft:c,fixedColumnsOnRight:f}),Pe=$(),We=T(()=>{const J=l(V).length===0;return Le(e.fixedData)?e.fixedData.length===0&&J:J});function Fe(J){const{estimatedRowHeight:te,rowHeight:be,rowKey:E}=e;return te?l(R)[l(V)[J][E]]||te:be}function De(){const{onEndReached:J}=e;if(!J)return;const{scrollTop:te}=l(x),be=l(le),E=l(ee),H=be-(te+E)+e.hScrollbarSize;l(F)>=0&&be===te+l(ne)-l(me)&&J(H)}return qe(()=>e.expandedRowKeys,J=>b.value=J,{deep:!0}),{columns:a,containerRef:Pe,mainTableRef:t,leftTableRef:o,rightTableRef:n,isDynamic:G,isResetting:K,isScrolling:p,hasFixedColumns:h,columnsStyles:r,columnsTotalWidth:s,data:V,expandedRowKeys:b,depthMap:q,fixedColumnsOnLeft:c,fixedColumnsOnRight:f,mainColumns:d,bodyWidth:he,emptyStyle:pe,rootStyle:Ie,headerWidth:fe,footerHeight:re,mainTableHeight:ne,fixedTableHeight:ye,leftTableWidth:ce,rightTableWidth:we,showEmpty:We,getRowHeight:Fe,onColumnSorted:y,onRowHovered:k,onRowExpanded:D,onRowsRendered:B,onRowHeightChange:L,scrollTo:w,scrollToLeft:v,scrollToTop:g,scrollToRow:u,onScroll:i,onVerticalScroll:m}}const xt=Symbol("tableV2"),ho=String,Ye={type:I(Array),required:!0},Tt={type:I(Array)},fo={...Tt,required:!0},un=String,$t={type:I(Array),default:()=>Bt([])},Re={type:Number,required:!0},mo={type:I([String,Number,Symbol]),default:"id"},Gt={type:I(Object)},Te=se({class:String,columns:Ye,columnsStyles:{type:I(Object),required:!0},depth:Number,expandColumnKey:un,estimatedRowHeight:{...Ee.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:I(Function)},onRowHover:{type:I(Function)},onRowHeightChange:{type:I(Function)},rowData:{type:I(Object),required:!0},rowEventHandlers:{type:I(Object)},rowIndex:{type:Number,required:!0},rowKey:mo,style:{type:I(Object)}}),rt={type:Number,required:!0},Et=se({class:String,columns:Ye,fixedHeaderData:{type:I(Array)},headerData:{type:I(Array),required:!0},headerHeight:{type:I([Number,Array]),default:50},rowWidth:rt,rowHeight:{type:Number,default:50},height:rt,width:rt}),Qe=se({columns:Ye,data:fo,fixedData:Tt,estimatedRowHeight:Te.estimatedRowHeight,width:Re,height:Re,headerWidth:Re,headerHeight:Et.headerHeight,bodyWidth:Re,rowHeight:Re,cache:en.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Ee.scrollbarAlwaysOn,scrollbarStartGap:Ee.scrollbarStartGap,scrollbarEndGap:Ee.scrollbarEndGap,class:ho,style:Gt,containerStyle:Gt,getRowHeight:{type:I(Function),required:!0},rowKey:Te.rowKey,onRowsRendered:{type:I(Function)},onScroll:{type:I(Function)}}),hn=se({cache:Qe.cache,estimatedRowHeight:Te.estimatedRowHeight,rowKey:mo,headerClass:{type:I([String,Function])},headerProps:{type:I([Object,Function])},headerCellProps:{type:I([Object,Function])},headerHeight:Et.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:I([String,Function])},rowProps:{type:I([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:I([Object,Function])},columns:Ye,data:fo,dataGetter:{type:I(Function)},fixedData:Tt,expandColumnKey:Te.expandColumnKey,expandedRowKeys:$t,defaultExpandedRowKeys:$t,class:ho,fixed:Boolean,style:{type:I(Object)},width:Re,height:Re,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Ee.hScrollbarSize,vScrollbarSize:Ee.vScrollbarSize,scrollbarAlwaysOn:co.alwaysOn,sortBy:{type:I(Object),default:()=>({})},sortState:{type:I(Object),default:void 0},onColumnSort:{type:I(Function)},onExpandedRowsChange:{type:I(Function)},onEndReached:{type:I(Function)},onRowExpand:Te.onRowExpand,onScroll:Qe.onScroll,onRowsRendered:Qe.onRowsRendered,rowEventHandlers:Te.rowEventHandlers}),fn="ElTableV2Header",mn=ge({name:fn,props:Et,setup(e,{slots:t,expose:o}){const n=He("table-v2"),a=St("tableV2GridScrollLeft"),r=$(),s=T(()=>ve({width:e.width,height:e.height})),c=T(()=>ve({width:e.rowWidth,height:e.height})),f=T(()=>qo(l(e.headerHeight))),h=w=>{const v=l(r);Ke(()=>{v!=null&&v.scroll&&v.scroll({left:w})})},d=()=>{const w=n.e("fixed-header-row"),{columns:v,fixedHeaderData:g,rowHeight:u}=e;return g==null?void 0:g.map((i,m)=>{var x;const S=ve({height:u,width:"100%"});return(x=t.fixed)==null?void 0:x.call(t,{class:w,columns:v,rowData:i,rowIndex:-(m+1),style:S})})},y=()=>{const w=n.e("dynamic-header-row"),{columns:v}=e;return l(f).map((g,u)=>{var i;const m=ve({width:"100%",height:g});return(i=t.dynamic)==null?void 0:i.call(t,{class:w,columns:v,headerIndex:u,style:m})})};return Lo(()=>{a!=null&&a.value&&h(a.value)}),o({scrollToLeft:h}),()=>{if(!(e.height<=0))return C("div",{ref:r,class:e.class,style:l(s),role:"rowgroup"},[C("div",{style:l(c),class:n.e("header")},[y(),d()])])}}});var vn=mn;const gn=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:o,atYStartEdge:n},a)=>{let r=null,s=0,c=0;const f=(d,y)=>{const w=d<=0&&t.value||d>=0&&e.value,v=y<=0&&n.value||y>=0&&o.value;return w&&v};return{hasReachedEdge:f,onWheel:d=>{Xt(r);let y=d.deltaX,w=d.deltaY;Math.abs(y)>Math.abs(w)?w=0:y=0,d.shiftKey&&w!==0&&(y=w,w=0),!(f(s,c)&&f(s+y,c+w))&&(s+=y,c+=w,d.preventDefault(),r=Jt(()=>{a(s,c),s=0,c=0}))}}},vo=({name:e,clearCache:t,getColumnPosition:o,getColumnStartIndexForOffset:n,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:r,getEstimatedTotalWidth:s,getColumnOffset:c,getRowOffset:f,getRowPosition:h,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:y,initCache:w,injectToInstance:v,validateProps:g})=>ge({name:e??"ElVirtualList",props:Ee,emits:[Lt,Pt],setup(u,{emit:i,expose:m,slots:x}){const S=He("vl");g(u);const _=ot(),p=$(w(u,_));v==null||v(_,p);const b=$(),F=$(),G=$(),K=$(null),R=$({isScrolling:!1,scrollLeft:Q(u.initScrollLeft)?u.initScrollLeft:0,scrollTop:Q(u.initScrollTop)?u.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Ve,yAxisScrollDir:Ve}),O=Zo(),D=T(()=>Number.parseInt(`${u.height}`,10)),L=T(()=>Number.parseInt(`${u.width}`,10)),k=T(()=>{const{totalColumn:E,totalRow:H,columnCache:M}=u,{isScrolling:A,xAxisScrollDir:z,scrollLeft:N}=l(R);if(E===0||H===0)return[0,0,0,0];const P=n(u,N,l(p)),W=a(u,P,N,l(p)),j=!A||z===at?Math.max(1,M):1,U=!A||z===Ve?Math.max(1,M):1;return[Math.max(0,P-j),Math.max(0,Math.min(E-1,W+U)),P,W]}),B=T(()=>{const{totalColumn:E,totalRow:H,rowCache:M}=u,{isScrolling:A,yAxisScrollDir:z,scrollTop:N}=l(R);if(E===0||H===0)return[0,0,0,0];const P=d(u,N,l(p)),W=y(u,P,N,l(p)),j=!A||z===at?Math.max(1,M):1,U=!A||z===Ve?Math.max(1,M):1;return[Math.max(0,P-j),Math.max(0,Math.min(H-1,W+U)),P,W]}),V=T(()=>r(u,l(p))),q=T(()=>s(u,l(p))),he=T(()=>{var E;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:Q(u.height)?`${u.height}px`:u.height,width:Q(u.width)?`${u.width}px`:u.width},(E=u.style)!=null?E:{}]}),ye=T(()=>{const E=`${l(q)}px`;return{height:`${l(V)}px`,pointerEvents:l(R).isScrolling?"none":void 0,width:E}}),ne=()=>{const{totalColumn:E,totalRow:H}=u;if(E>0&&H>0){const[W,j,U,ae]=l(k),[Z,X,$e,Mt]=l(B);i(Lt,{columnCacheStart:W,columnCacheEnd:j,rowCacheStart:Z,rowCacheEnd:X,columnVisibleStart:U,columnVisibleEnd:ae,rowVisibleStart:$e,rowVisibleEnd:Mt})}const{scrollLeft:M,scrollTop:A,updateRequested:z,xAxisScrollDir:N,yAxisScrollDir:P}=l(R);i(Pt,{xAxisScrollDir:N,scrollLeft:M,yAxisScrollDir:P,scrollTop:A,updateRequested:z})},ce=E=>{const{clientHeight:H,clientWidth:M,scrollHeight:A,scrollLeft:z,scrollTop:N,scrollWidth:P}=E.currentTarget,W=l(R);if(W.scrollTop===N&&W.scrollLeft===z)return;let j=z;if(Wt(u.direction))switch(Ft()){case dt:j=-z;break;case no:j=P-M-z;break}R.value={...W,isScrolling:!0,scrollLeft:j,scrollTop:Math.max(0,Math.min(N,A-H)),updateRequested:!0,xAxisScrollDir:Ze(W.scrollLeft,j),yAxisScrollDir:Ze(W.scrollTop,N)},Ke(()=>Ie()),me(),ne()},we=(E,H)=>{const M=l(D),A=(V.value-M)/H*E;ee({scrollTop:Math.min(V.value-M,A)})},fe=(E,H)=>{const M=l(L),A=(q.value-M)/H*E;ee({scrollLeft:Math.min(q.value-M,A)})},{onWheel:le}=gn({atXStartEdge:T(()=>R.value.scrollLeft<=0),atXEndEdge:T(()=>R.value.scrollLeft>=q.value-l(L)),atYStartEdge:T(()=>R.value.scrollTop<=0),atYEndEdge:T(()=>R.value.scrollTop>=V.value-l(D))},(E,H)=>{var M,A,z,N;(A=(M=F.value)==null?void 0:M.onMouseUp)==null||A.call(M),(N=(z=G.value)==null?void 0:z.onMouseUp)==null||N.call(z);const P=l(L),W=l(D);ee({scrollLeft:Math.min(R.value.scrollLeft+E,q.value-P),scrollTop:Math.min(R.value.scrollTop+H,V.value-W)})});Po(b,"wheel",le,{passive:!1});const ee=({scrollLeft:E=R.value.scrollLeft,scrollTop:H=R.value.scrollTop})=>{E=Math.max(E,0),H=Math.max(H,0);const M=l(R);H===M.scrollTop&&E===M.scrollLeft||(R.value={...M,xAxisScrollDir:Ze(M.scrollLeft,E),yAxisScrollDir:Ze(M.scrollTop,H),scrollLeft:E,scrollTop:H,updateRequested:!0},Ke(()=>Ie()),me(),ne())},re=(E=0,H=0,M=xe)=>{const A=l(R);H=Math.max(0,Math.min(H,u.totalColumn-1)),E=Math.max(0,Math.min(E,u.totalRow-1));const z=Fo(S.namespace.value),N=l(p),P=r(u,N),W=s(u,N);ee({scrollLeft:c(u,H,M,A.scrollLeft,N,W>u.width?z:0),scrollTop:f(u,E,M,A.scrollTop,N,P>u.height?z:0)})},pe=(E,H)=>{const{columnWidth:M,direction:A,rowHeight:z}=u,N=O.value(t&&M,t&&z,t&&A),P=`${E},${H}`;if($o(N,P))return N[P];{const[,W]=o(u,H,l(p)),j=l(p),U=Wt(A),[ae,Z]=h(u,E,j),[X]=o(u,H,j);return N[P]={position:"absolute",left:U?void 0:`${W}px`,right:U?`${W}px`:void 0,top:`${Z}px`,height:`${ae}px`,width:`${X}px`},N[P]}},Ie=()=>{R.value.isScrolling=!1,Ke(()=>{O.value(-1,null,null)})};Rt(()=>{if(!Wo)return;const{initScrollLeft:E,initScrollTop:H}=u,M=l(b);M&&(Q(E)&&(M.scrollLeft=E),Q(H)&&(M.scrollTop=H)),ne()});const me=()=>{const{direction:E}=u,{scrollLeft:H,scrollTop:M,updateRequested:A}=l(R),z=l(b);if(A&&z){if(E===to)switch(Ft()){case dt:{z.scrollLeft=-H;break}case oo:{z.scrollLeft=H;break}default:{const{clientWidth:N,scrollWidth:P}=z;z.scrollLeft=P-N-H;break}}else z.scrollLeft=Math.max(0,H);z.scrollTop=Math.max(0,M)}},{resetAfterColumnIndex:Pe,resetAfterRowIndex:We,resetAfter:Fe}=_.proxy;m({windowRef:b,innerRef:K,getItemStyleCache:O,scrollTo:ee,scrollToItem:re,states:R,resetAfterColumnIndex:Pe,resetAfterRowIndex:We,resetAfter:Fe});const De=()=>{const{scrollbarAlwaysOn:E,scrollbarStartGap:H,scrollbarEndGap:M,totalColumn:A,totalRow:z}=u,N=l(L),P=l(D),W=l(q),j=l(V),{scrollLeft:U,scrollTop:ae}=l(R),Z=de(Dt,{ref:F,alwaysOn:E,startGap:H,endGap:M,class:S.e("horizontal"),clientSize:N,layout:"horizontal",onScroll:fe,ratio:N*100/W,scrollFrom:U/(W-N),total:z,visible:!0}),X=de(Dt,{ref:G,alwaysOn:E,startGap:H,endGap:M,class:S.e("vertical"),clientSize:P,layout:"vertical",onScroll:we,ratio:P*100/j,scrollFrom:ae/(j-P),total:A,visible:!0});return{horizontalScrollbar:Z,verticalScrollbar:X}},J=()=>{var E;const[H,M]=l(k),[A,z]=l(B),{data:N,totalColumn:P,totalRow:W,useIsScrolling:j,itemKey:U}=u,ae=[];if(W>0&&P>0)for(let Z=A;Z<=z;Z++)for(let X=H;X<=M;X++){const $e=U({columnIndex:X,data:N,rowIndex:Z});ae.push(de(Do,{key:$e},(E=x.default)==null?void 0:E.call(x,{columnIndex:X,data:N,isScrolling:j?l(R).isScrolling:void 0,style:pe(Z,X),rowIndex:Z})))}return ae},te=()=>{const E=At(u.innerElement),H=J();return[de(E,{style:l(ye),ref:K},zt(E)?H:{default:()=>H})]};return()=>{const E=At(u.containerElement),{horizontalScrollbar:H,verticalScrollbar:M}=De(),A=te();return de("div",{key:0,class:S.e("wrapper"),role:u.role},[de(E,{class:u.className,style:l(he),onScroll:ce,ref:b},zt(E)?A:{default:()=>A}),H,M])}}}),{max:tt,min:go,floor:yo}=Math,yn={column:"columnWidth",row:"rowHeight"},yt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},ue=(e,t,o,n)=>{const[a,r,s]=[o[n],e[yn[n]],o[yt[n]]];if(t>s){let c=0;if(s>=0){const f=a[s];c=f.offset+f.size}for(let f=s+1;f<=t;f++){const h=r(f);a[f]={offset:c,size:h},c+=h}o[yt[n]]=t}return a[t]},wo=(e,t,o,n,a,r)=>{for(;o<=n;){const s=o+yo((n-o)/2),c=ue(e,s,t,r).offset;if(c===a)return s;c<a?o=s+1:n=s-1}return tt(0,o-1)},wn=(e,t,o,n,a)=>{const r=a==="column"?e.totalColumn:e.totalRow;let s=1;for(;o<r&&ue(e,o,t,a).offset<n;)o+=s,s*=2;return wo(e,t,yo(o/2),go(o,r-1),n,a)},Vt=(e,t,o,n)=>{const[a,r]=[t[n],t[yt[n]]];return(r>0?a[r].offset:0)>=o?wo(e,t,0,r,o,n):wn(e,t,tt(0,r),o,n)},bo=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:o,row:n})=>{let a=0;if(o>=e&&(o=e-1),o>=0){const c=n[o];a=c.offset+c.size}const s=(e-o-1)*t;return a+s},So=({totalColumn:e},{column:t,estimatedColumnWidth:o,lastVisitedColumnIndex:n})=>{let a=0;if(n>e&&(n=e-1),n>=0){const c=t[n];a=c.offset+c.size}const s=(e-n-1)*o;return a+s},bn={column:So,row:bo},Kt=(e,t,o,n,a,r,s)=>{const[c,f]=[r==="row"?e.height:e.width,bn[r]],h=ue(e,t,a,r),d=f(e,a),y=tt(0,go(d-c,h.offset)),w=tt(0,h.offset-c+s+h.size);switch(o===Qt&&(n>=w-c&&n<=y+c?o=xe:o=Ne),o){case st:return y;case ct:return w;case Ne:return Math.round(w+(y-w)/2);case xe:default:return n>=w&&n<=y?n:w>y||n<w?w:y}},Sn=vo({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,o)=>{const n=ue(e,t,o,"column");return[n.size,n.offset]},getRowPosition:(e,t,o)=>{const n=ue(e,t,o,"row");return[n.size,n.offset]},getColumnOffset:(e,t,o,n,a,r)=>Kt(e,t,o,n,a,"column",r),getRowOffset:(e,t,o,n,a,r)=>Kt(e,t,o,n,a,"row",r),getColumnStartIndexForOffset:(e,t,o)=>Vt(e,o,t,"column"),getColumnStopIndexForStartIndex:(e,t,o,n)=>{const a=ue(e,t,n,"column"),r=o+e.width;let s=a.offset+a.size,c=t;for(;c<e.totalColumn-1&&s<r;)c++,s+=ue(e,t,n,"column").size;return c},getEstimatedTotalHeight:bo,getEstimatedTotalWidth:So,getRowStartIndexForOffset:(e,t,o)=>Vt(e,o,t,"row"),getRowStopIndexForStartIndex:(e,t,o,n)=>{const{totalRow:a,height:r}=e,s=ue(e,t,n,"row"),c=o+r;let f=s.size+s.offset,h=t;for(;h<a-1&&f<c;)h++,f+=ue(e,h,n,"row").size;return h},injectToInstance:(e,t)=>{const o=({columnIndex:r,rowIndex:s},c)=>{var f,h;c=Go(c)?!0:c,Q(r)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,r-1)),Q(s)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,s-1)),(f=e.exposed)==null||f.getItemStyleCache.value(-1,null,null),c&&((h=e.proxy)==null||h.$forceUpdate())},n=(r,s)=>{o({columnIndex:r},s)},a=(r,s)=>{o({rowIndex:r},s)};Object.assign(e.proxy,{resetAfterColumnIndex:n,resetAfterRowIndex:a,resetAfter:o})},initCache:({estimatedColumnWidth:e=Nt,estimatedRowHeight:t=Nt})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Rn=vo({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:o},n,a,r,s,c)=>{o=Number(o);const f=Math.max(0,e*t-o),h=Math.min(f,n*t),d=Math.max(0,n*t-o+c+t);switch(a==="smart"&&(r>=d-o&&r<=h+o?a=xe:a=Ne),a){case st:return h;case ct:return d;case Ne:{const y=Math.round(d+(h-d)/2);return y<Math.ceil(o/2)?0:y>f+Math.floor(o/2)?f:y}case xe:default:return r>=d&&r<=h?r:d>h||r<d?d:h}},getRowOffset:({rowHeight:e,height:t,totalRow:o},n,a,r,s,c)=>{t=Number(t);const f=Math.max(0,o*e-t),h=Math.min(f,n*e),d=Math.max(0,n*e-t+c+e);switch(a===Qt&&(r>=d-t&&r<=h+t?a=xe:a=Ne),a){case st:return h;case ct:return d;case Ne:{const y=Math.round(d+(h-d)/2);return y<Math.ceil(t/2)?0:y>f+Math.floor(t/2)?f:y}case xe:default:return r>=d&&r<=h?r:d>h||r<d?d:h}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:o},n,a)=>{const r=n*e,s=Math.ceil((o+a-r)/e);return Math.max(0,Math.min(t-1,n+s-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:o},n,a)=>{const r=n*e,s=Math.ceil((o+a-r)/e);return Math.max(0,Math.min(t-1,n+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),xn="ElTableV2Grid",Tn=e=>{const t=$(),o=$(),n=$(0),a=T(()=>{const{data:i,rowHeight:m,estimatedRowHeight:x}=e;if(!x)return i.length*m}),r=T(()=>{const{fixedData:i,rowHeight:m}=e;return((i==null?void 0:i.length)||0)*m}),s=T(()=>Je(e.headerHeight)),c=T(()=>{const{height:i}=e;return Math.max(0,i-l(s)-l(r))}),f=T(()=>l(s)+l(r)>0),h=({data:i,rowIndex:m})=>i[m][e.rowKey];function d({rowCacheStart:i,rowCacheEnd:m,rowVisibleStart:x,rowVisibleEnd:S}){var _;(_=e.onRowsRendered)==null||_.call(e,{rowCacheStart:i,rowCacheEnd:m,rowVisibleStart:x,rowVisibleEnd:S})}function y(i,m){var x;(x=o.value)==null||x.resetAfterRowIndex(i,m)}function w(i,m){const x=l(t),S=l(o);wt(i)?(x==null||x.scrollToLeft(i.scrollLeft),n.value=i.scrollLeft,S==null||S.scrollTo(i)):(x==null||x.scrollToLeft(i),n.value=i,S==null||S.scrollTo({scrollLeft:i,scrollTop:m}))}function v(i){var m;(m=l(o))==null||m.scrollTo({scrollTop:i})}function g(i,m){var x;(x=l(o))==null||x.scrollToItem(i,1,m)}function u(){var i,m;(i=l(o))==null||i.$forceUpdate(),(m=l(t))==null||m.$forceUpdate()}return{bodyRef:o,forceUpdate:u,fixedRowHeight:r,gridHeight:c,hasHeader:f,headerHeight:s,headerRef:t,totalHeight:a,itemKey:h,onItemRendered:d,resetAfterRowIndex:y,scrollTo:w,scrollToTop:v,scrollToRow:g,scrollLeft:n}},En=ge({name:xn,props:Qe,setup(e,{slots:t,expose:o}){const{ns:n}=St(xt),{bodyRef:a,fixedRowHeight:r,gridHeight:s,hasHeader:c,headerRef:f,headerHeight:h,totalHeight:d,forceUpdate:y,itemKey:w,onItemRendered:v,resetAfterRowIndex:g,scrollTo:u,scrollToTop:i,scrollToRow:m,scrollLeft:x}=Tn(e);Ut("tableV2GridScrollLeft",x),o({forceUpdate:y,totalHeight:d,scrollTo:u,scrollToTop:i,scrollToRow:m,resetAfterRowIndex:g});const S=()=>e.bodyWidth;return()=>{const{cache:_,columns:p,data:b,fixedData:F,useIsScrolling:G,scrollbarAlwaysOn:K,scrollbarEndGap:R,scrollbarStartGap:O,style:D,rowHeight:L,bodyWidth:k,estimatedRowHeight:B,headerWidth:V,height:q,width:he,getRowHeight:ye,onScroll:ne}=e,ce=Q(B),we=ce?Sn:Rn,fe=l(h);return C("div",{role:"table",class:[n.e("table"),e.class],style:D},[C(we,{ref:a,data:b,useIsScrolling:G,itemKey:w,columnCache:0,columnWidth:ce?S:k,totalColumn:1,totalRow:b.length,rowCache:_,rowHeight:ce?ye:L,width:he,height:l(s),class:n.e("body"),role:"rowgroup",scrollbarStartGap:O,scrollbarEndGap:R,scrollbarAlwaysOn:K,onScroll:ne,onItemRendered:v,perfMode:!1},{default:le=>{var ee;const re=b[le.rowIndex];return(ee=t.row)==null?void 0:ee.call(t,{...le,columns:p,rowData:re})}}),l(c)&&C(vn,{ref:f,class:n.e("header-wrapper"),columns:p,headerData:b,headerHeight:e.headerHeight,fixedHeaderData:F,rowWidth:V,rowHeight:L,width:he,height:Math.min(fe+l(r),q)},{dynamic:t.header,fixed:t.row})])}}});var Ht=En;function Hn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const Cn=(e,{slots:t})=>{const{mainTableRef:o,...n}=e;return C(Ht,Y({ref:o},n),Hn(t)?t:{default:()=>[t]})};var _n=Cn;function Mn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const pn=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:o,...n}=e;return C(Ht,Y({ref:o},n),Mn(t)?t:{default:()=>[t]})};var In=pn;function On(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const An=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:o,...n}=e;return C(Ht,Y({ref:o},n),On(t)?t:{default:()=>[t]})};var zn=An;const Nn=e=>{const{isScrolling:t}=St(xt),o=$(!1),n=$(),a=T(()=>Q(e.estimatedRowHeight)&&e.rowIndex>=0),r=(f=!1)=>{const h=l(n);if(!h)return;const{columns:d,onRowHeightChange:y,rowKey:w,rowIndex:v,style:g}=e,{height:u}=h.getBoundingClientRect();o.value=!0,Ke(()=>{if(f||u!==Number.parseInt(g.height)){const i=d[0],m=(i==null?void 0:i.placeholderSign)===Be;y==null||y({rowKey:w,height:u,rowIndex:v},i&&!m&&i.fixed)}})},s=T(()=>{const{rowData:f,rowIndex:h,rowKey:d,onRowHover:y}=e,w=e.rowEventHandlers||{},v={};return Object.entries(w).forEach(([g,u])=>{bt(u)&&(v[g]=i=>{u({event:i,rowData:f,rowIndex:h,rowKey:d})})}),y&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:g,hovered:u})=>{const i=v[g];v[g]=m=>{y({event:m,hovered:u,rowData:f,rowIndex:h,rowKey:d}),i==null||i(m)}}),v}),c=f=>{const{onRowExpand:h,rowData:d,rowIndex:y,rowKey:w}=e;h==null||h({expanded:f,rowData:d,rowIndex:y,rowKey:w})};return Rt(()=>{l(a)&&r(!0)}),{isScrolling:t,measurable:a,measured:o,rowRef:n,eventHandlers:s,onExpand:c}},Ln="ElTableV2TableRow",Pn=ge({name:Ln,props:Te,setup(e,{expose:t,slots:o,attrs:n}){const{eventHandlers:a,isScrolling:r,measurable:s,measured:c,rowRef:f,onExpand:h}=Nn(e);return t({onExpand:h}),()=>{const{columns:d,columnsStyles:y,expandColumnKey:w,depth:v,rowData:g,rowIndex:u,style:i}=e;let m=d.map((x,S)=>{const _=Le(g.children)&&g.children.length>0&&x.key===w;return o.cell({column:x,columns:d,columnIndex:S,depth:v,style:y[x.key],rowData:g,rowIndex:u,isScrolling:l(r),expandIconProps:_?{rowData:g,rowIndex:u,onExpand:h}:void 0})});if(o.row&&(m=o.row({cells:m.map(x=>Le(x)&&x.length===1?x[0]:x),style:i,columns:d,depth:v,rowData:g,rowIndex:u,isScrolling:l(r)})),l(s)){const{height:x,...S}=i||{},_=l(c);return C("div",Y({ref:f,class:e.class,style:_?i:S,role:"row"},n,l(a)),[m])}return C("div",Y(n,{ref:f,class:e.class,style:i,role:"row"},l(a)),[m])}}});var Wn=Pn;function Fn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const Dn=(e,{slots:t})=>{const{columns:o,columnsStyles:n,depthMap:a,expandColumnKey:r,expandedRowKeys:s,estimatedRowHeight:c,hasFixedColumns:f,rowData:h,rowIndex:d,style:y,isScrolling:w,rowProps:v,rowClass:g,rowKey:u,rowEventHandlers:i,ns:m,onRowHovered:x,onRowExpanded:S}=e,_=Ce(g,{columns:o,rowData:h,rowIndex:d},""),p=Ce(v,{columns:o,rowData:h,rowIndex:d}),b=h[u],F=a[b]||0,G=!!r,K=d<0,R=[m.e("row"),_,{[m.e(`row-depth-${F}`)]:G&&d>=0,[m.is("expanded")]:G&&s.includes(b),[m.is("fixed")]:!F&&K,[m.is("customized")]:!!t.row}],O=f?x:void 0,D={...p,columns:o,columnsStyles:n,class:R,depth:F,expandColumnKey:r,estimatedRowHeight:K?void 0:c,isScrolling:w,rowIndex:d,rowData:h,rowKey:b,rowEventHandlers:i,style:y};return C(Wn,Y(D,{onRowExpand:S,onMouseenter:B=>{O==null||O({hovered:!0,rowKey:b,event:B,rowData:h,rowIndex:d})},onMouseleave:B=>{O==null||O({hovered:!1,rowKey:b,event:B,rowData:h,rowIndex:d})},rowkey:b}),Fn(t)?t:{default:()=>[t]})};var $n=Dn;const Ct=(e,{slots:t})=>{var o;const{cellData:n,style:a}=e,r=((o=n==null?void 0:n.toString)==null?void 0:o.call(n))||"",s=Ue(t,"default",e,()=>[r]);return C("div",{class:e.class,title:r,style:a},[s])};Ct.displayName="ElTableV2Cell";Ct.inheritAttrs=!1;var Gn=Ct;const Vn=e=>{const{expanded:t,expandable:o,onExpand:n,style:a,size:r}=e,s={onClick:o?()=>n(!t):void 0,class:e.class};return C(Yt,Y(s,{size:r,style:a}),{default:()=>[C(Vo,null,null)]})};var Kn=Vn;const Ro=({columns:e,column:t,columnIndex:o,depth:n,expandIconProps:a,isScrolling:r,rowData:s,rowIndex:c,style:f,expandedRowKeys:h,ns:d,cellProps:y,expandColumnKey:w,indentSize:v,iconSize:g,rowKey:u},{slots:i})=>{const m=ve(f);if(t.placeholderSign===Be)return C("div",{class:d.em("row-cell","placeholder"),style:m},null);const{cellRenderer:x,dataKey:S,dataGetter:_}=t,p=bt(_)?_({columns:e,column:t,columnIndex:o,rowData:s,rowIndex:c}):Ko(s,S??""),b=Ce(y,{cellData:p,columns:e,column:t,columnIndex:o,rowIndex:c,rowData:s}),F={class:d.e("cell-text"),columns:e,column:t,columnIndex:o,cellData:p,isScrolling:r,rowData:s,rowIndex:c},G=uo(x),K=G?G(F):Ue(i,"default",F,()=>[C(Gn,F,null)]),R=[d.e("row-cell"),t.class,t.align===je.CENTER&&d.is("align-center"),t.align===je.RIGHT&&d.is("align-right")],O=c>=0&&w&&t.key===w,D=c>=0&&h.includes(s[u]);let L;const k=`margin-inline-start: ${n*v}px;`;return O&&(wt(a)?L=C(Kn,Y(a,{class:[d.e("expand-icon"),d.is("expanded",D)],size:g,expanded:D,style:k,expandable:!0}),null):L=C("div",{style:[k,`width: ${g}px; height: ${g}px;`].join(" ")},null)),C("div",Y({class:R,style:m},b,{role:"cell"}),[L,K])};Ro.inheritAttrs=!1;var kt=Ro;const kn=se({class:String,columns:Ye,columnsStyles:{type:I(Object),required:!0},headerIndex:Number,style:{type:I(Object)}}),jn=ge({name:"ElTableV2HeaderRow",props:kn,setup(e,{slots:t}){return()=>{const{columns:o,columnsStyles:n,headerIndex:a,style:r}=e;let s=o.map((c,f)=>t.cell({columns:o,column:c,columnIndex:f,headerIndex:a,style:n[c.key]}));return t.header&&(s=t.header({cells:s.map(c=>Le(c)&&c.length===1?c[0]:c),columns:o,headerIndex:a})),C("div",{class:e.class,style:r,role:"row"},[s])}}});var Bn=jn;function qn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const Un=({columns:e,columnsStyles:t,headerIndex:o,style:n,headerClass:a,headerProps:r,ns:s},{slots:c})=>{const f={columns:e,headerIndex:o},h=[s.e("header-row"),Ce(a,f,""),{[s.is("customized")]:!!c.header}],d={...Ce(r,f),columnsStyles:t,class:h,columns:e,headerIndex:o,style:n};return C(Bn,d,qn(c)?c:{default:()=>[c]})};var Yn=Un;const _t=(e,{slots:t})=>Ue(t,"default",e,()=>{var o,n;return[C("div",{class:e.class,title:(o=e.column)==null?void 0:o.title},[(n=e.column)==null?void 0:n.title])]});_t.displayName="ElTableV2HeaderCell";_t.inheritAttrs=!1;var Zn=_t;const Xn=e=>{const{sortOrder:t}=e;return C(Yt,{size:14,class:e.class},{default:()=>[t===ke.ASC?C(ko,null,null):C(jo,null,null)]})};var Jn=Xn;const Qn=(e,{slots:t})=>{const{column:o,ns:n,style:a,onColumnSorted:r}=e,s=ve(a);if(o.placeholderSign===Be)return C("div",{class:n.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:c,headerClass:f,sortable:h}=o,d={...e,class:n.e("header-cell-text")},y=uo(c),w=y?y(d):Ue(t,"default",d,()=>[C(Zn,d,null)]),{sortBy:v,sortState:g,headerCellProps:u}=e;let i,m;if(g){const _=g[o.key];i=!!gt[_],m=i?_:ke.ASC}else i=o.key===v.key,m=i?v.order:ke.ASC;const x=[n.e("header-cell"),Ce(f,e,""),o.align===je.CENTER&&n.is("align-center"),o.align===je.RIGHT&&n.is("align-right"),h&&n.is("sortable")],S={...Ce(u,e),onClick:o.sortable?r:void 0,class:x,style:s,"data-key":o.key};return C("div",Y(S,{role:"columnheader"}),[w,h&&C(Jn,{class:[n.e("sort-icon"),i&&n.is("sorting")],sortOrder:m},null)])};var jt=Qn;const xo=(e,{slots:t})=>{var o;return C("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};xo.displayName="ElTableV2Footer";var el=xo;const To=(e,{slots:t})=>{const o=Ue(t,"default",{},()=>[C(Yo,null,null)]);return C("div",{class:e.class,style:e.style},[o])};To.displayName="ElTableV2Empty";var tl=To;const Eo=(e,{slots:t})=>{var o;return C("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};Eo.displayName="ElTableV2Overlay";var ol=Eo;function Ge(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const nl="ElTableV2",ll=ge({name:nl,props:hn,setup(e,{slots:t,expose:o}){const n=He("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:r,fixedColumnsOnRight:s,mainColumns:c,mainTableHeight:f,fixedTableHeight:h,leftTableWidth:d,rightTableWidth:y,data:w,depthMap:v,expandedRowKeys:g,hasFixedColumns:u,mainTableRef:i,leftTableRef:m,rightTableRef:x,isDynamic:S,isResetting:_,isScrolling:p,bodyWidth:b,emptyStyle:F,rootStyle:G,headerWidth:K,footerHeight:R,showEmpty:O,scrollTo:D,scrollToLeft:L,scrollToTop:k,scrollToRow:B,getRowHeight:V,onColumnSorted:q,onRowHeightChange:he,onRowHovered:ye,onRowExpanded:ne,onRowsRendered:ce,onScroll:we,onVerticalScroll:fe}=dn(e);return o({scrollTo:D,scrollToLeft:L,scrollToTop:k,scrollToRow:B}),Ut(xt,{ns:n,isResetting:_,isScrolling:p}),()=>{const{cache:le,cellProps:ee,estimatedRowHeight:re,expandColumnKey:pe,fixedData:Ie,headerHeight:me,headerClass:Pe,headerProps:We,headerCellProps:Fe,sortBy:De,sortState:J,rowHeight:te,rowClass:be,rowEventHandlers:E,rowKey:H,rowProps:M,scrollbarAlwaysOn:A,indentSize:z,iconSize:N,useIsScrolling:P,vScrollbarSize:W,width:j}=e,U=l(w),ae={cache:le,class:n.e("main"),columns:l(c),data:U,fixedData:Ie,estimatedRowHeight:re,bodyWidth:l(b)+W,headerHeight:me,headerWidth:l(K),height:l(f),mainTableRef:i,rowKey:H,rowHeight:te,scrollbarAlwaysOn:A,scrollbarStartGap:2,scrollbarEndGap:W,useIsScrolling:P,width:j,getRowHeight:V,onRowsRendered:ce,onScroll:we},Z=l(d),X=l(h),$e={cache:le,class:n.e("left"),columns:l(r),data:U,estimatedRowHeight:re,leftTableRef:m,rowHeight:te,bodyWidth:Z,headerWidth:Z,headerHeight:me,height:X,rowKey:H,scrollbarAlwaysOn:A,scrollbarStartGap:2,scrollbarEndGap:W,useIsScrolling:P,width:Z,getRowHeight:V,onScroll:fe},nt=l(y)+W,Ho={cache:le,class:n.e("right"),columns:l(s),data:U,estimatedRowHeight:re,rightTableRef:x,rowHeight:te,bodyWidth:nt,headerWidth:nt,headerHeight:me,height:X,rowKey:H,scrollbarAlwaysOn:A,scrollbarStartGap:2,scrollbarEndGap:W,width:nt,style:`--${l(n.namespace)}-table-scrollbar-size: ${W}px`,useIsScrolling:P,getRowHeight:V,onScroll:fe},Oe=l(a),Co={ns:n,depthMap:l(v),columnsStyles:Oe,expandColumnKey:pe,expandedRowKeys:l(g),estimatedRowHeight:re,hasFixedColumns:l(u),rowProps:M,rowClass:be,rowKey:H,rowEventHandlers:E,onRowHovered:ye,onRowExpanded:ne,onRowHeightChange:he},pt={cellProps:ee,expandColumnKey:pe,indentSize:z,iconSize:N,rowKey:H,expandedRowKeys:l(g),ns:n},_o={ns:n,headerClass:Pe,headerProps:We,columnsStyles:Oe},It={ns:n,sortBy:De,sortState:J,headerCellProps:Fe,onColumnSorted:q},ie={row:lt=>C($n,Y(lt,Co),{row:t.row,cell:oe=>{let Se;return t.cell?C(kt,Y(oe,pt,{style:Oe[oe.column.key]}),Ge(Se=t.cell(oe))?Se:{default:()=>[Se]}):C(kt,Y(oe,pt,{style:Oe[oe.column.key]}),null)}}),header:lt=>C(Yn,Y(lt,_o),{header:t.header,cell:oe=>{let Se;return t["header-cell"]?C(jt,Y(oe,It,{style:Oe[oe.column.key]}),Ge(Se=t["header-cell"](oe))?Se:{default:()=>[Se]}):C(jt,Y(oe,It,{style:Oe[oe.column.key]}),null)}})},Mo=[e.class,n.b(),n.e("root"),{[n.is("dynamic")]:l(S)}],po={class:n.e("footer"),style:l(R)};return C("div",{class:Mo,style:l(G)},[C(_n,ae,Ge(ie)?ie:{default:()=>[ie]}),C(In,$e,Ge(ie)?ie:{default:()=>[ie]}),C(zn,Ho,Ge(ie)?ie:{default:()=>[ie]}),t.footer&&C(el,po,{default:t.footer}),l(O)&&C(tl,{class:n.e("empty"),style:l(F)},{default:t.empty}),t.overlay&&C(ol,{class:n.e("overlay")},{default:t.overlay})])}}});var rl=ll;const al=se({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:I(Function)}}),sl=e=>{const t=$(),o=$(0),n=$(0);let a;return Rt(()=>{a=Bo(t,([r])=>{const{width:s,height:c}=r.contentRect,{paddingLeft:f,paddingRight:h,paddingTop:d,paddingBottom:y}=getComputedStyle(r.target),w=Number.parseInt(f)||0,v=Number.parseInt(h)||0,g=Number.parseInt(d)||0,u=Number.parseInt(y)||0;o.value=s-w-v,n.value=c-g-u}).stop}),qt(()=>{a==null||a()}),qe([o,n],([r,s])=>{var c;(c=e.onResize)==null||c.call(e,{width:r,height:s})}),{sizer:t,width:o,height:n}},cl=ge({name:"ElAutoResizer",props:al,setup(e,{slots:t}){const o=He("auto-resizer"),{height:n,width:a,sizer:r}=sl(e),s={width:"100%",height:"100%"};return()=>{var c;return C("div",{ref:r,class:o.b(),style:s},[(c=t.default)==null?void 0:c.call(t,{height:n.value,width:a.value})])}}});var il=cl;const vl=Zt(rl),gl=Zt(il);export{vl as E,io as F,gl as a};
