import{d as G,r as i,H as J,cc as x,p as Q,a0 as W,o as p,L as d,a as e,w as t,b as _,M as k,k as s,l as U,F as b,U as T,c as h,a1 as S,c2 as N,N as X,cd as Y,I as Z,B as ee,_ as oe}from"./index.9bd28139.js";import{_ as te,T as ne}from"./index.2f1ea065.js";/* empty css              *//* empty css               */import{_ as ae}from"./index.f73ce4f4.js";import{R as ue,_ as le}from"./index.be93258c.js";import{_ as re}from"./index.5b13f597.js";import{u as q}from"./index.bec02405.js";import{u as w}from"./imgHosting.ba381200.js";import{_ as se}from"./Password.25d97b07.js";import"./index.a90bfcee.js";import{_ as ce,F as pe}from"./Form.8c4dba25.js";import"./index.c1de009c.js";import"./Menu.6500d0e0.js";import"./shallowequal.5e5962f5.js";import"./_arrayIncludesWith.15e56e3a.js";import"./Overflow.83b49dc8.js";import"./collapseMotion.6876bb25.js";import"./useState.7f277e8e.js";import"./useRefs.af3a5c90.js";import"./_baseGet.5109bcaa.js";import"./toString.7461b154.js";import"./_arrayMap.dc1f124f.js";import"./_flatRest.b1d96636.js";import"./isMobile.481c1aec.js";import"./Checkbox.71372396.js";import"./v4.0e237c76.js";import"./EyeOutlined.bb058d2d.js";import"./SearchOutlined.15693488.js";import"./Col.7226ed89.js";import"./responsiveObserve.241d3afa.js";import"./useFlexGapSupport.58f7bf17.js";import"./toArray.380a600e.js";import"./get.ecfd95e3.js";import"./toInteger.0cff073c.js";import"./toFinite.9a1bd3e7.js";const _e={class:"commonConfigPanel"},me={key:0,class:"configPanel"},ie={class:"configTable"},de={class:"configOperator"},fe=G({__name:"settings",setup(ve){const F=w(),n=F.commonConfig,I=F.config,R={renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0,customCopyContent:"$url"},c=i("standard"),m=i("$url"),r=i("aliyun"),f=i([]);J(()=>{const l=w().uploader;switch(l!=null&&(r.value=l),x(n,x({},R,n)),n.customCopyContent){case"$url":c.value="standard";break;case"![]($url)":c.value="markdown";break;default:c.value="custom",m.value=n.customCopyContent}B()});function V(l){switch(l.target.value){case"standard":n.customCopyContent="$url";break;case"markdown":n.customCopyContent="![]($url)";break;case"custom":n.customCopyContent=m.value;break}}Q(m,l=>{c.value==="custom"&&(n.customCopyContent=l)});function B(){r.value==="aliyun"&&(f.value=W(q[r.value].config(I(r.value))))}function H(){const l={};for(const o of f.value){if(o.required&&(o.default==null||o.default==="")){N.warn("\u5FC5\u586B\u9879\u672A\u586B\u5199\u5B8C\u6574");return}l[o.name]=o.default}w().saveConfig({uploader:r.value,config:l}),N.success("\u4FDD\u5B58\u6210\u529F")}return(l,o)=>{const v=X,$=re,g=ce,A=Y,y=ue,D=Z,K=le,L=ae,M=se,P=pe,O=ee,j=te,z=ne;return p(),d(b,null,[e(v,{level:4},{default:t(()=>[_(" \u901A\u7528\u914D\u7F6E ")]),_:1}),k("div",_e,[e(g,{label:"\u65F6\u95F4\u6233\u91CD\u547D\u540D"},{default:t(()=>[e($,{checked:s(n).renameTimeStamp,"onUpdate:checked":o[0]||(o[0]=a=>s(n).renameTimeStamp=a)},null,8,["checked"])]),_:1}),e(g,{label:"\u4E0A\u4F20\u540E\u81EA\u52A8\u590D\u5236URL"},{default:t(()=>[e($,{checked:s(n).copyUrlAfterUpload,"onUpdate:checked":o[1]||(o[1]=a=>s(n).copyUrlAfterUpload=a)},null,8,["checked"])]),_:1}),e(v,{level:5},{default:t(()=>[_(" \u94FE\u63A5\u590D\u5236\u683C\u5F0F ")]),_:1}),e(K,{value:s(c),"onUpdate:value":o[3]||(o[3]=a=>U(c)?c.value=a:null),class:"custom-copy-wrapper",onChange:V},{default:t(()=>[e(y,{value:"standard"},{default:t(()=>[_(" \u6807\u51C6 "),e(A,{code:"",content:"$url"})]),_:1}),e(y,{value:"markdown"},{default:t(()=>[_(" MarkDown "),e(A,{code:"",content:"![]($url)"})]),_:1}),e(y,{value:"custom"},{default:t(()=>[_(" \u81EA\u5B9A\u4E49 "),e(D,{value:s(m),"onUpdate:value":o[2]||(o[2]=a=>U(m)?m.value=a:null),style:{width:"100px","margin-left":"10px"}},null,8,["value"])]),_:1})]),_:1},8,["value"])]),e(L),e(v,{level:4},{default:t(()=>[_(" \u56FE\u5E8A\u8BBE\u7F6E ")]),_:1}),e(z,{activeKey:s(r),"onUpdate:activeKey":o[4]||(o[4]=a=>U(r)?r.value=a:null),type:"card",onChange:B},{default:t(()=>[(p(),d(b,null,T(q,(a,E)=>e(j,{key:E,tab:a.name},{default:t(()=>[s(r)===E?(p(),d("div",me,[k("div",ie,[e(P,{layout:"vertical"},{default:t(()=>[(p(!0),d(b,null,T(s(f),u=>(p(),h(g,{key:u.name,label:u.label,required:u.required},{default:t(()=>[u.type==="input"?(p(),h(D,{key:0,value:u.default,"onUpdate:value":C=>u.default=C,"allow-clear":"",placeholder:u.hint},null,8,["value","onUpdate:value","placeholder"])):u.type==="password"?(p(),h(M,{key:1,value:u.default,"onUpdate:value":C=>u.default=C,"allow-clear":"",placeholder:u.hint},null,8,["value","onUpdate:value","placeholder"])):S("",!0)]),_:2},1032,["label","required"]))),128))]),_:2},1024)]),k("div",de,[e(O,{type:"primary",onClick:H},{default:t(()=>[_(" \u4FDD\u5B58 ")]),_:1})])])):S("",!0)]),_:2},1032,["tab"])),64))]),_:1},8,["activeKey"])],64)}}});const Ze=oe(fe,[["__scopeId","data-v-95a7ccce"]]);export{Ze as default};
