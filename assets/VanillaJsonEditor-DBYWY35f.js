import{_ as H,k as J,s as z,R as h,l as P,T as Me,x as f,ab as Ie,I as le,h as me,j as V,n as B,am as ie,bE as eo,a7 as we,aR as oo,V as F,q as Z,r as K,w as l,K as a,b7 as no,bF as to,aT as lo,aS as D,E as X,G as te,b2 as so,aB as fe,v as ue,bG as ro,aP as Ae,bH as ao,L as ye,u as Ee,aU as io,bI as uo,b4 as co,bJ as Ge,a8 as Ve,al as po,F as v,y as fo,$ as be,Y as mo,t as vo,bK as go,z as _o,b8 as ze,by as Se,a5 as bo,ai as oe,N as G,H as Fe,X as ce,an as ne,W as Io,a0 as wo}from"./index-DdH6q6SV.js";import{c as je,E as yo}from"./el-dialog-Bh62SDAe.js";import{E as Eo}from"./el-space-DYJG-lXk.js";import{c as j,u as Re,r as Co,a as ho,O as To,E as $o,w as Pe}from"./el-popper-B_12Myl_.js";import{$ as pe,H as ko}from"./jse-theme-dark-DmdhKcwA.js";import{c as Be}from"./createFile-DuGnwZKp.js";import{f as No}from"./formatBytes-aAslYXQD.js";import{c as De}from"./clone-_BdSUHpY.js";import{c as Oo}from"./castArray-DfJK8VnQ.js";import{P as So,b as Fo}from"./Router-C4hKjnIW.js";const Ro=J({inheritAttrs:!1});function Po(e,s,g,t,c,b){return z(e.$slots,"default")}var Bo=H(Ro,[["render",Po],["__file","collection.vue"]]);const Do=J({name:"ElCollectionItem",inheritAttrs:!1});function Lo(e,s,g,t,c,b){return z(e.$slots,"default")}var Ko=H(Do,[["render",Lo],["__file","collection-item.vue"]]);const Ue="data-el-collection-item",Je=e=>{const s=`El${e}Collection`,g=`${s}Item`,t=Symbol(s),c=Symbol(g),b={...Bo,name:s,setup(){const d=h(),w=new Map;le(t,{itemMap:w,getItems:()=>{const i=f(d);if(!i)return[];const m=Array.from(i.querySelectorAll(`[${Ue}]`));return[...w.values()].sort((n,p)=>m.indexOf(n.ref)-m.indexOf(p.ref))},collectionRef:d})}},I={...Ko,name:g,setup(d,{attrs:w}){const C=h(),i=P(t,void 0);le(c,{collectionItemRef:C}),Me(()=>{const m=f(C);m&&i.itemMap.set(m,{ref:m,...w})}),Ie(()=>{const m=f(C);i.itemMap.delete(m)})}};return{COLLECTION_INJECTION_KEY:t,COLLECTION_ITEM_INJECTION_KEY:c,ElCollection:b,ElCollectionItem:I}},Mo=me({style:{type:V([String,Array,Object])},currentTabId:{type:V(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:V(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Ao,ElCollectionItem:Go,COLLECTION_INJECTION_KEY:Ce,COLLECTION_ITEM_INJECTION_KEY:Vo}=Je("RovingFocusGroup"),he=Symbol("elRovingFocusGroup"),Ye=Symbol("elRovingFocusGroupItem"),zo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},jo=(e,s)=>e,Uo=(e,s,g)=>{const t=jo(e.code);return zo[t]},Jo=(e,s)=>e.map((g,t)=>e[(t+s)%e.length]),Te=e=>{const{activeElement:s}=document;for(const g of e)if(g===s||(g.focus(),s!==document.activeElement))return},Le="currentTabIdChange",Ke="rovingFocusGroup.entryFocus",Yo={bubbles:!1,cancelable:!0},Ho=J({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Mo,emits:[Le,"entryFocus"],setup(e,{emit:s}){var g;const t=h((g=e.currentTabId||e.defaultCurrentTabId)!=null?g:null),c=h(!1),b=h(!1),I=h(),{getItems:d}=P(Ce,void 0),w=B(()=>[{outline:"none"},e.style]),C=_=>{s(Le,_)},i=()=>{c.value=!0},m=j(_=>{var E;(E=e.onMousedown)==null||E.call(e,_)},()=>{b.value=!0}),y=j(_=>{var E;(E=e.onFocus)==null||E.call(e,_)},_=>{const E=!f(b),{target:$,currentTarget:N}=_;if($===N&&E&&!f(c)){const M=new Event(Ke,Yo);if(N?.dispatchEvent(M),!M.defaultPrevented){const k=d().filter(L=>L.focusable),A=k.find(L=>L.active),O=k.find(L=>L.id===f(t)),Y=[A,O,...k].filter(Boolean).map(L=>L.ref);Te(Y)}}b.value=!1}),n=j(_=>{var E;(E=e.onBlur)==null||E.call(e,_)},()=>{c.value=!1}),p=(..._)=>{s("entryFocus",..._)};le(he,{currentTabbedId:eo(t),loop:ie(e,"loop"),tabIndex:B(()=>f(c)?-1:0),rovingFocusGroupRef:I,rovingFocusGroupRootStyle:w,orientation:ie(e,"orientation"),dir:ie(e,"dir"),onItemFocus:C,onItemShiftTab:i,onBlur:n,onFocus:y,onMousedown:m}),we(()=>e.currentTabId,_=>{t.value=_??null}),oo(I,Ke,p)}});function Wo(e,s,g,t,c,b){return z(e.$slots,"default")}var qo=H(Ho,[["render",Wo],["__file","roving-focus-group-impl.vue"]]);const Qo=J({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Ao,ElRovingFocusGroupImpl:qo}});function Xo(e,s,g,t,c,b){const I=F("el-roving-focus-group-impl"),d=F("el-focus-group-collection");return K(),Z(d,null,{default:l(()=>[a(I,no(to(e.$attrs)),{default:l(()=>[z(e.$slots,"default")]),_:3},16)]),_:3})}var Zo=H(Qo,[["render",Xo],["__file","roving-focus-group.vue"]]);const xo=me({trigger:ho.trigger,triggerKeys:{type:V(Array),default:()=>[D.enter,D.numpadEnter,D.space,D.down]},effect:{...Re.effect,default:"light"},type:{type:V(String)},placement:{type:V(String),default:"bottom"},popperOptions:{type:V(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:V([Number,String]),default:0},maxHeight:{type:V([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:Co,default:"menu"},buttonProps:{type:V(Object)},teleported:Re.teleported,persistent:{type:Boolean,default:!0}}),He=me({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:lo}}),en=me({onKeydown:{type:V(Function)}}),on=[D.down,D.pageDown,D.home],We=[D.up,D.pageUp,D.end],nn=[...on,...We],{ElCollection:tn,ElCollectionItem:ln,COLLECTION_INJECTION_KEY:sn,COLLECTION_ITEM_INJECTION_KEY:rn}=Je("Dropdown"),ve=Symbol("elDropdown"),qe="elDropdown",{ButtonGroup:an}=ye,un=J({name:"ElDropdown",components:{ElButton:ye,ElButtonGroup:an,ElScrollbar:ao,ElDropdownCollection:tn,ElTooltip:$o,ElRovingFocusGroup:Zo,ElOnlyChild:To,ElIcon:Ae,ArrowDown:ro},props:xo,emits:["visible-change","click","command"],setup(e,{emit:s}){const g=Ve(),t=Ee("dropdown"),{t:c}=io(),b=h(),I=h(),d=h(),w=h(),C=h(null),i=h(null),m=h(!1),y=B(()=>({maxHeight:uo(e.maxHeight)})),n=B(()=>[t.m(k.value)]),p=B(()=>Oo(e.trigger)),_=Ge().value,E=B(()=>e.id||_);we([b,p],([u,S],[q])=>{var se,r,o;(se=q?.$el)!=null&&se.removeEventListener&&q.$el.removeEventListener("pointerenter",O),(r=u?.$el)!=null&&r.removeEventListener&&u.$el.removeEventListener("pointerenter",O),(o=u?.$el)!=null&&o.addEventListener&&S.includes("hover")&&u.$el.addEventListener("pointerenter",O)},{immediate:!0}),Ie(()=>{var u,S;(S=(u=b.value)==null?void 0:u.$el)!=null&&S.removeEventListener&&b.value.$el.removeEventListener("pointerenter",O)});function $(){N()}function N(){var u;(u=d.value)==null||u.onClose()}function M(){var u;(u=d.value)==null||u.onOpen()}const k=co();function A(...u){s("command",...u)}function O(){var u,S;(S=(u=b.value)==null?void 0:u.$el)==null||S.focus()}function U(){}function Y(){const u=f(w);p.value.includes("hover")&&u?.focus(),i.value=null}function L(u){i.value=u}function de(u){m.value||(u.preventDefault(),u.stopImmediatePropagation())}function x(){s("visible-change",!0)}function W(u){var S;u?.type==="keydown"&&((S=w.value)==null||S.focus())}function ge(){s("visible-change",!1)}return le(ve,{contentRef:w,role:B(()=>e.role),triggerId:E,isUsingKeyboard:m,onItemEnter:U,onItemLeave:Y}),le(qe,{instance:g,dropdownSize:k,handleClick:$,commandHandler:A,trigger:ie(e,"trigger"),hideOnClick:ie(e,"hideOnClick")}),{t:c,ns:t,scrollbar:C,wrapStyle:y,dropdownTriggerKls:n,dropdownSize:k,triggerId:E,currentTabId:i,handleCurrentTabIdChange:L,handlerMainButtonClick:u=>{s("click",u)},handleEntryFocus:de,handleClose:N,handleOpen:M,handleBeforeShowTooltip:x,handleShowTooltip:W,handleBeforeHideTooltip:ge,onFocusAfterTrapped:u=>{var S,q;u.preventDefault(),(q=(S=w.value)==null?void 0:S.focus)==null||q.call(S,{preventScroll:!0})},popperRef:d,contentRef:w,triggeringElementRef:b,referenceElementRef:I}}});function dn(e,s,g,t,c,b){var I;const d=F("el-dropdown-collection"),w=F("el-roving-focus-group"),C=F("el-scrollbar"),i=F("el-only-child"),m=F("el-tooltip"),y=F("el-button"),n=F("arrow-down"),p=F("el-icon"),_=F("el-button-group");return K(),X("div",{class:ue([e.ns.b(),e.ns.is("disabled",e.disabled)])},[a(m,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(I=e.referenceElementRef)==null?void 0:I.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},so({content:l(()=>[a(C,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:l(()=>[a(w,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:l(()=>[a(d,null,{default:l(()=>[z(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:l(()=>[a(i,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:l(()=>[z(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(K(),Z(_,{key:0},{default:l(()=>[a(y,fe({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:l(()=>[z(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),a(y,fe({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:l(()=>[a(p,{class:ue(e.ns.e("icon"))},{default:l(()=>[a(n)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):te("v-if",!0)],2)}var cn=H(un,[["render",dn],["__file","dropdown.vue"]]);const pn=J({components:{ElRovingFocusCollectionItem:Go},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(e,{emit:s}){const{currentTabbedId:g,loop:t,onItemFocus:c,onItemShiftTab:b}=P(he,void 0),{getItems:I}=P(Ce,void 0),d=Ge(),w=h(),C=j(n=>{s("mousedown",n)},n=>{e.focusable?c(f(d)):n.preventDefault()}),i=j(n=>{s("focus",n)},()=>{c(f(d))}),m=j(n=>{s("keydown",n)},n=>{const{code:p,shiftKey:_,target:E,currentTarget:$}=n;if(p===D.tab&&_){b();return}if(E!==$)return;const N=Uo(n);if(N){n.preventDefault();let k=I().filter(A=>A.focusable).map(A=>A.ref);switch(N){case"last":{k.reverse();break}case"prev":case"next":{N==="prev"&&k.reverse();const A=k.indexOf($);k=t.value?Jo(k,A+1):k.slice(A+1);break}}po(()=>{Te(k)})}}),y=B(()=>g.value===f(d));return le(Ye,{rovingFocusGroupItemRef:w,tabIndex:B(()=>f(y)?0:-1),handleMousedown:C,handleFocus:i,handleKeydown:m}),{id:d,handleKeydown:m,handleFocus:i,handleMousedown:C}}});function fn(e,s,g,t,c,b){const I=F("el-roving-focus-collection-item");return K(),Z(I,{id:e.id,focusable:e.focusable,active:e.active},{default:l(()=>[z(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var mn=H(pn,[["render",fn],["__file","roving-focus-item.vue"]]);const vn=J({name:"DropdownItemImpl",components:{ElIcon:Ae},props:He,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:s}){const g=Ee("dropdown"),{role:t}=P(ve,void 0),{collectionItemRef:c}=P(rn,void 0),{collectionItemRef:b}=P(Vo,void 0),{rovingFocusGroupItemRef:I,tabIndex:d,handleFocus:w,handleKeydown:C,handleMousedown:i}=P(Ye,void 0),m=je(c,b,I),y=B(()=>t.value==="menu"?"menuitem":t.value==="navigation"?"link":"button"),n=j(p=>{if([D.enter,D.numpadEnter,D.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),s("clickimpl",p),!0},C);return{ns:g,itemRef:m,dataset:{[Ue]:""},role:y,tabIndex:d,handleFocus:w,handleKeydown:n,handleMousedown:i}}});function gn(e,s,g,t,c,b){const I=F("el-icon");return K(),X(mo,null,[e.divided?(K(),X("li",{key:0,role:"separator",class:ue(e.ns.bem("menu","item","divided"))},null,2)):te("v-if",!0),v("li",fe({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:d=>e.$emit("clickimpl",d),onFocus:e.handleFocus,onKeydown:be(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:d=>e.$emit("pointermove",d),onPointerleave:d=>e.$emit("pointerleave",d)}),[e.icon?(K(),Z(I,{key:0},{default:l(()=>[(K(),Z(fo(e.icon)))]),_:1})):te("v-if",!0),z(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var _n=H(vn,[["render",gn],["__file","dropdown-item-impl.vue"]]);const Qe=()=>{const e=P(qe,{}),s=B(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:s}},bn=J({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ln,ElRovingFocusItem:mn,ElDropdownItemImpl:_n},inheritAttrs:!1,props:He,emits:["pointermove","pointerleave","click"],setup(e,{emit:s,attrs:g}){const{elDropdown:t}=Qe(),c=Ve(),b=h(null),I=B(()=>{var n,p;return(p=(n=f(b))==null?void 0:n.textContent)!=null?p:""}),{onItemEnter:d,onItemLeave:w}=P(ve,void 0),C=j(n=>(s("pointermove",n),n.defaultPrevented),Pe(n=>{if(e.disabled){w(n);return}const p=n.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(d(n),n.defaultPrevented||p?.focus())})),i=j(n=>(s("pointerleave",n),n.defaultPrevented),Pe(w)),m=j(n=>{if(!e.disabled)return s("click",n),n.type!=="keydown"&&n.defaultPrevented},n=>{var p,_,E;if(e.disabled){n.stopImmediatePropagation();return}(p=t?.hideOnClick)!=null&&p.value&&((_=t.handleClick)==null||_.call(t)),(E=t.commandHandler)==null||E.call(t,e.command,c,n)}),y=B(()=>({...e,...g}));return{handleClick:m,handlePointerMove:C,handlePointerLeave:i,textContent:I,propsAndAttrs:y}}});function In(e,s,g,t,c,b){var I;const d=F("el-dropdown-item-impl"),w=F("el-roving-focus-item"),C=F("el-dropdown-collection-item");return K(),Z(C,{disabled:e.disabled,"text-value":(I=e.textValue)!=null?I:e.textContent},{default:l(()=>[a(w,{focusable:!e.disabled},{default:l(()=>[a(d,fe(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:l(()=>[z(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Xe=H(bn,[["render",In],["__file","dropdown-item.vue"]]);const wn=J({name:"ElDropdownMenu",props:en,setup(e){const s=Ee("dropdown"),{_elDropdownSize:g}=Qe(),t=g.value,{focusTrapRef:c,onKeydown:b}=P(go,void 0),{contentRef:I,role:d,triggerId:w}=P(ve,void 0),{collectionRef:C,getItems:i}=P(sn,void 0),{rovingFocusGroupRef:m,rovingFocusGroupRootStyle:y,tabIndex:n,onBlur:p,onFocus:_,onMousedown:E}=P(he,void 0),{collectionRef:$}=P(Ce,void 0),N=B(()=>[s.b("menu"),s.bm("menu",t?.value)]),M=je(I,C,c,m,$),k=j(O=>{var U;(U=e.onKeydown)==null||U.call(e,O)},O=>{const{currentTarget:U,code:Y,target:L}=O;if(U.contains(L),D.tab===Y&&O.stopImmediatePropagation(),O.preventDefault(),L!==f(I)||!nn.includes(Y))return;const x=i().filter(W=>!W.disabled).map(W=>W.ref);We.includes(Y)&&x.reverse(),Te(x)});return{size:t,rovingFocusGroupRootStyle:y,tabIndex:n,dropdownKls:N,role:d,triggerId:w,dropdownListWrapperRef:M,handleKeydown:O=>{k(O),b(O)},onBlur:p,onFocus:_,onMousedown:E}}});function yn(e,s,g,t,c,b){return K(),X("ul",{ref:e.dropdownListWrapperRef,class:ue(e.dropdownKls),style:vo(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:be(e.handleKeydown,["self"]),onMousedown:be(e.onMousedown,["self"])},[z(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Ze=H(wn,[["render",yn],["__file","dropdown-menu.vue"]]);const En=_o(cn,{DropdownItem:Xe,DropdownMenu:Ze}),Cn=ze(Xe),hn=ze(Ze),Tn={key:0,class:"json-editor-menu"},$n={key:0,class:"editorTitle"},kn={class:"buttonWithIcon"},Nn={class:"dialog-footer"},On=J({__name:"VanillaJsonEditor",props:{content:{default:void 0},config:{default:()=>({mode:"text"})},showMenuBar:{type:Boolean,default:!1},name:{default:""}},emits:["change","create","changeName","open","openRecent","delete"],setup(e,{expose:s,emit:g}){const t=e,c=g,b=Se(),I=["content","mode","mainMenuBar","navigationBar","statusBar","readOnly","indentation","tabSize","escapeControlCharacters","escapeUnicodeCharacters","validator","onError","onChange","onChangeMode","onClassName","onRenderValue","onRenderMenu","queryLanguages","queryLanguageId","onChangeQueryLanguage","onFocus","onBlur"],d=h(),w=h(),C=h();let i;const m=h(""),y=h(2),n=h(!1),p=h(!1),_=h(!1),E=h(""),$=B(()=>{if(p.value){const r=i.get();let o,T;return pe(r)?T=r.json:T=r.text,typeof T=="string"?o="字符串类型":Array.isArray(T)?o=`数组类型，包含 ${T.length} 个对象`:T&&typeof T=="object"?o=`对象类型，包含 ${Object.keys(T).length} 个属性`:o="其他类型",{name:m.value,storage:m.value?"浏览器本地":"",updated:"",content:o,size:No(typeof T=="string"?T.length:JSON.stringify(T,null,y.value).length)}}else return{}});let N=!1;s({container:w,update:U,set:Y,refresh:de,get:L});let M={};Me(()=>{d.value&&(M=De(t.config),i=ko({target:d.value,props:{content:{json:{}},onChange:r=>{N||(pe(r)?c("change",r.json):c("change",r.text))},indentation:y.value,...se(M,I)}}),t.config.indentation&&(y.value=t.config.indentation))}),Ie(()=>{i?.destroy()}),we(()=>Se().isDark,()=>{i?.refresh()}),bo(()=>{let r=!1;for(const o in t.config)if(t.config[o]!==M[o]){r=!0;break}r&&(M=De(t.config),i?.updateProps(se(M,I))),t.content!=null&&U(t.content),m.value=t.name,i?.refresh()});function k(){i.set({json:{}}),c("create")}function A(r){switch(r){case"file":C.value?.click();break;case"recent":c("openRecent");break}}function O(r){const o=r.target;if(o.files&&o.files.length){const T=o.files[0],R=new FileReader;R.onload=()=>{R.result&&c("open",{name:T.name,content:R.result})},R.readAsText(T)}o.value=""}function U(r){N=!0;let o;r!=null&&(typeof r=="string"?o=r:o=JSON.stringify(r,null,y.value),i.update({text:o})),setTimeout(()=>{N=!1},0)}function Y(r){N=!0,r!=null&&(typeof r=="string"?i.set({text:r}):i.set({json:r})),setTimeout(()=>{N=!1},0)}function L(){const r=i.get();return pe(r)?r.json:r.text}function de(){i?.refresh()}function x(){const r=i.get(),o=m.value?`${m.value}.json`:"未命名.json";pe(r)?Be(JSON.stringify(r.json),o):Be(r.text,o)}let W=y.value;function ge(r){switch(r){case"indentation":W=y.value,n.value=!0;break;case"properties":p.value=!0;break;case"delete":c("delete");break}}function _e(){y.value=W,n.value=!1}function $e(){i.updateProps({indentation:y.value}),n.value=!1}function u(){E.value=m.value,_.value=!0}function S(){_.value=!1}function q(){E.value&&c("changeName",E.value),_.value=!1}function se(r,o){const T={};for(const R of o)r[R]!==void 0&&(T[R]=r[R]);return T}return(r,o)=>{const T=Io,R=ye,re=Cn,ke=hn,Ne=En,xe=Eo,ee=So,Oe=yo,ae=Fo;return K(),X("div",{ref_key:"container",ref:w,class:"json-editor-wrapper"},[r.showMenuBar?(K(),X("div",Tn,[f(m)&&!f(_)?(K(),X("div",$n,[G(Fe(f(m))+" ",1),v("i",{class:"i-icon-park-outline-edit",onClick:u})])):te("",!0),f(_)?(K(),Z(T,{key:1,modelValue:f(E),"onUpdate:modelValue":o[0]||(o[0]=Q=>ce(E)?E.value=Q:null),class:"name-editor",placeholder:"请输入名称"},{suffix:l(()=>[v("i",{class:"i-icon-park-outline-close",onClick:S}),v("i",{class:"i-icon-park-outline-check",onClick:q})]),_:1},8,["modelValue"])):te("",!0),a(xe,{class:"editorControlButtons"},{default:l(()=>[a(R,{size:"small",type:"primary",onClick:k},{default:l(()=>o[4]||(o[4]=[v("span",{class:"buttonWithIcon"},[v("span",{class:"i-icon-park-outline-file-addition-one"}),G(" 新建")],-1)])),_:1,__:[4]}),a(Ne,{onCommand:A},{dropdown:l(()=>[a(ke,null,{default:l(()=>[a(re,{command:"recent"},{default:l(()=>o[5]||(o[5]=[v("span",{class:"buttonWithIcon"},[v("span",{class:"i-icon-park-outline-history"}),G(" 打开最近记录")],-1)])),_:1,__:[5]}),a(re,{command:"file"},{default:l(()=>o[6]||(o[6]=[v("span",{class:"buttonWithIcon"},[v("span",{class:"i-icon-park-outline-computer"}),G(" 打开本地文件")],-1)])),_:1,__:[6]})]),_:1})]),default:l(()=>[a(R,{size:"small",type:"primary"},{default:l(()=>o[7]||(o[7]=[v("span",{class:"buttonWithIcon"},[v("span",{class:"i-icon-park-outline-folder-open"}),G(" 打开"),v("span",{class:"i-icon-park-outline-down"})],-1)])),_:1,__:[7]})]),_:1}),a(R,{size:"small",type:"primary",onClick:x},{default:l(()=>o[8]||(o[8]=[v("span",{class:"buttonWithIcon"},[v("span",{class:"i-icon-park-outline-save"}),G(" 保存")],-1)])),_:1,__:[8]}),a(Ne,{onCommand:ge},{dropdown:l(()=>[a(ke,null,{default:l(()=>[a(re,{command:"indentation"},{default:l(()=>[v("span",kn,[o[9]||(o[9]=v("span",{class:"i-icon-park-outline-indent-right"},null,-1)),G(" 缩进("+Fe(f(y))+")",1)])]),_:1}),a(re,{command:"properties"},{default:l(()=>o[10]||(o[10]=[v("span",{class:"buttonWithIcon"},[v("span",{class:"i-icon-park-outline-info"}),G(" 文档属性")],-1)])),_:1,__:[10]}),a(re,{command:"delete"},{default:l(()=>o[11]||(o[11]=[v("span",{class:"buttonWithIcon"},[v("span",{class:"i-icon-park-outline-delete"}),G(" 删除文档")],-1)])),_:1,__:[11]})]),_:1})]),default:l(()=>[a(R,{size:"small",type:"primary"},{default:l(()=>o[12]||(o[12]=[v("span",{class:"buttonWithIcon"},[v("span",{class:"i-icon-park-outline-setting-two"}),G(" 选项"),v("span",{class:"i-icon-park-outline-down"})],-1)])),_:1,__:[12]})]),_:1})]),_:1})])):te("",!0),v("div",{ref_key:"jsonEditorDiv",ref:d,class:ue(["json-editor",{"jse-theme-dark":f(b).isDark}])},null,2),oe(v("input",{ref_key:"uploader",ref:C,type:"file",accept:".json,.geojson,.txt",onChange:O},null,544),[[ne,!1]]),a(Oe,{modelValue:f(n),"onUpdate:modelValue":o[2]||(o[2]=Q=>ce(n)?n.value=Q:null),title:"设置缩进","before-close":_e},{footer:l(()=>[v("span",Nn,[a(R,{onClick:_e},{default:l(()=>o[14]||(o[14]=[G("取消",-1)])),_:1,__:[14]}),a(R,{type:"primary",onClick:$e},{default:l(()=>o[15]||(o[15]=[G(" 确定 ",-1)])),_:1,__:[15]})])]),default:l(()=>[a(ee,null,{default:l(()=>o[13]||(o[13]=[G("配置代码模式下用于缩进的空格数。 缩进同时应用于两个面板。",-1)])),_:1,__:[13]}),a(T,{modelValue:f(y),"onUpdate:modelValue":o[1]||(o[1]=Q=>ce(y)?y.value=Q:null),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["modelValue"]),a(Oe,{modelValue:f(p),"onUpdate:modelValue":o[3]||(o[3]=Q=>ce(p)?p.value=Q:null),title:"文档属性",class:"documentProperties"},{default:l(()=>[a(ee,null,{default:l(()=>[o[16]||(o[16]=v("strong",null,"名称：",-1)),oe(a(ae,{content:f($).name},null,8,["content"]),[[ne,f($).name]])]),_:1,__:[16]}),a(ee,null,{default:l(()=>[o[17]||(o[17]=v("strong",null,"存储：",-1)),oe(a(ae,{content:f($).storage},null,8,["content"]),[[ne,f($).storage]])]),_:1,__:[17]}),a(ee,null,{default:l(()=>[o[18]||(o[18]=v("strong",null,"更新：",-1)),oe(a(ae,{content:f($).updated},null,8,["content"]),[[ne,f($).updated]])]),_:1,__:[18]}),a(ee,null,{default:l(()=>[o[19]||(o[19]=v("strong",null,"内容：",-1)),oe(a(ae,{content:f($).content},null,8,["content"]),[[ne,f($).content]])]),_:1,__:[19]}),a(ee,null,{default:l(()=>[o[20]||(o[20]=v("strong",null,"大小：",-1)),oe(a(ae,{content:f($).size},null,8,["content"]),[[ne,f($).size]])]),_:1,__:[20]})]),_:1},8,["modelValue"])],512)}}}),Gn=wo(On,[["__scopeId","data-v-755a22be"]]);export{Gn as V};
