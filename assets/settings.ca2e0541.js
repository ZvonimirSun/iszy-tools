import{d as G,r as i,H as J,ca as x,p as Q,aT as W,o as c,L as d,a as e,w as t,b as _,M as k,k as s,l as b,F as U,bg as T,c as h,bl as S,$ as N,N as X,cb as Y,I as Z,B as ee,_ as oe}from"./index.ae07ae9c.js";import{_ as te,T as ne}from"./index.83bedd08.js";/* empty css              *//* empty css               */import{_ as ae}from"./index.3661624c.js";import{R as ue,_ as le}from"./index.576aca9d.js";import{_ as re}from"./index.6cec822a.js";import{u as q}from"./index.8f71a705.js";import{u as w}from"./imgHosting.de65dfc6.js";import{_ as se}from"./Password.66a170e6.js";import"./index.dba9c363.js";import{_ as pe,F as ce}from"./Form.2526de11.js";import"./index.be7d1337.js";import"./Menu.14ccbfd2.js";import"./shallowequal.4e5d20cf.js";import"./_arrayIncludesWith.40afec22.js";import"./Overflow.5a2648a8.js";import"./collapseMotion.8c55a50b.js";import"./useState.135b03d5.js";import"./useRefs.f6d03394.js";import"./_baseGet.2820b254.js";import"./toString.91d5579e.js";import"./_arrayMap.dc1f124f.js";import"./_flatRest.6a791d79.js";import"./isMobile.481c1aec.js";import"./Checkbox.36af6342.js";import"./v4.0e237c76.js";import"./EyeOutlined.90806b6b.js";import"./SearchOutlined.ee8a16e3.js";import"./Col.e66b75c0.js";import"./responsiveObserve.ee522443.js";import"./useFlexGapSupport.2c8ccc1e.js";import"./toArray.88a764c0.js";import"./get.c61b3778.js";import"./toInteger.64c43e44.js";import"./toFinite.c10c9a20.js";const _e={class:"commonConfigPanel"},me={key:0,class:"configPanel"},ie={class:"configTable"},de={class:"configOperator"},fe=G({__name:"settings",setup(ve){const F=w(),n=F.commonConfig,I=F.config,R={renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0,customCopyContent:"$url"},p=i("standard"),m=i("$url"),r=i("aliyun"),f=i([]);J(()=>{const l=w().uploader;switch(l!=null&&(r.value=l),x(n,x({},R,n)),n.customCopyContent){case"$url":p.value="standard";break;case"![]($url)":p.value="markdown";break;default:p.value="custom",m.value=n.customCopyContent}B()});function V(l){switch(l.target.value){case"standard":n.customCopyContent="$url";break;case"markdown":n.customCopyContent="![]($url)";break;case"custom":n.customCopyContent=m.value;break}}Q(m,l=>{p.value==="custom"&&(n.customCopyContent=l)});function B(){r.value==="aliyun"&&(f.value=W(q[r.value].config(I(r.value))))}function H(){const l={};for(const o of f.value){if(o.required&&(o.default==null||o.default==="")){N.warn("\u5FC5\u586B\u9879\u672A\u586B\u5199\u5B8C\u6574");return}l[o.name]=o.default}w().saveConfig({uploader:r.value,config:l}),N.success("\u4FDD\u5B58\u6210\u529F")}return(l,o)=>{const v=X,$=re,g=pe,A=Y,y=ue,D=Z,K=le,L=ae,M=se,P=ce,O=ee,j=te,z=ne;return c(),d(U,null,[e(v,{level:4},{default:t(()=>[_(" \u901A\u7528\u914D\u7F6E ")]),_:1}),k("div",_e,[e(g,{label:"\u65F6\u95F4\u6233\u91CD\u547D\u540D"},{default:t(()=>[e($,{checked:s(n).renameTimeStamp,"onUpdate:checked":o[0]||(o[0]=a=>s(n).renameTimeStamp=a)},null,8,["checked"])]),_:1}),e(g,{label:"\u4E0A\u4F20\u540E\u81EA\u52A8\u590D\u5236URL"},{default:t(()=>[e($,{checked:s(n).copyUrlAfterUpload,"onUpdate:checked":o[1]||(o[1]=a=>s(n).copyUrlAfterUpload=a)},null,8,["checked"])]),_:1}),e(v,{level:5},{default:t(()=>[_(" \u94FE\u63A5\u590D\u5236\u683C\u5F0F ")]),_:1}),e(K,{value:s(p),"onUpdate:value":o[3]||(o[3]=a=>b(p)?p.value=a:null),class:"custom-copy-wrapper",onChange:V},{default:t(()=>[e(y,{value:"standard"},{default:t(()=>[_(" \u6807\u51C6 "),e(A,{code:"",content:"$url"})]),_:1}),e(y,{value:"markdown"},{default:t(()=>[_(" MarkDown "),e(A,{code:"",content:"![]($url)"})]),_:1}),e(y,{value:"custom"},{default:t(()=>[_(" \u81EA\u5B9A\u4E49 "),e(D,{value:s(m),"onUpdate:value":o[2]||(o[2]=a=>b(m)?m.value=a:null),style:{width:"100px","margin-left":"10px"}},null,8,["value"])]),_:1})]),_:1},8,["value"])]),e(L),e(v,{level:4},{default:t(()=>[_(" \u56FE\u5E8A\u8BBE\u7F6E ")]),_:1}),e(z,{activeKey:s(r),"onUpdate:activeKey":o[4]||(o[4]=a=>b(r)?r.value=a:null),type:"card",onChange:B},{default:t(()=>[(c(),d(U,null,T(q,(a,E)=>e(j,{key:E,tab:a.name},{default:t(()=>[s(r)===E?(c(),d("div",me,[k("div",ie,[e(P,{layout:"vertical"},{default:t(()=>[(c(!0),d(U,null,T(s(f),u=>(c(),h(g,{key:u.name,label:u.label,required:u.required},{default:t(()=>[u.type==="input"?(c(),h(D,{key:0,value:u.default,"onUpdate:value":C=>u.default=C,"allow-clear":"",placeholder:u.hint},null,8,["value","onUpdate:value","placeholder"])):u.type==="password"?(c(),h(M,{key:1,value:u.default,"onUpdate:value":C=>u.default=C,"allow-clear":"",placeholder:u.hint},null,8,["value","onUpdate:value","placeholder"])):S("",!0)]),_:2},1032,["label","required"]))),128))]),_:2},1024)]),k("div",de,[e(O,{type:"primary",onClick:H},{default:t(()=>[_(" \u4FDD\u5B58 ")]),_:1})])])):S("",!0)]),_:2},1032,["tab"])),64))]),_:1},8,["activeKey"])],64)}}});const Ze=oe(fe,[["__scopeId","data-v-16c09378"]]);export{Ze as default};
