import{d as j,cP as R,u as I,cQ as J,j as V,f as h,o as p,J as E,a as e,w as u,b as t,an as o,F as g,c as M,$ as y,L as O,B as P,_ as q}from"./index.0076ae71.js";import{C as L}from"./index.0dcb5ce3.js";import{_ as Q}from"./index.d10b11c0.js";import{_ as z}from"./index.62f02984.js";import{_ as G}from"./index.49c251e8.js";import"./Checkbox.5325844f.js";import"./useFlexGapSupport.c97836c2.js";const H=j({__name:"index",setup(K){const s=R(),C=I(),F=J(),f=V("$msg"),B=h(()=>s.state.user._user),a=h(()=>s.state.user.settings),A=()=>s.commit("clearOfflineCache"),v=()=>s.dispatch("uploadSettings"),w=()=>s.dispatch("downloadSettings"),l=m=>s.commit("user/triggerSetting",m),S=m=>s.commit("user/jsonEditor/triggerJsonEditorSetting",m);async function x(){await v()?f.success("\u540C\u6B65\u6210\u529F"):f.error("\u540C\u6B65\u5931\u8D25")}async function $(){await w()?f.success("\u540C\u6B65\u6210\u529F"):f.error("\u540C\u6B65\u5931\u8D25")}function b(){C.push({path:"/login",query:{redirect:F.fullPath}})}function D(){C.push("/register")}function T(){C.push("/logout")}return(m,n)=>{const r=O,d=P,N=G,_=z,k=Q,c=L;return p(),E(g,null,[e(r,{level:3},{default:u(()=>[t(" \u7528\u6237 ")]),_:1}),e(_,null,{default:u(()=>[o(B).token?(p(),M(d,{key:1,type:"primary",onClick:T},{default:u(()=>[t(" \u767B\u51FA ")]),_:1})):(p(),E(g,{key:0},[e(d,{type:"primary",onClick:b},{default:u(()=>[t(" \u767B\u5F55 ")]),_:1}),e(d,{type:"primary",onClick:D},{default:u(()=>[t(" \u6CE8\u518C ")]),_:1})],64)),e(N,{title:"\u60A8\u662F\u5426\u786E\u5B9A\u8981\u6E05\u7A7A\u672C\u5730\u7F13\u5B58\uFF1F","ok-text":"\u6E05\u7A7A",onConfirm:A},{default:u(()=>[e(d,{danger:""},{default:u(()=>[t(" \u6E05\u7A7A\u672C\u5730\u7F13\u5B58 ")]),_:1})]),_:1})]),_:1}),e(k),o(B).token?(p(),E(g,{key:0},[e(r,{level:3},{default:u(()=>[t(" \u4E91\u7AEF\u540C\u6B65 ")]),_:1}),e(_,null,{default:u(()=>[e(d,{type:"primary",onClick:x},{default:u(()=>[t(" \u540C\u6B65\u5230\u4E91\u7AEF ")]),_:1}),e(d,{type:"primary",onClick:$},{default:u(()=>[t(" \u4ECE\u4E91\u7AEF\u540C\u6B65 ")]),_:1}),e(c,{checked:o(a).autoSync,onChange:n[0]||(n[0]=i=>l("autoSync"))},{default:u(()=>[t(" \u81EA\u52A8\u540C\u6B65 ")]),_:1},8,["checked"])]),_:1}),e(k)],64)):y("",!0),e(r,{level:3},{default:u(()=>[t(" \u5168\u5C40\u8BBE\u7F6E ")]),_:1}),e(r,{level:4},{default:u(()=>[t(" \u8BBF\u95EE\u7EDF\u8BA1 ")]),_:1}),e(_,null,{default:u(()=>[e(c,{checked:o(a).showMost,onChange:n[1]||(n[1]=i=>l("showMost"))},{default:u(()=>[t(" \u6700\u5E38\u8BBF\u95EE ")]),_:1},8,["checked"]),e(c,{checked:o(a).showRecent,onChange:n[2]||(n[2]=i=>l("showRecent"))},{default:u(()=>[t(" \u6700\u8FD1\u8BBF\u95EE ")]),_:1},8,["checked"])]),_:1}),e(r,{level:4},{default:u(()=>[t(" \u5176\u4ED6\u8BBE\u7F6E ")]),_:1}),e(_,null,{default:u(()=>[e(c,{checked:o(a).showSearch,onChange:n[3]||(n[3]=i=>l("showSearch"))},{default:u(()=>[t(" \u663E\u793A\u641C\u7D22 ")]),_:1},8,["checked"]),e(c,{checked:o(a).showType,onChange:n[4]||(n[4]=i=>l("showType"))},{default:u(()=>[t(" \u663E\u793A\u5206\u7C7B ")]),_:1},8,["checked"]),e(c,{checked:o(a).openInNewTab,onChange:n[5]||(n[5]=i=>l("openInNewTab"))},{default:u(()=>[t(" \u65B0\u6807\u7B7E\u9875\u6253\u5F00\u5DE5\u5177 ")]),_:1},8,["checked"])]),_:1}),o(B).token?(p(),E(g,{key:1},[e(k),e(r,{level:3},{default:u(()=>[t(" \u5E94\u7528\u8BBE\u7F6E ")]),_:1}),e(_,null,{default:u(()=>[e(c,{checked:o(a).jsonEditor.syncCloud,onChange:n[6]||(n[6]=i=>S("syncCloud"))},{default:u(()=>[t(" \u4ECE\u4E91\u7AEF\u83B7\u53D6 ")]),_:1},8,["checked"])]),_:1})],64)):y("",!0)],64)}}});const te=q(H,[["__scopeId","data-v-9baf5e10"]]);export{te as default};
