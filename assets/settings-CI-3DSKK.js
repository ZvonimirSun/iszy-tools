import{D as w,aV as x,ap as T,k as N,u as l,E as I,a0 as M,a1 as V,at as $,aU as j,bJ as H,au as P,av as q,H as g,I as C,Z as E,$ as t,aq as o,ah as G,V as e,ao as b,Q as J,ar as F,aC as Q}from"./index-Bok7aGwW.js";import{E as Z}from"./el-checkbox-D8l09d5U.js";import{E as z,a as K}from"./el-radio-group-B5JTLgXB.js";/* empty css                 */import{E as L}from"./el-divider-D9tJqFFI.js";import{E as W}from"./el-space--T0GAqYt.js";import{E as X}from"./el-popover-BbH0aEPx.js";import{m as Y,T as ee}from"./Router-BWVog-W6.js";const te=w({inheritAttrs:!1,__name:"HaveAccess",props:{auth:{type:[Boolean,Object],default:!1},link:{default:""}},setup(u){const a=u,p=x(),k=Y(),d=T(),_=N(()=>a.auth?typeof a.auth=="boolean"?p.logged:p.checkAccess(a.auth):a.link?p.checkAccess(k.getAuth(a.link)):!0);function n(){a.link&&d.push(a.link)}return(m,y)=>l(_)?I(m.$slots,"default",M({key:0},m.$attrs,{goto:n})):V("",!0)}}),oe=$("main",{persist:!0,state:()=>({_cache:{},clearOfflineCacheTag:!1}),getters:{getData:u=>a=>{if(a)return(u._cache||{})[a]}},actions:{setData({key:u,val:a}={}){u&&(this._cache=this._cache||{},this._cache[u]=a)},clear(){this._cache={}},clearOfflineCache(){console.log("clearOfflineCache"),this.clearOfflineCacheTag=!0}}}),le={key:1,flex:"","items-center":"","gap-4":""},ae={flex:"","flex-wrap":"","items-start":"","gap-4":"","text-7":"",class:"settings-container"},ne={class:"settings-wrapper"},se={key:0,class:"settings-wrapper"},re=w({__name:"settings",setup(u){const a=T(),p=j(),k=H(),d=x(),_=P(),n=N(()=>_.general),m=()=>oe().clearOfflineCache();function y(){a.push({path:"/login",query:{redirect:p.fullPath}})}function O(){a.push("/register")}function U(){a.push("/logout")}return(ue,r)=>{const c=ee,i=F,A=q("router-link"),B=te,S=X,h=W,R=L,v=z,D=K,f=Z;return g(),C(J,null,[l(d).logged?(g(),E(c,{key:0,level:3},{default:t(()=>[o(G(l(d).profile.nickName)+" 欢迎你~ ",1)]),_:1})):V("",!0),l(d).logged?(g(),C("div",le,[e(i,{type:"primary",onClick:U},{default:t(()=>[o(" 登出 ")]),_:1}),e(A,{to:"/personalCenter"},{default:t(()=>[e(i,null,{default:t(()=>[o(" 个人中心 ")]),_:1})]),_:1}),e(B,{link:"/userManager"},{default:t(({goto:s})=>[e(i,{onClick:s},{default:t(()=>[o(" 用户权限中心 ")]),_:2},1032,["onClick"])]),_:1}),e(S,{title:"您是否确定要清空本地缓存？","confirm-button-text":"清空",onConfirm:m},{reference:t(()=>[e(i,{type:"danger",plain:""},{default:t(()=>[o(" 清空本地缓存 ")]),_:1})]),_:1})])):(g(),E(h,{key:2,"mt-4":""},{default:t(()=>[e(i,{type:"primary",onClick:y},{default:t(()=>[o(" 登录 ")]),_:1}),e(i,{onClick:O},{default:t(()=>[o(" 注册 ")]),_:1}),e(S,{title:"您是否确定要清空本地缓存？","confirm-button-text":"清空",onConfirm:m},{reference:t(()=>[e(i,{type:"danger",plain:""},{default:t(()=>[o(" 清空本地缓存 ")]),_:1})]),_:1})]),_:1})),e(R),b("div",ae,[b("div",ne,[e(c,{level:4},{default:t(()=>[o(" 全局设置 ")]),_:1}),e(c,{level:5},{default:t(()=>[o(" 外观 ")]),_:1}),e(h,null,{default:t(()=>[e(D,{"model-value":l(n).theme.mode,onChange:l(k).setTheme},{default:t(()=>[e(v,{value:"auto",label:"跟随系统"}),e(v,{value:"light",label:"浅色"}),e(v,{value:"dark",label:"深色"})]),_:1},8,["model-value","onChange"])]),_:1}),e(c,{level:5},{default:t(()=>[o(" 访问统计 ")]),_:1}),e(h,null,{default:t(()=>[e(f,{modelValue:l(n).showMost,"onUpdate:modelValue":r[0]||(r[0]=s=>l(n).showMost=s)},{default:t(()=>[o(" 最常访问 ")]),_:1},8,["modelValue"]),e(f,{modelValue:l(n).showRecent,"onUpdate:modelValue":r[1]||(r[1]=s=>l(n).showRecent=s)},{default:t(()=>[o(" 最近访问 ")]),_:1},8,["modelValue"])]),_:1}),e(c,{level:5},{default:t(()=>[o(" 其他设置 ")]),_:1}),e(h,null,{default:t(()=>[e(f,{modelValue:l(n).showSearch,"onUpdate:modelValue":r[2]||(r[2]=s=>l(n).showSearch=s)},{default:t(()=>[o(" 显示搜索 ")]),_:1},8,["modelValue"]),e(f,{modelValue:l(n).showType,"onUpdate:modelValue":r[3]||(r[3]=s=>l(n).showType=s)},{default:t(()=>[o(" 显示分类 ")]),_:1},8,["modelValue"]),e(f,{modelValue:l(n).openInNewTab,"onUpdate:modelValue":r[4]||(r[4]=s=>l(n).openInNewTab=s)},{default:t(()=>[o(" 新标签页打开工具 ")]),_:1},8,["modelValue"])]),_:1})]),l(d).logged?(g(),C("div",se,[e(c,{level:4},{default:t(()=>[o(" 应用设置 ")]),_:1}),e(c,{level:5},{default:t(()=>[o(" JSON 编辑器 ")]),_:1}),e(h,null,{default:t(()=>[e(f,{modelValue:l(_).modules.jsonEditor.syncCloud,"onUpdate:modelValue":r[5]||(r[5]=s=>l(_).modules.jsonEditor.syncCloud=s)},{default:t(()=>[o(" 从云端获取 ")]),_:1},8,["modelValue"])]),_:1})])):V("",!0)])],64)}}}),ge=Q(re,[["__scopeId","data-v-328055a3"]]);export{ge as default};
