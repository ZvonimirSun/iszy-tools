import{D as ge,J as je,o as K,H as oe,w as G,K as mt,L as dr,M as lr,t as j,T as fr,N as Xe,O as ut,G as hr,P as pr,Q as Me,R as Pt,U as ze,l as Z,V as ot,W as mr,X as gr,Y as vr,Z as he,$ as ct,a0 as yr,a1 as Ee,A as dt,B as lt,h as F,j as z,a2 as br,a3 as me,x as Ce,a4 as Y,s as H,a5 as kr,F as fe,r as Le,a6 as gt,a7 as Nr,a8 as Cr,a9 as _t,n as Ft,aa as wr,ab as Er,ac as we,ad as xr,ae as Dr,q as Fe,af as Tr,C as re,ag as Ir,ah as Sr,ai as Or,aj as Pr,z as ne,v as jt,ak as _r,I as jr,al as At,y as Ar,p as qr,k as Kr,g as Rr}from"./index-jCyllJZn.js";import{E as $r}from"./el-checkbox-HqvA0KW9.js";import{u as vt,f as qt,w as Kt,c as Ht,_ as Pe,P as Lr,a as Br,b as Rt,C as Mr,T as zr}from"./index-8-FdNn2G.js";import"./el-tag-3iAgVmPz.js";import{E as Fr,a as Hr}from"./el-select-x5rRBNST.js";import"./el-scrollbar-vz8xv5bG.js";import"./el-popper-rcur5Z-K.js";import{E as Ur}from"./el-pagination-AVxBaV01.js";import{E as Wr}from"./el-divider-2HMlHTvD.js";import{_ as Jr}from"./Text-Zlhk6B4I.js";import"./index-xkE0MWs0.js";import{_ as Vr}from"./Link-uS6s5YKR.js";import{_ as Qr}from"./Paragraph-M0ZvGh18.js";import{_ as Gr}from"./Title-d5z37_D1.js";import"./isEqual-RJXH5g-i.js";import"./hasIn-0f2CMhn3.js";import"./index-Q3VZIcf6.js";import"./index-hH278yaT.js";import"./strings-fddFoy9q.js";import"./toInteger-mD2ps4UP.js";import"./toFinite-LQgJJ_jb.js";import"./isUndefined-IZwZ21d-.js";const Xr=ge({name:"ElCollapseTransition"}),Yr=ge({...Xr,setup(o){const n=je("collapse-transition"),i=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},u={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){i(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){i(t)},leaveCancelled(t){i(t)}};return(t,d)=>(K(),oe(fr,dr({name:j(n).b()},lr(u)),{default:G(()=>[mt(t.$slots,"default")]),_:3},16,["name"]))}});var Ve=Xe(Yr,[["__file","collapse-transition.vue"]]);Ve.install=o=>{o.component(Ve.name,Ve)};const Zr=Ve,_e="$treeNodeId",$t=function(o,n){!n||n[_e]||Object.defineProperty(n,_e,{value:o.id,enumerable:!1,configurable:!1,writable:!1})},yt=function(o,n){return o?n[o]:n[_e]},ft=(o,n,i)=>{const u=o.value.currentNode;i();const t=o.value.currentNode;u!==t&&n("current-change",t?t.data:null,t)},ht=o=>{let n=!0,i=!0,u=!0;for(let t=0,d=o.length;t<d;t++){const p=o[t];(p.checked!==!0||p.indeterminate)&&(n=!1,p.disabled||(u=!1)),(p.checked!==!1||p.indeterminate)&&(i=!1)}return{all:n,none:i,allWithoutDisable:u,half:!n&&!i}},Qe=function(o){if(o.childNodes.length===0||o.loading)return;const{all:n,none:i,half:u}=ht(o.childNodes);n?(o.checked=!0,o.indeterminate=!1):u?(o.checked=!1,o.indeterminate=!0):i&&(o.checked=!1,o.indeterminate=!1);const t=o.parent;!t||t.level===0||o.store.checkStrictly||Qe(t)},We=function(o,n){const i=o.store.props,u=o.data||{},t=i[n];if(typeof t=="function")return t(u,o);if(typeof t=="string")return u[t];if(typeof t>"u"){const d=u[n];return d===void 0?"":d}};let ea=0;class xe{constructor(n){this.id=ea++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in n)ut(n,i)&&(this[i]=n[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const i=n.props;if(i&&typeof i.isLeaf<"u"){const d=We(this,"isLeaf");typeof d=="boolean"&&(this.isLeafByUser=d)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||$t(this,this.data),!this.data)return;const u=n.defaultExpandedKeys,t=n.key;t&&u&&u.includes(this.key)&&this.expand(null,n.autoExpandParent),t&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||$t(this,n),this.data=n,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=We(this,"children")||[];for(let u=0,t=i.length;u<t;u++)this.insertChild({data:i[u]})}get label(){return We(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return We(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return n.childNodes[i+1]}return null}get previousSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return i>0?n.childNodes[i-1]:null}return null}contains(n,i=!0){return(this.childNodes||[]).some(u=>u===n||i&&u.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,i,u){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof xe)){if(!u){const t=this.getChildren(!0);t.includes(n.data)||(typeof i>"u"||i<0?t.push(n.data):t.splice(i,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=hr(new xe(n)),n instanceof xe&&n.initialize()}n.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(n):this.childNodes.splice(i,0,n),this.updateLeafState()}insertBefore(n,i){let u;i&&(u=this.childNodes.indexOf(i)),this.insertChild(n,u)}insertAfter(n,i){let u;i&&(u=this.childNodes.indexOf(i),u!==-1&&(u+=1)),this.insertChild(n,u)}removeChild(n){const i=this.getChildren()||[],u=i.indexOf(n.data);u>-1&&i.splice(u,1);const t=this.childNodes.indexOf(n);t>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(n){let i=null;for(let u=0;u<this.childNodes.length;u++)if(this.childNodes[u].data===n){i=this.childNodes[u];break}i&&this.removeChild(i)}expand(n,i){const u=()=>{if(i){let t=this.parent;for(;t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(t=>{t.canFocus=!0})};this.shouldLoadData()?this.loadData(t=>{Array.isArray(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Qe(this),u())}):u()}doCreateChildren(n,i={}){n.forEach(u=>{this.insertChild(Object.assign({data:u},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,i,u,t){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:p,allWithoutDisable:m}=ht(this.childNodes);!this.isLeaf&&!p&&m&&(this.checked=!1,n=!1);const _=()=>{if(i){const v=this.childNodes;for(let b=0,f=v.length;b<f;b++){const R=v[b];t=t||n!==!1;const M=R.disabled?R.checked:t;R.setChecked(M,i,!0,t)}const{half:w,all:N}=ht(v);N||(this.checked=N,this.indeterminate=w)}};if(this.shouldLoadData()){this.loadData(()=>{_(),Qe(this)},{checked:n!==!1});return}else _()}const d=this.parent;!d||d.level===0||u||Qe(d)}getChildren(n=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const u=this.store.props;let t="children";return u&&(t=u.children||"children"),i[t]===void 0&&(i[t]=null),n&&!i[t]&&(i[t]=[]),i[t]}updateChildren(){const n=this.getChildren()||[],i=this.childNodes.map(d=>d.data),u={},t=[];n.forEach((d,p)=>{const m=d[_e];!!m&&i.findIndex(v=>v[_e]===m)>=0?u[m]={index:p,data:d}:t.push({index:p,data:d})}),this.store.lazy||i.forEach(d=>{u[d[_e]]||this.removeChildByData(d)}),t.forEach(({index:d,data:p})=>{this.insertChild({data:p},d)}),this.updateLeafState()}loadData(n,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const u=t=>{this.childNodes=[],this.doCreateChildren(t,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,t)};this.store.load(this,u)}else n&&n.call(this)}}class ta{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const i in n)ut(n,i)&&(this[i]=n[i]);this.nodesMap={}}initialize(){if(this.root=new xe({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const i=this.filterNodeMethod,u=this.lazy,t=function(d){const p=d.root?d.root.childNodes:d.childNodes;if(p.forEach(m=>{m.visible=i.call(m,n,m.data,m),t(m)}),!d.visible&&p.length){let m=!0;m=!p.some(_=>_.visible),d.root?d.root.visible=m===!1:d.visible=m===!1}n&&d.visible&&!d.isLeaf&&(!u||d.loaded)&&d.expand()};t(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof xe)return n;const i=pr(n)?yt(this.key,n):n;return this.nodesMap[i]||null}insertBefore(n,i){const u=this.getNode(i);u.parent.insertBefore({data:n},u)}insertAfter(n,i){const u=this.getNode(i);u.parent.insertAfter({data:n},u)}remove(n){const i=this.getNode(n);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(n,i){const u=i?this.getNode(i):this.root;u&&u.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],i=this.nodesMap;n.forEach(u=>{const t=i[u];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const i=this.key;!n||!n.data||(i?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(u=>{this.deregisterNode(u)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,i=!1){const u=[],t=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(m=>{(m.checked||i&&m.indeterminate)&&(!n||n&&m.isLeaf)&&u.push(m.data),t(m)})};return t(this),u}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const n=[],i=function(u){(u.root?u.root.childNodes:u.childNodes).forEach(d=>{d.indeterminate&&n.push(d.data),i(d)})};return i(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],i=this.nodesMap;for(const u in i)ut(i,u)&&n.push(i[u]);return n}updateChildren(n,i){const u=this.nodesMap[n];if(!u)return;const t=u.childNodes;for(let d=t.length-1;d>=0;d--){const p=t[d];this.remove(p.data)}for(let d=0,p=i.length;d<p;d++){const m=i[d];this.append(m,u.data)}}_setCheckedKeys(n,i=!1,u){const t=this._getAllNodes().sort((_,v)=>_.level-v.level),d=Object.create(null),p=Object.keys(u);t.forEach(_=>_.setChecked(!1,!1));const m=_=>{_.childNodes.forEach(v=>{var w;d[v.data[n]]=!0,(w=v.childNodes)!=null&&w.length&&m(v)})};for(let _=0,v=t.length;_<v;_++){const w=t[_],N=w.data[n].toString();if(!p.includes(N)){w.checked&&!d[N]&&w.setChecked(!1,!1);continue}if(w.childNodes.length&&m(w),w.isLeaf||this.checkStrictly){w.setChecked(!0,!1);continue}if(w.setChecked(!0,!0),i){w.setChecked(!1,!1);const f=function(R){R.childNodes.forEach(x=>{x.isLeaf||x.setChecked(!1,!1),f(x)})};f(w)}}}setCheckedNodes(n,i=!1){const u=this.key,t={};n.forEach(d=>{t[(d||{})[u]]=!0}),this._setCheckedKeys(u,i,t)}setCheckedKeys(n,i=!1){this.defaultCheckedKeys=n;const u=this.key,t={};n.forEach(d=>{t[d]=!0}),this._setCheckedKeys(u,i,t)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(i=>{const u=this.getNode(i);u&&u.expand(null,this.autoExpandParent)})}setChecked(n,i,u){const t=this.getNode(n);t&&t.setChecked(!!i,u)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,i=!0){const u=n[this.key],t=this.nodesMap[u];this.setCurrentNode(t),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,i=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const u=this.getNode(n);u&&(this.setCurrentNode(u),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const na=ge({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(o){const n=je("tree"),i=Me("NodeInstance"),u=Me("RootTree");return()=>{const t=o.node,{data:d,store:p}=t;return o.renderContent?o.renderContent(Pt,{_self:i,node:t,data:d,store:p}):mt(u.ctx.slots,"default",{node:t,data:d},()=>[Pt("span",{class:n.be("node","label")},[t.label])])}}});var ra=Xe(na,[["__file","tree-node-content.vue"]]);function Ut(o){const n=Me("TreeNodeMap",null),i={treeNodeExpand:u=>{o.node!==u&&o.node.collapse()},children:[]};return n&&n.children.push(i),ze("TreeNodeMap",i),{broadcastExpanded:u=>{if(o.accordion)for(const t of i.children)t.treeNodeExpand(u)}}}const Wt=Symbol("dragEvents");function aa({props:o,ctx:n,el$:i,dropIndicator$:u,store:t}){const d=je("tree"),p=Z({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ze(Wt,{treeNodeDragStart:({event:w,treeNode:N})=>{if(typeof o.allowDrag=="function"&&!o.allowDrag(N.node))return w.preventDefault(),!1;w.dataTransfer.effectAllowed="move";try{w.dataTransfer.setData("text/plain","")}catch{}p.value.draggingNode=N,n.emit("node-drag-start",N.node,w)},treeNodeDragOver:({event:w,treeNode:N})=>{const b=N,f=p.value.dropNode;f&&f.node.id!==b.node.id&&ot(f.$el,d.is("drop-inner"));const R=p.value.draggingNode;if(!R||!b)return;let M=!0,x=!0,J=!0,U=!0;typeof o.allowDrop=="function"&&(M=o.allowDrop(R.node,b.node,"prev"),U=x=o.allowDrop(R.node,b.node,"inner"),J=o.allowDrop(R.node,b.node,"next")),w.dataTransfer.dropEffect=x||M||J?"move":"none",(M||x||J)&&(f==null?void 0:f.node.id)!==b.node.id&&(f&&n.emit("node-drag-leave",R.node,f.node,w),n.emit("node-drag-enter",R.node,b.node,w)),M||x||J?p.value.dropNode=b:p.value.dropNode=null,b.node.nextSibling===R.node&&(J=!1),b.node.previousSibling===R.node&&(M=!1),b.node.contains(R.node,!1)&&(x=!1),(R.node===b.node||R.node.contains(b.node))&&(M=!1,x=!1,J=!1);const X=b.$el.querySelector(`.${d.be("node","content")}`).getBoundingClientRect(),W=i.value.getBoundingClientRect();let O;const C=M?x?.25:J?.45:1:-1,L=J?x?.75:M?.55:0:1;let V=-9999;const I=w.clientY-X.top;I<X.height*C?O="before":I>X.height*L?O="after":x?O="inner":O="none";const P=b.$el.querySelector(`.${d.be("node","expand-icon")}`).getBoundingClientRect(),T=u.value;O==="before"?V=P.top-W.top:O==="after"&&(V=P.bottom-W.top),T.style.top=`${V}px`,T.style.left=`${P.right-W.left}px`,O==="inner"?mr(b.$el,d.is("drop-inner")):ot(b.$el,d.is("drop-inner")),p.value.showDropIndicator=O==="before"||O==="after",p.value.allowDrop=p.value.showDropIndicator||U,p.value.dropType=O,n.emit("node-drag-over",R.node,b.node,w)},treeNodeDragEnd:w=>{const{draggingNode:N,dropType:b,dropNode:f}=p.value;if(w.preventDefault(),w.dataTransfer.dropEffect="move",N&&f){const R={data:N.node.data};b!=="none"&&N.node.remove(),b==="before"?f.node.parent.insertBefore(R,f.node):b==="after"?f.node.parent.insertAfter(R,f.node):b==="inner"&&f.node.insertChild(R),b!=="none"&&t.value.registerNode(R),ot(f.$el,d.is("drop-inner")),n.emit("node-drag-end",N.node,f.node,b,w),b!=="none"&&n.emit("node-drop",N.node,f.node,b,w)}N&&!f&&n.emit("node-drag-end",N.node,null,b,w),p.value.showDropIndicator=!1,p.value.draggingNode=null,p.value.dropNode=null,p.value.allowDrop=!0}}),{dragState:p}}const oa=ge({name:"ElTreeNode",components:{ElCollapseTransition:Zr,ElCheckbox:$r,NodeContent:ra,ElIcon:gr,Loading:vr},props:{node:{type:xe,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(o,n){const i=je("tree"),{broadcastExpanded:u}=Ut(o),t=Me("RootTree"),d=Z(!1),p=Z(!1),m=Z(null),_=Z(null),v=Z(null),w=Me(Wt),N=gt();ze("NodeInstance",N),o.node.expanded&&(d.value=!0,p.value=!0);const b=t.props.props.children||"children";he(()=>{const I=o.node.data[b];return I&&[...I]},()=>{o.node.updateChildren()}),he(()=>o.node.indeterminate,I=>{M(o.node.checked,I)}),he(()=>o.node.checked,I=>{M(I,o.node.indeterminate)}),he(()=>o.node.expanded,I=>{ct(()=>d.value=I),I&&(p.value=!0)});const f=I=>yt(t.props.nodeKey,I.data),R=I=>{const P=o.props.class;if(!P)return{};let T;if(Nr(P)){const{data:de}=I;T=P(de,I)}else T=P;return Cr(T)?{[T]:!0}:T},M=(I,P)=>{(m.value!==I||_.value!==P)&&t.ctx.emit("check-change",o.node.data,I,P),m.value=I,_.value=P},x=I=>{ft(t.store,t.ctx.emit,()=>t.store.value.setCurrentNode(o.node)),t.currentNode.value=o.node,t.props.expandOnClickNode&&U(),t.props.checkOnClickNode&&!o.node.disabled&&X(null,{target:{checked:!o.node.checked}}),t.ctx.emit("node-click",o.node.data,o.node,N,I)},J=I=>{t.instance.vnode.props.onNodeContextmenu&&(I.stopPropagation(),I.preventDefault()),t.ctx.emit("node-contextmenu",I,o.node.data,o.node,N)},U=()=>{o.node.isLeaf||(d.value?(t.ctx.emit("node-collapse",o.node.data,o.node,N),o.node.collapse()):(o.node.expand(),n.emit("node-expand",o.node.data,o.node,N)))},X=(I,P)=>{o.node.setChecked(P.target.checked,!t.props.checkStrictly),ct(()=>{const T=t.store.value;t.ctx.emit("check",o.node.data,{checkedNodes:T.getCheckedNodes(),checkedKeys:T.getCheckedKeys(),halfCheckedNodes:T.getHalfCheckedNodes(),halfCheckedKeys:T.getHalfCheckedKeys()})})};return{ns:i,node$:v,tree:t,expanded:d,childNodeRendered:p,oldChecked:m,oldIndeterminate:_,getNodeKey:f,getNodeClass:R,handleSelectChange:M,handleClick:x,handleContextMenu:J,handleExpandIconClick:U,handleCheckChange:X,handleChildNodeExpand:(I,P,T)=>{u(P),t.ctx.emit("node-expand",I,P,T)},handleDragStart:I=>{t.props.draggable&&w.treeNodeDragStart({event:I,treeNode:o})},handleDragOver:I=>{I.preventDefault(),t.props.draggable&&w.treeNodeDragOver({event:I,treeNode:{$el:v.value,node:o.node}})},handleDrop:I=>{I.preventDefault()},handleDragEnd:I=>{t.props.draggable&&w.treeNodeDragEnd(I)},CaretRight:yr}}}),sa=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],ia=["aria-expanded"];function ua(o,n,i,u,t,d){const p=Ee("el-icon"),m=Ee("el-checkbox"),_=Ee("loading"),v=Ee("node-content"),w=Ee("el-tree-node"),N=Ee("el-collapse-transition");return dt((K(),F("div",{ref:"node$",class:me([o.ns.b("node"),o.ns.is("expanded",o.expanded),o.ns.is("current",o.node.isCurrent),o.ns.is("hidden",!o.node.visible),o.ns.is("focusable",!o.node.disabled),o.ns.is("checked",!o.node.disabled&&o.node.checked),o.getNodeClass(o.node)]),role:"treeitem",tabindex:"-1","aria-expanded":o.expanded,"aria-disabled":o.node.disabled,"aria-checked":o.node.checked,draggable:o.tree.props.draggable,"data-key":o.getNodeKey(o.node),onClick:n[1]||(n[1]=Ce((...b)=>o.handleClick&&o.handleClick(...b),["stop"])),onContextmenu:n[2]||(n[2]=(...b)=>o.handleContextMenu&&o.handleContextMenu(...b)),onDragstart:n[3]||(n[3]=Ce((...b)=>o.handleDragStart&&o.handleDragStart(...b),["stop"])),onDragover:n[4]||(n[4]=Ce((...b)=>o.handleDragOver&&o.handleDragOver(...b),["stop"])),onDragend:n[5]||(n[5]=Ce((...b)=>o.handleDragEnd&&o.handleDragEnd(...b),["stop"])),onDrop:n[6]||(n[6]=Ce((...b)=>o.handleDrop&&o.handleDrop(...b),["stop"]))},[z("div",{class:me(o.ns.be("node","content")),style:kr({paddingLeft:(o.node.level-1)*o.tree.props.indent+"px"})},[o.tree.props.icon||o.CaretRight?(K(),oe(p,{key:0,class:me([o.ns.be("node","expand-icon"),o.ns.is("leaf",o.node.isLeaf),{expanded:!o.node.isLeaf&&o.expanded}]),onClick:Ce(o.handleExpandIconClick,["stop"])},{default:G(()=>[(K(),oe(br(o.tree.props.icon||o.CaretRight)))]),_:1},8,["class","onClick"])):Y("v-if",!0),o.showCheckbox?(K(),oe(m,{key:1,"model-value":o.node.checked,indeterminate:o.node.indeterminate,disabled:!!o.node.disabled,onClick:n[0]||(n[0]=Ce(()=>{},["stop"])),onChange:o.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Y("v-if",!0),o.node.loading?(K(),oe(p,{key:2,class:me([o.ns.be("node","loading-icon"),o.ns.is("loading")])},{default:G(()=>[H(_)]),_:1},8,["class"])):Y("v-if",!0),H(v,{node:o.node,"render-content":o.renderContent},null,8,["node","render-content"])],6),H(N,null,{default:G(()=>[!o.renderAfterExpand||o.childNodeRendered?dt((K(),F("div",{key:0,class:me(o.ns.be("node","children")),role:"group","aria-expanded":o.expanded},[(K(!0),F(fe,null,Le(o.node.childNodes,b=>(K(),oe(w,{key:o.getNodeKey(b),"render-content":o.renderContent,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,node:b,accordion:o.accordion,props:o.props,onNodeExpand:o.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,ia)),[[lt,o.expanded]]):Y("v-if",!0)]),_:1})],42,sa)),[[lt,o.node.visible]])}var ca=Xe(oa,[["render",ua],["__file","tree-node.vue"]]);function da({el$:o},n){const i=je("tree"),u=_t([]),t=_t([]);Ft(()=>{p()}),wr(()=>{u.value=Array.from(o.value.querySelectorAll("[role=treeitem]")),t.value=Array.from(o.value.querySelectorAll("input[type=checkbox]"))}),he(t,m=>{m.forEach(_=>{_.setAttribute("tabindex","-1")})}),Er(o,"keydown",m=>{const _=m.target;if(!_.className.includes(i.b("node")))return;const v=m.code;u.value=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const w=u.value.indexOf(_);let N;if([we.up,we.down].includes(v)){if(m.preventDefault(),v===we.up){N=w===-1?0:w!==0?w-1:u.value.length-1;const f=N;for(;!n.value.getNode(u.value[N].dataset.key).canFocus;){if(N--,N===f){N=-1;break}N<0&&(N=u.value.length-1)}}else{N=w===-1?0:w<u.value.length-1?w+1:0;const f=N;for(;!n.value.getNode(u.value[N].dataset.key).canFocus;){if(N++,N===f){N=-1;break}N>=u.value.length&&(N=0)}}N!==-1&&u.value[N].focus()}[we.left,we.right].includes(v)&&(m.preventDefault(),_.click());const b=_.querySelector('[type="checkbox"]');[we.enter,we.space].includes(v)&&b&&(m.preventDefault(),b.click())});const p=()=>{var m;u.value=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),t.value=Array.from(o.value.querySelectorAll("input[type=checkbox]"));const _=o.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(_.length){_[0].setAttribute("tabindex","0");return}(m=u.value[0])==null||m.setAttribute("tabindex","0")}}const la=ge({name:"ElTree",components:{ElTreeNode:ca},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:xr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(o,n){const{t:i}=Dr(),u=je("tree"),t=Z(new ta({key:o.nodeKey,data:o.data,lazy:o.lazy,props:o.props,load:o.load,currentNodeKey:o.currentNodeKey,checkStrictly:o.checkStrictly,checkDescendants:o.checkDescendants,defaultCheckedKeys:o.defaultCheckedKeys,defaultExpandedKeys:o.defaultExpandedKeys,autoExpandParent:o.autoExpandParent,defaultExpandAll:o.defaultExpandAll,filterNodeMethod:o.filterNodeMethod}));t.value.initialize();const d=Z(t.value.root),p=Z(null),m=Z(null),_=Z(null),{broadcastExpanded:v}=Ut(o),{dragState:w}=aa({props:o,ctx:n,el$:m,dropIndicator$:_,store:t});da({el$:m},t);const N=Fe(()=>{const{childNodes:S}=d.value;return!S||S.length===0||S.every(({visible:E})=>!E)});he(()=>o.currentNodeKey,S=>{t.value.setCurrentNodeKey(S)}),he(()=>o.defaultCheckedKeys,S=>{t.value.setDefaultCheckedKey(S)}),he(()=>o.defaultExpandedKeys,S=>{t.value.setDefaultExpandedKeys(S)}),he(()=>o.data,S=>{t.value.setData(S)},{deep:!0}),he(()=>o.checkStrictly,S=>{t.value.checkStrictly=S});const b=S=>{if(!o.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");t.value.filter(S)},f=S=>yt(o.nodeKey,S.data),R=S=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const E=t.value.getNode(S);if(!E)return[];const ce=[E.data];let le=E.parent;for(;le&&le!==d.value;)ce.push(le.data),le=le.parent;return ce.reverse()},M=(S,E)=>t.value.getCheckedNodes(S,E),x=S=>t.value.getCheckedKeys(S),J=()=>{const S=t.value.getCurrentNode();return S?S.data:null},U=()=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const S=J();return S?S[o.nodeKey]:null},X=(S,E)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");t.value.setCheckedNodes(S,E)},W=(S,E)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");t.value.setCheckedKeys(S,E)},O=(S,E,ce)=>{t.value.setChecked(S,E,ce)},C=()=>t.value.getHalfCheckedNodes(),L=()=>t.value.getHalfCheckedKeys(),V=(S,E=!0)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");ft(t,n.emit,()=>t.value.setUserCurrentNode(S,E))},I=(S,E=!0)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");ft(t,n.emit,()=>t.value.setCurrentNodeKey(S,E))},P=S=>t.value.getNode(S),T=S=>{t.value.remove(S)},de=(S,E)=>{t.value.append(S,E)},ve=(S,E)=>{t.value.insertBefore(S,E)},ye=(S,E)=>{t.value.insertAfter(S,E)},pe=(S,E,ce)=>{v(E),n.emit("node-expand",S,E,ce)},Ae=(S,E)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");t.value.updateChildren(S,E)};return ze("RootTree",{ctx:n,props:o,store:t,root:d,currentNode:p,instance:gt()}),ze(Tr,void 0),{ns:u,store:t,root:d,currentNode:p,dragState:w,el$:m,dropIndicator$:_,isEmpty:N,filter:b,getNodeKey:f,getNodePath:R,getCheckedNodes:M,getCheckedKeys:x,getCurrentNode:J,getCurrentKey:U,setCheckedNodes:X,setCheckedKeys:W,setChecked:O,getHalfCheckedNodes:C,getHalfCheckedKeys:L,setCurrentNode:V,setCurrentKey:I,t:i,getNode:P,remove:T,append:de,insertBefore:ve,insertAfter:ye,handleNodeExpand:pe,updateKeyChildren:Ae}}});function fa(o,n,i,u,t,d){const p=Ee("el-tree-node");return K(),F("div",{ref:"el$",class:me([o.ns.b(),o.ns.is("dragging",!!o.dragState.draggingNode),o.ns.is("drop-not-allow",!o.dragState.allowDrop),o.ns.is("drop-inner",o.dragState.dropType==="inner"),{[o.ns.m("highlight-current")]:o.highlightCurrent}]),role:"tree"},[(K(!0),F(fe,null,Le(o.root.childNodes,m=>(K(),oe(p,{key:o.getNodeKey(m),node:m,props:o.props,accordion:o.accordion,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,"render-content":o.renderContent,onNodeExpand:o.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),o.isEmpty?(K(),F("div",{key:0,class:me(o.ns.e("empty-block"))},[mt(o.$slots,"empty",{},()=>{var m;return[z("span",{class:me(o.ns.e("empty-text"))},re((m=o.emptyText)!=null?m:o.t("el.tree.emptyText")),3)]})],2)):Y("v-if",!0),dt(z("div",{ref:"dropIndicator$",class:me(o.ns.e("drop-indicator"))},null,2),[[lt,o.dragState.showDropIndicator]])],2)}var Ge=Xe(la,[["render",fa],["__file","tree.vue"]]);Ge.install=o=>{o.component(Ge.name,Ge)};const ha=Ge,pa=ha;var st={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},it={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},Se=[],Oe=[];function ma(){var o=document.createElement("div"),n=o.style;"AnimationEvent"in window||(delete st.animationstart.animation,delete it.animationend.animation),"TransitionEvent"in window||(delete st.transitionstart.transition,delete it.transitionend.transition);function i(u,t){for(var d in u)if(u.hasOwnProperty(d)){var p=u[d];for(var m in p)if(m in n){t.push(p[m]);break}}}i(st,Se),i(it,Oe)}typeof window<"u"&&typeof document<"u"&&ma();function Lt(o,n,i){o.addEventListener(n,i,!1)}function Bt(o,n,i){o.removeEventListener(n,i,!1)}var Je={startEvents:Se,addStartEventListener:function(n,i){if(Se.length===0){setTimeout(i,0);return}Se.forEach(function(u){Lt(n,u,i)})},removeStartEventListener:function(n,i){Se.length!==0&&Se.forEach(function(u){Bt(n,u,i)})},endEvents:Oe,addEndEventListener:function(n,i){if(Oe.length===0){setTimeout(i,0);return}Oe.forEach(function(u){Lt(n,u,i)})},removeEndEventListener:function(n,i){Oe.length!==0&&Oe.forEach(function(u){Bt(n,u,i)})}},ke;function Mt(o){return!o||o.offsetParent===null}function ga(o){var n=(o||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}const va=ge({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,i){var u=i.slots,t=i.expose,d=gt(),p=vt("",n),m=p.csp,_=p.prefixCls;t({csp:m});var v=null,w=null,N=null,b=!1,f=null,R=!1,M=function(C){if(!R){var L=qt(d);!C||C.target!==L||b||X(L)}},x=function(C){!C||C.animationName!=="fadeEffect"||X(C.target)},J=function(){var C=n.insertExtraNode;return C?"".concat(_.value,"-click-animating"):"".concat(_.value,"-click-animating-without-extra-node")},U=function(C,L){var V=n.insertExtraNode,I=n.disabled;if(!(I||!C||Mt(C)||C.className.indexOf("-leave")>=0)){f=document.createElement("div"),f.className="".concat(_.value,"-click-animating-node");var P=J();if(C.removeAttribute(P),C.setAttribute(P,"true"),ke=ke||document.createElement("style"),L&&L!=="#ffffff"&&L!=="rgb(255, 255, 255)"&&ga(L)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(L)&&L!=="transparent"){var T;(T=m.value)!==null&&T!==void 0&&T.nonce&&(ke.nonce=m.value.nonce),f.style.borderColor=L,ke.innerHTML=`
        [`.concat(_.value,"-click-animating-without-extra-node='true']::after, .").concat(_.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(L,`;
        }`),document.body.contains(ke)||document.body.appendChild(ke)}V&&C.appendChild(f),Je.addStartEventListener(C,M),Je.addEndEventListener(C,x)}},X=function(C){if(!(!C||C===f||!(C instanceof Element))){var L=n.insertExtraNode,V=J();C.setAttribute(V,"false"),ke&&(ke.innerHTML=""),L&&f&&C.contains(f)&&C.removeChild(f),Je.removeStartEventListener(C,M),Je.removeEndEventListener(C,x)}},W=function(C){if(!(!C||!C.getAttribute||C.getAttribute("disabled")||C.className.indexOf("disabled")>=0)){var L=function(I){if(!(I.target.tagName==="INPUT"||Mt(I.target))){X(C);var P=getComputedStyle(C).getPropertyValue("border-top-color")||getComputedStyle(C).getPropertyValue("border-color")||getComputedStyle(C).getPropertyValue("background-color");w=setTimeout(function(){return U(C,P)},0),Kt.cancel(N),b=!0,N=Kt(function(){b=!1},10)}};return C.addEventListener("click",L,!0),{cancel:function(){C.removeEventListener("click",L,!0)}}}};return Ft(function(){ct(function(){var O=qt(d);O.nodeType===1&&(v=W(O))})}),Ir(function(){v&&v.cancel(),clearTimeout(w),R=!0}),function(){var O;return(O=u.default)===null||O===void 0?void 0:O.call(u)[0]}}});var ya=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}},ba=ge({compatConfig:{MODE:3},name:"ACheckableTag",props:ya(),setup:function(n,i){var u=i.slots,t=i.emit,d=vt("tag",n),p=d.prefixCls,m=function(w){var N=n.checked;t("update:checked",!N),t("change",!N),t("click",w)},_=Fe(function(){var v;return Ht(p.value,(v={},Pe(v,"".concat(p.value,"-checkable"),!0),Pe(v,"".concat(p.value,"-checkable-checked"),n.checked),v))});return function(){var v;return H("span",{class:_.value,onClick:m},[(v=u.default)===null||v===void 0?void 0:v.call(u)])}}});const pt=ba;var ka=new RegExp("^(".concat(Lr.join("|"),")(-inverse)?$")),Na=new RegExp("^(".concat(Br.join("|"),")$")),Ca=function(){return{prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:Rt.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},"onUpdate:visible":Function,icon:Rt.any}},Be=ge({compatConfig:{MODE:3},name:"ATag",props:Ca(),slots:["closeIcon","icon"],setup:function(n,i){var u=i.slots,t=i.emit,d=i.attrs,p=vt("tag",n),m=p.prefixCls,_=p.direction,v=Z(!0);Sr(function(){n.visible!==void 0&&(v.value=n.visible)});var w=function(R){R.stopPropagation(),t("update:visible",!1),t("close",R),!R.defaultPrevented&&n.visible===void 0&&(v.value=!1)},N=Fe(function(){var f=n.color;return f?ka.test(f)||Na.test(f):!1}),b=Fe(function(){var f;return Ht(m.value,(f={},Pe(f,"".concat(m.value,"-").concat(n.color),N.value),Pe(f,"".concat(m.value,"-has-color"),n.color&&!N.value),Pe(f,"".concat(m.value,"-hidden"),!v.value),Pe(f,"".concat(m.value,"-rtl"),_.value==="rtl"),f))});return function(){var f,R,M,x=n.icon,J=x===void 0?(f=u.icon)===null||f===void 0?void 0:f.call(u):x,U=n.color,X=n.closeIcon,W=X===void 0?(R=u.closeIcon)===null||R===void 0?void 0:R.call(u):X,O=n.closable,C=O===void 0?!1:O,L=function(){return C?W?H("span",{class:"".concat(m.value,"-close-icon"),onClick:w},[W]):H(Mr,{class:"".concat(m.value,"-close-icon"),onClick:w},null):null},V={backgroundColor:U&&!N.value?U:void 0},I=J||null,P=(M=u.default)===null||M===void 0?void 0:M.call(u),T=I?H(fe,null,[I,H("span",null,[P])]):P,de="onClick"in d,ve=H("span",{class:b.value,style:V},[T,L()]);return de?H(va,null,{default:function(){return[ve]}}):ve}}});Be.CheckableTag=pt;Be.install=function(o){return o.component(Be.name,Be),o.component(pt.name,pt),o};const wa=Be;var Jt={exports:{}};/*! algoliasearch.umd.js | 4.22.1 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(o,n){(function(i,u){o.exports=u()})(Pr,function(){function i(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function u(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,s)}return a}function t(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?u(Object(a),!0).forEach(function(s){i(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function d(e,r){if(e==null)return{};var a,s,c=function(y,l){if(y==null)return{};var g,D,k={},q=Object.keys(y);for(D=0;D<q.length;D++)g=q[D],l.indexOf(g)>=0||(k[g]=y[g]);return k}(e,r);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(s=0;s<h.length;s++)a=h[s],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function p(e,r){return function(a){if(Array.isArray(a))return a}(e)||function(a,s){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]"){var c=[],h=!0,y=!1,l=void 0;try{for(var g,D=a[Symbol.iterator]();!(h=(g=D.next()).done)&&(c.push(g.value),!s||c.length!==s);h=!0);}catch(k){y=!0,l=k}finally{try{h||D.return==null||D.return()}finally{if(y)throw l}}return c}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e){return function(r){if(Array.isArray(r)){for(var a=0,s=new Array(r.length);a<r.length;a++)s[a]=r[a];return s}}(e)||function(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e){var r,a="algoliasearch-client-js-".concat(e.key),s=function(){return r===void 0&&(r=e.localStorage||window.localStorage),r},c=function(){return JSON.parse(s().getItem(a)||"{}")},h=function(l){s().setItem(a,JSON.stringify(l))},y=function(){var l=e.timeToLive?1e3*e.timeToLive:null,g=c(),D=Object.fromEntries(Object.entries(g).filter(function(q){return p(q,2)[1].timestamp!==void 0}));if(h(D),l){var k=Object.fromEntries(Object.entries(D).filter(function(q){var A=p(q,2)[1],B=new Date().getTime();return!(A.timestamp+l<B)}));h(k)}};return{get:function(l,g){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){y();var k=JSON.stringify(l);return c()[k]}).then(function(k){return Promise.all([k?k.value:g(),k!==void 0])}).then(function(k){var q=p(k,2),A=q[0],B=q[1];return Promise.all([A,B||D.miss(A)])}).then(function(k){return p(k,1)[0]})},set:function(l,g){return Promise.resolve().then(function(){var D=c();return D[JSON.stringify(l)]={timestamp:new Date().getTime(),value:g},s().setItem(a,JSON.stringify(D)),g})},delete:function(l){return Promise.resolve().then(function(){var g=c();delete g[JSON.stringify(l)],s().setItem(a,JSON.stringify(g))})},clear:function(){return Promise.resolve().then(function(){s().removeItem(a)})}}}function v(e){var r=m(e.caches),a=r.shift();return a===void 0?{get:function(s,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},y=c();return y.then(function(l){return Promise.all([l,h.miss(l)])}).then(function(l){return p(l,1)[0]})},set:function(s,c){return Promise.resolve(c)},delete:function(s){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(s,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return a.get(s,c,h).catch(function(){return v({caches:r}).get(s,c,h)})},set:function(s,c){return a.set(s,c).catch(function(){return v({caches:r}).set(s,c)})},delete:function(s){return a.delete(s).catch(function(){return v({caches:r}).delete(s)})},clear:function(){return a.clear().catch(function(){return v({caches:r}).clear()})}}}function w(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},r={};return{get:function(a,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},h=JSON.stringify(a);if(h in r)return Promise.resolve(e.serializable?JSON.parse(r[h]):r[h]);var y=s(),l=c&&c.miss||function(){return Promise.resolve()};return y.then(function(g){return l(g)}).then(function(){return y})},set:function(a,s){return r[JSON.stringify(a)]=e.serializable?JSON.stringify(s):s,Promise.resolve(s)},delete:function(a){return delete r[JSON.stringify(a)],Promise.resolve()},clear:function(){return r={},Promise.resolve()}}}function N(e,r,a){var s={"x-algolia-api-key":a,"x-algolia-application-id":r};return{headers:function(){return e===J.WithinHeaders?s:{}},queryParameters:function(){return e===J.WithinQueryParameters?s:{}}}}function b(e){var r=0;return e(function a(){return r++,new Promise(function(s){setTimeout(function(){s(e(a))},Math.min(100*r,1e3))})})}function f(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(a,s){return Promise.resolve()};return Object.assign(e,{wait:function(a){return f(e.then(function(s){return Promise.all([r(s,a),s])}).then(function(s){return s[1]}))}})}function R(e){for(var r=e.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1)),s=e[r];e[r]=e[a],e[a]=s}return e}function M(e,r){return r&&Object.keys(r).forEach(function(a){e[a]=r[a](e)}),e}function x(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var c=0;return e.replace(/%s/g,function(){return encodeURIComponent(a[c++])})}var J={WithinQueryParameters:0,WithinHeaders:1};function U(e,r){var a=e||{},s=a.data||{};return Object.keys(a).forEach(function(c){["timeout","headers","queryParameters","data","cacheable"].indexOf(c)===-1&&(s[c]=a[c])}),{data:Object.entries(s).length>0?s:void 0,timeout:a.timeout||r,headers:a.headers||{},queryParameters:a.queryParameters||{},cacheable:a.cacheable}}var X={Read:1,Write:2,Any:3},W=1,O=2,C=3;function L(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W;return t(t({},e),{},{status:r,lastUpdate:Date.now()})}function V(e){return typeof e=="string"?{protocol:"https",url:e,accept:X.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||X.Any}}var I="DELETE",P="GET",T="POST",de="PUT";function ve(e,r){return Promise.all(r.map(function(a){return e.get(a,function(){return Promise.resolve(L(a))})})).then(function(a){var s=a.filter(function(y){return function(l){return l.status===W||Date.now()-l.lastUpdate>12e4}(y)}),c=a.filter(function(y){return function(l){return l.status===C&&Date.now()-l.lastUpdate<=12e4}(y)}),h=[].concat(m(s),m(c));return{getTimeout:function(y,l){return(c.length===0&&y===0?1:c.length+3+y)*l},statelessHosts:h.length>0?h.map(function(y){return V(y)}):r}})}function ye(e,r,a,s){var c=[],h=function(A,B){if(!(A.method===P||A.data===void 0&&B.data===void 0)){var $=Array.isArray(A.data)?A.data:t(t({},A.data),B.data);return JSON.stringify($)}}(a,s),y=function(A,B){var $=t(t({},A.headers),B.headers),Q={};return Object.keys($).forEach(function(ee){var ie=$[ee];Q[ee.toLowerCase()]=ie}),Q}(e,s),l=a.method,g=a.method!==P?{}:t(t({},a.data),s.data),D=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),g),s.queryParameters),k=0,q=function A(B,$){var Q=B.pop();if(Q===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:ce(c)};var ee={data:h,headers:y,method:l,url:S(Q,a.path,D),connectTimeout:$(k,e.timeouts.connect),responseTimeout:$(k,s.timeout)},ie=function(ue){var ae={request:ee,response:ue,host:Q,triesLeft:B.length};return c.push(ae),ae},Re={onSuccess:function(ue){return function(ae){try{return JSON.parse(ae.content)}catch(Ne){throw function(be,Ie){return{name:"DeserializationError",message:be,response:Ie}}(Ne.message,ae)}}(ue)},onRetry:function(ue){var ae=ie(ue);return ue.isTimedOut&&k++,Promise.all([e.logger.info("Retryable failure",le(ae)),e.hostsCache.set(Q,L(Q,ue.isTimedOut?C:O))]).then(function(){return A(B,$)})},onFail:function(ue){throw ie(ue),function(ae,Ne){var be=ae.content,Ie=ae.status,$e=be;try{$e=JSON.parse(be).message}catch{}return function(Ue,at,cr){return{name:"ApiError",message:Ue,status:at,transporterStackTrace:cr}}($e,Ie,Ne)}(ue,ce(c))}};return e.requester.send(ee).then(function(ue){return function(ae,Ne){return function(be){var Ie=be.status;return be.isTimedOut||function($e){var Ue=$e.isTimedOut,at=$e.status;return!Ue&&~~at==0}(be)||~~(Ie/100)!=2&&~~(Ie/100)!=4}(ae)?Ne.onRetry(ae):~~(ae.status/100)==2?Ne.onSuccess(ae):Ne.onFail(ae)}(ue,Re)})};return ve(e.hostsCache,r).then(function(A){return q(m(A.statelessHosts).reverse(),A.getTimeout)})}function pe(e){var r=e.hostsCache,a=e.logger,s=e.requester,c=e.requestsCache,h=e.responsesCache,y=e.timeouts,l=e.userAgent,g=e.hosts,D=e.queryParameters,k={hostsCache:r,logger:a,requester:s,requestsCache:c,responsesCache:h,timeouts:y,userAgent:l,headers:e.headers,queryParameters:D,hosts:g.map(function(q){return V(q)}),read:function(q,A){var B=U(A,k.timeouts.read),$=function(){return ye(k,k.hosts.filter(function(ee){return(ee.accept&X.Read)!=0}),q,B)};if((B.cacheable!==void 0?B.cacheable:q.cacheable)!==!0)return $();var Q={request:q,mappedRequestOptions:B,transporter:{queryParameters:k.queryParameters,headers:k.headers}};return k.responsesCache.get(Q,function(){return k.requestsCache.get(Q,function(){return k.requestsCache.set(Q,$()).then(function(ee){return Promise.all([k.requestsCache.delete(Q),ee])},function(ee){return Promise.all([k.requestsCache.delete(Q),Promise.reject(ee)])}).then(function(ee){var ie=p(ee,2);return ie[0],ie[1]})})},{miss:function(ee){return k.responsesCache.set(Q,ee)}})},write:function(q,A){return ye(k,k.hosts.filter(function(B){return(B.accept&X.Write)!=0}),q,U(A,k.timeouts.write))}};return k}function Ae(e){var r={value:"Algolia for JavaScript (".concat(e,")"),add:function(a){var s="; ".concat(a.segment).concat(a.version!==void 0?" (".concat(a.version,")"):"");return r.value.indexOf(s)===-1&&(r.value="".concat(r.value).concat(s)),r}};return r}function S(e,r,a){var s=E(a),c="".concat(e.protocol,"://").concat(e.url,"/").concat(r.charAt(0)==="/"?r.substr(1):r);return s.length&&(c+="?".concat(s)),c}function E(e){return Object.keys(e).map(function(r){return x("%s=%s",r,(a=e[r],Object.prototype.toString.call(a)==="[object Object]"||Object.prototype.toString.call(a)==="[object Array]"?JSON.stringify(e[r]):e[r]));var a}).join("&")}function ce(e){return e.map(function(r){return le(r)})}function le(e){var r=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),r)})})}var Qt=function(e){return function(r,a){return e.transporter.write({method:T,path:"2/abtests",data:r},a)}},Gt=function(e){return function(r,a){return e.transporter.write({method:I,path:x("2/abtests/%s",r)},a)}},Xt=function(e){return function(r,a){return e.transporter.read({method:P,path:x("2/abtests/%s",r)},a)}},Yt=function(e){return function(r){return e.transporter.read({method:P,path:"2/abtests"},r)}},Zt=function(e){return function(r,a){return e.transporter.write({method:T,path:x("2/abtests/%s/stop",r)},a)}},en=function(e){return function(r){return e.transporter.read({method:P,path:"1/strategies/personalization"},r)}},tn=function(e){return function(r,a){return e.transporter.write({method:T,path:"1/strategies/personalization",data:r},a)}};function Ye(e){return function r(a){return e.request(a).then(function(s){if(e.batch!==void 0&&e.batch(s.hits),!e.shouldStop(s))return s.cursor?r({cursor:s.cursor}):r({page:(a.page||0)+1})})}({})}var nn=function(e){return function(r,a){var s=a||{},c=s.queryParameters,h=d(s,["queryParameters"]),y=t({acl:r},c!==void 0?{queryParameters:c}:{});return f(e.transporter.write({method:T,path:"1/keys",data:y},h),function(l,g){return b(function(D){return qe(e)(l.key,g).catch(function(k){if(k.status!==404)throw k;return D()})})})}},rn=function(e){return function(r,a,s){var c=U(s);return c.queryParameters["X-Algolia-User-ID"]=r,e.transporter.write({method:T,path:"1/clusters/mapping",data:{cluster:a}},c)}},an=function(e){return function(r,a,s){return e.transporter.write({method:T,path:"1/clusters/mapping/batch",data:{users:r,cluster:a}},s)}},on=function(e){return function(r,a){return f(e.transporter.write({method:T,path:x("/1/dictionaries/%s/batch",r),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},a),function(s,c){return De(e)(s.taskID,c)})}},He=function(e){return function(r,a,s){return f(e.transporter.write({method:T,path:x("1/indexes/%s/operation",r),data:{operation:"copy",destination:a}},s),function(c,h){return Ke(e)(r,{methods:{waitTask:te}}).waitTask(c.taskID,h)})}},sn=function(e){return function(r,a,s){return He(e)(r,a,t(t({},s),{},{scope:[rt.Rules]}))}},un=function(e){return function(r,a,s){return He(e)(r,a,t(t({},s),{},{scope:[rt.Settings]}))}},cn=function(e){return function(r,a,s){return He(e)(r,a,t(t({},s),{},{scope:[rt.Synonyms]}))}},dn=function(e){return function(r,a){return r.method===P?e.transporter.read(r,a):e.transporter.write(r,a)}},ln=function(e){return function(r,a){return f(e.transporter.write({method:I,path:x("1/keys/%s",r)},a),function(s,c){return b(function(h){return qe(e)(r,c).then(h).catch(function(y){if(y.status!==404)throw y})})})}},fn=function(e){return function(r,a,s){var c=a.map(function(h){return{action:"deleteEntry",body:{objectID:h}}});return f(e.transporter.write({method:T,path:x("/1/dictionaries/%s/batch",r),data:{clearExistingDictionaryEntries:!1,requests:c}},s),function(h,y){return De(e)(h.taskID,y)})}},qe=function(e){return function(r,a){return e.transporter.read({method:P,path:x("1/keys/%s",r)},a)}},bt=function(e){return function(r,a){return e.transporter.read({method:P,path:x("1/task/%s",r.toString())},a)}},hn=function(e){return function(r){return e.transporter.read({method:P,path:"/1/dictionaries/*/settings"},r)}},pn=function(e){return function(r){return e.transporter.read({method:P,path:"1/logs"},r)}},mn=function(e){return function(r){return e.transporter.read({method:P,path:"1/clusters/mapping/top"},r)}},gn=function(e){return function(r,a){return e.transporter.read({method:P,path:x("1/clusters/mapping/%s",r)},a)}},vn=function(e){return function(r){var a=r||{},s=a.retrieveMappings,c=d(a,["retrieveMappings"]);return s===!0&&(c.getClusters=!0),e.transporter.read({method:P,path:"1/clusters/mapping/pending"},c)}},Ke=function(e){return function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s={transporter:e.transporter,appId:e.appId,indexName:r};return M(s,a.methods)}},yn=function(e){return function(r){return e.transporter.read({method:P,path:"1/keys"},r)}},bn=function(e){return function(r){return e.transporter.read({method:P,path:"1/clusters"},r)}},kn=function(e){return function(r){return e.transporter.read({method:P,path:"1/indexes"},r)}},Nn=function(e){return function(r){return e.transporter.read({method:P,path:"1/clusters/mapping"},r)}},Cn=function(e){return function(r,a,s){return f(e.transporter.write({method:T,path:x("1/indexes/%s/operation",r),data:{operation:"move",destination:a}},s),function(c,h){return Ke(e)(r,{methods:{waitTask:te}}).waitTask(c.taskID,h)})}},wn=function(e){return function(r,a){return f(e.transporter.write({method:T,path:"1/indexes/*/batch",data:{requests:r}},a),function(s,c){return Promise.all(Object.keys(s.taskID).map(function(h){return Ke(e)(h,{methods:{waitTask:te}}).waitTask(s.taskID[h],c)}))})}},En=function(e){return function(r,a){return e.transporter.read({method:T,path:"1/indexes/*/objects",data:{requests:r}},a)}},kt=function(e){return function(r,a){var s=r.map(function(c){return t(t({},c),{},{params:E(c.params||{})})});return e.transporter.read({method:T,path:"1/indexes/*/queries",data:{requests:s},cacheable:!0},a)}},Nt=function(e){return function(r,a){return Promise.all(r.map(function(s){var c=s.params,h=c.facetName,y=c.facetQuery,l=d(c,["facetName","facetQuery"]);return Ke(e)(s.indexName,{methods:{searchForFacetValues:Tt}}).searchForFacetValues(h,y,t(t({},a),l))}))}},xn=function(e){return function(r,a){var s=U(a);return s.queryParameters["X-Algolia-User-ID"]=r,e.transporter.write({method:I,path:"1/clusters/mapping"},s)}},Dn=function(e){return function(r,a,s){var c=a.map(function(h){return{action:"addEntry",body:h}});return f(e.transporter.write({method:T,path:x("/1/dictionaries/%s/batch",r),data:{clearExistingDictionaryEntries:!0,requests:c}},s),function(h,y){return De(e)(h.taskID,y)})}},Tn=function(e){return function(r,a){return f(e.transporter.write({method:T,path:x("1/keys/%s/restore",r)},a),function(s,c){return b(function(h){return qe(e)(r,c).catch(function(y){if(y.status!==404)throw y;return h()})})})}},In=function(e){return function(r,a,s){var c=a.map(function(h){return{action:"addEntry",body:h}});return f(e.transporter.write({method:T,path:x("/1/dictionaries/%s/batch",r),data:{clearExistingDictionaryEntries:!1,requests:c}},s),function(h,y){return De(e)(h.taskID,y)})}},Sn=function(e){return function(r,a,s){return e.transporter.read({method:T,path:x("/1/dictionaries/%s/search",r),data:{query:a},cacheable:!0},s)}},On=function(e){return function(r,a){return e.transporter.read({method:T,path:"1/clusters/mapping/search",data:{query:r}},a)}},Pn=function(e){return function(r,a){return f(e.transporter.write({method:de,path:"/1/dictionaries/*/settings",data:r},a),function(s,c){return De(e)(s.taskID,c)})}},_n=function(e){return function(r,a){var s=Object.assign({},a),c=a||{},h=c.queryParameters,y=d(c,["queryParameters"]),l=h?{queryParameters:h}:{},g=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return f(e.transporter.write({method:de,path:x("1/keys/%s",r),data:l},y),function(D,k){return b(function(q){return qe(e)(r,k).then(function(A){return function(B){return Object.keys(s).filter(function($){return g.indexOf($)!==-1}).every(function($){if(Array.isArray(B[$])&&Array.isArray(s[$])){var Q=B[$];return Q.length===s[$].length&&Q.every(function(ee,ie){return ee===s[$][ie]})}return B[$]===s[$]})}(A)?Promise.resolve():q()})})})}},De=function(e){return function(r,a){return b(function(s){return bt(e)(r,a).then(function(c){return c.status!=="published"?s():void 0})})}},Ct=function(e){return function(r,a){return f(e.transporter.write({method:T,path:x("1/indexes/%s/batch",e.indexName),data:{requests:r}},a),function(s,c){return te(e)(s.taskID,c)})}},jn=function(e){return function(r){return Ye(t(t({shouldStop:function(a){return a.cursor===void 0}},r),{},{request:function(a){return e.transporter.read({method:T,path:x("1/indexes/%s/browse",e.indexName),data:a},r)}}))}},An=function(e){return function(r){var a=t({hitsPerPage:1e3},r);return Ye(t(t({shouldStop:function(s){return s.hits.length<a.hitsPerPage}},a),{},{request:function(s){return It(e)("",t(t({},a),s)).then(function(c){return t(t({},c),{},{hits:c.hits.map(function(h){return delete h._highlightResult,h})})})}}))}},qn=function(e){return function(r){var a=t({hitsPerPage:1e3},r);return Ye(t(t({shouldStop:function(s){return s.hits.length<a.hitsPerPage}},a),{},{request:function(s){return St(e)("",t(t({},a),s)).then(function(c){return t(t({},c),{},{hits:c.hits.map(function(h){return delete h._highlightResult,h})})})}}))}},Ze=function(e){return function(r,a,s){var c=s||{},h=c.batchSize,y=d(c,["batchSize"]),l={taskIDs:[],objectIDs:[]};return f(function g(){var D,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=[];for(D=k;D<r.length&&(q.push(r[D]),q.length!==(h||1e3));D++);return q.length===0?Promise.resolve(l):Ct(e)(q.map(function(A){return{action:a,body:A}}),y).then(function(A){return l.objectIDs=l.objectIDs.concat(A.objectIDs),l.taskIDs.push(A.taskID),D++,g(D)})}(),function(g,D){return Promise.all(g.taskIDs.map(function(k){return te(e)(k,D)}))})}},Kn=function(e){return function(r){return f(e.transporter.write({method:T,path:x("1/indexes/%s/clear",e.indexName)},r),function(a,s){return te(e)(a.taskID,s)})}},Rn=function(e){return function(r){var a=r||{},s=a.forwardToReplicas,c=U(d(a,["forwardToReplicas"]));return s&&(c.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:T,path:x("1/indexes/%s/rules/clear",e.indexName)},c),function(h,y){return te(e)(h.taskID,y)})}},$n=function(e){return function(r){var a=r||{},s=a.forwardToReplicas,c=U(d(a,["forwardToReplicas"]));return s&&(c.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:T,path:x("1/indexes/%s/synonyms/clear",e.indexName)},c),function(h,y){return te(e)(h.taskID,y)})}},Ln=function(e){return function(r,a){return f(e.transporter.write({method:T,path:x("1/indexes/%s/deleteByQuery",e.indexName),data:r},a),function(s,c){return te(e)(s.taskID,c)})}},Bn=function(e){return function(r){return f(e.transporter.write({method:I,path:x("1/indexes/%s",e.indexName)},r),function(a,s){return te(e)(a.taskID,s)})}},Mn=function(e){return function(r,a){return f(wt(e)([r],a).then(function(s){return{taskID:s.taskIDs[0]}}),function(s,c){return te(e)(s.taskID,c)})}},wt=function(e){return function(r,a){var s=r.map(function(c){return{objectID:c}});return Ze(e)(s,Te.DeleteObject,a)}},zn=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=U(d(s,["forwardToReplicas"]));return c&&(h.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:I,path:x("1/indexes/%s/rules/%s",e.indexName,r)},h),function(y,l){return te(e)(y.taskID,l)})}},Fn=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=U(d(s,["forwardToReplicas"]));return c&&(h.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:I,path:x("1/indexes/%s/synonyms/%s",e.indexName,r)},h),function(y,l){return te(e)(y.taskID,l)})}},Hn=function(e){return function(r){return Et(e)(r).then(function(){return!0}).catch(function(a){if(a.status!==404)throw a;return!1})}},Un=function(e){return function(r,a,s){return e.transporter.read({method:T,path:x("1/answers/%s/prediction",e.indexName),data:{query:r,queryLanguages:a},cacheable:!0},s)}},Wn=function(e){return function(r,a){var s=a||{},c=s.query,h=s.paginate,y=d(s,["query","paginate"]),l=0;return function g(){return Dt(e)(c||"",t(t({},y),{},{page:l})).then(function(D){for(var k=0,q=Object.entries(D.hits);k<q.length;k++){var A=p(q[k],2),B=A[0],$=A[1];if(r($))return{object:$,position:parseInt(B,10),page:l}}if(l++,h===!1||l>=D.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return g()})}()}},Jn=function(e){return function(r,a){return e.transporter.read({method:P,path:x("1/indexes/%s/%s",e.indexName,r)},a)}},Vn=function(){return function(e,r){for(var a=0,s=Object.entries(e.hits);a<s.length;a++){var c=p(s[a],2),h=c[0];if(c[1].objectID===r)return parseInt(h,10)}return-1}},Qn=function(e){return function(r,a){var s=a||{},c=s.attributesToRetrieve,h=d(s,["attributesToRetrieve"]),y=r.map(function(l){return t({indexName:e.indexName,objectID:l},c?{attributesToRetrieve:c}:{})});return e.transporter.read({method:T,path:"1/indexes/*/objects",data:{requests:y}},h)}},Gn=function(e){return function(r,a){return e.transporter.read({method:P,path:x("1/indexes/%s/rules/%s",e.indexName,r)},a)}},Et=function(e){return function(r){return e.transporter.read({method:P,path:x("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},r)}},Xn=function(e){return function(r,a){return e.transporter.read({method:P,path:x("1/indexes/%s/synonyms/%s",e.indexName,r)},a)}},Yn=function(e){return function(r,a){return f(xt(e)([r],a).then(function(s){return{objectID:s.objectIDs[0],taskID:s.taskIDs[0]}}),function(s,c){return te(e)(s.taskID,c)})}},xt=function(e){return function(r,a){var s=a||{},c=s.createIfNotExists,h=d(s,["createIfNotExists"]),y=c?Te.PartialUpdateObject:Te.PartialUpdateObjectNoCreate;return Ze(e)(r,y,h)}},Zn=function(e){return function(r,a){var s=a||{},c=s.safe,h=s.autoGenerateObjectIDIfNotExist,y=s.batchSize,l=d(s,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),g=function($,Q,ee,ie){return f(e.transporter.write({method:T,path:x("1/indexes/%s/operation",$),data:{operation:ee,destination:Q}},ie),function(Re,ue){return te(e)(Re.taskID,ue)})},D=Math.random().toString(36).substring(7),k="".concat(e.indexName,"_tmp_").concat(D),q=et({appId:e.appId,transporter:e.transporter,indexName:k}),A=[],B=g(e.indexName,k,"copy",t(t({},l),{},{scope:["settings","synonyms","rules"]}));return A.push(B),f((c?B.wait(l):B).then(function(){var $=q(r,t(t({},l),{},{autoGenerateObjectIDIfNotExist:h,batchSize:y}));return A.push($),c?$.wait(l):$}).then(function(){var $=g(k,e.indexName,"move",l);return A.push($),c?$.wait(l):$}).then(function(){return Promise.all(A)}).then(function($){var Q=p($,3),ee=Q[0],ie=Q[1],Re=Q[2];return{objectIDs:ie.objectIDs,taskIDs:[ee.taskID].concat(m(ie.taskIDs),[Re.taskID])}}),function($,Q){return Promise.all(A.map(function(ee){return ee.wait(Q)}))})}},er=function(e){return function(r,a){return tt(e)(r,t(t({},a),{},{clearExistingRules:!0}))}},tr=function(e){return function(r,a){return nt(e)(r,t(t({},a),{},{clearExistingSynonyms:!0}))}},nr=function(e){return function(r,a){return f(et(e)([r],a).then(function(s){return{objectID:s.objectIDs[0],taskID:s.taskIDs[0]}}),function(s,c){return te(e)(s.taskID,c)})}},et=function(e){return function(r,a){var s=a||{},c=s.autoGenerateObjectIDIfNotExist,h=d(s,["autoGenerateObjectIDIfNotExist"]),y=c?Te.AddObject:Te.UpdateObject;if(y===Te.UpdateObject){var l=!0,g=!1,D=void 0;try{for(var k,q=r[Symbol.iterator]();!(l=(k=q.next()).done);l=!0)if(k.value.objectID===void 0)return f(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(A){g=!0,D=A}finally{try{l||q.return==null||q.return()}finally{if(g)throw D}}}return Ze(e)(r,y,h)}},rr=function(e){return function(r,a){return tt(e)([r],a)}},tt=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=s.clearExistingRules,y=U(d(s,["forwardToReplicas","clearExistingRules"]));return c&&(y.queryParameters.forwardToReplicas=1),h&&(y.queryParameters.clearExistingRules=1),f(e.transporter.write({method:T,path:x("1/indexes/%s/rules/batch",e.indexName),data:r},y),function(l,g){return te(e)(l.taskID,g)})}},ar=function(e){return function(r,a){return nt(e)([r],a)}},nt=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=s.clearExistingSynonyms,y=s.replaceExistingSynonyms,l=U(d(s,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return c&&(l.queryParameters.forwardToReplicas=1),(y||h)&&(l.queryParameters.replaceExistingSynonyms=1),f(e.transporter.write({method:T,path:x("1/indexes/%s/synonyms/batch",e.indexName),data:r},l),function(g,D){return te(e)(g.taskID,D)})}},Dt=function(e){return function(r,a){return e.transporter.read({method:T,path:x("1/indexes/%s/query",e.indexName),data:{query:r},cacheable:!0},a)}},Tt=function(e){return function(r,a,s){return e.transporter.read({method:T,path:x("1/indexes/%s/facets/%s/query",e.indexName,r),data:{facetQuery:a},cacheable:!0},s)}},It=function(e){return function(r,a){return e.transporter.read({method:T,path:x("1/indexes/%s/rules/search",e.indexName),data:{query:r}},a)}},St=function(e){return function(r,a){return e.transporter.read({method:T,path:x("1/indexes/%s/synonyms/search",e.indexName),data:{query:r}},a)}},or=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=U(d(s,["forwardToReplicas"]));return c&&(h.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:de,path:x("1/indexes/%s/settings",e.indexName),data:r},h),function(y,l){return te(e)(y.taskID,l)})}},te=function(e){return function(r,a){return b(function(s){return function(c){return function(h,y){return c.transporter.read({method:P,path:x("1/indexes/%s/task/%s",c.indexName,h.toString())},y)}}(e)(r,a).then(function(c){return c.status!=="published"?s():void 0})})}},Te={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},rt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},sr=1,ir=2,ur=3;function Ot(e,r,a){var s,c={appId:e,apiKey:r,timeouts:{connect:1,read:2,write:30},requester:{send:function(l){return new Promise(function(g){var D=new XMLHttpRequest;D.open(l.method,l.url,!0),Object.keys(l.headers).forEach(function(B){return D.setRequestHeader(B,l.headers[B])});var k,q=function(B,$){return setTimeout(function(){D.abort(),g({status:0,content:$,isTimedOut:!0})},1e3*B)},A=q(l.connectTimeout,"Connection timeout");D.onreadystatechange=function(){D.readyState>D.OPENED&&k===void 0&&(clearTimeout(A),k=q(l.responseTimeout,"Socket timeout"))},D.onerror=function(){D.status===0&&(clearTimeout(A),clearTimeout(k),g({content:D.responseText||"Network request failed",status:D.status,isTimedOut:!1}))},D.onload=function(){clearTimeout(A),clearTimeout(k),g({content:D.responseText,status:D.status,isTimedOut:!1})},D.send(l.data)})}},logger:(s=ur,{debug:function(l,g){return sr>=s&&console.debug(l,g),Promise.resolve()},info:function(l,g){return ir>=s&&console.info(l,g),Promise.resolve()},error:function(l,g){return console.error(l,g),Promise.resolve()}}),responsesCache:w(),requestsCache:w({serializable:!1}),hostsCache:v({caches:[_({key:"".concat("4.22.1","-").concat(e)}),w()]}),userAgent:Ae("4.22.1").add({segment:"Browser"})},h=t(t({},c),a),y=function(){return function(l){return function(g){var D=g.region||"us",k=N(J.WithinHeaders,g.appId,g.apiKey),q=pe(t(t({hosts:[{url:"personalization.".concat(D,".algolia.com")}]},g),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),g.headers),queryParameters:t(t({},k.queryParameters()),g.queryParameters)}));return M({appId:g.appId,transporter:q},g.methods)}(t(t(t({},c),l),{},{methods:{getPersonalizationStrategy:en,setPersonalizationStrategy:tn}}))}};return function(l){var g=l.appId,D=N(l.authMode!==void 0?l.authMode:J.WithinHeaders,g,l.apiKey),k=pe(t(t({hosts:[{url:"".concat(g,"-dsn.algolia.net"),accept:X.Read},{url:"".concat(g,".algolia.net"),accept:X.Write}].concat(R([{url:"".concat(g,"-1.algolianet.com")},{url:"".concat(g,"-2.algolianet.com")},{url:"".concat(g,"-3.algolianet.com")}]))},l),{},{headers:t(t(t({},D.headers()),{"content-type":"application/x-www-form-urlencoded"}),l.headers),queryParameters:t(t({},D.queryParameters()),l.queryParameters)}));return M({transporter:k,appId:g,addAlgoliaAgent:function(q,A){k.userAgent.add({segment:q,version:A})},clearCache:function(){return Promise.all([k.requestsCache.clear(),k.responsesCache.clear()]).then(function(){})}},l.methods)}(t(t({},h),{},{methods:{search:kt,searchForFacetValues:Nt,multipleBatch:wn,multipleGetObjects:En,multipleQueries:kt,copyIndex:He,copySettings:un,copySynonyms:cn,copyRules:sn,moveIndex:Cn,listIndices:kn,getLogs:pn,listClusters:bn,multipleSearchForFacetValues:Nt,getApiKey:qe,addApiKey:nn,listApiKeys:yn,updateApiKey:_n,deleteApiKey:ln,restoreApiKey:Tn,assignUserID:rn,assignUserIDs:an,getUserID:gn,searchUserIDs:On,listUserIDs:Nn,getTopUserIDs:mn,removeUserID:xn,hasPendingMappings:vn,clearDictionaryEntries:on,deleteDictionaryEntries:fn,getDictionarySettings:hn,getAppTask:bt,replaceDictionaryEntries:Dn,saveDictionaryEntries:In,searchDictionaryEntries:Sn,setDictionarySettings:Pn,waitAppTask:De,customRequest:dn,initIndex:function(l){return function(g){return Ke(l)(g,{methods:{batch:Ct,delete:Bn,findAnswers:Un,getObject:Jn,getObjects:Qn,saveObject:nr,saveObjects:et,search:Dt,searchForFacetValues:Tt,waitTask:te,setSettings:or,getSettings:Et,partialUpdateObject:Yn,partialUpdateObjects:xt,deleteObject:Mn,deleteObjects:wt,deleteBy:Ln,clearObjects:Kn,browseObjects:jn,getObjectPosition:Vn,findObject:Wn,exists:Hn,saveSynonym:ar,saveSynonyms:nt,getSynonym:Xn,searchSynonyms:St,browseSynonyms:qn,deleteSynonym:Fn,clearSynonyms:$n,replaceAllObjects:Zn,replaceAllSynonyms:tr,searchRules:It,getRule:Gn,deleteRule:zn,saveRule:rr,saveRules:tt,replaceAllRules:er,browseRules:An,clearRules:Rn}})}},initAnalytics:function(){return function(l){return function(g){var D=g.region||"us",k=N(J.WithinHeaders,g.appId,g.apiKey),q=pe(t(t({hosts:[{url:"analytics.".concat(D,".algolia.com")}]},g),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),g.headers),queryParameters:t(t({},k.queryParameters()),g.queryParameters)}));return M({appId:g.appId,transporter:q},g.methods)}(t(t(t({},c),l),{},{methods:{addABTest:Qt,getABTest:Xt,getABTests:Yt,stopABTest:Zt,deleteABTest:Gt}}))}},initPersonalization:y,initRecommendation:function(){return function(l){return h.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),y()(l)}}}}))}return Ot.version="4.22.1",Ot})})(Jt);var Ea=Jt.exports;const xa=Or(Ea),Da=xa("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),Vt=Da.initIndex("npm-search"),Ta=async(o,n=0,i=10)=>{try{const u=Pa(o);if(!u)return{response:null,query:o};const t={page:n,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:u.facetFilters?u.facetFilters:void 0},d=await Vt.search(u.query,t);return d.hits.sort((p,m)=>p.name===u.query?-1:m.name===u.query?1:0),{response:d,query:o}}catch{return{response:null,query:o}}},Ia=async o=>Vt.getObject(o),Sa=/\s*(?:[a-z]+)\s*:\s*(?:.(?![a-z]*\s*:))*/gi,Oa=/^((?:(?:[^\s:]+(?![a-z]*\s*:))\s*)*)/i,zt={author:"owner.name",type:"moduleTypes"};function Pa(o){var d;const n=(d=o.match(Oa))==null?void 0:d[0].trim();if(n==null)return;const i=o,u=[];let t;for(;(t=Sa.exec(i))!==null;){const p=t[0].split(":");zt[p[0].trim()]&&u.push(zt[p[0].trim()]+":"+p[1].trim())}return{query:n,facetFilters:u.join(",")}}const se=o=>(qr("data-v-d37747e1"),o=o(),Kr(),o),_a={key:0},ja={class:"result-list"},Aa={class:"pkgName"},qa={class:"meta"},Ka=["onClick"],Ra=["src","alt"],$a=se(()=>z("span",{class:"i-icon-park-outline-tag-one"},null,-1)),La=["title"],Ba=se(()=>z("span",{class:"i-icon-park-outline-balance-two"},null,-1)),Ma={key:0,class:"description"},za={key:1},Fa=se(()=>z("span",{class:"i-icon-park-outline-return"},null,-1)),Ha={key:0},Ua=se(()=>z("b",null,"名称: ",-1)),Wa={key:1},Ja=se(()=>z("b",null,"主页: ",-1)),Va={key:2},Qa=se(()=>z("b",null,"简介: ",-1)),Ga={key:3},Xa=se(()=>z("b",null,"仓库: ",-1)),Ya={key:4},Za=se(()=>z("b",null,"协议: ",-1)),eo={key:5},to=se(()=>z("b",null,"作者: ",-1)),no={key:7},ro=se(()=>z("b",null,"版本: ",-1)),ao={key:8},oo=se(()=>z("b",null,"默认文件: ",-1)),so={key:9},io=se(()=>z("b",null,"文件列表",-1)),uo=se(()=>z("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)),co=[io,uo],lo={key:0,flex:"","items-center":""},fo=se(()=>z("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),ho={key:1,flex:"","items-center":""},po=se(()=>z("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),mo=10,go=ge({__name:"cdnQuery",setup(o){let n=null;const i=Z(!1),u=Z(""),t=Z(""),d=Z(0),p=Z([]),m=Z(0),_=Z(""),v=Z(),w=Z(""),N=Z([]),b=Z(),f=Z([]),R=Fe(()=>f.value&&f.value.length?X(f.value):[]);async function M(W=0){if(!u.value){i.value=!1,v.value=null,w.value="",N.value=[],p.value=[],d.value=0,m.value=0,t.value="";return}n&&clearTimeout(n),n=window.setTimeout(async()=>{i.value=!0;const{response:O,query:C}=await Ta(u.value,W,mo);if(C===u.value){if(O){const{hits:L,page:V,nbHits:I}=O;p.value=L,m.value=I,d.value=V,t.value="done"}else jr.warning("搜索失败");i.value=!1}},200)}function x(W){u.value="author:"+W,M(0)}async function J(W){_.value=W,v.value=null,w.value="",N.value=[],b.value=null,f.value=[];try{v.value=await Ia(W),w.value=v.value.version??"",await U()}catch(O){console.error(O.message)}}async function U(){var W,O;try{N.value=[],b.value=null,f.value=[],N.value=(await At.get(`https://data.jsdelivr.com/v1/package/npm/${((W=v.value)==null?void 0:W.name)??""}`)).data.versions.map(V=>({label:V,value:V}));const{default:C,files:L}=(await At.get(`https://data.jsdelivr.com/v1/package/npm/${((O=v.value)==null?void 0:O.name)??""}@${w.value}`)).data;b.value=C,f.value=L}catch(C){console.error(C.message)}}function X(W,O){return W.map(C=>{const L=O?`${O}/${C.name}`:`/${C.name}`;return{label:C.name,icon:C.type==="directory"?"Folder":"",isLeaf:C.type!=="directory",fileName:L,children:C.type==="directory"&&C.files?X(C.files,L):void 0}})}return(W,O)=>{const C=Vr,L=Qr,V=Gr,I=Ar,P=Wr,T=wa,de=Ur,ve=Fr,ye=Hr,pe=Jr,Ae=zr,S=pa;return K(),F(fe,null,[H(L,null,{default:G(()=>[z("blockquote",null,[z("ul",null,[z("li",null,[ne(" 数据来自: "),H(C,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:G(()=>[ne(" JSDelivr ")]),_:1})]),z("li",null,[ne(" 搜索接口来自: "),H(C,{href:"https://www.algolia.com/",target:"_blank"},{default:G(()=>[ne(" Algolia ")]),_:1})])])])]),_:1}),H(V,{level:3},{default:G(()=>[ne(" 请输入要获取CDN的库名 ")]),_:1}),H(I,{modelValue:j(u),"onUpdate:modelValue":O[0]||(O[0]=E=>jt(u)?u.value=E:null),placeholder:"jquery",clearable:"",onChange:O[1]||(O[1]=E=>M(0))},null,8,["modelValue"]),(K(),oe(_r,null,[j(t)==="done"?(K(),F(fe,{key:0},[H(P),j(_)?(K(),F(fe,{key:1},[H(C,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:O[3]||(O[3]=E=>_.value=null)},{default:G(()=>[Fa,ne(" 返回 ")]),_:1}),j(v)?(K(),oe(Ae,{key:0,class:"metaDetail"},{default:G(()=>[z("ul",null,[j(v).name?(K(),F("li",Ha,[Ua,ne(re(j(v).name),1)])):Y("",!0),j(v).homepage?(K(),F("li",Wa,[Ja,H(C,{href:j(v).homepage,target:"_blank"},{default:G(()=>[ne(re(j(v).homepage),1)]),_:1},8,["href"])])):Y("",!0),j(v).description?(K(),F("li",Va,[Qa,ne(re(j(v).description),1)])):Y("",!0),j(v).repository?(K(),F("li",Ga,[Xa,ne(re(j(v).repository.type)+" / ",1),H(C,{href:j(v).repository.url,target:"_blank"},{default:G(()=>[ne(re(j(v).repository.url),1)]),_:1},8,["href"])])):Y("",!0),j(v).license?(K(),F("li",Ya,[Za,ne(re(j(v).license),1)])):Y("",!0),j(v).owner?(K(),F("li",eo,[to,ne(re(j(v).owner.name)+" / ",1),H(C,{href:j(v).owner.link,target:"_blank"},{default:G(()=>[ne(re(j(v).owner.link),1)]),_:1},8,["href"])])):Y("",!0),j(N).length?(K(),oe(P,{key:6})):Y("",!0),j(N).length?(K(),F("li",no,[ro,H(ye,{modelValue:j(w),"onUpdate:modelValue":O[4]||(O[4]=E=>jt(w)?w.value=E:null),options:j(N),onChange:U},{default:G(()=>[(K(!0),F(fe,null,Le(j(N),E=>(K(),oe(ve,{key:E.value,value:E.value,label:E.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):Y("",!0),j(b)?(K(),F("li",ao,[oo,H(pe,{copyable:{text:`https://cdn.jsdelivr.net/npm/${j(v).name}@${j(w)}${j(b)}`}},{default:G(()=>[H(C,{href:`https://cdn.jsdelivr.net/npm/${j(v).name}@${j(w)}${j(b)}`,target:"_blank"},{default:G(()=>[ne(re(j(b)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):Y("",!0),j(f)&&j(f).length?(K(),F("li",so,co)):Y("",!0)])]),_:1})):Y("",!0),j(v)&&j(f)&&j(f).length?(K(),oe(S,{key:1,data:j(R),selectable:!1},{default:G(({data:E})=>[E.isLeaf?(K(),F("div",lo,[fo,H(pe,{copyable:{text:`https://cdn.jsdelivr.net/npm/${j(v).name}@${j(w)}${E.fileName}`}},{default:G(()=>[ne(re(E.label),1)]),_:2},1032,["copyable"])])):(K(),F("div",ho,[po,H(pe,null,{default:G(()=>[ne(re(E.label),1)]),_:2},1024)]))]),_:1},8,["data"])):Y("",!0)],64)):(K(),F(fe,{key:0},[H(V,{level:4},{default:G(()=>[z("span",null,"共找到 "+re(j(m))+" 个库",1),j(m)>1e3?(K(),F("span",_a,"，最多展示前 1000 个结果")):Y("",!0)]),_:1}),z("div",ja,[(K(!0),F(fe,null,Le(j(p),E=>(K(),F("div",{key:E.objectID,class:"result-list-item"},[z("div",Aa,[H(V,{level:4,onClick:ce=>J(E.objectID)},{default:G(()=>[ne(re(E.name),1)]),_:2},1032,["onClick"])]),z("div",qa,[E.owner?(K(),F("div",{key:0,class:"owner",onClick:ce=>x(E.owner.name)},[z("img",{src:E.owner.avatar,alt:E.owner.name},null,8,Ra),z("div",null,re(E.owner.name),1)],8,Ka)):Y("",!0),E.version?(K(),oe(T,{key:1},{icon:G(()=>[$a]),default:G(()=>[z("span",{title:E.version},re(E.version),9,La)]),_:2},1024)):Y("",!0),E.license?(K(),oe(T,{key:2},{icon:G(()=>[Ba]),default:G(()=>[ne(" "+re(E.license),1)]),_:2},1024)):Y("",!0)]),E.description?(K(),F("div",Ma,re(E.description),1)):Y("",!0),E.keywords&&E.keywords.length?(K(),F("div",za,[(K(!0),F(fe,null,Le(E.keywords,(ce,le)=>(K(),oe(T,{key:le},{default:G(()=>[ne(re(ce),1)]),_:2},1024))),128))])):Y("",!0)]))),128))]),H(de,{layout:"prev,jumper,next",total:j(m)>1e3?1e3:j(m),"hide-on-single-page":!0,onCurrentChange:O[2]||(O[2]=E=>M(E-1))},null,8,["total"])],64))],64)):Y("",!0)],1024))],64)}}}),Lo=Rr(go,[["__scopeId","data-v-d37747e1"]]);export{Lo as default};
