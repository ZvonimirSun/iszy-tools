import{d as N,r as w,j as E,u as A,au as x,o as K,J as P,L as i,a as u,w as o,c0 as p,b as U,cR as $,I,B as q,b0 as z,b1 as R,_ as S}from"./index.12ac9c4f.js";/* empty css              *//* empty css               */import{_ as V}from"./FormItem.957f1e51.js";import{_ as j}from"./Password.57d3abf8.js";import{F as Z}from"./Form.4c621e2a.js";import"./Col.a916dcbe.js";import"./responsiveObserve.e5168151.js";import"./useFlexGapSupport.125da52c.js";import"./toArray.b1e64359.js";import"./get.cfeefaee.js";import"./hasIn.8e950ee9.js";import"./toInteger.56964b80.js";import"./toFinite.a32e6f40.js";import"./_baseFindIndex.10ef1a58.js";import"./collapseMotion.e310b6ea.js";import"./EyeOutlined.18c9e25a.js";import"./_arrayIncludesWith.91d14080.js";const c=d=>(z("data-v-0cb03fe6"),d=d(),R(),d),J={class:"register-container"},L={class:"main"},T=c(()=>i("span",{class:"i-icon-park-outline-user-business",style:{color:"rgba(0,0,0,.25)"}},null,-1)),G=c(()=>i("span",{class:"i-icon-park-outline-user",style:{color:"rgba(0,0,0,.25)"}},null,-1)),H=c(()=>i("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),M=c(()=>i("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),O=c(()=>i("span",{class:"i-icon-park-outline-phone-telephone",style:{color:"rgba(0,0,0,.25)"}},null,-1)),Q=c(()=>i("span",{class:"i-icon-park-outline-mail",style:{color:"rgba(0,0,0,.25)"}},null,-1)),W=N({__name:"register",setup(d){const m=w(),_=E("$axios"),f=E("$msg"),g=A(),r=x({userName:"",nickName:"",password:"",rePassword:"",mobile:"",email:""}),B=w(!1),v={userName:[{required:!0,validator:y,trigger:"blur"}],nickName:[{required:!0,validator:C,trigger:"blur"}],password:[{required:!0,validator:D,trigger:"blur"}],rePassword:[{required:Boolean(r.password),validator:b,trigger:"blur"}]};async function y(a,e=""){const l=/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/;if(e)if(l.test(e)){if(e==="admin")throw new Error("\u7528\u6237\u540D\u7981\u6B62\u4F7F\u7528admin")}else throw new Error("\u7528\u6237\u540D\u75315-16\u4F4D\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u7EC4\u6210\uFF0C\u4E14\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934");else throw new Error("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A")}async function C(a,e=""){if(e){if(e.trim()!==e)throw new Error("\u5F00\u5934\u548C\u7ED3\u5C3E\u4E0D\u80FD\u5305\u542B\u7A7A\u683C");if(e.length>30)throw new Error("\u6635\u79F0\u4E0D\u80FD\u8D85\u8FC730\u5B57\u7B26")}else throw new Error("\u6635\u79F0\u4E0D\u80FD\u4E3A\u7A7A")}async function D(a,e=""){if(e){if(e.length<8)throw new Error("\u5BC6\u7801\u4E0D\u80FD\u5C11\u4E8E8\u4F4D");if(e.length>32)throw new Error("\u5BC6\u7801\u4E0D\u80FD\u591A\u4E8E32\u4F4D");r.rePassword&&m.value.validateFields("rePassword")}else throw new Error("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")}async function b(a,e=""){if(e!==r.password)throw new Error("\u4E24\u6B21\u5BC6\u7801\u5185\u5BB9\u4E0D\u4E00\u81F4")}async function t(){try{await m.value.validateFields();const a=(await _.post(_.$apiBase+"/auth/register",{userName:r.userName,nickName:r.nickName,password:r.password,mobile:r.mobile,email:r.email})).data;a.success?(f.success("\u6CE8\u518C\u6210\u529F\uFF0C\u8BF7\u7B49\u5F85\u7BA1\u7406\u5458\u5BA1\u6838"),await g.push("/")):f.error(`\u6CE8\u518C\u5931\u8D25\uFF0C${a.message}`)}catch{}}return(a,e)=>{const l=I,n=V,F=j,h=q,k=Z;return K(),P("div",J,[i("div",L,[u(k,$({wrapperCol:{span:24}},{ref_key:"registerForm",ref:m,layout:"horizontal",model:r,rules:v}),{default:o(()=>[u(n,{name:"nickName"},{default:o(()=>[u(l,{value:r.nickName,"onUpdate:value":e[0]||(e[0]=s=>r.nickName=s),placeholder:"\u6635\u79F0",onKeypress:p(t,["enter"])},{prefix:o(()=>[T]),_:1},8,["value","onKeypress"])]),_:1}),u(n,{name:"userName"},{default:o(()=>[u(l,{value:r.userName,"onUpdate:value":e[1]||(e[1]=s=>r.userName=s),placeholder:"\u7528\u6237\u540D",onKeypress:p(t,["enter"])},{prefix:o(()=>[G]),_:1},8,["value","onKeypress"])]),_:1}),u(n,{name:"password"},{default:o(()=>[u(F,{value:r.password,"onUpdate:value":e[2]||(e[2]=s=>r.password=s),placeholder:"\u5BC6\u7801",onKeypress:p(t,["enter"])},{prefix:o(()=>[H]),_:1},8,["value","onKeypress"])]),_:1}),u(n,{name:"rePassword"},{default:o(()=>[u(F,{value:r.rePassword,"onUpdate:value":e[3]||(e[3]=s=>r.rePassword=s),placeholder:"\u518D\u6B21\u8F93\u5165\u5BC6\u7801",onKeypress:p(t,["enter"])},{prefix:o(()=>[M]),_:1},8,["value","onKeypress"])]),_:1}),u(n,{name:"mobile"},{default:o(()=>[u(l,{value:r.mobile,"onUpdate:value":e[4]||(e[4]=s=>r.mobile=s),placeholder:"\u624B\u673A\u53F7\uFF08\u53EF\u9009\uFF09",onKeypress:p(t,["enter"])},{prefix:o(()=>[O]),_:1},8,["value","onKeypress"])]),_:1}),u(n,{name:"email"},{default:o(()=>[u(l,{value:r.email,"onUpdate:value":e[5]||(e[5]=s=>r.email=s),placeholder:"\u90AE\u7BB1\uFF08\u53EF\u9009\uFF09",onKeypress:p(t,["enter"])},{prefix:o(()=>[Q]),_:1},8,["value","onKeypress"])]),_:1}),u(n,null,{default:o(()=>[u(h,{type:"primary",block:"",loading:B.value,onClick:t},{default:o(()=>[U(" \u6CE8\u518C ")]),_:1},8,["loading"])]),_:1})]),_:1},16,["model"])])])}}});const Fe=S(W,[["__scopeId","data-v-0cb03fe6"]]);export{Fe as default};
