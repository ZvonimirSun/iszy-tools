import{j as E,Y as I,B as P,k as d,aM as w,x as B,q as c,o as k,c as F,b as n,aA as r,y as t,aB as C,aN as D,aO as N,ad as j}from"../../vendor-P7BCdu4M.js";import{_ as q}from"../../common-pBJ5SvZ2.js";const A={class:"formatter-container"},O=E({__name:"FormatTransformer",props:{plugin:{},target:{default:""},inputLabel:{default:"输入"},inputDefault:{default:""},inputPlaceholder:{default:"输入..."},invalidMessage:{default:"请输入正确的内容"},outputLabel:{default:"输出"},options:{default:()=>({})}},emits:["format"],setup(m,{emit:R}){const e=m,{plugin:f,inputDefault:p}=I(e),{_inputLabel:g,_inputPlaceholder:b,_invalidMessage:v,_outputLabel:h}=e.target?{_inputLabel:"你的"+e.target+"内容",_inputPlaceholder:"在这里粘贴"+e.target+"内容...",_invalidMessage:"请输入正确的"+e.target+"内容",_outputLabel:"格式化后的"+e.target+"内容"}:{_inputLabel:e.inputLabel,_inputPlaceholder:e.inputPlaceholder,_invalidMessage:e.invalidMessage,_outputLabel:e.outputLabel},u=P(),a=d({input:p.value}),L=e.plugin.formatter||w,x=e.plugin.isValid||(()=>!0),i=B(()=>x(a.input));c(p,l=>{a.input=l}),c([i,()=>e.options,u],()=>{var l,o;i.value?(l=u.value)==null||l.setInput(L(a.input,e.options)):(o=u.value)==null||o.setInput("")},{deep:!0});const M=d({input:[{validator:(l,o,s)=>{i.value?s():s(new Error(v))},trigger:"change"}]});return(l,o)=>{const s=C,_=D,V=N;return k(),F("div",A,[n(V,{model:t(a),"label-position":"top",rules:t(M)},{default:r(()=>[n(_,{label:t(g),prop:"input"},{default:r(()=>[n(s,{modelValue:t(a).input,"onUpdate:modelValue":o[0]||(o[0]=y=>t(a).input=y),placeholder:t(b),rows:20,type:"textarea"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(_,{label:t(h)},{default:r(()=>[n(q,{ref_key:"editor",ref:u,plugin:t(f),readonly:!0},null,8,["plugin"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])}}}),Y=j(O,[["__scopeId","data-v-be05cfcd"]]);export{Y as _};
