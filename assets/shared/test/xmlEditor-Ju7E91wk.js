import{a as w,h as B,b as D,c as I,f as K,d as v,e as $,E as u,g as M,s as A,j as E,k as z,m as F,r as G,n as H,o as P,p as U,q as y,t as L,v as N,w as j,x as q,y as R,z as V,A as J,B as O,C as T,D as W,F as r,G as m,H as Q,I as X,J as Y,K as Z,M as ee}from"../../common-ad37U__l.js";import{j as te,B as p,l as oe,P as se,q as ae,o as ne,c as ie,a as o,d as g,y as _,aH as le,aI as ce,a3 as re}from"../../vendor-_H2Zizob.js";const de=[w(),B(),D(),I(),K(),v(),$(),u.allowMultipleSelections.of(!0),M(),A(O,{fallback:!0}),E(),z(),F(),G(),H(),P(),U(),y.of([...L,...N,...j,...q,...R,...V,...J])],he={"Control character":"控制字符","Selection deleted":"删除所选内容","Folded lines":"折叠行","Unfolded lines":"展开行",to:"至","folded code":"折叠的代码",unfold:"展开","Fold line":"折叠行","Unfold line":"展开行","Go to line":"跳转至行",go:"确定",Find:"查找",Replace:"替换",next:"下一个",previous:"上一个",all:"全部","match case":"匹配大小写","by word":"按单词",replace:"替换","replace all":"全部替换",close:"关闭","current match":"当前匹配项","replaced $ matches":"替换了 $ 个匹配项","replaced match on line $":"替换了行 $ 的匹配项","on line":"在行",Completions:"自动完成",Diagnostics:"诊断","No diagnostics":"无诊断信息"};function pe(t){const n=document.createElement("div");return n.style.padding="0 .5rem",n.textContent=i(),{dom:n,update(e){e.selectionSet&&(n.textContent=i())}};function i(){const e=t.state.selection.main,a=t.state.doc.lineAt(e.head);let c=`行: ${a.number} 列: ${e.head-a.from}`;return e.empty||(c+=`选中: ${Math.abs(e.to-e.from)} 字符`),c}}const ue={extensions:[de,u.phrases.of(he),y.of([T]),v(),W.of(pe)],formatter:t=>t,compactor:t=>t},l=t=>(le("data-v-82410a85"),t=t(),ce(),t),fe={flex:"","flex-col":""},me={class:"controller",flex:""},ge=l(()=>o("span",{class:"i-iszy-editor-format"},null,-1)),_e=[ge],ve=l(()=>o("span",{class:"i-iszy-editor-compact"},null,-1)),ye=[ve],Ce=l(()=>o("div",{class:"divider"},null,-1)),Se=l(()=>o("span",{class:"i-fa6-solid-arrow-rotate-left"},null,-1)),ke=[Se],be=l(()=>o("span",{class:"i-fa6-solid-arrow-rotate-right"},null,-1)),xe=[be],we=te({__name:"editor",props:{inputDefault:{default:""},plugin:{default:()=>ue}},emits:["change"],setup(t,{emit:n}){const i=p();let e;const a=t,c=n,f=new Y,d=p(!1),h=p(!1);oe(()=>{e=new r({state:u.create({extensions:[...a.plugin.extensions,r.updateListener.of(C),f.of(r.theme({},{dark:m().isDark}))],doc:a.inputDefault}),parent:i.value})}),se(()=>{e==null||e.destroy()}),ae(()=>m().isDark,s=>{e.dispatch({effects:f.reconfigure(r.theme({},{dark:s}))})});function C(s){s.docChanged&&(d.value=Q(e.state)>0,h.value=X(e.state)>0,c("change",s.state.doc.toString()))}function S(){const s=a.plugin.formatter(e.state.doc.toString());e.dispatch({changes:{from:0,to:e.state.doc.length,insert:s}})}function k(){const s=a.plugin.compactor(e.state.doc.toString());e.dispatch({changes:{from:0,to:e.state.doc.length,insert:s}})}function b(){d.value&&Z(e)}function x(){h.value&&ee(e)}return(s,Be)=>(ne(),ie("div",fe,[o("div",me,[o("div",{title:"格式化",class:"controller-btn",onClick:S},_e),o("div",{title:"压缩",class:"controller-btn",onClick:k},ye),Ce,o("div",{title:"撤销",class:g(["controller-btn",{disabled:!_(d)}]),onClick:b},ke,2),o("div",{title:"重做",class:g(["controller-btn",{disabled:!_(h)}]),onClick:x},xe,2)]),o("div",{ref_key:"editor",ref:i,class:"editor","w-full":""},null,512)]))}}),Ke=re(we,[["__scopeId","data-v-82410a85"]]);export{Ke as _,ue as p};
