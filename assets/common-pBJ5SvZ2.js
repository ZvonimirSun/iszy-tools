var Z3=Object.defineProperty;var J3=(n,e,t)=>e in n?Z3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ap=(n,e,t)=>(J3(n,typeof e!="symbol"?e+"":e,t),t);import{a3 as Ui,a4 as vv,a5 as yl,a6 as G3,a7 as Rl,a8 as Am,a9 as K3,aa as X3,ab as Y3,q as yv,ac as e8,j as nj,B as Vo,l as ij,p as t8,o as Zc,c as kh,ad as rj,ae as Ea,L as bv,af as n8,R as jn,ag as yn,ah as An,ai as kn,aj as i8,ak as r8,$ as xv,al as ic,am as o8,an as Ju,ao as s8,ap as jf,aq as xi,ar as a8,as as l8,at as zd,au as c8,av as u8,aw as Ss,ax as f8,ay as h8,x as d8,P as p8,m as m8,y as Wi,W as Ur,t as hy,a as Kn,g as Rp,az as g8,aA as ai,X as Sf,b as ii,d as v8,w as bl,f as xl,aB as y8,aC as b8,aD as x8,aE as w8,aF as k8,aG as _8,aH as j8,aI as S8,aJ as C8}from"./vendor-P7BCdu4M.js";import{_ as O8,a as $8}from"./ant-design-vue-r1_T4oPT.js";import{i as $o,p as Cs,a as M8,c as at,g as Ct,b as oj,e as ts,s as P8,J as $a,v as wv,d as Ai,f as sj,r as kv,h as T8,j as _v,k as E8,l as aj,u as Zi,m as _a,n as A8,o as jv,q as lj,t as cj,w as uj,x as wl,y as dy,z as Es,A as Di,B as hi,C as qd,D as fj,E as Sv,F as hj,G as Rm,H as Fl}from"./vanilla-jsoneditor-qva85DqO.js";const UW={events:new Map,on(n,e){n&&typeof e=="function"&&(this.events.get(n)?this.events.get(n).push(e):this.events.set(n,[e]))},off(n,e){const t=this.events.get(n);if(t)if(typeof e=="function"){for(let i=t.length-1;i>=0;i--)e===t[i]&&t.splice(i,1);t.length===0&&this.events.delete(n)}else this.events.delete(n)},emit(n,...e){const t=this.events.get(n);if(t)for(const i of t)i(...e)}};function Fd(){let n=window.location.hash;return n?(n.startsWith("#!")?n=n.slice(2):n.startsWith("#")&&(n=n.slice(1)),n.split("&").map(e=>{const t=e.split("=");return t.length>=2?{key:t[0],value:t[1]}:{key:t[0]}})):[]}function QW(n){return!!Fd().find(e=>e.key===n)}function ZW(n){const e=Fd().find(t=>t.key===n);return e?e.value:null}function JW(n,e){const t=Fd(),i=t.find(r=>r.key===n);i?i.value=e:t.push({key:n,value:e}),dj(t)}function GW(n){const e=Fd(),t=e.findIndex(i=>i.key===n);t!==-1&&e.splice(t,1),dj(e)}function dj(n=[]){let e="";for(const t of n)t.value!=null?e+="&"+t.key+"="+t.value:e+="&"+t.key;e.length?window.location.hash="!"+e.slice(1):window.location.hash=""}Ui.$apiBase="";Ui.interceptors.request.use(n=>(n.url&&n.url.startsWith(Ui.$apiBase)&&(n.withCredentials=!0),n));Ui.interceptors.response.use(n=>(n.status===401&&n.config.url&&n.config.url.startsWith(Ui.$apiBase)&&Qo().logout(),n),async n=>await Promise.reject(n));Ui.getData=function(n){return n==null?void 0:n.data};const R8=[{type:"编辑器",icon:"i-icon-park-outline-editor",children:[{name:"JSON编辑器",link:"/jsonEditor"},{name:"TinyEditor",link:"/tinyEditor"},{name:"在线流程图",link:"https://app.diagrams.net/"}]},{type:"地图工具",icon:"i-icon-park-solid-map-draw",children:[{name:"GeoJSON.io",link:"/geoJson",tags:["geojson","gis"]},{name:"经纬度查询",link:"/latLng"},{name:"行政区数据",link:"https://datav.aliyun.com/tools/atlas/index.html"}]},{type:"加密工具",icon:"i-icon-park-solid-file-lock",children:[{name:"文本HASH",link:"/hashText"},{name:"文件HASH",link:"/hashFile"},{name:"在线JWT解密",link:"/jwt"},{name:"GeoHash编解码",link:"/geohash"},{name:"UUID生成器",link:"/uuid",tags:["uuid","guid"]}]},{type:"转换工具",icon:"i-icon-park-outline-transform",children:[{name:"颜色转换器",link:"/colorTransform"},{name:"Base64字符串编解码",link:"/base64"},{name:"Base64图片编码",link:"/imageBase64"},{name:"二维码生成/识别",link:"/qrcode"},{name:"哔哩哔哩AV、BV号转换",link:"/bilibiliBv2av"},{name:"数字中文转换",link:"/nzh"},{name:"亲戚关系计算器",link:"/relationship"}]},{type:"网页工具",icon:"i-icon-park-outline-browser-chrome",children:[{name:"短网址",link:"/urls",requiresAuth:!0},{name:"URL编解码",link:"/urlEncode"},{name:"UserAgent解析",link:"/userAgent"},{name:"WHOIS查询",link:"/whois"},{name:"随机数生成",link:"/random"},{name:"渐变色生成器",link:"/gradientColor"}]},{type:"图像和视频",icon:"i-icon-park-solid-picture-one",children:[{name:"极简图床",link:"/imgHosting"},{name:"图片加水印",link:"/watermark"},{name:"屏幕录制",link:"/screenRecord"}]},{type:"开发工具",icon:"i-icon-park-outline-code",children:[{name:"Mock工具",link:"/mock",requiresAuth:!0},{name:"CSS格式化",link:"/cssFormatter"},{name:"XML格式化",link:"/xmlEditor"},{name:"时间计算",link:"/timeCompute"},{name:"在线ASCII码对照表",link:"/ascii"},{name:"查看网页源码",link:"/viewSourceCode"},{name:"正则大全",link:"/anyRule"},{name:"前端CDN搜索",link:"/cdnQuery"},{name:"中国色",link:"/chineseColor"},{name:"资源包",link:"https://libview.iszy.xyz"}]},{type:"数据工具",icon:"i-icon-park-outline-data-user",children:[{name:"身份证解析",link:"/idChinese"},{name:"glTF模型浏览",link:"/3dView"},{name:"这是什么动漫",link:"/whatAnimeIsThis"}]},{type:"运维",icon:"i-icon-park-outline-computer",children:[{name:"WebSSH",link:"/webssh"},{name:"Linux命令查询",link:"/linuxCommand"}]},{type:"理财",icon:"i-icon-park-solid-financing-one",children:[{name:"多次提前还贷计算器",link:"/mtqLoans"},{name:"基金股票信息查询",link:"http://www.zodiacn.ltd"},{name:"实时汇率",link:"/forexRate"}]},{type:"游戏",icon:"i-icon-park-solid-game",children:[{name:"塞尔达荒野之息地图",link:"/zeldaBotwMap"},{name:"2048",link:"/2048"},{name:"俄罗斯方块",link:"/tetris"},{name:"奥利奥生成器",link:"/oreooo"}]},{type:"其他",icon:"i-icon-park-solid-all-application",children:[{name:"Chromium下载",link:"https://chromium.cypress.io/"},{name:"淘宝优惠券精选",link:"https://shop.iszy.xyz"}]},{type:"网站相关",icon:"i-icon-park-solid-setting-two",children:[{name:"网站管理",link:"/settings",statistics:!1},{name:"留言反馈",link:"https://github.com/ZvonimirSun/iszy-tools/discussions",statistics:!1}]}],L8=vv("tools",{getters:{oriToolMenus(){return(R8||[]).map(n=>(n.id=n.id||yl(),n.children=(n.children||[]).map(e=>(e.id=e.id||yl(),e)),n))},oriToolItems(){return G3(this.oriToolMenus.map(n=>n.children))},toolMenus(){const n=Qo(),e=n.settings,t=6;let i=[];return e.showType?i=[...this.oriToolMenus]:i=[{id:yl(),type:"工具",icon:"i-icon-park-solid-all-application",children:this.oriToolItems}],e.showRecent&&n.recent().length>0&&i.unshift({id:yl(),type:"最近访问",icon:"i-icon-park-outline-history",children:n.recent(t)}),e.showMost&&n.most().length>0&&i.unshift({id:yl(),type:"最常访问",icon:"i-icon-park-solid-concern",children:n.most(t)}),n.favorite.length>0&&i.unshift({id:yl(),type:"收藏",icon:"i-icon-park-solid-folder-focus",children:n.favorite}),i.filter(r=>r.children.length)},toolMenusFilter(){return n=>{const e=n.trim().toLowerCase();return this.toolMenus.map(t=>({...t,children:t.children.filter(i=>i.name.toLowerCase().includes(e)||i.link.toLowerCase().includes(e)||(i.tags||[]).some(r=>r.toLowerCase().includes(e)))})).filter(t=>t.children.length)}},toolMenusWithInternal(){return[...this.oriToolMenus,{children:[{name:"首页",link:"/",type:"internal"},{name:"403",link:"/403",type:"internal"},{name:"404",link:"/404",type:"internal"},{name:"登录",link:"/login",type:"internal"},{name:"重定向",link:"/redirect",type:"internal"}]}]}}});let Lp=!1;const Cf={nickName:null,email:null,userId:null,roles:null},Qo=vv("user",{persist:!0,state:()=>({_user:{token:null,profile:Rl(Cf)},favorite:[],statistics:[],settings:{showMost:!1,showRecent:!1,showSearch:!0,showType:!0,openInNewTab:!1,autoSync:!1,theme:{mode:"auto"}},modules:{2048:{bestScore:0},tetris:{bestScore:0},imgHosting:{uploader:null,configs:{},commonConfig:{renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0,customCopyContent:"$url"}},jsonEditor:{syncCloud:!1}},version:2,syncing:!1}),getters:{isAdmin:n=>{var e;return(e=n._user.profile.roles)==null?void 0:e.some(t=>t.name==="superadmin")},isLogged:n=>!!n._user.token,isFav:n=>e=>n.favorite.filter(t=>t.name===e).length>0,recent:n=>e=>[...n.statistics].sort(function(t,i){return i.lastAccessTime-t.lastAccessTime}).slice(0,e),most:n=>e=>[...n.statistics].sort(function(t,i){return i.times-t.times}).slice(0,e)},actions:{async login({userName:n,password:e}={}){var i,r,o,s;let t="";try{if(n&&e){const a=(await Ui.post(`${Ui.$apiBase}/auth/login`,{username:n.trim(),password:e})).data;if(a.success){this._user.token="logged",Lp=!0,this._user.profile=a.data||Rl(Cf),await this.downloadSettings();return}else this.clearToken(),t=a.message}else t="用户名或密码错误"}catch(a){throw this.clearToken(),(r=(i=a==null?void 0:a.response)==null?void 0:i.data)!=null&&r.message?new Error((s=(o=a==null?void 0:a.response)==null?void 0:o.data)==null?void 0:s.message):a}throw new Error(t)},async logout(){try{const n=(await Ui.post(`${Ui.$apiBase}/auth/logout`)).data;n&&n.success?this.clearToken():Am.warning("登出失败！")}catch{this.clearToken()}},async updateUser(n){var e,t,i,r;try{const o=(await Ui.put(`${Ui.$apiBase}/auth/profile`,n)).data;if(o&&o.success)this._user.profile=o.data||Rl(Cf),Am.success("更新成功！");else throw new Error(o.message)}catch(o){throw(t=(e=o==null?void 0:o.response)==null?void 0:e.data)!=null&&t.message?new Error((r=(i=o==null?void 0:o.response)==null?void 0:i.data)==null?void 0:r.message):o}},async checkToken(){if(this._user.token){if(Lp)return!0;try{return this._user.profile=(await Ui.get(`${Ui.$apiBase}/auth/profile`)).data.data||{},Lp=!0,!0}catch(n){return Ui.isCancel&&!Ui.isCancel(n)&&this.clearToken(),!1}}else return!1},clearHistory(){this.statistics=[]},fixFavorite(){const n=L8().oriToolItems;for(const e of this.favorite){const t=n.find(i=>i.name===e.name);t?t.link!==e.link&&this.updateFav({name:e.name,link:t.link,add:!0}):this.updateFav({name:e.name})}for(const e of this.statistics){const t=n.find(i=>i.name===e.name);if(!t)this.statistics=this.statistics.filter(i=>i.name!==e.name);else if(t.link!==e.link){const i=this.statistics.find(r=>r.name===e.name);i&&(i.link=e.link)}}},clearToken(){this._user.token=null,this._user.profile=Rl(Cf)},updateFav({name:n,link:e,add:t}={}){if(t){if(!e)return;const i=this.favorite.filter(r=>r.name===n);i.length>0?i[0].link=e:this.favorite.push({name:n,link:e})}else this.favorite=this.favorite.filter(i=>i.name!==n)},access({name:n,link:e}={}){if(Array.isArray(this.statistics)){const t=this.statistics.filter(i=>i.name===n);t.length>0?(t[0].times++,t[0].lastAccessTime=new Date().getTime(),t[0].link=e):this.statistics.push({name:n,link:e,times:1,lastAccessTime:new Date().getTime()})}else this.statistics=[{name:n,link:e,times:1,lastAccessTime:new Date().getTime()}]},async uploadSettings(){if(this._user.token){const n={favorite:this.favorite,statistics:this.statistics,settings:this.settings,modules:this.modules,version:this.version};try{const e=(await Ui.post(`${Ui.$apiBase}/tools/settings`,n)).data;return e.success&&e.data}catch{return!1}}else return!1},async downloadSettings(){if(this._user.token){try{if(await this.checkToken()){const n=(await Ui.get(`${Ui.$apiBase}/tools/settings`)).data;if(n.success&&n.data)return this.importConfig(n.data),!0}}catch(n){console.log(n)}return!1}else return!1},importConfig(n){this.syncing=!0;let e=n;n.version==null&&(e=this.upgradeDataToV2(n)),Qo().$patch(e)},upgradeDataToV2(n){return delete n.profile,delete n.token,n.modules.jsonEditor=K3(this.modules.jsonEditor,n.settings.jsonEditor),delete n.settings.jsonEditor,n.version=2,n}}}),Cv=X3(),I8=Y3(Cv),Hl=vv("style",{state:()=>({isDark:Cv,toggleDark:I8}),actions:{setTheme(n){switch(n&&(Qo().settings.theme.mode=n),Qo().settings.theme.mode){case"dark":this.isDark=!0;break;case"light":this.isDark=!1;break;default:this.isDark=window.matchMedia("(prefers-color-scheme: dark)").matches;break}},toggleTheme(){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;switch(Qo().settings.theme.mode){case"dark":Qo().settings.theme.mode="light";break;case"light":Qo().settings.theme.mode="dark";break;default:n?Qo().settings.theme.mode="light":Qo().settings.theme.mode="dark";break}this.setTheme()}}});yv(Cv,function(){Hl().setTheme()});class KW{constructor(){Ap(this,"_queue",[]);Ap(this,"_flushing",!1)}enqueue(e){return this._queue.push(e),this._flushing?Promise.resolve():this._flushQueue()}_flushQueue(){this._flushing=!0;const e=()=>{const t=this._queue.shift();if(t)return t.then(e);this._flushing=!1};return Promise.resolve(e())}}function XW({source:n,text:e="已复制到剪贴板",createToast:t=!0}={}){const{copy:i,...r}=e8({source:n,legacy:!0});return{...r,async copy(o,{notificationMessage:s}={}){n?await i():await i(o),t&&Am.success(s??e)}}}class Un{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){[e,t]=rc(this,e,t);let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Jo.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=rc(this,e,t);let i=[];return this.decompose(e,t,i,0),Jo.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new ru(this),o=new ru(e);for(let s=t,a=t;;){if(r.next(s),o.next(s),s=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new ru(this,e)}iterRange(e,t=this.length){return new pj(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new mj(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Un.empty:e.length<=32?new Bi(e):Jo.from(Bi.split(e,[]))}}class Bi extends Un{constructor(e,t=N8(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let o=0;;o++){let s=this.text[o],a=r+s.length;if((t?i:a)>=e)return new B8(r,a,i,s);r=a+1,i++}}decompose(e,t,i,r){let o=e<=0&&t>=this.length?this:new Bi(py(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let s=i.pop(),a=_h(o.text,s.text.slice(),0,o.length);if(a.length<=32)i.push(new Bi(a,s.length+o.length));else{let l=a.length>>1;i.push(new Bi(a.slice(0,l)),new Bi(a.slice(l)))}}else i.push(o)}replace(e,t,i){if(!(i instanceof Bi))return super.replace(e,t,i);[e,t]=rc(this,e,t);let r=_h(this.text,_h(i.text,py(this.text,0,e)),t),o=this.length+i.length-(t-e);return r.length<=32?new Bi(r,o):Jo.from(Bi.split(r,[]),o)}sliceString(e,t=this.length,i=`
`){[e,t]=rc(this,e,t);let r="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&t>o&&(r+=a.slice(Math.max(0,e-o),t-o)),o=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let o of e)i.push(o),r+=o.length+1,i.length==32&&(t.push(new Bi(i,r)),i=[],r=-1);return r>-1&&t.push(new Bi(i,r)),t}}class Jo extends Un{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let o=0;;o++){let s=this.children[o],a=r+s.length,l=i+s.lines-1;if((t?l:a)>=e)return s.lineInner(e,t,i,r);r=a+1,i=l+1}}decompose(e,t,i,r){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&t>=s){let c=r&((s<=e?1:0)|(l>=t?2:0));s>=e&&l<=t&&!c?i.push(a):a.decompose(e-s,t-s,i,c)}s=l+1}}replace(e,t,i){if([e,t]=rc(this,e,t),i.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.length;if(e>=o&&t<=a){let l=s.replace(e-o,t-o,i),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let f=this.children.slice();return f[r]=l,new Jo(f,this.length-(t-e)+i.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){[e,t]=rc(this,e,t);let r="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&t>s&&(r+=a.sliceString(e-s,t-s,i)),s=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Jo))return 0;let i=0,[r,o,s,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==s||o==a)return i;let l=this.children[r],c=e.children[o];if(l!=c)return i+l.scanIdentical(c,t);i+=l.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let m of e)i+=m.lines;if(i<32){let m=[];for(let g of e)g.flatten(m);return new Bi(m,t)}let r=Math.max(32,i>>5),o=r<<1,s=r>>1,a=[],l=0,c=-1,f=[];function h(m){let g;if(m.lines>o&&m instanceof Jo)for(let v of m.children)h(v);else m.lines>s&&(l>s||!l)?(p(),a.push(m)):m instanceof Bi&&l&&(g=f[f.length-1])instanceof Bi&&m.lines+g.lines<=32?(l+=m.lines,c+=m.length+1,f[f.length-1]=new Bi(g.text.concat(m.text),g.length+1+m.length)):(l+m.lines>r&&p(),l+=m.lines,c+=m.length+1,f.push(m))}function p(){l!=0&&(a.push(f.length==1?f[0]:Jo.from(f,c)),c=-1,l=f.length=0)}for(let m of e)h(m);return p(),a.length==1?a[0]:new Jo(a,t)}}Un.empty=new Bi([""],0);function N8(n){let e=-1;for(let t of n)e+=t.length+1;return e}function _h(n,e,t=0,i=1e9){for(let r=0,o=0,s=!0;o<n.length&&r<=i;o++){let a=n[o],l=r+a.length;l>=t&&(l>i&&(a=a.slice(0,i-r)),r<t&&(a=a.slice(t-r)),s?(e[e.length-1]+=a,s=!1):e.push(a)),r=l+1}return e}function py(n,e,t){return _h(n,[""],e,t)}class ru{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Bi?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],o=this.offsets[i],s=o>>1,a=r instanceof Bi?r.text.length:r.children.length;if(s==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Bi){let l=r.text[s+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[s+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Bi?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class pj{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new ru(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class mj{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Un.prototype[Symbol.iterator]=function(){return this.iter()},ru.prototype[Symbol.iterator]=pj.prototype[Symbol.iterator]=mj.prototype[Symbol.iterator]=function(){return this});class B8{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}function rc(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}let Vl="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Vl.length;n++)Vl[n]+=Vl[n-1];function D8(n){for(let e=1;e<Vl.length;e+=2)if(Vl[e]>n)return Vl[e-1]<=n;return!1}function my(n){return n>=127462&&n<=127487}const gy=8205;function gr(n,e,t=!0,i=!0){return(t?gj:z8)(n,e,i)}function gj(n,e,t){if(e==n.length)return e;e&&vj(n.charCodeAt(e))&&yj(n.charCodeAt(e-1))&&e--;let i=hr(n,e);for(e+=so(i);e<n.length;){let r=hr(n,e);if(i==gy||r==gy||t&&D8(r))e+=so(r),i=r;else if(my(r)){let o=0,s=e-2;for(;s>=0&&my(hr(n,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function z8(n,e,t){for(;e>0;){let i=gj(n,e-2,t);if(i<e)return i;e--}return 0}function vj(n){return n>=56320&&n<57344}function yj(n){return n>=55296&&n<56320}function hr(n,e){let t=n.charCodeAt(e);if(!yj(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return vj(i)?(t-55296<<10)+(i-56320)+65536:t}function Ov(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function so(n){return n<65536?1:2}const Lm=/\r\n?|\n/;var mr=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(mr||(mr={}));class ns{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(i,r,o),r+=o):r+=s,i+=o}}iterChangedRanges(e,t=!1){Im(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new ns(e)}composeDesc(e){return this.empty?e:e.empty?this:bj(this,e)}mapDesc(e,t=!1){return e.empty?this:Nm(this,e,t)}mapPos(e,t=-1,i=mr.Simple){let r=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=r+a;if(l<0){if(c>e)return o+(e-r);o+=a}else{if(i!=mr.Simple&&c>=e&&(i==mr.TrackDel&&r<e&&c>e||i==mr.TrackBefore&&r<e||i==mr.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==r||t<0?o:o+l;o+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let o=this.sections[i++],s=this.sections[i++],a=r+o;if(s>=0&&r<=t&&a>=e)return r<e&&a>t?"cover":!0;r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ns(e)}static create(e){return new ns(e)}}class Yi extends ns{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Im(this,(t,i,r,o,s)=>e=e.replace(r,r+(i-t),s),!1),e}mapDesc(e,t=!1){return Nm(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,o=0;r<t.length;r+=2){let s=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=s;let l=r>>1;for(;i.length<l;)i.push(Un.empty);i.push(s?e.slice(o,o+s):Un.empty)}o+=s}return new Yi(t,i)}compose(e){return this.empty?e:e.empty?this:bj(this,e,!0)}map(e,t=!1){return e.empty?this:Nm(this,e,t,!0)}iterChanges(e,t=!1){Im(this,e,t)}get desc(){return ns.create(this.sections)}filter(e){let t=[],i=[],r=[],o=new vu(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let f=Math.min(o.len,l-a);xr(r,f,-1);let h=o.ins==-1?-1:o.off==0?o.ins:0;xr(t,f,h),h>0&&ea(i,t,o.text),o.forward(f),a+=f}let c=e[s++];for(;a<c;){if(o.done)break e;let f=Math.min(o.len,c-a);xr(t,f,-1),xr(r,f,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(f),a+=f}}return{changes:new Yi(t,i),filtered:ns.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],o=[],s=0,a=null;function l(f=!1){if(!f&&!r.length)return;s<t&&xr(r,t-s,-1);let h=new Yi(r,o);a=a?a.compose(h.map(a)):h,r=[],o=[],s=0}function c(f){if(Array.isArray(f))for(let h of f)c(h);else if(f instanceof Yi){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);l(),a=a?a.compose(f.map(a)):f}else{let{from:h,to:p=h,insert:m}=f;if(h>p||h<0||p>t)throw new RangeError(`Invalid change range ${h} to ${p} (in doc of length ${t})`);let g=m?typeof m=="string"?Un.of(m.split(i||Lm)):m:Un.empty,v=g.length;if(h==p&&v==0)return;h<s&&l(),h>s&&xr(r,h-s,-1),xr(r,p-h,v),ea(o,r,g),s=p}}return c(e),l(!a),a}static empty(e){return new Yi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let o=e[r];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;i.length<r;)i.push(Un.empty);i[r]=Un.of(o.slice(1)),t.push(o[0],i[r].length)}}}return new Yi(t,i)}static createSet(e,t){return new Yi(e,t)}}function xr(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function ea(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(Un.empty);n.push(t)}}function Im(n,e,t){let i=n.inserted;for(let r=0,o=0,s=0;s<n.sections.length;){let a=n.sections[s++],l=n.sections[s++];if(l<0)r+=a,o+=a;else{let c=r,f=o,h=Un.empty;for(;c+=a,f+=l,l&&i&&(h=h.append(i[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)a=n.sections[s++],l=n.sections[s++];e(r,c,o,f,h),r=c,o=f}}}function Nm(n,e,t,i=!1){let r=[],o=i?[]:null,s=new vu(n),a=new vu(e);for(let l=-1;;)if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);xr(r,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!t))){let c=a.len;for(xr(r,a.ins,-1);c;){let f=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=f&&(xr(r,0,s.ins),o&&ea(o,r,s.text),l=s.i),s.forward(f),c-=f}a.next()}else if(s.ins>=0){let c=0,f=s.len;for(;f;)if(a.ins==-1){let h=Math.min(f,a.len);c+=h,f-=h,a.forward(h)}else if(a.ins==0&&a.len<f)f-=a.len,a.next();else break;xr(r,c,l<s.i?s.ins:0),o&&l<s.i&&ea(o,r,s.text),l=s.i,s.forward(s.len-f)}else{if(s.done&&a.done)return o?Yi.createSet(r,o):ns.create(r);throw new Error("Mismatched change set lengths")}}function bj(n,e,t=!1){let i=[],r=t?[]:null,o=new vu(n),s=new vu(e);for(let a=!1;;){if(o.done&&s.done)return r?Yi.createSet(i,r):ns.create(i);if(o.ins==0)xr(i,o.len,0,a),o.next();else if(s.len==0&&!s.done)xr(i,0,s.ins,a),r&&ea(r,i,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=i.length;if(o.ins==-1){let f=s.ins==-1?-1:s.off?0:s.ins;xr(i,l,f,a),r&&f&&ea(r,i,s.text)}else s.ins==-1?(xr(i,o.off?0:o.len,l,a),r&&ea(r,i,o.textBit(l))):(xr(i,o.off?0:o.len,s.off?0:s.ins,a),r&&!s.off&&ea(r,i,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||i.length>c),o.forward2(l),s.forward(l)}}}}class vu{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Un.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?Un.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Na{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Na(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return He.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return He.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return He.range(e.anchor,e.head)}static create(e,t,i){return new Na(e,t,i)}}class He{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:He.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new He([this.main],0)}addRange(e,t=!0){return He.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,He.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new He(e.ranges.map(t=>Na.fromJSON(t)),e.main)}static single(e,t=e){return new He([He.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=i:o.from<i)return He.normalized(e.slice(),t);i=o.to}return new He(e,t)}static cursor(e,t=0,i,r){return Na.create(e,e,(t==0?0:t<0?8:16)|(i==null?7:Math.min(6,i))|(r??16777215)<<6)}static range(e,t,i,r){let o=(i??16777215)<<6|(r==null?7:Math.min(6,r));return t<e?Na.create(t,e,48|o):Na.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let i=e[t];e.sort((r,o)=>r.from-o.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let o=e[r],s=e[r-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);r<=t&&t--,e.splice(--r,2,o.anchor>o.head?He.range(l,a):He.range(a,l))}}return new He(e,t)}}function xj(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let $v=0;class Rt{constructor(e,t,i,r,o){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=$v++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new Rt(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Mv),!!e.static,e.enables)}of(e){return new jh([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new jh(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new jh(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Mv(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class jh{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=$v++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,c=!1,f=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||f.push(e[h.id]);return{create(h){return h.values[s]=i(h),1},update(h,p){if(l&&p.docChanged||c&&(p.docChanged||p.selection)||Bm(h,f)){let m=i(h);if(a?!vy(m,h.values[s],r):!r(m,h.values[s]))return h.values[s]=m,1}return 0},reconfigure:(h,p)=>{let m,g=p.config.address[o];if(g!=null){let v=Fh(p,g);if(this.dependencies.every(b=>b instanceof Rt?p.facet(b)===h.facet(b):b instanceof Ji?p.field(b,!1)==h.field(b,!1):!0)||(a?vy(m=i(h),v,r):r(m=i(h),v)))return h.values[s]=v,0}else m=i(h);return h.values[s]=m,1}}}}function vy(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Bm(n,e){let t=!1;for(let i of e)ou(n,i)&1&&(t=!0);return t}function q8(n,e,t){let i=t.map(l=>n[l.id]),r=t.map(l=>l.type),o=i.filter(l=>!(l&1)),s=n[e.id]>>1;function a(l){let c=[];for(let f=0;f<i.length;f++){let h=Fh(l,i[f]);if(r[f]==2)for(let p of h)c.push(p);else c.push(h)}return e.combine(c)}return{create(l){for(let c of i)ou(l,c);return l.values[s]=a(l),1},update(l,c){if(!Bm(l,o))return 0;let f=a(l);return e.compare(f,l.values[s])?0:(l.values[s]=f,1)},reconfigure(l,c){let f=Bm(l,i),h=c.config.facets[e.id],p=c.facet(e);if(h&&!f&&Mv(t,h))return l.values[s]=p,0;let m=a(l);return e.compare(m,p)?(l.values[s]=p,0):(l.values[s]=m,1)}}}const yy=Rt.define({static:!0});class Ji{constructor(e,t,i,r,o){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new Ji($v++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(yy).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let o=i.values[t],s=this.updateF(o,r);return this.compareF(o,s)?0:(i.values[t]=s,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,yy.of({field:this,create:e})]}get extension(){return this}}const Aa={lowest:4,low:3,default:2,high:1,highest:0};function Nc(n){return e=>new wj(e,n)}const ll={highest:Nc(Aa.highest),high:Nc(Aa.high),default:Nc(Aa.default),low:Nc(Aa.low),lowest:Nc(Aa.lowest)};class wj{constructor(e,t){this.inner=e,this.prec=t}}class _o{of(e){return new Dm(this,e)}reconfigure(e){return _o.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Dm{constructor(e,t){this.compartment=e,this.inner=t}}class qh{constructor(e,t,i,r,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],o=Object.create(null),s=new Map;for(let p of F8(e,t,s))p instanceof Ji?r.push(p):(o[p.facet.id]||(o[p.facet.id]=[])).push(p);let a=Object.create(null),l=[],c=[];for(let p of r)a[p.id]=c.length<<1,c.push(m=>p.slot(m));let f=i==null?void 0:i.config.facets;for(let p in o){let m=o[p],g=m[0].facet,v=f&&f[p]||[];if(m.every(b=>b.type==0))if(a[g.id]=l.length<<1|1,Mv(v,m))l.push(i.facet(g));else{let b=g.combine(m.map(x=>x.value));l.push(i&&g.compare(b,i.facet(g))?i.facet(g):b)}else{for(let b of m)b.type==0?(a[b.id]=l.length<<1|1,l.push(b.value)):(a[b.id]=c.length<<1,c.push(x=>b.dynamicSlot(x)));a[g.id]=c.length<<1,c.push(b=>q8(b,g,m))}}let h=c.map(p=>p(a));return new qh(e,s,h,a,l,o)}}function F8(n,e,t){let i=[[],[],[],[],[]],r=new Map;function o(s,a){let l=r.get(s);if(l!=null){if(l<=a)return;let c=i[l].indexOf(s);c>-1&&i[l].splice(c,1),s instanceof Dm&&t.delete(s.compartment)}if(r.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof Dm){if(t.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;t.set(s.compartment,c),o(c,a)}else if(s instanceof wj)o(s.inner,s.prec);else if(s instanceof Ji)i[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof jh)i[a].push(s),s.facet.extensions&&o(s.facet.extensions,Aa.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(n,Aa.default),i.reduce((s,a)=>s.concat(a))}function ou(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Fh(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const kj=Rt.define(),zm=Rt.define({combine:n=>n.some(e=>e),static:!0}),_j=Rt.define({combine:n=>n.length?n[0]:void 0,static:!0}),jj=Rt.define(),Sj=Rt.define(),Cj=Rt.define(),Oj=Rt.define({combine:n=>n.length?n[0]:!1});class qs{constructor(e,t){this.type=e,this.value=t}static define(){return new H8}}class H8{of(e){return new qs(this,e)}}class V8{constructor(e){this.map=e}of(e){return new mn(this,e)}}class mn{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new mn(this.type,t)}is(e){return this.type==e}static define(e={}){return new V8(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let o=r.map(t);o&&i.push(o)}return i}}mn.reconfigure=mn.define();mn.appendConfig=mn.define();class er{constructor(e,t,i,r,o,s){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,i&&xj(i,t.newLength),o.some(a=>a.type==er.time)||(this.annotations=o.concat(er.time.of(Date.now())))}static create(e,t,i,r,o,s){return new er(e,t,i,r,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(er.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}er.time=qs.define();er.userEvent=qs.define();er.addToHistory=qs.define();er.remote=qs.define();function W8(n,e){let t=[];for(let i=0,r=0;;){let o,s;if(i<n.length&&(r==e.length||e[r]>=n[i]))o=n[i++],s=n[i++];else if(r<e.length)o=e[r++],s=e[r++];else return t;!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function $j(n,e,t){var i;let r,o,s;return t?(r=e.changes,o=Yi.empty(e.changes.length),s=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(r)),{changes:s,selection:e.selection?e.selection.map(o):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:mn.mapEffects(n.effects,r).concat(mn.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function qm(n,e,t){let i=e.selection,r=Wl(e.annotations);return e.userEvent&&(r=r.concat(er.userEvent.of(e.userEvent))),{changes:e.changes instanceof Yi?e.changes:Yi.of(e.changes||[],t,n.facet(_j)),selection:i&&(i instanceof He?i:He.single(i.anchor,i.head)),effects:Wl(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function Mj(n,e,t){let i=qm(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;i=$j(i,qm(n,e[o],s?i.changes.newLength:n.doc.length),s)}let r=er.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return Q8(t?U8(r):r)}function U8(n){let e=n.startState,t=!0;for(let r of e.facet(jj)){let o=r(n);if(o===!1){t=!1;break}Array.isArray(o)&&(t=t===!0?o:W8(t,o))}if(t!==!0){let r,o;if(t===!1)o=n.changes.invertedDesc,r=Yi.empty(e.doc.length);else{let s=n.changes.filter(t);r=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}n=er.create(e,r,n.selection&&n.selection.map(o),mn.mapEffects(n.effects,o),n.annotations,n.scrollIntoView)}let i=e.facet(Sj);for(let r=i.length-1;r>=0;r--){let o=i[r](n);o instanceof er?n=o:Array.isArray(o)&&o.length==1&&o[0]instanceof er?n=o[0]:n=Mj(e,Wl(o),!1)}return n}function Q8(n){let e=n.startState,t=e.facet(Cj),i=n;for(let r=t.length-1;r>=0;r--){let o=t[r](n);o&&Object.keys(o).length&&(i=$j(i,qm(e,o,n.changes.newLength),!0))}return i==n?n:er.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const Z8=[];function Wl(n){return n==null?Z8:Array.isArray(n)?n:[n]}var wi=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(wi||(wi={}));const J8=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Fm;try{Fm=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function G8(n){if(Fm)return Fm.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||J8.test(t)))return!0}return!1}function K8(n){return e=>{if(!/\S/.test(e))return wi.Space;if(G8(e))return wi.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return wi.Word;return wi.Other}}class wn{constructor(e,t,i,r,o,s){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)ou(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return ou(this,i),Fh(this,i)}update(...e){return Mj(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let a of e.effects)a.is(_o.reconfigure)?(t&&(r=new Map,t.compartments.forEach((l,c)=>r.set(c,l)),t=null),r.set(a.value.compartment,a.value.extension)):a.is(mn.reconfigure)?(t=null,i=a.value):a.is(mn.appendConfig)&&(t=null,i=Wl(i).concat(a.value));let o;t?o=e.startState.values.slice():(t=qh.resolve(i,r,this),o=new wn(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let s=e.startState.facet(zm)?e.newSelection:e.newSelection.asSingle();new wn(t,e.newDoc,s,o,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:He.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),o=[i.range],s=Wl(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),f=c.map(r);for(let p=0;p<a;p++)o[p]=o[p].map(f);let h=r.mapDesc(c,!0);o.push(l.range.map(h)),r=r.compose(f),s=mn.mapEffects(s,f).concat(mn.mapEffects(Wl(l.effects),h))}return{changes:r,selection:He.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof Yi?e:Yi.of(e,this.doc.length,this.facet(wn.lineSeparator))}toText(e){return Un.of(e.split(this.facet(wn.lineSeparator)||Lm))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(ou(this,t),Fh(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Ji&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let o in i)if(Object.prototype.hasOwnProperty.call(e,o)){let s=i[o],a=e[o];r.push(s.init(l=>s.spec.fromJSON(a,l)))}}return wn.create({doc:e.doc,selection:He.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=qh.resolve(e.extensions||[],new Map),i=e.doc instanceof Un?e.doc:Un.of((e.doc||"").split(t.staticFacet(wn.lineSeparator)||Lm)),r=e.selection?e.selection instanceof He?e.selection:He.single(e.selection.anchor,e.selection.head):He.single(0);return xj(r,i.length),t.staticFacet(zm)||(r=r.asSingle()),new wn(t,i,r,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(wn.tabSize)}get lineBreak(){return this.facet(wn.lineSeparator)||`
`}get readOnly(){return this.facet(Oj)}phrase(e,...t){for(let i of this.facet(wn.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let o=+(r||1);return!o||o>t.length?i:t[o-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let o of this.facet(kj))for(let s of o(this,t,i))Object.prototype.hasOwnProperty.call(s,e)&&r.push(s[e]);return r}charCategorizer(e){return K8(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-i,a=e-i;for(;s>0;){let l=gr(t,s,!1);if(o(t.slice(l,s))!=wi.Word)break;s=l}for(;a<r;){let l=gr(t,a);if(o(t.slice(a,l))!=wi.Word)break;a=l}return s==a?null:He.range(s+i,a+i)}}wn.allowMultipleSelections=zm;wn.tabSize=Rt.define({combine:n=>n.length?n[0]:4});wn.lineSeparator=_j;wn.readOnly=Oj;wn.phrases=Rt.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});wn.languageData=kj;wn.changeFilter=jj;wn.transactionFilter=Sj;wn.transactionExtender=Cj;_o.reconfigure=mn.define();function yo(n,e,t={}){let i={};for(let r of n)for(let o of Object.keys(r)){let s=r[o],a=i[o];if(a===void 0)i[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(t,o))i[o]=t[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class Qa{eq(e){return this==e}range(e,t=e){return Hm.create(e,t,this)}}Qa.prototype.startSide=Qa.prototype.endSide=0;Qa.prototype.point=!1;Qa.prototype.mapMode=mr.TrackDel;let Hm=class Pj{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new Pj(e,t,i)}};function Vm(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Pv{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let o=i?this.to:this.from;for(let s=r,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(e,t,i,r){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(i,1e9,!1,o);o<s;o++)if(r(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let i=[],r=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],f=this.from[l]+e,h=this.to[l]+e,p,m;if(f==h){let g=t.mapPos(f,c.startSide,c.mapMode);if(g==null||(p=m=g,c.startSide!=c.endSide&&(m=t.mapPos(f,c.endSide),m<p)))continue}else if(p=t.mapPos(f,c.startSide),m=t.mapPos(h,c.endSide),p>m||p==m&&c.startSide>0&&c.endSide<=0)continue;(m-p||c.endSide-c.startSide)<0||(s<0&&(s=p),c.point&&(a=Math.max(a,m-p)),i.push(c),r.push(p-s),o.push(m-s))}return{mapped:i.length?new Pv(r,o,i,a):null,pos:s}}}class Xn{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new Xn(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(i&&(t=t.slice().sort(Vm)),this.isEmpty)return t.length?Xn.of(t):this;let a=new Tj(this,null,-1).goto(0),l=0,c=[],f=new rs;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let h=t[l++];f.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!s||r>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&f.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||r>a.to||o<a.from||s(a.from,a.to,a.value))&&(f.addInner(a.from,a.to,a.value)||c.push(Hm.create(a.from,a.to,a.value))),a.next());return f.finishInner(this.nextLayer.isEmpty&&!c.length?Xn.empty:this.nextLayer.update({add:c,filter:s,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:f,pos:h}=l.map(a,e);f&&(r=Math.max(r,f.maxPoint),t.push(f),i.push(h))}}let o=this.nextLayer.map(e);return t.length==0?o:new Xn(i,t,o||Xn.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],s=this.chunk[r];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return yu.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return yu.from(e).goto(t)}static compare(e,t,i,r,o=-1){let s=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),l=by(s,a,i),c=new Bc(s,l,o),f=new Bc(a,l,o);i.iterGaps((h,p,m)=>xy(c,h,f,p,m,r)),i.empty&&i.length==0&&xy(c,0,f,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=999999999);let o=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),s=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=by(o,s),l=new Bc(o,a,0).goto(i),c=new Bc(s,a,0).goto(i);for(;;){if(l.to!=c.to||!Wm(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,t,i,r,o=-1){let s=new Bc(e,null,o).goto(t),a=t,l=s.openStart;for(;;){let c=Math.min(s.to,i);if(s.point){let f=s.activeForPoint(s.to),h=s.pointFrom<t?f.length+1:Math.min(f.length,l);r.point(a,c,s.point,f,h,s.pointRank),l=Math.min(s.openEnd(c),f.length)}else c>a&&(r.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>i)return l+(s.point&&s.to>i?1:0);a=s.to,s.next()}}static of(e,t=!1){let i=new rs;for(let r of e instanceof Hm?[e]:t?X8(e):e)i.add(r.from,r.to,r.value);return i.finish()}}Xn.empty=new Xn([],[],null,-1);function X8(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Vm(e,i)>0)return n.slice().sort(Vm);e=i}return n}Xn.empty.nextLayer=Xn.empty;class rs{finishChunk(e){this.chunks.push(new Pv(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new rs)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Xn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Xn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function by(n,e,t){let i=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&i.set(o.chunk[s],o.chunkPos[s]);let r=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=i.get(o.chunk[s]);a!=null&&(t?t.mapPos(a):a)==o.chunkPos[s]&&!(t!=null&&t.touchesRange(a,a+o.chunk[s].length))&&r.add(o.chunk[s])}return r}class Tj{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class yu{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=i&&r.push(new Tj(s,t,i,o));return r.length==1?r[0]:new yu(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ip(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Ip(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Ip(this.heap,0)}}}function Ip(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class Bc{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=yu.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Of(this.active,e),Of(this.activeTo,e),Of(this.activeRank,e),this.minActive=wy(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;$f(this.active,t,i),$f(this.activeTo,t,r),$f(this.activeRank,t,o),e&&$f(e,t,this.cursor.from),this.minActive=wy(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&Of(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function xy(n,e,t,i,r,o){n.goto(e),t.goto(i);let s=i+r,a=i,l=i-e;for(;;){let c=n.to+l-t.to||n.endSide-t.endSide,f=c<0?n.to+l:t.to,h=Math.min(f,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Wm(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(a,h,n.point,t.point):h>a&&!Wm(n.active,t.active)&&o.compareRange(a,h,n.active,t.active),f>s)break;a=f,c<=0&&n.next(),c>=0&&t.next()}}function Wm(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Of(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function $f(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function wy(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function wc(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=gr(n,r));return i}function Um(n,e,t,i){for(let r=0,o=0;;){if(o>=e)return r;if(r==n.length)break;o+=n.charCodeAt(r)==9?t-o%t:1,r=gr(n,r)}return i===!0?-1:n.length}const Qm="ͼ",ky=typeof Symbol>"u"?"__"+Qm:Symbol.for(Qm),Zm=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),_y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class da{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let f=[],h=/^@(\w+)\b/.exec(s[0]),p=h&&h[1]=="keyframes";if(h&&a==null)return l.push(s[0]+";");for(let m in a){let g=a[m];if(/&/.test(m))o(m.split(/,\s*/).map(v=>s.map(b=>v.replace(/&/,b))).reduce((v,b)=>v.concat(b)),g,l);else if(g&&typeof g=="object"){if(!h)throw new RangeError("The value of a property ("+m+") should be a primitive value.");o(r(m),g,f,p)}else g!=null&&f.push(m.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+g+";")}(f.length||p)&&l.push((i&&!h&&!c?s.map(i):s).join(", ")+" {"+f.join(" ")+"}")}for(let s in e)o(r(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=_y[ky]||1;return _y[ky]=e+1,Qm+e.toString(36)}static mount(e,t,i){let r=e[Zm],o=i&&i.nonce;r?o&&r.setNonce(o):r=new Y8(e,o),r.mount(Array.isArray(t)?t:[t])}}let jy=new Map;class Y8{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let o=jy.get(i);if(o)return e.adoptedStyleSheets=[o.sheet,...e.adoptedStyleSheets],e[Zm]=o;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],jy.set(i,this)}else{this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let o=e.head||e;o.insertBefore(this.styleTag,o.firstChild)}this.modules=[],e[Zm]=this}mount(e){let t=this.sheet,i=0,r=0;for(let o=0;o<e.length;o++){let s=e[o],a=this.modules.indexOf(s);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),a==-1){if(this.modules.splice(r++,0,s),t)for(let l=0;l<s.rules.length;l++)t.insertRule(s.rules[l],i++)}else{for(;r<a;)i+=this.modules[r++].rules.length;i+=s.rules.length,r++}}if(!t){let o="";for(let s=0;s<this.modules.length;s++)o+=this.modules[s].getRules()+`
`;this.styleTag.textContent=o}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var pa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},e5=typeof navigator<"u"&&/Mac/.test(navigator.platform),t5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var dr=0;dr<10;dr++)pa[48+dr]=pa[96+dr]=String(dr);for(var dr=1;dr<=24;dr++)pa[dr+111]="F"+dr;for(var dr=65;dr<=90;dr++)pa[dr]=String.fromCharCode(dr+32),bu[dr]=String.fromCharCode(dr);for(var Np in pa)bu.hasOwnProperty(Np)||(bu[Np]=pa[Np]);function n5(n){var e=e5&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||t5&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?bu:pa)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Hh(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Jm(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function i5(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Sh(n,e){if(!e.anchorNode)return!1;try{return Jm(n,e.anchorNode)}catch{return!1}}function oc(n){return n.nodeType==3?Za(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Vh(n,e,t,i){return t?Sy(n,e,t,i,-1)||Sy(n,e,t,i,1):!1}function xu(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Sy(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:As(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=xu(n)+(r<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?As(n):0}else return!1}}function As(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Hd(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function r5(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Ej(n,e){let t=e.width/n.offsetWidth,i=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(i>.995&&i<1.005||!isFinite(i)||Math.abs(e.height-n.offsetHeight)<1)&&(i=1),{scaleX:t,scaleY:i}}function o5(n,e,t,i,r,o,s,a){let l=n.ownerDocument,c=l.defaultView||window;for(let f=n,h=!1;f&&!h;)if(f.nodeType==1){let p,m=f==l.body,g=1,v=1;if(m)p=r5(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(h=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let k=f.getBoundingClientRect();({scaleX:g,scaleY:v}=Ej(f,k)),p={left:k.left,right:k.left+f.clientWidth*g,top:k.top,bottom:k.top+f.clientHeight*v}}let b=0,x=0;if(r=="nearest")e.top<p.top?(x=-(p.top-e.top+s),t>0&&e.bottom>p.bottom+x&&(x=e.bottom-p.bottom+x+s)):e.bottom>p.bottom&&(x=e.bottom-p.bottom+s,t<0&&e.top-x<p.top&&(x=-(p.top+x-e.top+s)));else{let k=e.bottom-e.top,C=p.bottom-p.top;x=(r=="center"&&k<=C?e.top+k/2-C/2:r=="start"||r=="center"&&t<0?e.top-s:e.bottom-C+s)-p.top}if(i=="nearest"?e.left<p.left?(b=-(p.left-e.left+o),t>0&&e.right>p.right+b&&(b=e.right-p.right+b+o)):e.right>p.right&&(b=e.right-p.right+o,t<0&&e.left<p.left+b&&(b=-(p.left+b-e.left+o))):b=(i=="center"?e.left+(e.right-e.left)/2-(p.right-p.left)/2:i=="start"==a?e.left-o:e.right-(p.right-p.left)+o)-p.left,b||x)if(m)c.scrollBy(b,x);else{let k=0,C=0;if(x){let S=f.scrollTop;f.scrollTop+=x/v,C=(f.scrollTop-S)*v}if(b){let S=f.scrollLeft;f.scrollLeft+=b/g,k=(f.scrollLeft-S)*g}e={left:e.left-k,top:e.top-C,right:e.right-k,bottom:e.bottom-C},k&&Math.abs(k-b)<1&&(i="nearest"),C&&Math.abs(C-x)<1&&(r="nearest")}if(m)break;f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function s5(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class a5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?As(t):0),i,Math.min(e.focusOffset,i?As(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let kl=null;function Aj(n){if(n.setActive)return n.setActive();if(kl)return n.focus(kl);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(kl==null?{get preventScroll(){return kl={preventScroll:!0},!0}}:void 0),!kl){kl=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],o=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=o&&(i.scrollLeft=o)}}}let Cy;function Za(n,e,t=e){let i=Cy||(Cy=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Ul(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function l5(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function Rj(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function c5(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,As(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=As(t))}else{if(t==n)return!0;i=xu(t),t=t.parentNode}}function Lj(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}class _r{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new _r(e.parentNode,xu(e),t)}static after(e,t){return new _r(e.parentNode,xu(e)+1,t)}}const Tv=[];class vi{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,r=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=r?r.nextSibling:i.firstChild)){let a=vi.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,t),s.flags&=-8}if(o=r?r.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&o!=s.dom&&(t.written=!0),s.dom.parentNode==i)for(;o&&o!=s.dom;)o=Oy(o);else i.insertBefore(s.dom,o);r=s.dom}for(o=r?r.nextSibling:i.firstChild,o&&t&&t.node==i&&(t.written=!0);o;)o=Oy(o)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=As(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;r==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?r=-1:r=1),e=o}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!vi.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==i)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,o=-1,s=-1,a=-1;for(let l=0,c=i,f=i;l<this.children.length;l++){let h=this.children[l],p=c+h.length;if(c<e&&p>t)return h.domBoundsAround(e,t,c);if(p>=e&&r==-1&&(r=l,o=c),c>t&&h.dom.parentNode==this.dom){s=l,a=f;break}f=p,c=p+h.breakAfter}return{from:o,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Tv){this.markDirty();for(let r=e;r<t;r++){let o=this.children[r];o.parent==this&&i.indexOf(o)<0&&o.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Ij(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,r,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}vi.prototype.breakAfter=0;function Oy(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Ij{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Nj(n,e,t,i,r,o,s,a,l){let{children:c}=n,f=c.length?c[e]:null,h=o.length?o[o.length-1]:null,p=h?h.breakAfter:s;if(!(e==i&&f&&!s&&!p&&o.length<2&&f.merge(t,r,o.length?h:null,t==0,a,l))){if(i<c.length){let m=c[i];m&&(r<m.length||m.breakAfter&&(h!=null&&h.breakAfter))?(e==i&&(m=m.split(r),r=0),!p&&h&&m.merge(0,r,h,!0,0,l)?o[o.length-1]=m:((r||m.children.length&&!m.children[0].length)&&m.merge(0,r,null,!1,0,l),o.push(m))):m!=null&&m.breakAfter&&(h?h.breakAfter=1:s=1),i++}for(f&&(f.breakAfter=s,t>0&&(!s&&o.length&&f.merge(t,f.length,o[0],!1,a,0)?f.breakAfter=o.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,a,0),e++));e<i&&o.length;)if(c[i-1].become(o[o.length-1]))i--,o.pop(),l=o.length?0:a;else if(c[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||o.length)&&n.replaceChildren(e,i,o)}}function Bj(n,e,t,i,r,o){let s=n.childCursor(),{i:a,off:l}=s.findPos(t,1),{i:c,off:f}=s.findPos(e,-1),h=e-t;for(let p of i)h+=p.length;n.length+=h,Nj(n,c,f,a,l,i,0,r,o)}let Qr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Gm=typeof document<"u"?document:{documentElement:{style:{}}};const Km=/Edge\/(\d+)/.exec(Qr.userAgent),Dj=/MSIE \d/.test(Qr.userAgent),Xm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Qr.userAgent),Vd=!!(Dj||Xm||Km),$y=!Vd&&/gecko\/(\d+)/i.test(Qr.userAgent),Bp=!Vd&&/Chrome\/(\d+)/.exec(Qr.userAgent),My="webkitFontSmoothing"in Gm.documentElement.style,zj=!Vd&&/Apple Computer/.test(Qr.vendor),Py=zj&&(/Mobile\/\w+/.test(Qr.userAgent)||Qr.maxTouchPoints>2);var zt={mac:Py||/Mac/.test(Qr.platform),windows:/Win/.test(Qr.platform),linux:/Linux|X11/.test(Qr.platform),ie:Vd,ie_version:Dj?Gm.documentMode||6:Xm?+Xm[1]:Km?+Km[1]:0,gecko:$y,gecko_version:$y?+(/Firefox\/(\d+)/.exec(Qr.userAgent)||[0,0])[1]:0,chrome:!!Bp,chrome_version:Bp?+Bp[1]:0,ios:Py,android:/Android\b/.test(Qr.userAgent),webkit:My,safari:zj,webkit_version:My?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Gm.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const u5=256;class Rs extends vi{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof Rs)||this.length-(t-e)+i.length>u5||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Rs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new _r(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return f5(this.dom,e,t)}}class Ls extends vi{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(Rj(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,o,s){return i&&(!(i instanceof Ls&&i.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0)?!1:(Bj(this,e,t,i?i.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,o=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=o),i=l,o++}let s=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Ls(this.mark,t,s)}domAtPos(e){return qj(this,e)}coordsAt(e,t){return Hj(this,e,t)}}function f5(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,o=e,s=0;e==0&&t<0||e==i&&t>=0?zt.chrome||zt.gecko||(e?(r--,s=1):o<i&&(o++,s=-1)):t<0?r--:o<i&&o++;let a=Za(n,r,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:t>=0)?0:a.length-1];return zt.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?Hd(l,s<0):l||null}class ta extends vi{static create(e,t,i){return new ta(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=ta.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,o,s){return i&&(!(i instanceof ta)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof ta&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Un.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):Un.empty}domAtPos(e){return(this.length?e==0:this.side>0)?_r.before(this.dom):_r.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?r.length-1:0;o=r[a],!(e>0?a==0:a==r.length-1||o.top<o.bottom);a+=s?-1:1);return Hd(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class sc extends vi{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof sc&&e.side==this.side}split(){return new sc(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?_r.before(this.dom):_r.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Un.empty}get isHidden(){return!0}}Rs.prototype.children=ta.prototype.children=sc.prototype.children=Tv;function qj(n,e){let t=n.dom,{children:i}=n,r=0;for(let o=0;r<i.length;r++){let s=i[r],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=r;o>0;o--){let s=i[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=r;o<i.length;o++){let s=i[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new _r(t,0)}function Fj(n,e,t){let i,{children:r}=n;t>0&&e instanceof Ls&&r.length&&(i=r[r.length-1])instanceof Ls&&i.mark.eq(e.mark)?Fj(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function Hj(n,e,t){let i=null,r=-1,o=null,s=-1;function a(c,f){for(let h=0,p=0;h<c.children.length&&p<=f;h++){let m=c.children[h],g=p+m.length;g>=f&&(m.children.length?a(m,f-p):(!o||o.isHidden&&t>0)&&(g>f||p==g&&m.getSide()>0)?(o=m,s=f-p):(p<f||p==g&&m.getSide()<0&&!m.isHidden)&&(i=m,r=f-p)),p=g}}a(n,e);let l=(t<0?i:o)||i||o;return l?l.coordsAt(Math.max(0,l==i?r:s),t):h5(n)}function h5(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=oc(e);return t[t.length-1]||null}function Ym(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Ty=Object.create(null);function Ev(n,e,t){if(n==e)return!0;n||(n=Ty),e||(e=Ty);let i=Object.keys(n),r=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let o of i)if(o!=t&&(r.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function eg(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function d5(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class Xi extends vi{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,o,s){if(i){if(!(i instanceof Xi))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),Bj(this,e,t,i?i.children.slice():[],o,s),!0}split(e){let t=new Xi;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let o=i;o<this.children.length;o++)t.append(this.children[o],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Ev(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){Fj(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=Ym(t,this.attrs||{})),i&&(this.attrs=Ym({class:i},this.attrs||{}))}domAtPos(e){return qj(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(Rj(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(eg(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&vi.get(r)instanceof Ls;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=vi.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!zt.ios||!this.children.some(o=>o instanceof Rs))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Rs)||/[^ -~]/.test(i.text))return null;let r=oc(i.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=Hj(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,o=i.bottom-i.top;if(Math.abs(o-r.lineHeight)<2&&r.textHeight<o){let s=(o-r.textHeight)/2;return{top:i.top+s,bottom:i.bottom-s,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let o=e.children[i],s=r+o.length;if(s>=t){if(o instanceof Xi)return o;if(s>t)break}r=s+o.breakAfter}return null}}class oa extends vi{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,o,s){return i&&(!(i instanceof oa)||!this.widget.compare(i.widget)||e>0&&o<=0||t<this.length&&s<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?_r.before(this.dom):_r.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new oa(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return Tv}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Un.empty}domBoundsAround(){return null}become(e){return e instanceof oa&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class fs{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}destroy(e){}}var Tr=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Tr||(Tr={}));class Ut extends Qa{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Gu(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new ma(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:o,end:s}=Vj(e,t);i=(o?t?-3e8:-1:5e8)-1,r=(s?t?2e8:1:-6e8)+1}return new ma(e,i,r,t,e.widget||null,!0)}static line(e){return new Ku(e)}static set(e,t=!1){return Xn.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ut.none=Xn.empty;class Gu extends Ut{constructor(e){let{start:t,end:i}=Vj(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof Gu&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Ev(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Gu.prototype.point=!1;class Ku extends Ut{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ku&&this.spec.class==e.spec.class&&Ev(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Ku.prototype.mapMode=mr.TrackBefore;Ku.prototype.point=!0;class ma extends Ut{constructor(e,t,i,r,o,s){super(t,i,o,e),this.block=r,this.isReplace=s,this.mapMode=r?t<=0?mr.TrackBefore:mr.TrackAfter:mr.TrackDel}get type(){return this.startSide!=this.endSide?Tr.WidgetRange:this.startSide<=0?Tr.WidgetBefore:Tr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ma&&p5(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}ma.prototype.point=!0;function Vj(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function p5(n,e){return n==e||!!(n&&e&&n.compare(e))}function tg(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class su{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof oa&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Xi),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Mf(new sc(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof oa)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Mf(new Rs(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,o,s){if(this.disallowBlockEffectsFor[s]&&i instanceof ma){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof ma)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new oa(i.widget||new Ey("div"),a,i));else{let l=ta.create(i.widget||new Ey("span"),a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&o<=r.length&&(e<t||i.startSide>0),f=!l.isEditable&&(e<t||o>r.length||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(Mf(new sc(1),r),o),o=r.length+Math.max(0,o-r.length)),h.append(Mf(l,r),o),this.atCursorPos=f,this.pendingBuffer=f?e<t||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,i,r,o){let s=new su(e,t,i,o);return s.openEnd=Xn.spans(r,t,i,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Mf(n,e){for(let t of e)n=new Ls(t,[n],n.length);return n}class Ey extends fs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Wj=Rt.define(),Uj=Rt.define(),Qj=Rt.define(),Zj=Rt.define(),ng=Rt.define(),Jj=Rt.define(),Gj=Rt.define(),Kj=Rt.define({combine:n=>n.some(e=>e)}),Xj=Rt.define({combine:n=>n.some(e=>e)});class Ql{constructor(e,t="nearest",i="nearest",r=5,o=5,s=!1){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new Ql(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Ql(He.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Pf=mn.define({map:(n,e)=>n.map(e)});function Gr(n,e,t){let i=n.facet(Zj);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Wd=Rt.define({combine:n=>n.length?n[0]:!0});let m5=0;const Jc=Rt.define();class ki{constructor(e,t,i,r,o){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=r,this.extension=o(this)}static define(e,t){const{eventHandlers:i,eventObservers:r,provide:o,decorations:s}=t||{};return new ki(m5++,e,i,r,a=>{let l=[Jc.of(a)];return s&&l.push(wu.of(c=>{let f=c.plugin(a);return f?s(f):Ut.none})),o&&l.push(o(a)),l})}static fromClass(e,t){return ki.define(i=>new e(i),t)}}class Dp{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Gr(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Gr(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Gr(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Yj=Rt.define(),Av=Rt.define(),wu=Rt.define(),Rv=Rt.define(),eS=Rt.define();function Ay(n,e,t){let i=n.state.facet(eS);if(!i.length)return i;let r=i.map(s=>s instanceof Function?s(n):s),o=[];return Xn.spans(r,e,t,{point(){},span(s,a,l,c){let f=o;for(let h=l.length-1;h>=0;h--,c--){let p=l[h].spec.bidiIsolate,m;if(p!=null)if(c>0&&f.length&&(m=f[f.length-1]).to==s&&m.direction==p)m.to=a,f=m.inner;else{let g={from:s,to:a,direction:p,inner:[]};f.push(g),f=g.inner}}}}),o}const tS=Rt.define();function nS(n){let e=0,t=0,i=0,r=0;for(let o of n.state.facet(tS)){let s=o(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(i=Math.max(i,s.top)),s.bottom!=null&&(r=Math.max(r,s.bottom)))}return{left:e,right:t,top:i,bottom:r}}const Gc=Rt.define();class fo{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new fo(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,o=0,s=0,a=0;;r++){let l=r==e.length?null:e[r],c=s-a,f=l?l.fromB:1e9;for(;o<t.length&&t[o]<f;){let h=t[o],p=t[o+1],m=Math.max(a,h),g=Math.min(f,p);if(m<=g&&new fo(m+c,g+c,m,g).addToSet(i),p>f)break;o+=2}if(!l)return i;new fo(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),s=l.toA,a=l.toB}}}class Wh{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Yi.empty(this.startState.doc.length);for(let o of i)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,s,a,l)=>r.push(new fo(o,s,a,l))),this.changedRanges=r}static create(e,t,i){return new Wh(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Pi=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Pi||(Pi={}));const ku=Pi.LTR,iS=Pi.RTL;function rS(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const g5=rS("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),v5=rS("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ig=Object.create(null),Bo=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);ig[e]=t,ig[t]=-e}function y5(n){return n<=247?g5[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?v5[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const b5=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class na{get dir(){return this.level%2?iS:ku}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=t&&a.to>=t){if(a.level==i)return s;(o<0||(r!=0?r<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function oS(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!oS(i.inner,r.inner))return!1}return!0}const ci=[];function x5(n,e,t,i,r){for(let o=0;o<=i.length;o++){let s=o?i[o-1].to:e,a=o<i.length?i[o].from:t,l=o?256:r;for(let c=s,f=l,h=l;c<a;c++){let p=y5(n.charCodeAt(c));p==512?p=f:p==8&&h==4&&(p=16),ci[c]=p==4?2:p,p&7&&(h=p),f=p}for(let c=s,f=l,h=l;c<a;c++){let p=ci[c];if(p==128)c<a-1&&f==ci[c+1]&&f&24?p=ci[c]=f:ci[c]=256;else if(p==64){let m=c+1;for(;m<a&&ci[m]==64;)m++;let g=c&&f==8||m<t&&ci[m]==8?h==1?1:8:256;for(let v=c;v<m;v++)ci[v]=g;c=m-1}else p==8&&h==1&&(ci[c]=1);f=p,p&7&&(h=p)}}}function w5(n,e,t,i,r){let o=r==1?2:1;for(let s=0,a=0,l=0;s<=i.length;s++){let c=s?i[s-1].to:e,f=s<i.length?i[s].from:t;for(let h=c,p,m,g;h<f;h++)if(m=ig[p=n.charCodeAt(h)])if(m<0){for(let v=a-3;v>=0;v-=3)if(Bo[v+1]==-m){let b=Bo[v+2],x=b&2?r:b&4?b&1?o:r:0;x&&(ci[h]=ci[Bo[v]]=x),a=v;break}}else{if(Bo.length==189)break;Bo[a++]=h,Bo[a++]=p,Bo[a++]=l}else if((g=ci[h])==2||g==1){let v=g==r;l=v?0:1;for(let b=a-3;b>=0;b-=3){let x=Bo[b+2];if(x&2)break;if(v)Bo[b+2]|=2;else{if(x&4)break;Bo[b+2]|=4}}}}}function k5(n,e,t,i){for(let r=0,o=i;r<=t.length;r++){let s=r?t[r-1].to:n,a=r<t.length?t[r].from:e;for(let l=s;l<a;){let c=ci[l];if(c==256){let f=l+1;for(;;)if(f==a){if(r==t.length)break;f=t[r++].to,a=r<t.length?t[r].from:e}else if(ci[f]==256)f++;else break;let h=o==1,p=(f<e?ci[f]:i)==1,m=h==p?h?1:2:i;for(let g=f,v=r,b=v?t[v-1].to:n;g>l;)g==b&&(g=t[--v].from,b=v?t[v-1].to:n),ci[--g]=m;l=f}else o=c,l++}}}function rg(n,e,t,i,r,o,s){let a=i%2?2:1;if(i%2==r%2)for(let l=e,c=0;l<t;){let f=!0,h=!1;if(c==o.length||l<o[c].from){let v=ci[l];v!=a&&(f=!1,h=v==16)}let p=!f&&a==1?[]:null,m=f?i:i+1,g=l;e:for(;;)if(c<o.length&&g==o[c].from){if(h)break e;let v=o[c];if(!f)for(let b=v.to,x=c+1;;){if(b==t)break e;if(x<o.length&&o[x].from==b)b=o[x++].to;else{if(ci[b]==a)break e;break}}if(c++,p)p.push(v);else{v.from>l&&s.push(new na(l,v.from,m));let b=v.direction==ku!=!(m%2);og(n,b?i+1:i,r,v.inner,v.from,v.to,s),l=v.to}g=v.to}else{if(g==t||(f?ci[g]!=a:ci[g]==a))break;g++}p?rg(n,l,g,i+1,r,p,s):l<g&&s.push(new na(l,g,m)),l=g}else for(let l=t,c=o.length;l>e;){let f=!0,h=!1;if(!c||l>o[c-1].to){let v=ci[l-1];v!=a&&(f=!1,h=v==16)}let p=!f&&a==1?[]:null,m=f?i:i+1,g=l;e:for(;;)if(c&&g==o[c-1].to){if(h)break e;let v=o[--c];if(!f)for(let b=v.from,x=c;;){if(b==e)break e;if(x&&o[x-1].to==b)b=o[--x].from;else{if(ci[b-1]==a)break e;break}}if(p)p.push(v);else{v.to<l&&s.push(new na(v.to,l,m));let b=v.direction==ku!=!(m%2);og(n,b?i+1:i,r,v.inner,v.from,v.to,s),l=v.from}g=v.from}else{if(g==e||(f?ci[g-1]!=a:ci[g-1]==a))break;g--}p?rg(n,g,l,i+1,r,p,s):g<l&&s.push(new na(g,l,m)),l=g}}function og(n,e,t,i,r,o,s){let a=e%2?2:1;x5(n,r,o,i,a),w5(n,r,o,i,a),k5(r,o,i,a),rg(n,r,o,e,t,i,s)}function _5(n,e,t){if(!n)return[new na(0,0,e==iS?1:0)];if(e==ku&&!t.length&&!b5.test(n))return sS(n.length);if(t.length)for(;n.length>ci.length;)ci[ci.length]=256;let i=[],r=e==ku?0:1;return og(n,r,r,t,0,n.length,i),i}function sS(n){return[new na(0,n,0)]}let aS="";function j5(n,e,t,i,r){var o;let s=i.head-n.from,a=-1;if(s==0){if(!r||!n.length)return null;e[0].level!=t&&(s=e[0].side(!1,t),a=0)}else if(s==n.length){if(r)return null;let p=e[e.length-1];p.level!=t&&(s=p.side(!0,t),a=e.length-1)}a<0&&(a=na.find(e,s,(o=i.bidiLevel)!==null&&o!==void 0?o:-1,i.assoc));let l=e[a];s==l.side(r,t)&&(l=e[a+=r?1:-1],s=l.side(!r,t));let c=r==(l.dir==t),f=gr(n.text,s,c);if(aS=n.text.slice(Math.min(s,f),Math.max(s,f)),f>l.from&&f<l.to)return He.cursor(f+n.from,c?-1:1,l.level);let h=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return!h&&l.level!=t?He.cursor(r?n.to:n.from,r?-1:1,t):h&&h.level<l.level?He.cursor(h.side(!r,t)+n.from,r?1:-1,h.level):He.cursor(f+n.from,r?-1:1,l.level)}class Ry extends vi{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Xi],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new fo(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:f})=>f<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!T5(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let o=r>-1?C5(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:f}=this.hasComposition;i=new fo(c,f,e.changes.mapPos(c,-1),e.changes.mapPos(f,1)).addToSet(i.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(zt.ie||zt.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=M5(s,a,e.changes);return i=fo.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=zt.chrome||zt.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof oa&&s.widget instanceof Ly&&o.push(s.dom);r.updateGaps(o)}updateChildren(e,t,i){let r=i?i.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let s=r.length-1;;s--){let a=s>=0?r[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:f,toB:h}=a,p,m,g,v;if(i&&i.range.fromB<h&&i.range.toB>f){let S=su.build(this.view.state.doc,f,i.range.fromB,this.decorations,this.dynamicDecorationMap),_=su.build(this.view.state.doc,i.range.toB,h,this.decorations,this.dynamicDecorationMap);m=S.breakAtStart,g=S.openStart,v=_.openEnd;let E=this.compositionView(i);_.breakAtStart?E.breakAfter=1:_.content.length&&E.merge(E.length,E.length,_.content[0],!1,_.openStart,0)&&(E.breakAfter=_.content[0].breakAfter,_.content.shift()),S.content.length&&E.merge(0,0,S.content[S.content.length-1],!0,0,S.openEnd)&&S.content.pop(),p=S.content.concat(E).concat(_.content)}else({content:p,breakAtStart:m,openStart:g,openEnd:v}=su.build(this.view.state.doc,f,h,this.decorations,this.dynamicDecorationMap));let{i:b,off:x}=o.findPos(c,1),{i:k,off:C}=o.findPos(l,-1);Nj(this,k,C,b,x,p,m,g,v)}i&&this.fixCompositionDOM(i)}compositionView(e){let t=new Rs(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new Ls(r,[t],t.length);let i=new Xi;return i.append(t,0),i}fixCompositionDOM(e){let t=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=vi.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];t(e.line,r);for(let o=e.marks.length-1;o>=-1;o--)i=r.childPos(i.off,1),r=r.children[i.i],t(o>=0?e.marks[o].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,o=!r&&Sh(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||t||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(zt.gecko&&a.empty&&!this.hasComposition&&S5(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new _r(h,0),s=!0}let f=this.view.observer.selectionRange;(s||!f.focusNode||!Vh(l.node,l.offset,f.anchorNode,f.anchorOffset)||!Vh(c.node,c.offset,f.focusNode,f.focusOffset))&&(this.view.observer.ignore(()=>{zt.android&&zt.chrome&&this.dom.contains(f.focusNode)&&P5(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=Hh(this.view.root);if(h)if(a.empty){if(zt.gecko){let p=O5(l.node,l.offset);if(p&&p!=3){let m=cS(l.node,l.offset,p==1?1:-1);m&&(l=new _r(m.node,m.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let p=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),p.setEnd(c.node,c.offset),p.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(p)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new _r(f.anchorNode,f.anchorOffset),this.impreciseHead=c.precise?null:new _r(f.focusNode,f.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=Hh(e.root),{anchorNode:r,anchorOffset:o}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let s=Xi.find(this,t.head);if(!s)return;let a=s.posAtStart;if(t.head==a||t.head==a+s.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let f=this.domAtPos(t.head+t.assoc);i.collapse(f.node,f.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&i.collapse(r,o)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let r=e.offset;!i&&r<t.childNodes.length;r++){let o=vi.get(t.childNodes[r]);o instanceof Xi&&(i=o.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let o=vi.get(t.childNodes[r]);o instanceof Xi&&(i=o.domAtPos(o.length))}return i?new _r(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=vi.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof Xi)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,r=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<e)break;c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof Xi&&!(i instanceof Xi&&t>=0))&&(i=a,r=c),o=c}return i?i.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),r=this.children[t];if(!(r instanceof Xi))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof Rs))return null;let o=gr(r.text,i);if(o==i)return null;let s=Za(r.dom,i,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Pi.LTR;for(let c=0,f=0;f<this.children.length;f++){let h=this.children[f],p=c+h.length;if(p>r)break;if(c>=i){let m=h.dom.getBoundingClientRect();if(t.push(m.height),s){let g=h.dom.lastChild,v=g?oc(g):[];if(v.length){let b=v[v.length-1],x=l?b.right-m.left:m.right-b.left;x>a&&(a=x,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=p)}}}c=p+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Pi.RTL:Pi.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Xi){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),t,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=oc(e.firstChild)[0];t=e.getBoundingClientRect().height,i=o?o.width/27:7,r=o?o.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Ij(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],s=o?o.from-1:this.length;if(s>i){let a=(t.lineBlockAt(s).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Ut.replace({widget:new Ly(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,s))}if(!o)break;i=o.to+1}return Ut.set(e)}updateDeco(){let e=this.view.state.facet(wu).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let o=nS(this.view),s={left:i.left-o.left,top:i.top-o.top,right:i.right+o.right,bottom:i.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;o5(this.view.scrollDOM,s,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Pi.LTR)}}function S5(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class Ly extends fs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function lS(n,e){let t=n.observer.selectionRange,i=t.focusNode&&cS(t.focusNode,t.focusOffset,0);if(!i)return null;let r=e-i.offset;return{from:r,to:r+i.node.nodeValue.length,node:i.node}}function C5(n,e,t){let i=lS(n,t);if(!i)return null;let{node:r,from:o,to:s}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,c=new fo(l.mapPos(o),l.mapPos(s),o,s),f=[];for(let h=r.parentNode;;h=h.parentNode){let p=vi.get(h);if(p instanceof Ls)f.push({node:h,deco:p.mark});else{if(p instanceof Xi||h.nodeName=="DIV"&&h.parentNode==n.contentDOM)return{range:c,text:r,marks:f,line:h};if(h!=n.contentDOM)f.push({node:h,deco:new Gu({inclusive:!0,attributes:d5(h),tagName:h.tagName.toLowerCase()})});else return null}}}function cS(n,e,t){if(t<=0)for(let i=n,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r>0)i=i.childNodes[r-1],r=As(i);else break}if(t>=0)for(let i=n,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r<i.childNodes.length&&t>=0)i=i.childNodes[r],r=0;else break}return null}function O5(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let $5=class{constructor(){this.changes=[]}compareRange(e,t){tg(e,t,this.changes)}comparePoint(e,t){tg(e,t,this.changes)}};function M5(n,e,t){let i=new $5;return Xn.compare(n,e,t,i),i.changes}function P5(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function T5(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}function E5(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),o=e-r.from;if(r.length==0)return He.cursor(e);o==0?t=1:o==r.length&&(t=-1);let s=o,a=o;t<0?s=gr(r.text,o,!1):a=gr(r.text,o);let l=i(r.text.slice(s,a));for(;s>0;){let c=gr(r.text,s,!1);if(i(r.text.slice(c,s))!=l)break;s=c}for(;a<r.length;){let c=gr(r.text,a);if(i(r.text.slice(a,c))!=l)break;a=c}return He.range(s+r.from,a+r.from)}function A5(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function R5(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function zp(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Iy(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Ny(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function sg(n,e,t){let i,r,o,s,a=!1,l,c,f,h;for(let g=n.firstChild;g;g=g.nextSibling){let v=oc(g);for(let b=0;b<v.length;b++){let x=v[b];r&&zp(r,x)&&(x=Iy(Ny(x,r.bottom),r.top));let k=A5(e,x),C=R5(t,x);if(k==0&&C==0)return g.nodeType==3?By(g,e,t):sg(g,e,t);if(!i||s>C||s==C&&o>k){i=g,r=x,o=k,s=C;let S=C?t<x.top?-1:1:k?e<x.left?-1:1:0;a=!S||(S>0?b<v.length-1:b>0)}k==0?t>x.bottom&&(!f||f.bottom<x.bottom)?(l=g,f=x):t<x.top&&(!h||h.top>x.top)&&(c=g,h=x):f&&zp(f,x)?f=Ny(f,x.bottom):h&&zp(h,x)&&(h=Iy(h,x.top))}}if(f&&f.bottom>=t?(i=l,r=f):h&&h.top<=t&&(i=c,r=h),!i)return{node:n,offset:0};let p=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return By(i,p,t);if(a&&i.contentEditable!="false")return sg(i,p,t);let m=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:m}}function By(n,e,t){let i=n.nodeValue.length,r=-1,o=1e9,s=0;for(let a=0;a<i;a++){let l=Za(n,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let f=l[c];if(f.top==f.bottom)continue;s||(s=e-f.left);let h=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&h<o){let p=e>=(f.left+f.right)/2,m=p;if((zt.chrome||zt.gecko)&&Za(n,a).getBoundingClientRect().left==f.right&&(m=!p),h<=0)return{node:n,offset:a+(m?1:0)};r=a+(m?1:0),o=h}}}return{node:n,offset:r>-1?r:s>0?n.nodeValue.length:0}}function uS(n,e,t,i=-1){var r,o;let s=n.contentDOM.getBoundingClientRect(),a=s.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:f,y:h}=e,p=h-a;if(p<0)return 0;if(p>c)return n.state.doc.length;for(let S=n.viewState.heightOracle.textHeight/2,_=!1;l=n.elementAtHeight(p),l.type!=Tr.Text;)for(;p=i>0?l.bottom+S:l.top-S,!(p>=0&&p<=c);){if(_)return t?null:0;_=!0,i=-i}h=a+p;let m=l.from;if(m<n.viewport.from)return n.viewport.from==0?0:t?null:Dy(n,s,l,f,h);if(m>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Dy(n,s,l,f,h);let g=n.dom.ownerDocument,v=n.root.elementFromPoint?n.root:g,b=v.elementFromPoint(f,h);b&&!n.contentDOM.contains(b)&&(b=null),b||(f=Math.max(s.left+1,Math.min(s.right-1,f)),b=v.elementFromPoint(f,h),b&&!n.contentDOM.contains(b)&&(b=null));let x,k=-1;if(b&&((r=n.docView.nearest(b))===null||r===void 0?void 0:r.isEditable)!=!1){if(g.caretPositionFromPoint){let S=g.caretPositionFromPoint(f,h);S&&({offsetNode:x,offset:k}=S)}else if(g.caretRangeFromPoint){let S=g.caretRangeFromPoint(f,h);S&&({startContainer:x,startOffset:k}=S,(!n.contentDOM.contains(x)||zt.safari&&L5(x,k,f)||zt.chrome&&I5(x,k,f))&&(x=void 0))}}if(!x||!n.docView.dom.contains(x)){let S=Xi.find(n.docView,m);if(!S)return p>l.top+l.height/2?l.to:l.from;({node:x,offset:k}=sg(S.dom,f,h))}let C=n.docView.nearest(x);if(!C)return null;if(C.isWidget&&((o=C.dom)===null||o===void 0?void 0:o.nodeType)==1){let S=C.dom.getBoundingClientRect();return e.y<S.top||e.y<=S.bottom&&e.x<=(S.left+S.right)/2?C.posAtStart:C.posAtEnd}else return C.localPosFromDOM(x,k)+C.posAtStart}function Dy(n,e,t,i,r){let o=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((r-t.top-(n.defaultLineHeight-a)*.5)/a);o+=l*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+Um(s,o,n.state.tabSize)}function L5(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return Za(n,i-1,i).getBoundingClientRect().left>t}function I5(n,e,t){if(e!=0)return!1;for(let r=n;;){let o=r.parentNode;if(!o||o.nodeType!=1||o.firstChild!=r)return!1;if(o.classList.contains("cm-line"))break;r=o}let i=n.nodeType==1?n.getBoundingClientRect():Za(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function ag(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==Tr.Text))return i}return t}function N5(n,e,t,i){let r=ag(n,e.head),o=!i||r.type!=Tr.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(o){let s=n.dom.getBoundingClientRect(),a=n.textDirectionAt(r.from),l=n.posAtCoords({x:t==(a==Pi.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return He.cursor(l,t?-1:1)}return He.cursor(t?r.to:r.from,t?-1:1)}function zy(n,e,t,i){let r=n.state.doc.lineAt(e.head),o=n.bidiSpans(r),s=n.textDirectionAt(r.from);for(let a=e,l=null;;){let c=j5(r,o,s,a,t),f=aS;if(!c){if(r.number==(t?n.state.doc.lines:1))return a;f=`
`,r=n.state.doc.line(r.number+(t?1:-1)),o=n.bidiSpans(r),c=He.cursor(t?r.from:r.to)}if(l){if(!l(f))return a}else{if(!i)return c;l=i(f)}a=c}}function B5(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return o=>{let s=i(o);return r==wi.Space&&(r=s),r==s}}function D5(n,e,t,i){let r=e.head,o=t?1:-1;if(r==(t?n.state.doc.length:0))return He.cursor(r,e.assoc);let s=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r,e.assoc||-1),f=n.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let m=n.viewState.lineBlockAt(r);s==null&&(s=Math.min(l.right-l.left,n.defaultCharacterWidth*(r-m.from))),a=(o<0?m.top:m.bottom)+f}let h=l.left+s,p=i??n.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=a+(p+m)*o,v=uS(n,{x:h,y:g},!1,o);if(g<l.top||g>l.bottom||(o<0?v<r:v>r)){let b=n.docView.coordsForChar(v),x=!b||g<b.top?-1:1;return He.cursor(v,x,void 0,s)}}}function Ch(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let l=i||t||(e-o<s-e?-1:1);e=l<0?o:s,i=l}});if(!i)return e}}function qp(n,e,t){let i=Ch(n.state.facet(Rv).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:He.cursor(i,i<t.from?1:-1)}class z5{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,zt.safari&&e.contentDOM.addEventListener("input",()=>null),zt.gecko&&nM(e.contentDOM.ownerDocument)}handleEvent(e){!Z5(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let r of i.observers)r(this.view,t);for(let r of i.handlers){if(t.defaultPrevented)break;if(r(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=q5(e),i=this.handlers,r=this.view.contentDOM;for(let o in t)if(o!="scroll"){let s=!t[o].handlers.length,a=i[o];a&&s!=!a.handlers.length&&(r.removeEventListener(o,this.handleEvent),a=null),a||r.addEventListener(o,this.handleEvent,{passive:s})}for(let o in i)o!="scroll"&&!t[o]&&r.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&hS.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),zt.android&&zt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return zt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=fS.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||F5.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Ul(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:zt.safari&&!zt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function qy(n,e){return(t,i)=>{try{return e.call(n,i,t)}catch(r){Gr(t.state,r)}}}function q5(n){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of n){let r=i.spec;if(r&&r.domEventHandlers)for(let o in r.domEventHandlers){let s=r.domEventHandlers[o];s&&t(o).handlers.push(qy(i.value,s))}if(r&&r.domEventObservers)for(let o in r.domEventObservers){let s=r.domEventObservers[o];s&&t(o).observers.push(qy(i.value,s))}}for(let i in Po)t(i).handlers.push(Po[i]);for(let i in To)t(i).observers.push(To[i]);return e}const fS=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],F5="dthko",hS=[16,17,18,20,91,92,224,225],Tf=6;function Ef(n){return Math.max(0,n)*.7+8}function H5(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class V5{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=s5(e.contentDOM),this.atoms=e.state.facet(Rv).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(wn.allowMultipleSelections)&&W5(e,t),this.dragging=Q5(e,t)&&gS(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&H5(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,r=0,o=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},s=nS(this.view);e.clientX-s.left<=o.left+Tf?i=-Ef(o.left-e.clientX):e.clientX+s.right>=o.right-Tf&&(i=Ef(e.clientX-o.right)),e.clientY-s.top<=o.top+Tf?r=-Ef(o.top-e.clientY):e.clientY+s.bottom>=o.bottom-Tf&&(r=Ef(e.clientY-o.bottom)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],o=null;if(r.empty){let s=Ch(this.atoms,r.from,0);s!=r.from&&(o=He.cursor(s,-1))}else{let s=Ch(this.atoms,r.from,-1),a=Ch(this.atoms,r.to,1);(s!=r.from||a!=r.to)&&(o=He.range(r.from==r.anchor?s:a,r.from==r.head?s:a))}o&&(t||(t=e.ranges.slice()),t[i]=o)}return t?He.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function W5(n,e){let t=n.state.facet(Wj);return t.length?t[0](e):zt.mac?e.metaKey:e.ctrlKey}function U5(n,e){let t=n.state.facet(Uj);return t.length?t[0](e):zt.mac?!e.altKey:!e.ctrlKey}function Q5(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Hh(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function Z5(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=vi.get(t))&&i.ignoreEvent(e))return!1;return!0}const Po=Object.create(null),To=Object.create(null),dS=zt.ie&&zt.ie_version<15||zt.ios&&zt.webkit_version<604;function J5(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),pS(n,t.value)},50)}function pS(n,e){let{state:t}=n,i,r=1,o=t.toText(e),s=o.lines==t.selection.ranges.length;if(lg!=null&&t.selection.ranges.every(l=>l.empty)&&lg==o.toString()){let l=-1;i=t.changeByRange(c=>{let f=t.doc.lineAt(c.from);if(f.from==l)return{range:c};l=f.from;let h=t.toText((s?o.line(r++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:h},range:He.cursor(c.from+h.length)}})}else s?i=t.changeByRange(l=>{let c=o.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:He.cursor(l.from+c.length)}}):i=t.replaceSelection(o);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}To.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Po.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&(n.inputState.lastEscPress=Date.now()),!1);To.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};To.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Po.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of n.state.facet(Qj))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=X5(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new V5(n,e,t,i)),i&&n.observer.ignore(()=>Aj(n.contentDOM));let r=n.inputState.mouseSelection;if(r)return r.start(e),r.dragging===!1}return!1};function Fy(n,e,t,i){if(i==1)return He.cursor(e,t);if(i==2)return E5(n.state,e,t);{let r=Xi.find(n.docView,e),o=n.state.doc.lineAt(r?r.posAtEnd:e),s=r?r.posAtStart:o.from,a=r?r.posAtEnd:o.to;return a<n.state.doc.length&&a==o.to&&a++,He.range(s,a)}}let mS=(n,e)=>n>=e.top&&n<=e.bottom,Hy=(n,e,t)=>mS(e,t)&&n>=t.left&&n<=t.right;function G5(n,e,t,i){let r=Xi.find(n.docView,e);if(!r)return 1;let o=e-r.posAtStart;if(o==0)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&Hy(t,i,s))return-1;let a=r.coordsAt(o,1);return a&&Hy(t,i,a)?1:s&&mS(i,s)?-1:1}function Vy(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:G5(n,t,e.clientX,e.clientY)}}const K5=zt.ie&&zt.ie_version<=11;let Wy=null,Uy=0,Qy=0;function gS(n){if(!K5)return n.detail;let e=Wy,t=Qy;return Wy=n,Qy=Date.now(),Uy=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Uy+1)%3:1}function X5(n,e){let t=Vy(n,e),i=gS(e),r=n.state.selection;return{update(o){o.docChanged&&(t.pos=o.changes.mapPos(t.pos),r=r.map(o.changes))},get(o,s,a){let l=Vy(n,o),c,f=Fy(n,l.pos,l.bias,i);if(t.pos!=l.pos&&!s){let h=Fy(n,t.pos,t.bias,i),p=Math.min(h.from,f.from),m=Math.max(h.to,f.to);f=p<f.from?He.range(p,m):He.range(m,p)}return s?r.replaceRange(r.main.extend(f.from,f.to)):a&&i==1&&r.ranges.length>1&&(c=Y5(r,l.pos))?c:a?r.addRange(f):He.create([f])}}}function Y5(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return He.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Po.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let r=n.docView.nearest(e.target);if(r&&r.isWidget){let o=r.posAtStart,s=o+r.length;(o>=t.to||s<=t.from)&&(t=He.range(o,s))}}let{inputState:i}=n;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove"),!1};Po.dragend=n=>(n.inputState.draggedContent=null,!1);function Zy(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,s=i&&o&&U5(n,e)?{from:o.from,to:o.to}:null,a={from:r,insert:t},l=n.state.changes(s?[s,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Po.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),r=0,o=()=>{++r==t.length&&Zy(n,e,i.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[s]=a.result),o()},a.readAsText(t[s])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Zy(n,e,i,!0),!0}return!1};Po.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=dS?null:e.clipboardData;return t?(pS(n,t.getData("text/plain")||t.getData("text/uri-text")),!0):(J5(n),!1)};function eM(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function tM(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:o}of n.selection.ranges){let s=n.doc.lineAt(o);s.number>r&&(e.push(s.text),t.push({from:s.from,to:Math.min(n.doc.length,s.to+1)})),r=s.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let lg=null;Po.copy=Po.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=tM(n.state);if(!t&&!r)return!1;lg=r?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let o=dS?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(eM(n,t),!1)};const vS=qs.define();function yS(n,e){let t=[];for(let i of n.facet(Gj)){let r=i(n,e);r&&t.push(r)}return t?n.update({effects:t,annotations:vS.of(!0)}):null}function bS(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=yS(n.state,e);t?n.dispatch(t):n.update([])}},10)}To.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),bS(n)};To.blur=n=>{n.observer.clearSelectionRange(),bS(n)};To.compositionstart=To.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};To.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,zt.chrome&&zt.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50)};To.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Po.beforeinput=(n,e)=>{var t;let i;if(zt.chrome&&zt.android&&(i=fS.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return!1};const Jy=new Set;function nM(n){Jy.has(n)||(Jy.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Gy=["pre-wrap","normal","pre-line","break-spaces"];class iM{constructor(e){this.lineWrapping=e,this.doc=Un.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Gy.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,o,s){let a=Gy.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let f=s[c];f<0?c++:this.heightSamples[Math.floor(f*10)]=!0}}return l}}class rM{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Go{constructor(e,t,i,r,o){this.from=e,this.length=t,this.top=i,this.height=r,this._content=o}get type(){return typeof this._content=="number"?Tr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ma?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Go(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var pi=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(pi||(pi={}));const Oh=.001;class Er{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>Oh&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return Er.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let o=this,s=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:f,toB:h}=r[a],p=o.lineAt(l,pi.ByPosNoHeight,i.setDoc(t),0,0),m=p.to>=c?p:o.lineAt(c,pi.ByPosNoHeight,i,0,0);for(h+=m.to-c,c=m.to;a>0&&p.from<=r[a-1].toA;)l=r[a-1].fromA,f=r[a-1].fromB,a--,l<p.from&&(p=o.lineAt(l,pi.ByPosNoHeight,i,0,0));f+=p.from-l,l=p.from;let g=Lv.build(i.setDoc(s),e,f,h);o=o.replace(l,c,g)}return o.updateHeight(i,0)}static empty(){return new Vr(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,o=0;for(;;)if(t==i)if(r>o*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(o>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,o-=a.size}else break;else if(r<o){let a=e[t++];a&&(r+=a.size)}else{let a=e[--i];a&&(o+=a.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,i++),new oM(Er.of(e.slice(0,t)),s,Er.of(e.slice(i)))}}Er.prototype.size=1;class xS extends Er{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,r){return new Go(r,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,r,o){return this.blockAt(0,i,r,o)}forEachLine(e,t,i,r,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,i,r,o))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Vr extends xS{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,r){return new Go(r,this.length,i,this.height,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof Vr||r instanceof fr&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof fr?r=new Vr(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):Er.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class fr extends Er{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,o=r-i+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:i,lastLine:r,perLine:s,perChar:a}}blockAt(e,t,i,r){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(t,r);if(t.lineWrapping){let c=r+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),f=t.doc.lineAt(c),h=a+f.length*l,p=Math.max(i,e-h/2);return new Go(f.from,f.length,p,h,0)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-i)/a))),{from:f,length:h}=t.doc.line(o+c);return new Go(f,h,i+a*c,a,0)}}lineAt(e,t,i,r,o){if(t==pi.ByHeight)return this.blockAt(e,i,r,o);if(t==pi.ByPosNoHeight){let{from:m,to:g}=i.doc.lineAt(e);return new Go(m,g-m,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(i,o),c=i.doc.lineAt(e),f=a+c.length*l,h=c.number-s,p=r+a*h+l*(c.from-o-h);return new Go(c.from,c.length,Math.max(r,Math.min(p,r+this.height-f)),f,0)}forEachLine(e,t,i,r,o,s){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,o);for(let f=e,h=r;f<=t;){let p=i.doc.lineAt(f);if(f==e){let g=p.number-a;h+=l*g+c*(e-o-g)}let m=l+c*p.length;s(new Go(p.from,p.length,h,m,0)),h+=m,f=p.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let o=i[i.length-1];o instanceof fr?i[i.length-1]=new fr(o.length+r):i.push(null,new fr(r-1))}if(e>0){let o=i[0];o instanceof fr?i[0]=new fr(e+o.length):i.unshift(new fr(e-1),null)}return Er.of(i)}decomposeLeft(e,t){t.push(new fr(e-1),null)}decomposeRight(e,t){t.push(null,new fr(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let s=[],a=Math.max(t,r.from),l=-1;for(r.from>t&&s.push(new fr(r.from-t-1).updateHeight(e,t));a<=o&&r.more;){let f=e.doc.lineAt(a).length;s.length&&s.push(null);let h=r.heights[r.index++];l==-1?l=h:Math.abs(h-l)>=Oh&&(l=-2);let p=new Vr(f,h);p.outdated=!1,s.push(p),a+=f+1}a<=o&&s.push(null,new fr(o-a).updateHeight(e,a));let c=Er.of(s);return(l<0||Math.abs(c.height-this.height)>=Oh||Math.abs(l-this.heightMetrics(e,t).perLine)>=Oh)&&(e.heightChanged=!0),c}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class oM extends Er{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let o=i+this.left.height;return e<o?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,i,r,o){let s=r+this.left.height,a=o+this.left.length+this.break,l=t==pi.ByHeight?e<s:e<a,c=l?this.left.lineAt(e,t,i,r,o):this.right.lineAt(e,t,i,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let f=t==pi.ByPosNoHeight?pi.ByPosNoHeight:pi.ByPos;return l?c.join(this.right.lineAt(a,f,i,s,a)):this.left.lineAt(a,f,i,r,o).join(c)}forEachLine(e,t,i,r,o,s){let a=r+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,r,o,s),t>=l&&this.right.forEachLine(e,t,i,a,l,s);else{let c=this.lineAt(l,pi.ByPos,i,r,o);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,o,s),c.to>=e&&c.from<=t&&s(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,a,l,s)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of i)o.push(a);if(e>0&&Ky(o,s-1),t<this.length){let a=o.length;this.decomposeRight(t,o),Ky(o,a)}return Er.of(o)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Er.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:o,right:s}=this,a=t+o.length+this.break,l=null;return r&&r.from<=t+o.length&&r.more?l=o=o.updateHeight(e,t,i,r):o.updateHeight(e,t,i),r&&r.from<=a+s.length&&r.more?l=s=s.updateHeight(e,a,i,r):s.updateHeight(e,a,i),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Ky(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof fr&&(i=n[e+1])instanceof fr&&n.splice(e-1,3,new fr(t.length+1+i.length))}const sM=5;class Lv{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Vr?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Vr(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,o=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=t-e;i.block?this.addBlock(new xS(s,r,i)):(s||o||r>=sM)&&this.addLineDeco(r,o,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Vr(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new fr(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Vr)return e;let t=new Vr(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Vr)&&!this.isCovered?this.nodes.push(new Vr(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof Vr&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let o=new Lv(i,e);return Xn.spans(t,i,r,o,0),o.finish(i)}}function aM(n,e,t){let i=new lM;return Xn.compare(n,e,t,i,0),i.changes}class lM{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&tg(e,t,this.changes,5)}}function cM(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,o=Math.max(0,t.left),s=Math.min(r.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(r.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=i.body;)if(c.nodeType==1){let f=c,h=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&h.overflow!="visible"){let p=f.getBoundingClientRect();o=Math.max(o,p.left),s=Math.min(s,p.right),a=Math.max(a,p.top),l=c==n.parentNode?p.bottom:Math.min(l,p.bottom)}c=h.position=="absolute"||h.position=="fixed"?f.offsetParent:f.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-t.left,right:Math.max(o,s)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function uM(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Fp{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e,t){return Ut.replace({widget:new fM(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class fM extends fs{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Xy{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Yy,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Pi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Av).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new iM(t),this.stateDeco=e.facet(wu).filter(i=>typeof i!="function"),this.heightMap=Er.empty().applyChanges(this.stateDeco,Un.empty,this.heightOracle.setDoc(e.doc),[new fo(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ut.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);e.push(new Af(o,s))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?Yy:new pM(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Kc(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(wu).filter(f=>typeof f!="function");let r=e.changedRanges,o=fo.extendWithRanges(r,aM(i,this.stateDeco,e?e.changes:Yi.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Xj)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,o=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Pi.RTL:Pi.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=t.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,f=0;if(a.width&&a.height){let{scaleX:S,scaleY:_}=Ej(t,a);(this.scaleX!=S||this.scaleY!=_)&&(this.scaleX=S,this.scaleY=_,c|=8,s=l=!0)}let h=(parseInt(i.paddingTop)||0)*this.scaleY,p=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=p)&&(this.paddingTop=h,this.paddingBottom=p,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=Lj(e.scrollDOM);let g=(this.printing?uM:cM)(t,this.paddingTop),v=g.top-this.pixelViewport.top,b=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let x=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(x!=this.inView&&(this.inView=x,x&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let k=a.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let S=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(S)&&(s=!0),s||r.lineWrapping&&Math.abs(k-this.contentDOMWidth)>r.charWidth){let{lineHeight:_,charWidth:E,textHeight:q}=e.docView.measureTextSize();s=_>0&&r.refresh(o,_,E,q,k/E,S),s&&(e.docView.minWidth=0,c|=8)}v>0&&b>0?f=Math.max(v,b):v<0&&b<0&&(f=Math.min(v,b)),r.heightChanged=!1;for(let _ of this.viewports){let E=_.from==this.viewport.from?S:e.docView.measureVisibleLineHeights(_);this.heightMap=(s?Er.empty().applyChanges(this.stateDeco,Un.empty,this.heightOracle,[new fo(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,s,new rM(_.from,E))}r.heightChanged&&(c|=2)}let C=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(this.viewport=this.getViewport(f,this.scrollTarget)),this.updateForViewport(),(c&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new Af(r.lineAt(s-i*1e3,pi.ByHeight,o,0,0).from,r.lineAt(a+(1-i)*1e3,pi.ByHeight,o,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(c,pi.ByPos,o,0,0),p;t.y=="center"?p=(h.top+h.bottom)/2-f/2:t.y=="start"||t.y=="nearest"&&c<l.from?p=h.top:p=h.bottom-f,l=new Af(r.lineAt(p-1e3/2,pi.ByHeight,o,0,0).from,r.lineAt(p+f+1e3/2,pi.ByHeight,o,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Af(this.heightMap.lineAt(i,pi.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,pi.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,pi.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,pi.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||r<=s-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(i,250)))&&r>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new Fp(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,o=r>>1,s=r<<1;if(this.defaultTextDirection!=Pi.LTR&&!i)return[];let a=[],l=(c,f,h,p)=>{if(f-c<o)return;let m=this.state.selection.main,g=[m.from];m.empty||g.push(m.to);for(let b of g)if(b>c&&b<f){l(c,b-10,h,p),l(b+10,f,h,p);return}let v=dM(e,b=>b.from>=h.from&&b.to<=h.to&&Math.abs(b.from-c)<o&&Math.abs(b.to-f)<o&&!g.some(x=>b.from<x&&b.to>x));if(!v){if(f<h.to&&t&&i&&t.visibleRanges.some(b=>b.from<=f&&b.to>=f)){let b=t.moveToLineBoundary(He.cursor(f),!1,!0).head;b>c&&(f=b)}v=new Fp(c,f,this.gapSize(h,c,f,p))}a.push(v)};for(let c of this.viewportLines){if(c.length<s)continue;let f=hM(c.from,c.to,this.stateDeco);if(f.total<s)continue;let h=this.scrollTarget?this.scrollTarget.range.head:null,p,m;if(i){let g=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,b;if(h!=null){let x=Lf(f,h),k=((this.visibleBottom-this.visibleTop)/2+g)/c.height;v=x-k,b=x+k}else v=(this.visibleTop-c.top-g)/c.height,b=(this.visibleBottom-c.top+g)/c.height;p=Rf(f,v),m=Rf(f,b)}else{let g=f.total*this.heightOracle.charWidth,v=r*this.heightOracle.charWidth,b,x;if(h!=null){let k=Lf(f,h),C=((this.pixelViewport.right-this.pixelViewport.left)/2+v)/g;b=k-C,x=k+C}else b=(this.pixelViewport.left-v)/g,x=(this.pixelViewport.right+v)/g;p=Rf(f,b),m=Rf(f,x)}p>c.from&&l(c.from,p,c,f),m<c.to&&l(m,c.to,c,f)}return a}gapSize(e,t,i,r){let o=Lf(r,i)-Lf(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){Fp.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ut.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Xn.spans(e,this.viewport.from,this.viewport.to,{span(r,o){t.push({from:r,to:o})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=t[o].from||r.to!=t[o].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Kc(this.heightMap.lineAt(e,pi.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Kc(this.heightMap.lineAt(this.scaler.fromDOM(e),pi.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Kc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Af{constructor(e,t){this.from=e,this.to=t}}function hM(n,e,t){let i=[],r=n,o=0;return Xn.spans(t,n,e,{span(){},point(s,a){s>r&&(i.push({from:r,to:s}),o+=s-r),r=a}},20),r<e&&(i.push({from:r,to:e}),o+=e-r),{total:o,ranges:i}}function Rf({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:o,to:s}=e[r],a=s-o;if(i<=a)return o+i;i-=a}}function Lf(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function dM(n,e){for(let t of n)if(e(t))return t}const Yy={toDOM(n){return n},fromDOM(n){return n},scale:1};class pM{constructor(e,t,i){let r=0,o=0,s=0;this.viewports=i.map(({from:a,to:l})=>{let c=t.lineAt(a,pi.ByPos,e,0,0).top,f=t.lineAt(l,pi.ByPos,e,0,0).bottom;return r+=f-c,{from:a,to:l,top:c,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-i)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);i=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return i+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);i=o.bottom,r=o.domBottom}}}function Kc(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new Go(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>Kc(r,e)):n._content)}const If=Rt.define({combine:n=>n.join(" ")}),cg=Rt.define({combine:n=>n.indexOf(!0)>-1}),ug=da.newName(),wS=da.newName(),kS=da.newName(),_S={"&light":"."+wS,"&dark":"."+kS};function fg(n,e,t){return new da(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const mM=fg("."+ug,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},_S),Xc="￿";class gM{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(wn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Xc}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let o=this.text.length;this.readNode(r);let s=r.nextSibling;if(s==t)break;let a=vi.get(r),l=vi.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:eb(r))||eb(s)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>o)&&this.lineBreak(),r=s}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=t.indexOf(this.lineSeparator,i),s=this.lineSeparator.length):(a=r.exec(t))&&(o=a.index,s=a[0].length),this.append(t.slice(i,o<0?t.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);i=o+s}}readNode(e){if(e.cmIgnore)return;let t=vi.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(vM(e,i.node,i.offset)?t:0))}}function vM(n,e,t){for(;;){if(!e||t<As(e))return!1;if(e==n)return!0;t=xu(e)+1,e=e.parentNode}}function eb(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class tb{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class yM{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=o||s?[]:wM(e),l=new gM(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=kM(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!Jm(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!Jm(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=He.single(c,l)}}}function jS(n,e){let t,{newSel:i}=e,r=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=r.from,c=null;(o===8||zt.android&&e.text.length<a-s)&&(l=r.to,c="end");let f=xM(n.state.doc.sliceString(s,a,Xc),e.text,l-s,c);f&&(zt.chrome&&o==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==Xc+Xc&&f.toB--,t={from:s+f.from,to:s+f.toA,insert:Un.of(e.text.slice(f.from,f.toB).split(Xc))})}else i&&(!n.hasFocus&&n.state.facet(Wd)||i.main.eq(r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:(zt.mac||zt.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=He.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:Un.of([" "])}):zt.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=He.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:Un.of([" "])}),t){if(zt.ios&&n.inputState.flushIOSKey()||zt.android&&(t.from==r.from&&t.to==r.to&&t.insert.length==1&&t.insert.lines==2&&Ul(n.contentDOM,"Enter",13)||(t.from==r.from-1&&t.to==r.to&&t.insert.length==0||o==8&&t.insert.length<t.to-t.from&&t.to>r.head)&&Ul(n.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&Ul(n.contentDOM,"Delete",46)))return!0;let s=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,l=()=>a||(a=bM(n,t,i));return n.state.facet(Jj).some(c=>c(n,t.from,t.to,s,l))||n.dispatch(l()),!0}else if(i&&!i.main.eq(r)){let s=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:s,userEvent:a}),!0}else return!1}function bM(n,e,t){let i,r=n.state,o=r.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=o.from<e.from?r.sliceDoc(o.from,e.from):"",l=o.to>e.to?r.sliceDoc(e.to,o.to):"";i=r.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=r.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let c=n.state.sliceDoc(e.from,e.to),f,h=t&&lS(n,t.main.head);if(h){let g=e.insert.length-(e.to-e.from);f={from:h.from,to:h.to-g}}else f=n.state.doc.lineAt(o.head);let p=o.to-e.to,m=o.to-o.from;i=r.changeByRange(g=>{if(g.from==o.from&&g.to==o.to)return{changes:a,range:l||g.map(a)};let v=g.to-p,b=v-c.length;if(g.to-g.from!=m||n.state.sliceDoc(b,v)!=c||g.to>=f.from&&g.from<=f.to)return{range:g};let x=r.changes({from:b,to:v,insert:e.insert}),k=g.to-o.to;return{changes:x,range:l?He.range(Math.max(0,l.anchor+k),Math.max(0,l.head+k)):g.map(x)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let s="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,s+=".compose",n.inputState.compositionFirstChange&&(s+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:s,scrollIntoView:!0})}function xM(n,e,t,i){let r=Math.min(n.length,e.length),o=0;for(;o<r&&n.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==r&&n.length==e.length)return null;let s=n.length,a=e.length;for(;s>0&&a>0&&n.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(i=="end"){let l=Math.max(0,o-Math.min(s,a));t-=s+l-o}if(s<o&&n.length<e.length){let l=t<=o&&t>=s?o-t:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=t<=o&&t>=a?o-t:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function wM(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:o}=n.observer.selectionRange;return t&&(e.push(new tb(t,i)),(r!=t||o!=i)&&e.push(new tb(r,o))),e}function kM(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?He.single(t+e,i+e):null}const _M={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Hp=zt.ie&&zt.ie_version<=11;class jM{constructor(e){this.view=e,this.active=!1,this.selectionRange=new a5,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(zt.ie&&zt.ie_version<=11||zt.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Hp&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Wd)?i.root.activeElement!=this.dom:!Sh(i.dom,r))return;let o=r.anchorNode&&i.docView.nearest(r.anchorNode);if(o&&o.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(zt.ie&&zt.ie_version<=11||zt.android&&zt.chrome)&&!i.state.selection.main.empty&&r.focusNode&&Vh(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=zt.safari&&e.root.nodeType==11&&i5(this.dom.ownerDocument)==this.dom&&SM(this.view)||Hh(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=Sh(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&c5(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,_M),Hp&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Hp&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Ul(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),t==-1?{from:t,to:i}=s:(t=Math.min(s.from,t),i=Math.max(s.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&Sh(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new yM(this.view,e,t,i);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let i=this.view.state,r=jS(this.view,t);return this.view.state==i&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=nb(t,e.previousSibling||e.target.previousSibling,-1),r=nb(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function nb(n,e,t){for(;e;){let i=vi.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function SM(n){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return Vh(a.node,a.offset,o,s)&&([i,r,o,s]=[o,s,i,r]),{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}}class gt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(i=>i.forEach(r=>t(r,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||l5(e.parent)||document,this.viewState=new Xy(e.state||wn.create(e)),e.scrollTo&&e.scrollTo.is(Pf)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Jc).map(i=>new Dp(i));for(let i of this.plugins)i.update(this);this.observer=new jM(this),this.inputState=new z5(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Ry(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let t=e.length==1&&e[0]instanceof er?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,o=this.state;for(let p of e){if(p.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=p.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(p=>p.annotation(vS))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=yS(o,s),l||(a=1));let c=this.observer.delayedAndroidKey,f=null;if(c?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(f=null)):this.observer.clear(),o.facet(wn.phrases)!=this.state.facet(wn.phrases))return this.setState(o);r=Wh.create(this,o,e),r.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let p of e){if(h&&(h=h.map(p.changes)),p.scrollIntoView){let{main:m}=p.state.selection;h=new Ql(m.empty?m:He.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of p.effects)m.is(Pf)&&(h=m.value.clip(this.state))}this.viewState.update(r,h),this.bidiCache=Uh.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(Gc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(p=>p.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(If)!=r.state.facet(If)&&(this.viewState.mustMeasureContent=!0),(t||i||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let p of this.state.facet(ng))try{p(r)}catch(m){Gr(this.state,m,"update listener")}(l||f)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),f&&!jS(this,f)&&c.force&&Ul(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Xy(e),this.plugins=e.facet(Jc).map(i=>new Dp(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new Ry(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Jc),i=e.state.facet(Jc);if(t!=i){let r=[];for(let o of i){let s=t.indexOf(o);if(s<0)r.push(new Dp(o));else{let a=this.plugins[s];a.mustUpdate=e,r.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(Lj(i))o=-1,s=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(r);o=m.from,s=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let f=c.map(m=>{try{return m.read(this)}catch(g){return Gr(this.state,g),ib}}),h=Wh.create(this,this.state,[]),p=!1;h.flags|=l,t?t.flags|=l:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),p=this.docView.update(h));for(let m=0;m<c.length;m++)if(f[m]!=ib)try{let g=c[m];g.write&&g.write(f[m],this)}catch(g){Gr(this.state,g)}if(p&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let g=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(g>1||g<-1){r=r+g,i.scrollTop=r/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(ng))a(t)}get themeClasses(){return ug+" "+(this.state.facet(cg)?kS:wS)+" "+this.state.facet(If)}updateAttrs(){let e=rb(this,Yj,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Wd)?"true":"false",class:"cm-content",style:`${zt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),rb(this,Av,t);let i=this.observer.ignore(()=>{let r=eg(this.contentDOM,this.contentAttrs,t),o=eg(this.dom,this.editorAttrs,e);return r||o});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(gt.announce)){t&&(this.announceDOM.textContent=""),t=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(Gc);let e=this.state.facet(gt.cspNonce);da.mount(this.root,this.styleModules.concat(mM).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return qp(this,e,zy(this,e,t,i))}moveByGroup(e,t){return qp(this,e,zy(this,e,t,i=>B5(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return N5(this,e,t,i)}moveVertically(e,t,i){return qp(this,e,D5(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),uS(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r),s=o[na.find(o,e-r.from,-1,t)];return Hd(i,s.dir==Pi.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Kj)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>CM)return sS(e.length);let t=this.textDirectionAt(e.from),i;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==t&&(o.fresh||oS(o.isolates,i=Ay(this,e.from,e.to))))return o.order;i||(i=Ay(this,e.from,e.to));let r=_5(e.text,t,i);return this.bidiCache.push(new Uh(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||zt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Aj(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Pf.of(new Ql(typeof e=="number"?He.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return Pf.of(new Ql(He.cursor(i.from),"start","start",i.top-e,t,!0))}static domEventHandlers(e){return ki.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ki.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=da.newName(),r=[If.of(i),Gc.of(fg(`.${i}`,e))];return t&&t.dark&&r.push(cg.of(!0)),r}static baseTheme(e){return ll.lowest(Gc.of(fg("."+ug,e,_S)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&vi.get(i)||vi.get(e);return((t=r==null?void 0:r.rootView)===null||t===void 0?void 0:t.view)||null}}gt.styleModule=Gc;gt.inputHandler=Jj;gt.focusChangeEffect=Gj;gt.perLineTextDirection=Kj;gt.exceptionSink=Zj;gt.updateListener=ng;gt.editable=Wd;gt.mouseSelectionStyle=Qj;gt.dragMovesSelection=Uj;gt.clickAddsSelectionRange=Wj;gt.decorations=wu;gt.atomicRanges=Rv;gt.bidiIsolatedRanges=eS;gt.scrollMargins=tS;gt.darkTheme=cg;gt.cspNonce=Rt.define({combine:n=>n.length?n[0]:""});gt.contentAttributes=Av;gt.editorAttributes=Yj;gt.lineWrapping=gt.contentAttributes.of({class:"cm-lineWrapping"});gt.announce=mn.define();const CM=4096,ib={};class Uh{constructor(e,t,i,r,o,s){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=o,this.order=s}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:Pi.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==r&&!t.touchesRange(s.from,s.to)&&i.push(new Uh(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return i}}function rb(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let o=i[r],s=typeof o=="function"?o(n):o;s&&Ym(s,t)}return t}const OM=zt.mac?"mac":zt.windows?"win":zt.linux?"linux":"key";function $M(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,o,s,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),o&&(i="Ctrl-"+i),a&&(i="Meta-"+i),s&&(i="Shift-"+i),i}function Nf(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const MM=ll.default(gt.domEventHandlers({keydown(n,e){return CS(SS(e.state),n,e,"editor")}})),Ja=Rt.define({enables:MM}),ob=new WeakMap;function SS(n){let e=n.facet(Ja),t=ob.get(e);return t||ob.set(e,t=EM(e.reduce((i,r)=>i.concat(r),[]))),t}function PM(n,e,t){return CS(SS(n.state),e,n,t)}let Xs=null;const TM=4e3;function EM(n,e=OM){let t=Object.create(null),i=Object.create(null),r=(s,a)=>{let l=i[s];if(l==null)i[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c,f)=>{var h,p;let m=t[s]||(t[s]=Object.create(null)),g=a.split(/ (?!$)/).map(x=>$M(x,e));for(let x=1;x<g.length;x++){let k=g.slice(0,x).join(" ");r(k,!0),m[k]||(m[k]={preventDefault:!0,stopPropagation:!1,run:[C=>{let S=Xs={view:C,prefix:k,scope:s};return setTimeout(()=>{Xs==S&&(Xs=null)},TM),!0}]})}let v=g.join(" ");r(v,!1);let b=m[v]||(m[v]={preventDefault:!1,stopPropagation:!1,run:((p=(h=m._any)===null||h===void 0?void 0:h.run)===null||p===void 0?void 0:p.slice())||[]});l&&b.run.push(l),c&&(b.preventDefault=!0),f&&(b.stopPropagation=!0)};for(let s of n){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let f=t[c]||(t[c]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let h in f)f[h].run.push(s.any)}let l=s[e]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return t}function CS(n,e,t,i){let r=n5(e),o=hr(r,0),s=so(o)==r.length&&r!=" ",a="",l=!1,c=!1,f=!1;Xs&&Xs.view==t&&Xs.scope==i&&(a=Xs.prefix+" ",hS.indexOf(e.keyCode)<0&&(c=!0,Xs=null));let h=new Set,p=b=>{if(b){for(let x of b.run)if(!h.has(x)&&(h.add(x),x(t,e)))return b.stopPropagation&&(f=!0),!0;b.preventDefault&&(b.stopPropagation&&(f=!0),c=!0)}return!1},m=n[i],g,v;return m&&(p(m[a+Nf(r,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(zt.windows&&e.ctrlKey&&e.altKey)&&(g=pa[e.keyCode])&&g!=r?(p(m[a+Nf(g,e,!0)])||e.shiftKey&&(v=bu[e.keyCode])!=r&&v!=g&&p(m[a+Nf(v,e,!1)]))&&(l=!0):s&&e.shiftKey&&p(m[a+Nf(r,e,!0)])&&(l=!0),!l&&p(m._any)&&(l=!0)),c&&(l=!0),l&&f&&e.stopPropagation(),l}class Xu{constructor(e,t,i,r,o){this.className=e,this.left=t,this.top=i,this.width=r,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let o=OS(e);return[new Xu(t,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}else return AM(e,t,i)}}function OS(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Pi.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function sb(n,e,t){let i=He.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:Tr.Text}}function AM(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),r=Math.min(t.to,n.viewport.to),o=n.textDirection==Pi.LTR,s=n.contentDOM,a=s.getBoundingClientRect(),l=OS(n),c=s.querySelector(".cm-line"),f=c&&window.getComputedStyle(c),h=a.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),p=a.right-(f?parseInt(f.paddingRight):0),m=ag(n,i),g=ag(n,r),v=m.type==Tr.Text?m:null,b=g.type==Tr.Text?g:null;if(v&&(n.lineWrapping||m.widgetLineBreaks)&&(v=sb(n,i,v)),b&&(n.lineWrapping||g.widgetLineBreaks)&&(b=sb(n,r,b)),v&&b&&v.from==b.from)return k(C(t.from,t.to,v));{let _=v?C(t.from,null,v):S(m,!1),E=b?C(null,t.to,b):S(g,!0),q=[];return(v||m).to<(b||g).from-(v&&b?1:0)||m.widgetLineBreaks>1&&_.bottom+n.defaultLineHeight/2<E.top?q.push(x(h,_.bottom,p,E.top)):_.bottom<E.top&&n.elementAtHeight((_.bottom+E.top)/2).type==Tr.Text&&(_.bottom=E.top=(_.bottom+E.top)/2),k(_).concat(q).concat(k(E))}function x(_,E,q,te){return new Xu(e,_-l.left,E-l.top-.01,q-_,te-E+.01)}function k({top:_,bottom:E,horizontal:q}){let te=[];for(let G=0;G<q.length;G+=2)te.push(x(q[G],_,q[G+1],E));return te}function C(_,E,q){let te=1e9,G=-1e9,I=[];function U(F,ne,re,R,$){let N=n.coordsAtPos(F,F==q.to?-2:2),P=n.coordsAtPos(re,re==q.from?2:-2);!N||!P||(te=Math.min(N.top,P.top,te),G=Math.max(N.bottom,P.bottom,G),$==Pi.LTR?I.push(o&&ne?h:N.left,o&&R?p:P.right):I.push(!o&&R?h:P.left,!o&&ne?p:N.right))}let B=_??q.from,ee=E??q.to;for(let F of n.visibleRanges)if(F.to>B&&F.from<ee)for(let ne=Math.max(F.from,B),re=Math.min(F.to,ee);;){let R=n.state.doc.lineAt(ne);for(let $ of n.bidiSpans(R)){let N=$.from+R.from,P=$.to+R.from;if(N>=re)break;P>ne&&U(Math.max(N,ne),_==null&&N<=B,Math.min(P,re),E==null&&P>=ee,$.dir)}if(ne=R.to+1,ne>=re)break}return I.length==0&&U(B,_==null,ee,E==null,n.textDirection),{top:te,bottom:G,horizontal:I}}function S(_,E){let q=a.top+(E?_.top:_.bottom);return{top:q,bottom:q,horizontal:[]}}}function RM(n,e){return n.constructor==e.constructor&&n.eq(e)}class LM{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet($h)!=e.state.facet($h)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,i=e.facet($h);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!RM(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const $h=Rt.define();function $S(n){return[ki.define(e=>new LM(e,n)),$h.of(n)]}const MS=!zt.ios,_u=Rt.define({combine(n){return yo(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Iv(n={}){return[_u.of(n),IM,NM,BM,Xj.of(!0)]}function PS(n){return n.startState.facet(_u)!=n.state.facet(_u)}const IM=$S({above:!0,markers(n){let{state:e}=n,t=e.facet(_u),i=[];for(let r of e.selection.ranges){let o=r==e.selection.main;if(r.empty?!o||MS:t.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:He.cursor(r.head,r.head>r.anchor?-1:1);for(let l of Xu.forRange(n,s,a))i.push(l)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=PS(n);return t&&ab(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){ab(e.state,n)},class:"cm-cursorLayer"});function ab(n,e){e.style.animationDuration=n.facet(_u).cursorBlinkRate+"ms"}const NM=$S({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Xu.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||PS(n)},class:"cm-selectionLayer"}),hg={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};MS&&(hg[".cm-line"].caretColor="transparent !important",hg[".cm-content"]={caretColor:"transparent !important"});const BM=ll.highest(gt.theme(hg)),TS=mn.define({map(n,e){return n==null?null:e.mapPos(n)}}),Yc=Ji.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(TS)?i.value:t,n)}}),DM=ki.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Yc);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Yc)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Yc),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Yc)!=n&&this.view.dispatch({effects:TS.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function ES(){return[Yc,DM]}function lb(n,e,t,i,r){e.lastIndex=0;for(let o=n.iterRange(t,i),s=t,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)r(s+a.index,a)}function zM(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:o}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),o=Math.min(n.state.doc.lineAt(o).to,o+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=o:i.push({from:r,to:o});return i}class qM{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:o,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(a,l,c,f)=>r(f,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,f)=>{let h=i(a,l,c);h&&f(c,c+a[0].length,h)};else if(i)this.addMatch=(a,l,c,f)=>f(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let t=new rs,i=t.add.bind(t);for(let{from:r,to:o}of zM(e,this.maxLength))lb(e.state.doc,this.regexp,r,o,(s,a)=>this.addMatch(a,e,s,i));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(i=Math.min(a,i),r=Math.max(l,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let o of e.visibleRanges){let s=Math.max(o.from,i),a=Math.min(o.to,r);if(a>s){let l=e.state.doc.lineAt(s),c=l.to<a?e.state.doc.lineAt(a):l,f=Math.max(o.from,l.from),h=Math.min(o.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){f=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let p=[],m,g=(v,b,x)=>p.push(x.range(v,b));if(l==c)for(this.regexp.lastIndex=f-l.from;(m=this.regexp.exec(l.text))&&m.index<h-l.from;)this.addMatch(m,e,m.index+l.from,g);else lb(e.state.doc,this.regexp,f,h,(v,b)=>this.addMatch(b,e,v,g));t=t.update({filterFrom:f,filterTo:h,filter:(v,b)=>v<f||b>h,add:p})}}return t}}const dg=/x/.unicode!=null?"gu":"g",FM=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,dg),HM={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Vp=null;function VM(){var n;if(Vp==null&&typeof document<"u"&&document.body){let e=document.body.style;Vp=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Vp||!1}const Mh=Rt.define({combine(n){let e=yo(n,{render:null,specialChars:FM,addSpecialChars:null});return(e.replaceTabs=!VM())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,dg)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,dg)),e}});function AS(n={}){return[Mh.of(n),WM()]}let cb=null;function WM(){return cb||(cb=ki.fromClass(class{constructor(n){this.view=n,this.decorations=Ut.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Mh)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new qM({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,o=hr(e[0],0);if(o==9){let s=r.lineAt(i),a=t.state.tabSize,l=wc(s.text,a,i-s.from);return Ut.replace({widget:new JM((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Ut.replace({widget:new ZM(n,o)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Mh);n.startState.facet(Mh)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const UM="•";function QM(n){return n>=32?UM:n==10?"␤":String.fromCharCode(9216+n)}class ZM extends fs{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=QM(this.code),i=e.state.phrase("Control character")+" "+(HM[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let o=document.createElement("span");return o.textContent=t,o.title=i,o.setAttribute("aria-label",i),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class JM extends fs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function RS(){return KM}const GM=Ut.line({class:"cm-activeLine"}),KM=ki.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let r=n.lineBlockAt(i.head);r.from>e&&(t.push(GM.range(r.from)),e=r.from)}return Ut.set(t)}},{decorations:n=>n.decorations});class XM extends fs{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?oc(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),r=Hd(t[0],i.direction!="rtl"),o=parseInt(i.lineHeight);return r.bottom-r.top>o*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+o}:r}ignoreEvent(){return!1}}function YM(n){return ki.fromClass(class{constructor(e){this.view=e,this.placeholder=n?Ut.set([Ut.widget({widget:new XM(n),side:1}).range(0)]):Ut.none}get decorations(){return this.view.state.doc.length?Ut.none:this.placeholder}},{decorations:e=>e.decorations})}const pg=2e3;function e6(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),o=[];if(e.off>pg||t.off>pg||e.col<0||t.col<0){let s=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=i;l<=r;l++){let c=n.doc.line(l);c.length<=a&&o.push(He.range(c.from+s,c.to+a))}}else{let s=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=i;l<=r;l++){let c=n.doc.line(l),f=Um(c.text,s,n.tabSize,!0);if(f<0)o.push(He.cursor(c.to));else{let h=Um(c.text,a,n.tabSize);o.push(He.range(c.from+f,c.from+h))}}}return o}function t6(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function ub(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,o=r>pg?-1:r==i.length?t6(n,e.clientX):wc(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:o,off:r}}function n6(n,e){let t=ub(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let o=r.changes.mapPos(r.startState.doc.line(t.line).from),s=r.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},i=i.map(r.changes)}},get(r,o,s){let a=ub(n,r);if(!a)return i;let l=e6(n.state,t,a);return l.length?s?He.create(l.concat(i.ranges)):He.create(l):i}}:null}function LS(n){let e=(n==null?void 0:n.eventFilter)||(t=>t.altKey&&t.button==0);return gt.mouseSelectionStyle.of((t,i)=>e(i)?n6(t,i):null)}const i6={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},r6={style:"cursor: crosshair"};function IS(n={}){let[e,t]=i6[n.key||"Alt"],i=ki.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)},mousemove(r){this.set(t(r))}}});return[i,gt.contentAttributes.of(r=>{var o;return!((o=r.plugin(i))===null||o===void 0)&&o.isDown?r6:null})]}const Dc="-10000px";class NS{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e,t){var i;let r=e.state.facet(this.facet),o=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],a=t?[]:null;for(let l=0;l<o.length;l++){let c=o[l],f=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let p=this.tooltips[h];p&&p.create==c.create&&(f=h)}if(f<0)s[l]=this.createTooltipView(c),a&&(a[l]=!!c.above);else{let h=s[l]=this.tooltipViews[f];a&&(a[l]=t[f]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(l.dom.remove(),(i=l.destroy)===null||i===void 0||i.call(l));return t&&(a.forEach((l,c)=>t[c]=l),t.length=a.length),this.input=r,this.tooltips=o,this.tooltipViews=s,!0}}function o6(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Wp=Rt.define({combine:n=>{var e,t,i;return{position:zt.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||o6}}}),fb=new WeakMap,Nv=ki.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Wp);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new NS(n,Ud,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(Wp);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Dc,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(n=t.destroy)===null||n===void 0||n.call(t);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,t=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(zt.gecko)i=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==Dc&&r.style.left=="0px"){let o=r.getBoundingClientRect();i=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(i||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,t=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((r,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(Wp).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:i}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:t,space:i,scaleX:r,scaleY:o}=n,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:f}=c,h=n.pos[a],p=n.size[a];if(!h||h.bottom<=Math.max(t.top,i.top)||h.top>=Math.min(t.bottom,i.bottom)||h.right<Math.max(t.left,i.left)-.1||h.left>Math.min(t.right,i.right)+.1){f.style.top=Dc;continue}let m=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,v=p.right-p.left,b=(e=fb.get(c))!==null&&e!==void 0?e:p.bottom-p.top,x=c.offset||a6,k=this.view.textDirection==Pi.LTR,C=p.width>i.right-i.left?k?i.left:i.right-p.width:k?Math.min(h.left-(m?14:0)+x.x,i.right-v):Math.max(i.left,h.left-v+(m?14:0)-x.x),S=this.above[a];!l.strictSide&&(S?h.top-(p.bottom-p.top)-x.y<i.top:h.bottom+(p.bottom-p.top)+x.y>i.bottom)&&S==i.bottom-h.bottom>h.top-i.top&&(S=this.above[a]=!S);let _=(S?h.top-i.top:i.bottom-h.bottom)-g;if(_<b&&c.resize!==!1){if(_<this.view.defaultLineHeight){f.style.top=Dc;continue}fb.set(c,b),f.style.height=(b=_)/o+"px"}else f.style.height&&(f.style.height="");let E=S?h.top-b-g-x.y:h.bottom+g+x.y,q=C+v;if(c.overlap!==!0)for(let te of s)te.left<q&&te.right>C&&te.top<E+b&&te.bottom>E&&(E=S?te.top-b-2-g:te.bottom+g+2);if(this.position=="absolute"?(f.style.top=(E-n.parent.top)/o+"px",f.style.left=(C-n.parent.left)/r+"px"):(f.style.top=E/o+"px",f.style.left=C/r+"px"),m){let te=h.left+(k?x.x:-x.x)-(C+14-7);m.style.left=te/r+"px"}c.overlap!==!0&&s.push({left:C,top:E,right:q,bottom:E+b}),f.classList.toggle("cm-tooltip-above",S),f.classList.toggle("cm-tooltip-below",!S),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Dc}},{eventObservers:{scroll(){this.maybeMeasure()}}}),s6=gt.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),a6={x:0,y:0},Ud=Rt.define({enables:[Nv,s6]}),Qh=Rt.define();class Qd{static create(e){return new Qd(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new NS(e,Qh,t=>this.createHostedView(t))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let i of this.manager.tooltipViews){let r=i[e];if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const l6=Ud.compute([Qh],n=>{let e=n.facet(Qh).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var i;return(i=t.end)!==null&&i!==void 0?i:t.pos})),create:Qd.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class c6{constructor(e,t,i,r,o){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let r,o=1;if(i instanceof ta)r=i.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let a=e.coordsAtPos(r);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(r)).find(f=>f.from<=r&&f.to>=r),c=l&&l.dir==Pi.RTL?-1:1;o=t.x<a.left?-c:c}let s=this.source(e,r,o);if(s!=null&&s.then){let a=this.pending={pos:r};s.then(l=>{this.pending==a&&(this.pending=null,l&&e.dispatch({effects:this.setHover.of(l)}))},l=>Gr(e.state,l,"hover tooltip"))}else s&&e.dispatch({effects:this.setHover.of(s)})}get tooltip(){let e=this.view.plugin(Nv),t=e?e.manager.tooltips.findIndex(i=>i.create==Qd.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:r}=this;if(i&&r&&!u6(r.dom,e)||this.pending){let{pos:o}=i||this.pending,s=(t=i==null?void 0:i.end)!==null&&t!==void 0?t:o;(o==s?this.view.posAtCoords(this.lastMove)!=o:!f6(this.view,o,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t){let{tooltip:i}=this;i&&i.dom.contains(e.relatedTarget)?this.watchTooltipLeave(i.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(e){let t=i=>{e.removeEventListener("mouseleave",t),this.active&&!this.view.dom.contains(i.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Bf=4;function u6(n,e){let t=n.getBoundingClientRect();return e.clientX>=t.left-Bf&&e.clientX<=t.right+Bf&&e.clientY>=t.top-Bf&&e.clientY<=t.bottom+Bf}function f6(n,e,t,i,r,o){let s=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(s.left>i||s.right<i||s.top>r||Math.min(s.bottom,a)<r)return!1;let l=n.posAtCoords({x:i,y:r},!1);return l>=e&&l<=t}function h6(n,e={}){let t=mn.define(),i=Ji.define({create(){return null},update(r,o){if(r&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,r)))return null;if(r&&o.docChanged){let s=o.changes.mapPos(r.pos,-1,mr.TrackDel);if(s==null)return null;let a=Object.assign(Object.create(null),r);a.pos=s,r.end!=null&&(a.end=o.changes.mapPos(r.end)),r=a}for(let s of o.effects)s.is(t)&&(r=s.value),s.is(d6)&&(r=null);return r},provide:r=>Qh.from(r)});return[i,ki.define(r=>new c6(r,n,i,t,e.hoverTime||300)),l6]}function BS(n,e){let t=n.plugin(Nv);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const d6=mn.define(),hb=Rt.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function ju(n,e){let t=n.plugin(DS),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const DS=ki.fromClass(class{constructor(n){this.input=n.state.facet(Su),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(hb);this.top=new Df(n,!0,e.topContainer),this.bottom=new Df(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(hb);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Df(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Df(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Su);if(t!=this.input){let i=t.filter(l=>l),r=[],o=[],s=[],a=[];for(let l of i){let c=this.specs.indexOf(l),f;c<0?(f=l(n.view),a.push(f)):(f=this.panels[c],f.update&&f.update(n)),r.push(f),(f.top?o:s).push(f)}this.specs=i,this.panels=r,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>gt.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Df{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=db(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=db(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function db(n){let e=n.nextSibling;return n.remove(),e}const Su=Rt.define({enables:DS});class os extends Qa{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}os.prototype.elementClass="";os.prototype.toDOM=void 0;os.prototype.mapMode=mr.TrackBefore;os.prototype.startSide=os.prototype.endSide=-1;os.prototype.point=!0;const Ph=Rt.define(),p6={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Xn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},au=Rt.define();function zS(n){return[qS(),au.of(Object.assign(Object.assign({},p6),n))]}const mg=Rt.define({combine:n=>n.some(e=>e)});function qS(n){let e=[m6];return n&&n.fixed===!1&&e.push(mg.of(!0)),e}const m6=ki.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(au).map(e=>new mb(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(mg),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(mg)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Xn.iter(this.view.state.facet(Ph),this.view.viewport.from),i=[],r=this.gutters.map(o=>new g6(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==Tr.Text&&s){gg(t,i,a.from);for(let l of r)l.line(this.view,a,i);s=!1}else if(a.widget)for(let l of r)l.widget(this.view,a)}else if(o.type==Tr.Text){gg(t,i,o.from);for(let s of r)s.line(this.view,o,i)}else if(o.widget)for(let s of r)s.widget(this.view,o);for(let o of r)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(au),t=n.state.facet(au),i=n.docChanged||n.heightChanged||n.viewportChanged||!Xn.eq(n.startState.facet(Ph),n.state.facet(Ph),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let o of t){let s=e.indexOf(o);s<0?r.push(new mb(this.view,o)):(this.gutters[s].update(n),r.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)this.dom.appendChild(o.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>gt.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Pi.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function pb(n){return Array.isArray(n)?n:[n]}function gg(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class g6{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Xn.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,o=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==r.elements.length){let a=new FS(e,s,o,i);r.elements.push(a),r.dom.appendChild(a.dom)}else r.elements[this.i].update(e,s,o,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];gg(this.cursor,r,t.from),i.length&&(r=r.concat(i));let o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let s=this.gutter;r.length==0&&!s.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class mb{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let o=r.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=r.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);t.domEventHandlers[i](e,a,r)&&r.preventDefault()});this.markers=pb(t.markers(e)),t.initialSpacer&&(this.spacer=new FS(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=pb(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!Xn.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class FS{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),v6(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<t.length?t[o++]:null,c=!1;if(l){let f=l.elementClass;f&&(i+=" "+f);for(let h=s;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,c=!0;break}}else a=this.markers.length;for(;s<a;){let f=this.markers[s++];if(f.toDOM){f.destroy(r);let h=r.nextSibling;r.remove(),r=h}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&s++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function v6(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const y6=Rt.define(),Ll=Rt.define({combine(n){return yo(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let o=i[r],s=t[r];i[r]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return i}})}});class Up extends os{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Qp(n,e){return n.state.facet(Ll).formatNumber(e,n.state)}const b6=au.compute([Ll],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(y6)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new Up(Qp(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Ll)!=e.state.facet(Ll),initialSpacer(e){return new Up(Qp(e,gb(e.state.doc.lines)))},updateSpacer(e,t){let i=Qp(t.view,gb(t.view.state.doc.lines));return i==e.number?e:new Up(i)},domEventHandlers:n.facet(Ll).domEventHandlers}));function HS(n={}){return[Ll.of(n),qS(),b6]}function gb(n){let e=9;for(;e<n;)e=e*10+9;return e}const x6=new class extends os{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},w6=Ph.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(x6.range(r)))}return Xn.of(e)});function VS(){return w6}const WS=1024;let k6=0;class lo{constructor(e,t){this.from=e,this.to=t}}class En{constructor(e={}){this.id=k6++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ar.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}En.closedBy=new En({deserialize:n=>n.split(" ")});En.openedBy=new En({deserialize:n=>n.split(" ")});En.group=new En({deserialize:n=>n.split(" ")});En.contextHash=new En({perNode:!0});En.lookAhead=new En({perNode:!0});En.mounted=new En({perNode:!0});class Cu{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[En.mounted.id]}}const _6=Object.create(null);class Ar{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):_6,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ar(e.name||"",t,e.id,i);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(En.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(En.group),o=-1;o<(r?r.length:0);o++){let s=t[o<0?i.name:r[o]];if(s)return s}}}}Ar.none=new Ar("",Object.create(null),0,8);class Bv{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let o of e){let s=o(i);s&&(r||(r=Object.assign({},i.props)),r[s[0].id]=s[1])}t.push(r?new Ar(i.name,r,i.id,i.flags):i)}return new Bv(t)}}const zf=new WeakMap,vb=new WeakMap;var mi;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(mi||(mi={}));class Ti{constructor(e,t,i,r,o){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=Cu.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Zh(this.topNode,e)}cursorAt(e,t=0,i=0){let r=zf.get(this)||this.topNode,o=new Zh(r);return o.moveTo(e,t),zf.set(this,o._tree),o}get topNode(){return new Cr(this,0,0,null)}resolve(e,t=0){let i=Ou(zf.get(this)||this.topNode,e,t,!1);return zf.set(this,i),i}resolveInner(e,t=0){let i=Ou(vb.get(this)||this.topNode,e,t,!0);return vb.set(this,i),i}resolveStack(e,t=0){return C6(this,e,t)}iterate(e){let{enter:t,leave:i,from:r=0,to:o=this.length}=e,s=e.mode||0,a=(s&mi.IncludeAnonymous)>0;for(let l=this.cursor(s|mi.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=r&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:qv(Ar.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new Ti(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new Ti(Ar.none,t,i,r)))}static build(e){return O6(e)}}Ti.empty=new Ti(Ar.none,[],[],0);class Dv{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Dv(this.buffer,this.index)}}class ga{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Ar.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),e+=4,i==e)return o;let s=[];for(;e<i;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,i,r,o){let{buffer:s}=this,a=-1;for(let l=e;l!=t&&!(US(o,r,s[l+1],s[l+2])&&(a=l,i>0));l=s[l+3]);return a}slice(e,t,i){let r=this.buffer,o=new Uint16Array(t-e),s=0;for(let a=e,l=0;a<t;){o[l++]=r[a++],o[l++]=r[a++]-i;let c=o[l++]=r[a++]-i;o[l++]=r[a++]-e,s=Math.max(s,c)}return new ga(o,s,this.set)}}function US(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Ou(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!i&&n instanceof Cr&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=i?0:mi.IgnoreOverlays;if(i)for(let s=n,a=s.parent;a;s=a,a=s.parent)s instanceof Cr&&s.index<0&&((r=a.enter(e,t,o))===null||r===void 0?void 0:r.from)!=s.from&&(n=a);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class QS{cursor(e=0){return new Zh(this,e)}getChild(e,t=null,i=null){let r=yb(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return yb(this,e,t,i)}resolve(e,t=0){return Ou(this,e,t,!1)}resolveInner(e,t=0){return Ou(this,e,t,!0)}matchContext(e){return vg(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}get node(){return this}get next(){return this.parent}}class Cr extends QS{constructor(e,t,i,r){super(),this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=t>0?a.length:-1;e!=c;e+=t){let f=a[e],h=l[e]+s.from;if(US(r,i,h,h+f.length)){if(f instanceof ga){if(o&mi.ExcludeBuffers)continue;let p=f.findChild(0,f.buffer.length,t,i-h,r);if(p>-1)return new Xo(new j6(s,f,e,h),null,p)}else if(o&mi.IncludeAnonymous||!f.type.isAnonymous||zv(f)){let p;if(!(o&mi.IgnoreMounts)&&(p=Cu.get(f))&&!p.overlay)return new Cr(p.tree,h,e,s);let m=new Cr(f,h,e,s);return o&mi.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?f.children.length-1:0,t,i,r)}}}if(o&mi.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+t:e=t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&mi.IgnoreOverlays)&&(r=Cu.get(this._tree))&&r.overlay){let o=e-this.from;for(let{from:s,to:a}of r.overlay)if((t>0?s<=o:s<o)&&(t<0?a>=o:a>o))return new Cr(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function yb(n,e,t,i){let r=n.cursor(),o=[];if(!r.firstChild())return o;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return o}for(;;){if(i!=null&&r.type.is(i))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return i==null?o:[]}}function vg(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class j6{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class Xo extends QS{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return o<0?null:new Xo(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&mi.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Xo(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Xo(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Xo(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,o=i.buffer[this.index+3];if(o>r){let s=i.buffer[this.index+1];e.push(i.slice(r,o,s)),t.push(0)}return new Ti(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function ZS(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>t.from||s.to<t.to)&&(t=s,e=o)}let i=t instanceof Cr&&t.index<0?null:t.parent,r=n.slice();return i?r[e]=i:r.splice(e,1),new S6(r,t)}class S6{constructor(e,t){this.heads=e,this.node=t}get next(){return ZS(this.heads)}}function C6(n,e,t){let i=n.resolveInner(e,t),r=null;for(let o=i instanceof Cr?i:i.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(r||(r=[i])).push(s.resolve(e,t)),o=s}else{let s=Cu.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new Cr(s.tree,s.overlay[0].from+o.from,-1,o);(r||(r=[i])).push(Ou(a,e,t,!1))}}return r?ZS(r):i}class Zh{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Cr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof Cr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&mi.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&mi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&mi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let o=t+e,s=e<0?-1:i._tree.children.length;o!=s;o+=e){let a=i._tree.children[o];if(this.mode&mi.IncludeAnonymous||a instanceof ga||!a.type.isAnonymous||zv(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==r){if(r==this.index)return s;t=s,i=o+1;break e}r=this.stack[--o]}for(let r=i;r<this.stack.length;r++)t=new Xo(this.buffer,t,this.stack[r]);return this.bufferNode=new Xo(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return vg(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return vg(this.node,e,r);let s=i[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[r]&&e[r]!=s.name)return!1;r--}}return!0}}function zv(n){return n.children.some(e=>e instanceof ga||!e.type.isAnonymous||zv(e))}function O6(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=WS,reused:o=[],minRepeatType:s=i.types.length}=n,a=Array.isArray(t)?new Dv(t,t.length):t,l=i.types,c=0,f=0;function h(_,E,q,te,G,I){let{id:U,start:B,end:ee,size:F}=a,ne=f;for(;F<0;)if(a.next(),F==-1){let P=o[U];q.push(P),te.push(B-_);return}else if(F==-3){c=U;return}else if(F==-4){f=U;return}else throw new RangeError(`Unrecognized record size: ${F}`);let re=l[U],R,$,N=B-_;if(ee-B<=r&&($=b(a.pos-E,G))){let P=new Uint16Array($.size-$.skip),A=a.pos-$.size,M=P.length;for(;a.pos>A;)M=x($.start,P,M);R=new ga(P,ee-$.start,i),N=$.start-_}else{let P=a.pos-F;a.next();let A=[],M=[],Z=U>=s?U:-1,le=0,de=ee;for(;a.pos>P;)Z>=0&&a.id==Z&&a.size>=0?(a.end<=de-r&&(g(A,M,B,le,a.end,de,Z,ne),le=A.length,de=a.end),a.next()):I>2500?p(B,P,A,M):h(B,P,A,M,Z,I+1);if(Z>=0&&le>0&&le<A.length&&g(A,M,B,le,B,de,Z,ne),A.reverse(),M.reverse(),Z>-1&&le>0){let xe=m(re);R=qv(re,A,M,0,A.length,0,ee-B,xe,xe)}else R=v(re,A,M,ee-B,ne-ee)}q.push(R),te.push(N)}function p(_,E,q,te){let G=[],I=0,U=-1;for(;a.pos>E;){let{id:B,start:ee,end:F,size:ne}=a;if(ne>4)a.next();else{if(U>-1&&ee<U)break;U<0&&(U=F-r),G.push(B,ee,F),I++,a.next()}}if(I){let B=new Uint16Array(I*4),ee=G[G.length-2];for(let F=G.length-3,ne=0;F>=0;F-=3)B[ne++]=G[F],B[ne++]=G[F+1]-ee,B[ne++]=G[F+2]-ee,B[ne++]=ne;q.push(new ga(B,G[2]-ee,i)),te.push(ee-_)}}function m(_){return(E,q,te)=>{let G=0,I=E.length-1,U,B;if(I>=0&&(U=E[I])instanceof Ti){if(!I&&U.type==_&&U.length==te)return U;(B=U.prop(En.lookAhead))&&(G=q[I]+U.length+B)}return v(_,E,q,te,G)}}function g(_,E,q,te,G,I,U,B){let ee=[],F=[];for(;_.length>te;)ee.push(_.pop()),F.push(E.pop()+q-G);_.push(v(i.types[U],ee,F,I-G,B-I)),E.push(G-q)}function v(_,E,q,te,G=0,I){if(c){let U=[En.contextHash,c];I=I?[U].concat(I):[U]}if(G>25){let U=[En.lookAhead,G];I=I?[U].concat(I):[U]}return new Ti(_,E,q,te,I)}function b(_,E){let q=a.fork(),te=0,G=0,I=0,U=q.end-r,B={size:0,start:0,skip:0};e:for(let ee=q.pos-_;q.pos>ee;){let F=q.size;if(q.id==E&&F>=0){B.size=te,B.start=G,B.skip=I,I+=4,te+=4,q.next();continue}let ne=q.pos-F;if(F<0||ne<ee||q.start<U)break;let re=q.id>=s?4:0,R=q.start;for(q.next();q.pos>ne;){if(q.size<0)if(q.size==-3)re+=4;else break e;else q.id>=s&&(re+=4);q.next()}G=R,te+=F,I+=re}return(E<0||te==_)&&(B.size=te,B.start=G,B.skip=I),B.size>4?B:void 0}function x(_,E,q){let{id:te,start:G,end:I,size:U}=a;if(a.next(),U>=0&&te<s){let B=q;if(U>4){let ee=a.pos-(U-4);for(;a.pos>ee;)q=x(_,E,q)}E[--q]=B,E[--q]=I-_,E[--q]=G-_,E[--q]=te}else U==-3?c=te:U==-4&&(f=te);return q}let k=[],C=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,k,C,-1,0);let S=(e=n.length)!==null&&e!==void 0?e:k.length?C[0]+k[0].length:0;return new Ti(l[n.topID],k.reverse(),C.reverse(),S)}const bb=new WeakMap;function Th(n,e){if(!n.isAnonymous||e instanceof ga||e.type!=n)return 1;let t=bb.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof Ti)){t=1;break}t+=Th(n,i)}bb.set(e,t)}return t}function qv(n,e,t,i,r,o,s,a,l){let c=0;for(let g=i;g<r;g++)c+=Th(n,e[g]);let f=Math.ceil(c*1.5/8),h=[],p=[];function m(g,v,b,x,k){for(let C=b;C<x;){let S=C,_=v[C],E=Th(n,g[C]);for(C++;C<x;C++){let q=Th(n,g[C]);if(E+q>=f)break;E+=q}if(C==S+1){if(E>f){let q=g[S];m(q.children,q.positions,0,q.children.length,v[S]+k);continue}h.push(g[S])}else{let q=v[C-1]+g[C-1].length-_;h.push(qv(n,g,v,S,C,_,q,null,l))}p.push(_+k-o)}}return m(e,t,i,r,0),(a||l)(h,p,s)}class $6{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof Xo?this.setBuffer(e.context.buffer,e.index,t):e instanceof Cr&&this.map.set(e.tree,t)}get(e){return e instanceof Xo?this.getBuffer(e.context.buffer,e.index):e instanceof Cr?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Os{constructor(e,t,i,r,o=!1,s=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new Os(0,e.length,e,0,!1,i)];for(let o of t)o.to>e.length&&r.push(o);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let f=a<t.length?t[a]:null,h=f?f.fromA:1e9;if(h-l>=i)for(;s&&s.from<h;){let p=s;if(l>=p.from||h<=p.to||c){let m=Math.max(p.from,l)-c,g=Math.min(p.to,h)-c;p=m>=g?null:new Os(m,g,p.tree,p.offset+c,a>0,!!f)}if(p&&r.push(p),s.to>h)break;s=o<e.length?e[o++]:null}if(!f)break;l=f.toA,c=f.toA-f.toB}return r}}class JS{startParse(e,t,i){return typeof e=="string"&&(e=new M6(e)),i=i?i.length?i.map(r=>new lo(r.from,r.to)):[new lo(0,0)]:[new lo(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let o=r.advance();if(o)return o}}}class M6{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function eU(n){return(e,t,i,r)=>new T6(e,n,t,i,r)}class xb{constructor(e,t,i,r,o){this.parser=e,this.parse=t,this.overlay=i,this.target=r,this.from=o}}function wb(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class P6{constructor(e,t,i,r,o,s,a){this.parser=e,this.predicate=t,this.mounts=i,this.index=r,this.start=o,this.target=s,this.prev=a,this.depth=0,this.ranges=[]}}const yg=new En({perNode:!0});class T6{constructor(e,t,i,r,o){this.nest=t,this.input=i,this.fragments=r,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let r of this.inner)r.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new Ti(i.type,i.children,i.positions,i.length,i.propValues.concat([[yg,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[En.mounted.id]=new Cu(t,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new R6(this.fragments),t=null,i=null,r=new Zh(new Cr(this.baseTree,this.ranges[0].from,0,null),mi.IncludeAnonymous|mi.IgnoreMounts);e:for(let o,s;;){let a=!0,l;if(this.stoppedAt!=null&&r.from>=this.stoppedAt)a=!1;else if(e.hasNode(r)){if(t){let c=t.mounts.find(f=>f.frag.from<=r.from&&f.frag.to>=r.to&&f.mount.overlay);if(c)for(let f of c.mount.overlay){let h=f.from+c.pos,p=f.to+c.pos;h>=r.from&&p<=r.to&&!t.ranges.some(m=>m.from<p&&m.to>h)&&t.ranges.push({from:h,to:p})}}a=!1}else if(i&&(s=E6(i.ranges,r.from,r.to)))a=s!=2;else if(!r.type.isAnonymous&&(o=this.nest(r,this.input))&&(r.from<r.to||!o.overlay)){r.tree||A6(r);let c=e.findMounts(r.from,o.parser);if(typeof o.overlay=="function")t=new P6(o.parser,o.overlay,c,this.inner.length,r.from,r.tree,t);else{let f=jb(this.ranges,o.overlay||(r.from<r.to?[new lo(r.from,r.to)]:[]));f.length&&wb(f),(f.length||!o.overlay)&&this.inner.push(new xb(o.parser,f.length?o.parser.startParse(this.input,Sb(c,f),f):o.parser.startParse(""),o.overlay?o.overlay.map(h=>new lo(h.from-r.from,h.to-r.from)):null,r.tree,f.length?f[0].from:r.from)),o.overlay?f.length&&(i={ranges:f,depth:0,prev:i}):a=!1}}else t&&(l=t.predicate(r))&&(l===!0&&(l=new lo(r.from,r.to)),l.from<l.to&&t.ranges.push(l));if(a&&r.firstChild())t&&t.depth++,i&&i.depth++;else for(;!r.nextSibling();){if(!r.parent())break e;if(t&&!--t.depth){let c=jb(this.ranges,t.ranges);c.length&&(wb(c),this.inner.splice(t.index,0,new xb(t.parser,t.parser.startParse(this.input,Sb(t.mounts,c),c),t.ranges.map(f=>new lo(f.from-t.start,f.to-t.start)),t.target,c[0].from))),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function E6(n,e,t){for(let i of n){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function kb(n,e,t,i,r,o){if(e<t){let s=n.buffer[e+1];i.push(n.slice(e,t,s)),r.push(s-o)}}function A6(n){let{node:e}=n,t=[],i=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let r=n.tree,o=r.children.indexOf(i),s=r.children[o],a=s.buffer,l=[o];function c(f,h,p,m,g,v){let b=t[v],x=[],k=[];kb(s,f,b,x,k,m);let C=a[b+1],S=a[b+2];l.push(x.length);let _=v?c(b+4,a[b+3],s.set.types[a[b]],C,S-C,v-1):e.toTree();return x.push(_),k.push(C-m),kb(s,a[b+3],h,x,k,m),new Ti(p,x,k,g)}r.children[o]=c(0,a.length,Ar.none,0,s.length,t.length-1);for(let f of l){let h=n.tree.children[f],p=n.tree.positions[f];n.yield(new Cr(h,p+n.from,f,n._tree))}}class _b{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(mi.IncludeAnonymous|mi.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,mi.IgnoreOverlays|mi.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof Ti)t=t.children[0];else break}return!1}}let R6=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(yg))!==null&&t!==void 0?t:i.to,this.inner=new _b(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(yg))!==null&&e!==void 0?e:t.to,this.inner=new _b(t.tree,-t.offset)}}findMounts(e,t){var i;let r=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(i=o.tree)===null||i===void 0?void 0:i.prop(En.mounted);if(s&&s.parser==t)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=o.to)break;l.tree==this.curFrag.tree&&r.push({frag:l,pos:o.from-l.offset,mount:s})}}}return r}};function jb(n,e){let t=null,i=e;for(let r=1,o=0;r<n.length;r++){let s=n[r-1].to,a=n[r].from;for(;o<i.length;o++){let l=i[o];if(l.from>=a)break;l.to<=s||(t||(i=t=e.slice()),l.from<s?(t[o]=new lo(l.from,s),l.to>a&&t.splice(o+1,0,new lo(a,l.to))):l.to>a?t[o--]=new lo(a,l.to):t.splice(o--,1))}}return i}function L6(n,e,t,i){let r=0,o=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let f=r==n.length?1e9:s?n[r].to:n[r].from,h=o==e.length?1e9:a?e[o].to:e[o].from;if(s!=a){let p=Math.max(l,t),m=Math.min(f,h,i);p<m&&c.push(new lo(p,m))}if(l=Math.min(f,h),l==1e9)break;f==l&&(s?(s=!1,r++):s=!0),h==l&&(a?(a=!1,o++):a=!0)}return c}function Sb(n,e){let t=[];for(let{pos:i,mount:r,frag:o}of n){let s=i+(r.overlay?r.overlay[0].from:0),a=s+r.tree.length,l=Math.max(o.from,s),c=Math.min(o.to,a);if(r.overlay){let f=r.overlay.map(p=>new lo(p.from+i,p.to+i)),h=L6(e,f,l,c);for(let p=0,m=l;;p++){let g=p==h.length,v=g?c:h[p].from;if(v>m&&t.push(new Os(m,v,r.tree,-s,o.from>=m||o.openStart,o.to<=v||o.openEnd)),g)break;m=h[p].to}}else t.push(new Os(l,c,r.tree,-s,o.from>=s||o.openStart,o.to<=a||o.openEnd))}return t}let I6=0;class Zo{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=I6++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new Zo([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Jh;return t=>t.modified.indexOf(e)>-1?t:Jh.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let N6=0;class Jh{constructor(){this.instances=[],this.id=N6++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&B6(t,a.modified));if(i)return i;let r=[],o=new Zo(r,e,t);for(let a of t)a.instances.push(o);let s=D6(t);for(let a of e.set)if(!a.modified.length)for(let l of s)r.push(Jh.get(a,l));return o}}function B6(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function D6(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function Fv(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let o=[],s=2,a=r;for(let h=0;;){if(a=="..."&&h>0&&h+3==r.length){s=1;break}let p=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!p)throw new RangeError("Invalid path: "+r);if(o.push(p[0]=="*"?"":p[0][0]=='"'?JSON.parse(p[0]):p[0]),h+=p[0].length,h==r.length)break;let m=r[h++];if(h==r.length&&m=="!"){s=0;break}if(m!="/")throw new RangeError("Invalid path: "+r);a=r.slice(h)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+r);let f=new Gh(i,s,l>0?o.slice(0,l):null);e[c]=f.sort(e[c])}}return GS.add(e)}const GS=new En;class Gh{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Gh.empty=new Gh([],2,null);function KS(n,e){let t=Object.create(null);for(let o of n)if(!Array.isArray(o.tag))t[o.tag.id]=o.class;else for(let s of o.tag)t[s.id]=o.class;let{scope:i,all:r=null}=e||{};return{style:o=>{let s=r;for(let a of o)for(let l of a.set){let c=t[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:i}}function z6(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function q6(n,e,t,i=0,r=n.length){let o=new F6(i,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),i,r,"",o.highlighters),o.flush(r)}class F6{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,o){let{type:s,from:a,to:l}=e;if(a>=i||l<=t)return;s.isTop&&(o=this.highlighters.filter(m=>!m.scope||m.scope(s)));let c=r,f=H6(e)||Gh.empty,h=z6(o,f.tags);if(h&&(c&&(c+=" "),c+=h,f.mode==1&&(r+=(r?" ":"")+h)),this.startSpan(Math.max(t,a),c),f.opaque)return;let p=e.tree&&e.tree.prop(En.mounted);if(p&&p.overlay){let m=e.node.enter(p.overlay[0].from+a,1),g=this.highlighters.filter(b=>!b.scope||b.scope(p.tree.type)),v=e.firstChild();for(let b=0,x=a;;b++){let k=b<p.overlay.length?p.overlay[b]:null,C=k?k.from+a:l,S=Math.max(t,x),_=Math.min(i,C);if(S<_&&v)for(;e.from<_&&(this.highlightRange(e,S,_,r,o),this.startSpan(Math.min(_,e.to),c),!(e.to>=C||!e.nextSibling())););if(!k||C>i)break;x=k.to+a,x>t&&(this.highlightRange(m.cursor(),Math.max(t,k.from+a),Math.min(i,x),"",g),this.startSpan(Math.min(i,x),c))}v&&e.parent()}else if(e.firstChild()){p&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,o),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function H6(n){let e=n.type.prop(GS);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const ht=Zo.define,qf=ht(),Qs=ht(),Cb=ht(Qs),Ob=ht(Qs),Zs=ht(),Ff=ht(Zs),Zp=ht(Zs),Wo=ht(),Ma=ht(Wo),Do=ht(),zo=ht(),bg=ht(),zc=ht(bg),Hf=ht(),Oe={comment:qf,lineComment:ht(qf),blockComment:ht(qf),docComment:ht(qf),name:Qs,variableName:ht(Qs),typeName:Cb,tagName:ht(Cb),propertyName:Ob,attributeName:ht(Ob),className:ht(Qs),labelName:ht(Qs),namespace:ht(Qs),macroName:ht(Qs),literal:Zs,string:Ff,docString:ht(Ff),character:ht(Ff),attributeValue:ht(Ff),number:Zp,integer:ht(Zp),float:ht(Zp),bool:ht(Zs),regexp:ht(Zs),escape:ht(Zs),color:ht(Zs),url:ht(Zs),keyword:Do,self:ht(Do),null:ht(Do),atom:ht(Do),unit:ht(Do),modifier:ht(Do),operatorKeyword:ht(Do),controlKeyword:ht(Do),definitionKeyword:ht(Do),moduleKeyword:ht(Do),operator:zo,derefOperator:ht(zo),arithmeticOperator:ht(zo),logicOperator:ht(zo),bitwiseOperator:ht(zo),compareOperator:ht(zo),updateOperator:ht(zo),definitionOperator:ht(zo),typeOperator:ht(zo),controlOperator:ht(zo),punctuation:bg,separator:ht(bg),bracket:zc,angleBracket:ht(zc),squareBracket:ht(zc),paren:ht(zc),brace:ht(zc),content:Wo,heading:Ma,heading1:ht(Ma),heading2:ht(Ma),heading3:ht(Ma),heading4:ht(Ma),heading5:ht(Ma),heading6:ht(Ma),contentSeparator:ht(Wo),list:ht(Wo),quote:ht(Wo),emphasis:ht(Wo),strong:ht(Wo),link:ht(Wo),monospace:ht(Wo),strikethrough:ht(Wo),inserted:ht(),deleted:ht(),changed:ht(),invalid:ht(),meta:Hf,documentMeta:ht(Hf),annotation:ht(Hf),processingInstruction:ht(Hf),definition:Zo.defineModifier(),constant:Zo.defineModifier(),function:Zo.defineModifier(),standard:Zo.defineModifier(),local:Zo.defineModifier(),special:Zo.defineModifier()};KS([{tag:Oe.link,class:"tok-link"},{tag:Oe.heading,class:"tok-heading"},{tag:Oe.emphasis,class:"tok-emphasis"},{tag:Oe.strong,class:"tok-strong"},{tag:Oe.keyword,class:"tok-keyword"},{tag:Oe.atom,class:"tok-atom"},{tag:Oe.bool,class:"tok-bool"},{tag:Oe.url,class:"tok-url"},{tag:Oe.labelName,class:"tok-labelName"},{tag:Oe.inserted,class:"tok-inserted"},{tag:Oe.deleted,class:"tok-deleted"},{tag:Oe.literal,class:"tok-literal"},{tag:Oe.string,class:"tok-string"},{tag:Oe.number,class:"tok-number"},{tag:[Oe.regexp,Oe.escape,Oe.special(Oe.string)],class:"tok-string2"},{tag:Oe.variableName,class:"tok-variableName"},{tag:Oe.local(Oe.variableName),class:"tok-variableName tok-local"},{tag:Oe.definition(Oe.variableName),class:"tok-variableName tok-definition"},{tag:Oe.special(Oe.variableName),class:"tok-variableName2"},{tag:Oe.definition(Oe.propertyName),class:"tok-propertyName tok-definition"},{tag:Oe.typeName,class:"tok-typeName"},{tag:Oe.namespace,class:"tok-namespace"},{tag:Oe.className,class:"tok-className"},{tag:Oe.macroName,class:"tok-macroName"},{tag:Oe.propertyName,class:"tok-propertyName"},{tag:Oe.operator,class:"tok-operator"},{tag:Oe.comment,class:"tok-comment"},{tag:Oe.meta,class:"tok-meta"},{tag:Oe.invalid,class:"tok-invalid"},{tag:Oe.punctuation,class:"tok-punctuation"}]);var Jp;const Il=new En;function V6(n){return Rt.define({combine:n?e=>e.concat(n):void 0})}const W6=new En;class Oo{constructor(e,t,i=[],r=""){this.data=e,this.name=r,wn.prototype.hasOwnProperty("tree")||Object.defineProperty(wn.prototype,"tree",{get(){return rr(this)}}),this.parser=t,this.extension=[va.of(this),wn.languageData.of((o,s,a)=>{let l=$b(o,s,a),c=l.type.prop(Il);if(!c)return[];let f=o.facet(c),h=l.type.prop(W6);if(h){let p=l.resolve(s-l.from,a);for(let m of h)if(m.test(p,o)){let g=o.facet(m.facet);return m.type=="replace"?g:g.concat(f)}}return f})].concat(i)}isActiveAt(e,t,i=-1){return $b(e,t,i).type.prop(Il)==this.data}findRegions(e){let t=e.facet(va);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(o,s)=>{if(o.prop(Il)==this.data){i.push({from:s,to:s+o.length});return}let a=o.prop(En.mounted);if(a){if(a.tree.prop(Il)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+s,to:l.to+s});else i.push({from:s,to:s+o.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+s),i.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof Ti&&r(c,o.positions[l]+s)}};return r(rr(e),0),i}get allowsNesting(){return!0}}Oo.setState=mn.define();function $b(n,e,t){let i=n.facet(va),r=rr(n).topNode;if(!i||i.allowsNesting)for(let o=r;o;o=o.enter(e,t,mi.ExcludeBuffers))o.type.isTop&&(r=o);return r}class $u extends Oo{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=V6(e.languageData);return new $u(t,e.parser.configure({props:[Il.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new $u(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function rr(n){let e=n.field(Oo.state,!1);return e?e.tree:Ti.empty}class U6{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let qc=null;class Kh{constructor(e,t,i=[],r,o,s,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Kh(e,t,[],Ti.empty,0,i,[],null)}startParse(){return this.parser.startParse(new U6(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ti.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Os.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Os.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=qc;qc=this;try{return e()}finally{qc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Mb(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,f,h,p)=>l.push({fromA:c,toA:f,fromB:h,toB:p})),i=Os.applyChanges(i,l),r=Ti.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let f=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);f<h&&a.push({from:f,to:h})}}}return new Kh(this.parser,t,i,r,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:o}=this.skipped[i];r<e.to&&o>e.from&&(this.fragments=Mb(this.fragments,r,o),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends JS{createParse(t,i,r){let o=r[0].from,s=r[r.length-1].to;return{parsedPos:o,advance(){let l=qc;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new Ti(Ar.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return qc}}function Mb(n,e,t){return Os.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class ac{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new ac(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Kh.create(e.facet(va).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new ac(i)}}Oo.state=Ji.define({create:ac.init,update(n,e){for(let t of e.effects)if(t.is(Oo.setState))return t.value;return e.startState.facet(va)!=e.state.facet(va)?ac.init(e.state):n.apply(e)}});let XS=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(XS=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Gp=typeof navigator<"u"&&(!((Jp=navigator.scheduling)===null||Jp===void 0)&&Jp.isInputPending)?()=>navigator.scheduling.isInputPending():null,Q6=ki.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Oo.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Oo.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=XS(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,o=i.field(Oo.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!Gp?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<r&&i.doc.length>r+1e3,l=o.context.work(()=>Gp&&Gp()||Date.now()>s,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Oo.setState.of(new ac(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Gr(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),va=Rt.define({combine(n){return n.length?n[0]:null},enables:n=>[Oo.state,Q6,gt.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class YS{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Z6=Rt.define(),Yu=Rt.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function ya(n){let e=n.facet(Yu);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Mu(n,e){let t="",i=n.tabSize,r=n.facet(Yu)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let o=0;o<e;o++)t+=r;return t}function Hv(n,e){n instanceof wn&&(n=new Zd(n));for(let i of n.state.facet(Z6)){let r=i(n,e);if(r!==void 0)return r}let t=rr(n.state);return t.length>=e?J6(n,t,e):null}class Zd{constructor(e,t={}){this.state=e,this.options=t,this.unit=ya(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return r!=null&&r>=i.from&&r<=i.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),o=this.countColumn(i,e-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(o+=s-this.countColumn(i,i.search(/\S|$/))),o}countColumn(e,t=e.length){return wc(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(r);if(s>-1)return s}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Vv=new En;function J6(n,e,t){let i=e.resolveStack(t),r=i.node.enterUnfinishedNodesBefore(t);if(r!=i.node){let o=[];for(let s=r;s!=i.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)i={node:o[s],next:i}}return e4(i,n,t)}function e4(n,e,t){for(let i=n;i;i=i.next){let r=K6(i.node);if(r)return r(Wv.create(e,t,i))}return 0}function G6(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function K6(n){let e=n.type.prop(Vv);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(En.closedBy))){let r=n.lastChild,o=r&&i.indexOf(r.name)>-1;return s=>t4(s,!0,1,void 0,o&&!G6(s)?r.from:void 0)}return n.parent==null?X6:null}function X6(){return 0}class Wv extends Zd{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new Wv(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(Y6(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return e4(this.context.next,this.base,this.pos)}}function Y6(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function eP(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,o=n.state.doc.lineAt(t.from),s=r==null||r<=o.from?o.to:Math.min(o.to,r);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<s?t:null;a=l.to}}function iU({closing:n,align:e=!0,units:t=1}){return i=>t4(i,e,t,n)}function t4(n,e,t,i,r){let o=n.textAfter,s=o.match(/^\s*/)[0].length,a=i&&o.slice(s,s+i.length)==i||r==n.pos+s,l=e?eP(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const rU=n=>n.baseIndent;function xg({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const tP=200;function n4(){return wn.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+tP)return n;let o=t.sliceString(r.from,i);if(!e.some(c=>c.test(o)))return n;let{state:s}=n,a=-1,l=[];for(let{head:c}of s.selection.ranges){let f=s.doc.lineAt(c);if(f.from==a)continue;a=f.from;let h=Hv(s,f.from);if(h==null)continue;let p=/^\s*/.exec(f.text)[0],m=Mu(s,h);p!=m&&l.push({from:f.from,to:f.from+p.length,insert:m})}return l.length?[n,{changes:l,sequential:!0}]:n})}const nP=Rt.define(),Uv=new En;function i4(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function iP(n,e,t){let i=rr(n);if(i.length<t)return null;let r=i.resolveStack(t,1),o=null;for(let s=r;s;s=s.next){let a=s.node;if(a.to<=t||a.from>t)continue;if(o&&a.from<e)break;let l=a.type.prop(Uv);if(l&&(a.to<i.length-50||i.length==n.doc.length||!rP(a))){let c=l(a,n);c&&c.from<=t&&c.from>=e&&c.to>t&&(o=c)}}return o}function rP(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Xh(n,e,t){for(let i of n.facet(nP)){let r=i(n,e,t);if(r)return r}return iP(n,e,t)}function r4(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Jd=mn.define({map:r4}),ef=mn.define({map:r4});function o4(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Ga=Ji.define({create(){return Ut.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(Jd)&&!oP(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(Qv),r=i?Ut.replace({widget:new fP(i(e.state,t.value))}):Pb;n=n.update({add:[r.range(t.value.from,t.value.to)]})}else t.is(ef)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(r,o)=>{r<i&&o>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,o)=>o<=i||r>=i}))}return n},provide:n=>gt.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,r)=>{t.push(i,r)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],r=n[t++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(Pb.range(i,r))}return Ut.set(e,!0)}});function Yh(n,e,t){var i;let r=null;return(i=n.field(Ga,!1))===null||i===void 0||i.between(e,t,(o,s)=>{(!r||r.from>o)&&(r={from:o,to:s})}),r}function oP(n,e,t){let i=!1;return n.between(e,e,(r,o)=>{r==e&&o==t&&(i=!0)}),i}function s4(n,e){return n.field(Ga,!1)?e:e.concat(mn.appendConfig.of(c4()))}const sP=n=>{for(let e of o4(n)){let t=Xh(n.state,e.from,e.to);if(t)return n.dispatch({effects:s4(n.state,[Jd.of(t),a4(n,t)])}),!0}return!1},aP=n=>{if(!n.state.field(Ga,!1))return!1;let e=[];for(let t of o4(n)){let i=Yh(n.state,t.from,t.to);i&&e.push(ef.of(i),a4(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function a4(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return gt.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const lP=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),o=Xh(e,r.from,r.to);o&&t.push(Jd.of(o)),i=(o?n.lineBlockAt(o.to):r).to+1}return t.length&&n.dispatch({effects:s4(n.state,t)}),!!t.length},cP=n=>{let e=n.state.field(Ga,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(ef.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},l4=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:sP},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:aP},{key:"Ctrl-Alt-[",run:lP},{key:"Ctrl-Alt-]",run:cP}],uP={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Qv=Rt.define({combine(n){return yo(n,uP)}});function c4(n){let e=[Ga,dP];return n&&e.push(Qv.of(n)),e}function u4(n,e){let{state:t}=n,i=t.facet(Qv),r=s=>{let a=n.lineBlockAt(n.posAtDOM(s.target)),l=Yh(n.state,a.from,a.to);l&&n.dispatch({effects:ef.of(l)}),s.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,r,e);let o=document.createElement("span");return o.textContent=i.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=r,o}const Pb=Ut.replace({widget:new class extends fs{toDOM(n){return u4(n,null)}}});class fP extends fs{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return u4(e,this.value)}}const hP={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Kp extends os{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function f4(n={}){let e=Object.assign(Object.assign({},hP),n),t=new Kp(e,!0),i=new Kp(e,!1),r=ki.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(va)!=s.state.facet(va)||s.startState.field(Ga,!1)!=s.state.field(Ga,!1)||rr(s.startState)!=rr(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new rs;for(let l of s.viewportLineBlocks){let c=Yh(s.state,l.from,l.to)?i:Xh(s.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:o}=e;return[r,zS({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(r))===null||a===void 0?void 0:a.markers)||Xn.empty},initialSpacer(){return new Kp(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let c=Yh(s.state,a.from,a.to);if(c)return s.dispatch({effects:ef.of(c)}),!0;let f=Xh(s.state,a.from,a.to);return f?(s.dispatch({effects:Jd.of(f)}),!0):!1}})}),c4()]}const dP=gt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class kc{constructor(e,t){this.specs=e;let i;function r(a){let l=da.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const o=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,s=t.scope;this.scope=s instanceof Oo?a=>a.prop(Il)==s.data:s?a=>a==s:void 0,this.style=KS(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=i?new da(i):null,this.themeType=t.themeType}static define(e,t){return new kc(e,t||{})}}const wg=Rt.define(),h4=Rt.define({combine(n){return n.length?[n[0]]:null}});function Xp(n){let e=n.facet(wg);return e.length?e:n.facet(h4)}function Ba(n,e){let t=[mP],i;return n instanceof kc&&(n.module&&t.push(gt.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(h4.of(n)):i?t.push(wg.computeN([gt.darkTheme],r=>r.facet(gt.darkTheme)==(i=="dark")?[n]:[])):t.push(wg.of(n)),t}class pP{constructor(e){this.markCache=Object.create(null),this.tree=rr(e.state),this.decorations=this.buildDeco(e,Xp(e.state))}update(e){let t=rr(e.state),i=Xp(e.state),r=i!=Xp(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return Ut.none;let i=new rs;for(let{from:r,to:o}of e.visibleRanges)q6(this.tree,t,(s,a,l)=>{i.add(s,a,this.markCache[l]||(this.markCache[l]=Ut.mark({class:l})))},r,o);return i.finish()}}const mP=ll.high(ki.fromClass(pP,{decorations:n=>n.decorations})),ed=kc.define([{tag:Oe.meta,color:"#404740"},{tag:Oe.link,textDecoration:"underline"},{tag:Oe.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Oe.emphasis,fontStyle:"italic"},{tag:Oe.strong,fontWeight:"bold"},{tag:Oe.strikethrough,textDecoration:"line-through"},{tag:Oe.keyword,color:"#708"},{tag:[Oe.atom,Oe.bool,Oe.url,Oe.contentSeparator,Oe.labelName],color:"#219"},{tag:[Oe.literal,Oe.inserted],color:"#164"},{tag:[Oe.string,Oe.deleted],color:"#a11"},{tag:[Oe.regexp,Oe.escape,Oe.special(Oe.string)],color:"#e40"},{tag:Oe.definition(Oe.variableName),color:"#00f"},{tag:Oe.local(Oe.variableName),color:"#30a"},{tag:[Oe.typeName,Oe.namespace],color:"#085"},{tag:Oe.className,color:"#167"},{tag:[Oe.special(Oe.variableName),Oe.macroName],color:"#256"},{tag:Oe.definition(Oe.propertyName),color:"#00c"},{tag:Oe.comment,color:"#940"},{tag:Oe.invalid,color:"#f00"}]),gP=gt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),d4=1e4,p4="()[]{}",m4=Rt.define({combine(n){return yo(n,{afterCursor:!0,brackets:p4,maxScanDistance:d4,renderMatch:bP})}}),vP=Ut.mark({class:"cm-matchingBracket"}),yP=Ut.mark({class:"cm-nonmatchingBracket"});function bP(n){let e=[],t=n.matched?vP:yP;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const xP=Ji.define({create(){return Ut.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(m4);for(let r of e.state.selection.ranges){if(!r.empty)continue;let o=Yo(e.state,r.head,-1,i)||r.head>0&&Yo(e.state,r.head-1,1,i)||i.afterCursor&&(Yo(e.state,r.head,1,i)||r.head<e.state.doc.length&&Yo(e.state,r.head+1,-1,i));o&&(t=t.concat(i.renderMatch(o,e.state)))}return Ut.set(t,!0)},provide:n=>gt.decorations.from(n)}),wP=[xP,gP];function g4(n={}){return[m4.of(n),wP]}const kP=new En;function kg(n,e,t){let i=n.prop(e<0?En.openedBy:En.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function _g(n){let e=n.type.prop(kP);return e?e(n.node):n}function Yo(n,e,t,i={}){let r=i.maxScanDistance||d4,o=i.brackets||p4,s=rr(n),a=s.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=kg(l.type,t,o);if(c&&l.from<l.to){let f=_g(l);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return _P(n,e,t,l,f,c,o)}}return jP(n,e,t,s,a.type,r,o)}function _P(n,e,t,i,r,o,s){let a=i.parent,l={from:r.from,to:r.to},c=0,f=a==null?void 0:a.cursor();if(f&&(t<0?f.childBefore(i.from):f.childAfter(i.to)))do if(t<0?f.to<=i.from:f.from>=i.to){if(c==0&&o.indexOf(f.type.name)>-1&&f.from<f.to){let h=_g(f);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(kg(f.type,t,s))c++;else if(kg(f.type,-t,s)){if(c==0){let h=_g(f);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(t<0?f.prevSibling():f.nextSibling());return{start:l,matched:!1}}function jP(n,e,t,i,r,o,s){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},f=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let p=0;!f.next().done&&p<=o;){let m=f.value;t<0&&(p+=m.length);let g=e+p*t;for(let v=t>0?0:m.length-1,b=t>0?m.length:-1;v!=b;v+=t){let x=s.indexOf(m[v]);if(!(x<0||i.resolveInner(g+v,1).type!=r))if(x%2==0==t>0)h++;else{if(h==1)return{start:c,end:{from:g+v,to:g+v+1},matched:x>>1==l>>1};h--}}t>0&&(p+=m.length)}return f.done?{start:c,matched:!1}:null}const SP=Object.create(null),Tb=[Ar.none],Eb=[],Ab=Object.create(null),CP=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])CP[n]=OP(SP,e);function Yp(n,e){Eb.indexOf(n)>-1||(Eb.push(n),console.warn(e))}function OP(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let f=n[c]||Oe[c];f?typeof f=="function"?l.length?l=l.map(f):Yp(c,`Modifier ${c} used at start of tag`):l.length?Yp(c,`Tag ${c} used as modifier`):l=Array.isArray(f)?f:[f]:Yp(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let i=e.replace(/ /g,"_"),r=i+" "+t.map(a=>a.id),o=Ab[r];if(o)return o.id;let s=Ab[r]=Ar.define({id:Tb.length,name:i,props:[Fv({[i]:t})]});return Tb.push(s),s.id}const $P=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=Jv(n.state,t.from);return i.line?MP(n):i.block?TP(n):!1};function Zv(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const MP=Zv(RP,0),PP=Zv(v4,0),TP=Zv((n,e)=>v4(n,e,AP(e)),0);function Jv(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Fc=50;function EP(n,{open:e,close:t},i,r){let o=n.sliceDoc(i-Fc,i),s=n.sliceDoc(r,r+Fc),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-e.length,c)==e&&s.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let f,h;r-i<=2*Fc?f=h=n.sliceDoc(i,r):(f=n.sliceDoc(i,i+Fc),h=n.sliceDoc(r-Fc,r));let p=/^\s*/.exec(f)[0].length,m=/\s*$/.exec(h)[0].length,g=h.length-m-t.length;return f.slice(p,p+e.length)==e&&h.slice(g,g+t.length)==t?{open:{pos:i+p+e.length,margin:/\s/.test(f.charAt(p+e.length))?1:0},close:{pos:r-m-t.length,margin:/\s/.test(h.charAt(g-1))?1:0}}:null}function AP(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),o=e.length-1;o>=0&&e[o].to>i.from?e[o].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function v4(n,e,t=e.selection.ranges){let i=t.map(o=>Jv(e,o.from).block);if(!i.every(o=>o))return null;let r=t.map((o,s)=>EP(e,i[s],o.from,o.to));if(n!=2&&!r.every(o=>o))return{changes:e.changes(t.map((o,s)=>r[s]?[]:[{from:o.from,insert:i[s].open+" "},{from:o.to,insert:" "+i[s].close}]))};if(n!=1&&r.some(o=>o)){let o=[];for(let s=0,a;s<r.length;s++)if(a=r[s]){let l=i[s],{open:c,close:f}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:o}}return null}function RP(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:o,to:s}of t){let a=i.length,l=1e9,c=Jv(e,o).line;if(c){for(let f=o;f<=s;){let h=e.doc.lineAt(f);if(h.from>r&&(o==s||s>h.from)){r=h.from;let p=/^\s*/.exec(h.text)[0].length,m=p==h.length,g=h.text.slice(p,p+c.length)==c?p:-1;p<h.text.length&&p<l&&(l=p),i.push({line:h,comment:g,token:c,indent:p,empty:m,single:!1})}f=h.to+1}if(l<1e9)for(let f=a;f<i.length;f++)i[f].indent<i[f].line.text.length&&(i[f].indent=l);i.length==a+1&&(i[a].single=!0)}}if(n!=2&&i.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:f,single:h}of i)(h||!f)&&o.push({from:a.from+c,insert:l+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(n!=1&&i.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of i)if(a>=0){let c=s.from+a,f=c+l.length;s.text[f-s.from]==" "&&f++,o.push({from:c,to:f})}return{changes:o}}return null}const jg=qs.define(),LP=qs.define(),IP=Rt.define(),y4=Rt.define({combine(n){return yo(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})}}),Gv=Ji.define({create(){return es.empty},update(n,e){let t=e.state.facet(y4),i=e.annotation(jg);if(i){let l=Nr.fromTransaction(e,i.selection),c=i.side,f=c==0?n.undone:n.done;return l?f=nd(f,f.length,t.minDepth,l):f=k4(f,e.startState.selection),new es(c==0?i.rest:f,c==0?f:i.rest)}let r=e.annotation(LP);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(er.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=Nr.fromTransaction(e),s=e.annotation(er.time),a=e.annotation(er.userEvent);return o?n=n.addChanges(o,s,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,s,a,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new es(n.done.map(Nr.fromJSON),n.undone.map(Nr.fromJSON))}});function b4(n={}){return[Gv,y4.of(n),gt.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?Kv:e.inputType=="historyRedo"?td:null;return i?(e.preventDefault(),i(t)):!1}})]}function Gd(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(Gv,!1);if(!r)return!1;let o=r.pop(n,t,e);return o?(i(o),!0):!1}}const Kv=Gd(0,!1),td=Gd(1,!1),NP=Gd(0,!0),BP=Gd(1,!0);function x4(n){return function(e){let t=e.field(Gv,!1);if(!t)return 0;let i=n==0?t.done:t.undone;return i.length-(i.length&&!i[0].changes?1:0)}}const DP=x4(0),zP=x4(1);class Nr{constructor(e,t,i,r,o){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new Nr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Nr(e.changes&&Yi.fromJSON(e.changes),[],e.mapped&&ns.fromJSON(e.mapped),e.startSelection&&He.fromJSON(e.startSelection),e.selectionsAfter.map(He.fromJSON))}static fromTransaction(e,t){let i=co;for(let r of e.startState.facet(IP)){let o=r(e);o.length&&(i=i.concat(o))}return!i.length&&e.changes.empty?null:new Nr(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,co)}static selection(e){return new Nr(void 0,co,void 0,void 0,e)}}function nd(n,e,t,i){let r=e+1>t+20?e-t-1:0,o=n.slice(r,e);return o.push(i),o}function qP(n,e){let t=[],i=!1;return n.iterChangedRanges((r,o)=>t.push(r,o)),e.iterChangedRanges((r,o,s,a)=>{for(let l=0;l<t.length;){let c=t[l++],f=t[l++];a>=c&&s<=f&&(i=!0)}}),i}function FP(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function w4(n,e){return n.length?e.length?n.concat(e):n:e}const co=[],HP=200;function k4(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-HP));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),nd(n,n.length-1,1e9,t.setSelAfter(i)))}else return[Nr.selection([e])]}function VP(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function em(n,e){if(!n.length)return n;let t=n.length,i=co;for(;t;){let r=WP(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let o=n.slice(0,t);return o[t-1]=r,o}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[Nr.selection(i)]:co}function WP(n,e,t){let i=w4(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):co,t);if(!n.changes)return Nr.selection(i);let r=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new Nr(r,mn.mapEffects(n.effects,e),s,n.startSelection.map(o),i)}const UP=/^(input\.type|delete)($|\.)/;class es{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new es(this.done,this.undone):this}addChanges(e,t,i,r,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||UP.test(i))&&(!a.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,qP(a.changes,e.changes))||i=="input.type.compose")?s=nd(s,s.length-1,r.minDepth,new Nr(e.changes.compose(a.changes),w4(e.effects,a.effects),a.mapped,a.startSelection,co)):s=nd(s,s.length,r.minDepth,e),new es(s,co,t,i)}addSelection(e,t,i,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:co;return o.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&FP(o[o.length-1],e)?this:new es(k4(this.done,e),this.undone,t,i)}addMapping(e){return new es(em(this.done,e),em(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let o=r[r.length-1],s=o.selectionsAfter[0]||t.selection;if(i&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:jg.of({side:e,rest:VP(r),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=r.length==1?co:r.slice(0,r.length-1);return o.mapped&&(a=em(a,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:jg.of({side:e,rest:a,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}es.empty=new es(co,co);const _4=[{key:"Mod-z",run:Kv,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:td,preventDefault:!0},{linux:"Ctrl-Shift-z",run:td,preventDefault:!0},{key:"Mod-u",run:NP,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:BP,preventDefault:!0}];function _c(n,e){return He.create(n.ranges.map(e),n.mainIndex)}function hs(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ao({state:n,dispatch:e},t){let i=_c(n.selection,t);return i.eq(n.selection)?!1:(e(hs(n,i)),!0)}function Kd(n,e){return He.cursor(e?n.to:n.from)}function j4(n,e){return Ao(n,t=>t.empty?n.moveByChar(t,e):Kd(t,e))}function Mr(n){return n.textDirectionAt(n.state.selection.main.head)==Pi.LTR}const S4=n=>j4(n,!Mr(n)),C4=n=>j4(n,Mr(n));function O4(n,e){return Ao(n,t=>t.empty?n.moveByGroup(t,e):Kd(t,e))}const QP=n=>O4(n,!Mr(n)),ZP=n=>O4(n,Mr(n));function JP(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Xd(n,e,t){let i=rr(n).resolveInner(e.head),r=t?En.closedBy:En.openedBy;for(let l=e.head;;){let c=t?i.childAfter(l):i.childBefore(l);if(!c)break;JP(n,c,r)?i=c:l=t?c.to:c.from}let o=i.type.prop(r),s,a;return o&&(s=t?Yo(n,i.from,1):Yo(n,i.to,-1))&&s.matched?a=t?s.end.to:s.end.from:a=t?i.to:i.from,He.cursor(a,t?-1:1)}const GP=n=>Ao(n,e=>Xd(n.state,e,!Mr(n))),KP=n=>Ao(n,e=>Xd(n.state,e,Mr(n)));function $4(n,e){return Ao(n,t=>{if(!t.empty)return Kd(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const M4=n=>$4(n,!1),P4=n=>$4(n,!0);function T4(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let o of n.state.facet(gt.scrollMargins)){let s=o(n);s!=null&&s.top&&(t=Math.max(s==null?void 0:s.top,t)),s!=null&&s.bottom&&(i=Math.max(s==null?void 0:s.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function E4(n,e){let t=T4(n),{state:i}=n,r=_c(i.selection,s=>s.empty?n.moveVertically(s,e,t.height):Kd(s,e));if(r.eq(i.selection))return!1;let o;if(t.selfScroll){let s=n.coordsAtPos(i.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;s&&s.top>l&&s.bottom<c&&(o=gt.scrollIntoView(r.main.head,{y:"start",yMargin:s.top-l}))}return n.dispatch(hs(i,r),{effects:o}),!0}const Rb=n=>E4(n,!1),Sg=n=>E4(n,!0);function ja(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let o=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;o&&e.head!=i.from+o&&(r=He.cursor(i.from+o))}return r}const XP=n=>Ao(n,e=>ja(n,e,!0)),YP=n=>Ao(n,e=>ja(n,e,!1)),eT=n=>Ao(n,e=>ja(n,e,!Mr(n))),tT=n=>Ao(n,e=>ja(n,e,Mr(n))),nT=n=>Ao(n,e=>He.cursor(n.lineBlockAt(e.head).from,1)),iT=n=>Ao(n,e=>He.cursor(n.lineBlockAt(e.head).to,-1));function rT(n,e,t){let i=!1,r=_c(n.selection,o=>{let s=Yo(n,o.head,-1)||Yo(n,o.head,1)||o.head>0&&Yo(n,o.head-1,1)||o.head<n.doc.length&&Yo(n,o.head+1,-1);if(!s||!s.end)return o;i=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return t?He.range(o.anchor,a):He.cursor(a)});return i?(e(hs(n,r)),!0):!1}const oT=({state:n,dispatch:e})=>rT(n,e,!1);function bo(n,e){let t=_c(n.state.selection,i=>{let r=e(i);return He.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(hs(n.state,t)),!0)}function A4(n,e){return bo(n,t=>n.moveByChar(t,e))}const R4=n=>A4(n,!Mr(n)),L4=n=>A4(n,Mr(n));function I4(n,e){return bo(n,t=>n.moveByGroup(t,e))}const sT=n=>I4(n,!Mr(n)),aT=n=>I4(n,Mr(n)),lT=n=>bo(n,e=>Xd(n.state,e,!Mr(n))),cT=n=>bo(n,e=>Xd(n.state,e,Mr(n)));function N4(n,e){return bo(n,t=>n.moveVertically(t,e))}const B4=n=>N4(n,!1),D4=n=>N4(n,!0);function z4(n,e){return bo(n,t=>n.moveVertically(t,e,T4(n).height))}const Lb=n=>z4(n,!1),Ib=n=>z4(n,!0),uT=n=>bo(n,e=>ja(n,e,!0)),fT=n=>bo(n,e=>ja(n,e,!1)),hT=n=>bo(n,e=>ja(n,e,!Mr(n))),dT=n=>bo(n,e=>ja(n,e,Mr(n))),pT=n=>bo(n,e=>He.cursor(n.lineBlockAt(e.head).from)),mT=n=>bo(n,e=>He.cursor(n.lineBlockAt(e.head).to)),Nb=({state:n,dispatch:e})=>(e(hs(n,{anchor:0})),!0),Bb=({state:n,dispatch:e})=>(e(hs(n,{anchor:n.doc.length})),!0),Db=({state:n,dispatch:e})=>(e(hs(n,{anchor:n.selection.main.anchor,head:0})),!0),zb=({state:n,dispatch:e})=>(e(hs(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),gT=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),vT=({state:n,dispatch:e})=>{let t=Yd(n).map(({from:i,to:r})=>He.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:He.create(t),userEvent:"select"})),!0},yT=({state:n,dispatch:e})=>{let t=_c(n.selection,i=>{var r;let o=rr(n).resolveStack(i.from,1);for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&(!((r=a.parent)===null||r===void 0)&&r.parent))return He.range(a.to,a.from)}return i});return e(hs(n,t)),!0},bT=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=He.create([t.main]):t.main.empty||(i=He.create([He.cursor(t.main.head)])),i?(e(hs(n,i)),!0):!1};function tf(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(o);l<s?(t="delete.backward",l=Vf(n,l,!1)):l>s&&(t="delete.forward",l=Vf(n,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=Vf(n,s,!1),a=Vf(n,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:He.cursor(s,s<o.head?-1:1)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?gt.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function Vf(n,e,t){if(n instanceof gt)for(let i of n.state.facet(gt.atomicRanges).map(r=>r(n)))i.between(e,e,(r,o)=>{r<e&&o>e&&(e=t?o:r)});return e}const q4=(n,e)=>tf(n,t=>{let i=t.from,{state:r}=n,o=r.doc.lineAt(i),s,a;if(!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(s=o.text.slice(0,i-o.from))){if(s[s.length-1]=="	")return i-1;let l=wc(s,r.tabSize),c=l%ya(r)||ya(r);for(let f=0;f<c&&s[s.length-1-f]==" ";f++)i--;a=i}else a=gr(o.text,i-o.from,e,e)+o.from,a==i&&o.number!=(e?r.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(a-o.from,i-o.from))&&(a=gr(o.text,a-o.from,!1,!1)+o.from);return a}),Cg=n=>q4(n,!1),F4=n=>q4(n,!0),H4=(n,e)=>tf(n,t=>{let i=t.head,{state:r}=n,o=r.doc.lineAt(i),s=r.charCategorizer(i);for(let a=null;;){if(i==(e?o.to:o.from)){i==t.head&&o.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=gr(o.text,i-o.from,e)+o.from,c=o.text.slice(Math.min(i,l)-o.from,Math.max(i,l)-o.from),f=s(c);if(a!=null&&f!=a)break;(c!=" "||i!=t.head)&&(a=f),i=l}return i}),V4=n=>H4(n,!1),xT=n=>H4(n,!0),wT=n=>tf(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),kT=n=>tf(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),_T=n=>tf(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),jT=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:Un.of(["",""])},range:He.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},ST=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,o=n.doc.lineAt(r),s=r==o.from?r-1:gr(o.text,r-o.from,!1)+o.from,a=r==o.to?r+1:gr(o.text,r-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:n.doc.slice(r,a).append(n.doc.slice(s,r))},range:He.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Yd(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),o=n.doc.lineAt(i.to);if(!i.empty&&i.to==o.from&&(o=n.doc.lineAt(i.to-1)),t>=r.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(i)}else e.push({from:r.from,to:o.to,ranges:[i]});t=o.number+1}return e}function W4(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let o of Yd(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),a=s.length+1;if(t){i.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let l of o.ranges)r.push(He.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{i.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let l of o.ranges)r.push(He.range(l.anchor-a,l.head-a))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:He.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const CT=({state:n,dispatch:e})=>W4(n,e,!1),OT=({state:n,dispatch:e})=>W4(n,e,!0);function U4(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of Yd(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const $T=({state:n,dispatch:e})=>U4(n,e,!1),MT=({state:n,dispatch:e})=>U4(n,e,!0),PT=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Yd(e).map(({from:r,to:o})=>(r>0?r--:o<e.doc.length&&o++,{from:r,to:o}))),i=_c(e.selection,r=>n.moveVertically(r,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function TT(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=rr(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),o;return i&&r&&i.to<=e&&r.from>=e&&(o=i.type.prop(En.closedBy))&&o.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const ET=Q4(!1),AT=Q4(!0);function Q4(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:o,to:s}=r,a=e.doc.lineAt(o),l=!n&&o==s&&TT(e,o);n&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let c=new Zd(e,{simulateBreak:o,simulateDoubleBreak:!!l}),f=Hv(c,o);for(f==null&&(f=wc(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let h=["",Mu(e,f)];return l&&h.push(Mu(e,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Un.of(h)},range:He.cursor(o+1+h[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Xv(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let s=i.from;s<=i.to;){let a=n.doc.lineAt(s);a.number>t&&(i.empty||i.to>a.from)&&(e(a,r,i),t=a.number),s=a.to+1}let o=n.changes(r);return{changes:r,range:He.range(o.mapPos(i.anchor,1),o.mapPos(i.head,1))}})}const RT=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Zd(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),r=Xv(n,(o,s,a)=>{let l=Hv(i,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],f=Mu(n,l);(c!=f||a.from<o.from+c.length)&&(t[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:f}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},Z4=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Xv(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Yu)})}),{userEvent:"input.indent"})),!0),J4=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Xv(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let o=wc(r,n.tabSize),s=0,a=Mu(n,Math.max(0,o-ya(n)));for(;s<r.length&&s<a.length&&r.charCodeAt(s)==a.charCodeAt(s);)s++;i.push({from:t.from+s,to:t.from+r.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),LT=[{key:"Ctrl-b",run:S4,shift:R4,preventDefault:!0},{key:"Ctrl-f",run:C4,shift:L4},{key:"Ctrl-p",run:M4,shift:B4},{key:"Ctrl-n",run:P4,shift:D4},{key:"Ctrl-a",run:nT,shift:pT},{key:"Ctrl-e",run:iT,shift:mT},{key:"Ctrl-d",run:F4},{key:"Ctrl-h",run:Cg},{key:"Ctrl-k",run:wT},{key:"Ctrl-Alt-h",run:V4},{key:"Ctrl-o",run:jT},{key:"Ctrl-t",run:ST},{key:"Ctrl-v",run:Sg}],IT=[{key:"ArrowLeft",run:S4,shift:R4,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:QP,shift:sT,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:eT,shift:hT,preventDefault:!0},{key:"ArrowRight",run:C4,shift:L4,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:ZP,shift:aT,preventDefault:!0},{mac:"Cmd-ArrowRight",run:tT,shift:dT,preventDefault:!0},{key:"ArrowUp",run:M4,shift:B4,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Nb,shift:Db},{mac:"Ctrl-ArrowUp",run:Rb,shift:Lb},{key:"ArrowDown",run:P4,shift:D4,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Bb,shift:zb},{mac:"Ctrl-ArrowDown",run:Sg,shift:Ib},{key:"PageUp",run:Rb,shift:Lb},{key:"PageDown",run:Sg,shift:Ib},{key:"Home",run:YP,shift:fT,preventDefault:!0},{key:"Mod-Home",run:Nb,shift:Db},{key:"End",run:XP,shift:uT,preventDefault:!0},{key:"Mod-End",run:Bb,shift:zb},{key:"Enter",run:ET},{key:"Mod-a",run:gT},{key:"Backspace",run:Cg,shift:Cg},{key:"Delete",run:F4},{key:"Mod-Backspace",mac:"Alt-Backspace",run:V4},{key:"Mod-Delete",mac:"Alt-Delete",run:xT},{mac:"Mod-Backspace",run:kT},{mac:"Mod-Delete",run:_T}].concat(LT.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),G4=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:GP,shift:lT},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:KP,shift:cT},{key:"Alt-ArrowUp",run:CT},{key:"Shift-Alt-ArrowUp",run:$T},{key:"Alt-ArrowDown",run:OT},{key:"Shift-Alt-ArrowDown",run:MT},{key:"Escape",run:bT},{key:"Mod-Enter",run:AT},{key:"Alt-l",mac:"Ctrl-l",run:vT},{key:"Mod-i",run:yT,preventDefault:!0},{key:"Mod-[",run:J4},{key:"Mod-]",run:Z4},{key:"Mod-Alt-\\",run:RT},{key:"Shift-Mod-k",run:PT},{key:"Shift-Mod-\\",run:oT},{key:"Mod-/",run:$P},{key:"Alt-A",run:PP}].concat(IT),K4={key:"Tab",run:Z4,shift:J4};function ui(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)X4(n,arguments[e]);return n}function X4(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)X4(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const qb=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class lc{constructor(e,t,i=0,r=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=o?a=>o(qb(a)):qb,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return hr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Ov(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=so(e);let r=this.normalize(t);for(let o=0,s=i;;o++){let a=r.charCodeAt(o),l=this.match(a,s);if(o==r.length-1){if(l)return this.value=l,this;break}s==i&&o<t.length&&t.charCodeAt(o)==a&&s++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],s=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:t+1}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(lc.prototype[Symbol.iterator]=function(){return this});const Y4={from:-1,to:-1,match:/.*/.exec("")},Yv="gm"+(/x/.unicode==null?"":"u");class eC{constructor(e,t,i,r=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=Y4,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new tC(e,t,i,r,o);this.re=new RegExp(t,Yv+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let s=e.lineAt(r);this.curLineStart=s.from,this.matchPos=id(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=id(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const tm=new WeakMap;class Zl{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=tm.get(e);if(!r||r.from>=i||r.to<=t){let a=new Zl(t,e.sliceString(t,i));return tm.set(e,a),a}if(r.from==t&&r.to==i)return r;let{text:o,from:s}=r;return s>t&&(o=e.sliceString(t,s)+o,s=t),r.to<i&&(o+=e.sliceString(r.to,i)),tm.set(e,new Zl(s,o)),new Zl(t,o.slice(t-s,i-s))}}class tC{constructor(e,t,i,r,o){this.text=e,this.to=o,this.done=!1,this.value=Y4,this.matchPos=id(e,r),this.re=new RegExp(t,Yv+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Zl.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,r=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this.matchPos=id(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Zl.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(eC.prototype[Symbol.iterator]=tC.prototype[Symbol.iterator]=function(){return this});function NT(n){try{return new RegExp(n,Yv),!0}catch{return!1}}function id(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function Og(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=ui("input",{class:"cm-textfield",name:"line",value:e}),i=ui("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),n.dispatch({effects:rd.of(!1)}),n.focus()):o.keyCode==13&&(o.preventDefault(),r())},onsubmit:o=>{o.preventDefault(),r()}},ui("label",n.state.phrase("Go to line"),": ",t)," ",ui("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function r(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!o)return;let{state:s}=n,a=s.doc.lineAt(s.selection.main.head),[,l,c,f,h]=o,p=f?+f.slice(1):0,m=c?+c:a.number;if(c&&h){let b=m/100;l&&(b=b*(l=="-"?-1:1)+a.number/s.doc.lines),m=Math.round(s.doc.lines*b)}else c&&l&&(m=m*(l=="-"?-1:1)+a.number);let g=s.doc.line(Math.max(1,Math.min(s.doc.lines,m))),v=He.cursor(g.from+Math.max(0,Math.min(p,g.length)));n.dispatch({effects:[rd.of(!1),gt.scrollIntoView(v.from,{y:"center"})],selection:v}),n.focus()}return{dom:i}}const rd=mn.define(),Fb=Ji.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(rd)&&(n=t.value);return n},provide:n=>Su.from(n,e=>e?Og:null)}),BT=n=>{let e=ju(n,Og);if(!e){let t=[rd.of(!0)];n.state.field(Fb,!1)==null&&t.push(mn.appendConfig.of([Fb,DT])),n.dispatch({effects:t}),e=ju(n,Og)}return e&&e.dom.querySelector("input").select(),!0},DT=gt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),zT={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},nC=Rt.define({combine(n){return yo(n,zT,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function iC(n){let e=[WT,VT];return n&&e.push(nC.of(n)),e}const qT=Ut.mark({class:"cm-selectionMatch"}),FT=Ut.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Hb(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=wi.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=wi.Word)}function HT(n,e,t,i){return n(e.sliceDoc(t,t+1))==wi.Word&&n(e.sliceDoc(i-1,i))==wi.Word}const VT=ki.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(nC),{state:t}=n,i=t.selection;if(i.ranges.length>1)return Ut.none;let r=i.main,o,s=null;if(r.empty){if(!e.highlightWordAroundCursor)return Ut.none;let l=t.wordAt(r.head);if(!l)return Ut.none;s=t.charCategorizer(r.head),o=t.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return Ut.none;if(e.wholeWords){if(o=t.sliceDoc(r.from,r.to),s=t.charCategorizer(r.head),!(Hb(s,t,r.from,r.to)&&HT(s,t,r.from,r.to)))return Ut.none}else if(o=t.sliceDoc(r.from,r.to).trim(),!o)return Ut.none}let a=[];for(let l of n.visibleRanges){let c=new lc(t.doc,o,l.from,l.to);for(;!c.next().done;){let{from:f,to:h}=c.value;if((!s||Hb(s,t,f,h))&&(r.empty&&f<=r.from&&h>=r.to?a.push(FT.range(f,h)):(f>=r.to||h<=r.from)&&a.push(qT.range(f,h)),a.length>e.maxMatches))return Ut.none}}return Ut.set(a)}},{decorations:n=>n.decorations}),WT=gt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),UT=({state:n,dispatch:e})=>{let{selection:t}=n,i=He.create(t.ranges.map(r=>n.wordAt(r.head)||He.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function QT(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),o=r&&r.from==t.from&&r.to==t.to;for(let s=!1,a=new lc(n.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new lc(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),s=!0}else{if(s&&i.some(l=>l.from==a.value.from))continue;if(o){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const ZT=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return UT({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=i))return!1;let r=QT(n,i);return r?(e(n.update({selection:n.selection.addRange(He.range(r.from,r.to),!1),effects:gt.scrollIntoView(r.to)})),!0):!1},cl=Rt.define({combine(n){return yo(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new sE(e),scrollToMatch:e=>gt.scrollIntoView(e)})}});function JT(n){return n?[cl.of(n),Mg]:Mg}class rC{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||NT(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new YT(this):new KT(this)}getCursor(e,t=0,i){let r=e.doc?e:wn.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?Ml(this,r,t,i):$l(this,r,t,i)}}class oC{constructor(e){this.spec=e}}function $l(n,e,t,i){return new lc(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:r=>r.toLowerCase(),n.wholeWord?GT(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function GT(n,e){return(t,i,r,o)=>((o>t||o+r.length<i)&&(o=Math.max(0,t-2),r=n.sliceString(o,Math.min(n.length,i+2))),(e(od(r,t-o))!=wi.Word||e(sd(r,t-o))!=wi.Word)&&(e(sd(r,i-o))!=wi.Word||e(od(r,i-o))!=wi.Word))}class KT extends oC{constructor(e){super(e)}nextMatch(e,t,i){let r=$l(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=$l(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let o=Math.max(t,r-1e4-this.spec.unquoted.length),s=$l(this.spec,e,o,r),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=$l(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let o=$l(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function Ml(n,e,t,i){return new eC(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?XT(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function od(n,e){return n.slice(gr(n,e,!1),e)}function sd(n,e){return n.slice(e,gr(n,e))}function XT(n){return(e,t,i)=>!i[0].length||(n(od(i.input,i.index))!=wi.Word||n(sd(i.input,i.index))!=wi.Word)&&(n(sd(i.input,i.index+i[0].length))!=wi.Word||n(od(i.input,i.index+i[0].length))!=wi.Word)}class YT extends oC{nextMatch(e,t,i){let r=Ml(this.spec,e,i,e.doc.length).next();return r.done&&(r=Ml(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let o=Math.max(t,i-r*1e4),s=Ml(this.spec,e,o,i),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==t||a.from>o+10))return a;if(o==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t)}matchAll(e,t){let i=Ml(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let o=Ml(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const Pu=mn.define(),e0=mn.define(),sa=Ji.define({create(n){return new nm($g(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Pu)?n=new nm(t.value.create(),n.panel):t.is(e0)&&(n=new nm(n.query,t.value?t0:null));return n},provide:n=>Su.from(n,e=>e.panel)});class nm{constructor(e,t){this.query=e,this.panel=t}}const eE=Ut.mark({class:"cm-searchMatch"}),tE=Ut.mark({class:"cm-searchMatch cm-searchMatch-selected"}),nE=ki.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(sa))}update(n){let e=n.state.field(sa);(e!=n.startState.field(sa)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Ut.none;let{view:t}=this,i=new rs;for(let r=0,o=t.visibleRanges,s=o.length;r<s;r++){let{from:a,to:l}=o[r];for(;r<s-1&&l>o[r+1].from-2*250;)l=o[++r].to;n.highlight(t.state,a,l,(c,f)=>{let h=t.state.selection.ranges.some(p=>p.from==c&&p.to==f);i.add(c,f,h?tE:eE)})}return i.finish()}},{decorations:n=>n.decorations});function nf(n){return e=>{let t=e.state.field(sa,!1);return t&&t.query.spec.valid?n(e,t):n0(e)}}const ad=nf((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let r=He.single(i.from,i.to),o=n.state.facet(cl);return n.dispatch({selection:r,effects:[r0(n,i),o.scrollToMatch(r.main,n)],userEvent:"select.search"}),aC(n),!0}),ld=nf((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,r=e.prevMatch(t,i,i);if(!r)return!1;let o=He.single(r.from,r.to),s=n.state.facet(cl);return n.dispatch({selection:o,effects:[r0(n,r),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),aC(n),!0}),iE=nf((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:He.create(t.map(i=>He.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),rE=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,o=[],s=0;for(let a=new lc(n.doc,n.sliceDoc(i,r));!a.next().done;){if(o.length>1e3)return!1;a.value.from==i&&(s=o.length),o.push(He.range(a.value.from,a.value.to))}return e(n.update({selection:He.create(o,s),userEvent:"select.search.matches"})),!0},Vb=nf((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,i,i);if(!o)return!1;let s=[],a,l,c=[];if(o.from==i&&o.to==r&&(l=t.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:l}),o=e.nextMatch(t,o.from,o.to),c.push(gt.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+"."))),o){let f=s.length==0||s[0].from>=o.to?0:o.to-o.from-l.length;a=He.single(o.from-f,o.to-f),c.push(r0(n,o)),c.push(t.facet(cl).scrollToMatch(a.main,n))}return n.dispatch({changes:s,selection:a,effects:c,userEvent:"input.replace"}),!0}),oE=nf((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(r=>{let{from:o,to:s}=r;return{from:o,to:s,insert:e.getReplacement(r)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:gt.announce.of(i),userEvent:"input.replace.all"}),!0});function t0(n){return n.state.facet(cl).createPanel(n)}function $g(n,e){var t,i,r,o,s;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=n.facet(cl);return new rC({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:c.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:c.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function sC(n){let e=ju(n,t0);return e&&e.dom.querySelector("[main-field]")}function aC(n){let e=sC(n);e&&e==n.root.activeElement&&e.select()}const n0=n=>{let e=n.state.field(sa,!1);if(e&&e.panel){let t=sC(n);if(t&&t!=n.root.activeElement){let i=$g(n.state,e.query.spec);i.valid&&n.dispatch({effects:Pu.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[e0.of(!0),e?Pu.of($g(n.state,e.query.spec)):mn.appendConfig.of(Mg)]});return!0},i0=n=>{let e=n.state.field(sa,!1);if(!e||!e.panel)return!1;let t=ju(n,t0);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:e0.of(!1)}),!0},lC=[{key:"Mod-f",run:n0,scope:"editor search-panel"},{key:"F3",run:ad,shift:ld,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ad,shift:ld,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:i0,scope:"editor search-panel"},{key:"Mod-Shift-l",run:rE},{key:"Mod-Alt-g",run:BT},{key:"Mod-d",run:ZT,preventDefault:!0}];class sE{constructor(e){this.view=e;let t=this.query=e.state.field(sa).query.spec;this.commit=this.commit.bind(this),this.searchField=ui("input",{value:t.search,placeholder:Fr(e,"Find"),"aria-label":Fr(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ui("input",{value:t.replace,placeholder:Fr(e,"Replace"),"aria-label":Fr(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=ui("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=ui("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=ui("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(r,o,s){return ui("button",{class:"cm-button",name:r,onclick:o,type:"button"},s)}this.dom=ui("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>ad(e),[Fr(e,"next")]),i("prev",()=>ld(e),[Fr(e,"previous")]),i("select",()=>iE(e),[Fr(e,"all")]),ui("label",null,[this.caseField,Fr(e,"match case")]),ui("label",null,[this.reField,Fr(e,"regexp")]),ui("label",null,[this.wordField,Fr(e,"by word")]),...e.state.readOnly?[]:[ui("br"),this.replaceField,i("replace",()=>Vb(e),[Fr(e,"replace")]),i("replaceAll",()=>oE(e),[Fr(e,"replace all")])],ui("button",{name:"close",onclick:()=>i0(e),"aria-label":Fr(e,"close"),type:"button"},["×"])])}commit(){let e=new rC({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Pu.of(e)}))}keydown(e){PM(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?ld:ad)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Vb(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(Pu)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(cl).top}}function Fr(n,e){return n.state.phrase(e)}const Wf=30,Uf=/[\s\.,:;?!]/;function r0(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),r=n.state.doc.lineAt(t).to,o=Math.max(i.from,e-Wf),s=Math.min(r,t+Wf),a=n.state.sliceDoc(o,s);if(o!=i.from){for(let l=0;l<Wf;l++)if(!Uf.test(a[l+1])&&Uf.test(a[l])){a=a.slice(l);break}}if(s!=r){for(let l=a.length-1;l>a.length-Wf;l--)if(!Uf.test(a[l-1])&&Uf.test(a[l])){a=a.slice(0,l);break}}return gt.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${i.number}.`)}const aE=gt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Mg=[sa,ll.low(nE),aE];class cC{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=rr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),o=r.search(uC(e,!1));return o<0?null:{from:i+o,to:this.pos,text:r.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function Wb(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function lE(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let o=1;o<r.length;o++)t[r[o]]=!0}let i=Wb(e)+Wb(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function cE(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:lE(e);return r=>{let o=r.matchBefore(i);return o||r.explicit?{from:o?o.from:r.pos,options:e,validFor:t}:null}}function oU(n,e){return t=>{for(let i=rr(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class Ub{constructor(e,t,i,r){this.completion=e,this.source=t,this.match=i,this.score=r}}function aa(n){return n.selection.main.from}function uC(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",o=i[i.length-1]!="$";return!r&&!o?n:new RegExp(`${r?"^":""}(?:${i})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const fC=qs.define();function uE(n,e,t,i){let{main:r}=n.selection,o=t-r.from,s=i-r.from;return Object.assign(Object.assign({},n.changeByRange(a=>a!=r&&t!=i&&n.sliceDoc(a.from+o,a.from+s)!=n.sliceDoc(t,i)?{range:a}:{changes:{from:a.from+o,to:i==r.from?a.to:a.from+s,insert:e},range:He.cursor(a.from+o+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const Qb=new WeakMap;function fE(n){if(!Array.isArray(n))return n;let e=Qb.get(n);return e||Qb.set(n,e=cE(n)),e}const o0=mn.define(),Tu=mn.define();class hE{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=hr(e,t),r=so(i);this.chars.push(i);let o=e.slice(t,t+r),s=o.toUpperCase();this.folded.push(hr(s==o?o.toLowerCase():s,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:i,any:r,precise:o,byWord:s}=this;if(t.length==1){let k=hr(e,0),C=so(k),S=C==e.length?0:-100;if(k!=t[0])if(k==i[0])S+=-200;else return!1;return this.ret(S,[0,C])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let k=0,C=Math.min(e.length,200);k<C&&c<l;){let S=hr(e,k);(S==t[c]||S==i[c])&&(r[c++]=k),k+=so(S)}if(c<l)return!1}let f=0,h=0,p=!1,m=0,g=-1,v=-1,b=/[a-z]/.test(e),x=!0;for(let k=0,C=Math.min(e.length,200),S=0;k<C&&h<l;){let _=hr(e,k);a<0&&(f<l&&_==t[f]&&(o[f++]=k),m<l&&(_==t[m]||_==i[m]?(m==0&&(g=k),v=k+1,m++):m=0));let E,q=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(E=Ov(_))!=E.toLowerCase()?1:E!=E.toUpperCase()?2:0;(!k||q==1&&b||S==0&&q!=0)&&(t[h]==_||i[h]==_&&(p=!0)?s[h++]=k:s.length&&(x=!1)),S=q,k+=so(_)}return h==l&&s[0]==0&&x?this.result(-100+(p?-200:0),s,e):m==l&&g==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[g,v]):h==l?this.result(-100+(p?-200:0)+-700+(x?0:-1100),s,e):t.length==2?!1:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[],o=0;for(let s of t){let a=s+(this.astral?so(hr(i,s)):1);o&&r[o-1]==s?r[o-1]=a:(r[o++]=s,r[o++]=a)}return this.ret(e-i.length,r)}}const jr=Rt.define({combine(n){return yo(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:dE,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>Zb(e(i),t(i)),optionClass:(e,t)=>i=>Zb(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function Zb(n,e){return n?e?n+" "+e:n:e}function dE(n,e,t,i,r,o){let s=n.textDirection==Pi.RTL,a=s,l=!1,c="top",f,h,p=e.left-r.left,m=r.right-e.right,g=i.right-i.left,v=i.bottom-i.top;if(a&&p<Math.min(g,m)?a=!1:!a&&m<Math.min(g,p)&&(a=!0),g<=(a?p:m))f=Math.max(r.top,Math.min(t.top,r.bottom-v))-e.top,h=Math.min(400,a?p:m);else{l=!0,h=Math.min(400,(s?e.right:r.right-e.left)-30);let k=r.bottom-e.bottom;k>=v||k>e.top?f=t.bottom-e.top:(c="bottom",f=e.bottom-t.top)}let b=(e.bottom-e.top)/o.offsetHeight,x=(e.right-e.left)/o.offsetWidth;return{style:`${c}: ${f/b}px; max-width: ${h/x}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function pE(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let c=0;c<o.length;){let f=o[c++],h=o[c++];f>l&&s.appendChild(document.createTextNode(a.slice(l,f)));let p=s.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(a.slice(f,h))),p.className="cm-completionMatchedText",l=h}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function im(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class mE{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:o,selected:s}=r.open,a=e.state.facet(jr);this.optionContent=pE(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=im(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let f=l.target,h;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(h=/-(\d+)$/.exec(f.id))&&+h[1]<c.length){this.applyCompletion(e,c[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(jr).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Tu.of(null)})}),this.showOptions(o,r.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let i=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),i!=r){let{options:o,selected:s,disabled:a}=i.open;(!r.open||r.open.options!=o)&&(this.range=im(o.length,s,e.state.facet(jr).maxRenderedOptions),this.showOptions(o,i.id)),this.updateSel(),a!=((t=r.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=im(t.options.length,t.selected,this.view.state.facet(jr).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let o=typeof r=="string"?document.createTextNode(r):r(i);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,i)}).catch(s=>Gr(this.view.state,s,"completion info")):this.addInfoPane(o,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:o}=e;i.appendChild(r),this.infoDestroy=o||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&vE(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return r.top>Math.min(o.bottom,t.bottom)-10||r.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(jr).positionInfo(this.view,t,r,i,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=i.from;s<i.to;s++){let{completion:a,match:l}=e[s],{section:c}=a;if(c){let p=typeof c=="string"?c:c.name;if(p!=o&&(s>i.from||i.from==0))if(o=p,typeof c!="string"&&c.header)r.appendChild(c.header(c));else{let m=r.appendChild(document.createElement("completion-section"));m.textContent=p}}const f=r.appendChild(document.createElement("li"));f.id=t+"-"+s,f.setAttribute("role","option");let h=this.optionClass(a);h&&(f.className=h);for(let p of this.optionContent){let m=p(a,this.view.state,this.view,l);m&&f.appendChild(m)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function gE(n,e){return t=>new mE(t,n,e)}function vE(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=t.height/n.offsetHeight;i.top<t.top?n.scrollTop-=(t.top-i.top)/r:i.bottom>t.bottom&&(n.scrollTop+=(i.bottom-t.bottom)/r)}function Jb(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function yE(n,e){let t=[],i=null,r=l=>{t.push(l);let{section:c}=l.completion;if(c){i||(i=[]);let f=typeof c=="string"?c:c.name;i.some(h=>h.name==f)||i.push(typeof c=="string"?{name:f}:c)}};for(let l of n)if(l.hasResult()){let c=l.result.getMatch;if(l.result.filter===!1)for(let f of l.result.options)r(new Ub(f,l.source,c?c(f):[],1e9-t.length));else{let f=new hE(e.sliceDoc(l.from,l.to));for(let h of l.result.options)if(f.match(h.label)){let p=h.displayLabel?c?c(h,f.matched):[]:f.matched;r(new Ub(h,l.source,p,f.score+(h.boost||0)))}}}if(i){let l=Object.create(null),c=0,f=(h,p)=>{var m,g;return((m=h.rank)!==null&&m!==void 0?m:1e9)-((g=p.rank)!==null&&g!==void 0?g:1e9)||(h.name<p.name?-1:1)};for(let h of i.sort(f))c-=1e5,l[h.name]=c;for(let h of t){let{section:p}=h.completion;p&&(h.score+=l[typeof p=="string"?p:p.name])}}let o=[],s=null,a=e.facet(jr).compareCompletions;for(let l of t.sort((c,f)=>f.score-c.score||a(c.completion,f.completion))){let c=l.completion;!s||s.label!=c.label||s.detail!=c.detail||s.type!=null&&c.type!=null&&s.type!=c.type||s.apply!=c.apply||s.boost!=c.boost?o.push(l):Jb(l.completion)>Jb(s)&&(o[o.length-1]=l),s=l.completion}return o}class Nl{constructor(e,t,i,r,o,s){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=o,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Nl(this.options,Gb(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,o){let s=yE(e,t);if(!s.length)return r&&e.some(l=>l.state==1)?new Nl(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=t.facet(jr).selectOnOpen?0:-1;if(r&&r.selected!=a&&r.selected!=-1){let l=r.options[r.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==l){a=c;break}}return new Nl(s,Gb(i,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:_E,above:o.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(e){return new Nl(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class cd{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new cd(wE,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(jr),o=(i.override||t.languageDataAt("autocomplete",aa(t)).map(fE)).map(a=>(this.active.find(c=>c.source==a)||new Ir(a,this.active.some(c=>c.state!=0)?1:0)).update(e,i));o.length==this.active.length&&o.every((a,l)=>a==this.active[l])&&(o=this.active);let s=this.open;s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!bE(o,this.active)?s=Nl.build(o,t,this.id,s,i):s&&s.disabled&&!o.some(a=>a.state==1)&&(s=null),!s&&o.every(a=>a.state!=1)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new Ir(a.source,0):a));for(let a of e.effects)a.is(dC)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new cd(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:xE}}function bE(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let r=t==n.length,o=i==e.length;if(r||o)return r==o;if(n[t++].result!=e[i++].result)return!1}}const xE={"aria-autocomplete":"list"};function Gb(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const wE=[];function Pg(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class Ir{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=Pg(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new Ir(r.source,0));for(let o of e.effects)if(o.is(o0))r=new Ir(r.source,1,o.value?aa(e.state):-1);else if(o.is(Tu))r=new Ir(r.source,0);else if(o.is(hC))for(let s of o.value)s.source==r.source&&(r=s);return r}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new Ir(this.source,1)}handleChange(e){return e.changes.touchesRange(aa(e.startState))?new Ir(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Ir(this.source,this.state,e.mapPos(this.explicitPos))}}class Jl extends Ir{constructor(e,t,i,r,o){super(e,2,t),this.result=i,this.from=r,this.to=o}hasResult(){return!0}handleUserEvent(e,t,i){var r;let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=aa(e.state);if((this.explicitPos<0?a<=o:a<this.from)||a>s||t=="delete"&&aa(e.startState)==this.from)return new Ir(this.source,t=="input"&&i.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return kE(this.result.validFor,e.state,o,s)?new Jl(this.source,l,this.result,o,s):this.result.update&&(c=this.result.update(this.result,o,s,new cC(e.state,a,l>=0)))?new Jl(this.source,l,c,c.from,(r=c.to)!==null&&r!==void 0?r:aa(e.state)):new Ir(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Ir(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Jl(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function kE(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):uC(n,!0).test(r)}const hC=mn.define({map(n,e){return n.map(t=>t.map(e))}}),dC=mn.define(),Wr=Ji.define({create(){return cd.start()},update(n,e){return n.update(e)},provide:n=>[Ud.from(n,e=>e.tooltip),gt.contentAttributes.from(n,e=>e.attrs)]});function pC(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(Wr).active.find(r=>r.source==e.source);return i instanceof Jl?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},uE(n.state,t,i.from,i.to)),{annotations:fC.of(e.completion)})):t(n,e.completion,i.from,i.to),!0):!1}const _E=gE(Wr,pC);function Qf(n,e="option"){return t=>{let i=t.state.field(Wr,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(jr).interactionDelay)return!1;let r=1,o;e=="page"&&(o=BS(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=i.open.options,a=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),t.dispatch({effects:dC.of(a)}),!0}}const jE=n=>{let e=n.state.field(Wr,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(jr).interactionDelay?!1:pC(n,e.open.options[e.open.selected])},SE=n=>n.state.field(Wr,!1)?(n.dispatch({effects:o0.of(!0)}),!0):!1,CE=n=>{let e=n.state.field(Wr,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Tu.of(null)}),!0)};class OE{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const $E=50,ME=1e3,PE=ki.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(Wr).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(Wr);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Wr)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!Pg(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(t||r.updates.length+n.transactions.length>$E&&Date.now()-r.time>ME){for(let o of r.context.abortListeners)try{o()}catch(s){Gr(this.view.state,s)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),50):-1,this.composing!=0)for(let i of n.transactions)Pg(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(Wr);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=aa(e),i=new cC(e,t,n.explicitPos==t),r=new OE(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(o=>{r.context.aborted||(r.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Tu.of(null)}),Gr(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(jr).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(jr);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let s=new Jl(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:aa(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)s=s.update(a,t);if(s.hasResult()){e.push(s);continue}}let o=this.view.state.field(Wr).active.find(s=>s.source==r.active.source);if(o&&o.state==1)if(r.done==null){let s=new Ir(r.active.source,0);for(let a of r.updates)s=s.update(a,t);s.state!=1&&e.push(s)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:hC.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Wr,!1);if(e&&e.tooltip&&this.view.state.facet(jr).closeOnBlur){let t=e.open&&BS(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&this.view.dispatch({effects:Tu.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:o0.of(!1)}),20),this.composing=0}}}),mC=gt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class TE{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class s0{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,mr.TrackDel),i=e.mapPos(this.to,1,mr.TrackDel);return t==null||i==null?null:new s0(this.field,t,i)}}class a0{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],o=e.doc.lineAt(t),s=/^\s*/.exec(o.text)[0];for(let l of this.lines){if(i.length){let c=s,f=/^\t*/.exec(l)[0].length;for(let h=0;h<f;h++)c+=e.facet(Yu);r.push(t+c.length-f),l=c+l.slice(f)}i.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new s0(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let t=[],i=[],r=[],o;for(let s of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(s);){let a=o[1]?+o[1]:null,l=o[2]||o[3]||"",c=-1;for(let f=0;f<t.length;f++)(a!=null?t[f].seq==a:l&&t[f].name==l)&&(c=f);if(c<0){let f=0;for(;f<t.length&&(a==null||t[f].seq!=null&&t[f].seq<a);)f++;t.splice(f,0,{seq:a,name:l}),c=f;for(let h of r)h.field>=c&&h.field++}r.push(new TE(c,i.length,o.index,o.index+l.length)),s=s.slice(0,o.index)+l+s.slice(o.index+o[0].length)}for(let a;a=/\\([{}])/.exec(s);){s=s.slice(0,a.index)+a[1]+s.slice(a.index+a[0].length);for(let l of r)l.line==i.length&&l.from>a.index&&(l.from--,l.to--)}i.push(s)}return new a0(i,r)}}let EE=Ut.widget({widget:new class extends fs{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),AE=Ut.mark({class:"cm-snippetField"});class jc{constructor(e,t){this.ranges=e,this.active=t,this.deco=Ut.set(e.map(i=>(i.from==i.to?EE:AE).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new jc(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const rf=mn.define({map(n,e){return n&&n.map(e)}}),RE=mn.define(),Eu=Ji.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(rf))return t.value;if(t.is(RE)&&n)return new jc(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>gt.decorations.from(n,e=>e?e.deco:Ut.none)});function l0(n,e){return He.create(n.filter(t=>t.field==e).map(t=>He.range(t.from,t.to)))}function LE(n){let e=a0.parse(n);return(t,i,r,o)=>{let{text:s,ranges:a}=e.instantiate(t.state,r),l={changes:{from:r,to:o,insert:Un.of(s)},scrollIntoView:!0,annotations:i?fC.of(i):void 0};if(a.length&&(l.selection=l0(a,0)),a.length>1){let c=new jc(a,0),f=l.effects=[rf.of(c)];t.state.field(Eu,!1)===void 0&&f.push(mn.appendConfig.of([Eu,zE,qE,mC]))}t.dispatch(t.state.update(l))}}function gC(n){return({state:e,dispatch:t})=>{let i=e.field(Eu,!1);if(!i||n<0&&i.active==0)return!1;let r=i.active+n,o=n>0&&!i.ranges.some(s=>s.field==r+n);return t(e.update({selection:l0(i.ranges,r),effects:rf.of(o?null:new jc(i.ranges,r)),scrollIntoView:!0})),!0}}const IE=({state:n,dispatch:e})=>n.field(Eu,!1)?(e(n.update({effects:rf.of(null)})),!0):!1,NE=gC(1),BE=gC(-1),DE=[{key:"Tab",run:NE,shift:BE},{key:"Escape",run:IE}],Kb=Rt.define({combine(n){return n.length?n[0]:DE}}),zE=ll.highest(Ja.compute([Kb],n=>n.facet(Kb)));function sU(n,e){return Object.assign(Object.assign({},e),{apply:LE(n)})}const qE=gt.domEventHandlers({mousedown(n,e){let t=e.state.field(Eu,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let r=t.ranges.find(o=>o.from<=i&&o.to>=i);return!r||r.field==t.active?!1:(e.dispatch({selection:l0(t.ranges,r.field),effects:rf.of(t.ranges.some(o=>o.field>r.field)?new jc(t.ranges,r.field):null),scrollIntoView:!0}),!0)}}),Au={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Da=mn.define({map(n,e){let t=e.mapPos(n,-1,mr.TrackAfter);return t??void 0}}),c0=new class extends Qa{};c0.startSide=1;c0.endSide=-1;const vC=Ji.define({create(){return Xn.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:i=>i>=t.from&&i<=t.to})}for(let t of e.effects)t.is(Da)&&(n=n.update({add:[c0.range(t.value,t.value+1)]}));return n}});function yC(){return[HE,vC]}const rm="()[]{}<>";function bC(n){for(let e=0;e<rm.length;e+=2)if(rm.charCodeAt(e)==n)return rm.charAt(e+1);return Ov(n<128?n:n+1)}function xC(n,e){return n.languageDataAt("closeBrackets",e)[0]||Au}const FE=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),HE=gt.inputHandler.of((n,e,t,i)=>{if((FE?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&so(hr(i,0))==1||e!=r.from||t!=r.to)return!1;let o=WE(n.state,i);return o?(n.dispatch(o),!0):!1}),VE=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=xC(n,n.selection.main.head).brackets||Au.brackets,r=null,o=n.changeByRange(s=>{if(s.empty){let a=UE(n.doc,s.head);for(let l of i)if(l==a&&ep(n.doc,s.head)==bC(hr(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:He.cursor(s.head-l.length)}}return{range:r=s}});return r||e(n.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},wC=[{key:"Backspace",run:VE}];function WE(n,e){let t=xC(n,n.selection.main.head),i=t.brackets||Au.brackets;for(let r of i){let o=bC(hr(r,0));if(e==r)return o==r?JE(n,r,i.indexOf(r+r+r)>-1,t):QE(n,r,o,t.before||Au.before);if(e==o&&kC(n,n.selection.main.from))return ZE(n,r,o)}return null}function kC(n,e){let t=!1;return n.field(vC).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function ep(n,e){let t=n.sliceString(e,e+2);return t.slice(0,so(hr(t,0)))}function UE(n,e){let t=n.sliceString(e-2,e);return so(hr(t,0))==t.length?t:t.slice(1)}function QE(n,e,t,i){let r=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:Da.of(s.to+e.length),range:He.range(s.anchor+e.length,s.head+e.length)};let a=ep(n.doc,s.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:e+t,from:s.head},effects:Da.of(s.head+e.length),range:He.cursor(s.head+e.length)}:{range:r=s}});return r?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ZE(n,e,t){let i=null,r=n.changeByRange(o=>o.empty&&ep(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:He.cursor(o.head+t.length)}:i={range:o});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function JE(n,e,t,i){let r=i.stringPrefixes||Au.stringPrefixes,o=null,s=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Da.of(a.to+e.length),range:He.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=ep(n.doc,l),f;if(c==e){if(Xb(n,l))return{changes:{insert:e+e,from:l},effects:Da.of(l+e.length),range:He.cursor(l+e.length)};if(kC(n,l)){let p=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+p.length,insert:p},range:He.cursor(l+p.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(f=Yb(n,l-2*e.length,r))>-1&&Xb(n,f))return{changes:{insert:e+e+e+e,from:l},effects:Da.of(l+e.length),range:He.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=wi.Word&&Yb(n,l,r)>-1&&!GE(n,l,e,r))return{changes:{insert:e+e,from:l},effects:Da.of(l+e.length),range:He.cursor(l+e.length)}}return{range:o=a}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Xb(n,e){let t=rr(n).resolveInner(e+1);return t.parent&&t.from==e}function GE(n,e,t,i){let r=rr(n).resolveInner(e,-1),o=i.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=n.sliceDoc(r.from,Math.min(r.to,r.from+t.length+o)),l=a.indexOf(t);if(!l||l>-1&&i.indexOf(a.slice(0,l))>-1){let f=r.firstChild;for(;f&&f.from==r.from&&f.to-f.from>t.length+l;){if(n.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function Yb(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=wi.Word)return e;for(let r of t){let o=e-r.length;if(n.sliceDoc(o,e)==r&&i(n.sliceDoc(o-1,o))!=wi.Word)return o}return-1}function _C(n={}){return[Wr,jr.of(n),PE,KE,mC]}const u0=[{key:"Ctrl-Space",run:SE},{key:"Escape",run:CE},{key:"ArrowDown",run:Qf(!0)},{key:"ArrowUp",run:Qf(!1)},{key:"PageDown",run:Qf(!0,"page")},{key:"PageUp",run:Qf(!1,"page")},{key:"Enter",run:jE}],KE=ll.highest(Ja.computeN([jr],n=>n.facet(jr).defaultKeymap?[u0]:[]));class XE{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Ra{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,o=i.facet(za).markerFilter;o&&(r=o(r));let s=Ut.set(r.map(a=>a.from==a.to||a.from==a.to-1&&i.doc.lineAt(a.from).to==a.from?Ut.widget({widget:new sA(a),diagnostic:a}).range(a.from):Ut.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new Ra(s,t,cc(s))}}function cc(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,o,{spec:s})=>{if(!(e&&s.diagnostic!=e))return i=new XE(r,o,s.diagnostic),!1}),i}function jC(n,e){let t=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(i=>i.is(tp))||n.changes.touchesRange(t.from,t.to))}function SC(n,e){return n.field(Zr,!1)?e:e.concat(mn.appendConfig.of(AC))}function YE(n,e){return{effects:SC(n,[tp.of(e)])}}const tp=mn.define(),f0=mn.define(),CC=mn.define(),Zr=Ji.define({create(){return new Ra(Ut.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=cc(t,n.selected.diagnostic,r)||cc(t,null,r)}n=new Ra(t,n.panel,i)}for(let t of e.effects)t.is(tp)?n=Ra.init(t.value,n.panel,e.state):t.is(f0)?n=new Ra(n.diagnostics,t.value?np.open:null,n.selected):t.is(CC)&&(n=new Ra(n.diagnostics,n.panel,t.value));return n},provide:n=>[Su.from(n,e=>e.panel),gt.decorations.from(n,e=>e.diagnostics)]}),eA=Ut.mark({class:"cm-lintRange cm-lintRange-active"});function tA(n,e,t){let{diagnostics:i}=n.state.field(Zr),r=[],o=2e8,s=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:f})=>{e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0))&&(r.push(f.diagnostic),o=Math.min(l,o),s=Math.max(c,s))});let a=n.state.facet(za).tooltipFilter;return a&&(r=a(r)),r.length?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create(){return{dom:OC(n,r)}}}:null}function OC(n,e){return ui("ul",{class:"cm-tooltip-lint"},e.map(t=>PC(n,t,!1)))}const nA=n=>{let e=n.state.field(Zr,!1);(!e||!e.panel)&&n.dispatch({effects:SC(n.state,[f0.of(!0)])});let t=ju(n,np.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},ex=n=>{let e=n.state.field(Zr,!1);return!e||!e.panel?!1:(n.dispatch({effects:f0.of(!1)}),!0)},iA=n=>{let e=n.state.field(Zr,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},$C=[{key:"Mod-Shift-m",run:nA,preventDefault:!0},{key:"F8",run:iA}],rA=ki.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(za);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(za);Promise.all(t.map(i=>Promise.resolve(i(this.view)))).then(i=>{let r=i.reduce((o,s)=>o.concat(s));this.view.state.doc==e.doc&&this.view.dispatch(YE(this.view.state,r))},i=>{Gr(this.view.state,i)})}}update(n){let e=n.state.facet(za);(n.docChanged||e!=n.startState.facet(za)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),za=Rt.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},yo(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function oA(n,e={}){return[za.of({source:n,config:e}),rA,AC]}function MC(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(o=>o.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function PC(n,e,t){var i;let r=t?MC(e.actions):[];return ui("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ui("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((o,s)=>{let a=!1,l=p=>{if(p.preventDefault(),a)return;a=!0;let m=cc(n.state.field(Zr).diagnostics,e);m&&o.apply(n,m.from,m.to)},{name:c}=o,f=r[s]?c.indexOf(r[s]):-1,h=f<0?c:[c.slice(0,f),ui("u",c.slice(f,f+1)),c.slice(f+1)];return ui("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${f<0?"":` (access key "${r[s]})"`}.`},h)}),e.source&&ui("div",{class:"cm-diagnosticSource"},e.source))}class sA extends fs{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return ui("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class tx{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=PC(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class np{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)ex(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=MC(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=cc(this.view.state.field(Zr).diagnostics,o);l&&o.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},i=r=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(r.target)&&this.moveSelection(o)};this.list=ui("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=ui("div",{class:"cm-panel-lint"},this.list,ui("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>ex(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Zr).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Zr),i=0,r=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,a,{spec:l})=>{let c=-1,f;for(let h=i;h<this.items.length;h++)if(this.items[h].diagnostic==l.diagnostic){c=h;break}c<0?(f=new tx(this.view,l.diagnostic),this.items.splice(i,0,f),r=!0):(f=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),o=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new tx(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:a})=>{let l=a.height/this.list.offsetHeight;s.top<a.top?this.list.scrollTop-=(a.top-s.top)/l:s.bottom>a.bottom&&(this.list.scrollTop+=(s.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Zr),i=cc(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:CC.of(i)})}static open(e){return new np(e)}}function Eh(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Zf(n){return Eh(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const aA=gt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Zf("#d11")},".cm-lintRange-warning":{backgroundImage:Zf("orange")},".cm-lintRange-info":{backgroundImage:Zf("#999")},".cm-lintRange-hint":{backgroundImage:Zf("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function nx(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}class lA extends os{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce((t,i)=>nx(t)<nx(i.severity)?i.severity:t,"hint")}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let i=this.diagnostics,r=e.state.facet(ip).tooltipFilter;return r&&(i=r(i)),i.length&&(t.onmouseover=()=>uA(e,t,i)),t}}function cA(n,e){let t=i=>{let r=e.getBoundingClientRect();if(!(i.clientX>r.left-10&&i.clientX<r.right+10&&i.clientY>r.top-10&&i.clientY<r.bottom+10)){for(let o=i.target;o;o=o.parentNode)if(o.nodeType==1&&o.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),n.state.field(EC)&&n.dispatch({effects:h0.of(null)})}};window.addEventListener("mousemove",t)}function uA(n,e,t){function i(){let s=n.elementAtHeight(e.getBoundingClientRect().top+5-n.documentTop);n.coordsAtPos(s.from)&&n.dispatch({effects:h0.of({pos:s.from,above:!1,create(){return{dom:OC(n,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,cA(n,e)}let{hoverTime:r}=n.state.facet(ip),o=setTimeout(i,r);e.onmouseout=()=>{clearTimeout(o),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(o),o=setTimeout(i,r)}}function fA(n,e){let t=Object.create(null);for(let r of e){let o=n.lineAt(r.from);(t[o.from]||(t[o.from]=[])).push(r)}let i=[];for(let r in t)i.push(new lA(t[r]).range(+r));return Xn.of(i,!0)}const hA=zS({class:"cm-gutter-lint",markers:n=>n.state.field(TC)}),TC=Ji.define({create(){return Xn.empty},update(n,e){n=n.map(e.changes);let t=e.state.facet(ip).markerFilter;for(let i of e.effects)if(i.is(tp)){let r=i.value;t&&(r=t(r||[])),n=fA(e.state.doc,r.slice(0))}return n}}),h0=mn.define(),EC=Ji.define({create(){return null},update(n,e){return n&&e.docChanged&&(n=jC(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce((t,i)=>i.is(h0)?i.value:t,n)},provide:n=>Ud.from(n)}),dA=gt.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Eh('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Eh('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Eh('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),AC=[Zr,gt.decorations.compute([Zr],n=>{let{selected:e,panel:t}=n.field(Zr);return!e||!t||e.from==e.to?Ut.none:Ut.set([eA.range(e.from,e.to)])}),h6(tA,{hideOn:jC}),aA],ip=Rt.define({combine(n){return yo(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function pA(n={}){return[ip.of(n),TC,hA,dA,EC]}const mA=[HS(),VS(),AS(),b4(),f4(),Iv(),ES(),wn.allowMultipleSelections.of(!0),n4(),Ba(ed,{fallback:!0}),g4(),yC(),_C(),LS(),IS(),RS(),iC(),Ja.of([...wC,...G4,...lC,..._4,...l4,...u0,...$C])],gA={"Control character":"控制字符","Selection deleted":"删除所选内容","Folded lines":"折叠行","Unfolded lines":"展开行",to:"至","folded code":"折叠的代码",unfold:"展开","Fold line":"折叠行","Unfold line":"展开行","Go to line":"跳转至行",go:"确定",Find:"查找",Replace:"替换",next:"下一个",previous:"上一个",all:"全部","match case":"匹配大小写","by word":"按单词",replace:"替换","replace all":"全部替换",close:"关闭","current match":"当前匹配项","replaced $ matches":"替换了 $ 个匹配项","replaced match on line $":"替换了行 $ 的匹配项","on line":"在行",Completions:"自动完成",Diagnostics:"诊断","No diagnostics":"无诊断信息"},vA={extensions:[mA,wn.phrases.of(gA),Ja.of([K4]),Iv()]},yA="#e5c07b",ix="#e06c75",bA="#56b6c2",xA="#ffffff",Ah="#abb2bf",Tg="#7d8799",wA="#61afef",kA="#98c379",rx="#d19a66",_A="#c678dd",jA="#21252b",ox="#2c313a",sx="#282c34",om="#353a42",SA="#3E4451",ax="#528bff",lx=gt.theme({"&":{color:Ah,backgroundColor:sx},".cm-content":{caretColor:ax},".cm-cursor, .cm-dropCursor":{borderLeftColor:ax},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:SA},".cm-panels":{backgroundColor:jA,color:Ah},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:sx,color:Tg,border:"none"},".cm-activeLineGutter":{backgroundColor:ox},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:om},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:om,borderBottomColor:om},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ox,color:Ah}}},{dark:!0}),cx=kc.define([{tag:Oe.keyword,color:_A},{tag:[Oe.name,Oe.deleted,Oe.character,Oe.propertyName,Oe.macroName],color:ix},{tag:[Oe.function(Oe.variableName),Oe.labelName],color:wA},{tag:[Oe.color,Oe.constant(Oe.name),Oe.standard(Oe.name)],color:rx},{tag:[Oe.definition(Oe.name),Oe.separator],color:Ah},{tag:[Oe.typeName,Oe.className,Oe.number,Oe.changed,Oe.annotation,Oe.modifier,Oe.self,Oe.namespace],color:yA},{tag:[Oe.operator,Oe.operatorKeyword,Oe.url,Oe.escape,Oe.regexp,Oe.link,Oe.special(Oe.string)],color:bA},{tag:[Oe.meta,Oe.comment],color:Tg},{tag:Oe.strong,fontWeight:"bold"},{tag:Oe.emphasis,fontStyle:"italic"},{tag:Oe.strikethrough,textDecoration:"line-through"},{tag:Oe.link,color:Tg,textDecoration:"underline"},{tag:Oe.heading,fontWeight:"bold",color:ix},{tag:[Oe.atom,Oe.bool,Oe.special(Oe.variableName)],color:rx},{tag:[Oe.processingInstruction,Oe.string,Oe.inserted],color:kA},{tag:Oe.invalid,color:xA}]),CA=nj({__name:"EditorMini",props:{inputDefault:{default:""},plugin:{default:void 0},placeholder:{default:""},readonly:{type:Boolean,default:!1}},emits:["change"],setup(n,{expose:e,emit:t}){const i=n,r=t;e({getView:p,setInput:h});const o=Vo();let s;const a=new _o,l=new _o,c=[vA.extensions,i.plugin?i.plugin.miniExtensions||i.plugin.extensions:[],gt.updateListener.of(f),a.of(Hl().isDark?lx:gt.theme({},{dark:!1})),l.of(Hl().isDark?Ba(cx,{fallback:!0}):Ba(ed))];i.placeholder&&c.push(YM(i.placeholder)),i.readonly&&c.push(wn.readOnly.of(!0)),ij(()=>{s=new gt({state:wn.create({extensions:c,doc:i.inputDefault}),parent:o.value})}),t8(()=>{s==null||s.destroy()}),yv(()=>Hl().isDark,m=>{s.dispatch({effects:[a.reconfigure(m?lx:gt.theme({},{dark:!1})),l.reconfigure(m?Ba(cx,{fallback:!0}):Ba(ed))]})});function f(m){m.docChanged&&r("change",m.state.doc.toString())}function h(m){s.dispatch({changes:{from:0,to:s.state.doc.length,insert:m}})}function p(){return s}return(m,g)=>(Zc(),kh("div",{ref_key:"editor",ref:o,class:"editor","w-full":""},null,512))}}),aU=rj(CA,[["__scopeId","data-v-5af76ac8"]]);var ux={};class ud{constructor(e,t,i,r,o,s,a,l,c,f=0,h){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=f,this.parent=h}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new ud(e,[],t,i,i,0,[],0,r?new fx(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:o}=this.p,s=o.dynamicPrecedence(r);if(s&&(this.score+=s),i==0){this.pushState(o.getGoto(this.state,r,!0),this.reducePos),r<o.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let a=this.stack.length-(i-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let f=a?this.stack[a-1]:0,h=this.bufferBase+this.buffer.length-f;if(r<o.minRepeatTerm||e&131072){let p=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,p,h+4,!0)}if(e&262144)this.state=this.stack[a];else{let p=this.stack[a-3];this.state=o.getGoto(p,r,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(r,l)}storeNode(e,t,i,r=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(t==i)return;if(s.buffer[a-2]>=t){s.buffer[a-2]=i;return}}}if(!o||this.pos==i)this.buffer.push(e,t,i,r);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0)for(;s>0&&this.buffer[s-2]>i;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,r>4&&(r-=4);this.buffer[s]=e,this.buffer[s+1]=t,this.buffer[s+2]=i,this.buffer[s+3]=r}}shift(e,t,i,r){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4);else{let o=e,{parser:s}=this.p;(r>this.pos||t<=s.maxNode)&&(this.pos=r,s.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,i),this.shiftContext(t,i),t<=s.maxNode&&this.buffer.push(t,i,r,4)}}apply(e,t,i,r){e&65536?this.reduce(e):this.shift(e,t,i,r)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new ud(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new OA(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let o=0,s;o<t.length;o+=2)(s=t[o+1])!=this.state&&this.p.parser.hasAction(s,e)&&r.push(t[o],s);if(this.stack.length<120)for(let o=0;r.length<8&&o<t.length;o+=2){let s=t[o+1];r.some((a,l)=>l&1&&a==s)||r.push(t[o],s)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let o=t[r+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(t[r],this.pos),s.reducePos=this.pos,s.score-=200,i.push(s)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,o=this.stack.length-i*3;if(o<0||e.getGoto(this.stack[o],r,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;t=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,o)=>{if(!t.includes(r))return t.push(r),e.allActions(r,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let l=s&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=i(s,o+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new fx(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class fx{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class OA{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class fd{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new fd(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new fd(this.stack,this.pos,this.index)}}function eu(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let o=0;for(;;){let s=n.charCodeAt(i++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}t?t[r++]=o:t=new e(o)}return t}class Rh{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const hx=new Rh;class $A{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=hx,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,o=this.pos+e;for(;o<i.from;){if(!r)return null;let s=this.ranges[--r];o-=i.from-s.to,i=s}for(;t<0?o>i.to:o>=i.to;){if(r==this.ranges.length-1)return null;let s=this.ranges[++r];o+=s.from-i.to,i=s}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(i=o,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=hx,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class Gl{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;LC(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Gl.prototype.contextual=Gl.prototype.fallback=Gl.prototype.extend=!1;class RC{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?eu(e):e}token(e,t){let i=e.pos,r=0;for(;;){let o=e.next<0,s=e.resolveOffset(1,1);if(LC(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(o||r++,s==null)break;e.reset(s,e.token)}r&&(e.reset(i,e.token),e.acceptToken(this.elseToken,r))}}RC.prototype.contextual=Gl.prototype.fallback=Gl.prototype.extend=!1;class d0{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function LC(n,e,t,i,r,o){let s=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&n[s];){let c=n[s+1];for(let m=s+3;m<c;m+=2)if((n[m+1]&a)>0){let g=n[m];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||MA(g,e.token.value,r,o))){e.acceptToken(g);break}}let f=e.next,h=0,p=n[s+2];if(e.next<0&&p>h&&n[c+p*3-3]==65535){s=n[c+p*3-1];continue e}for(;h<p;){let m=h+p>>1,g=c+m+(m<<1),v=n[g],b=n[g+1]||65536;if(f<v)p=m;else if(f>=b)h=m+1;else{s=n[g+2],e.advance();continue e}}break}}function dx(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function MA(n,e,t,i){let r=dx(t,i,e);return r<0||dx(t,i,n)<r}const Hr=typeof process<"u"&&ux&&/\bparse\b/.test(ux.LOG);let sm=null;function px(n,e,t){let i=n.cursor(mi.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class PA{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?px(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?px(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=i.children[r],s=this.start[t]+i.positions[r];if(s>e)return this.nextStart=s,null;if(o instanceof Ti){if(s==e){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let l=o.prop(En.lookAhead);if(!l||a+l<this.fragment.to)return o}}this.index[t]++,s+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[t]++,this.nextStart=s+o.length}}}class TA{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Rh)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:o}=r,s=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<o.length;c++){if(!(1<<c&s))continue;let f=o[c],h=this.tokens[c];if(!(i&&!f.fallback)&&((f.contextual||h.start!=e.pos||h.mask!=s||h.context!=a)&&(this.updateCachedToken(h,f,e),h.mask=s,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let p=t;if(h.extended>-1&&(t=this.addActions(e,h.extended,h.end,t)),t=this.addActions(e,h.value,h.end,t),!f.extend&&(i=h,t>p))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Rh,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Rh,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:o}=i.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==e.value){let a=o.specializers[s](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let o=0;o<r;o+=3)if(this.actions[o]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:o}=e,{parser:s}=e.p,{data:a}=s;for(let l=0;l<2;l++)for(let c=s.stateSlot(o,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=bs(a,c+2);else{r==0&&a[c+1]==2&&(r=this.putAction(bs(a,c+2),t,i,r));break}a[c]==t&&(r=this.putAction(bs(a,c+1),t,i,r))}return r}}class EA{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new $A(t,r),this.tokens=new TA(e,this.stream),this.topTerm=e.top[1];let{from:o}=r[0];this.stacks=[ud.start(this,e.top[0],o)],this.fragments=i.length&&this.stream.end-o>e.bufferLength*4?new PA(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,o;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let a=e[s];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],o=[]),r.push(a);let l=this.tokens.getMainToken(a);o.push(l.value,l.end)}}break}}if(!i.length){let s=r&&RA(r);if(s)return Hr&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Hr&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let s=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,o,i);if(s)return Hr&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(i.length>s)for(i.sort((a,l)=>l.score-a.score);i.length>s;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let s=0;s<i.length-1;s++){let a=i[s];for(let l=s+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(s--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let s=1;s<i.length;s++)i[s].pos<this.minStackPos&&(this.minStackPos=i[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:o}=this,s=Hr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,f=c?e.curContext.hash:0;for(let h=this.fragments.nodeAt(r);h;){let p=this.parser.nodeSet.types[h.type.id]==h.type?o.getGoto(e.state,h.type.id):-1;if(p>-1&&h.length&&(!c||(h.prop(En.contextHash)||0)==f))return e.useNode(h,p),Hr&&console.log(s+this.stackID(e)+` (via reuse of ${o.getName(h.type.id)})`),!0;if(!(h instanceof Ti)||h.children.length==0||h.positions[0]>0)break;let m=h.children[0];if(m instanceof Ti&&h.positions[0]==0)h=m;else break}}let a=o.stateSlot(e.state,4);if(a>0)return e.reduce(a),Hr&&console.log(s+this.stackID(e)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let f=l[c++],h=l[c++],p=l[c++],m=c==l.length||!i,g=m?e:e.split(),v=this.tokens.mainToken;if(g.apply(f,h,v?v.start:g.pos,p),Hr&&console.log(s+this.stackID(g)+` (via ${f&65536?`reduce of ${o.getName(f&65535)}`:"shift"} for ${o.getName(h)} @ ${r}${g==e?"":", split"})`),m)return!0;g.pos>r?t.push(g):i.push(g)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return mx(e,t),!0}}runRecovery(e,t,i){let r=null,o=!1;for(let s=0;s<e.length;s++){let a=e[s],l=t[s<<1],c=t[(s<<1)+1],f=Hr?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),Hr&&console.log(f+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let h=a.split(),p=f;for(let m=0;h.forceReduce()&&m<10&&(Hr&&console.log(p+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,i));m++)Hr&&(p=this.stackID(h)+" -> ");for(let m of a.recoverByInsert(l))Hr&&console.log(f+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Hr&&console.log(f+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),mx(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),Ti.build({buffer:fd.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(sm||(sm=new WeakMap)).get(e);return t||sm.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function mx(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class AA{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const am=n=>n;class lU{constructor(e){this.start=e.start,this.shift=e.shift||am,this.reduce=e.reduce||am,this.reuse=e.reuse||am,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ru extends JS{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<t.length;a++)r.push([]);function o(a,l,c){r[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=En[l]);for(let c=1;c<a.length;){let f=a[c++];if(f>=0)o(f,l,a[c++]);else{let h=a[c+-f];for(let p=-f;p>0;p--)o(a[c++],l,h);c++}}}this.nodeSet=new Bv(t.map((a,l)=>Ar.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=WS;let s=eu(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(gx),this.states=eu(e.states,Uint32Array),this.data=eu(e.stateData),this.goto=eu(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Gl(s,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new EA(this,e,t,i);for(let o of this.wrappers)r=o(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let o=r[t+1];;){let s=r[o++],a=s&1,l=r[o++];if(a&&i)return l;for(let c=o+(s>>1);o<c;o++)if(r[o]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let o=this.stateSlot(e,r?2:1),s;;o+=3){if((s=i[o])==65535)if(i[o+1]==1)s=i[o=bs(i,o+2)];else{if(i[o+1]==2)return bs(i,o+2);break}if(s==t||s==0)return bs(i,o+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let o=this.stateSlot(e,1);r==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=bs(this.data,o+2);else break;r=t(bs(this.data,o+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=bs(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];t.some((o,s)=>s&1&&o==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(Ru.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(o=>o.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let o=e.specializers.find(a=>a.from==i.external);if(!o)return i;let s=Object.assign(Object.assign({},i),{external:o.to});return t.specializers[r]=gx(s),s})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let o of e.split(" ")){let s=t.indexOf(o);s>=0&&(i[s]=!0)}let r=null;for(let o=0;o<t.length;o++)if(!i[o])for(let s=this.dialects[t[o]],a;(a=this.data[s++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new AA(e,i,r)}static deserialize(e){return new Ru(e)}}function bs(n,e){return n[e]|n[e+1]<<16}function RA(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function gx(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const LA=96,vx=1,IA=97,NA=98,yx=2,IC=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],BA=58,DA=40,NC=95,zA=91,Lh=45,qA=46,FA=35,HA=37,VA=38,WA=92,UA=10;function hd(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function QA(n){return n>=48&&n<=57}const ZA=new d0((n,e)=>{for(let t=!1,i=0,r=0;;r++){let{next:o}=n;if(hd(o)||o==Lh||o==NC||t&&QA(o))!t&&(o!=Lh||r>0)&&(t=!0),i===r&&o==Lh&&i++,n.advance();else if(o==WA&&n.peek(1)!=UA)n.advance(),n.next>-1&&n.advance(),t=!0;else{t&&n.acceptToken(o==DA?IA:i==2&&e.canShift(yx)?yx:NA);break}}}),JA=new d0(n=>{if(IC.includes(n.peek(-1))){let{next:e}=n;(hd(e)||e==NC||e==FA||e==qA||e==zA||e==BA||e==Lh||e==VA)&&n.acceptToken(LA)}}),GA=new d0(n=>{if(!IC.includes(n.peek(-1))){let{next:e}=n;if(e==HA&&(n.advance(),n.acceptToken(vx)),hd(e)){do n.advance();while(hd(n.next));n.acceptToken(vx)}}}),KA=Fv({"AtKeyword import charset namespace keyframes media supports":Oe.definitionKeyword,"from to selector":Oe.keyword,NamespaceName:Oe.namespace,KeyframeName:Oe.labelName,KeyframeRangeName:Oe.operatorKeyword,TagName:Oe.tagName,ClassName:Oe.className,PseudoClassName:Oe.constant(Oe.className),IdName:Oe.labelName,"FeatureName PropertyName":Oe.propertyName,AttributeName:Oe.attributeName,NumberLiteral:Oe.number,KeywordQuery:Oe.keyword,UnaryQueryOp:Oe.operatorKeyword,"CallTag ValueName":Oe.atom,VariableName:Oe.variableName,Callee:Oe.operatorKeyword,Unit:Oe.unit,"UniversalSelector NestingSelector":Oe.definitionOperator,MatchOp:Oe.compareOperator,"ChildOp SiblingOp, LogicOp":Oe.logicOperator,BinOp:Oe.arithmeticOperator,Important:Oe.modifier,Comment:Oe.blockComment,ColorLiteral:Oe.color,"ParenthesizedContent StringLiteral":Oe.string,":":Oe.punctuation,"PseudoOp #":Oe.derefOperator,"; ,":Oe.separator,"( )":Oe.paren,"[ ]":Oe.squareBracket,"{ }":Oe.brace}),XA={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},YA={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},eR={__proto__:null,not:128,only:128},tR=Ru.deserialize({version:14,states:"9bQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DPO$vQ[O'#DTOOQP'#Ej'#EjO${QdO'#DeO%gQ[O'#DrO${QdO'#DtO%xQ[O'#DvO&TQ[O'#DyO&]Q[O'#EPO&kQ[O'#EROOQS'#Ei'#EiOOQS'#EU'#EUQYQ[OOO&rQXO'#CdO'gQWO'#DaO'lQWO'#EpO'wQ[O'#EpQOQWOOP(RO#tO'#C_POOO)C@X)C@XOOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(^Q[O'#EXO(xQWO,58{O)QQ[O,59SO$qQ[O,59kO$vQ[O,59oO(^Q[O,59sO(^Q[O,59uO(^Q[O,59vO)]Q[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)dQWO,59SO)iQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)nQ`O,59oOOQS'#Cp'#CpO${QdO'#CqO)vQvO'#CsO+TQtO,5:POOQO'#Cx'#CxO)iQWO'#CwO+iQWO'#CyOOQS'#Em'#EmOOQO'#Dh'#DhO+nQ[O'#DoO+|QWO'#EqO&]Q[O'#DmO,[QWO'#DpOOQO'#Er'#ErO({QWO,5:^O,aQpO,5:`OOQS'#Dx'#DxO,iQWO,5:bO,nQ[O,5:bOOQO'#D{'#D{O,vQWO,5:eO,{QWO,5:kO-TQWO,5:mOOQS-E8S-E8SO${QdO,59{O-]Q[O'#EZO-jQWO,5;[O-jQWO,5;[POOO'#ET'#ETP-uO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.lQXO,5:sOOQO-E8V-E8VOOQS1G.g1G.gOOQP1G.n1G.nO)dQWO1G.nO)iQWO1G.nOOQP1G/V1G/VO.yQ`O1G/ZO/dQXO1G/_O/zQXO1G/aO0bQXO1G/bO0xQWO,59zO0}Q[O'#DOO1UQdO'#CoOOQP1G/Z1G/ZO${QdO1G/ZO1]QpO,59]OOQS,59_,59_O${QdO,59aO1eQWO1G/kOOQS,59c,59cO1jQ!bO,59eO1rQWO'#DhO1}QWO,5:TO2SQWO,5:ZO&]Q[O,5:VO&]Q[O'#E[O2[QWO,5;]O2gQWO,5:XO(^Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2xQWO1G/|O2}QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO3YQtO1G/gOOQO,5:u,5:uO3pQ[O,5:uOOQO-E8X-E8XO3}QWO1G0vPOOO-E8R-E8RPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$u7+$uO${QdO7+$uOOQS1G/f1G/fO4YQXO'#EoO4aQWO,59jO4fQtO'#EVO5ZQdO'#ElO5eQWO,59ZO5jQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5rQWO1G/PO${QdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5wQWO,5:vOOQO-E8Y-E8YO6VQXO1G/vOOQS7+%h7+%hO6^QYO'#CsOOQO'#EO'#EOO6iQ`O'#D}OOQO'#D}'#D}O6tQWO'#E]O6|QdO,5:hOOQS,5:h,5:hO7XQtO'#EYO${QdO'#EYO8VQdO7+%ROOQO7+%R7+%ROOQO1G0a1G0aO8jQpO<<HaO8rQWO,5;ZOOQP1G/U1G/UOOQS-E8T-E8TO${QdO'#EWO8zQWO,5;WOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO9SQdO7+%ZOOQO7+%b7+%bOOQO,5:i,5:iO3QQdO'#E^O6tQWO,5:wOOQS,5:w,5:wOOQS-E8Z-E8ZOOQS1G0S1G0SO9ZQtO,5:tOOQS-E8W-E8WOOQO<<Hm<<HmOOQPAN={AN={O:XQdO,5:rOOQO-E8U-E8UOOQO<<Hu<<HuOOQO,5:x,5:xOOQO-E8[-E8[OOQS1G0c1G0c",stateData:":k~O#WOS#XQQ~OUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#URO#_TO~OQfOUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#UeO#_TO~O#R#dP~P!ZO#XjO~O#UlO~O]qO^qOpoOtrOxsO|tO!PvO#SuO#_nO~O!RwO~P#pO`}O#TzO#UyO~O#U!OO~O#U!QO~OQ!ZOb!TOf!ZOh!ZOn!YO#T!WO#U!SO#b!UO~Ob!]O!b!_O!e!`O#U![O!R#eP~Oh!eOn!YO#U!dO~Oh!gO#U!gO~Ob!]O!b!_O!e!`O#U![O~O!W#eP~P%gO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#SWX#_WX~O]!lO~O!W!mO#R#dX!Q#dX~O#R#dX!Q#dX~P!ZO#Y!pO#Z!pO#[!rO~OUYOXYO]VO^VOtWOxXO#URO#_TO~OpoO!RwO~O`!yO#TzO#UyO~O!Q#dP~P!ZOb#QO~Ob#RO~Ov#SOz#TO~OP#VObgXjgX!WgX!bgX!egX#UgXagXQgXfgXhgXngXpgX!VgX#RgX#TgX#bgXvgX!QgX~Ob!]Oj#WO!b!_O!e!`O#U![O!W#eP~Ob#ZO~Ob!]O!b!_O!e!`O#U#[O~Op#`O!`#_O!R#eX!W#eX~Ob#cO~Oj#WO!W#eO~O!W#fO~Oh#gOn!YO~O!R#hO~O!RwO!`#_O~O!RwO!W#kO~O!W!}X#R!}X!Q!}X~P!ZO!W!mO#R#da!Q#da~O#Y!pO#Z!pO#[#rO~O]qO^qOtrOxsO|tO!PvO#SuO#_nO~Op!{a!R!{aa!{a~P.QOv#tOz#uO~O]qO^qOtrOxsO#_nO~Op{i|{i!P{i!R{i#S{ia{i~P/ROp}i|}i!P}i!R}i#S}ia}i~P/ROp!Oi|!Oi!P!Oi!R!Oi#S!Oia!Oi~P/RO!Q#vO~Oa#cP~P(^Oa#`P~P${Oa#}Oj#WO~O!W$PO~Oh$QOo$QO~O]!^Xa![X!`![X~O]$RO~Oa$SO!`#_O~Op#`O!R#ea!W#ea~O!`#_Op!aa!R!aa!W!aaa!aa~O!W$XO~O!Q$`O#U$ZO#b$YO~Oj#WOp$bO!V$dO!W!Ti#R!Ti!Q!Ti~P${O!W!}a#R!}a!Q!}a~P!ZO!W!mO#R#di!Q#di~Oa#cX~P#pOa$hO~Oj#WOQ!yXa!yXb!yXf!yXh!yXn!yXp!yX#T!yX#U!yX#b!yX~Op$jOa#`X~P${Oa$lO~Oj#WOv$mO~Oa$nO~O!`#_Op#Oa!R#Oa!W#Oa~Oa$pO~P.QOP#VOpgX!RgX~O#b$YOp!qX!R!qX~Op$rO!RwO~O!Q$vO#U$ZO#b$YO~Oj#WOQ!|Xb!|Xf!|Xh!|Xn!|Xp!|X!V!|X!W!|X#R!|X#T!|X#U!|X#b!|X!Q!|X~Op$bO!V$yO!W!Tq#R!Tq!Q!Tq~P${Oj#WOv$zO~OpoOa#ca~Op$jOa#`a~Oa$}O~P${Oj#WOQ!|ab!|af!|ah!|an!|ap!|a!V!|a!W!|a#R!|a#T!|a#U!|a#b!|a!Q!|a~Oa!zap!za~P${O#Wo#X#bj!P#b~",goto:"-Y#gPPP#hP#kP#t$TP#t$d#tPP$jPPP$p$y$yP%]P$yP$y%w&ZPPP&s&y#tP'PP#tP'VP#tP#t#tPPP']'r(PPP#kPP(W(W(b(WP(WP(W(WP#kP#kP#kP(e#kP(h(k(n(u#kP#kP(z)Q)a)o)u*P*V*a*g*mPPPPPPPPPP*s*|P+i+lP,b,e,k,tRkQ_bOPdhw!m#nkYOPdhotuvw!m#Q#c#nkSOPdhotuvw!m#Q#c#nQmTR!snQ{VR!wqQ!w}Q#Y!XR#s!yq!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${U$]#h$_$rR$q$[q!XZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${Q!e^R#g!fQ|VR!xqQ!w|R#s!xQ!PWR!zrQ!RXR!{sQxUQ!vpQ#d!bQ#j!iQ#k!jQ$t$^R%Q$sSgPwQ!ohQ#m!mR$e#nZfPhw!m#na!a[`a!V!]!_#_#`R#]!]R!f^R!h_R#i!hS$^#h$_R%O$rV$[#h$_$rQ!qjR#q!qQdOShPwU!kdh#nR#n!mQ#z#RU$i#z$o${Q$o$RR${$jQ$k#zR$|$kQpUS!up$gR$g#wQ$c#lR$x$cQ!ngS#o!n#pR#p!oQ#a!^R$V#aQ$_#hR$u$_Q$s$^R%P$s_cOPdhw!m#n^UOPdhw!m#nQ!toQ!|tQ!}uQ#OvQ#w#QR$W#cR#{#RQ!VZQ!c]Q#U!TQ#l!l[#y#R#z$R$j$o${Q#|#TQ$O#WS$a#l$cQ$f#uR$w$bR#x#QQiPR#PwQ!b[Q!jaR#X!VU!^[a!VQ!i`Q#^!]Q#b!_Q$T#_R$U#`",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:114,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[KA],skippedNodes:[0,3,85],repeatNodeCount:10,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#W~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#W~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!V[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYtQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QSzSo`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!PQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#b[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#b[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSp^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#_QOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#X~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!W^Oy%^z;'S%^;'S;=`%o<%lO%^dCoSzSOy%^z;'S%^;'S;=`%o<%lO%^bDQU|QOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS|Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!YQo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bFfSxQOy%^z;'S%^;'S;=`%o<%lO%^lFwSv[Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!`Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!RUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!Q^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!PQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[JA,GA,ZA,1,2,3,4,new RC("m~RRYZ[z{a~~g~aO#Z~~dP!P!Qg~lO#[~~",28,102)],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:97,get:n=>XA[n]||-1},{term:56,get:n=>YA[n]||-1},{term:98,get:n=>eR[n]||-1}],tokenPrec:1169});let lm=null;function cm(){if(!lm&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],t=new Set;for(let i in n)i!="cssText"&&i!="cssFloat"&&typeof n[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),t.has(i)||(e.push(i),t.add(i)));lm=e.sort().map(i=>({type:"property",label:i}))}return lm||[]}const bx=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),xx=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),nR=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),Ws=/^(\w[\w-]*|-\w[\w-]*|)$/,iR=/^-(-[\w-]*)?$/;function rR(n,e){var t;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let i=(t=n.parent)===null||t===void 0?void 0:t.firstChild;return(i==null?void 0:i.name)!="Callee"?!1:e.sliceString(i.from,i.to)=="var"}const wx=new $6,oR=["Declaration"];function sR(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function BC(n,e,t){if(e.to-e.from>4096){let i=wx.get(e);if(i)return i;let r=[],o=new Set,s=e.cursor(mi.IncludeAnonymous);if(s.firstChild())do for(let a of BC(n,s.node,t))o.has(a.label)||(o.add(a.label),r.push(a));while(s.nextSibling());return wx.set(e,r),r}else{let i=[],r=new Set;return e.cursor().iterate(o=>{var s;if(t(o)&&o.matchContext(oR)&&((s=o.node.nextSibling)===null||s===void 0?void 0:s.name)==":"){let a=n.sliceString(o.from,o.to);r.has(a)||(r.add(a),i.push({label:a,type:"variable"}))}}),i}}const aR=n=>e=>{let{state:t,pos:i}=e,r=rr(t).resolveInner(i,-1),o=r.type.isError&&r.from==r.to-1&&t.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(o||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:cm(),validFor:Ws};if(r.name=="ValueName")return{from:r.from,options:xx,validFor:Ws};if(r.name=="PseudoClassName")return{from:r.from,options:bx,validFor:Ws};if(n(r)||(e.explicit||o)&&rR(r,t.doc))return{from:n(r)||o?r.from:i,options:BC(t.doc,sR(r),n),validFor:iR};if(r.name=="TagName"){for(let{parent:l}=r;l;l=l.parent)if(l.name=="Block")return{from:r.from,options:cm(),validFor:Ws};return{from:r.from,options:nR,validFor:Ws}}if(!e.explicit)return null;let s=r.resolve(i),a=s.childBefore(i);return a&&a.name==":"&&s.name=="PseudoClassSelector"?{from:i,options:bx,validFor:Ws}:a&&a.name==":"&&s.name=="Declaration"||s.name=="ArgList"?{from:i,options:xx,validFor:Ws}:s.name=="Block"||s.name=="Styles"?{from:i,options:cm(),validFor:Ws}:null},lR=aR(n=>n.name=="VariableName"),kx=$u.define({name:"css",parser:tR.configure({props:[Vv.add({Declaration:xg()}),Uv.add({"Block KeyframeList":i4})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function cU(){return new YS(kx,kx.data.of({autocomplete:lR}))}var DC={exports:{}};(function(n,e){(function(t,i){i()})(Ea,function(){function t(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,f,h){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,f,h)},p.onerror=function(){console.error("could not download file")},p.send()}function r(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function o(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ea=="object"&&Ea.global===Ea?Ea:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,f,h){var p=s.URL||s.webkitURL,m=document.createElement("a");f=f||c.name||"download",m.download=f,m.rel="noopener",typeof c=="string"?(m.href=c,m.origin===location.origin?o(m):r(m.href)?i(c,f,h):o(m,m.target="_blank")):(m.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(m.href)},4e4),setTimeout(function(){o(m)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,h){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,h),f);else if(r(c))i(c,f,h);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){o(p)})}}:function(c,f,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return i(c,f,h);var m=c.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||m&&g||a)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var C=b.result;C=v?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=C:location=C,p=null},b.readAsDataURL(c)}else{var x=s.URL||s.webkitURL,k=x.createObjectURL(c);p?p.location=k:location.href=k,p=null,setTimeout(function(){x.revokeObjectURL(k)},4e4)}});s.saveAs=l.saveAs=l,n.exports=l})})(DC);var _x=DC.exports;const jx=(n,e,t="blob")=>{if(n instanceof Blob||t==="url"){_x.saveAs(n,e);return}if(t==="blob"){const i=new Blob([n]);_x.saveAs(i,e)}};var Eg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,e){(function(t,i){i(e)})(Ea,function(t){var i="1.9.4";function r(u){var d,y,w,O;for(y=1,w=arguments.length;y<w;y++){O=arguments[y];for(d in O)u[d]=O[d]}return u}var o=Object.create||function(){function u(){}return function(d){return u.prototype=d,new u}}();function s(u,d){var y=Array.prototype.slice;if(u.bind)return u.bind.apply(u,y.call(arguments,1));var w=y.call(arguments,2);return function(){return u.apply(d,w.length?w.concat(y.call(arguments)):arguments)}}var a=0;function l(u){return"_leaflet_id"in u||(u._leaflet_id=++a),u._leaflet_id}function c(u,d,y){var w,O,V,he;return he=function(){w=!1,O&&(V.apply(y,O),O=!1)},V=function(){w?O=arguments:(u.apply(y,arguments),setTimeout(he,d),w=!0)},V}function f(u,d,y){var w=d[1],O=d[0],V=w-O;return u===w&&y?u:((u-O)%V+V)%V+O}function h(){return!1}function p(u,d){if(d===!1)return u;var y=Math.pow(10,d===void 0?6:d);return Math.round(u*y)/y}function m(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function g(u){return m(u).split(/\s+/)}function v(u,d){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?o(u.options):{});for(var y in d)u.options[y]=d[y];return u.options}function b(u,d,y){var w=[];for(var O in u)w.push(encodeURIComponent(y?O.toUpperCase():O)+"="+encodeURIComponent(u[O]));return(!d||d.indexOf("?")===-1?"?":"&")+w.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function k(u,d){return u.replace(x,function(y,w){var O=d[w];if(O===void 0)throw new Error("No value provided for variable "+y);return typeof O=="function"&&(O=O(d)),O})}var C=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function S(u,d){for(var y=0;y<u.length;y++)if(u[y]===d)return y;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var q=0;function te(u){var d=+new Date,y=Math.max(0,16-(d-q));return q=d+y,window.setTimeout(u,y)}var G=window.requestAnimationFrame||E("RequestAnimationFrame")||te,I=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function U(u,d,y){if(y&&G===te)u.call(d);else return G.call(window,s(u,d))}function B(u){u&&I.call(window,u)}var ee={__proto__:null,extend:r,create:o,bind:s,get lastId(){return a},stamp:l,throttle:c,wrapNum:f,falseFn:h,formatNum:p,trim:m,splitWords:g,setOptions:v,getParamString:b,template:k,isArray:C,indexOf:S,emptyImageUrl:_,requestFn:G,cancelFn:I,requestAnimFrame:U,cancelAnimFrame:B};function F(){}F.extend=function(u){var d=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},y=d.__super__=this.prototype,w=o(y);w.constructor=d,d.prototype=w;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(d[O]=this[O]);return u.statics&&r(d,u.statics),u.includes&&(ne(u.includes),r.apply(null,[w].concat(u.includes))),r(w,u),delete w.statics,delete w.includes,w.options&&(w.options=y.options?o(y.options):{},r(w.options,u.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){y.callInitHooks&&y.callInitHooks.call(this),this._initHooksCalled=!0;for(var V=0,he=w._initHooks.length;V<he;V++)w._initHooks[V].call(this)}},d},F.include=function(u){var d=this.prototype.options;return r(this.prototype,u),u.options&&(this.prototype.options=d,this.mergeOptions(u.options)),this},F.mergeOptions=function(u){return r(this.prototype.options,u),this},F.addInitHook=function(u){var d=Array.prototype.slice.call(arguments,1),y=typeof u=="function"?u:function(){this[u].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(y),this};function ne(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=C(u)?u:[u];for(var d=0;d<u.length;d++)u[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var re={on:function(u,d,y){if(typeof u=="object")for(var w in u)this._on(w,u[w],d);else{u=g(u);for(var O=0,V=u.length;O<V;O++)this._on(u[O],d,y)}return this},off:function(u,d,y){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var w in u)this._off(w,u[w],d);else{u=g(u);for(var O=arguments.length===1,V=0,he=u.length;V<he;V++)O?this._off(u[V]):this._off(u[V],d,y)}return this},_on:function(u,d,y,w){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(u,d,y)===!1){y===this&&(y=void 0);var O={fn:d,ctx:y};w&&(O.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(O)}},_off:function(u,d,y){var w,O,V;if(this._events&&(w=this._events[u],!!w)){if(arguments.length===1){if(this._firingCount)for(O=0,V=w.length;O<V;O++)w[O].fn=h;delete this._events[u];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var he=this._listens(u,d,y);if(he!==!1){var Se=w[he];this._firingCount&&(Se.fn=h,this._events[u]=w=w.slice()),w.splice(he,1)}}},fire:function(u,d,y){if(!this.listens(u,y))return this;var w=r({},d,{type:u,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var O=this._events[u];if(O){this._firingCount=this._firingCount+1||1;for(var V=0,he=O.length;V<he;V++){var Se=O[V],Ae=Se.fn;Se.once&&this.off(u,Ae,Se.ctx),Ae.call(Se.ctx||this,w)}this._firingCount--}}return y&&this._propagateEvent(w),this},listens:function(u,d,y,w){typeof u!="string"&&console.warn('"string" type argument expected');var O=d;typeof d!="function"&&(w=!!d,O=void 0,y=void 0);var V=this._events&&this._events[u];if(V&&V.length&&this._listens(u,O,y)!==!1)return!0;if(w){for(var he in this._eventParents)if(this._eventParents[he].listens(u,d,y,w))return!0}return!1},_listens:function(u,d,y){if(!this._events)return!1;var w=this._events[u]||[];if(!d)return!!w.length;y===this&&(y=void 0);for(var O=0,V=w.length;O<V;O++)if(w[O].fn===d&&w[O].ctx===y)return O;return!1},once:function(u,d,y){if(typeof u=="object")for(var w in u)this._on(w,u[w],d,!0);else{u=g(u);for(var O=0,V=u.length;O<V;O++)this._on(u[O],d,y,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[l(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[l(u)],this},_propagateEvent:function(u){for(var d in this._eventParents)this._eventParents[d].fire(u.type,r({layer:u.target,propagatedFrom:u.target},u),!0)}};re.addEventListener=re.on,re.removeEventListener=re.clearAllEventListeners=re.off,re.addOneTimeEventListener=re.once,re.fireEvent=re.fire,re.hasEventListeners=re.listens;var R=F.extend(re);function $(u,d,y){this.x=y?Math.round(u):u,this.y=y?Math.round(d):d}var N=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(u){return this.clone()._add(P(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(P(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new $(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new $(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(u){u=P(u);var d=u.x-this.x,y=u.y-this.y;return Math.sqrt(d*d+y*y)},equals:function(u){return u=P(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=P(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function P(u,d,y){return u instanceof $?u:C(u)?new $(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new $(u.x,u.y):new $(u,d,y)}function A(u,d){if(u)for(var y=d?[u,d]:u,w=0,O=y.length;w<O;w++)this.extend(y[w])}A.prototype={extend:function(u){var d,y;if(!u)return this;if(u instanceof $||typeof u[0]=="number"||"x"in u)d=y=P(u);else if(u=M(u),d=u.min,y=u.max,!d||!y)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=y.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(y.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(y.y,this.max.y)),this},getCenter:function(u){return P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return P(this.min.x,this.max.y)},getTopRight:function(){return P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var d,y;return typeof u[0]=="number"||u instanceof $?u=P(u):u=M(u),u instanceof A?(d=u.min,y=u.max):d=y=u,d.x>=this.min.x&&y.x<=this.max.x&&d.y>=this.min.y&&y.y<=this.max.y},intersects:function(u){u=M(u);var d=this.min,y=this.max,w=u.min,O=u.max,V=O.x>=d.x&&w.x<=y.x,he=O.y>=d.y&&w.y<=y.y;return V&&he},overlaps:function(u){u=M(u);var d=this.min,y=this.max,w=u.min,O=u.max,V=O.x>d.x&&w.x<y.x,he=O.y>d.y&&w.y<y.y;return V&&he},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var d=this.min,y=this.max,w=Math.abs(d.x-y.x)*u,O=Math.abs(d.y-y.y)*u;return M(P(d.x-w,d.y-O),P(y.x+w,y.y+O))},equals:function(u){return u?(u=M(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function M(u,d){return!u||u instanceof A?u:new A(u,d)}function Z(u,d){if(u)for(var y=d?[u,d]:u,w=0,O=y.length;w<O;w++)this.extend(y[w])}Z.prototype={extend:function(u){var d=this._southWest,y=this._northEast,w,O;if(u instanceof de)w=u,O=u;else if(u instanceof Z){if(w=u._southWest,O=u._northEast,!w||!O)return this}else return u?this.extend(xe(u)||le(u)):this;return!d&&!y?(this._southWest=new de(w.lat,w.lng),this._northEast=new de(O.lat,O.lng)):(d.lat=Math.min(w.lat,d.lat),d.lng=Math.min(w.lng,d.lng),y.lat=Math.max(O.lat,y.lat),y.lng=Math.max(O.lng,y.lng)),this},pad:function(u){var d=this._southWest,y=this._northEast,w=Math.abs(d.lat-y.lat)*u,O=Math.abs(d.lng-y.lng)*u;return new Z(new de(d.lat-w,d.lng-O),new de(y.lat+w,y.lng+O))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof de||"lat"in u?u=xe(u):u=le(u);var d=this._southWest,y=this._northEast,w,O;return u instanceof Z?(w=u.getSouthWest(),O=u.getNorthEast()):w=O=u,w.lat>=d.lat&&O.lat<=y.lat&&w.lng>=d.lng&&O.lng<=y.lng},intersects:function(u){u=le(u);var d=this._southWest,y=this._northEast,w=u.getSouthWest(),O=u.getNorthEast(),V=O.lat>=d.lat&&w.lat<=y.lat,he=O.lng>=d.lng&&w.lng<=y.lng;return V&&he},overlaps:function(u){u=le(u);var d=this._southWest,y=this._northEast,w=u.getSouthWest(),O=u.getNorthEast(),V=O.lat>d.lat&&w.lat<y.lat,he=O.lng>d.lng&&w.lng<y.lng;return V&&he},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,d){return u?(u=le(u),this._southWest.equals(u.getSouthWest(),d)&&this._northEast.equals(u.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(u,d){return u instanceof Z?u:new Z(u,d)}function de(u,d,y){if(isNaN(u)||isNaN(d))throw new Error("Invalid LatLng object: ("+u+", "+d+")");this.lat=+u,this.lng=+d,y!==void 0&&(this.alt=+y)}de.prototype={equals:function(u,d){if(!u)return!1;u=xe(u);var y=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return y<=(d===void 0?1e-9:d)},toString:function(u){return"LatLng("+p(this.lat,u)+", "+p(this.lng,u)+")"},distanceTo:function(u){return Be.distance(this,xe(u))},wrap:function(){return Be.wrapLatLng(this)},toBounds:function(u){var d=180*u/40075017,y=d/Math.cos(Math.PI/180*this.lat);return le([this.lat-d,this.lng-y],[this.lat+d,this.lng+y])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function xe(u,d,y){return u instanceof de?u:C(u)&&typeof u[0]!="object"?u.length===3?new de(u[0],u[1],u[2]):u.length===2?new de(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new de(u.lat,"lng"in u?u.lng:u.lon,u.alt):d===void 0?null:new de(u,d,y)}var oe={latLngToPoint:function(u,d){var y=this.projection.project(u),w=this.scale(d);return this.transformation._transform(y,w)},pointToLatLng:function(u,d){var y=this.scale(d),w=this.transformation.untransform(u,y);return this.projection.unproject(w)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var d=this.projection.bounds,y=this.scale(u),w=this.transformation.transform(d.min,y),O=this.transformation.transform(d.max,y);return new A(w,O)},infinite:!1,wrapLatLng:function(u){var d=this.wrapLng?f(u.lng,this.wrapLng,!0):u.lng,y=this.wrapLat?f(u.lat,this.wrapLat,!0):u.lat,w=u.alt;return new de(y,d,w)},wrapLatLngBounds:function(u){var d=u.getCenter(),y=this.wrapLatLng(d),w=d.lat-y.lat,O=d.lng-y.lng;if(w===0&&O===0)return u;var V=u.getSouthWest(),he=u.getNorthEast(),Se=new de(V.lat-w,V.lng-O),Ae=new de(he.lat-w,he.lng-O);return new Z(Se,Ae)}},Be=r({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(u,d){var y=Math.PI/180,w=u.lat*y,O=d.lat*y,V=Math.sin((d.lat-u.lat)*y/2),he=Math.sin((d.lng-u.lng)*y/2),Se=V*V+Math.cos(w)*Math.cos(O)*he*he,Ae=2*Math.atan2(Math.sqrt(Se),Math.sqrt(1-Se));return this.R*Ae}}),We=6378137,Ce={R:We,MAX_LATITUDE:85.0511287798,project:function(u){var d=Math.PI/180,y=this.MAX_LATITUDE,w=Math.max(Math.min(y,u.lat),-y),O=Math.sin(w*d);return new $(this.R*u.lng*d,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(u){var d=180/Math.PI;return new de((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*d,u.x*d/this.R)},bounds:function(){var u=We*Math.PI;return new A([-u,-u],[u,u])}()};function be(u,d,y,w){if(C(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=d,this._c=y,this._d=w}be.prototype={transform:function(u,d){return this._transform(u.clone(),d)},_transform:function(u,d){return d=d||1,u.x=d*(this._a*u.x+this._b),u.y=d*(this._c*u.y+this._d),u},untransform:function(u,d){return d=d||1,new $((u.x/d-this._b)/this._a,(u.y/d-this._d)/this._c)}};function Ze(u,d,y,w){return new be(u,d,y,w)}var Ye=r({},Be,{code:"EPSG:3857",projection:Ce,transformation:function(){var u=.5/(Math.PI*Ce.R);return Ze(u,.5,-u,.5)}()}),et=r({},Ye,{code:"EPSG:900913"});function qt(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function fe(u,d){var y="",w,O,V,he,Se,Ae;for(w=0,V=u.length;w<V;w++){for(Se=u[w],O=0,he=Se.length;O<he;O++)Ae=Se[O],y+=(O?"L":"M")+Ae.x+" "+Ae.y;y+=d?Q.svg?"z":"x":""}return y||"M0 0"}var wt=document.documentElement.style,tt="ActiveXObject"in window,ce=tt&&!document.addEventListener,bt="msLaunchUri"in navigator&&!("documentMode"in document),Bt=W("webkit"),ut=W("android"),Kt=W("android 2")||W("android 3"),bn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=ut&&W("Google")&&bn<537&&!("AudioNode"in window),H=!!window.opera,J=!bt&&W("chrome"),ie=W("gecko")&&!Bt&&!H&&!tt,me=!J&&W("safari"),_e=W("phantom"),Re="OTransition"in wt,st=navigator.platform.indexOf("Win")===0,Tt=tt&&"transition"in wt,Lt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Kt,Ln="MozPerspective"in wt,Qt=!window.L_DISABLE_3D&&(Tt||Lt||Ln)&&!Re&&!_e,rt=typeof orientation<"u"||W("mobile"),$n=rt&&Bt,oi=rt&&Lt,Mn=!window.PointerEvent&&window.MSPointerEvent,Qn=!!(window.PointerEvent||Mn),Zn="ontouchstart"in window||!!window.TouchEvent,ei=!window.L_NO_TOUCH&&(Zn||Qn),xn=rt&&H,je=rt&&ie,ot=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vt=function(){var u=!1;try{var d=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",h,d),window.removeEventListener("testPassiveEventSupport",h,d)}catch{}return u}(),en=function(){return!!document.createElement("canvas").getContext}(),tn=!!(document.createElementNS&&qt("svg").createSVGRect),rn=!!tn&&function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),we=!tn&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var d=u.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),pt=navigator.platform.indexOf("Mac")===0,nt=navigator.platform.indexOf("Linux")===0;function W(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Q={ie:tt,ielt9:ce,edge:bt,webkit:Bt,android:ut,android23:Kt,androidStock:it,opera:H,chrome:J,gecko:ie,safari:me,phantom:_e,opera12:Re,win:st,ie3d:Tt,webkit3d:Lt,gecko3d:Ln,any3d:Qt,mobile:rt,mobileWebkit:$n,mobileWebkit3d:oi,msPointer:Mn,pointer:Qn,touch:ei,touchNative:Zn,mobileOpera:xn,mobileGecko:je,retina:ot,passiveEvents:Vt,canvas:en,svg:tn,vml:we,inlineSvg:rn,mac:pt,linux:nt},ue=Q.msPointer?"MSPointerDown":"pointerdown",ye=Q.msPointer?"MSPointerMove":"pointermove",$e=Q.msPointer?"MSPointerUp":"pointerup",_t=Q.msPointer?"MSPointerCancel":"pointercancel",It={touchstart:ue,touchmove:ye,touchend:$e,touchcancel:_t},an={touchstart:ft,touchmove:Ke,touchend:Ke,touchcancel:Ke},gn={},In=!1;function sn(u,d,y){return d==="touchstart"&&Ue(),an[d]?(y=an[d].bind(this,y),u.addEventListener(It[d],y,!1),y):(console.warn("wrong event specified:",d),h)}function Pn(u,d,y){if(!It[d]){console.warn("wrong event specified:",d);return}u.removeEventListener(It[d],y,!1)}function qn(u){gn[u.pointerId]=u}function Y(u){gn[u.pointerId]&&(gn[u.pointerId]=u)}function Ee(u){delete gn[u.pointerId]}function Ue(){In||(document.addEventListener(ue,qn,!0),document.addEventListener(ye,Y,!0),document.addEventListener($e,Ee,!0),document.addEventListener(_t,Ee,!0),In=!0)}function Ke(u,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var y in gn)d.touches.push(gn[y]);d.changedTouches=[d],u(d)}}function ft(u,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Oi(d),Ke(u,d)}function Ft(u){var d={},y,w;for(w in u)y=u[w],d[w]=y&&y.bind?y.bind(u):y;return u=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var vt=200;function cn(u,d){u.addEventListener("dblclick",d);var y=0,w;function O(V){if(V.detail!==1){w=V.detail;return}if(!(V.pointerType==="mouse"||V.sourceCapabilities&&!V.sourceCapabilities.firesTouchEvents)){var he=$i(V);if(!(he.some(function(Ae){return Ae instanceof HTMLLabelElement&&Ae.attributes.for})&&!he.some(function(Ae){return Ae instanceof HTMLInputElement||Ae instanceof HTMLSelectElement}))){var Se=Date.now();Se-y<=vt?(w++,w===2&&d(Ft(V))):w=1,y=Se}}}return u.addEventListener("click",O),{dblclick:d,simDblclick:O}}function Nt(u,d){u.removeEventListener("dblclick",d.dblclick),u.removeEventListener("click",d.simDblclick)}var Et=qe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hn=qe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Rn=hn==="webkitTransition"||hn==="OTransition"?hn+"End":"transitionend";function Jn(u){return typeof u=="string"?document.getElementById(u):u}function zi(u,d){var y=u.style[d]||u.currentStyle&&u.currentStyle[d];if((!y||y==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(u,null);y=w?w[d]:null}return y==="auto"?null:y}function Sn(u,d,y){var w=document.createElement(u);return w.className=d||"",y&&y.appendChild(w),w}function zn(u){var d=u.parentNode;d&&d.removeChild(u)}function tr(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function qi(u){var d=u.parentNode;d&&d.lastChild!==u&&d.appendChild(u)}function lr(u){var d=u.parentNode;d&&d.firstChild!==u&&d.insertBefore(u,d.firstChild)}function ti(u,d){if(u.classList!==void 0)return u.classList.contains(d);var y=X(u);return y.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(y)}function Wt(u,d){if(u.classList!==void 0)for(var y=g(d),w=0,O=y.length;w<O;w++)u.classList.add(y[w]);else if(!ti(u,d)){var V=X(u);ds(u,(V?V+" ":"")+d)}}function Fn(u,d){u.classList!==void 0?u.classList.remove(d):ds(u,m((" "+X(u)+" ").replace(" "+d+" "," ")))}function ds(u,d){u.className.baseVal===void 0?u.className=d:u.className.baseVal=d}function X(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function ge(u,d){"opacity"in u.style?u.style.opacity=d:"filter"in u.style&&Le(u,d)}function Le(u,d){var y=!1,w="DXImageTransform.Microsoft.Alpha";try{y=u.filters.item(w)}catch{if(d===1)return}d=Math.round(d*100),y?(y.Enabled=d!==100,y.Opacity=d):u.style.filter+=" progid:"+w+"(opacity="+d+")"}function qe(u){for(var d=document.documentElement.style,y=0;y<u.length;y++)if(u[y]in d)return u[y];return!1}function Qe(u,d,y){var w=d||new $(0,0);u.style[Et]=(Q.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(y?" scale("+y+")":"")}function Fe(u,d){u._leaflet_pos=d,Q.any3d?Qe(u,d):(u.style.left=d.x+"px",u.style.top=d.y+"px")}function xt(u){return u._leaflet_pos||new $(0,0)}var yt,$t,Hn;if("onselectstart"in document)yt=function(){dn(window,"selectstart",Oi)},$t=function(){ni(window,"selectstart",Oi)};else{var Gn=qe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);yt=function(){if(Gn){var u=document.documentElement.style;Hn=u[Gn],u[Gn]="none"}},$t=function(){Gn&&(document.documentElement.style[Gn]=Hn,Hn=void 0)}}function Nn(){dn(window,"dragstart",Oi)}function cr(){ni(window,"dragstart",Oi)}var di,Vn;function Fi(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(si(),di=u,Vn=u.style.outlineStyle,u.style.outlineStyle="none",dn(window,"keydown",si))}function si(){di&&(di.style.outlineStyle=Vn,di=void 0,Vn=void 0,ni(window,"keydown",si))}function Hi(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function xo(u){var d=u.getBoundingClientRect();return{x:d.width/u.offsetWidth||1,y:d.height/u.offsetHeight||1,boundingClientRect:d}}var Fs={__proto__:null,TRANSFORM:Et,TRANSITION:hn,TRANSITION_END:Rn,get:Jn,getStyle:zi,create:Sn,remove:zn,empty:tr,toFront:qi,toBack:lr,hasClass:ti,addClass:Wt,removeClass:Fn,setClass:ds,getClass:X,setOpacity:ge,testProp:qe,setTransform:Qe,setPosition:Fe,getPosition:xt,get disableTextSelection(){return yt},get enableTextSelection(){return $t},disableImageDrag:Nn,enableImageDrag:cr,preventOutline:Fi,restoreOutline:si,getSizedParentNode:Hi,getScale:xo};function dn(u,d,y,w){if(d&&typeof d=="object")for(var O in d)Ht(u,O,d[O],y);else{d=g(d);for(var V=0,he=d.length;V<he;V++)Ht(u,d[V],y,w)}return this}var Yr="_leaflet_events";function ni(u,d,y,w){if(arguments.length===1)pe(u),delete u[Yr];else if(d&&typeof d=="object")for(var O in d)Bn(u,O,d[O],y);else if(d=g(d),arguments.length===2)pe(u,function(Se){return S(d,Se)!==-1});else for(var V=0,he=d.length;V<he;V++)Bn(u,d[V],y,w);return this}function pe(u,d){for(var y in u[Yr]){var w=y.split(/\d/)[0];(!d||d(w))&&Bn(u,w,null,null,y)}}var mt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ht(u,d,y,w){var O=d+l(y)+(w?"_"+l(w):"");if(u[Yr]&&u[Yr][O])return this;var V=function(Se){return y.call(w||u,Se||window.event)},he=V;!Q.touchNative&&Q.pointer&&d.indexOf("touch")===0?V=sn(u,d,V):Q.touch&&d==="dblclick"?V=cn(u,V):"addEventListener"in u?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?u.addEventListener(mt[d]||d,V,Q.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(V=function(Se){Se=Se||window.event,Lo(u,Se)&&he(Se)},u.addEventListener(mt[d],V,!1)):u.addEventListener(d,he,!1):u.attachEvent("on"+d,V),u[Yr]=u[Yr]||{},u[Yr][O]=V}function Bn(u,d,y,w,O){O=O||d+l(y)+(w?"_"+l(w):"");var V=u[Yr]&&u[Yr][O];if(!V)return this;!Q.touchNative&&Q.pointer&&d.indexOf("touch")===0?Pn(u,d,V):Q.touch&&d==="dblclick"?Nt(u,V):"removeEventListener"in u?u.removeEventListener(mt[d]||d,V,!1):u.detachEvent("on"+d,V),u[Yr][O]=null}function on(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function un(u){return Ht(u,"wheel",on),this}function yi(u){return dn(u,"mousedown touchstart dblclick contextmenu",on),u._leaflet_disable_click=!0,this}function Oi(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function bi(u){return Oi(u),on(u),this}function $i(u){if(u.composedPath)return u.composedPath();for(var d=[],y=u.target;y;)d.push(y),y=y.parentNode;return d}function eo(u,d){if(!d)return new $(u.clientX,u.clientY);var y=xo(d),w=y.boundingClientRect;return new $((u.clientX-w.left)/y.x-d.clientLeft,(u.clientY-w.top)/y.y-d.clientTop)}var ff=Q.linux&&Q.chrome?window.devicePixelRatio:Q.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pc(u){return Q.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/ff:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Lo(u,d){var y=d.relatedTarget;if(!y)return!0;try{for(;y&&y!==u;)y=y.parentNode}catch{return!1}return y!==u}var n3={__proto__:null,on:dn,off:ni,stopPropagation:on,disableScrollPropagation:un,disableClickPropagation:yi,preventDefault:Oi,stop:bi,getPropagationPath:$i,getMousePosition:eo,getWheelDelta:Pc,isExternalTarget:Lo,addListener:dn,removeListener:ni},T1=R.extend({run:function(u,d,y,w){this.stop(),this._el=u,this._inProgress=!0,this._duration=y||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=xt(u),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(u){var d=+new Date-this._startTime,y=this._duration*1e3;d<y?this._runFrame(this._easeOut(d/y),u):(this._runFrame(1),this._complete())},_runFrame:function(u,d){var y=this._startPos.add(this._offset.multiplyBy(u));d&&y._round(),Fe(this._el,y),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),Dn=R.extend({options:{crs:Ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,d){d=v(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(xe(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hn&&Q.any3d&&!Q.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),dn(this._proxy,Rn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,d,y){if(d=d===void 0?this._zoom:this._limitZoom(d),u=this._limitCenter(xe(u),d,this.options.maxBounds),y=y||{},this._stop(),this._loaded&&!y.reset&&y!==!0){y.animate!==void 0&&(y.zoom=r({animate:y.animate},y.zoom),y.pan=r({animate:y.animate,duration:y.duration},y.pan));var w=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,d,y.zoom):this._tryAnimatedPan(u,y.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(u,d,y.pan&&y.pan.noMoveStart),this},setZoom:function(u,d){return this._loaded?this.setView(this.getCenter(),u,{zoom:d}):(this._zoom=u,this)},zoomIn:function(u,d){return u=u||(Q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,d)},zoomOut:function(u,d){return u=u||(Q.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,d)},setZoomAround:function(u,d,y){var w=this.getZoomScale(d),O=this.getSize().divideBy(2),V=u instanceof $?u:this.latLngToContainerPoint(u),he=V.subtract(O).multiplyBy(1-1/w),Se=this.containerPointToLatLng(O.add(he));return this.setView(Se,d,{zoom:y})},_getBoundsCenterZoom:function(u,d){d=d||{},u=u.getBounds?u.getBounds():le(u);var y=P(d.paddingTopLeft||d.padding||[0,0]),w=P(d.paddingBottomRight||d.padding||[0,0]),O=this.getBoundsZoom(u,!1,y.add(w));if(O=typeof d.maxZoom=="number"?Math.min(d.maxZoom,O):O,O===1/0)return{center:u.getCenter(),zoom:O};var V=w.subtract(y).divideBy(2),he=this.project(u.getSouthWest(),O),Se=this.project(u.getNorthEast(),O),Ae=this.unproject(he.add(Se).divideBy(2).add(V),O);return{center:Ae,zoom:O}},fitBounds:function(u,d){if(u=le(u),!u.isValid())throw new Error("Bounds are not valid.");var y=this._getBoundsCenterZoom(u,d);return this.setView(y.center,y.zoom,d)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,d){return this.setView(u,this._zoom,{pan:d})},panBy:function(u,d){if(u=P(u).round(),d=d||{},!u.x&&!u.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new T1,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Wt(this._mapPane,"leaflet-pan-anim");var y=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,y,d.duration||.25,d.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,d,y){if(y=y||{},y.animate===!1||!Q.any3d)return this.setView(u,d,y);this._stop();var w=this.project(this.getCenter()),O=this.project(u),V=this.getSize(),he=this._zoom;u=xe(u),d=d===void 0?he:d;var Se=Math.max(V.x,V.y),Ae=Se*this.getZoomScale(he,d),Je=O.distanceTo(w)||1,kt=1.42,nn=kt*kt;function Tn(Vi){var _f=Vi?-1:1,V3=Vi?Ae:Se,W3=Ae*Ae-Se*Se+_f*nn*nn*Je*Je,U3=2*V3*nn*Je,Ep=W3/U3,fy=Math.sqrt(Ep*Ep+1)-Ep,Q3=fy<1e-9?-18:Math.log(fy);return Q3}function Pr(Vi){return(Math.exp(Vi)-Math.exp(-Vi))/2}function nr(Vi){return(Math.exp(Vi)+Math.exp(-Vi))/2}function no(Vi){return Pr(Vi)/nr(Vi)}var Rr=Tn(0);function vl(Vi){return Se*(nr(Rr)/nr(Rr+kt*Vi))}function z3(Vi){return Se*(nr(Rr)*no(Rr+kt*Vi)-Pr(Rr))/nn}function q3(Vi){return 1-Math.pow(1-Vi,1.5)}var F3=Date.now(),cy=(Tn(1)-Rr)/kt,H3=y.duration?1e3*y.duration:1e3*cy*.8;function uy(){var Vi=(Date.now()-F3)/H3,_f=q3(Vi)*cy;Vi<=1?(this._flyToFrame=U(uy,this),this._move(this.unproject(w.add(O.subtract(w).multiplyBy(z3(_f)/Je)),he),this.getScaleZoom(Se/vl(_f),he),{flyTo:!0})):this._move(u,d)._moveEnd(!0)}return this._moveStart(!0,y.noMoveStart),uy.call(this),this},flyToBounds:function(u,d){var y=this._getBoundsCenterZoom(u,d);return this.flyTo(y.center,y.zoom,d)},setMaxBounds:function(u){return u=le(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var d=this.options.minZoom;return this.options.minZoom=u,this._loaded&&d!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var d=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&d!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,d){this._enforcingBounds=!0;var y=this.getCenter(),w=this._limitCenter(y,this._zoom,le(u));return y.equals(w)||this.panTo(w,d),this._enforcingBounds=!1,this},panInside:function(u,d){d=d||{};var y=P(d.paddingTopLeft||d.padding||[0,0]),w=P(d.paddingBottomRight||d.padding||[0,0]),O=this.project(this.getCenter()),V=this.project(u),he=this.getPixelBounds(),Se=M([he.min.add(y),he.max.subtract(w)]),Ae=Se.getSize();if(!Se.contains(V)){this._enforcingBounds=!0;var Je=V.subtract(Se.getCenter()),kt=Se.extend(V).getSize().subtract(Ae);O.x+=Je.x<0?-kt.x:kt.x,O.y+=Je.y<0?-kt.y:kt.y,this.panTo(this.unproject(O),d),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=r({animate:!1,pan:!0},u===!0?{animate:!0}:u);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var y=this.getSize(),w=d.divideBy(2).round(),O=y.divideBy(2).round(),V=w.subtract(O);return!V.x&&!V.y?this:(u.animate&&u.pan?this.panBy(V):(u.pan&&this._rawPanBy(V),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:y}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=r({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=s(this._handleGeolocationResponse,this),y=s(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,y,u):navigator.geolocation.getCurrentPosition(d,y,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var d=u.code,y=u.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+y+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var d=u.coords.latitude,y=u.coords.longitude,w=new de(d,y),O=w.toBounds(u.coords.accuracy*2),V=this._locateOptions;if(V.setView){var he=this.getBoundsZoom(O);this.setView(w,V.maxZoom?Math.min(he,V.maxZoom):he)}var Se={latlng:w,bounds:O,timestamp:u.timestamp};for(var Ae in u.coords)typeof u.coords[Ae]=="number"&&(Se[Ae]=u.coords[Ae]);this.fire("locationfound",Se)}},addHandler:function(u,d){if(!d)return this;var y=this[u]=new d(this);return this._handlers.push(y),this.options[u]&&y.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),zn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)zn(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,d){var y="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),w=Sn("div",y,d||this._mapPane);return u&&(this._panes[u]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),d=this.unproject(u.getBottomLeft()),y=this.unproject(u.getTopRight());return new Z(d,y)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,d,y){u=le(u),y=P(y||[0,0]);var w=this.getZoom()||0,O=this.getMinZoom(),V=this.getMaxZoom(),he=u.getNorthWest(),Se=u.getSouthEast(),Ae=this.getSize().subtract(y),Je=M(this.project(Se,w),this.project(he,w)).getSize(),kt=Q.any3d?this.options.zoomSnap:1,nn=Ae.x/Je.x,Tn=Ae.y/Je.y,Pr=d?Math.max(nn,Tn):Math.min(nn,Tn);return w=this.getScaleZoom(Pr,w),kt&&(w=Math.round(w/(kt/100))*(kt/100),w=d?Math.ceil(w/kt)*kt:Math.floor(w/kt)*kt),Math.max(O,Math.min(V,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,d){var y=this._getTopLeftPoint(u,d);return new A(y,y.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,d){var y=this.options.crs;return d=d===void 0?this._zoom:d,y.scale(u)/y.scale(d)},getScaleZoom:function(u,d){var y=this.options.crs;d=d===void 0?this._zoom:d;var w=y.zoom(u*y.scale(d));return isNaN(w)?1/0:w},project:function(u,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(xe(u),d)},unproject:function(u,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(P(u),d)},layerPointToLatLng:function(u){var d=P(u).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(u){var d=this.project(xe(u))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(xe(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(le(u))},distance:function(u,d){return this.options.crs.distance(xe(u),xe(d))},containerPointToLayerPoint:function(u){return P(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return P(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var d=this.containerPointToLayerPoint(P(u));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(u)))},mouseEventToContainerPoint:function(u){return eo(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var d=this._container=Jn(u);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");dn(d,"scroll",this._onScroll,this),this._containerId=l(d)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&Q.any3d,Wt(u,"leaflet-container"+(Q.touch?" leaflet-touch":"")+(Q.retina?" leaflet-retina":"")+(Q.ielt9?" leaflet-oldie":"")+(Q.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=zi(u,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fe(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wt(u.markerPane,"leaflet-zoom-hide"),Wt(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,d,y){Fe(this._mapPane,new $(0,0));var w=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var O=this._zoom!==d;this._moveStart(O,y)._move(u,d)._moveEnd(O),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(u,d){return u&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(u,d,y,w){d===void 0&&(d=this._zoom);var O=this._zoom!==d;return this._zoom=d,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),w?y&&y.pinch&&this.fire("zoom",y):((O||y&&y.pinch)&&this.fire("zoom",y),this.fire("move",y)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){Fe(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[l(this._container)]=this;var d=u?ni:dn;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),Q.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,d){for(var y=[],w,O=d==="mouseout"||d==="mouseover",V=u.target||u.srcElement,he=!1;V;){if(w=this._targets[l(V)],w&&(d==="click"||d==="preclick")&&this._draggableMoved(w)){he=!0;break}if(w&&w.listens(d,!0)&&(O&&!Lo(V,u)||(y.push(w),O))||V===this._container)break;V=V.parentNode}return!y.length&&!he&&!O&&this.listens(d,!0)&&(y=[this]),y},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var d=u.target||u.srcElement;if(!(!this._loaded||d._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(d))){var y=u.type;y==="mousedown"&&Fi(d),this._fireDOMEvent(u,y)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,d,y){if(u.type==="click"){var w=r({},u);w.type="preclick",this._fireDOMEvent(w,w.type,y)}var O=this._findEventTargets(u,d);if(y){for(var V=[],he=0;he<y.length;he++)y[he].listens(d,!0)&&V.push(y[he]);O=V.concat(O)}if(O.length){d==="contextmenu"&&Oi(u);var Se=O[0],Ae={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var Je=Se.getLatLng&&(!Se._radius||Se._radius<=10);Ae.containerPoint=Je?this.latLngToContainerPoint(Se.getLatLng()):this.mouseEventToContainerPoint(u),Ae.layerPoint=this.containerPointToLayerPoint(Ae.containerPoint),Ae.latlng=Je?Se.getLatLng():this.layerPointToLatLng(Ae.layerPoint)}for(he=0;he<O.length;he++)if(O[he].fire(d,Ae,!0),Ae.originalEvent._stopped||O[he].options.bubblingMouseEvents===!1&&S(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,d=this._handlers.length;u<d;u++)this._handlers[u].disable()},whenReady:function(u,d){return this._loaded?u.call(d||this,{target:this}):this.on("load",u,d),this},_getMapPanePos:function(){return xt(this._mapPane)||new $(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,d){var y=u&&d!==void 0?this._getNewPixelOrigin(u,d):this.getPixelOrigin();return y.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,d){var y=this.getSize()._divideBy(2);return this.project(u,d)._subtract(y)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,d,y){var w=this._getNewPixelOrigin(y,d);return this.project(u,d)._subtract(w)},_latLngBoundsToNewLayerBounds:function(u,d,y){var w=this._getNewPixelOrigin(y,d);return M([this.project(u.getSouthWest(),d)._subtract(w),this.project(u.getNorthWest(),d)._subtract(w),this.project(u.getSouthEast(),d)._subtract(w),this.project(u.getNorthEast(),d)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,d,y){if(!y)return u;var w=this.project(u,d),O=this.getSize().divideBy(2),V=new A(w.subtract(O),w.add(O)),he=this._getBoundsOffset(V,y,d);return Math.abs(he.x)<=1&&Math.abs(he.y)<=1?u:this.unproject(w.add(he),d)},_limitOffset:function(u,d){if(!d)return u;var y=this.getPixelBounds(),w=new A(y.min.add(u),y.max.add(u));return u.add(this._getBoundsOffset(w,d))},_getBoundsOffset:function(u,d,y){var w=M(this.project(d.getNorthEast(),y),this.project(d.getSouthWest(),y)),O=w.min.subtract(u.min),V=w.max.subtract(u.max),he=this._rebound(O.x,-V.x),Se=this._rebound(O.y,-V.y);return new $(he,Se)},_rebound:function(u,d){return u+d>0?Math.round(u-d)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(d))},_limitZoom:function(u){var d=this.getMinZoom(),y=this.getMaxZoom(),w=Q.any3d?this.options.zoomSnap:1;return w&&(u=Math.round(u/w)*w),Math.max(d,Math.min(y,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,d){var y=this._getCenterOffset(u)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(y)?!1:(this.panBy(y,d),!0)},_createAnimProxy:function(){var u=this._proxy=Sn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(d){var y=Et,w=this._proxy.style[y];Qe(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),w===this._proxy.style[y]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){zn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),d=this.getZoom();Qe(this._proxy,this.project(u,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,d,y){if(this._animatingZoom)return!0;if(y=y||{},!this._zoomAnimated||y.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(d),O=this._getCenterOffset(u)._divideBy(1-1/w);return y.animate!==!0&&!this.getSize().contains(O)?!1:(U(function(){this._moveStart(!0,y.noMoveStart||!1)._animateZoom(u,d,!0)},this),!0)},_animateZoom:function(u,d,y,w){this._mapPane&&(y&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=d,Wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:d,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function i3(u,d){return new Dn(u,d)}var wo=F.extend({options:{position:"topright"},initialize:function(u){v(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var d=this._map;return d&&d.removeControl(this),this.options.position=u,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var d=this._container=this.onAdd(u),y=this.getPosition(),w=u._controlCorners[y];return Wt(d,"leaflet-control"),y.indexOf("bottom")!==-1?w.insertBefore(d,w.firstChild):w.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(zn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Tc=function(u){return new wo(u)};Dn.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},d="leaflet-",y=this._controlContainer=Sn("div",d+"control-container",this._container);function w(O,V){var he=d+O+" "+d+V;u[O+V]=Sn("div",he,y)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)zn(this._controlCorners[u]);zn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var E1=wo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,d,y,w){return y<w?-1:w<y?1:0}},initialize:function(u,d,y){v(this,y),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in u)this._addLayer(u[w],w);for(w in d)this._addLayer(d[w],w,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return wo.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,d){return this._addLayer(u,d),this._map?this._update():this},addOverlay:function(u,d){return this._addLayer(u,d,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var d=this._getLayer(l(u));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Fn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",d=this._container=Sn("div",u),y=this.options.collapsed;d.setAttribute("aria-haspopup",!0),yi(d),un(d);var w=this._section=Sn("section",u+"-list");y&&(this._map.on("click",this.collapse,this),dn(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=Sn("a",u+"-toggle",d);O.href="#",O.title="Layers",O.setAttribute("role","button"),dn(O,{keydown:function(V){V.keyCode===13&&this._expandSafely()},click:function(V){Oi(V),this._expandSafely()}},this),y||this.expand(),this._baseLayersList=Sn("div",u+"-base",w),this._separator=Sn("div",u+"-separator",w),this._overlaysList=Sn("div",u+"-overlays",w),d.appendChild(w)},_getLayer:function(u){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&l(this._layers[d].layer)===u)return this._layers[d]},_addLayer:function(u,d,y){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:d,overlay:y}),this.options.sortLayers&&this._layers.sort(s(function(w,O){return this.options.sortFunction(w.layer,O.layer,w.name,O.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;tr(this._baseLayersList),tr(this._overlaysList),this._layerControlInputs=[];var u,d,y,w,O=0;for(y=0;y<this._layers.length;y++)w=this._layers[y],this._addItem(w),d=d||w.overlay,u=u||!w.overlay,O+=w.overlay?0:1;return this.options.hideSingleBase&&(u=u&&O>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=d&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var d=this._getLayer(l(u.target)),y=d.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;y&&this._map.fire(y,d)},_createRadioElement:function(u,d){var y='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(d?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=y,w.firstChild},_addItem:function(u){var d=document.createElement("label"),y=this._map.hasLayer(u.layer),w;u.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=y):w=this._createRadioElement("leaflet-base-layers_"+l(this),y),this._layerControlInputs.push(w),w.layerId=l(u.layer),dn(w,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+u.name;var V=document.createElement("span");d.appendChild(V),V.appendChild(w),V.appendChild(O);var he=u.overlay?this._overlaysList:this._baseLayersList;return he.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,d,y,w=[],O=[];this._handlingClick=!0;for(var V=u.length-1;V>=0;V--)d=u[V],y=this._getLayer(d.layerId).layer,d.checked?w.push(y):d.checked||O.push(y);for(V=0;V<O.length;V++)this._map.hasLayer(O[V])&&this._map.removeLayer(O[V]);for(V=0;V<w.length;V++)this._map.hasLayer(w[V])||this._map.addLayer(w[V]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,d,y,w=this._map.getZoom(),O=u.length-1;O>=0;O--)d=u[O],y=this._getLayer(d.layerId).layer,d.disabled=y.options.minZoom!==void 0&&w<y.options.minZoom||y.options.maxZoom!==void 0&&w>y.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,dn(u,"click",Oi),this.expand();var d=this;setTimeout(function(){ni(u,"click",Oi),d._preventClick=!1})}}),r3=function(u,d,y){return new E1(u,d,y)},kp=wo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var d="leaflet-control-zoom",y=Sn("div",d+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,d+"-in",y,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,d+"-out",y,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),y},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,d,y,w,O){var V=Sn("a",y,w);return V.innerHTML=u,V.href="#",V.title=d,V.setAttribute("role","button"),V.setAttribute("aria-label",d),yi(V),dn(V,"click",bi),dn(V,"click",O,this),dn(V,"click",this._refocusOnMap,this),V},_updateDisabled:function(){var u=this._map,d="leaflet-disabled";Fn(this._zoomInButton,d),Fn(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(Wt(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(Wt(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Dn.mergeOptions({zoomControl:!0}),Dn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new kp,this.addControl(this.zoomControl))});var o3=function(u){return new kp(u)},A1=wo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var d="leaflet-control-scale",y=Sn("div",d),w=this.options;return this._addScales(w,d+"-line",y),u.on(w.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),y},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,d,y){u.metric&&(this._mScale=Sn("div",d,y)),u.imperial&&(this._iScale=Sn("div",d,y))},_update:function(){var u=this._map,d=u.getSize().y/2,y=u.distance(u.containerPointToLatLng([0,d]),u.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(y)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var d=this._getRoundNum(u),y=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,y,d/u)},_updateImperial:function(u){var d=u*3.2808399,y,w,O;d>5280?(y=d/5280,w=this._getRoundNum(y),this._updateScale(this._iScale,w+" mi",w/y)):(O=this._getRoundNum(d),this._updateScale(this._iScale,O+" ft",O/d))},_updateScale:function(u,d,y){u.style.width=Math.round(this.options.maxWidth*y)+"px",u.innerHTML=d},_getRoundNum:function(u){var d=Math.pow(10,(Math.floor(u)+"").length-1),y=u/d;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:1,d*y}}),s3=function(u){return new A1(u)},a3='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_p=wo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Q.inlineSvg?a3+" ":"")+"Leaflet</a>"},initialize:function(u){v(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=Sn("div","leaflet-control-attribution"),yi(this._container);for(var d in u._layers)u._layers[d].getAttribution&&this.addAttribution(u._layers[d].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var d in this._attributions)this._attributions[d]&&u.push(d);var y=[];this.options.prefix&&y.push(this.options.prefix),u.length&&y.push(u.join(", ")),this._container.innerHTML=y.join(' <span aria-hidden="true">|</span> ')}}});Dn.mergeOptions({attributionControl:!0}),Dn.addInitHook(function(){this.options.attributionControl&&new _p().addTo(this)});var l3=function(u){return new _p(u)};wo.Layers=E1,wo.Zoom=kp,wo.Scale=A1,wo.Attribution=_p,Tc.layers=r3,Tc.zoom=o3,Tc.scale=s3,Tc.attribution=l3;var Io=F.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Io.addTo=function(u,d){return u.addHandler(d,this),this};var c3={Events:re},R1=Q.touch?"touchstart mousedown":"mousedown",Hs=R.extend({options:{clickTolerance:3},initialize:function(u,d,y,w){v(this,w),this._element=u,this._dragStartTarget=d||u,this._preventOutline=y},enable:function(){this._enabled||(dn(this._dragStartTarget,R1,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hs._dragging===this&&this.finishDrag(!0),ni(this._dragStartTarget,R1,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!ti(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){Hs._dragging===this&&this.finishDrag();return}if(!(Hs._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(Hs._dragging=this,this._preventOutline&&Fi(this._element),Nn(),yt(),!this._moving)){this.fire("down");var d=u.touches?u.touches[0]:u,y=Hi(this._element);this._startPoint=new $(d.clientX,d.clientY),this._startPos=xt(this._element),this._parentScale=xo(y);var w=u.type==="mousedown";dn(document,w?"mousemove":"touchmove",this._onMove,this),dn(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var d=u.touches&&u.touches.length===1?u.touches[0]:u,y=new $(d.clientX,d.clientY)._subtract(this._startPoint);!y.x&&!y.y||Math.abs(y.x)+Math.abs(y.y)<this.options.clickTolerance||(y.x/=this._parentScale.x,y.y/=this._parentScale.y,Oi(u),this._moved||(this.fire("dragstart"),this._moved=!0,Wt(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(y),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),Fe(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){Fn(document.body,"leaflet-dragging"),this._lastTarget&&(Fn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ni(document,"mousemove touchmove",this._onMove,this),ni(document,"mouseup touchend touchcancel",this._onUp,this),cr(),$t();var d=this._moved&&this._moving;this._moving=!1,Hs._dragging=!1,d&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function L1(u,d,y){var w,O=[1,4,2,8],V,he,Se,Ae,Je,kt,nn,Tn;for(V=0,kt=u.length;V<kt;V++)u[V]._code=Oa(u[V],d);for(Se=0;Se<4;Se++){for(nn=O[Se],w=[],V=0,kt=u.length,he=kt-1;V<kt;he=V++)Ae=u[V],Je=u[he],Ae._code&nn?Je._code&nn||(Tn=hf(Je,Ae,nn,d,y),Tn._code=Oa(Tn,d),w.push(Tn)):(Je._code&nn&&(Tn=hf(Je,Ae,nn,d,y),Tn._code=Oa(Tn,d),w.push(Tn)),w.push(Ae));u=w}return u}function I1(u,d){var y,w,O,V,he,Se,Ae,Je,kt;if(!u||u.length===0)throw new Error("latlngs not passed");to(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var nn=xe([0,0]),Tn=le(u),Pr=Tn.getNorthWest().distanceTo(Tn.getSouthWest())*Tn.getNorthEast().distanceTo(Tn.getNorthWest());Pr<1700&&(nn=jp(u));var nr=u.length,no=[];for(y=0;y<nr;y++){var Rr=xe(u[y]);no.push(d.project(xe([Rr.lat-nn.lat,Rr.lng-nn.lng])))}for(Se=Ae=Je=0,y=0,w=nr-1;y<nr;w=y++)O=no[y],V=no[w],he=O.y*V.x-V.y*O.x,Ae+=(O.x+V.x)*he,Je+=(O.y+V.y)*he,Se+=he*3;Se===0?kt=no[0]:kt=[Ae/Se,Je/Se];var vl=d.unproject(P(kt));return xe([vl.lat+nn.lat,vl.lng+nn.lng])}function jp(u){for(var d=0,y=0,w=0,O=0;O<u.length;O++){var V=xe(u[O]);d+=V.lat,y+=V.lng,w++}return xe([d/w,y/w])}var u3={__proto__:null,clipPolygon:L1,polygonCenter:I1,centroid:jp};function N1(u,d){if(!d||!u.length)return u.slice();var y=d*d;return u=d3(u,y),u=h3(u,y),u}function B1(u,d,y){return Math.sqrt(Ec(u,d,y,!0))}function f3(u,d,y){return Ec(u,d,y)}function h3(u,d){var y=u.length,w=typeof Uint8Array<"u"?Uint8Array:Array,O=new w(y);O[0]=O[y-1]=1,Sp(u,O,d,0,y-1);var V,he=[];for(V=0;V<y;V++)O[V]&&he.push(u[V]);return he}function Sp(u,d,y,w,O){var V=0,he,Se,Ae;for(Se=w+1;Se<=O-1;Se++)Ae=Ec(u[Se],u[w],u[O],!0),Ae>V&&(he=Se,V=Ae);V>y&&(d[he]=1,Sp(u,d,y,w,he),Sp(u,d,y,he,O))}function d3(u,d){for(var y=[u[0]],w=1,O=0,V=u.length;w<V;w++)p3(u[w],u[O])>d&&(y.push(u[w]),O=w);return O<V-1&&y.push(u[V-1]),y}var D1;function z1(u,d,y,w,O){var V=w?D1:Oa(u,y),he=Oa(d,y),Se,Ae,Je;for(D1=he;;){if(!(V|he))return[u,d];if(V&he)return!1;Se=V||he,Ae=hf(u,d,Se,y,O),Je=Oa(Ae,y),Se===V?(u=Ae,V=Je):(d=Ae,he=Je)}}function hf(u,d,y,w,O){var V=d.x-u.x,he=d.y-u.y,Se=w.min,Ae=w.max,Je,kt;return y&8?(Je=u.x+V*(Ae.y-u.y)/he,kt=Ae.y):y&4?(Je=u.x+V*(Se.y-u.y)/he,kt=Se.y):y&2?(Je=Ae.x,kt=u.y+he*(Ae.x-u.x)/V):y&1&&(Je=Se.x,kt=u.y+he*(Se.x-u.x)/V),new $(Je,kt,O)}function Oa(u,d){var y=0;return u.x<d.min.x?y|=1:u.x>d.max.x&&(y|=2),u.y<d.min.y?y|=4:u.y>d.max.y&&(y|=8),y}function p3(u,d){var y=d.x-u.x,w=d.y-u.y;return y*y+w*w}function Ec(u,d,y,w){var O=d.x,V=d.y,he=y.x-O,Se=y.y-V,Ae=he*he+Se*Se,Je;return Ae>0&&(Je=((u.x-O)*he+(u.y-V)*Se)/Ae,Je>1?(O=y.x,V=y.y):Je>0&&(O+=he*Je,V+=Se*Je)),he=u.x-O,Se=u.y-V,w?he*he+Se*Se:new $(O,V)}function to(u){return!C(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function q1(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),to(u)}function F1(u,d){var y,w,O,V,he,Se,Ae,Je;if(!u||u.length===0)throw new Error("latlngs not passed");to(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var kt=xe([0,0]),nn=le(u),Tn=nn.getNorthWest().distanceTo(nn.getSouthWest())*nn.getNorthEast().distanceTo(nn.getNorthWest());Tn<1700&&(kt=jp(u));var Pr=u.length,nr=[];for(y=0;y<Pr;y++){var no=xe(u[y]);nr.push(d.project(xe([no.lat-kt.lat,no.lng-kt.lng])))}for(y=0,w=0;y<Pr-1;y++)w+=nr[y].distanceTo(nr[y+1])/2;if(w===0)Je=nr[0];else for(y=0,V=0;y<Pr-1;y++)if(he=nr[y],Se=nr[y+1],O=he.distanceTo(Se),V+=O,V>w){Ae=(V-w)/O,Je=[Se.x-Ae*(Se.x-he.x),Se.y-Ae*(Se.y-he.y)];break}var Rr=d.unproject(P(Je));return xe([Rr.lat+kt.lat,Rr.lng+kt.lng])}var m3={__proto__:null,simplify:N1,pointToSegmentDistance:B1,closestPointOnSegment:f3,clipSegment:z1,_getEdgeIntersection:hf,_getBitCode:Oa,_sqClosestPointOnSegment:Ec,isFlat:to,_flat:q1,polylineCenter:F1},Cp={project:function(u){return new $(u.lng,u.lat)},unproject:function(u){return new de(u.y,u.x)},bounds:new A([-180,-90],[180,90])},Op={R:6378137,R_MINOR:6356752314245179e-9,bounds:new A([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var d=Math.PI/180,y=this.R,w=u.lat*d,O=this.R_MINOR/y,V=Math.sqrt(1-O*O),he=V*Math.sin(w),Se=Math.tan(Math.PI/4-w/2)/Math.pow((1-he)/(1+he),V/2);return w=-y*Math.log(Math.max(Se,1e-10)),new $(u.lng*d*y,w)},unproject:function(u){for(var d=180/Math.PI,y=this.R,w=this.R_MINOR/y,O=Math.sqrt(1-w*w),V=Math.exp(-u.y/y),he=Math.PI/2-2*Math.atan(V),Se=0,Ae=.1,Je;Se<15&&Math.abs(Ae)>1e-7;Se++)Je=O*Math.sin(he),Je=Math.pow((1-Je)/(1+Je),O/2),Ae=Math.PI/2-2*Math.atan(V*Je)-he,he+=Ae;return new de(he*d,u.x*d/y)}},g3={__proto__:null,LonLat:Cp,Mercator:Op,SphericalMercator:Ce},v3=r({},Be,{code:"EPSG:3395",projection:Op,transformation:function(){var u=.5/(Math.PI*Op.R);return Ze(u,.5,-u,.5)}()}),H1=r({},Be,{code:"EPSG:4326",projection:Cp,transformation:Ze(1/180,1,-1/180,.5)}),y3=r({},oe,{projection:Cp,transformation:Ze(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,d){var y=d.lng-u.lng,w=d.lat-u.lat;return Math.sqrt(y*y+w*w)},infinite:!0});oe.Earth=Be,oe.EPSG3395=v3,oe.EPSG3857=Ye,oe.EPSG900913=et,oe.EPSG4326=H1,oe.Simple=y3;var ko=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[l(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[l(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var d=u.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var y=this.getEvents();d.on(y,this),this.once("remove",function(){d.off(y,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Dn.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var d=l(u);return this._layers[d]?this:(this._layers[d]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var d=l(u);return this._layers[d]?(this._loaded&&u.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return l(u)in this._layers},eachLayer:function(u,d){for(var y in this._layers)u.call(d,this._layers[y]);return this},_addLayers:function(u){u=u?C(u)?u:[u]:[];for(var d=0,y=u.length;d<y;d++)this.addLayer(u[d])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[l(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var d=l(u);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,d=-1/0,y=this._getZoomSpan();for(var w in this._zoomBoundLayers){var O=this._zoomBoundLayers[w].options;u=O.minZoom===void 0?u:Math.min(u,O.minZoom),d=O.maxZoom===void 0?d:Math.max(d,O.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=u===1/0?void 0:u,y!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hl=ko.extend({initialize:function(u,d){v(this,d),this._layers={};var y,w;if(u)for(y=0,w=u.length;y<w;y++)this.addLayer(u[y])},addLayer:function(u){var d=this.getLayerId(u);return this._layers[d]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var d=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(u){var d=typeof u=="number"?u:this.getLayerId(u);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var d=Array.prototype.slice.call(arguments,1),y,w;for(y in this._layers)w=this._layers[y],w[u]&&w[u].apply(w,d);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,d){for(var y in this._layers)u.call(d,this._layers[y]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return l(u)}}),b3=function(u,d){return new hl(u,d)},ps=hl.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),hl.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),hl.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new Z;for(var d in this._layers){var y=this._layers[d];u.extend(y.getBounds?y.getBounds():y.getLatLng())}return u}}),x3=function(u,d){return new ps(u,d)},dl=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){v(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,d){var y=this._getIconUrl(u);if(!y){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(y,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(w,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(u,d){var y=this.options,w=y[d+"Size"];typeof w=="number"&&(w=[w,w]);var O=P(w),V=P(d==="shadow"&&y.shadowAnchor||y.iconAnchor||O&&O.divideBy(2,!0));u.className="leaflet-marker-"+d+" "+(y.className||""),V&&(u.style.marginLeft=-V.x+"px",u.style.marginTop=-V.y+"px"),O&&(u.style.width=O.x+"px",u.style.height=O.y+"px")},_createImg:function(u,d){return d=d||document.createElement("img"),d.src=u,d},_getIconUrl:function(u){return Q.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function w3(u){return new dl(u)}var Ac=dl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof Ac.imagePath!="string"&&(Ac.imagePath=this._detectIconPath()),(this.options.imagePath||Ac.imagePath)+dl.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var d=function(y,w,O){var V=w.exec(y);return V&&V[O]};return u=d(u,/^url\((['"])?(.+)\1\)$/,2),u&&d(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=Sn("div","leaflet-default-icon-path",document.body),d=zi(u,"background-image")||zi(u,"backgroundImage");if(document.body.removeChild(u),d=this._stripUrl(d),d)return d;var y=document.querySelector('link[href$="leaflet.css"]');return y?y.href.substring(0,y.href.length-11-1):""}}),V1=Io.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new Hs(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wt(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var d=this._marker,y=d._map,w=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,V=xt(d._icon),he=y.getPixelBounds(),Se=y.getPixelOrigin(),Ae=M(he.min._subtract(Se).add(O),he.max._subtract(Se).subtract(O));if(!Ae.contains(V)){var Je=P((Math.max(Ae.max.x,V.x)-Ae.max.x)/(he.max.x-Ae.max.x)-(Math.min(Ae.min.x,V.x)-Ae.min.x)/(he.min.x-Ae.min.x),(Math.max(Ae.max.y,V.y)-Ae.max.y)/(he.max.y-Ae.max.y)-(Math.min(Ae.min.y,V.y)-Ae.min.y)/(he.min.y-Ae.min.y)).multiplyBy(w);y.panBy(Je,{animate:!1}),this._draggable._newPos._add(Je),this._draggable._startPos._add(Je),Fe(d._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=U(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,u)))},_onDrag:function(u){var d=this._marker,y=d._shadow,w=xt(d._icon),O=d._map.layerPointToLatLng(w);y&&Fe(y,w),d._latlng=O,u.latlng=O,u.oldLatLng=this._oldLatLng,d.fire("move",u).fire("drag",u)},_onDragEnd:function(u){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),df=ko.extend({options:{icon:new Ac,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,d){v(this,d),this._latlng=xe(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var d=this._latlng;return this._latlng=xe(u),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),y=u.icon.createIcon(this._icon),w=!1;y!==this._icon&&(this._icon&&this._removeIcon(),w=!0,u.title&&(y.title=u.title),y.tagName==="IMG"&&(y.alt=u.alt||"")),Wt(y,d),u.keyboard&&(y.tabIndex="0",y.setAttribute("role","button")),this._icon=y,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dn(y,"focus",this._panOnFocus,this);var O=u.icon.createShadow(this._shadow),V=!1;O!==this._shadow&&(this._removeShadow(),V=!0),O&&(Wt(O,d),O.alt=""),this._shadow=O,u.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&V&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ni(this._icon,"focus",this._panOnFocus,this),zn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&zn(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&Fe(this._icon,u),this._shadow&&Fe(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var d=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),V1)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new V1(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&ge(this._icon,u),this._shadow&&ge(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var d=this.options.icon.options,y=d.iconSize?P(d.iconSize):P(0,0),w=d.iconAnchor?P(d.iconAnchor):P(0,0);u.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:y.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function k3(u,d){return new df(u,d)}var Vs=ko.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return v(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pf=Vs.extend({options:{fill:!0,radius:10},initialize:function(u,d){v(this,d),this._latlng=xe(u),this._radius=this.options.radius},setLatLng:function(u){var d=this._latlng;return this._latlng=xe(u),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var d=u&&u.radius||this._radius;return Vs.prototype.setStyle.call(this,u),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,d=this._radiusY||u,y=this._clickTolerance(),w=[u+y,d+y];this._pxBounds=new A(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _3(u,d){return new pf(u,d)}var $p=pf.extend({initialize:function(u,d,y){if(typeof d=="number"&&(d=r({},y,{radius:d})),v(this,d),this._latlng=xe(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:Vs.prototype.setStyle,_project:function(){var u=this._latlng.lng,d=this._latlng.lat,y=this._map,w=y.options.crs;if(w.distance===Be.distance){var O=Math.PI/180,V=this._mRadius/Be.R/O,he=y.project([d+V,u]),Se=y.project([d-V,u]),Ae=he.add(Se).divideBy(2),Je=y.unproject(Ae).lat,kt=Math.acos((Math.cos(V*O)-Math.sin(d*O)*Math.sin(Je*O))/(Math.cos(d*O)*Math.cos(Je*O)))/O;(isNaN(kt)||kt===0)&&(kt=V/Math.cos(Math.PI/180*d)),this._point=Ae.subtract(y.getPixelOrigin()),this._radius=isNaN(kt)?0:Ae.x-y.project([Je,u-kt]).x,this._radiusY=Ae.y-he.y}else{var nn=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=y.latLngToLayerPoint(this._latlng),this._radius=this._point.x-y.latLngToLayerPoint(nn).x}this._updateBounds()}});function j3(u,d,y){return new $p(u,d,y)}var ms=Vs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,d){v(this,d),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var d=1/0,y=null,w=Ec,O,V,he=0,Se=this._parts.length;he<Se;he++)for(var Ae=this._parts[he],Je=1,kt=Ae.length;Je<kt;Je++){O=Ae[Je-1],V=Ae[Je];var nn=w(u,O,V,!0);nn<d&&(d=nn,y=w(u,O,V))}return y&&(y.distance=Math.sqrt(d)),y},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return F1(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,d){return d=d||this._defaultShape(),u=xe(u),d.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new Z,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return to(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var d=[],y=to(u),w=0,O=u.length;w<O;w++)y?(d[w]=xe(u[w]),this._bounds.extend(d[w])):d[w]=this._convertLatLngs(u[w]);return d},_project:function(){var u=new A;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),d=new $(u,u);this._rawPxBounds&&(this._pxBounds=new A([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(u,d,y){var w=u[0]instanceof de,O=u.length,V,he;if(w){for(he=[],V=0;V<O;V++)he[V]=this._map.latLngToLayerPoint(u[V]),y.extend(he[V]);d.push(he)}else for(V=0;V<O;V++)this._projectLatlngs(u[V],d,y)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,y,w,O,V,he,Se,Ae;for(y=0,O=0,V=this._rings.length;y<V;y++)for(Ae=this._rings[y],w=0,he=Ae.length;w<he-1;w++)Se=z1(Ae[w],Ae[w+1],u,w,!0),Se&&(d[O]=d[O]||[],d[O].push(Se[0]),(Se[1]!==Ae[w+1]||w===he-2)&&(d[O].push(Se[1]),O++))}},_simplifyPoints:function(){for(var u=this._parts,d=this.options.smoothFactor,y=0,w=u.length;y<w;y++)u[y]=N1(u[y],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,d){var y,w,O,V,he,Se,Ae=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(y=0,V=this._parts.length;y<V;y++)for(Se=this._parts[y],w=0,he=Se.length,O=he-1;w<he;O=w++)if(!(!d&&w===0)&&B1(u,Se[O],Se[w])<=Ae)return!0;return!1}});function S3(u,d){return new ms(u,d)}ms._flat=q1;var pl=ms.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return I1(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var d=ms.prototype._convertLatLngs.call(this,u),y=d.length;return y>=2&&d[0]instanceof de&&d[0].equals(d[y-1])&&d.pop(),d},_setLatLngs:function(u){ms.prototype._setLatLngs.call(this,u),to(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return to(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,d=this.options.weight,y=new $(d,d);if(u=new A(u.min.subtract(y),u.max.add(y)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,O=this._rings.length,V;w<O;w++)V=L1(this._rings[w],u,!0),V.length&&this._parts.push(V)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var d=!1,y,w,O,V,he,Se,Ae,Je;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(V=0,Ae=this._parts.length;V<Ae;V++)for(y=this._parts[V],he=0,Je=y.length,Se=Je-1;he<Je;Se=he++)w=y[he],O=y[Se],w.y>u.y!=O.y>u.y&&u.x<(O.x-w.x)*(u.y-w.y)/(O.y-w.y)+w.x&&(d=!d);return d||ms.prototype._containsPoint.call(this,u,!0)}});function C3(u,d){return new pl(u,d)}var gs=ps.extend({initialize:function(u,d){v(this,d),this._layers={},u&&this.addData(u)},addData:function(u){var d=C(u)?u:u.features,y,w,O;if(d){for(y=0,w=d.length;y<w;y++)O=d[y],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var V=this.options;if(V.filter&&!V.filter(u))return this;var he=mf(u,V);return he?(he.feature=yf(u),he.defaultOptions=he.options,this.resetStyle(he),V.onEachFeature&&V.onEachFeature(u,he),this.addLayer(he)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=r({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(d){this._setLayerStyle(d,u)},this)},_setLayerStyle:function(u,d){u.setStyle&&(typeof d=="function"&&(d=d(u.feature)),u.setStyle(d))}});function mf(u,d){var y=u.type==="Feature"?u.geometry:u,w=y?y.coordinates:null,O=[],V=d&&d.pointToLayer,he=d&&d.coordsToLatLng||Mp,Se,Ae,Je,kt;if(!w&&!y)return null;switch(y.type){case"Point":return Se=he(w),W1(V,u,Se,d);case"MultiPoint":for(Je=0,kt=w.length;Je<kt;Je++)Se=he(w[Je]),O.push(W1(V,u,Se,d));return new ps(O);case"LineString":case"MultiLineString":return Ae=gf(w,y.type==="LineString"?0:1,he),new ms(Ae,d);case"Polygon":case"MultiPolygon":return Ae=gf(w,y.type==="Polygon"?1:2,he),new pl(Ae,d);case"GeometryCollection":for(Je=0,kt=y.geometries.length;Je<kt;Je++){var nn=mf({geometry:y.geometries[Je],type:"Feature",properties:u.properties},d);nn&&O.push(nn)}return new ps(O);case"FeatureCollection":for(Je=0,kt=y.features.length;Je<kt;Je++){var Tn=mf(y.features[Je],d);Tn&&O.push(Tn)}return new ps(O);default:throw new Error("Invalid GeoJSON object.")}}function W1(u,d,y,w){return u?u(d,y):new df(y,w&&w.markersInheritOptions&&w)}function Mp(u){return new de(u[1],u[0],u[2])}function gf(u,d,y){for(var w=[],O=0,V=u.length,he;O<V;O++)he=d?gf(u[O],d-1,y):(y||Mp)(u[O]),w.push(he);return w}function Pp(u,d){return u=xe(u),u.alt!==void 0?[p(u.lng,d),p(u.lat,d),p(u.alt,d)]:[p(u.lng,d),p(u.lat,d)]}function vf(u,d,y,w){for(var O=[],V=0,he=u.length;V<he;V++)O.push(d?vf(u[V],to(u[V])?0:d-1,y,w):Pp(u[V],w));return!d&&y&&O.length>0&&O.push(O[0].slice()),O}function ml(u,d){return u.feature?r({},u.feature,{geometry:d}):yf(d)}function yf(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var Tp={toGeoJSON:function(u){return ml(this,{type:"Point",coordinates:Pp(this.getLatLng(),u)})}};df.include(Tp),$p.include(Tp),pf.include(Tp),ms.include({toGeoJSON:function(u){var d=!to(this._latlngs),y=vf(this._latlngs,d?1:0,!1,u);return ml(this,{type:(d?"Multi":"")+"LineString",coordinates:y})}}),pl.include({toGeoJSON:function(u){var d=!to(this._latlngs),y=d&&!to(this._latlngs[0]),w=vf(this._latlngs,y?2:d?1:0,!0,u);return d||(w=[w]),ml(this,{type:(y?"Multi":"")+"Polygon",coordinates:w})}}),hl.include({toMultiPoint:function(u){var d=[];return this.eachLayer(function(y){d.push(y.toGeoJSON(u).geometry.coordinates)}),ml(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(u){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(u);var y=d==="GeometryCollection",w=[];return this.eachLayer(function(O){if(O.toGeoJSON){var V=O.toGeoJSON(u);if(y)w.push(V.geometry);else{var he=yf(V);he.type==="FeatureCollection"?w.push.apply(w,he.features):w.push(he)}}}),y?ml(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function U1(u,d){return new gs(u,d)}var O3=U1,bf=ko.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,d,y){this._url=u,this._bounds=le(d),v(this,y)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){zn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&qi(this._image),this},bringToBack:function(){return this._map&&lr(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=le(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",d=this._image=u?this._url:Sn("img");if(Wt(d,"leaflet-image-layer"),this._zoomAnimated&&Wt(d,"leaflet-zoom-animated"),this.options.className&&Wt(d,this.options.className),d.onselectstart=h,d.onmousemove=h,d.onload=s(this.fire,this,"load"),d.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(u){var d=this._map.getZoomScale(u.zoom),y=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Qe(this._image,y,d)},_reset:function(){var u=this._image,d=new A(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),y=d.getSize();Fe(u,d.min),u.style.width=y.x+"px",u.style.height=y.y+"px"},_updateOpacity:function(){ge(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),$3=function(u,d,y){return new bf(u,d,y)},Q1=bf.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",d=this._image=u?this._url:Sn("video");if(Wt(d,"leaflet-image-layer"),this._zoomAnimated&&Wt(d,"leaflet-zoom-animated"),this.options.className&&Wt(d,this.options.className),d.onselectstart=h,d.onmousemove=h,d.onloadeddata=s(this.fire,this,"load"),u){for(var y=d.getElementsByTagName("source"),w=[],O=0;O<y.length;O++)w.push(y[O].src);this._url=y.length>0?w:[d.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var V=0;V<this._url.length;V++){var he=Sn("source");he.src=this._url[V],d.appendChild(he)}}});function M3(u,d,y){return new Q1(u,d,y)}var Z1=bf.extend({_initImage:function(){var u=this._image=this._url;Wt(u,"leaflet-image-layer"),this._zoomAnimated&&Wt(u,"leaflet-zoom-animated"),this.options.className&&Wt(u,this.options.className),u.onselectstart=h,u.onmousemove=h}});function P3(u,d,y){return new Z1(u,d,y)}var No=ko.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,d){u&&(u instanceof de||C(u))?(this._latlng=xe(u),v(this,d)):(v(this,u),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&ge(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&ge(this._container,1),this.bringToFront(),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(ge(this._container,0),this._removeTimeout=setTimeout(s(zn,void 0,this._container),200)):zn(this._container),this.options.interactive&&(Fn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=xe(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qi(this._container),this},bringToBack:function(){return this._map&&lr(this._container),this},_prepareOpen:function(u){var d=this._source;if(!d._map)return!1;if(d instanceof ps){d=null;var y=this._source._layers;for(var w in y)if(y[w]._map){d=y[w];break}if(!d)return!1;this._source=d}if(!u)if(d.getCenter)u=d.getCenter();else if(d.getLatLng)u=d.getLatLng();else if(d.getBounds)u=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")u.innerHTML=d;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),d=P(this.options.offset),y=this._getAnchor();this._zoomAnimated?Fe(this._container,u.add(y)):d=d.add(u).add(y);var w=this._containerBottom=-d.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=w+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});Dn.include({_initOverlay:function(u,d,y,w){var O=d;return O instanceof u||(O=new u(w).setContent(d)),y&&O.setLatLng(y),O}}),ko.include({_initOverlay:function(u,d,y,w){var O=y;return O instanceof u?(v(O,w),O._source=this):(O=d&&!w?d:new u(w,this),O.setContent(y)),O}});var xf=No.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,No.prototype.openOn.call(this,u)},onAdd:function(u){No.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vs||this._source.on("preclick",on))},onRemove:function(u){No.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vs||this._source.off("preclick",on))},getEvents:function(){var u=No.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",d=this._container=Sn("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),y=this._wrapper=Sn("div",u+"-content-wrapper",d);if(this._contentNode=Sn("div",u+"-content",y),yi(d),un(this._contentNode),dn(d,"contextmenu",on),this._tipContainer=Sn("div",u+"-tip-container",d),this._tip=Sn("div",u+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=Sn("a",u+"-close-button",d);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',dn(w,"click",function(O){Oi(O),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,d=u.style;d.width="",d.whiteSpace="nowrap";var y=u.offsetWidth;y=Math.min(y,this.options.maxWidth),y=Math.max(y,this.options.minWidth),d.width=y+1+"px",d.whiteSpace="",d.height="";var w=u.offsetHeight,O=this.options.maxHeight,V="leaflet-popup-scrolled";O&&w>O?(d.height=O+"px",Wt(u,V)):Fn(u,V),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var d=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),y=this._getAnchor();Fe(this._container,d.add(y))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,d=parseInt(zi(this._container,"marginBottom"),10)||0,y=this._container.offsetHeight+d,w=this._containerWidth,O=new $(this._containerLeft,-y-this._containerBottom);O._add(xt(this._container));var V=u.layerPointToContainerPoint(O),he=P(this.options.autoPanPadding),Se=P(this.options.autoPanPaddingTopLeft||he),Ae=P(this.options.autoPanPaddingBottomRight||he),Je=u.getSize(),kt=0,nn=0;V.x+w+Ae.x>Je.x&&(kt=V.x+w-Je.x+Ae.x),V.x-kt-Se.x<0&&(kt=V.x-Se.x),V.y+y+Ae.y>Je.y&&(nn=V.y+y-Je.y+Ae.y),V.y-nn-Se.y<0&&(nn=V.y-Se.y),(kt||nn)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([kt,nn]))}},_getAnchor:function(){return P(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),T3=function(u,d){return new xf(u,d)};Dn.mergeOptions({closePopupOnClick:!0}),Dn.include({openPopup:function(u,d,y){return this._initOverlay(xf,u,d,y).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),ko.include({bindPopup:function(u,d){return this._popup=this._initOverlay(xf,this._popup,u,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof ps||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){bi(u);var d=u.layer||u.target;if(this._popup._source===d&&!(d instanceof Vs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=d,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var wf=No.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){No.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){No.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=No.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",d=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Sn("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var d,y,w=this._map,O=this._container,V=w.latLngToContainerPoint(w.getCenter()),he=w.layerPointToContainerPoint(u),Se=this.options.direction,Ae=O.offsetWidth,Je=O.offsetHeight,kt=P(this.options.offset),nn=this._getAnchor();Se==="top"?(d=Ae/2,y=Je):Se==="bottom"?(d=Ae/2,y=0):Se==="center"?(d=Ae/2,y=Je/2):Se==="right"?(d=0,y=Je/2):Se==="left"?(d=Ae,y=Je/2):he.x<V.x?(Se="right",d=0,y=Je/2):(Se="left",d=Ae+(kt.x+nn.x)*2,y=Je/2),u=u.subtract(P(d,y,!0)).add(kt).add(nn),Fn(O,"leaflet-tooltip-right"),Fn(O,"leaflet-tooltip-left"),Fn(O,"leaflet-tooltip-top"),Fn(O,"leaflet-tooltip-bottom"),Wt(O,"leaflet-tooltip-"+Se),Fe(O,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&ge(this._container,u)},_animateZoom:function(u){var d=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(d)},_getAnchor:function(){return P(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),E3=function(u,d){return new wf(u,d)};Dn.include({openTooltip:function(u,d,y){return this._initOverlay(wf,u,d,y).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),ko.include({bindTooltip:function(u,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(wf,this._tooltip,u,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var d=u?"off":"on",y={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?y.add=this._openTooltip:(y.mouseover=this._openTooltip,y.mouseout=this.closeTooltip,y.click=this._openTooltip,this._map?this._addFocusListeners():y.add=this._addFocusListeners),this._tooltip.options.sticky&&(y.mousemove=this._moveTooltip),this[d](y),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof ps||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var d=typeof u.getElement=="function"&&u.getElement();d&&(dn(d,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),dn(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var d=typeof u.getElement=="function"&&u.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var d=u.latlng,y,w;this._tooltip.options.sticky&&u.originalEvent&&(y=this._map.mouseEventToContainerPoint(u.originalEvent),w=this._map.containerPointToLayerPoint(y),d=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(d)}});var J1=dl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var d=u&&u.tagName==="DIV"?u:document.createElement("div"),y=this.options;if(y.html instanceof Element?(tr(d),d.appendChild(y.html)):d.innerHTML=y.html!==!1?y.html:"",y.bgPos){var w=P(y.bgPos);d.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function A3(u){return new J1(u)}dl.Default=Ac;var Rc=ko.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Q.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){v(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),zn(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof $?u:new $(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var d=this.getPane().children,y=-u(-1/0,1/0),w=0,O=d.length,V;w<O;w++)V=d[w].style.zIndex,d[w]!==this._container&&V&&(y=u(y,+V));isFinite(y)&&(this.options.zIndex=y+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q.ielt9){ge(this._container,this.options.opacity);var u=+new Date,d=!1,y=!1;for(var w in this._tiles){var O=this._tiles[w];if(!(!O.current||!O.loaded)){var V=Math.min(1,(u-O.loaded)/200);ge(O.el,V),V<1?d=!0:(O.active?y=!0:this._onOpaqueTile(O),O.active=!0)}}y&&!this._noPrune&&this._pruneTiles(),d&&(B(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Sn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,d=this.options.maxZoom;if(u!==void 0){for(var y in this._levels)y=Number(y),this._levels[y].el.children.length||y===u?(this._levels[y].el.style.zIndex=d-Math.abs(u-y),this._onUpdateLevel(y)):(zn(this._levels[y].el),this._removeTilesAtZoom(y),this._onRemoveLevel(y),delete this._levels[y]);var w=this._levels[u],O=this._map;return w||(w=this._levels[u]={},w.el=Sn("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=d,w.origin=O.project(O.unproject(O.getPixelOrigin()),u).round(),w.zoom=u,this._setZoomTransform(w,O.getCenter(),O.getZoom()),h(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var u,d,y=this._map.getZoom();if(y>this.options.maxZoom||y<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)d=this._tiles[u],d.retain=d.current;for(u in this._tiles)if(d=this._tiles[u],d.current&&!d.active){var w=d.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var d in this._tiles)this._tiles[d].coords.z===u&&this._removeTile(d)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)zn(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,d,y,w){var O=Math.floor(u/2),V=Math.floor(d/2),he=y-1,Se=new $(+O,+V);Se.z=+he;var Ae=this._tileCoordsToKey(Se),Je=this._tiles[Ae];return Je&&Je.active?(Je.retain=!0,!0):(Je&&Je.loaded&&(Je.retain=!0),he>w?this._retainParent(O,V,he,w):!1)},_retainChildren:function(u,d,y,w){for(var O=2*u;O<2*u+2;O++)for(var V=2*d;V<2*d+2;V++){var he=new $(O,V);he.z=y+1;var Se=this._tileCoordsToKey(he),Ae=this._tiles[Se];if(Ae&&Ae.active){Ae.retain=!0;continue}else Ae&&Ae.loaded&&(Ae.retain=!0);y+1<w&&this._retainChildren(O,V,y+1,w)}},_resetView:function(u){var d=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var d=this.options;return d.minNativeZoom!==void 0&&u<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<u?d.maxNativeZoom:u},_setView:function(u,d,y,w){var O=Math.round(d);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var V=this.options.updateWhenZooming&&O!==this._tileZoom;(!w||V)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(u),y||this._pruneTiles(),this._noPrune=!!y),this._setZoomTransforms(u,d)},_setZoomTransforms:function(u,d){for(var y in this._levels)this._setZoomTransform(this._levels[y],u,d)},_setZoomTransform:function(u,d,y){var w=this._map.getZoomScale(y,u.zoom),O=u.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(d,y)).round();Q.any3d?Qe(u.el,O,w):Fe(u.el,O)},_resetGrid:function(){var u=this._map,d=u.options.crs,y=this._tileSize=this.getTileSize(),w=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,d.wrapLng[0]],w).x/y.x),Math.ceil(u.project([0,d.wrapLng[1]],w).x/y.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([d.wrapLat[0],0],w).y/y.x),Math.ceil(u.project([d.wrapLat[1],0],w).y/y.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var d=this._map,y=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),w=d.getZoomScale(y,this._tileZoom),O=d.project(u,this._tileZoom).floor(),V=d.getSize().divideBy(w*2);return new A(O.subtract(V),O.add(V))},_update:function(u){var d=this._map;if(d){var y=this._clampZoom(d.getZoom());if(u===void 0&&(u=d.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(u),O=this._pxBoundsToTileRange(w),V=O.getCenter(),he=[],Se=this.options.keepBuffer,Ae=new A(O.getBottomLeft().subtract([Se,-Se]),O.getTopRight().add([Se,-Se]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Je in this._tiles){var kt=this._tiles[Je].coords;(kt.z!==this._tileZoom||!Ae.contains(new $(kt.x,kt.y)))&&(this._tiles[Je].current=!1)}if(Math.abs(y-this._tileZoom)>1){this._setView(u,y);return}for(var nn=O.min.y;nn<=O.max.y;nn++)for(var Tn=O.min.x;Tn<=O.max.x;Tn++){var Pr=new $(Tn,nn);if(Pr.z=this._tileZoom,!!this._isValidTile(Pr)){var nr=this._tiles[this._tileCoordsToKey(Pr)];nr?nr.current=!0:he.push(Pr)}}if(he.sort(function(Rr,vl){return Rr.distanceTo(V)-vl.distanceTo(V)}),he.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var no=document.createDocumentFragment();for(Tn=0;Tn<he.length;Tn++)this._addTile(he[Tn],no);this._level.el.appendChild(no)}}}},_isValidTile:function(u){var d=this._map.options.crs;if(!d.infinite){var y=this._globalTileRange;if(!d.wrapLng&&(u.x<y.min.x||u.x>y.max.x)||!d.wrapLat&&(u.y<y.min.y||u.y>y.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(u);return le(this.options.bounds).overlaps(w)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var d=this._map,y=this.getTileSize(),w=u.scaleBy(y),O=w.add(y),V=d.unproject(w,u.z),he=d.unproject(O,u.z);return[V,he]},_tileCoordsToBounds:function(u){var d=this._tileCoordsToNwSe(u),y=new Z(d[0],d[1]);return this.options.noWrap||(y=this._map.wrapLatLngBounds(y)),y},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var d=u.split(":"),y=new $(+d[0],+d[1]);return y.z=+d[2],y},_removeTile:function(u){var d=this._tiles[u];d&&(zn(d.el),delete this._tiles[u],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Wt(u,"leaflet-tile");var d=this.getTileSize();u.style.width=d.x+"px",u.style.height=d.y+"px",u.onselectstart=h,u.onmousemove=h,Q.ielt9&&this.options.opacity<1&&ge(u,this.options.opacity)},_addTile:function(u,d){var y=this._getTilePos(u),w=this._tileCoordsToKey(u),O=this.createTile(this._wrapCoords(u),s(this._tileReady,this,u));this._initTile(O),this.createTile.length<2&&U(s(this._tileReady,this,u,null,O)),Fe(O,y),this._tiles[w]={el:O,coords:u,current:!0},d.appendChild(O),this.fire("tileloadstart",{tile:O,coords:u})},_tileReady:function(u,d,y){d&&this.fire("tileerror",{error:d,tile:y,coords:u});var w=this._tileCoordsToKey(u);y=this._tiles[w],y&&(y.loaded=+new Date,this._map._fadeAnimated?(ge(y.el,0),B(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(y.active=!0,this._pruneTiles()),d||(Wt(y.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:y.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var d=new $(this._wrapX?f(u.x,this._wrapX):u.x,this._wrapY?f(u.y,this._wrapY):u.y);return d.z=u.z,d},_pxBoundsToTileRange:function(u){var d=this.getTileSize();return new A(u.min.unscaleBy(d).floor(),u.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function R3(u){return new Rc(u)}var gl=Rc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,d){this._url=u,d=v(this,d),d.detectRetina&&Q.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,d){return this._url===u&&d===void 0&&(d=!0),this._url=u,d||this.redraw(),this},createTile:function(u,d){var y=document.createElement("img");return dn(y,"load",s(this._tileOnLoad,this,d,y)),dn(y,"error",s(this._tileOnError,this,d,y)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(y.referrerPolicy=this.options.referrerPolicy),y.alt="",y.src=this.getTileUrl(u),y},getTileUrl:function(u){var d={r:Q.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var y=this._globalTileRange.max.y-u.y;this.options.tms&&(d.y=y),d["-y"]=y}return k(this._url,r(d,this.options))},_tileOnLoad:function(u,d){Q.ielt9?setTimeout(s(u,this,null,d),0):u(null,d)},_tileOnError:function(u,d,y){var w=this.options.errorTileUrl;w&&d.getAttribute("src")!==w&&(d.src=w),u(y,d)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,d=this.options.maxZoom,y=this.options.zoomReverse,w=this.options.zoomOffset;return y&&(u=d-u),u+w},_getSubdomain:function(u){var d=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var u,d;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(d=this._tiles[u].el,d.onload=h,d.onerror=h,!d.complete)){d.src=_;var y=this._tiles[u].coords;zn(d),delete this._tiles[u],this.fire("tileabort",{tile:d,coords:y})}},_removeTile:function(u){var d=this._tiles[u];if(d)return d.el.setAttribute("src",_),Rc.prototype._removeTile.call(this,u)},_tileReady:function(u,d,y){if(!(!this._map||y&&y.getAttribute("src")===_))return Rc.prototype._tileReady.call(this,u,d,y)}});function G1(u,d){return new gl(u,d)}var K1=gl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,d){this._url=u;var y=r({},this.defaultWmsParams);for(var w in d)w in this.options||(y[w]=d[w]);d=v(this,d);var O=d.detectRetina&&Q.retina?2:1,V=this.getTileSize();y.width=V.x*O,y.height=V.y*O,this.wmsParams=y},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,gl.prototype.onAdd.call(this,u)},getTileUrl:function(u){var d=this._tileCoordsToNwSe(u),y=this._crs,w=M(y.project(d[0]),y.project(d[1])),O=w.min,V=w.max,he=(this._wmsVersion>=1.3&&this._crs===H1?[O.y,O.x,V.y,V.x]:[O.x,O.y,V.x,V.y]).join(","),Se=gl.prototype.getTileUrl.call(this,u);return Se+b(this.wmsParams,Se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+he},setParams:function(u,d){return r(this.wmsParams,u),d||this.redraw(),this}});function L3(u,d){return new K1(u,d)}gl.WMS=K1,G1.wms=L3;var vs=ko.extend({options:{padding:.1},initialize:function(u){v(this,u),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,d){var y=this._map.getZoomScale(d,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,d),V=w.multiplyBy(-y).add(O).subtract(this._map._getNewPixelOrigin(u,d));Q.any3d?Qe(this._container,V,y):Fe(this._container,V)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,d=this._map.getSize(),y=this._map.containerPointToLayerPoint(d.multiplyBy(-u)).round();this._bounds=new A(y,y.add(d.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),X1=vs.extend({options:{tolerance:0},getEvents:function(){var u=vs.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");dn(u,"mousemove",this._onMouseMove,this),dn(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),dn(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,zn(this._container),ni(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var d in this._layers)u=this._layers[d],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vs.prototype._update.call(this);var u=this._bounds,d=this._container,y=u.getSize(),w=Q.retina?2:1;Fe(d,u.min),d.width=w*y.x,d.height=w*y.y,d.style.width=y.x+"px",d.style.height=y.y+"px",Q.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){vs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[l(u)]=u;var d=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var d=u._order,y=d.next,w=d.prev;y?y.prev=w:this._drawLast=w,w?w.next=y:this._drawFirst=y,delete u._order,delete this._layers[l(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var d=u.options.dashArray.split(/[, ]+/),y=[],w,O;for(O=0;O<d.length;O++){if(w=Number(d[O]),isNaN(w))return;y.push(w)}u.options._dashArray=y}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var d=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new A,this._redrawBounds.extend(u._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(u._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var d=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,d=this._redrawBounds;if(this._ctx.save(),d){var y=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,y.x,y.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)u=w.layer,(!d||u._pxBounds&&u._pxBounds.intersects(d))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,d){if(this._drawing){var y,w,O,V,he=u._parts,Se=he.length,Ae=this._ctx;if(Se){for(Ae.beginPath(),y=0;y<Se;y++){for(w=0,O=he[y].length;w<O;w++)V=he[y][w],Ae[w?"lineTo":"moveTo"](V.x,V.y);d&&Ae.closePath()}this._fillStroke(Ae,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var d=u._point,y=this._ctx,w=Math.max(Math.round(u._radius),1),O=(Math.max(Math.round(u._radiusY),1)||w)/w;O!==1&&(y.save(),y.scale(1,O)),y.beginPath(),y.arc(d.x,d.y/O,w,0,Math.PI*2,!1),O!==1&&y.restore(),this._fillStroke(y,u)}},_fillStroke:function(u,d){var y=d.options;y.fill&&(u.globalAlpha=y.fillOpacity,u.fillStyle=y.fillColor||y.color,u.fill(y.fillRule||"evenodd")),y.stroke&&y.weight!==0&&(u.setLineDash&&u.setLineDash(d.options&&d.options._dashArray||[]),u.globalAlpha=y.opacity,u.lineWidth=y.weight,u.strokeStyle=y.color,u.lineCap=y.lineCap,u.lineJoin=y.lineJoin,u.stroke())},_onClick:function(u){for(var d=this._map.mouseEventToLayerPoint(u),y,w,O=this._drawFirst;O;O=O.next)y=O.layer,y.options.interactive&&y._containsPoint(d)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(y))&&(w=y);this._fireEvent(w?[w]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,d)}},_handleMouseOut:function(u){var d=this._hoveredLayer;d&&(Fn(this._container,"leaflet-interactive"),this._fireEvent([d],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,d){if(!this._mouseHoverThrottled){for(var y,w,O=this._drawFirst;O;O=O.next)y=O.layer,y.options.interactive&&y._containsPoint(d)&&(w=y);w!==this._hoveredLayer&&(this._handleMouseOut(u),w&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([w],u,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,d,y){this._map._fireDOMEvent(d,y||d.type,u)},_bringToFront:function(u){var d=u._order;if(d){var y=d.next,w=d.prev;if(y)y.prev=w;else return;w?w.next=y:y&&(this._drawFirst=y),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(u)}},_bringToBack:function(u){var d=u._order;if(d){var y=d.next,w=d.prev;if(w)w.next=y;else return;y?y.prev=w:w&&(this._drawLast=w),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(u)}}});function Y1(u){return Q.canvas?new X1(u):null}var Lc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),I3={_initContainer:function(){this._container=Sn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vs.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var d=u._container=Lc("shape");Wt(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",u._path=Lc("path"),d.appendChild(u._path),this._updateStyle(u),this._layers[l(u)]=u},_addPath:function(u){var d=u._container;this._container.appendChild(d),u.options.interactive&&u.addInteractiveTarget(d)},_removePath:function(u){var d=u._container;zn(d),u.removeInteractiveTarget(d),delete this._layers[l(u)]},_updateStyle:function(u){var d=u._stroke,y=u._fill,w=u.options,O=u._container;O.stroked=!!w.stroke,O.filled=!!w.fill,w.stroke?(d||(d=u._stroke=Lc("stroke")),O.appendChild(d),d.weight=w.weight+"px",d.color=w.color,d.opacity=w.opacity,w.dashArray?d.dashStyle=C(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=w.lineCap.replace("butt","flat"),d.joinstyle=w.lineJoin):d&&(O.removeChild(d),u._stroke=null),w.fill?(y||(y=u._fill=Lc("fill")),O.appendChild(y),y.color=w.fillColor||w.color,y.opacity=w.fillOpacity):y&&(O.removeChild(y),u._fill=null)},_updateCircle:function(u){var d=u._point.round(),y=Math.round(u._radius),w=Math.round(u._radiusY||y);this._setPath(u,u._empty()?"M0 0":"AL "+d.x+","+d.y+" "+y+","+w+" 0,"+65535*360)},_setPath:function(u,d){u._path.v=d},_bringToFront:function(u){qi(u._container)},_bringToBack:function(u){lr(u._container)}},kf=Q.vml?Lc:qt,Ic=vs.extend({_initContainer:function(){this._container=kf("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kf("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){zn(this._container),ni(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vs.prototype._update.call(this);var u=this._bounds,d=u.getSize(),y=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,y.setAttribute("width",d.x),y.setAttribute("height",d.y)),Fe(y,u.min),y.setAttribute("viewBox",[u.min.x,u.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(u){var d=u._path=kf("path");u.options.className&&Wt(d,u.options.className),u.options.interactive&&Wt(d,"leaflet-interactive"),this._updateStyle(u),this._layers[l(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){zn(u._path),u.removeInteractiveTarget(u._path),delete this._layers[l(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var d=u._path,y=u.options;d&&(y.stroke?(d.setAttribute("stroke",y.color),d.setAttribute("stroke-opacity",y.opacity),d.setAttribute("stroke-width",y.weight),d.setAttribute("stroke-linecap",y.lineCap),d.setAttribute("stroke-linejoin",y.lineJoin),y.dashArray?d.setAttribute("stroke-dasharray",y.dashArray):d.removeAttribute("stroke-dasharray"),y.dashOffset?d.setAttribute("stroke-dashoffset",y.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),y.fill?(d.setAttribute("fill",y.fillColor||y.color),d.setAttribute("fill-opacity",y.fillOpacity),d.setAttribute("fill-rule",y.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(u,d){this._setPath(u,fe(u._parts,d))},_updateCircle:function(u){var d=u._point,y=Math.max(Math.round(u._radius),1),w=Math.max(Math.round(u._radiusY),1)||y,O="a"+y+","+w+" 0 1,0 ",V=u._empty()?"M0 0":"M"+(d.x-y)+","+d.y+O+y*2+",0 "+O+-y*2+",0 ";this._setPath(u,V)},_setPath:function(u,d){u._path.setAttribute("d",d)},_bringToFront:function(u){qi(u._path)},_bringToBack:function(u){lr(u._path)}});Q.vml&&Ic.include(I3);function ey(u){return Q.svg||Q.vml?new Ic(u):null}Dn.include({getRenderer:function(u){var d=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var d=this._paneRenderers[u];return d===void 0&&(d=this._createRenderer({pane:u}),this._paneRenderers[u]=d),d},_createRenderer:function(u){return this.options.preferCanvas&&Y1(u)||ey(u)}});var ty=pl.extend({initialize:function(u,d){pl.prototype.initialize.call(this,this._boundsToLatLngs(u),d)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=le(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function N3(u,d){return new ty(u,d)}Ic.create=kf,Ic.pointsToPath=fe,gs.geometryToLayer=mf,gs.coordsToLatLng=Mp,gs.coordsToLatLngs=gf,gs.latLngToCoords=Pp,gs.latLngsToCoords=vf,gs.getFeature=ml,gs.asFeature=yf,Dn.mergeOptions({boxZoom:!0});var ny=Io.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){dn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ni(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){zn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),yt(),Nn(),this._startPoint=this._map.mouseEventToContainerPoint(u),dn(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Sn("div","leaflet-zoom-box",this._container),Wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var d=new A(this._point,this._startPoint),y=d.getSize();Fe(this._box,d.min),this._box.style.width=y.x+"px",this._box.style.height=y.y+"px"},_finish:function(){this._moved&&(zn(this._box),Fn(this._container,"leaflet-crosshair")),$t(),cr(),ni(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var d=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Dn.addInitHook("addHandler","boxZoom",ny),Dn.mergeOptions({doubleClickZoom:!0});var iy=Io.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var d=this._map,y=d.getZoom(),w=d.options.zoomDelta,O=u.originalEvent.shiftKey?y-w:y+w;d.options.doubleClickZoom==="center"?d.setZoom(O):d.setZoomAround(u.containerPoint,O)}});Dn.addInitHook("addHandler","doubleClickZoom",iy),Dn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ry=Io.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new Hs(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fn(this._map._container,"leaflet-grab"),Fn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=le(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var d=this._lastTime=+new Date,y=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(y),this._times.push(d),this._prunePositions(d)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,d){return u-(u-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;u.x<d.min.x&&(u.x=this._viscousLimit(u.x,d.min.x)),u.y<d.min.y&&(u.y=this._viscousLimit(u.y,d.min.y)),u.x>d.max.x&&(u.x=this._viscousLimit(u.x,d.max.x)),u.y>d.max.y&&(u.y=this._viscousLimit(u.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,d=Math.round(u/2),y=this._initialWorldOffset,w=this._draggable._newPos.x,O=(w-d+y)%u+d-y,V=(w+d+y)%u-d-y,he=Math.abs(O+y)<Math.abs(V+y)?O:V;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=he},_onDragEnd:function(u){var d=this._map,y=d.options,w=!y.inertia||u.noInertia||this._times.length<2;if(d.fire("dragend",u),w)d.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),V=(this._lastTime-this._times[0])/1e3,he=y.easeLinearity,Se=O.multiplyBy(he/V),Ae=Se.distanceTo([0,0]),Je=Math.min(y.inertiaMaxSpeed,Ae),kt=Se.multiplyBy(Je/Ae),nn=Je/(y.inertiaDeceleration*he),Tn=kt.multiplyBy(-nn/2).round();!Tn.x&&!Tn.y?d.fire("moveend"):(Tn=d._limitOffset(Tn,d.options.maxBounds),U(function(){d.panBy(Tn,{duration:nn,easeLinearity:he,noMoveStart:!0,animate:!0})}))}}});Dn.addInitHook("addHandler","dragging",ry),Dn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var oy=Io.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),dn(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ni(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,d=document.documentElement,y=u.scrollTop||d.scrollTop,w=u.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(w,y)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var d=this._panKeys={},y=this.keyCodes,w,O;for(w=0,O=y.left.length;w<O;w++)d[y.left[w]]=[-1*u,0];for(w=0,O=y.right.length;w<O;w++)d[y.right[w]]=[u,0];for(w=0,O=y.down.length;w<O;w++)d[y.down[w]]=[0,u];for(w=0,O=y.up.length;w<O;w++)d[y.up[w]]=[0,-1*u]},_setZoomDelta:function(u){var d=this._zoomKeys={},y=this.keyCodes,w,O;for(w=0,O=y.zoomIn.length;w<O;w++)d[y.zoomIn[w]]=u;for(w=0,O=y.zoomOut.length;w<O;w++)d[y.zoomOut[w]]=-u},_addHooks:function(){dn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ni(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var d=u.keyCode,y=this._map,w;if(d in this._panKeys){if(!y._panAnim||!y._panAnim._inProgress)if(w=this._panKeys[d],u.shiftKey&&(w=P(w).multiplyBy(3)),y.options.maxBounds&&(w=y._limitOffset(P(w),y.options.maxBounds)),y.options.worldCopyJump){var O=y.wrapLatLng(y.unproject(y.project(y.getCenter()).add(w)));y.panTo(O)}else y.panBy(w)}else if(d in this._zoomKeys)y.setZoom(y.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&y._popup&&y._popup.options.closeOnEscapeKey)y.closePopup();else return;bi(u)}}});Dn.addInitHook("addHandler","keyboard",oy),Dn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var sy=Io.extend({addHooks:function(){dn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ni(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var d=Pc(u),y=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var w=Math.max(y-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),w),bi(u)},_performZoom:function(){var u=this._map,d=u.getZoom(),y=this._map.options.zoomSnap||0;u._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,V=y?Math.ceil(O/y)*y:O,he=u._limitZoom(d+(this._delta>0?V:-V))-d;this._delta=0,this._startTime=null,he&&(u.options.scrollWheelZoom==="center"?u.setZoom(d+he):u.setZoomAround(this._lastMousePos,d+he))}});Dn.addInitHook("addHandler","scrollWheelZoom",sy);var B3=600;Dn.mergeOptions({tapHold:Q.touchNative&&Q.safari&&Q.mobile,tapTolerance:15});var ay=Io.extend({addHooks:function(){dn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ni(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var d=u.touches[0];this._startPos=this._newPos=new $(d.clientX,d.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(dn(document,"touchend",Oi),dn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),B3),dn(document,"touchend touchcancel contextmenu",this._cancel,this),dn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){ni(document,"touchend",Oi),ni(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),ni(document,"touchend touchcancel contextmenu",this._cancel,this),ni(document,"touchmove",this._onMove,this)},_onMove:function(u){var d=u.touches[0];this._newPos=new $(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,d){var y=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});y._simulated=!0,d.target.dispatchEvent(y)}});Dn.addInitHook("addHandler","tapHold",ay),Dn.mergeOptions({touchZoom:Q.touch,bounceAtZoomLimits:!0});var ly=Io.extend({addHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),dn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fn(this._map._container,"leaflet-touch-zoom"),ni(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var d=this._map;if(!(!u.touches||u.touches.length!==2||d._animatingZoom||this._zooming)){var y=d.mouseEventToContainerPoint(u.touches[0]),w=d.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(y.add(w)._divideBy(2))),this._startDist=y.distanceTo(w),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),dn(document,"touchmove",this._onTouchMove,this),dn(document,"touchend touchcancel",this._onTouchEnd,this),Oi(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var d=this._map,y=d.mouseEventToContainerPoint(u.touches[0]),w=d.mouseEventToContainerPoint(u.touches[1]),O=y.distanceTo(w)/this._startDist;if(this._zoom=d.getScaleZoom(O,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&O<1||this._zoom>d.getMaxZoom()&&O>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var V=y._add(w)._divideBy(2)._subtract(this._centerPoint);if(O===1&&V.x===0&&V.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(V),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var he=s(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(he,this,!0),Oi(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),ni(document,"touchmove",this._onTouchMove,this),ni(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Dn.addInitHook("addHandler","touchZoom",ly),Dn.BoxZoom=ny,Dn.DoubleClickZoom=iy,Dn.Drag=ry,Dn.Keyboard=oy,Dn.ScrollWheelZoom=sy,Dn.TapHold=ay,Dn.TouchZoom=ly,t.Bounds=A,t.Browser=Q,t.CRS=oe,t.Canvas=X1,t.Circle=$p,t.CircleMarker=pf,t.Class=F,t.Control=wo,t.DivIcon=J1,t.DivOverlay=No,t.DomEvent=n3,t.DomUtil=Fs,t.Draggable=Hs,t.Evented=R,t.FeatureGroup=ps,t.GeoJSON=gs,t.GridLayer=Rc,t.Handler=Io,t.Icon=dl,t.ImageOverlay=bf,t.LatLng=de,t.LatLngBounds=Z,t.Layer=ko,t.LayerGroup=hl,t.LineUtil=m3,t.Map=Dn,t.Marker=df,t.Mixin=c3,t.Path=Vs,t.Point=$,t.PolyUtil=u3,t.Polygon=pl,t.Polyline=ms,t.Popup=xf,t.PosAnimation=T1,t.Projection=g3,t.Rectangle=ty,t.Renderer=vs,t.SVG=Ic,t.SVGOverlay=Z1,t.TileLayer=gl,t.Tooltip=wf,t.Transformation=be,t.Util=ee,t.VideoOverlay=Q1,t.bind=s,t.bounds=M,t.canvas=Y1,t.circle=j3,t.circleMarker=_3,t.control=Tc,t.divIcon=A3,t.extend=r,t.featureGroup=x3,t.geoJSON=U1,t.geoJson=O3,t.gridLayer=R3,t.icon=w3,t.imageOverlay=$3,t.latLng=xe,t.latLngBounds=le,t.layerGroup=b3,t.map=i3,t.marker=k3,t.point=P,t.polygon=C3,t.polyline=S3,t.popup=T3,t.rectangle=N3,t.setOptions=v,t.stamp=l,t.svg=ey,t.svgOverlay=P3,t.tileLayer=G1,t.tooltip=E3,t.transformation=Ze,t.version=i,t.videoOverlay=M3;var D3=window.L;t.noConflict=function(){return window.L=D3,this},window.L=t})})(Eg,Eg.exports);var cR=Eg.exports;const uU=bv(cR);function zC(n,e,t){let i=[];return $o(n,e,{before:(o,s)=>{let a;const l=Cs(o,s.path);if(s.op==="add")a=HC(o,l);else if(s.op==="remove")a=FC(o,l);else if(s.op==="replace")a=qC(o,l);else if(s.op==="copy")a=uR(o,l);else if(s.op==="move")a=fR(o,l,M8(s.from));else if(s.op==="test")a=[];else throw new Error("Unknown JSONPatch operation "+JSON.stringify(s));let c;if(t&&t.before){const f=t.before(o,s,a);if(f&&f.revertOperations&&(a=f.revertOperations),f&&f.document&&(c=f.document),f&&f.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(i=a.concat(i),c!==void 0)return{document:c}}}),i}function qC(n,e){return[{op:"replace",path:at(e),value:Ct(n,e)}]}function FC(n,e){return[{op:"add",path:at(e),value:Ct(n,e)}]}function HC(n,e){return oj(n,e)||!ts(n,e)?[{op:"remove",path:at(e)}]:qC(n,e)}function uR(n,e){return HC(n,e)}function fR(n,e,t){if(e.length<t.length&&P8(t,e))return[{op:"replace",path:at(e),value:n}];const i={op:"move",from:at(e),path:at(t)};return!oj(n,e)&&ts(n,e)?[i,...FC(n,e)]:[i]}var dd={},Sx={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},hR=97;dd.parse=function(n,e,t){var i={},r=0,o=0,s=0,a=t&&t.bigint&&typeof BigInt<"u";return{data:l("",!0),pointers:i};function l(G,I){c();var U;C(G,"value");var B=v();switch(B){case"t":g("rue"),U=!0;break;case"f":g("alse"),U=!1;break;case"n":g("ull"),U=null;break;case'"':U=f();break;case"[":U=p(G);break;case"{":U=m(G);break;default:b(),"-0123456789".indexOf(B)>=0?U=h():E()}return C(G,"valueEnd"),c(),I&&s<n.length&&E(),U}function c(){e:for(;s<n.length;){switch(n[s]){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,r++;break;default:break e}s++}}function f(){for(var G="",I;I=v(),I!='"';)I=="\\"?(I=v(),I in Sx?G+=Sx[I]:I=="u"?G+=x():q()):G+=I;return G}function h(){var G="",I=!0;n[s]=="-"&&(G+=v()),G+=n[s]=="0"?v():k(),n[s]=="."&&(G+=v()+k(),I=!1),(n[s]=="e"||n[s]=="E")&&(G+=v(),(n[s]=="+"||n[s]=="-")&&(G+=v()),G+=k(),I=!1);var U=+G;return a&&I&&(U>Number.MAX_SAFE_INTEGER||U<Number.MIN_SAFE_INTEGER)?BigInt(G):U}function p(G){c();var I=[],U=0;if(v()=="]")return I;for(b();;){var B=G+"/"+U;I.push(l(B)),c();var ee=v();if(ee=="]")break;ee!=","&&q(),c(),U++}return I}function m(G){c();var I={};if(v()=="}")return I;for(b();;){var U=_();v()!='"'&&q();var B=f(),ee=G+"/"+Ag(B);S(ee,"key",U),C(ee,"keyEnd"),c(),v()!=":"&&q(),c(),I[B]=l(ee),c();var F=v();if(F=="}")break;F!=","&&q(),c()}return I}function g(G){for(var I=0;I<G.length;I++)v()!==G[I]&&q()}function v(){te();var G=n[s];return s++,o++,G}function b(){s--,o--}function x(){for(var G=4,I=0;G--;){I<<=4;var U=v().toLowerCase();U>="a"&&U<="f"?I+=U.charCodeAt()-hR+10:U>="0"&&U<="9"?I+=+U:q()}return String.fromCharCode(I)}function k(){for(var G="";n[s]>="0"&&n[s]<="9";)G+=v();if(G.length)return G;te(),E()}function C(G,I){S(G,I,_())}function S(G,I,U){i[G]=i[G]||{},i[G][I]=U}function _(){return{line:r,column:o,pos:s}}function E(){throw new SyntaxError("Unexpected token "+n[s]+" in JSON at position "+s)}function q(){b(),E()}function te(){if(s>=n.length)throw new SyntaxError("Unexpected end of JSON input")}};dd.stringify=function(n,e,t){if(!Jf(n))return;var i=0,r,o,s=typeof t=="object"?t.space:t;switch(typeof s){case"number":var a=s>10?10:s<0?0:Math.floor(s);s=a&&S(a," "),r=a,o=a;break;case"string":s=s.slice(0,10),r=0,o=0;for(var l=0;l<s.length;l++){var c=s[l];switch(c){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:s=void 0}var f="",h={},p=0,m=0,g=0,v=t&&t.es6&&typeof Map=="function";return b(n,0,""),{json:f,pointers:h};function b(_,E,q){switch(C(q,"value"),typeof _){case"number":case"bigint":case"boolean":x(""+_);break;case"string":x(Gf(_));break;case"object":_===null?x("null"):typeof _.toJSON=="function"?x(Gf(_.toJSON())):Array.isArray(_)?te():v?_.constructor.BYTES_PER_ELEMENT?te():_ instanceof Map?I():_ instanceof Set?I(!0):G():G()}C(q,"valueEnd");function te(){if(_.length){x("[");for(var U=E+1,B=0;B<_.length;B++){B&&x(","),k(U);var ee=Jf(_[B])?_[B]:null,F=q+"/"+B;b(ee,U,F)}k(E),x("]")}else x("[]")}function G(){var U=Object.keys(_);if(U.length){x("{");for(var B=E+1,ee=0;ee<U.length;ee++){var F=U[ee],ne=_[F];if(Jf(ne)){ee&&x(",");var re=q+"/"+Ag(F);k(B),C(re,"key"),x(Gf(F)),C(re,"keyEnd"),x(":"),s&&x(" "),b(ne,B,re)}}k(E),x("}")}else x("{}")}function I(U){if(_.size){x("{");for(var B=E+1,ee=!0,F=_.entries(),ne=F.next();!ne.done;){var re=ne.value,R=re[0],$=U?!0:re[1];if(Jf($)){ee||x(","),ee=!1;var N=q+"/"+Ag(R);k(B),C(N,"key"),x(Gf(R)),C(N,"keyEnd"),x(":"),s&&x(" "),b($,B,N)}ne=F.next()}k(E),x("}")}else x("{}")}}function x(_){m+=_.length,g+=_.length,f+=_}function k(_){if(s){for(f+=`
`+S(_,s),p++,m=0;_--;)i?(p+=i,m=o):m+=o,g+=r;g+=1}}function C(_,E){h[_]=h[_]||{},h[_][E]={line:p,column:m,pos:g}}function S(_,E){return Array(_+1).join(E)}};var dR=["number","bigint","boolean","string","object"];function Jf(n){return dR.indexOf(typeof n)>=0}var pR=/"|\\/g,mR=/[\b]/g,gR=/\f/g,vR=/\n/g,yR=/\r/g,bR=/\t/g;function Gf(n){return n=n.replace(pR,"\\$&").replace(gR,"\\f").replace(mR,"\\b").replace(vR,"\\n").replace(yR,"\\r").replace(bR,"\\t"),'"'+n+'"'}var xR=/~/g,wR=/\//g;function Ag(n){return n.replace(xR,"~0").replace(wR,"~1")}const Kf=92,um=47,kR=42,Cx=123,Xf=125,Ox=91,Yf=93,_R=40,jR=41,SR=32,p0=10,VC=9,WC=13,CR=8,OR=12,pd=34,$x=43,Mx=45,UC=39,QC=48,ZC=57,eh=44,$R=46,MR=58,PR=59,TR=65,ER=97,AR=69,RR=101,LR=70,IR=102,NR=160,BR=8192,DR=8202,zR=8239,qR=8287,FR=12288,HR=8220,VR=8221,WR=8216,UR=8217,QR=96,ZR=180;function JR(n){return n>=QC&&n<=ZC||n>=TR&&n<=LR||n>=ER&&n<=IR}function th(n){return n>=QC&&n<=ZC}function GR(n){return n>=32&&n<=1114111}function fm(n){return KR.test(n)||md(n.charCodeAt(0))}const KR=/^[,:[\]{}()\n+]$/;function Px(n){return XR.test(n)||n&&md(n.charCodeAt(0))}const XR=/^[[{\w-]$/;function YR(n){return n===p0||n===WC||n===VC||n===CR||n===OR}function Lu(n){return n===SR||n===p0||n===VC||n===WC}function e7(n){return n===NR||n>=BR&&n<=DR||n===zR||n===qR||n===FR}function md(n){return JC(n)||Rg(n)}function JC(n){return n===pd||n===HR||n===VR}function Tx(n){return n===pd}function Rg(n){return n===UC||n===WR||n===UR||n===QR||n===ZR}function Ex(n){return n===UC}function Hc(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=n.lastIndexOf(e);return i!==-1?n.substring(0,i)+(t?"":n.substring(i+1)):n}function ys(n,e){let t=n.length;if(!Lu(n.charCodeAt(t-1)))return n+e;for(;Lu(n.charCodeAt(t-1));)t--;return n.substring(0,t)+e+n.substring(t)}function t7(n,e,t){return n.substring(0,e)+n.substring(e+t)}function n7(n){return/[,\n][ \t\r]*$/.test(n)}function i7(n,e){let t=e;for(;Lu(n.charCodeAt(t));)t++;return n.charAt(t)}const r7={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},o7={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function is(n){let e=0,t="";o()||G();const r=c(eh);for(r&&s(),Px(n[e])&&n7(t)?(r||(t=ys(t,",")),g()):r&&(t=Hc(t,","));n.charCodeAt(e)===Xf||n.charCodeAt(e)===Yf;)e++,s();if(e>=n.length)return t;te();function o(){s();const F=p()||m()||v()||x()||k()||S();return s(),F}function s(){const F=e;let ne=a();do ne=l(),ne&&(ne=a());while(ne);return e>F}function a(){let F="",ne;for(;(ne=Lu(n.charCodeAt(e)))||e7(n.charCodeAt(e));)ne?F+=n[e]:F+=" ",e++;return F.length>0?(t+=F,!0):!1}function l(){if(n.charCodeAt(e)===um&&n.charCodeAt(e+1)===kR){for(;e<n.length&&!s7(n,e);)e++;return e+=2,!0}if(n.charCodeAt(e)===um&&n.charCodeAt(e+1)===um){for(;e<n.length&&n.charCodeAt(e)!==p0;)e++;return!0}return!1}function c(F){return n.charCodeAt(e)===F?(t+=n[e],e++,!0):!1}function f(F){return n.charCodeAt(e)===F?(e++,!0):!1}function h(){return f(Kf)}function p(){if(n.charCodeAt(e)===Cx){t+="{",e++,s();let F=!0;for(;e<n.length&&n.charCodeAt(e)!==Xf;){let ne;if(F?(ne=!0,F=!1):(ne=c(eh),ne||(t=ys(t,",")),s()),!(v()||S())){n.charCodeAt(e)===Xf||n.charCodeAt(e)===Cx||n.charCodeAt(e)===Yf||n.charCodeAt(e)===Ox||n[e]===void 0?t=Hc(t,","):I();break}s();const R=c(MR),$=e>=n.length;R||(Px(n[e])||$?t=ys(t,":"):U()),o()||(R||$?t+="null":U())}return n.charCodeAt(e)===Xf?(t+="}",e++):t=ys(t,"}"),!0}return!1}function m(){if(n.charCodeAt(e)===Ox){t+="[",e++,s();let F=!0;for(;e<n.length&&n.charCodeAt(e)!==Yf;)if(F?F=!1:c(eh)||(t=ys(t,",")),!o()){t=Hc(t,",");break}return n.charCodeAt(e)===Yf?(t+="]",e++):t=ys(t,"]"),!0}return!1}function g(){let F=!0,ne=!0;for(;ne;)F?F=!1:c(eh)||(t=ys(t,",")),ne=o();ne||(t=Hc(t,",")),t=`[
${t}
]`}function v(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ne=n.charCodeAt(e)===Kf;if(ne&&(e++,ne=!0),md(n.charCodeAt(e))){const re=Tx(n.charCodeAt(e))?Tx:Ex(n.charCodeAt(e))?Ex:Rg(n.charCodeAt(e))?Rg:JC,R=e;let $='"';e++;const N=F?M=>fm(n[M]):M=>re(n.charCodeAt(M));for(;e<n.length&&!N(e);){if(n.charCodeAt(e)===Kf){const M=n.charAt(e+1);if(o7[M]!==void 0)$+=n.slice(e,e+2),e+=2;else if(M==="u"){let le=2;for(;le<6&&JR(n.charCodeAt(e+le));)le++;le===6?($+=n.slice(e,e+6),e+=6):e+le>=n.length?e=n.length:B()}else $+=M,e+=2}else{const M=n.charAt(e),Z=n.charCodeAt(e);Z===pd&&n.charCodeAt(e-1)!==Kf?($+="\\"+M,e++):YR(Z)?($+=r7[M],e++):(GR(Z)||q(M),$+=M,e++)}ne&&h()}const P=md(n.charCodeAt(e));return!(P&&(e+1>=n.length||fm(i7(n,e+1))))&&!F?(e=R,v(!0)):(P?($+='"',e++):$=ys($,'"'),t+=$,b(),!0)}return!1}function b(){let F=!1;for(s();n.charCodeAt(e)===$x;){F=!0,e++,s(),t=Hc(t,'"',!0);const ne=t.length;v()?t=t7(t,ne,1):t=ys(t,'"')}return F}function x(){const F=e;if(n.charCodeAt(e)===Mx&&(e++,E(F)))return!0;for(;th(n.charCodeAt(e));)e++;if(n.charCodeAt(e)===$R){if(e++,E(F))return!0;for(;th(n.charCodeAt(e));)e++}if(n.charCodeAt(e)===RR||n.charCodeAt(e)===AR){if(e++,(n.charCodeAt(e)===Mx||n.charCodeAt(e)===$x)&&e++,E(F))return!0;for(;th(n.charCodeAt(e));)e++}if(e>F){const ne=n.slice(F,e),re=/^0\d/.test(ne);return t+=re?`"${ne}"`:ne,!0}return!1}function k(){return C("true","true")||C("false","false")||C("null","null")||C("True","true")||C("False","false")||C("None","null")}function C(F,ne){return n.slice(e,e+F.length)===F?(t+=ne,e+=F.length,!0):!1}function S(){const F=e;for(;e<n.length&&!fm(n[e]);)e++;if(e>F){if(n.charCodeAt(e)===_R)return e++,o(),n.charCodeAt(e)===jR&&(e++,n.charCodeAt(e)===PR&&e++),!0;{for(;Lu(n.charCodeAt(e-1))&&e>0;)e--;const ne=n.slice(F,e);return t+=ne==="undefined"?"null":JSON.stringify(ne),n.charCodeAt(e)===pd&&e++,!0}}}function _(F){if(!th(n.charCodeAt(e))){const ne=n.slice(F,e);throw new $a(`Invalid number '${ne}', expecting a digit ${ee()}`,e)}}function E(F){return e>=n.length?(t+=n.slice(F,e)+"0",!0):(_(F),!1)}function q(F){throw new $a("Invalid character "+JSON.stringify(F),e)}function te(){throw new $a("Unexpected character "+JSON.stringify(n[e]),e)}function G(){throw new $a("Unexpected end of json string",n.length)}function I(){throw new $a("Object key expected",e)}function U(){throw new $a("Colon expected",e)}function B(){const F=n.slice(e,e+6);throw new $a(`Invalid unicode character "${F}"`,e)}function ee(){return n[e]?`but got '${n[e]}'`:"but reached end of input"}}function s7(n,e){return n[e]==="*"&&n[e+1]==="/"}var a7={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7l0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5H109c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8l0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4l0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5H226.4c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8l0 0 0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80V416H272v16c0 44.2-35.8 80-80 80z"]},l7={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Iu=l7,Nu={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]},c7={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Lg={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},ia={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},GC={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V243.9c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1H320 272zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},u7={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},f7={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},Kl=f7,h7={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},d7=h7,p7={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},m7={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},Ax=m7,g7={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},KC={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},v7={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4H120c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},y7=v7,Rx={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},rp={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},ba={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},op={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7H336c-8.8 0-16-7.2-16-16V118.6c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},b7={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Xl={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},x7={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},m0=x7,w7={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},g0=w7,k7={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32V64H32C14.3 64 0 78.3 0 96s14.3 32 32 32H64V384c0 35.3 28.7 64 64 64H352V384H128V32zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32V448h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H448l0-256c0-35.3-28.7-64-64-64L160 64v64l224 0 0 352z"]},_7=k7,j7={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},S7=j7,uo={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},C7={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},XC=C7,nh={prefix:"fas",iconName:"arrow-right-arrow-left",icon:[448,512,[8644,"exchange"],"f0ec","M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z"]},O7={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},sp=O7,$7={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},M7={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},P7={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},v0=P7,T7={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},la={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"]},Bl={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},YC={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Lx=YC,uc=YC,E7={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z"]},eO={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M288 448H64V224h64V160H64c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64zm-64-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},Bu={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},A7={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},ul=A7,tO={exports:{}};/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */var Ix=function(n,e){var t,i,r=1,o=0,s=0,a=String.alphabet;function l(c,f,h){if(h){for(t=f;h=l(c,t),h<76&&h>65;)++t;return+c.slice(f-1,t)}return h=a&&a.indexOf(c.charAt(f)),h>-1?h+76:(h=c.charCodeAt(f)||0,h<45||h>127?h:h<46?65:h<48?h-1:h<58?h+18:h<65?h-11:h<91?h+11:h<97?h-37:h<123?h+5:h-63)}if((n+="")!=(e+="")){for(;r;)if(i=l(n,o++),r=l(e,s++),i<76&&r<76&&i>66&&r>66&&(i=l(n,o,o),r=l(e,s,o=t),s=t),i!=r)return i<r?-1:1}return 0};try{tO.exports=Ix}catch{String.naturalCompare=Ix}var R7=tO.exports;const L7=bv(R7),I7=Fv({String:Oe.string,Number:Oe.number,"True False":Oe.bool,PropertyName:Oe.propertyName,Null:Oe.null,",":Oe.separator,"[ ]":Oe.squareBracket,"{ }":Oe.brace}),N7=Ru.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[I7],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),B7=$u.define({name:"json",parser:N7.configure({props:[Vv.add({Object:xg({except:/^\s*\}/}),Array:xg({except:/^\s*\]/})}),Uv.add({"Object Array":i4})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function D7(){return new YS(B7)}function z7(n,e=n.state){const t=new Set;for(const{from:i,to:r}of n.visibleRanges){let o=i;for(;o<=r;){const s=e.doc.lineAt(o);t.has(s)||t.add(s),o=s.to+1}}return t}function Ig(n){const e=n.selection.main.head;return n.doc.lineAt(e)}function Nx(n,e){let t=0;e:for(let i=0;i<n.length;i++)switch(n[i]){case" ":{t+=1;continue e}case"	":{t+=e-t%e;continue e}case"\r":continue e;default:break e}return t}const gd=Rt.define({combine(n){return yo(n,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}});class q7{constructor(e,t,i,r){this.lines=e,this.state=t,this.map=new Map,this.unitWidth=i,this.markerType=r;for(const o of this.lines)this.add(o);this.state.facet(gd).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e=="number"?e:e.number)}get(e){const t=this.map.get(typeof e=="number"?e:e.number);if(!t)throw new Error("Line not found in indentation map");return t}set(e,t,i){const r=!e.text.trim().length,o={line:e,col:t,level:i,empty:r};return this.map.set(o.line.number,o),o}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const s=this.closestNonEmpty(e,-1);return this.set(e,0,s.level)}const r=this.closestNonEmpty(e,-1),o=this.closestNonEmpty(e,1);return r.level>=o.level&&this.markerType!=="codeOnly"?this.set(e,0,r.level):r.empty&&r.level===0&&o.level!==0?this.set(e,0,0):o.level>r.level?this.set(e,0,r.level+1):this.set(e,0,o.level)}const t=Nx(e.text,this.state.tabSize),i=Math.floor(t/this.unitWidth);return this.set(e,t,i)}closestNonEmpty(e,t){let i=e.number+t;for(;t===-1?i>=1:i<=this.state.doc.lines;){if(this.has(i)){const s=this.get(i);if(!s.empty)return s}const o=this.state.doc.line(i);if(o.text.trim().length){const s=Nx(o.text,this.state.tabSize),a=Math.floor(s/this.unitWidth);return this.set(o,s,a)}i+=t}const r=this.state.doc.line(t===-1?1:this.state.doc.lines);return this.set(r,0,0)}findAndSetActiveLines(){const e=Ig(this.state);if(!this.has(e))return;let t=this.get(e);if(this.has(t.line.number+1)){const o=this.get(t.line.number+1);o.level>t.level&&(t=o)}if(this.has(t.line.number-1)){const o=this.get(t.line.number-1);o.level>t.level&&(t=o)}if(t.level===0)return;t.active=t.level;let i,r;for(i=t.line.number;i>1;i--){if(!this.has(i-1))continue;const o=this.get(i-1);if(o.level<t.level)break;o.active=t.level}for(r=t.line.number;r<this.state.doc.lines;r++){if(!this.has(r+1))continue;const o=this.get(r+1);if(o.level<t.level)break;o.active=t.level}}}function F7(n){const e={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"};let t=e;return n&&(t=Object.assign(Object.assign({},e),n)),gt.baseTheme({"&light":{"--indent-marker-bg-color":t.light,"--indent-marker-active-bg-color":t.activeLight},"&dark":{"--indent-marker-bg-color":t.dark,"--indent-marker-active-bg-color":t.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}function ih(n,e,t,i,r){return`${`repeating-linear-gradient(to right, var(${n}) 0 ${e}px, transparent ${e}px ${t}ch)`} ${i*t}.5ch/calc(${t*r}ch - 1px) no-repeat`}function H7(n,e,t,i){const{level:r,active:o}=n;if(t&&r===0)return[];const s=t?1:0,a=[];if(o!==void 0){const l=o-s-1;l>0&&a.push(ih("--indent-marker-bg-color",i,e,s,l)),a.push(ih("--indent-marker-active-bg-color",i,e,o-1,1)),o!==r&&a.push(ih("--indent-marker-bg-color",i,e,o,r-o))}else a.push(ih("--indent-marker-bg-color",i,e,s,r-s));return a.join(",")}class V7{constructor(e){this.view=e,this.unitWidth=ya(e.state),this.currentLineNumber=Ig(e.state).number,this.generate(e.state)}update(e){const t=ya(e.state),i=t!==this.unitWidth;i&&(this.unitWidth=t);const r=Ig(e.state).number,o=r!==this.currentLineNumber;this.currentLineNumber=r;const s=e.state.facet(gd).highlightActiveBlock&&o;(e.docChanged||e.viewportChanged||i||s)&&this.generate(e.state)}generate(e){const t=new rs,i=z7(this.view,e),{hideFirstIndent:r,markerType:o,thickness:s}=e.facet(gd),a=new q7(i,e,this.unitWidth,o);for(const l of i){const c=a.get(l.number);if(!(c!=null&&c.level))continue;const f=H7(c,this.unitWidth,r,s);t.add(l.from,l.from,Ut.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${f}`}}))}this.decorations=t.finish()}}function W7(n={}){return[gd.of(n),F7(n.colors),ki.fromClass(V7,{decorations:e=>e.decorations})]}class U7{constructor(e){this.view=e,this.indentUnit=ya(e.state),this.initialPaddingLeft=null,this.generate(e.state)}update(e){const t=ya(e.state);(t!==this.indentUnit||e.docChanged||e.viewportChanged)&&(this.indentUnit=t,this.generate(e.state))}generate(e){const t=new rs;this.initialPaddingLeft?this.addStyleToBuilder(t,e,this.initialPaddingLeft):this.view.requestMeasure({read:i=>{const r=i.contentDOM.querySelector(".cm-line");r&&(this.initialPaddingLeft=window.getComputedStyle(r).getPropertyValue("padding-left"),this.addStyleToBuilder(t,e,this.initialPaddingLeft)),this.decorations=t.finish()}}),this.decorations=t.finish()}addStyleToBuilder(e,t,i){const r=this.getVisibleLines(t);for(const o of r){const s=this.getIndentSize(o),a=`calc(${s+this.indentUnit}ch + ${i})`;e.add(o.from,o.from,Ut.line({attributes:{style:`padding-left: ${a}; text-indent: -${s+this.indentUnit}ch;`}}))}}getVisibleLines(e){const t=new Set;let i=null;for(const{from:r,to:o}of this.view.visibleRanges){let s=r;for(;s<=o;){const a=e.doc.lineAt(s);i!==a&&(t.add(a),i=a),s=a.to+1}}return t}getIndentSize(e){return e.text.length-e.text.trimStart().length}}const Q7=[ki.fromClass(U7,{decorations:n=>n.decorations})];var Bx={exports:{}},nO={};const Z7="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",J7="Meta-schema for $data reference (JSON AnySchema extension proposal)",G7="object",K7=["$data"],X7={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Y7=!1,eL={$id:Z7,description:J7,type:G7,required:K7,properties:X7,additionalProperties:Y7};var y0={},Ng={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(n,e){(function(t,i){i(e)})(Ea,function(t){function i(){for(var W=arguments.length,Q=Array(W),ue=0;ue<W;ue++)Q[ue]=arguments[ue];if(Q.length>1){Q[0]=Q[0].slice(0,-1);for(var ye=Q.length-1,$e=1;$e<ye;++$e)Q[$e]=Q[$e].slice(1,-1);return Q[ye]=Q[ye].slice(1),Q.join("")}else return Q[0]}function r(W){return"(?:"+W+")"}function o(W){return W===void 0?"undefined":W===null?"null":Object.prototype.toString.call(W).split(" ").pop().split("]").shift().toLowerCase()}function s(W){return W.toUpperCase()}function a(W){return W!=null?W instanceof Array?W:typeof W.length!="number"||W.split||W.setInterval||W.call?[W]:Array.prototype.slice.call(W):[]}function l(W,Q){var ue=W;if(Q)for(var ye in Q)ue[ye]=Q[ye];return ue}function c(W){var Q="[A-Za-z]",ue="[0-9]",ye=i(ue,"[A-Fa-f]"),$e=r(r("%[EFef]"+ye+"%"+ye+ye+"%"+ye+ye)+"|"+r("%[89A-Fa-f]"+ye+"%"+ye+ye)+"|"+r("%"+ye+ye)),_t="[\\:\\/\\?\\#\\[\\]\\@]",It="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",an=i(_t,It),gn=W?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",In=W?"[\\uE000-\\uF8FF]":"[]",sn=i(Q,ue,"[\\-\\.\\_\\~]",gn);r(Q+i(Q,ue,"[\\+\\-\\.]")+"*"),r(r($e+"|"+i(sn,It,"[\\:]"))+"*");var Pn=r(r("25[0-5]")+"|"+r("2[0-4]"+ue)+"|"+r("1"+ue+ue)+"|"+r("0?[1-9]"+ue)+"|0?0?"+ue),qn=r(Pn+"\\."+Pn+"\\."+Pn+"\\."+Pn),Y=r(ye+"{1,4}"),Ee=r(r(Y+"\\:"+Y)+"|"+qn),Ue=r(r(Y+"\\:")+"{6}"+Ee),Ke=r("\\:\\:"+r(Y+"\\:")+"{5}"+Ee),ft=r(r(Y)+"?\\:\\:"+r(Y+"\\:")+"{4}"+Ee),Ft=r(r(r(Y+"\\:")+"{0,1}"+Y)+"?\\:\\:"+r(Y+"\\:")+"{3}"+Ee),vt=r(r(r(Y+"\\:")+"{0,2}"+Y)+"?\\:\\:"+r(Y+"\\:")+"{2}"+Ee),cn=r(r(r(Y+"\\:")+"{0,3}"+Y)+"?\\:\\:"+Y+"\\:"+Ee),Nt=r(r(r(Y+"\\:")+"{0,4}"+Y)+"?\\:\\:"+Ee),Et=r(r(r(Y+"\\:")+"{0,5}"+Y)+"?\\:\\:"+Y),hn=r(r(r(Y+"\\:")+"{0,6}"+Y)+"?\\:\\:"),Rn=r([Ue,Ke,ft,Ft,vt,cn,Nt,Et,hn].join("|")),Jn=r(r(sn+"|"+$e)+"+");r("[vV]"+ye+"+\\."+i(sn,It,"[\\:]")+"+"),r(r($e+"|"+i(sn,It))+"*");var zi=r($e+"|"+i(sn,It,"[\\:\\@]"));return r(r($e+"|"+i(sn,It,"[\\@]"))+"+"),r(r(zi+"|"+i("[\\/\\?]",In))+"*"),{NOT_SCHEME:new RegExp(i("[^]",Q,ue,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",sn,It),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",sn,It),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",sn,It),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",sn,It),"g"),NOT_QUERY:new RegExp(i("[^\\%]",sn,It,"[\\:\\@\\/\\?]",In),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",sn,It,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",sn,It),"g"),UNRESERVED:new RegExp(sn,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",sn,an),"g"),PCT_ENCODED:new RegExp($e,"g"),IPV4ADDRESS:new RegExp("^("+qn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Rn+")"+r(r("\\%25|\\%(?!"+ye+"{2})")+"("+Jn+")")+"?\\]?$")}}var f=c(!1),h=c(!0),p=function(){function W(Q,ue){var ye=[],$e=!0,_t=!1,It=void 0;try{for(var an=Q[Symbol.iterator](),gn;!($e=(gn=an.next()).done)&&(ye.push(gn.value),!(ue&&ye.length===ue));$e=!0);}catch(In){_t=!0,It=In}finally{try{!$e&&an.return&&an.return()}finally{if(_t)throw It}}return ye}return function(Q,ue){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return W(Q,ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(W){if(Array.isArray(W)){for(var Q=0,ue=Array(W.length);Q<W.length;Q++)ue[Q]=W[Q];return ue}else return Array.from(W)},g=2147483647,v=36,b=1,x=26,k=38,C=700,S=72,_=128,E="-",q=/^xn--/,te=/[^\0-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=v-b,B=Math.floor,ee=String.fromCharCode;function F(W){throw new RangeError(I[W])}function ne(W,Q){for(var ue=[],ye=W.length;ye--;)ue[ye]=Q(W[ye]);return ue}function re(W,Q){var ue=W.split("@"),ye="";ue.length>1&&(ye=ue[0]+"@",W=ue[1]),W=W.replace(G,".");var $e=W.split("."),_t=ne($e,Q).join(".");return ye+_t}function R(W){for(var Q=[],ue=0,ye=W.length;ue<ye;){var $e=W.charCodeAt(ue++);if($e>=55296&&$e<=56319&&ue<ye){var _t=W.charCodeAt(ue++);(_t&64512)==56320?Q.push((($e&1023)<<10)+(_t&1023)+65536):(Q.push($e),ue--)}else Q.push($e)}return Q}var $=function(Q){return String.fromCodePoint.apply(String,m(Q))},N=function(Q){return Q-48<10?Q-22:Q-65<26?Q-65:Q-97<26?Q-97:v},P=function(Q,ue){return Q+22+75*(Q<26)-((ue!=0)<<5)},A=function(Q,ue,ye){var $e=0;for(Q=ye?B(Q/C):Q>>1,Q+=B(Q/ue);Q>U*x>>1;$e+=v)Q=B(Q/U);return B($e+(U+1)*Q/(Q+k))},M=function(Q){var ue=[],ye=Q.length,$e=0,_t=_,It=S,an=Q.lastIndexOf(E);an<0&&(an=0);for(var gn=0;gn<an;++gn)Q.charCodeAt(gn)>=128&&F("not-basic"),ue.push(Q.charCodeAt(gn));for(var In=an>0?an+1:0;In<ye;){for(var sn=$e,Pn=1,qn=v;;qn+=v){In>=ye&&F("invalid-input");var Y=N(Q.charCodeAt(In++));(Y>=v||Y>B((g-$e)/Pn))&&F("overflow"),$e+=Y*Pn;var Ee=qn<=It?b:qn>=It+x?x:qn-It;if(Y<Ee)break;var Ue=v-Ee;Pn>B(g/Ue)&&F("overflow"),Pn*=Ue}var Ke=ue.length+1;It=A($e-sn,Ke,sn==0),B($e/Ke)>g-_t&&F("overflow"),_t+=B($e/Ke),$e%=Ke,ue.splice($e++,0,_t)}return String.fromCodePoint.apply(String,ue)},Z=function(Q){var ue=[];Q=R(Q);var ye=Q.length,$e=_,_t=0,It=S,an=!0,gn=!1,In=void 0;try{for(var sn=Q[Symbol.iterator](),Pn;!(an=(Pn=sn.next()).done);an=!0){var qn=Pn.value;qn<128&&ue.push(ee(qn))}}catch(Fn){gn=!0,In=Fn}finally{try{!an&&sn.return&&sn.return()}finally{if(gn)throw In}}var Y=ue.length,Ee=Y;for(Y&&ue.push(E);Ee<ye;){var Ue=g,Ke=!0,ft=!1,Ft=void 0;try{for(var vt=Q[Symbol.iterator](),cn;!(Ke=(cn=vt.next()).done);Ke=!0){var Nt=cn.value;Nt>=$e&&Nt<Ue&&(Ue=Nt)}}catch(Fn){ft=!0,Ft=Fn}finally{try{!Ke&&vt.return&&vt.return()}finally{if(ft)throw Ft}}var Et=Ee+1;Ue-$e>B((g-_t)/Et)&&F("overflow"),_t+=(Ue-$e)*Et,$e=Ue;var hn=!0,Rn=!1,Jn=void 0;try{for(var zi=Q[Symbol.iterator](),Sn;!(hn=(Sn=zi.next()).done);hn=!0){var zn=Sn.value;if(zn<$e&&++_t>g&&F("overflow"),zn==$e){for(var tr=_t,qi=v;;qi+=v){var lr=qi<=It?b:qi>=It+x?x:qi-It;if(tr<lr)break;var ti=tr-lr,Wt=v-lr;ue.push(ee(P(lr+ti%Wt,0))),tr=B(ti/Wt)}ue.push(ee(P(tr,0))),It=A(_t,Et,Ee==Y),_t=0,++Ee}}}catch(Fn){Rn=!0,Jn=Fn}finally{try{!hn&&zi.return&&zi.return()}finally{if(Rn)throw Jn}}++_t,++$e}return ue.join("")},le=function(Q){return re(Q,function(ue){return q.test(ue)?M(ue.slice(4).toLowerCase()):ue})},de=function(Q){return re(Q,function(ue){return te.test(ue)?"xn--"+Z(ue):ue})},xe={version:"2.1.0",ucs2:{decode:R,encode:$},decode:M,encode:Z,toASCII:de,toUnicode:le},oe={};function Be(W){var Q=W.charCodeAt(0),ue=void 0;return Q<16?ue="%0"+Q.toString(16).toUpperCase():Q<128?ue="%"+Q.toString(16).toUpperCase():Q<2048?ue="%"+(Q>>6|192).toString(16).toUpperCase()+"%"+(Q&63|128).toString(16).toUpperCase():ue="%"+(Q>>12|224).toString(16).toUpperCase()+"%"+(Q>>6&63|128).toString(16).toUpperCase()+"%"+(Q&63|128).toString(16).toUpperCase(),ue}function We(W){for(var Q="",ue=0,ye=W.length;ue<ye;){var $e=parseInt(W.substr(ue+1,2),16);if($e<128)Q+=String.fromCharCode($e),ue+=3;else if($e>=194&&$e<224){if(ye-ue>=6){var _t=parseInt(W.substr(ue+4,2),16);Q+=String.fromCharCode(($e&31)<<6|_t&63)}else Q+=W.substr(ue,6);ue+=6}else if($e>=224){if(ye-ue>=9){var It=parseInt(W.substr(ue+4,2),16),an=parseInt(W.substr(ue+7,2),16);Q+=String.fromCharCode(($e&15)<<12|(It&63)<<6|an&63)}else Q+=W.substr(ue,9);ue+=9}else Q+=W.substr(ue,3),ue+=3}return Q}function Ce(W,Q){function ue(ye){var $e=We(ye);return $e.match(Q.UNRESERVED)?$e:ye}return W.scheme&&(W.scheme=String(W.scheme).replace(Q.PCT_ENCODED,ue).toLowerCase().replace(Q.NOT_SCHEME,"")),W.userinfo!==void 0&&(W.userinfo=String(W.userinfo).replace(Q.PCT_ENCODED,ue).replace(Q.NOT_USERINFO,Be).replace(Q.PCT_ENCODED,s)),W.host!==void 0&&(W.host=String(W.host).replace(Q.PCT_ENCODED,ue).toLowerCase().replace(Q.NOT_HOST,Be).replace(Q.PCT_ENCODED,s)),W.path!==void 0&&(W.path=String(W.path).replace(Q.PCT_ENCODED,ue).replace(W.scheme?Q.NOT_PATH:Q.NOT_PATH_NOSCHEME,Be).replace(Q.PCT_ENCODED,s)),W.query!==void 0&&(W.query=String(W.query).replace(Q.PCT_ENCODED,ue).replace(Q.NOT_QUERY,Be).replace(Q.PCT_ENCODED,s)),W.fragment!==void 0&&(W.fragment=String(W.fragment).replace(Q.PCT_ENCODED,ue).replace(Q.NOT_FRAGMENT,Be).replace(Q.PCT_ENCODED,s)),W}function be(W){return W.replace(/^0*(.*)/,"$1")||"0"}function Ze(W,Q){var ue=W.match(Q.IPV4ADDRESS)||[],ye=p(ue,2),$e=ye[1];return $e?$e.split(".").map(be).join("."):W}function Ye(W,Q){var ue=W.match(Q.IPV6ADDRESS)||[],ye=p(ue,3),$e=ye[1],_t=ye[2];if($e){for(var It=$e.toLowerCase().split("::").reverse(),an=p(It,2),gn=an[0],In=an[1],sn=In?In.split(":").map(be):[],Pn=gn.split(":").map(be),qn=Q.IPV4ADDRESS.test(Pn[Pn.length-1]),Y=qn?7:8,Ee=Pn.length-Y,Ue=Array(Y),Ke=0;Ke<Y;++Ke)Ue[Ke]=sn[Ke]||Pn[Ee+Ke]||"";qn&&(Ue[Y-1]=Ze(Ue[Y-1],Q));var ft=Ue.reduce(function(Et,hn,Rn){if(!hn||hn==="0"){var Jn=Et[Et.length-1];Jn&&Jn.index+Jn.length===Rn?Jn.length++:Et.push({index:Rn,length:1})}return Et},[]),Ft=ft.sort(function(Et,hn){return hn.length-Et.length})[0],vt=void 0;if(Ft&&Ft.length>1){var cn=Ue.slice(0,Ft.index),Nt=Ue.slice(Ft.index+Ft.length);vt=cn.join(":")+"::"+Nt.join(":")}else vt=Ue.join(":");return _t&&(vt+="%"+_t),vt}else return W}var et=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,qt="".match(/(){0}/)[1]===void 0;function fe(W){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue={},ye=Q.iri!==!1?h:f;Q.reference==="suffix"&&(W=(Q.scheme?Q.scheme+":":"")+"//"+W);var $e=W.match(et);if($e){qt?(ue.scheme=$e[1],ue.userinfo=$e[3],ue.host=$e[4],ue.port=parseInt($e[5],10),ue.path=$e[6]||"",ue.query=$e[7],ue.fragment=$e[8],isNaN(ue.port)&&(ue.port=$e[5])):(ue.scheme=$e[1]||void 0,ue.userinfo=W.indexOf("@")!==-1?$e[3]:void 0,ue.host=W.indexOf("//")!==-1?$e[4]:void 0,ue.port=parseInt($e[5],10),ue.path=$e[6]||"",ue.query=W.indexOf("?")!==-1?$e[7]:void 0,ue.fragment=W.indexOf("#")!==-1?$e[8]:void 0,isNaN(ue.port)&&(ue.port=W.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?$e[4]:void 0)),ue.host&&(ue.host=Ye(Ze(ue.host,ye),ye)),ue.scheme===void 0&&ue.userinfo===void 0&&ue.host===void 0&&ue.port===void 0&&!ue.path&&ue.query===void 0?ue.reference="same-document":ue.scheme===void 0?ue.reference="relative":ue.fragment===void 0?ue.reference="absolute":ue.reference="uri",Q.reference&&Q.reference!=="suffix"&&Q.reference!==ue.reference&&(ue.error=ue.error||"URI is not a "+Q.reference+" reference.");var _t=oe[(Q.scheme||ue.scheme||"").toLowerCase()];if(!Q.unicodeSupport&&(!_t||!_t.unicodeSupport)){if(ue.host&&(Q.domainHost||_t&&_t.domainHost))try{ue.host=xe.toASCII(ue.host.replace(ye.PCT_ENCODED,We).toLowerCase())}catch(It){ue.error=ue.error||"Host's domain name can not be converted to ASCII via punycode: "+It}Ce(ue,f)}else Ce(ue,ye);_t&&_t.parse&&_t.parse(ue,Q)}else ue.error=ue.error||"URI can not be parsed.";return ue}function wt(W,Q){var ue=Q.iri!==!1?h:f,ye=[];return W.userinfo!==void 0&&(ye.push(W.userinfo),ye.push("@")),W.host!==void 0&&ye.push(Ye(Ze(String(W.host),ue),ue).replace(ue.IPV6ADDRESS,function($e,_t,It){return"["+_t+(It?"%25"+It:"")+"]"})),(typeof W.port=="number"||typeof W.port=="string")&&(ye.push(":"),ye.push(String(W.port))),ye.length?ye.join(""):void 0}var tt=/^\.\.?\//,ce=/^\/\.(\/|$)/,bt=/^\/\.\.(\/|$)/,Bt=/^\/?(?:.|\n)*?(?=\/|$)/;function ut(W){for(var Q=[];W.length;)if(W.match(tt))W=W.replace(tt,"");else if(W.match(ce))W=W.replace(ce,"/");else if(W.match(bt))W=W.replace(bt,"/"),Q.pop();else if(W==="."||W==="..")W="";else{var ue=W.match(Bt);if(ue){var ye=ue[0];W=W.slice(ye.length),Q.push(ye)}else throw new Error("Unexpected dot segment condition")}return Q.join("")}function Kt(W){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=Q.iri?h:f,ye=[],$e=oe[(Q.scheme||W.scheme||"").toLowerCase()];if($e&&$e.serialize&&$e.serialize(W,Q),W.host&&!ue.IPV6ADDRESS.test(W.host)){if(Q.domainHost||$e&&$e.domainHost)try{W.host=Q.iri?xe.toUnicode(W.host):xe.toASCII(W.host.replace(ue.PCT_ENCODED,We).toLowerCase())}catch(an){W.error=W.error||"Host's domain name can not be converted to "+(Q.iri?"Unicode":"ASCII")+" via punycode: "+an}}Ce(W,ue),Q.reference!=="suffix"&&W.scheme&&(ye.push(W.scheme),ye.push(":"));var _t=wt(W,Q);if(_t!==void 0&&(Q.reference!=="suffix"&&ye.push("//"),ye.push(_t),W.path&&W.path.charAt(0)!=="/"&&ye.push("/")),W.path!==void 0){var It=W.path;!Q.absolutePath&&(!$e||!$e.absolutePath)&&(It=ut(It)),_t===void 0&&(It=It.replace(/^\/\//,"/%2F")),ye.push(It)}return W.query!==void 0&&(ye.push("?"),ye.push(W.query)),W.fragment!==void 0&&(ye.push("#"),ye.push(W.fragment)),ye.join("")}function bn(W,Q){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=arguments[3],$e={};return ye||(W=fe(Kt(W,ue),ue),Q=fe(Kt(Q,ue),ue)),ue=ue||{},!ue.tolerant&&Q.scheme?($e.scheme=Q.scheme,$e.userinfo=Q.userinfo,$e.host=Q.host,$e.port=Q.port,$e.path=ut(Q.path||""),$e.query=Q.query):(Q.userinfo!==void 0||Q.host!==void 0||Q.port!==void 0?($e.userinfo=Q.userinfo,$e.host=Q.host,$e.port=Q.port,$e.path=ut(Q.path||""),$e.query=Q.query):(Q.path?(Q.path.charAt(0)==="/"?$e.path=ut(Q.path):((W.userinfo!==void 0||W.host!==void 0||W.port!==void 0)&&!W.path?$e.path="/"+Q.path:W.path?$e.path=W.path.slice(0,W.path.lastIndexOf("/")+1)+Q.path:$e.path=Q.path,$e.path=ut($e.path)),$e.query=Q.query):($e.path=W.path,Q.query!==void 0?$e.query=Q.query:$e.query=W.query),$e.userinfo=W.userinfo,$e.host=W.host,$e.port=W.port),$e.scheme=W.scheme),$e.fragment=Q.fragment,$e}function it(W,Q,ue){var ye=l({scheme:"null"},ue);return Kt(bn(fe(W,ye),fe(Q,ye),ye,!0),ye)}function H(W,Q){return typeof W=="string"?W=Kt(fe(W,Q),Q):o(W)==="object"&&(W=fe(Kt(W,Q),Q)),W}function J(W,Q,ue){return typeof W=="string"?W=Kt(fe(W,ue),ue):o(W)==="object"&&(W=Kt(W,ue)),typeof Q=="string"?Q=Kt(fe(Q,ue),ue):o(Q)==="object"&&(Q=Kt(Q,ue)),W===Q}function ie(W,Q){return W&&W.toString().replace(!Q||!Q.iri?f.ESCAPE:h.ESCAPE,Be)}function me(W,Q){return W&&W.toString().replace(!Q||!Q.iri?f.PCT_ENCODED:h.PCT_ENCODED,We)}var _e={scheme:"http",domainHost:!0,parse:function(Q,ue){return Q.host||(Q.error=Q.error||"HTTP URIs must have a host."),Q},serialize:function(Q,ue){var ye=String(Q.scheme).toLowerCase()==="https";return(Q.port===(ye?443:80)||Q.port==="")&&(Q.port=void 0),Q.path||(Q.path="/"),Q}},Re={scheme:"https",domainHost:_e.domainHost,parse:_e.parse,serialize:_e.serialize};function st(W){return typeof W.secure=="boolean"?W.secure:String(W.scheme).toLowerCase()==="wss"}var Tt={scheme:"ws",domainHost:!0,parse:function(Q,ue){var ye=Q;return ye.secure=st(ye),ye.resourceName=(ye.path||"/")+(ye.query?"?"+ye.query:""),ye.path=void 0,ye.query=void 0,ye},serialize:function(Q,ue){if((Q.port===(st(Q)?443:80)||Q.port==="")&&(Q.port=void 0),typeof Q.secure=="boolean"&&(Q.scheme=Q.secure?"wss":"ws",Q.secure=void 0),Q.resourceName){var ye=Q.resourceName.split("?"),$e=p(ye,2),_t=$e[0],It=$e[1];Q.path=_t&&_t!=="/"?_t:void 0,Q.query=It,Q.resourceName=void 0}return Q.fragment=void 0,Q}},Lt={scheme:"wss",domainHost:Tt.domainHost,parse:Tt.parse,serialize:Tt.serialize},Ln={},Qt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",rt="[0-9A-Fa-f]",$n=r(r("%[EFef]"+rt+"%"+rt+rt+"%"+rt+rt)+"|"+r("%[89A-Fa-f]"+rt+"%"+rt+rt)+"|"+r("%"+rt+rt)),oi="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Mn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Qn=i(Mn,'[\\"\\\\]'),Zn="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ei=new RegExp(Qt,"g"),xn=new RegExp($n,"g"),je=new RegExp(i("[^]",oi,"[\\.]",'[\\"]',Qn),"g"),ot=new RegExp(i("[^]",Qt,Zn),"g"),Vt=ot;function en(W){var Q=We(W);return Q.match(ei)?Q:W}var tn={scheme:"mailto",parse:function(Q,ue){var ye=Q,$e=ye.to=ye.path?ye.path.split(","):[];if(ye.path=void 0,ye.query){for(var _t=!1,It={},an=ye.query.split("&"),gn=0,In=an.length;gn<In;++gn){var sn=an[gn].split("=");switch(sn[0]){case"to":for(var Pn=sn[1].split(","),qn=0,Y=Pn.length;qn<Y;++qn)$e.push(Pn[qn]);break;case"subject":ye.subject=me(sn[1],ue);break;case"body":ye.body=me(sn[1],ue);break;default:_t=!0,It[me(sn[0],ue)]=me(sn[1],ue);break}}_t&&(ye.headers=It)}ye.query=void 0;for(var Ee=0,Ue=$e.length;Ee<Ue;++Ee){var Ke=$e[Ee].split("@");if(Ke[0]=me(Ke[0]),ue.unicodeSupport)Ke[1]=me(Ke[1],ue).toLowerCase();else try{Ke[1]=xe.toASCII(me(Ke[1],ue).toLowerCase())}catch(ft){ye.error=ye.error||"Email address's domain name can not be converted to ASCII via punycode: "+ft}$e[Ee]=Ke.join("@")}return ye},serialize:function(Q,ue){var ye=Q,$e=a(Q.to);if($e){for(var _t=0,It=$e.length;_t<It;++_t){var an=String($e[_t]),gn=an.lastIndexOf("@"),In=an.slice(0,gn).replace(xn,en).replace(xn,s).replace(je,Be),sn=an.slice(gn+1);try{sn=ue.iri?xe.toUnicode(sn):xe.toASCII(me(sn,ue).toLowerCase())}catch(Ee){ye.error=ye.error||"Email address's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+Ee}$e[_t]=In+"@"+sn}ye.path=$e.join(",")}var Pn=Q.headers=Q.headers||{};Q.subject&&(Pn.subject=Q.subject),Q.body&&(Pn.body=Q.body);var qn=[];for(var Y in Pn)Pn[Y]!==Ln[Y]&&qn.push(Y.replace(xn,en).replace(xn,s).replace(ot,Be)+"="+Pn[Y].replace(xn,en).replace(xn,s).replace(Vt,Be));return qn.length&&(ye.query=qn.join("&")),ye}},rn=/^([^\:]+)\:(.*)/,we={scheme:"urn",parse:function(Q,ue){var ye=Q.path&&Q.path.match(rn),$e=Q;if(ye){var _t=ue.scheme||$e.scheme||"urn",It=ye[1].toLowerCase(),an=ye[2],gn=_t+":"+(ue.nid||It),In=oe[gn];$e.nid=It,$e.nss=an,$e.path=void 0,In&&($e=In.parse($e,ue))}else $e.error=$e.error||"URN can not be parsed.";return $e},serialize:function(Q,ue){var ye=ue.scheme||Q.scheme||"urn",$e=Q.nid,_t=ye+":"+(ue.nid||$e),It=oe[_t];It&&(Q=It.serialize(Q,ue));var an=Q,gn=Q.nss;return an.path=($e||ue.nid)+":"+gn,an}},pt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,nt={scheme:"urn:uuid",parse:function(Q,ue){var ye=Q;return ye.uuid=ye.nss,ye.nss=void 0,!ue.tolerant&&(!ye.uuid||!ye.uuid.match(pt))&&(ye.error=ye.error||"UUID is not valid."),ye},serialize:function(Q,ue){var ye=Q;return ye.nss=(Q.uuid||"").toLowerCase(),ye}};oe[_e.scheme]=_e,oe[Re.scheme]=Re,oe[Tt.scheme]=Tt,oe[Lt.scheme]=Lt,oe[tn.scheme]=tn,oe[we.scheme]=we,oe[nt.scheme]=nt,t.SCHEMES=oe,t.pctEncChar=Be,t.pctDecChars=We,t.parse=fe,t.removeDotSegments=ut,t.serialize=Kt,t.resolveComponents=bn,t.resolve=it,t.normalize=H,t.equal=J,t.escapeComponent=ie,t.unescapeComponent=me,Object.defineProperty(t,"__esModule",{value:!0})})})(Ng,Ng.exports);var tL=Ng.exports;Object.defineProperty(y0,"__esModule",{value:!0});const iO=tL;iO.code='require("ajv/dist/runtime/uri").default';y0.default=iO;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CodeGen=n.Name=n.nil=n.stringify=n.str=n._=n.KeywordCxt=void 0;var e=wv;Object.defineProperty(n,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var t=Ai;Object.defineProperty(n,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(n,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(n,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(n,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(n,"Name",{enumerable:!0,get:function(){return t.Name}}),Object.defineProperty(n,"CodeGen",{enumerable:!0,get:function(){return t.CodeGen}});const i=sj,r=kv,o=T8,s=_v,a=Ai,l=E8,c=aj,f=Zi,h=eL,p=y0,m=(P,A)=>new RegExp(P,A);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},x={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},k=200;function C(P){var A,M,Z,le,de,xe,oe,Be,We,Ce,be,Ze,Ye,et,qt,fe,wt,tt,ce,bt,Bt,ut,Kt,bn,it;const H=P.strict,J=(A=P.code)===null||A===void 0?void 0:A.optimize,ie=J===!0||J===void 0?1:J||0,me=(Z=(M=P.code)===null||M===void 0?void 0:M.regExp)!==null&&Z!==void 0?Z:m,_e=(le=P.uriResolver)!==null&&le!==void 0?le:p.default;return{strictSchema:(xe=(de=P.strictSchema)!==null&&de!==void 0?de:H)!==null&&xe!==void 0?xe:!0,strictNumbers:(Be=(oe=P.strictNumbers)!==null&&oe!==void 0?oe:H)!==null&&Be!==void 0?Be:!0,strictTypes:(Ce=(We=P.strictTypes)!==null&&We!==void 0?We:H)!==null&&Ce!==void 0?Ce:"log",strictTuples:(Ze=(be=P.strictTuples)!==null&&be!==void 0?be:H)!==null&&Ze!==void 0?Ze:"log",strictRequired:(et=(Ye=P.strictRequired)!==null&&Ye!==void 0?Ye:H)!==null&&et!==void 0?et:!1,code:P.code?{...P.code,optimize:ie,regExp:me}:{optimize:ie,regExp:me},loopRequired:(qt=P.loopRequired)!==null&&qt!==void 0?qt:k,loopEnum:(fe=P.loopEnum)!==null&&fe!==void 0?fe:k,meta:(wt=P.meta)!==null&&wt!==void 0?wt:!0,messages:(tt=P.messages)!==null&&tt!==void 0?tt:!0,inlineRefs:(ce=P.inlineRefs)!==null&&ce!==void 0?ce:!0,schemaId:(bt=P.schemaId)!==null&&bt!==void 0?bt:"$id",addUsedSchema:(Bt=P.addUsedSchema)!==null&&Bt!==void 0?Bt:!0,validateSchema:(ut=P.validateSchema)!==null&&ut!==void 0?ut:!0,validateFormats:(Kt=P.validateFormats)!==null&&Kt!==void 0?Kt:!0,unicodeRegExp:(bn=P.unicodeRegExp)!==null&&bn!==void 0?bn:!0,int32range:(it=P.int32range)!==null&&it!==void 0?it:!0,uriResolver:_e}}class S{constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,...C(A)};const{es5:M,lines:Z}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:v,es5:M,lines:Z}),this.logger=B(A.logger);const le=A.validateFormats;A.validateFormats=!1,this.RULES=(0,o.getRules)(),_.call(this,b,A,"NOT SUPPORTED"),_.call(this,x,A,"DEPRECATED","warn"),this._metaOpts=I.call(this),A.formats&&te.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&G.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),q.call(this),A.validateFormats=le}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:M,schemaId:Z}=this.opts;let le=h;Z==="id"&&(le={...h},le.id=le.$id,delete le.$id),M&&A&&this.addMetaSchema(le,le[Z],!1)}defaultMeta(){const{meta:A,schemaId:M}=this.opts;return this.opts.defaultMeta=typeof A=="object"?A[M]||A:void 0}validate(A,M){let Z;if(typeof A=="string"){if(Z=this.getSchema(A),!Z)throw new Error(`no schema with key or ref "${A}"`)}else Z=this.compile(A);const le=Z(M);return"$async"in Z||(this.errors=Z.errors),le}compile(A,M){const Z=this._addSchema(A,M);return Z.validate||this._compileSchemaEnv(Z)}compileAsync(A,M){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:Z}=this.opts;return le.call(this,A,M);async function le(Ce,be){await de.call(this,Ce.$schema);const Ze=this._addSchema(Ce,be);return Ze.validate||xe.call(this,Ze)}async function de(Ce){Ce&&!this.getSchema(Ce)&&await le.call(this,{$ref:Ce},!0)}async function xe(Ce){try{return this._compileSchemaEnv(Ce)}catch(be){if(!(be instanceof r.default))throw be;return oe.call(this,be),await Be.call(this,be.missingSchema),xe.call(this,Ce)}}function oe({missingSchema:Ce,missingRef:be}){if(this.refs[Ce])throw new Error(`AnySchema ${Ce} is loaded but ${be} cannot be resolved`)}async function Be(Ce){const be=await We.call(this,Ce);this.refs[Ce]||await de.call(this,be.$schema),this.refs[Ce]||this.addSchema(be,Ce,M)}async function We(Ce){const be=this._loading[Ce];if(be)return be;try{return await(this._loading[Ce]=Z(Ce))}finally{delete this._loading[Ce]}}}addSchema(A,M,Z,le=this.opts.validateSchema){if(Array.isArray(A)){for(const xe of A)this.addSchema(xe,void 0,Z,le);return this}let de;if(typeof A=="object"){const{schemaId:xe}=this.opts;if(de=A[xe],de!==void 0&&typeof de!="string")throw new Error(`schema ${xe} must be string`)}return M=(0,l.normalizeId)(M||de),this._checkUnique(M),this.schemas[M]=this._addSchema(A,Z,M,le,!0),this}addMetaSchema(A,M,Z=this.opts.validateSchema){return this.addSchema(A,M,!0,Z),this}validateSchema(A,M){if(typeof A=="boolean")return!0;let Z;if(Z=A.$schema,Z!==void 0&&typeof Z!="string")throw new Error("$schema must be a string");if(Z=Z||this.opts.defaultMeta||this.defaultMeta(),!Z)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const le=this.validate(Z,A);if(!le&&M){const de="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(de);else throw new Error(de)}return le}getSchema(A){let M;for(;typeof(M=E.call(this,A))=="string";)A=M;if(M===void 0){const{schemaId:Z}=this.opts,le=new s.SchemaEnv({schema:{},schemaId:Z});if(M=s.resolveSchema.call(this,le,A),!M)return;this.refs[A]=M}return M.validate||this._compileSchemaEnv(M)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const M=E.call(this,A);return typeof M=="object"&&this._cache.delete(M.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const M=A;this._cache.delete(M);let Z=A[this.opts.schemaId];return Z&&(Z=(0,l.normalizeId)(Z),delete this.schemas[Z],delete this.refs[Z]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(A){for(const M of A)this.addKeyword(M);return this}addKeyword(A,M){let Z;if(typeof A=="string")Z=A,typeof M=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),M.keyword=Z);else if(typeof A=="object"&&M===void 0){if(M=A,Z=M.keyword,Array.isArray(Z)&&!Z.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(F.call(this,Z,M),!M)return(0,f.eachItem)(Z,de=>ne.call(this,de)),this;R.call(this,M);const le={...M,type:(0,c.getJSONTypes)(M.type),schemaType:(0,c.getJSONTypes)(M.schemaType)};return(0,f.eachItem)(Z,le.type.length===0?de=>ne.call(this,de,le):de=>le.type.forEach(xe=>ne.call(this,de,le,xe))),this}getKeyword(A){const M=this.RULES.all[A];return typeof M=="object"?M.definition:!!M}removeKeyword(A){const{RULES:M}=this;delete M.keywords[A],delete M.all[A];for(const Z of M.rules){const le=Z.rules.findIndex(de=>de.keyword===A);le>=0&&Z.rules.splice(le,1)}return this}addFormat(A,M){return typeof M=="string"&&(M=new RegExp(M)),this.formats[A]=M,this}errorsText(A=this.errors,{separator:M=", ",dataVar:Z="data"}={}){return!A||A.length===0?"No errors":A.map(le=>`${Z}${le.instancePath} ${le.message}`).reduce((le,de)=>le+M+de)}$dataMetaSchema(A,M){const Z=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const le of M){const de=le.split("/").slice(1);let xe=A;for(const oe of de)xe=xe[oe];for(const oe in Z){const Be=Z[oe];if(typeof Be!="object")continue;const{$data:We}=Be.definition,Ce=xe[oe];We&&Ce&&(xe[oe]=N(Ce))}}return A}_removeAllSchemas(A,M){for(const Z in A){const le=A[Z];(!M||M.test(Z))&&(typeof le=="string"?delete A[Z]:le&&!le.meta&&(this._cache.delete(le.schema),delete A[Z]))}}_addSchema(A,M,Z,le=this.opts.validateSchema,de=this.opts.addUsedSchema){let xe;const{schemaId:oe}=this.opts;if(typeof A=="object")xe=A[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let Be=this._cache.get(A);if(Be!==void 0)return Be;Z=(0,l.normalizeId)(xe||Z);const We=l.getSchemaRefs.call(this,A,Z);return Be=new s.SchemaEnv({schema:A,schemaId:oe,meta:M,baseId:Z,localRefs:We}),this._cache.set(Be.schema,Be),de&&!Z.startsWith("#")&&(Z&&this._checkUnique(Z),this.refs[Z]=Be),le&&this.validateSchema(A,!0),Be}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):s.compileSchema.call(this,A),!A.validate)throw new Error("ajv implementation error");return A.validate}_compileMetaSchema(A){const M=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,A)}finally{this.opts=M}}}n.default=S,S.ValidationError=i.default,S.MissingRefError=r.default;function _(P,A,M,Z="error"){for(const le in P){const de=le;de in A&&this.logger[Z](`${M}: option ${le}. ${P[de]}`)}}function E(P){return P=(0,l.normalizeId)(P),this.schemas[P]||this.refs[P]}function q(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const A in P)this.addSchema(P[A],A)}function te(){for(const P in this.opts.formats){const A=this.opts.formats[P];A&&this.addFormat(P,A)}}function G(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in P){const M=P[A];M.keyword||(M.keyword=A),this.addKeyword(M)}}function I(){const P={...this.opts};for(const A of g)delete P[A];return P}const U={log(){},warn(){},error(){}};function B(P){if(P===!1)return U;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const ee=/^[a-z_$][a-z0-9_$:-]*$/i;function F(P,A){const{RULES:M}=this;if((0,f.eachItem)(P,Z=>{if(M.keywords[Z])throw new Error(`Keyword ${Z} is already defined`);if(!ee.test(Z))throw new Error(`Keyword ${Z} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function ne(P,A,M){var Z;const le=A==null?void 0:A.post;if(M&&le)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:de}=this;let xe=le?de.post:de.rules.find(({type:Be})=>Be===M);if(xe||(xe={type:M,rules:[]},de.rules.push(xe)),de.keywords[P]=!0,!A)return;const oe={keyword:P,definition:{...A,type:(0,c.getJSONTypes)(A.type),schemaType:(0,c.getJSONTypes)(A.schemaType)}};A.before?re.call(this,xe,oe,A.before):xe.rules.push(oe),de.all[P]=oe,(Z=A.implements)===null||Z===void 0||Z.forEach(Be=>this.addKeyword(Be))}function re(P,A,M){const Z=P.rules.findIndex(le=>le.keyword===M);Z>=0?P.rules.splice(Z,0,A):(P.rules.push(A),this.logger.warn(`rule ${M} is not defined`))}function R(P){let{metaSchema:A}=P;A!==void 0&&(P.$data&&this.opts.$data&&(A=N(A)),P.validateSchema=this.compile(A,!0))}const $={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function N(P){return{anyOf:[P,$]}}})(nO);var b0={},x0={},w0={};Object.defineProperty(w0,"__esModule",{value:!0});const nL={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};w0.default=nL;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.callRef=Ka.getValidate=void 0;const iL=kv,Dx=_a,Lr=Ai,_l=A8,zx=_v,rh=Zi,rL={keyword:"$ref",schemaType:"string",code(n){const{gen:e,schema:t,it:i}=n,{baseId:r,schemaEnv:o,validateName:s,opts:a,self:l}=i,{root:c}=o;if((t==="#"||t==="#/")&&r===c.baseId)return h();const f=zx.resolveRef.call(l,c,r,t);if(f===void 0)throw new iL.default(i.opts.uriResolver,r,t);if(f instanceof zx.SchemaEnv)return p(f);return m(f);function h(){if(o===c)return Ih(n,s,o,o.$async);const g=e.scopeValue("root",{ref:c});return Ih(n,(0,Lr._)`${g}.validate`,c,c.$async)}function p(g){const v=rO(n,g);Ih(n,v,g,g.$async)}function m(g){const v=e.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,Lr.stringify)(g)}:{ref:g}),b=e.name("valid"),x=n.subschema({schema:g,dataTypes:[],schemaPath:Lr.nil,topSchemaRef:v,errSchemaPath:t},b);n.mergeEvaluated(x),n.ok(b)}}};function rO(n,e){const{gen:t}=n;return e.validate?t.scopeValue("validate",{ref:e.validate}):(0,Lr._)`${t.scopeValue("wrapper",{ref:e})}.validate`}Ka.getValidate=rO;function Ih(n,e,t,i){const{gen:r,it:o}=n,{allErrors:s,schemaEnv:a,opts:l}=o,c=l.passContext?_l.default.this:Lr.nil;i?f():h();function f(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=r.let("valid");r.try(()=>{r.code((0,Lr._)`await ${(0,Dx.callValidateCode)(n,e,c)}`),m(e),s||r.assign(g,!0)},v=>{r.if((0,Lr._)`!(${v} instanceof ${o.ValidationError})`,()=>r.throw(v)),p(v),s||r.assign(g,!1)}),n.ok(g)}function h(){n.result((0,Dx.callValidateCode)(n,e,c),()=>m(e),()=>p(e))}function p(g){const v=(0,Lr._)`${g}.errors`;r.assign(_l.default.vErrors,(0,Lr._)`${_l.default.vErrors} === null ? ${v} : ${_l.default.vErrors}.concat(${v})`),r.assign(_l.default.errors,(0,Lr._)`${_l.default.vErrors}.length`)}function m(g){var v;if(!o.opts.unevaluated)return;const b=(v=t==null?void 0:t.validate)===null||v===void 0?void 0:v.evaluated;if(o.props!==!0)if(b&&!b.dynamicProps)b.props!==void 0&&(o.props=rh.mergeEvaluated.props(r,b.props,o.props));else{const x=r.var("props",(0,Lr._)`${g}.evaluated.props`);o.props=rh.mergeEvaluated.props(r,x,o.props,Lr.Name)}if(o.items!==!0)if(b&&!b.dynamicItems)b.items!==void 0&&(o.items=rh.mergeEvaluated.items(r,b.items,o.items));else{const x=r.var("items",(0,Lr._)`${g}.evaluated.items`);o.items=rh.mergeEvaluated.items(r,x,o.items,Lr.Name)}}}Ka.callRef=Ih;Ka.default=rL;Object.defineProperty(x0,"__esModule",{value:!0});const oL=w0,sL=Ka,aL=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",oL.default,sL.default];x0.default=aL;var k0={},_0={};Object.defineProperty(_0,"__esModule",{value:!0});const vd=Ai,Us=vd.operators,yd={maximum:{okStr:"<=",ok:Us.LTE,fail:Us.GT},minimum:{okStr:">=",ok:Us.GTE,fail:Us.LT},exclusiveMaximum:{okStr:"<",ok:Us.LT,fail:Us.GTE},exclusiveMinimum:{okStr:">",ok:Us.GT,fail:Us.LTE}},lL={message:({keyword:n,schemaCode:e})=>(0,vd.str)`must be ${yd[n].okStr} ${e}`,params:({keyword:n,schemaCode:e})=>(0,vd._)`{comparison: ${yd[n].okStr}, limit: ${e}}`},cL={keyword:Object.keys(yd),type:"number",schemaType:"number",$data:!0,error:lL,code(n){const{keyword:e,data:t,schemaCode:i}=n;n.fail$data((0,vd._)`${t} ${yd[e].fail} ${i} || isNaN(${t})`)}};_0.default=cL;var j0={};Object.defineProperty(j0,"__esModule",{value:!0});const lu=Ai,uL={message:({schemaCode:n})=>(0,lu.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,lu._)`{multipleOf: ${n}}`},fL={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:uL,code(n){const{gen:e,data:t,schemaCode:i,it:r}=n,o=r.opts.multipleOfPrecision,s=e.let("res"),a=o?(0,lu._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,lu._)`${s} !== parseInt(${s})`;n.fail$data((0,lu._)`(${i} === 0 || (${s} = ${t}/${i}, ${a}))`)}};j0.default=fL;var S0={},C0={};Object.defineProperty(C0,"__esModule",{value:!0});function oO(n){const e=n.length;let t=0,i=0,r;for(;i<e;)t++,r=n.charCodeAt(i++),r>=55296&&r<=56319&&i<e&&(r=n.charCodeAt(i),(r&64512)===56320&&i++);return t}C0.default=oO;oO.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(S0,"__esModule",{value:!0});const La=Ai,hL=Zi,dL=C0,pL={message({keyword:n,schemaCode:e}){const t=n==="maxLength"?"more":"fewer";return(0,La.str)`must NOT have ${t} than ${e} characters`},params:({schemaCode:n})=>(0,La._)`{limit: ${n}}`},mL={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pL,code(n){const{keyword:e,data:t,schemaCode:i,it:r}=n,o=e==="maxLength"?La.operators.GT:La.operators.LT,s=r.opts.unicode===!1?(0,La._)`${t}.length`:(0,La._)`${(0,hL.useFunc)(n.gen,dL.default)}(${t})`;n.fail$data((0,La._)`${s} ${o} ${i}`)}};S0.default=mL;var O0={};Object.defineProperty(O0,"__esModule",{value:!0});const gL=_a,bd=Ai,vL={message:({schemaCode:n})=>(0,bd.str)`must match pattern "${n}"`,params:({schemaCode:n})=>(0,bd._)`{pattern: ${n}}`},yL={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:vL,code(n){const{data:e,$data:t,schema:i,schemaCode:r,it:o}=n,s=o.opts.unicodeRegExp?"u":"",a=t?(0,bd._)`(new RegExp(${r}, ${s}))`:(0,gL.usePattern)(n,i);n.fail$data((0,bd._)`!${a}.test(${e})`)}};O0.default=yL;var $0={};Object.defineProperty($0,"__esModule",{value:!0});const cu=Ai,bL={message({keyword:n,schemaCode:e}){const t=n==="maxProperties"?"more":"fewer";return(0,cu.str)`must NOT have ${t} than ${e} properties`},params:({schemaCode:n})=>(0,cu._)`{limit: ${n}}`},xL={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:bL,code(n){const{keyword:e,data:t,schemaCode:i}=n,r=e==="maxProperties"?cu.operators.GT:cu.operators.LT;n.fail$data((0,cu._)`Object.keys(${t}).length ${r} ${i}`)}};$0.default=xL;var M0={};Object.defineProperty(M0,"__esModule",{value:!0});const Vc=_a,uu=Ai,wL=Zi,kL={message:({params:{missingProperty:n}})=>(0,uu.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,uu._)`{missingProperty: ${n}}`},_L={keyword:"required",type:"object",schemaType:"array",$data:!0,error:kL,code(n){const{gen:e,schema:t,schemaCode:i,data:r,$data:o,it:s}=n,{opts:a}=s;if(!o&&t.length===0)return;const l=t.length>=a.loopRequired;if(s.allErrors?c():f(),a.strictRequired){const m=n.parentSchema.properties,{definedProperties:g}=n.it;for(const v of t)if((m==null?void 0:m[v])===void 0&&!g.has(v)){const b=s.schemaEnv.baseId+s.errSchemaPath,x=`required property "${v}" is not defined at "${b}" (strictRequired)`;(0,wL.checkStrictMode)(s,x,s.opts.strictRequired)}}function c(){if(l||o)n.block$data(uu.nil,h);else for(const m of t)(0,Vc.checkReportMissingProp)(n,m)}function f(){const m=e.let("missing");if(l||o){const g=e.let("valid",!0);n.block$data(g,()=>p(m,g)),n.ok(g)}else e.if((0,Vc.checkMissingProp)(n,t,m)),(0,Vc.reportMissingProp)(n,m),e.else()}function h(){e.forOf("prop",i,m=>{n.setParams({missingProperty:m}),e.if((0,Vc.noPropertyInData)(e,r,m,a.ownProperties),()=>n.error())})}function p(m,g){n.setParams({missingProperty:m}),e.forOf(m,i,()=>{e.assign(g,(0,Vc.propertyInData)(e,r,m,a.ownProperties)),e.if((0,uu.not)(g),()=>{n.error(),e.break()})},uu.nil)}}};M0.default=_L;var P0={};Object.defineProperty(P0,"__esModule",{value:!0});const fu=Ai,jL={message({keyword:n,schemaCode:e}){const t=n==="maxItems"?"more":"fewer";return(0,fu.str)`must NOT have ${t} than ${e} items`},params:({schemaCode:n})=>(0,fu._)`{limit: ${n}}`},SL={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:jL,code(n){const{keyword:e,data:t,schemaCode:i}=n,r=e==="maxItems"?fu.operators.GT:fu.operators.LT;n.fail$data((0,fu._)`${t}.length ${r} ${i}`)}};P0.default=SL;var T0={};Object.defineProperty(T0,"__esModule",{value:!0});const hm=aj,ur=Ai,CL=Zi,OL=jv,$L={message:({params:{i:n,j:e}})=>(0,ur.str)`must NOT have duplicate items (items ## ${e} and ${n} are identical)`,params:({params:{i:n,j:e}})=>(0,ur._)`{i: ${n}, j: ${e}}`},ML={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:$L,code(n){const{gen:e,data:t,$data:i,schema:r,parentSchema:o,schemaCode:s,it:a}=n;if(!i&&!r)return;const l=e.let("valid"),c=o.items?(0,hm.getSchemaTypes)(o.items):[];n.block$data(l,f,(0,ur._)`${s} === false`),n.ok(l);function f(){const g=e.let("i",(0,ur._)`${t}.length`),v=e.let("j");n.setParams({i:g,j:v}),e.assign(l,!0),e.if((0,ur._)`${g} > 1`,()=>(h()?p:m)(g,v))}function h(){return c.length>0&&!c.some(g=>g==="object"||g==="array")}function p(g,v){const b=e.name("item"),x=(0,hm.checkDataTypes)(c,b,a.opts.strictNumbers,hm.DataType.Wrong),k=e.const("indices",(0,ur._)`{}`);e.for((0,ur._)`;${g}--;`,()=>{e.let(b,(0,ur._)`${t}[${g}]`),e.if(x,(0,ur._)`continue`),c.length>1&&e.if((0,ur._)`typeof ${b} == "string"`,(0,ur._)`${b} += "_"`),e.if((0,ur._)`typeof ${k}[${b}] == "number"`,()=>{e.assign(v,(0,ur._)`${k}[${b}]`),n.error(),e.assign(l,!1).break()}).code((0,ur._)`${k}[${b}] = ${g}`)})}function m(g,v){const b=(0,CL.useFunc)(e,OL.default),x=e.name("outer");e.label(x).for((0,ur._)`;${g}--;`,()=>e.for((0,ur._)`${v} = ${g}; ${v}--;`,()=>e.if((0,ur._)`${b}(${t}[${g}], ${t}[${v}])`,()=>{n.error(),e.assign(l,!1).break(x)})))}}};T0.default=ML;var E0={};Object.defineProperty(E0,"__esModule",{value:!0});const Bg=Ai,PL=Zi,TL=jv,EL={message:"must be equal to constant",params:({schemaCode:n})=>(0,Bg._)`{allowedValue: ${n}}`},AL={keyword:"const",$data:!0,error:EL,code(n){const{gen:e,data:t,$data:i,schemaCode:r,schema:o}=n;i||o&&typeof o=="object"?n.fail$data((0,Bg._)`!${(0,PL.useFunc)(e,TL.default)}(${t}, ${r})`):n.fail((0,Bg._)`${o} !== ${t}`)}};E0.default=AL;var A0={};Object.defineProperty(A0,"__esModule",{value:!0});const tu=Ai,RL=Zi,LL=jv,IL={message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,tu._)`{allowedValues: ${n}}`},NL={keyword:"enum",schemaType:"array",$data:!0,error:IL,code(n){const{gen:e,data:t,$data:i,schema:r,schemaCode:o,it:s}=n;if(!i&&r.length===0)throw new Error("enum must have non-empty array");const a=r.length>=s.opts.loopEnum;let l;const c=()=>l??(l=(0,RL.useFunc)(e,LL.default));let f;if(a||i)f=e.let("valid"),n.block$data(f,h);else{if(!Array.isArray(r))throw new Error("ajv implementation error");const m=e.const("vSchema",o);f=(0,tu.or)(...r.map((g,v)=>p(m,v)))}n.pass(f);function h(){e.assign(f,!1),e.forOf("v",o,m=>e.if((0,tu._)`${c()}(${t}, ${m})`,()=>e.assign(f,!0).break()))}function p(m,g){const v=r[g];return typeof v=="object"&&v!==null?(0,tu._)`${c()}(${t}, ${m}[${g}])`:(0,tu._)`${t} === ${v}`}}};A0.default=NL;Object.defineProperty(k0,"__esModule",{value:!0});const BL=_0,DL=j0,zL=S0,qL=O0,FL=$0,HL=M0,VL=P0,WL=T0,UL=E0,QL=A0,ZL=[BL.default,DL.default,zL.default,qL.default,FL.default,HL.default,VL.default,WL.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},UL.default,QL.default];k0.default=ZL;var R0={},L0={};Object.defineProperty(L0,"__esModule",{value:!0});const JL=lj,GL={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,JL.validateTuple)(n,"items")};L0.default=GL;var I0={};Object.defineProperty(I0,"__esModule",{value:!0});const qx=Ai,KL=Zi,XL=_a,YL=cj,eI={message:({params:{len:n}})=>(0,qx.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,qx._)`{limit: ${n}}`},tI={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:eI,code(n){const{schema:e,parentSchema:t,it:i}=n,{prefixItems:r}=t;i.items=!0,!(0,KL.alwaysValidSchema)(i,e)&&(r?(0,YL.validateAdditionalItems)(n,r):n.ok((0,XL.validateArray)(n)))}};I0.default=tI;var N0={};Object.defineProperty(N0,"__esModule",{value:!0});const io=Ai,oh=Zi,nI={message:({params:{min:n,max:e}})=>e===void 0?(0,io.str)`must contain at least ${n} valid item(s)`:(0,io.str)`must contain at least ${n} and no more than ${e} valid item(s)`,params:({params:{min:n,max:e}})=>e===void 0?(0,io._)`{minContains: ${n}}`:(0,io._)`{minContains: ${n}, maxContains: ${e}}`},iI={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:nI,code(n){const{gen:e,schema:t,parentSchema:i,data:r,it:o}=n;let s,a;const{minContains:l,maxContains:c}=i;o.opts.next?(s=l===void 0?1:l,a=c):s=1;const f=e.const("len",(0,io._)`${r}.length`);if(n.setParams({min:s,max:a}),a===void 0&&s===0){(0,oh.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,oh.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),n.fail();return}if((0,oh.alwaysValidSchema)(o,t)){let v=(0,io._)`${f} >= ${s}`;a!==void 0&&(v=(0,io._)`${v} && ${f} <= ${a}`),n.pass(v);return}o.items=!0;const h=e.name("valid");a===void 0&&s===1?m(h,()=>e.if(h,()=>e.break())):s===0?(e.let(h,!0),a!==void 0&&e.if((0,io._)`${r}.length > 0`,p)):(e.let(h,!1),p()),n.result(h,()=>n.reset());function p(){const v=e.name("_valid"),b=e.let("count",0);m(v,()=>e.if(v,()=>g(b)))}function m(v,b){e.forRange("i",0,f,x=>{n.subschema({keyword:"contains",dataProp:x,dataPropType:oh.Type.Num,compositeRule:!0},v),b()})}function g(v){e.code((0,io._)`${v}++`),a===void 0?e.if((0,io._)`${v} >= ${s}`,()=>e.assign(h,!0).break()):(e.if((0,io._)`${v} > ${a}`,()=>e.assign(h,!1).break()),s===1?e.assign(h,!0):e.if((0,io._)`${v} >= ${s}`,()=>e.assign(h,!0)))}}};N0.default=iI;var sO={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.validateSchemaDeps=n.validatePropertyDeps=n.error=void 0;const e=Ai,t=Zi,i=_a;n.error={message:({params:{property:l,depsCount:c,deps:f}})=>{const h=c===1?"property":"properties";return(0,e.str)`must have ${h} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:f,missingProperty:h}})=>(0,e._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${f}}`};const r={keyword:"dependencies",type:"object",schemaType:"object",error:n.error,code(l){const[c,f]=o(l);s(l,c),a(l,f)}};function o({schema:l}){const c={},f={};for(const h in l){if(h==="__proto__")continue;const p=Array.isArray(l[h])?c:f;p[h]=l[h]}return[c,f]}function s(l,c=l.schema){const{gen:f,data:h,it:p}=l;if(Object.keys(c).length===0)return;const m=f.let("missing");for(const g in c){const v=c[g];if(v.length===0)continue;const b=(0,i.propertyInData)(f,h,g,p.opts.ownProperties);l.setParams({property:g,depsCount:v.length,deps:v.join(", ")}),p.allErrors?f.if(b,()=>{for(const x of v)(0,i.checkReportMissingProp)(l,x)}):(f.if((0,e._)`${b} && (${(0,i.checkMissingProp)(l,v,m)})`),(0,i.reportMissingProp)(l,m),f.else())}}n.validatePropertyDeps=s;function a(l,c=l.schema){const{gen:f,data:h,keyword:p,it:m}=l,g=f.name("valid");for(const v in c)(0,t.alwaysValidSchema)(m,c[v])||(f.if((0,i.propertyInData)(f,h,v,m.opts.ownProperties),()=>{const b=l.subschema({keyword:p,schemaProp:v},g);l.mergeValidEvaluated(b,g)},()=>f.var(g,!0)),l.ok(g))}n.validateSchemaDeps=a,n.default=r})(sO);var B0={};Object.defineProperty(B0,"__esModule",{value:!0});const aO=Ai,rI=Zi,oI={message:"property name must be valid",params:({params:n})=>(0,aO._)`{propertyName: ${n.propertyName}}`},sI={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:oI,code(n){const{gen:e,schema:t,data:i,it:r}=n;if((0,rI.alwaysValidSchema)(r,t))return;const o=e.name("valid");e.forIn("key",i,s=>{n.setParams({propertyName:s}),n.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),e.if((0,aO.not)(o),()=>{n.error(!0),r.allErrors||e.break()})}),n.ok(o)}};B0.default=sI;var D0={};Object.defineProperty(D0,"__esModule",{value:!0});const aI=wv,Fx=_a,dm=Zi,Hx=uj,lI={keyword:"properties",type:"object",schemaType:"object",code(n){const{gen:e,schema:t,parentSchema:i,data:r,it:o}=n;o.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&Hx.default.code(new aI.KeywordCxt(o,Hx.default,"additionalProperties"));const s=(0,Fx.allSchemaProperties)(t);for(const h of s)o.definedProperties.add(h);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=dm.mergeEvaluated.props(e,(0,dm.toHash)(s),o.props));const a=s.filter(h=>!(0,dm.alwaysValidSchema)(o,t[h]));if(a.length===0)return;const l=e.name("valid");for(const h of a)c(h)?f(h):(e.if((0,Fx.propertyInData)(e,r,h,o.opts.ownProperties)),f(h),o.allErrors||e.else().var(l,!0),e.endIf()),n.it.definedProperties.add(h),n.ok(l);function c(h){return o.opts.useDefaults&&!o.compositeRule&&t[h].default!==void 0}function f(h){n.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};D0.default=lI;var z0={};Object.defineProperty(z0,"__esModule",{value:!0});const Vx=_a,sh=Ai,Wx=Zi,Ux=Zi,cI={keyword:"patternProperties",type:"object",schemaType:"object",code(n){const{gen:e,schema:t,data:i,parentSchema:r,it:o}=n,{opts:s}=o,a=(0,Vx.allSchemaProperties)(t),l=a.filter(v=>(0,Wx.alwaysValidSchema)(o,t[v]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const c=s.strictSchema&&!s.allowMatchingProperties&&r.properties,f=e.name("valid");o.props!==!0&&!(o.props instanceof sh.Name)&&(o.props=(0,Ux.evaluatedPropsToName)(e,o.props));const{props:h}=o;p();function p(){for(const v of a)c&&m(v),o.allErrors?g(v):(e.var(f,!0),g(v),e.if(f))}function m(v){for(const b in c)new RegExp(v).test(b)&&(0,Wx.checkStrictMode)(o,`property ${b} matches pattern ${v} (use allowMatchingProperties)`)}function g(v){e.forIn("key",i,b=>{e.if((0,sh._)`${(0,Vx.usePattern)(n,v)}.test(${b})`,()=>{const x=l.includes(v);x||n.subschema({keyword:"patternProperties",schemaProp:v,dataProp:b,dataPropType:Ux.Type.Str},f),o.opts.unevaluated&&h!==!0?e.assign((0,sh._)`${h}[${b}]`,!0):!x&&!o.allErrors&&e.if((0,sh.not)(f),()=>e.break())})})}}};z0.default=cI;var q0={};Object.defineProperty(q0,"__esModule",{value:!0});const uI=Zi,fI={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:e,schema:t,it:i}=n;if((0,uI.alwaysValidSchema)(i,t)){n.fail();return}const r=e.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},r),n.failResult(r,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};q0.default=fI;var F0={};Object.defineProperty(F0,"__esModule",{value:!0});const hI=_a,dI={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:hI.validateUnion,error:{message:"must match a schema in anyOf"}};F0.default=dI;var H0={};Object.defineProperty(H0,"__esModule",{value:!0});const Nh=Ai,pI=Zi,mI={message:"must match exactly one schema in oneOf",params:({params:n})=>(0,Nh._)`{passingSchemas: ${n.passing}}`},gI={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:mI,code(n){const{gen:e,schema:t,parentSchema:i,it:r}=n;if(!Array.isArray(t))throw new Error("ajv implementation error");if(r.opts.discriminator&&i.discriminator)return;const o=t,s=e.let("valid",!1),a=e.let("passing",null),l=e.name("_valid");n.setParams({passing:a}),e.block(c),n.result(s,()=>n.reset(),()=>n.error(!0));function c(){o.forEach((f,h)=>{let p;(0,pI.alwaysValidSchema)(r,f)?e.var(l,!0):p=n.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&e.if((0,Nh._)`${l} && ${s}`).assign(s,!1).assign(a,(0,Nh._)`[${a}, ${h}]`).else(),e.if(l,()=>{e.assign(s,!0),e.assign(a,h),p&&n.mergeEvaluated(p,Nh.Name)})})}}};H0.default=gI;var V0={};Object.defineProperty(V0,"__esModule",{value:!0});const vI=Zi,yI={keyword:"allOf",schemaType:"array",code(n){const{gen:e,schema:t,it:i}=n;if(!Array.isArray(t))throw new Error("ajv implementation error");const r=e.name("valid");t.forEach((o,s)=>{if((0,vI.alwaysValidSchema)(i,o))return;const a=n.subschema({keyword:"allOf",schemaProp:s},r);n.ok(r),n.mergeEvaluated(a)})}};V0.default=yI;var W0={};Object.defineProperty(W0,"__esModule",{value:!0});const xd=Ai,lO=Zi,bI={message:({params:n})=>(0,xd.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,xd._)`{failingKeyword: ${n.ifClause}}`},xI={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:bI,code(n){const{gen:e,parentSchema:t,it:i}=n;t.then===void 0&&t.else===void 0&&(0,lO.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const r=Qx(i,"then"),o=Qx(i,"else");if(!r&&!o)return;const s=e.let("valid",!0),a=e.name("_valid");if(l(),n.reset(),r&&o){const f=e.let("ifClause");n.setParams({ifClause:f}),e.if(a,c("then",f),c("else",f))}else r?e.if(a,c("then")):e.if((0,xd.not)(a),c("else"));n.pass(s,()=>n.error(!0));function l(){const f=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);n.mergeEvaluated(f)}function c(f,h){return()=>{const p=n.subschema({keyword:f},a);e.assign(s,a),n.mergeValidEvaluated(p,s),h?e.assign(h,(0,xd._)`${f}`):n.setParams({ifClause:f})}}}};function Qx(n,e){const t=n.schema[e];return t!==void 0&&!(0,lO.alwaysValidSchema)(n,t)}W0.default=xI;var U0={};Object.defineProperty(U0,"__esModule",{value:!0});const wI=Zi,kI={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:e,it:t}){e.if===void 0&&(0,wI.checkStrictMode)(t,`"${n}" without "if" is ignored`)}};U0.default=kI;Object.defineProperty(R0,"__esModule",{value:!0});const _I=cj,jI=L0,SI=lj,CI=I0,OI=N0,$I=sO,MI=B0,PI=uj,TI=D0,EI=z0,AI=q0,RI=F0,LI=H0,II=V0,NI=W0,BI=U0;function DI(n=!1){const e=[AI.default,RI.default,LI.default,II.default,NI.default,BI.default,MI.default,PI.default,$I.default,TI.default,EI.default];return n?e.push(jI.default,CI.default):e.push(_I.default,SI.default),e.push(OI.default),e}R0.default=DI;var Q0={},Z0={};Object.defineProperty(Z0,"__esModule",{value:!0});const Ni=Ai,zI={message:({schemaCode:n})=>(0,Ni.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,Ni._)`{format: ${n}}`},qI={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:zI,code(n,e){const{gen:t,data:i,$data:r,schema:o,schemaCode:s,it:a}=n,{opts:l,errSchemaPath:c,schemaEnv:f,self:h}=a;if(!l.validateFormats)return;r?p():m();function p(){const g=t.scopeValue("formats",{ref:h.formats,code:l.code.formats}),v=t.const("fDef",(0,Ni._)`${g}[${s}]`),b=t.let("fType"),x=t.let("format");t.if((0,Ni._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>t.assign(b,(0,Ni._)`${v}.type || "string"`).assign(x,(0,Ni._)`${v}.validate`),()=>t.assign(b,(0,Ni._)`"string"`).assign(x,v)),n.fail$data((0,Ni.or)(k(),C()));function k(){return l.strictSchema===!1?Ni.nil:(0,Ni._)`${s} && !${x}`}function C(){const S=f.$async?(0,Ni._)`(${v}.async ? await ${x}(${i}) : ${x}(${i}))`:(0,Ni._)`${x}(${i})`,_=(0,Ni._)`(typeof ${x} == "function" ? ${S} : ${x}.test(${i}))`;return(0,Ni._)`${x} && ${x} !== true && ${b} === ${e} && !${_}`}}function m(){const g=h.formats[o];if(!g){k();return}if(g===!0)return;const[v,b,x]=C(g);v===e&&n.pass(S());function k(){if(l.strictSchema===!1){h.logger.warn(_());return}throw new Error(_());function _(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function C(_){const E=_ instanceof RegExp?(0,Ni.regexpCode)(_):l.code.formats?(0,Ni._)`${l.code.formats}${(0,Ni.getProperty)(o)}`:void 0,q=t.scopeValue("formats",{key:o,ref:_,code:E});return typeof _=="object"&&!(_ instanceof RegExp)?[_.type||"string",_.validate,(0,Ni._)`${q}.validate`]:["string",_,q]}function S(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Ni._)`await ${x}(${i})`}return typeof b=="function"?(0,Ni._)`${x}(${i})`:(0,Ni._)`${x}.test(${i})`}}}};Z0.default=qI;Object.defineProperty(Q0,"__esModule",{value:!0});const FI=Z0,HI=[FI.default];Q0.default=HI;var fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.contentVocabulary=fc.metadataVocabulary=void 0;fc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];fc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(b0,"__esModule",{value:!0});const VI=x0,WI=k0,UI=R0,QI=Q0,Zx=fc,ZI=[VI.default,WI.default,(0,UI.default)(),QI.default,Zx.metadataVocabulary,Zx.contentVocabulary];b0.default=ZI;var J0={},cO={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(n.DiscrError||(n.DiscrError={}))})(cO);Object.defineProperty(J0,"__esModule",{value:!0});const Pl=Ai,Dg=cO,Jx=_v,JI=Zi,GI={message:({params:{discrError:n,tagName:e}})=>n===Dg.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:n,tag:e,tagName:t}})=>(0,Pl._)`{error: ${n}, tag: ${t}, tagValue: ${e}}`},KI={keyword:"discriminator",type:"object",schemaType:"object",error:GI,code(n){const{gen:e,data:t,schema:i,parentSchema:r,it:o}=n,{oneOf:s}=r;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=i.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,Pl._)`${t}${(0,Pl.getProperty)(a)}`);e.if((0,Pl._)`typeof ${c} == "string"`,()=>f(),()=>n.error(!1,{discrError:Dg.DiscrError.Tag,tag:c,tagName:a})),n.ok(l);function f(){const m=p();e.if(!1);for(const g in m)e.elseIf((0,Pl._)`${c} === ${g}`),e.assign(l,h(m[g]));e.else(),n.error(!1,{discrError:Dg.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function h(m){const g=e.name("valid"),v=n.subschema({keyword:"oneOf",schemaProp:m},g);return n.mergeEvaluated(v,Pl.Name),g}function p(){var m;const g={},v=x(r);let b=!0;for(let S=0;S<s.length;S++){let _=s[S];_!=null&&_.$ref&&!(0,JI.schemaHasRulesButRef)(_,o.self.RULES)&&(_=Jx.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,_==null?void 0:_.$ref),_ instanceof Jx.SchemaEnv&&(_=_.schema));const E=(m=_==null?void 0:_.properties)===null||m===void 0?void 0:m[a];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);b=b&&(v||x(_)),k(E,S)}if(!b)throw new Error(`discriminator: "${a}" must be required`);return g;function x({required:S}){return Array.isArray(S)&&S.includes(a)}function k(S,_){if(S.const)C(S.const,_);else if(S.enum)for(const E of S.enum)C(E,_);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function C(S,_){if(typeof S!="string"||S in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[S]=_}}}};J0.default=KI;const XI="http://json-schema.org/draft-07/schema#",YI="http://json-schema.org/draft-07/schema#",eN="Core schema meta-schema",tN={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},nN=["object","boolean"],iN={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},rN={$schema:XI,$id:YI,title:eN,definitions:tN,type:nN,properties:iN,default:!0};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const t=nO,i=b0,r=J0,o=rN,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends t.default{_addVocabularies(){super._addVocabularies(),i.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(r.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}n.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=wv;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var f=Ai;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var h=sj;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return h.default}});var p=kv;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})})(Bx,Bx.exports);var oN={};(function(n){(function(e){function t(H){return H!==null?Object.prototype.toString.call(H)==="[object Array]":!1}function i(H){return H!==null?Object.prototype.toString.call(H)==="[object Object]":!1}function r(H,J){if(H===J)return!0;var ie=Object.prototype.toString.call(H);if(ie!==Object.prototype.toString.call(J))return!1;if(t(H)===!0){if(H.length!==J.length)return!1;for(var me=0;me<H.length;me++)if(r(H[me],J[me])===!1)return!1;return!0}if(i(H)===!0){var _e={};for(var Re in H)if(hasOwnProperty.call(H,Re)){if(r(H[Re],J[Re])===!1)return!1;_e[Re]=!0}for(var st in J)if(hasOwnProperty.call(J,st)&&_e[st]!==!0)return!1;return!0}return!1}function o(H){if(H===""||H===!1||H===null)return!0;if(t(H)&&H.length===0)return!0;if(i(H)){for(var J in H)if(H.hasOwnProperty(J))return!1;return!0}else return!1}function s(H){for(var J=Object.keys(H),ie=[],me=0;me<J.length;me++)ie.push(H[J[me]]);return ie}var a;typeof String.prototype.trimLeft=="function"?a=function(H){return H.trimLeft()}:a=function(H){return H.match(/^\s*(.*)/)[1]};var l=0,c=1,f=2,h=3,p=4,m=5,g=6,v=7,b=8,x=9,k={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},C="EOF",S="UnquotedIdentifier",_="QuotedIdentifier",E="Rbracket",q="Rparen",te="Comma",G="Colon",I="Rbrace",U="Number",B="Current",ee="Expref",F="Pipe",ne="Or",re="And",R="EQ",$="GT",N="LT",P="GTE",A="LTE",M="NE",Z="Flatten",le="Star",de="Filter",xe="Dot",oe="Not",Be="Lbrace",We="Lbracket",Ce="Lparen",be="Literal",Ze={".":xe,"*":le,",":te,":":G,"{":Be,"}":I,"]":E,"(":Ce,")":q,"@":B},Ye={"<":!0,">":!0,"=":!0,"!":!0},et={" ":!0,"	":!0,"\n":!0};function qt(H){return H>="a"&&H<="z"||H>="A"&&H<="Z"||H==="_"}function fe(H){return H>="0"&&H<="9"||H==="-"}function wt(H){return H>="a"&&H<="z"||H>="A"&&H<="Z"||H>="0"&&H<="9"||H==="_"}function tt(){}tt.prototype={tokenize:function(H){var J=[];this._current=0;for(var ie,me,_e;this._current<H.length;)if(qt(H[this._current]))ie=this._current,me=this._consumeUnquotedIdentifier(H),J.push({type:S,value:me,start:ie});else if(Ze[H[this._current]]!==void 0)J.push({type:Ze[H[this._current]],value:H[this._current],start:this._current}),this._current++;else if(fe(H[this._current]))_e=this._consumeNumber(H),J.push(_e);else if(H[this._current]==="[")_e=this._consumeLBracket(H),J.push(_e);else if(H[this._current]==='"')ie=this._current,me=this._consumeQuotedIdentifier(H),J.push({type:_,value:me,start:ie});else if(H[this._current]==="'")ie=this._current,me=this._consumeRawStringLiteral(H),J.push({type:be,value:me,start:ie});else if(H[this._current]==="`"){ie=this._current;var Re=this._consumeLiteral(H);J.push({type:be,value:Re,start:ie})}else if(Ye[H[this._current]]!==void 0)J.push(this._consumeOperator(H));else if(et[H[this._current]]!==void 0)this._current++;else if(H[this._current]==="&")ie=this._current,this._current++,H[this._current]==="&"?(this._current++,J.push({type:re,value:"&&",start:ie})):J.push({type:ee,value:"&",start:ie});else if(H[this._current]==="|")ie=this._current,this._current++,H[this._current]==="|"?(this._current++,J.push({type:ne,value:"||",start:ie})):J.push({type:F,value:"|",start:ie});else{var st=new Error("Unknown character:"+H[this._current]);throw st.name="LexerError",st}return J},_consumeUnquotedIdentifier:function(H){var J=this._current;for(this._current++;this._current<H.length&&wt(H[this._current]);)this._current++;return H.slice(J,this._current)},_consumeQuotedIdentifier:function(H){var J=this._current;this._current++;for(var ie=H.length;H[this._current]!=='"'&&this._current<ie;){var me=this._current;H[me]==="\\"&&(H[me+1]==="\\"||H[me+1]==='"')?me+=2:me++,this._current=me}return this._current++,JSON.parse(H.slice(J,this._current))},_consumeRawStringLiteral:function(H){var J=this._current;this._current++;for(var ie=H.length;H[this._current]!=="'"&&this._current<ie;){var me=this._current;H[me]==="\\"&&(H[me+1]==="\\"||H[me+1]==="'")?me+=2:me++,this._current=me}this._current++;var _e=H.slice(J+1,this._current-1);return _e.replace("\\'","'")},_consumeNumber:function(H){var J=this._current;this._current++;for(var ie=H.length;fe(H[this._current])&&this._current<ie;)this._current++;var me=parseInt(H.slice(J,this._current));return{type:U,value:me,start:J}},_consumeLBracket:function(H){var J=this._current;return this._current++,H[this._current]==="?"?(this._current++,{type:de,value:"[?",start:J}):H[this._current]==="]"?(this._current++,{type:Z,value:"[]",start:J}):{type:We,value:"[",start:J}},_consumeOperator:function(H){var J=this._current,ie=H[J];if(this._current++,ie==="!")return H[this._current]==="="?(this._current++,{type:M,value:"!=",start:J}):{type:oe,value:"!",start:J};if(ie==="<")return H[this._current]==="="?(this._current++,{type:A,value:"<=",start:J}):{type:N,value:"<",start:J};if(ie===">")return H[this._current]==="="?(this._current++,{type:P,value:">=",start:J}):{type:$,value:">",start:J};if(ie==="="&&H[this._current]==="=")return this._current++,{type:R,value:"==",start:J}},_consumeLiteral:function(H){this._current++;for(var J=this._current,ie=H.length,me;H[this._current]!=="`"&&this._current<ie;){var _e=this._current;H[_e]==="\\"&&(H[_e+1]==="\\"||H[_e+1]==="`")?_e+=2:_e++,this._current=_e}var Re=a(H.slice(J,this._current));return Re=Re.replace("\\`","`"),this._looksLikeJSON(Re)?me=JSON.parse(Re):me=JSON.parse('"'+Re+'"'),this._current++,me},_looksLikeJSON:function(H){var J='[{"',ie=["true","false","null"],me="-0123456789";if(H==="")return!1;if(J.indexOf(H[0])>=0)return!0;if(ie.indexOf(H)>=0)return!0;if(me.indexOf(H[0])>=0)try{return JSON.parse(H),!0}catch{return!1}else return!1}};var ce={};ce[C]=0,ce[S]=0,ce[_]=0,ce[E]=0,ce[q]=0,ce[te]=0,ce[I]=0,ce[U]=0,ce[B]=0,ce[ee]=0,ce[F]=1,ce[ne]=2,ce[re]=3,ce[R]=5,ce[$]=5,ce[N]=5,ce[P]=5,ce[A]=5,ce[M]=5,ce[Z]=9,ce[le]=20,ce[de]=21,ce[xe]=40,ce[oe]=45,ce[Be]=50,ce[We]=55,ce[Ce]=60;function bt(){}bt.prototype={parse:function(H){this._loadTokens(H),this.index=0;var J=this.expression(0);if(this._lookahead(0)!==C){var ie=this._lookaheadToken(0),me=new Error("Unexpected token type: "+ie.type+", value: "+ie.value);throw me.name="ParserError",me}return J},_loadTokens:function(H){var J=new tt,ie=J.tokenize(H);ie.push({type:C,value:"",start:H.length}),this.tokens=ie},expression:function(H){var J=this._lookaheadToken(0);this._advance();for(var ie=this.nud(J),me=this._lookahead(0);H<ce[me];)this._advance(),ie=this.led(me,ie),me=this._lookahead(0);return ie},_lookahead:function(H){return this.tokens[this.index+H].type},_lookaheadToken:function(H){return this.tokens[this.index+H]},_advance:function(){this.index++},nud:function(H){var J,ie,me;switch(H.type){case be:return{type:"Literal",value:H.value};case S:return{type:"Field",name:H.value};case _:var _e={type:"Field",name:H.value};if(this._lookahead(0)===Ce)throw new Error("Quoted identifier not allowed for function names.");return _e;case oe:return ie=this.expression(ce.Not),{type:"NotExpression",children:[ie]};case le:return J={type:"Identity"},ie=null,this._lookahead(0)===E?ie={type:"Identity"}:ie=this._parseProjectionRHS(ce.Star),{type:"ValueProjection",children:[J,ie]};case de:return this.led(H.type,{type:"Identity"});case Be:return this._parseMultiselectHash();case Z:return J={type:Z,children:[{type:"Identity"}]},ie=this._parseProjectionRHS(ce.Flatten),{type:"Projection",children:[J,ie]};case We:return this._lookahead(0)===U||this._lookahead(0)===G?(ie=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},ie)):this._lookahead(0)===le&&this._lookahead(1)===E?(this._advance(),this._advance(),ie=this._parseProjectionRHS(ce.Star),{type:"Projection",children:[{type:"Identity"},ie]}):this._parseMultiselectList();case B:return{type:B};case ee:return me=this.expression(ce.Expref),{type:"ExpressionReference",children:[me]};case Ce:for(var Re=[];this._lookahead(0)!==q;)this._lookahead(0)===B?(me={type:B},this._advance()):me=this.expression(0),Re.push(me);return this._match(q),Re[0];default:this._errorToken(H)}},led:function(H,J){var ie;switch(H){case xe:var me=ce.Dot;return this._lookahead(0)!==le?(ie=this._parseDotRHS(me),{type:"Subexpression",children:[J,ie]}):(this._advance(),ie=this._parseProjectionRHS(me),{type:"ValueProjection",children:[J,ie]});case F:return ie=this.expression(ce.Pipe),{type:F,children:[J,ie]};case ne:return ie=this.expression(ce.Or),{type:"OrExpression",children:[J,ie]};case re:return ie=this.expression(ce.And),{type:"AndExpression",children:[J,ie]};case Ce:for(var _e=J.name,Re=[],st,Tt;this._lookahead(0)!==q;)this._lookahead(0)===B?(st={type:B},this._advance()):st=this.expression(0),this._lookahead(0)===te&&this._match(te),Re.push(st);return this._match(q),Tt={type:"Function",name:_e,children:Re},Tt;case de:var Lt=this.expression(0);return this._match(E),this._lookahead(0)===Z?ie={type:"Identity"}:ie=this._parseProjectionRHS(ce.Filter),{type:"FilterProjection",children:[J,ie,Lt]};case Z:var Ln={type:Z,children:[J]},Qt=this._parseProjectionRHS(ce.Flatten);return{type:"Projection",children:[Ln,Qt]};case R:case M:case $:case P:case N:case A:return this._parseComparator(J,H);case We:var rt=this._lookaheadToken(0);return rt.type===U||rt.type===G?(ie=this._parseIndexExpression(),this._projectIfSlice(J,ie)):(this._match(le),this._match(E),ie=this._parseProjectionRHS(ce.Star),{type:"Projection",children:[J,ie]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(H){if(this._lookahead(0)===H)this._advance();else{var J=this._lookaheadToken(0),ie=new Error("Expected "+H+", got: "+J.type);throw ie.name="ParserError",ie}},_errorToken:function(H){var J=new Error("Invalid token ("+H.type+'): "'+H.value+'"');throw J.name="ParserError",J},_parseIndexExpression:function(){if(this._lookahead(0)===G||this._lookahead(1)===G)return this._parseSliceExpression();var H={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(E),H},_projectIfSlice:function(H,J){var ie={type:"IndexExpression",children:[H,J]};return J.type==="Slice"?{type:"Projection",children:[ie,this._parseProjectionRHS(ce.Star)]}:ie},_parseSliceExpression:function(){for(var H=[null,null,null],J=0,ie=this._lookahead(0);ie!==E&&J<3;){if(ie===G)J++,this._advance();else if(ie===U)H[J]=this._lookaheadToken(0).value,this._advance();else{var me=this._lookahead(0),_e=new Error("Syntax error, unexpected token: "+me.value+"("+me.type+")");throw _e.name="Parsererror",_e}ie=this._lookahead(0)}return this._match(E),{type:"Slice",children:H}},_parseComparator:function(H,J){var ie=this.expression(ce[J]);return{type:"Comparator",name:J,children:[H,ie]}},_parseDotRHS:function(H){var J=this._lookahead(0),ie=[S,_,le];if(ie.indexOf(J)>=0)return this.expression(H);if(J===We)return this._match(We),this._parseMultiselectList();if(J===Be)return this._match(Be),this._parseMultiselectHash()},_parseProjectionRHS:function(H){var J;if(ce[this._lookahead(0)]<10)J={type:"Identity"};else if(this._lookahead(0)===We)J=this.expression(H);else if(this._lookahead(0)===de)J=this.expression(H);else if(this._lookahead(0)===xe)this._match(xe),J=this._parseDotRHS(H);else{var ie=this._lookaheadToken(0),me=new Error("Sytanx error, unexpected token: "+ie.value+"("+ie.type+")");throw me.name="ParserError",me}return J},_parseMultiselectList:function(){for(var H=[];this._lookahead(0)!==E;){var J=this.expression(0);if(H.push(J),this._lookahead(0)===te&&(this._match(te),this._lookahead(0)===E))throw new Error("Unexpected token Rbracket")}return this._match(E),{type:"MultiSelectList",children:H}},_parseMultiselectHash:function(){for(var H=[],J=[S,_],ie,me,_e,Re;;){if(ie=this._lookaheadToken(0),J.indexOf(ie.type)<0)throw new Error("Expecting an identifier token, got: "+ie.type);if(me=ie.value,this._advance(),this._match(G),_e=this.expression(0),Re={type:"KeyValuePair",name:me,value:_e},H.push(Re),this._lookahead(0)===te)this._match(te);else if(this._lookahead(0)===I){this._match(I);break}}return{type:"MultiSelectHash",children:H}}};function Bt(H){this.runtime=H}Bt.prototype={search:function(H,J){return this.visit(H,J)},visit:function(H,J){var ie,me,_e,Re,st,Tt,Lt,Ln,Qt,rt;switch(H.type){case"Field":return J!==null&&i(J)?(Tt=J[H.name],Tt===void 0?null:Tt):null;case"Subexpression":for(_e=this.visit(H.children[0],J),rt=1;rt<H.children.length;rt++)if(_e=this.visit(H.children[1],_e),_e===null)return null;return _e;case"IndexExpression":return Lt=this.visit(H.children[0],J),Ln=this.visit(H.children[1],Lt),Ln;case"Index":if(!t(J))return null;var $n=H.value;return $n<0&&($n=J.length+$n),_e=J[$n],_e===void 0&&(_e=null),_e;case"Slice":if(!t(J))return null;var oi=H.children.slice(0),Mn=this.computeSliceParams(J.length,oi),Qn=Mn[0],Zn=Mn[1],ei=Mn[2];if(_e=[],ei>0)for(rt=Qn;rt<Zn;rt+=ei)_e.push(J[rt]);else for(rt=Qn;rt>Zn;rt+=ei)_e.push(J[rt]);return _e;case"Projection":var xn=this.visit(H.children[0],J);if(!t(xn))return null;for(Qt=[],rt=0;rt<xn.length;rt++)me=this.visit(H.children[1],xn[rt]),me!==null&&Qt.push(me);return Qt;case"ValueProjection":if(xn=this.visit(H.children[0],J),!i(xn))return null;Qt=[];var je=s(xn);for(rt=0;rt<je.length;rt++)me=this.visit(H.children[1],je[rt]),me!==null&&Qt.push(me);return Qt;case"FilterProjection":if(xn=this.visit(H.children[0],J),!t(xn))return null;var ot=[],Vt=[];for(rt=0;rt<xn.length;rt++)ie=this.visit(H.children[2],xn[rt]),o(ie)||ot.push(xn[rt]);for(var en=0;en<ot.length;en++)me=this.visit(H.children[1],ot[en]),me!==null&&Vt.push(me);return Vt;case"Comparator":switch(Re=this.visit(H.children[0],J),st=this.visit(H.children[1],J),H.name){case R:_e=r(Re,st);break;case M:_e=!r(Re,st);break;case $:_e=Re>st;break;case P:_e=Re>=st;break;case N:_e=Re<st;break;case A:_e=Re<=st;break;default:throw new Error("Unknown comparator: "+H.name)}return _e;case Z:var tn=this.visit(H.children[0],J);if(!t(tn))return null;var rn=[];for(rt=0;rt<tn.length;rt++)me=tn[rt],t(me)?rn.push.apply(rn,me):rn.push(me);return rn;case"Identity":return J;case"MultiSelectList":if(J===null)return null;for(Qt=[],rt=0;rt<H.children.length;rt++)Qt.push(this.visit(H.children[rt],J));return Qt;case"MultiSelectHash":if(J===null)return null;Qt={};var we;for(rt=0;rt<H.children.length;rt++)we=H.children[rt],Qt[we.name]=this.visit(we.value,J);return Qt;case"OrExpression":return ie=this.visit(H.children[0],J),o(ie)&&(ie=this.visit(H.children[1],J)),ie;case"AndExpression":return Re=this.visit(H.children[0],J),o(Re)===!0?Re:this.visit(H.children[1],J);case"NotExpression":return Re=this.visit(H.children[0],J),o(Re);case"Literal":return H.value;case F:return Lt=this.visit(H.children[0],J),this.visit(H.children[1],Lt);case B:return J;case"Function":var pt=[];for(rt=0;rt<H.children.length;rt++)pt.push(this.visit(H.children[rt],J));return this.runtime.callFunction(H.name,pt);case"ExpressionReference":var nt=H.children[0];return nt.jmespathType=ee,nt;default:throw new Error("Unknown node type: "+H.type)}},computeSliceParams:function(H,J){var ie=J[0],me=J[1],_e=J[2],Re=[null,null,null];if(_e===null)_e=1;else if(_e===0){var st=new Error("Invalid slice, step cannot be 0");throw st.name="RuntimeError",st}var Tt=_e<0;return ie===null?ie=Tt?H-1:0:ie=this.capSliceRange(H,ie,_e),me===null?me=Tt?-1:H:me=this.capSliceRange(H,me,_e),Re[0]=ie,Re[1]=me,Re[2]=_e,Re},capSliceRange:function(H,J,ie){return J<0?(J+=H,J<0&&(J=ie<0?-1:0)):J>=H&&(J=ie<0?H-1:H),J}};function ut(H){this._interpreter=H,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[l]}]},avg:{_func:this._functionAvg,_signature:[{types:[b]}]},ceil:{_func:this._functionCeil,_signature:[{types:[l]}]},contains:{_func:this._functionContains,_signature:[{types:[f,h]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[f]},{types:[f]}]},floor:{_func:this._functionFloor,_signature:[{types:[l]}]},length:{_func:this._functionLength,_signature:[{types:[f,h,p]}]},map:{_func:this._functionMap,_signature:[{types:[g]},{types:[h]}]},max:{_func:this._functionMax,_signature:[{types:[b,x]}]},merge:{_func:this._functionMerge,_signature:[{types:[p],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[h]},{types:[g]}]},sum:{_func:this._functionSum,_signature:[{types:[b]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[f]},{types:[f]}]},min:{_func:this._functionMin,_signature:[{types:[b,x]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[h]},{types:[g]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[p]}]},values:{_func:this._functionValues,_signature:[{types:[p]}]},sort:{_func:this._functionSort,_signature:[{types:[x,b]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[h]},{types:[g]}]},join:{_func:this._functionJoin,_signature:[{types:[f]},{types:[x]}]},reverse:{_func:this._functionReverse,_signature:[{types:[f,h]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}ut.prototype={callFunction:function(H,J){var ie=this.functionTable[H];if(ie===void 0)throw new Error("Unknown function: "+H+"()");return this._validateArgs(H,J,ie._signature),ie._func.call(this,J)},_validateArgs:function(H,J,ie){var me;if(ie[ie.length-1].variadic){if(J.length<ie.length)throw me=ie.length===1?" argument":" arguments",new Error("ArgumentError: "+H+"() takes at least"+ie.length+me+" but received "+J.length)}else if(J.length!==ie.length)throw me=ie.length===1?" argument":" arguments",new Error("ArgumentError: "+H+"() takes "+ie.length+me+" but received "+J.length);for(var _e,Re,st,Tt=0;Tt<ie.length;Tt++){st=!1,_e=ie[Tt].types,Re=this._getTypeName(J[Tt]);for(var Lt=0;Lt<_e.length;Lt++)if(this._typeMatches(Re,_e[Lt],J[Tt])){st=!0;break}if(!st){var Ln=_e.map(function(Qt){return k[Qt]}).join(",");throw new Error("TypeError: "+H+"() expected argument "+(Tt+1)+" to be type "+Ln+" but received type "+k[Re]+" instead.")}}},_typeMatches:function(H,J,ie){if(J===c)return!0;if(J===x||J===b||J===h){if(J===h)return H===h;if(H===h){var me;J===b?me=l:J===x&&(me=f);for(var _e=0;_e<ie.length;_e++)if(!this._typeMatches(this._getTypeName(ie[_e]),me,ie[_e]))return!1;return!0}}else return H===J},_getTypeName:function(H){switch(Object.prototype.toString.call(H)){case"[object String]":return f;case"[object Number]":return l;case"[object Array]":return h;case"[object Boolean]":return m;case"[object Null]":return v;case"[object Object]":return H.jmespathType===ee?g:p}},_functionStartsWith:function(H){return H[0].lastIndexOf(H[1])===0},_functionEndsWith:function(H){var J=H[0],ie=H[1];return J.indexOf(ie,J.length-ie.length)!==-1},_functionReverse:function(H){var J=this._getTypeName(H[0]);if(J===f){for(var ie=H[0],me="",_e=ie.length-1;_e>=0;_e--)me+=ie[_e];return me}else{var Re=H[0].slice(0);return Re.reverse(),Re}},_functionAbs:function(H){return Math.abs(H[0])},_functionCeil:function(H){return Math.ceil(H[0])},_functionAvg:function(H){for(var J=0,ie=H[0],me=0;me<ie.length;me++)J+=ie[me];return J/ie.length},_functionContains:function(H){return H[0].indexOf(H[1])>=0},_functionFloor:function(H){return Math.floor(H[0])},_functionLength:function(H){return i(H[0])?Object.keys(H[0]).length:H[0].length},_functionMap:function(H){for(var J=[],ie=this._interpreter,me=H[0],_e=H[1],Re=0;Re<_e.length;Re++)J.push(ie.visit(me,_e[Re]));return J},_functionMerge:function(H){for(var J={},ie=0;ie<H.length;ie++){var me=H[ie];for(var _e in me)J[_e]=me[_e]}return J},_functionMax:function(H){if(H[0].length>0){var J=this._getTypeName(H[0][0]);if(J===l)return Math.max.apply(Math,H[0]);for(var ie=H[0],me=ie[0],_e=1;_e<ie.length;_e++)me.localeCompare(ie[_e])<0&&(me=ie[_e]);return me}else return null},_functionMin:function(H){if(H[0].length>0){var J=this._getTypeName(H[0][0]);if(J===l)return Math.min.apply(Math,H[0]);for(var ie=H[0],me=ie[0],_e=1;_e<ie.length;_e++)ie[_e].localeCompare(me)<0&&(me=ie[_e]);return me}else return null},_functionSum:function(H){for(var J=0,ie=H[0],me=0;me<ie.length;me++)J+=ie[me];return J},_functionType:function(H){switch(this._getTypeName(H[0])){case l:return"number";case f:return"string";case h:return"array";case p:return"object";case m:return"boolean";case g:return"expref";case v:return"null"}},_functionKeys:function(H){return Object.keys(H[0])},_functionValues:function(H){for(var J=H[0],ie=Object.keys(J),me=[],_e=0;_e<ie.length;_e++)me.push(J[ie[_e]]);return me},_functionJoin:function(H){var J=H[0],ie=H[1];return ie.join(J)},_functionToArray:function(H){return this._getTypeName(H[0])===h?H[0]:[H[0]]},_functionToString:function(H){return this._getTypeName(H[0])===f?H[0]:JSON.stringify(H[0])},_functionToNumber:function(H){var J=this._getTypeName(H[0]),ie;return J===l?H[0]:J===f&&(ie=+H[0],!isNaN(ie))?ie:null},_functionNotNull:function(H){for(var J=0;J<H.length;J++)if(this._getTypeName(H[J])!==v)return H[J];return null},_functionSort:function(H){var J=H[0].slice(0);return J.sort(),J},_functionSortBy:function(H){var J=H[0].slice(0);if(J.length===0)return J;var ie=this._interpreter,me=H[1],_e=this._getTypeName(ie.visit(me,J[0]));if([l,f].indexOf(_e)<0)throw new Error("TypeError");for(var Re=this,st=[],Tt=0;Tt<J.length;Tt++)st.push([Tt,J[Tt]]);st.sort(function(Ln,Qt){var rt=ie.visit(me,Ln[1]),$n=ie.visit(me,Qt[1]);if(Re._getTypeName(rt)!==_e)throw new Error("TypeError: expected "+_e+", received "+Re._getTypeName(rt));if(Re._getTypeName($n)!==_e)throw new Error("TypeError: expected "+_e+", received "+Re._getTypeName($n));return rt>$n?1:rt<$n?-1:Ln[0]-Qt[0]});for(var Lt=0;Lt<st.length;Lt++)J[Lt]=st[Lt][1];return J},_functionMaxBy:function(H){for(var J=H[1],ie=H[0],me=this.createKeyFunction(J,[l,f]),_e=-1/0,Re,st,Tt=0;Tt<ie.length;Tt++)st=me(ie[Tt]),st>_e&&(_e=st,Re=ie[Tt]);return Re},_functionMinBy:function(H){for(var J=H[1],ie=H[0],me=this.createKeyFunction(J,[l,f]),_e=1/0,Re,st,Tt=0;Tt<ie.length;Tt++)st=me(ie[Tt]),st<_e&&(_e=st,Re=ie[Tt]);return Re},createKeyFunction:function(H,J){var ie=this,me=this._interpreter,_e=function(Re){var st=me.visit(H,Re);if(J.indexOf(ie._getTypeName(st))<0){var Tt="TypeError: expected one of "+J+", received "+ie._getTypeName(st);throw new Error(Tt)}return st};return _e}};function Kt(H){var J=new bt,ie=J.parse(H);return ie}function bn(H){var J=new tt;return J.tokenize(H)}function it(H,J){var ie=new bt,me=new ut,_e=new Bt(me);me._interpreter=_e;var Re=ie.parse(J);return _e.search(Re,H)}e.tokenize=bn,e.compile=Kt,e.search=it,e.strictDeepEqual=r})(n)})(oN);var sN=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],aN=["mainAxis","crossAxis","limiter"];function uO(n,e){if(n==null)return{};var t,i,r=function(s,a){if(s==null)return{};var l,c,f={},h=Object.keys(s);for(c=0;c<h.length;c++)l=h[c],a.indexOf(l)>=0||(f[l]=s[l]);return f}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function vr(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=ap(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||t.return==null||t.return()}finally{if(a)throw o}}}}function Ge(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ge=function(){return e};var n,e={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(re,R,$){re[R]=$.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(re,R,$){return Object.defineProperty(re,R,{value:$,enumerable:!0,configurable:!0,writable:!0}),re[R]}try{c({},"")}catch{c=function(R,$,N){return R[$]=N}}function f(re,R,$,N){var P=R&&R.prototype instanceof x?R:x,A=Object.create(P.prototype),M=new F(N||[]);return r(A,"_invoke",{value:I(re,$,M)}),A}function h(re,R,$){try{return{type:"normal",arg:re.call(R,$)}}catch(N){return{type:"throw",arg:N}}}e.wrap=f;var p="suspendedStart",m="suspendedYield",g="executing",v="completed",b={};function x(){}function k(){}function C(){}var S={};c(S,s,function(){return this});var _=Object.getPrototypeOf,E=_&&_(_(ne([])));E&&E!==t&&i.call(E,s)&&(S=E);var q=C.prototype=x.prototype=Object.create(S);function te(re){["next","throw","return"].forEach(function(R){c(re,R,function($){return this._invoke(R,$)})})}function G(re,R){function $(P,A,M,Z){var le=h(re[P],re,A);if(le.type!=="throw"){var de=le.arg,xe=de.value;return xe&&Ii(xe)=="object"&&i.call(xe,"__await")?R.resolve(xe.__await).then(function(oe){$("next",oe,M,Z)},function(oe){$("throw",oe,M,Z)}):R.resolve(xe).then(function(oe){de.value=oe,M(de)},function(oe){return $("throw",oe,M,Z)})}Z(le.arg)}var N;r(this,"_invoke",{value:function(P,A){function M(){return new R(function(Z,le){$(P,A,Z,le)})}return N=N?N.then(M,M):M()}})}function I(re,R,$){var N=p;return function(P,A){if(N===g)throw new Error("Generator is already running");if(N===v){if(P==="throw")throw A;return{value:n,done:!0}}for($.method=P,$.arg=A;;){var M=$.delegate;if(M){var Z=U(M,$);if(Z){if(Z===b)continue;return Z}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(N===p)throw N=v,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);N=g;var le=h(re,R,$);if(le.type==="normal"){if(N=$.done?v:m,le.arg===b)continue;return{value:le.arg,done:$.done}}le.type==="throw"&&(N=v,$.method="throw",$.arg=le.arg)}}}function U(re,R){var $=R.method,N=re.iterator[$];if(N===n)return R.delegate=null,$==="throw"&&re.iterator.return&&(R.method="return",R.arg=n,U(re,R),R.method==="throw")||$!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+$+"' method")),b;var P=h(N,re.iterator,R.arg);if(P.type==="throw")return R.method="throw",R.arg=P.arg,R.delegate=null,b;var A=P.arg;return A?A.done?(R[re.resultName]=A.value,R.next=re.nextLoc,R.method!=="return"&&(R.method="next",R.arg=n),R.delegate=null,b):A:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,b)}function B(re){var R={tryLoc:re[0]};1 in re&&(R.catchLoc=re[1]),2 in re&&(R.finallyLoc=re[2],R.afterLoc=re[3]),this.tryEntries.push(R)}function ee(re){var R=re.completion||{};R.type="normal",delete R.arg,re.completion=R}function F(re){this.tryEntries=[{tryLoc:"root"}],re.forEach(B,this),this.reset(!0)}function ne(re){if(re||re===""){var R=re[s];if(R)return R.call(re);if(typeof re.next=="function")return re;if(!isNaN(re.length)){var $=-1,N=function P(){for(;++$<re.length;)if(i.call(re,$))return P.value=re[$],P.done=!1,P;return P.value=n,P.done=!0,P};return N.next=N}}throw new TypeError(Ii(re)+" is not iterable")}return k.prototype=C,r(q,"constructor",{value:C,configurable:!0}),r(C,"constructor",{value:k,configurable:!0}),k.displayName=c(C,l,"GeneratorFunction"),e.isGeneratorFunction=function(re){var R=typeof re=="function"&&re.constructor;return!!R&&(R===k||(R.displayName||R.name)==="GeneratorFunction")},e.mark=function(re){return Object.setPrototypeOf?Object.setPrototypeOf(re,C):(re.__proto__=C,c(re,l,"GeneratorFunction")),re.prototype=Object.create(q),re},e.awrap=function(re){return{__await:re}},te(G.prototype),c(G.prototype,a,function(){return this}),e.AsyncIterator=G,e.async=function(re,R,$,N,P){P===void 0&&(P=Promise);var A=new G(f(re,R,$,N),P);return e.isGeneratorFunction(R)?A:A.next().then(function(M){return M.done?M.value:A.next()})},te(q),c(q,l,"Generator"),c(q,s,function(){return this}),c(q,"toString",function(){return"[object Generator]"}),e.keys=function(re){var R=Object(re),$=[];for(var N in R)$.push(N);return $.reverse(),function P(){for(;$.length;){var A=$.pop();if(A in R)return P.value=A,P.done=!1,P}return P.done=!0,P}},e.values=ne,F.prototype={constructor:F,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(ee),!re)for(var R in this)R.charAt(0)==="t"&&i.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=n)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var R=this;function $(le,de){return A.type="throw",A.arg=re,R.next=le,de&&(R.method="next",R.arg=n),!!de}for(var N=this.tryEntries.length-1;N>=0;--N){var P=this.tryEntries[N],A=P.completion;if(P.tryLoc==="root")return $("end");if(P.tryLoc<=this.prev){var M=i.call(P,"catchLoc"),Z=i.call(P,"finallyLoc");if(M&&Z){if(this.prev<P.catchLoc)return $(P.catchLoc,!0);if(this.prev<P.finallyLoc)return $(P.finallyLoc)}else if(M){if(this.prev<P.catchLoc)return $(P.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return $(P.finallyLoc)}}}},abrupt:function(re,R){for(var $=this.tryEntries.length-1;$>=0;--$){var N=this.tryEntries[$];if(N.tryLoc<=this.prev&&i.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var P=N;break}}P&&(re==="break"||re==="continue")&&P.tryLoc<=R&&R<=P.finallyLoc&&(P=null);var A=P?P.completion:{};return A.type=re,A.arg=R,P?(this.method="next",this.next=P.finallyLoc,b):this.complete(A)},complete:function(re,R){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&R&&(this.next=R),b},finish:function(re){for(var R=this.tryEntries.length-1;R>=0;--R){var $=this.tryEntries[R];if($.finallyLoc===re)return this.complete($.completion,$.afterLoc),ee($),b}},catch:function(re){for(var R=this.tryEntries.length-1;R>=0;--R){var $=this.tryEntries[R];if($.tryLoc===re){var N=$.completion;if(N.type==="throw"){var P=N.arg;ee($)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(re,R,$){return this.delegate={iterator:ne(re),resultName:R,nextLoc:$},this.method==="next"&&(this.arg=n),b}},e}function Gx(n,e,t,i,r,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function Xt(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(l){Gx(o,i,r,s,a,"next",l)}function a(l){Gx(o,i,r,s,a,"throw",l)}s(void 0)})}}function Jt(n,e){return hO(n)||function(t,i){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o,s,a,l,c=[],f=!0,h=!1;try{if(a=(r=r.call(t)).next,i===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(o=a.call(r)).done)&&(c.push(o.value),c.length!==i);f=!0);}catch(p){h=!0,s=p}finally{try{if(!f&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw s}}return c}}(n,e)||ap(n,e)||fO()}function fO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hO(n){if(Array.isArray(n))return n}function jt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&zg(n,e)}function zg(n,e){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},zg(n,e)}function St(n){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,i=wd(n);if(e){var r=wd(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return function(o,s){if(s&&(Ii(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ot(o)}(this,t)}}function Ot(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wd(n){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wd(n)}function Kx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ke(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kx(Object(t),!0).forEach(function(i){Kr(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lt(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xx(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,dO(i.key),i)}}function ct(n,e,t){return e&&Xx(n.prototype,e),t&&Xx(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Kr(n,e,t){return(e=dO(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dO(n){var e=function(t,i){if(Ii(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,i||"default");if(Ii(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return Ii(e)=="symbol"?e:String(e)}function ln(n){return function(e){if(Array.isArray(e))return qg(e)}(n)||pO(n)||ap(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ap(n,e){if(n){if(typeof n=="string")return qg(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qg(n,e):void 0}}function pO(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function qg(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Ii(n){return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ii(n)}function Ve(){}var mO=function(n){return n};function Dr(n,e){for(var t in e)n[t]=e[t];return n}function gO(n){return n()}function Yx(){return Object.create(null)}function Yn(n){n.forEach(gO)}function ir(n){return typeof n=="function"}function Gi(n,e){return n!=n?e==e:n!==e||n&&Ii(n)==="object"||typeof n=="function"}function Yt(n,e){return n!=n?e==e:n!==e}function _i(n,e,t,i){if(n){var r=vO(n,e,t,i);return n[0](r)}}function vO(n,e,t,i){return n[1]&&i?Dr(t.ctx.slice(),n[1](i(e))):t.ctx}function ji(n,e,t,i){if(n[2]&&i){var r=n[2](i(t));if(e.dirty===void 0)return r;if(Ii(r)==="object"){for(var o=[],s=Math.max(e.dirty.length,r.length),a=0;a<s;a+=1)o[a]=e.dirty[a]|r[a];return o}return e.dirty|r}return e.dirty}function Si(n,e,t,i,r,o){if(r){var s=vO(e,t,i,o);n.p(s,r)}}function Ci(n){if(n.ctx.length>32){for(var e=[],t=n.ctx.length/32,i=0;i<t;i++)e[i]=-1;return e}return-1}function yO(n){var e={};for(var t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function kd(n,e){var t={};for(var i in e=new Set(e),n)e.has(i)||i[0]==="$"||(t[i]=n[i]);return t}function fi(n){return n??""}function or(n){return n&&ir(n.destroy)?n.destroy:Ve}var bO=typeof window<"u",lN=bO?function(){return window.performance.now()}:function(){return Date.now()},G0=bO?function(n){return requestAnimationFrame(n)}:Ve,hu=new Set;function xO(n){hu.forEach(function(e){e.c(n)||(hu.delete(e),e.f())}),hu.size!==0&&G0(xO)}var K0=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function z(n,e){n.appendChild(e)}function Gt(n,e,t){var i=X0(n);if(!i.getElementById(e)){var r=K("style");r.id=e,r.textContent=t,wO(i,r)}}function X0(n){if(!n)return document;var e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function cN(n){var e=K("style");return e.textContent="/* empty */",wO(X0(n),e),e.sheet}function wO(n,e){return z(n.head||n,e),e.sheet}function ae(n,e,t){n.insertBefore(e,t||null)}function se(n){n.parentNode&&n.parentNode.removeChild(n)}function Ri(n,e){for(var t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function K(n){return document.createElement(n)}function ss(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Xe(n){return document.createTextNode(n)}function ve(){return Xe(" ")}function On(){return Xe("")}function Ne(n,e,t,i){return n.addEventListener(e,t,i),function(){return n.removeEventListener(e,t,i)}}function Xa(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Eo(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function j(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}var uN=["width","height"];function ew(n,e){var t=Object.getOwnPropertyDescriptors(n.__proto__);for(var i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&uN.indexOf(i)===-1?n[i]=e[i]:j(n,i,e[i])}function hc(n,e){for(var t in e)j(n,t,e[t])}function Dt(n,e){e=""+e,n.data!==e&&(n.data=e)}function as(n,e){n.value=e??""}function Sr(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function tw(n,e,t){for(var i=0;i<n.options.length;i+=1){var r=n.options[i];if(r.__value===e)return void(r.selected=!0)}t&&e===void 0||(n.selectedIndex=-1)}function Ie(n,e,t){n.classList.toggle(e,!!t)}function kO(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.bubbles,r=i!==void 0&&i,o=t.cancelable;return new CustomEvent(n,{detail:e,bubbles:r,cancelable:o!==void 0&&o})}function ls(n,e){return new n(e)}var Du,_d=new Map,Fg=0;function nw(n,e,t,i,r,o,s){for(var a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,l=16.666/i,c=`{
`,f=0;f<=1;f+=l){var h=e+(t-e)*o(f);c+=100*f+"%{".concat(s(h,1-h),`}
`)}var p=c+"100% {".concat(s(t,1-t),`}
}`),m="__svelte_".concat(function(C){for(var S=5381,_=C.length;_--;)S=(S<<5)-S^C.charCodeAt(_);return S>>>0}(p),"_").concat(a),g=X0(n),v=_d.get(g)||function(C,S){var _={stylesheet:cN(S),rules:{}};return _d.set(C,_),_}(g,n),b=v.stylesheet,x=v.rules;x[m]||(x[m]=!0,b.insertRule("@keyframes ".concat(m," ").concat(p),b.cssRules.length));var k=n.style.animation||"";return n.style.animation="".concat(k?"".concat(k,", "):"").concat(m," ").concat(i,"ms linear ").concat(r,"ms 1 both"),Fg+=1,m}function fN(n,e){var t=(n.style.animation||"").split(", "),i=t.filter(e?function(o){return o.indexOf(e)<0}:function(o){return o.indexOf("__svelte")===-1}),r=t.length-i.length;r&&(n.style.animation=i.join(", "),(Fg-=r)||G0(function(){Fg||(_d.forEach(function(o){var s=o.stylesheet.ownerNode;s&&se(s)}),_d.clear())}))}function du(n){Du=n}function Sc(){if(!Du)throw new Error("Function called outside component initialization");return Du}function go(n){Sc().$$.on_mount.push(n)}function Xr(n){Sc().$$.on_destroy.push(n)}function _O(){var n=Sc();return function(e,t){var i=(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).cancelable,r=i!==void 0&&i,o=n.$$.callbacks[e];if(o){var s=kO(e,t,{cancelable:r});return o.slice().forEach(function(a){a.call(n,s)}),!s.defaultPrevented}return!0}}function jO(n,e){return Sc().$$.context.set(n,e),e}function sr(n){return Sc().$$.context.get(n)}function ah(n,e){var t=this,i=n.$$.callbacks[e.type];i&&i.slice().forEach(function(r){return r.call(t,e)})}var Tl=[],pn=[],Yl=[],Hg=[],SO=Promise.resolve(),Vg=!1;function CO(){Vg||(Vg=!0,SO.then(OO))}function Mi(){return CO(),SO}function Ya(n){Yl.push(n)}function jo(n){Hg.push(n)}var lh,pm=new Set,jl=0;function OO(){if(jl===0){var n=Du;do{try{for(;jl<Tl.length;){var e=Tl[jl];jl++,du(e),hN(e.$$)}}catch(r){throw Tl.length=0,jl=0,r}for(du(null),Tl.length=0,jl=0;pn.length;)pn.pop()();for(var t=0;t<Yl.length;t+=1){var i=Yl[t];pm.has(i)||(pm.add(i),i())}Yl.length=0}while(Tl.length);for(;Hg.length;)Hg.pop()();Vg=!1,pm.clear(),du(n)}}function hN(n){if(n.fragment!==null){n.update(),Yn(n.before_update);var e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Ya)}}function mm(n,e,t){n.dispatchEvent(kO("".concat(e?"intro":"outro").concat(t)))}var xs,Bh=new Set;function De(){xs={r:0,c:[],p:xs}}function ze(){xs.r||Yn(xs.c),xs=xs.p}function T(n,e){n&&n.i&&(Bh.delete(n),n.i(e))}function D(n,e,t,i){if(n&&n.o){if(Bh.has(n))return;Bh.add(n),xs.c.push(function(){Bh.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}var dN={duration:0};function ch(n,e,t,i){var r,o=e(n,t,{direction:"both"}),s=i?0:1,a=null,l=null,c=null;function f(){c&&fN(n,c)}function h(m,g){var v=m.b-s;return g*=Math.abs(v),{a:s,b:m.b,d:v,duration:g,start:m.start,end:m.start+g,group:m.group}}function p(m){var g,v=o||dN,b=v.delay,x=b===void 0?0:b,k=v.duration,C=k===void 0?300:k,S=v.easing,_=S===void 0?mO:S,E=v.tick,q=E===void 0?Ve:E,te=v.css,G={start:lN()+x,b:m};m||(G.group=xs,xs.r+=1),"inert"in n&&(m?r!==void 0&&(n.inert=r):(r=n.inert,n.inert=!0)),a||l?l=G:(te&&(f(),c=nw(n,s,m,C,x,_,te)),m&&q(0,1),a=h(G,C),Ya(function(){return mm(n,m,"start")}),g=function(I){if(l&&I>l.start&&(a=h(l,C),l=null,mm(n,a.b,"start"),te&&(f(),c=nw(n,s,a.b,a.duration,0,_,o.css))),a){if(I>=a.end)q(s=a.b,1-s),mm(n,a.b,"end"),l||(a.b?f():--a.group.r||Yn(a.group.c)),a=null;else if(I>=a.start){var U=I-a.start;s=a.a+a.d*_(U/a.duration),q(s,1-s)}}return!(!a&&!l)},hu.size===0&&G0(xO),new Promise(function(I){hu.add({c:g,f:I})}))}return{run:function(m){ir(o)?(lh||(lh=Promise.resolve()).then(function(){lh=null}),lh).then(function(){o=o({direction:m?"in":"out"}),p(m)}):p(m)},end:function(){f(),a=l=null}}}function Zt(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function pN(n,e){n.d(1),e.delete(n.key)}function Y0(n,e){D(n,1,1,function(){e.delete(n.key)})}function lp(n,e,t,i,r,o,s,a,l,c,f,h){for(var p=n.length,m=o.length,g=p,v={};g--;)v[n[g].key]=g;var b=[],x=new Map,k=new Map,C=[];g=m;for(var S=function(){var ee=h(r,o,g),F=t(ee),ne=s.get(F);ne?i&&C.push(function(){return ne.p(ee,e)}):(ne=c(F,ee)).c(),x.set(F,b[g]=ne),F in v&&k.set(F,Math.abs(g-v[F]))};g--;)S();var _=new Set,E=new Set;function q(ee){T(ee,1),ee.m(a,f),s.set(ee.key,ee),f=ee.first,m--}for(;p&&m;){var te=b[m-1],G=n[p-1],I=te.key,U=G.key;te===G?(f=te.first,p--,m--):x.has(U)?!s.has(I)||_.has(I)?q(te):E.has(U)?p--:k.get(I)>k.get(U)?(E.add(I),q(te)):(_.add(U),p--):(l(G,s),p--)}for(;p--;){var B=n[p];x.has(B.key)||l(B,s)}for(;m;)q(b[m-1]);return Yn(C),b}function vo(n,e){for(var t={},i={},r={$$scope:1},o=n.length;o--;){var s=n[o],a=e[o];if(a){for(var l in s)l in a||(i[l]=1);for(var c in a)r[c]||(t[c]=a[c],r[c]=1);n[o]=a}else for(var f in s)r[f]=1}for(var h in i)h in t||(t[h]=void 0);return t}function el(n){return Ii(n)==="object"&&n!==null?n:{}}function So(n,e,t){var i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function Te(n){n&&n.c()}function Me(n,e,t){var i=n.$$,r=i.fragment,o=i.after_update;r&&r.m(e,t),Ya(function(){var s,a=n.$$.on_mount.map(gO).filter(ir);n.$$.on_destroy?(s=n.$$.on_destroy).push.apply(s,ln(a)):Yn(a),n.$$.on_mount=[]}),o.forEach(Ya)}function Pe(n,e){var t,i,r,o=n.$$;o.fragment!==null&&(t=o.after_update,i=[],r=[],Yl.forEach(function(s){return t.indexOf(s)===-1?i.push(s):r.push(s)}),r.forEach(function(s){return s()}),Yl=i,Yn(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Mt(n,e,t,i,r,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[-1],l=Du;du(n);var c=n.$$={fragment:null,ctx:[],props:o,update:Ve,not_equal:r,bound:Yx(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Yx(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(c.root);var f=!1;if(c.ctx=t?t(n,e.props||{},function(p,m){var g=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:m;return c.ctx&&r(c.ctx[p],c.ctx[p]=g)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](g),f&&function(v,b){v.$$.dirty[0]===-1&&(Tl.push(v),CO(),v.$$.dirty.fill(0)),v.$$.dirty[b/31|0]|=1<<b%31}(n,p)),m}):[],c.update(),f=!0,Yn(c.before_update),c.fragment=!!i&&i(c.ctx),e.target){if(e.hydrate){var h=function(p){return Array.from(p.childNodes)}(e.target);c.fragment&&c.fragment.l(h),h.forEach(se)}else c.fragment&&c.fragment.c();e.intro&&T(n.$$.fragment),Me(n,e.target,e.anchor),OO()}du(l)}var Pt=function(){function n(){lt(this,n),Kr(this,"$$",void 0),Kr(this,"$$set",void 0)}return ct(n,[{key:"$destroy",value:function(){Pe(this,1),this.$destroy=Ve}},{key:"$on",value:function(e,t){if(!ir(t))return Ve;var i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),function(){var r=i.indexOf(t);r!==-1&&i.splice(r,1)}}},{key:"$set",value:function(e){var t;this.$$set&&(t=e,Object.keys(t).length!==0)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),n}();function ar(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(i){var r=function(o){try{if(typeof window<"u"&&window.localStorage!==void 0)return window.localStorage[o]}catch{}}("debug");return r!=null&&r.endsWith("*")?i.startsWith(r.slice(0,-1)):i===r}(n);if(!e)return mN;var t=function(i){for(var r=0,o=0;o<i.length;o++)r=(r<<5)-r+i.charCodeAt(o),r|=0;return iw[Math.abs(r)%iw.length]}(n);return function(){for(var i,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];(i=console).log.apply(i,["%c".concat(n),"color:".concat(t)].concat(o))}}function mN(){}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var iw=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"];function gN(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.delay,i=t===void 0?0:t,r=e.duration,o=r===void 0?400:r,s=e.easing,a=s===void 0?mO:s,l=+getComputedStyle(n).opacity;return{delay:i,duration:o,easing:a,css:function(c){return"opacity: ".concat(c*l)}}}var vN=K0.window;function yN(n){Gt(n,"svelte-n7cvum",`.svelte-n7cvum{box-sizing:border-box}.bg.svelte-n7cvum{position:fixed;z-index:1000;top:0;left:0;display:flex;flex-direction:column;justify-content:center;width:100vw;height:100vh;background:rgba(0, 0, 0, 0.66)}@supports (-webkit-touch-callout: none){}.wrap.svelte-n7cvum{position:relative;margin:2rem;max-height:100%}.window.svelte-n7cvum{position:relative;width:40rem;max-width:100%;max-height:100%;margin:2rem auto;color:black;border-radius:0.5rem;background:white}.content.svelte-n7cvum{position:relative;padding:1rem;max-height:calc(100vh - 4rem);overflow:auto}.close.svelte-n7cvum{display:block;box-sizing:border-box;position:absolute;z-index:1000;top:1rem;right:1rem;margin:0;padding:0;width:1.5rem;height:1.5rem;border:0;color:black;border-radius:1.5rem;background:white;box-shadow:0 0 0 1px black;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close.svelte-n7cvum:before,.close.svelte-n7cvum:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:1rem;height:1px;background:black;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close.svelte-n7cvum:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close.svelte-n7cvum:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close.svelte-n7cvum:hover{background:black}.close.svelte-n7cvum:hover:before,.close.svelte-n7cvum:hover:after{height:2px;background:white}.close.svelte-n7cvum:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close.svelte-n7cvum:active{transform:scale(0.9)}.close.svelte-n7cvum:hover,.close.svelte-n7cvum:focus,.close.svelte-n7cvum:active{outline:none}`)}function rw(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C=n[1].closeButton&&ow(n),S=n[2];return S&&(s=ls(S,{})),{c:function(){e=K("div"),t=K("div"),i=K("div"),C&&C.c(),r=ve(),o=K("div"),s&&Te(s.$$.fragment),j(o,"class",a=fi(n[1].classContent)+" svelte-n7cvum"),j(o,"style",n[9]),Ie(o,"content",!n[0]),j(i,"class",l=fi(n[1].classWindow)+" svelte-n7cvum"),j(i,"role","dialog"),j(i,"aria-modal","true"),j(i,"aria-label",c=n[1].ariaLabelledBy?null:n[1].ariaLabel||null),j(i,"aria-labelledby",f=n[1].ariaLabelledBy||null),j(i,"style",n[8]),Ie(i,"window",!n[0]),j(t,"class",p=fi(n[1].classWindowWrap)+" svelte-n7cvum"),j(t,"style",n[7]),Ie(t,"wrap",!n[0]),j(e,"aria-hidden","true"),j(e,"id",m=n[1].id),j(e,"class",g=fi(n[1].classBg)+" svelte-n7cvum"),j(e,"style",n[6]),Ie(e,"bg",!n[0])},m:function(_,E){ae(_,e,E),z(e,t),z(t,i),C&&C.m(i,null),z(i,r),z(i,o),s&&Me(s,o,null),n[50](i),n[51](t),n[52](e),b=!0,x||(k=[Ne(i,"introstart",function(){ir(n[13])&&n[13].apply(this,arguments)}),Ne(i,"outrostart",function(){ir(n[14])&&n[14].apply(this,arguments)}),Ne(i,"introend",function(){ir(n[15])&&n[15].apply(this,arguments)}),Ne(i,"outroend",function(){ir(n[16])&&n[16].apply(this,arguments)}),Ne(e,"mousedown",n[20]),Ne(e,"mouseup",n[21])],x=!0)},p:function(_,E){if((n=_)[1].closeButton?C?(C.p(n,E),2&E[0]&&T(C,1)):((C=ow(n)).c(),T(C,1),C.m(i,r)):C&&(De(),D(C,1,1,function(){C=null}),ze()),4&E[0]&&S!==(S=n[2])){if(s){De();var q=s;D(q.$$.fragment,1,0,function(){Pe(q,1)}),ze()}S?(Te((s=ls(S,{})).$$.fragment),T(s.$$.fragment,1),Me(s,o,null)):s=null}(!b||2&E[0]&&a!==(a=fi(n[1].classContent)+" svelte-n7cvum"))&&j(o,"class",a),(!b||512&E[0])&&j(o,"style",n[9]),(!b||3&E[0])&&Ie(o,"content",!n[0]),(!b||2&E[0]&&l!==(l=fi(n[1].classWindow)+" svelte-n7cvum"))&&j(i,"class",l),(!b||2&E[0]&&c!==(c=n[1].ariaLabelledBy?null:n[1].ariaLabel||null))&&j(i,"aria-label",c),(!b||2&E[0]&&f!==(f=n[1].ariaLabelledBy||null))&&j(i,"aria-labelledby",f),(!b||256&E[0])&&j(i,"style",n[8]),(!b||3&E[0])&&Ie(i,"window",!n[0]),(!b||2&E[0]&&p!==(p=fi(n[1].classWindowWrap)+" svelte-n7cvum"))&&j(t,"class",p),(!b||128&E[0])&&j(t,"style",n[7]),(!b||3&E[0])&&Ie(t,"wrap",!n[0]),(!b||2&E[0]&&m!==(m=n[1].id))&&j(e,"id",m),(!b||2&E[0]&&g!==(g=fi(n[1].classBg)+" svelte-n7cvum"))&&j(e,"class",g),(!b||64&E[0])&&j(e,"style",n[6]),(!b||3&E[0])&&Ie(e,"bg",!n[0])},i:function(_){b||(T(C),s&&T(s.$$.fragment,_),_&&Ya(function(){b&&(h||(h=ch(i,n[12],n[1].transitionWindowProps,!0)),h.run(1))}),_&&Ya(function(){b&&(v||(v=ch(e,n[11],n[1].transitionBgProps,!0)),v.run(1))}),b=!0)},o:function(_){D(C),s&&D(s.$$.fragment,_),_&&(h||(h=ch(i,n[12],n[1].transitionWindowProps,!1)),h.run(0)),_&&(v||(v=ch(e,n[11],n[1].transitionBgProps,!1)),v.run(0)),b=!1},d:function(_){_&&se(e),C&&C.d(),s&&Pe(s),n[50](null),_&&h&&h.end(),n[51](null),n[52](null),_&&v&&v.end(),x=!1,Yn(k)}}}function ow(n){var e,t,i,r,o,s=[xN,bN],a=[];function l(c,f){return 2&f[0]&&(e=null),e==null&&(e=!!c[17](c[1].closeButton)),e?0:1}return t=l(n,[-1,-1,-1]),i=a[t]=s[t](n),{c:function(){i.c(),r=On()},m:function(c,f){a[t].m(c,f),ae(c,r,f),o=!0},p:function(c,f){var h=t;(t=l(c,f))===h?a[t].p(c,f):(De(),D(a[h],1,1,function(){a[h]=null}),ze(),(i=a[t])?i.p(c,f):(i=a[t]=s[t](c)).c(),T(i,1),i.m(r.parentNode,r))},i:function(c){o||(T(i),o=!0)},o:function(c){D(i),o=!1},d:function(c){c&&se(r),a[t].d(c)}}}function bN(n){var e,t,i,r;return{c:function(){j(e=K("button"),"class",t=fi(n[1].classCloseButton)+" svelte-n7cvum"),j(e,"aria-label","Close modal"),j(e,"style",n[10]),j(e,"type","button"),Ie(e,"close",!n[0])},m:function(o,s){ae(o,e,s),i||(r=Ne(e,"click",n[18]),i=!0)},p:function(o,s){2&s[0]&&t!==(t=fi(o[1].classCloseButton)+" svelte-n7cvum")&&j(e,"class",t),1024&s[0]&&j(e,"style",o[10]),3&s[0]&&Ie(e,"close",!o[0])},i:Ve,o:Ve,d:function(o){o&&se(e),i=!1,r()}}}function xN(n){var e,t,i,r=n[1].closeButton;function o(s,a){return{props:{onClose:s[18]}}}return r&&(e=ls(r,o(n))),{c:function(){e&&Te(e.$$.fragment),t=On()},m:function(s,a){e&&Me(e,s,a),ae(s,t,a),i=!0},p:function(s,a){if(2&a[0]&&r!==(r=s[1].closeButton)){if(e){De();var l=e;D(l.$$.fragment,1,0,function(){Pe(l,1)}),ze()}r?(Te((e=ls(r,o(s))).$$.fragment),T(e.$$.fragment,1),Me(e,t.parentNode,t)):e=null}},i:function(s){i||(e&&T(e.$$.fragment,s),i=!0)},o:function(s){e&&D(e.$$.fragment,s),i=!1},d:function(s){s&&se(t),e&&Pe(e,s)}}}function wN(n){var e,t,i,r,o=n[2]&&rw(n),s=n[49].default,a=_i(s,n,n[48],null);return{c:function(){o&&o.c(),e=ve(),a&&a.c()},m:function(l,c){o&&o.m(l,c),ae(l,e,c),a&&a.m(l,c),t=!0,i||(r=Ne(vN,"keydown",n[19]),i=!0)},p:function(l,c){l[2]?o?(o.p(l,c),4&c[0]&&T(o,1)):((o=rw(l)).c(),T(o,1),o.m(e.parentNode,e)):o&&(De(),D(o,1,1,function(){o=null}),ze()),a&&a.p&&(!t||131072&c[1])&&Si(a,s,l,l[48],t?ji(s,l[48],c,null):Ci(l[48]),null)},i:function(l){t||(T(o),T(a,l),t=!0)},o:function(l){D(o),D(a,l),t=!1},d:function(l){l&&se(e),o&&o.d(l),a&&a.d(l),i=!1,r()}}}function $O(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(t){return new n(ke(ke({},t),{},{props:ke(ke({},e),t.props)}))}}function kN(n,e,t){var i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k=e.$$slots,C=k===void 0?{}:k,S=e.$$scope,_=_O(),E=jO,q=e.isTabbable,te=q===void 0?function(W){return W.tabIndex>=0&&!W.hidden&&!W.disabled&&W.style.display!=="none"&&W.type!=="hidden"&&!!(W.offsetWidth||W.offsetHeight||W.getClientRects().length)}:q,G=e.show,I=G===void 0?null:G,U=e.id,B=U===void 0?null:U,ee=e.key,F=ee===void 0?"simple-modal":ee,ne=e.ariaLabel,re=ne===void 0?null:ne,R=e.ariaLabelledBy,$=R===void 0?null:R,N=e.closeButton,P=N===void 0||N,A=e.closeOnEsc,M=A===void 0||A,Z=e.closeOnOuterClick,le=Z===void 0||Z,de=e.styleBg,xe=de===void 0?{}:de,oe=e.styleWindowWrap,Be=oe===void 0?{}:oe,We=e.styleWindow,Ce=We===void 0?{}:We,be=e.styleContent,Ze=be===void 0?{}:be,Ye=e.styleCloseButton,et=Ye===void 0?{}:Ye,qt=e.classBg,fe=qt===void 0?null:qt,wt=e.classWindowWrap,tt=wt===void 0?null:wt,ce=e.classWindow,bt=ce===void 0?null:ce,Bt=e.classContent,ut=Bt===void 0?null:Bt,Kt=e.classCloseButton,bn=Kt===void 0?null:Kt,it=e.unstyled,H=it!==void 0&&it,J=e.setContext,ie=J===void 0?E:J,me=e.transitionBg,_e=me===void 0?gN:me,Re=e.transitionBgProps,st=Re===void 0?{duration:250}:Re,Tt=e.transitionWindow,Lt=Tt===void 0?_e:Tt,Ln=e.transitionWindowProps,Qt=Ln===void 0?st:Ln,rt=e.disableFocusTrap,$n=rt!==void 0&&rt,oi={id:B,ariaLabel:re,ariaLabelledBy:$,closeButton:P,closeOnEsc:M,closeOnOuterClick:le,styleBg:xe,styleWindowWrap:Be,styleWindow:Ce,styleContent:Ze,styleCloseButton:et,classBg:fe,classWindowWrap:tt,classWindow:bt,classContent:ut,classCloseButton:bn,transitionBg:_e,transitionBgProps:st,transitionWindow:Lt,transitionWindowProps:Qt,disableFocusTrap:$n,isTabbable:te,unstyled:H},Mn=ke({},oi),Qn=null,Zn=function(W){return W?Object.keys(W).reduce(function(Q,ue){return"".concat(Q,"; ").concat(function(ye){return ye.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}(ue),": ").concat(W[ue])},""):""},ei=function(W){return!!(W&&W.constructor&&W.call&&W.apply)},xn=function(){},je=xn,ot=xn,Vt=xn,en=xn,tn=function(W){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};t(2,Qn=$O(W,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{})),t(1,Mn=ke(ke({},oi),Q)),t(6,a=Zn(Object.assign({},{width:window.innerWidth,height:window.innerHeight},Mn.styleBg))),t(7,l=Zn(Mn.styleWindowWrap)),t(8,c=Zn(Mn.styleWindow)),t(9,f=Zn(Mn.styleContent)),t(10,h=Zn(Mn.styleCloseButton)),t(11,p=Mn.transitionBg),t(12,m=Mn.transitionWindow),we(),t(13,je=function(ye){ue.onOpen&&ue.onOpen(ye),_("open"),_("opening")}),t(14,ot=function(ye){ue.onClose&&ue.onClose(ye),_("close"),_("closing")}),t(15,Vt=function(ye){ue.onOpened&&ue.onOpened(ye),_("opened")}),t(16,en=function(ye){ue.onClosed&&ue.onClosed(ye),_("closed")})},rn=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qn&&(t(14,ot=W.onClose||ot),t(16,en=W.onClosed||en),t(2,Qn=null),pt())},we=function(){s=window.scrollY,g=document.body.style.position,v=document.body.style.overflow,b=document.body.style.width,document.body.style.position="fixed",document.body.style.top="-".concat(s,"px"),document.body.style.overflow="hidden",document.body.style.width="100%"},pt=function(){document.body.style.position=g||"",document.body.style.top="",document.body.style.overflow=v||"",document.body.style.width=b||"",window.scrollTo({top:s,left:0,behavior:"instant"})};ie(F,{open:tn,close:rn});var nt=!1;return Xr(function(){nt&&rn()}),go(function(){t(47,nt=!0)}),n.$$set=function(W){"isTabbable"in W&&t(22,te=W.isTabbable),"show"in W&&t(23,I=W.show),"id"in W&&t(24,B=W.id),"key"in W&&t(25,F=W.key),"ariaLabel"in W&&t(26,re=W.ariaLabel),"ariaLabelledBy"in W&&t(27,$=W.ariaLabelledBy),"closeButton"in W&&t(28,P=W.closeButton),"closeOnEsc"in W&&t(29,M=W.closeOnEsc),"closeOnOuterClick"in W&&t(30,le=W.closeOnOuterClick),"styleBg"in W&&t(31,xe=W.styleBg),"styleWindowWrap"in W&&t(32,Be=W.styleWindowWrap),"styleWindow"in W&&t(33,Ce=W.styleWindow),"styleContent"in W&&t(34,Ze=W.styleContent),"styleCloseButton"in W&&t(35,et=W.styleCloseButton),"classBg"in W&&t(36,fe=W.classBg),"classWindowWrap"in W&&t(37,tt=W.classWindowWrap),"classWindow"in W&&t(38,bt=W.classWindow),"classContent"in W&&t(39,ut=W.classContent),"classCloseButton"in W&&t(40,bn=W.classCloseButton),"unstyled"in W&&t(0,H=W.unstyled),"setContext"in W&&t(41,ie=W.setContext),"transitionBg"in W&&t(42,_e=W.transitionBg),"transitionBgProps"in W&&t(43,st=W.transitionBgProps),"transitionWindow"in W&&t(44,Lt=W.transitionWindow),"transitionWindowProps"in W&&t(45,Qt=W.transitionWindowProps),"disableFocusTrap"in W&&t(46,$n=W.disableFocusTrap),"$$scope"in W&&t(48,S=W.$$scope)},n.$$.update=function(){8388608&n.$$.dirty[0]|65536&n.$$.dirty[1]&&nt&&(ei(I)?tn(I):rn())},[H,Mn,Qn,i,r,o,a,l,c,f,h,p,m,je,ot,Vt,en,ei,rn,function(W){if(Mn.closeOnEsc&&Qn&&W.key==="Escape"&&(W.preventDefault(),rn()),Qn&&W.key==="Tab"&&!Mn.disableFocusTrap){var Q=o.querySelectorAll("*"),ue=Array.from(Q).filter(Mn.isTabbable).sort(function($e,_t){return $e.tabIndex-_t.tabIndex}),ye=ue.indexOf(document.activeElement);ye===-1&&W.shiftKey&&(ye=0),ye+=ue.length+(W.shiftKey?-1:1),ue[ye%=ue.length].focus(),W.preventDefault()}},function(W){!Mn.closeOnOuterClick||W.target!==i&&W.target!==r||(x=W.target)},function(W){Mn.closeOnOuterClick&&W.target===x&&(W.preventDefault(),rn())},te,I,B,F,re,$,P,M,le,xe,Be,Ce,Ze,et,fe,tt,bt,ut,bn,ie,_e,st,Lt,Qt,$n,nt,S,C,function(W){pn[W?"unshift":"push"](function(){t(5,o=W)})},function(W){pn[W?"unshift":"push"](function(){t(4,r=W)})},function(W){pn[W?"unshift":"push"](function(){t(3,i=W)})}]}var pr,ri,Co,Is,Mo,ho,ca,MO=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,kN,wN,Gi,{isTabbable:22,show:23,id:24,key:25,ariaLabel:26,ariaLabelledBy:27,closeButton:28,closeOnEsc:29,closeOnOuterClick:30,styleBg:31,styleWindowWrap:32,styleWindow:33,styleContent:34,styleCloseButton:35,classBg:36,classWindowWrap:37,classWindow:38,classContent:39,classCloseButton:40,unstyled:0,setContext:41,transitionBg:42,transitionBgProps:43,transitionWindow:44,transitionWindowProps:45,disableFocusTrap:46},yN,[-1,-1,-1]),r}return ct(t)}();(function(n){n.text="text",n.tree="tree",n.table="table"})(pr||(pr={})),function(n){n.after="after",n.inside="inside",n.key="key",n.value="value",n.multi="multi",n.text="text"}(ri||(ri={})),function(n){n.after="after",n.key="key",n.value="value",n.inside="inside"}(Co||(Co={})),function(n){n.info="info",n.warning="warning",n.error="error"}(Is||(Is={})),function(n){n.key="key",n.value="value"}(Mo||(Mo={})),function(n){n.asc="asc",n.desc="desc"}(ho||(ho={})),function(n){n.no="no",n.self="self",n.nextInside="nextInside"}(ca||(ca={}));var sw=50,_N=200,jN=400,SN=1200,PO=1e3,zu=100,Dl=100,Wg=2e4,tl=[{start:0,end:zu}],CN=104857600,ON=1048576,Ug=10485760,TO=10240,nl={closeButton:!1,classBg:"jse-modal-bg",classWindow:"jse-modal-window",classWindowWrap:"jse-modal-window-wrap",classContent:"jse-modal-container"},$N=ke(ke({},nl),{},{classWindow:"jse-modal-window jse-modal-window-sort"}),MN=ke(ke({},nl),{},{classWindow:"jse-modal-window jse-modal-window-transform"}),PN=ke(ke({},nl),{},{classWindow:"jse-modal-window jse-modal-window-jsoneditor"}),e1="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",t1="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",Ns="hover-insert-inside",qu="hover-insert-after",Qg="hover-collection",gm="valid",aw="repairable",ws=336,ks=260,TN=Kr(Kr({},ho.asc,"ascending"),ho.desc,"descending"),EN=0;function pu(){return++EN}function yr(n){return parseInt(n,10)}function n1(n){return AN.test(n)}var AN=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function li(n){return Ii(n)==="object"&&n!==null&&n.constructor.name==="Object"}function gi(n){return Ii(n)==="object"&&n!==null&&(n.constructor.name==="Object"||n.constructor.name==="Array")}function Zg(n){if(typeof n=="number")return n>9466848e5&&isFinite(n)&&Math.floor(n)===n&&!isNaN(new Date(n).valueOf());if(typeof n=="bigint")return Zg(Number(n));try{var e=n&&n.valueOf();if(e!==n)return Zg(e)}catch{return!1}return!1}function EO(n){var e=window.document.createElement("div");e.style.color=n;var t=e.style.color;return t!==""?t.replace(/\s+/g,"").toLowerCase():null}function i1(n,e){if(typeof n=="number"||typeof n=="string"||typeof n=="boolean"||n===void 0)return Ii(n);if(typeof n=="bigint")return"number";if(n===null)return"null";if(Array.isArray(n))return"array";if(li(n))return"object";var t=e.stringify(n);return t&&n1(t)?"number":t==="true"||t==="false"?"boolean":t==="null"?"null":"unknown"}var RN=/^https?:\/\/\S+$/;function cp(n){return typeof n=="string"&&RN.test(n)}function Cc(n,e){if(n==="")return"";var t=n.trim();return t==="null"?null:t==="true"||t!=="false"&&(n1(t)?e.parse(t):n)}function LN(n){return IN.test(n)}var IN=/^-?[0-9]+$/,NN=1e4,BN=[];function Jg(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t={};if(!Array.isArray(n))throw new TypeError("Array expected");function i(s,a){(!Array.isArray(s)&&!li(s)||e&&a.length>0)&&(t[at(a)]=!0),li(s)&&Object.keys(s).forEach(function(l){i(s[l],a.concat(l))})}for(var r=Math.min(n.length,NN),o=0;o<r;o++)i(n[o],BN);return Object.keys(t).sort().map(Es)}function AO(n,e,t){if(!(e<=n))for(var i=n;i<e;i++)t(i)}function jd(n,e){return n.length>e?n.slice(0,e):n}function lw(n){return ke({},n)}function cw(n){return Object.values(n)}function uw(n,e,t,i){var r=n.slice(0),o=r.splice(e,t);return r.splice.apply(r,[e+i,0].concat(ln(o))),r}function of(n,e){try{return e.parse(n)}catch{return e.parse(is(n))}}function RO(n,e){try{return of(n,e)}catch{return}}function up(n,e){n=n.replace(IO,"");try{return e(n)}catch{}try{return e("["+n+"]")}catch{}try{return e("{"+n+"}")}catch{}throw new Error("Failed to parse partial JSON")}function LO(n){n=n.replace(IO,"");try{return is(n)}catch{}try{var e=is("["+n+"]");return e.substring(1,e.length-1)}catch{}try{var t=is("{"+n+"}");return t.substring(1,t.length-1)}catch{}throw new Error("Failed to repair partial JSON")}var IO=/,\s*$/;function dc(n,e){var t=hw.exec(e);if(t){var i=yr(t[2]),r=function(m,g){for(var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m.length,x=0,k=v;k<b;k++)m.charAt(k)===g&&x++;return x}(n,`
`,0,i),o=i-n.lastIndexOf(`
`,i)-1;return{position:i,line:r,column:o,message:e.replace(hw,function(){return"line ".concat(r+1," column ").concat(o+1)})}}var s=qN.exec(e),a=s?yr(s[1]):null,l=a!==null?a-1:null,c=FN.exec(e),f=c?yr(c[1]):null,h=f!==null?f-1:null,p=l!==null&&h!==null?function(m,g,v){for(var b=m.indexOf(`
`),x=1;x<g&&b!==-1;)b=m.indexOf(`
`,b+1),x++;return b!==-1?b+v+1:null}(n,l,h):null;return{position:p,line:l,column:h,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}function vm(n){return li(n)?n.json!==void 0?n.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':null:n.text===void 0?'Content must contain either a property "json" or a property "text"':typeof n.text!="string"?'Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?':null:"Content must be an object"}function pc(n){return li(n)&&typeof n.text=="string"}function _s(n){return li(n)&&n.json!==void 0}function DN(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JSON;return pc(n)?n:{text:t.stringify(n.json,null,e)}}function fw(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:JSON;return _s(n)?n:{json:e.parse(n.text)}}function Gg(n,e,t){return DN(n,e,t).text}function NO(n,e){return zN(n,e)>e}function zN(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;if(pc(n))return n.text.length;var t=n.json,i=0;return function r(o){if(Array.isArray(o)){if((i+=o.length-1+2)>e)return i;for(var s=0;s<o.length;s++)if(r(o[s]),i>e)return i}else if(li(o)){var a=Object.keys(o);i+=2+a.length+(a.length-1);for(var l=0;l<a.length;l++){var c=a[l],f=o[c];i+=c.length+2,r(f)}}else i+=typeof o=="string"?o.length+2:String(o).length}(t),i}var hw=/(position|char) (\d+)/,qN=/line (\d+)/,FN=/column (\d+)/;function HN(n,e){return n.parse===e.parse&&n.stringify===e.stringify}function dw(n){return VN.test(n)&&n.length>2}var VN=/^[[{]\S/;function r1(n){var e=n.escapeControlCharacters,t=n.escapeUnicodeCharacters;return e?t?WN:UN:t?QN:ZN}var WN={escapeValue:function(n){return BO(qO(String(n)))},unescapeValue:function(n){return FO(DO(n))}},UN={escapeValue:function(n){return qO(String(n))},unescapeValue:function(n){return FO(n)}},QN={escapeValue:function(n){return BO(String(n))},unescapeValue:function(n){return DO(n)}},ZN={escapeValue:function(n){return String(n)},unescapeValue:function(n){return n}};function BO(n){return n.replace(/[^\x20-\x7F]/g,function(e){var t;return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+((t=e.codePointAt(0))===null||t===void 0?void 0:t.toString(16))).slice(-4)})}function DO(n){return n.replace(/\\u[a-fA-F0-9]{4}/g,function(e){try{var t=JSON.parse('"'+e+'"');return zO[t]||t}catch{return e}})}var zO={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},JN={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function qO(n){return n.replace(/["\b\f\n\r\t\\]/g,function(e){return zO[e]||e})}function FO(n){return n.replace(/\\["bfnrt\\]/g,function(e){return JN[e]||e})}function il(n){return typeof n!="string"?String(n):n.endsWith(`
`)?n+`
`:n}function o1(n,e){return sf(n,function(t){return t.nodeName.toUpperCase()===e.toUpperCase()})}function qa(n,e,t){return sf(n,function(i){return function(r,o,s){return typeof r.getAttribute=="function"&&r.getAttribute(o)===s}(i,e,t)})}function sf(n,e){return!!s1(n,e)}function s1(n,e){for(var t=n;t&&!e(t);)t=t.parentNode;return t||void 0}function HO(n){if(n.firstChild!=null){var e=document.createRange(),t=window.getSelection();e.setStart(n,1),e.collapse(!0),t==null||t.removeAllRanges(),t==null||t.addRange(e)}else n.focus()}function Sd(n,e,t,i){var r=Oc(n);if(r){var o=r.document.activeElement?r.document.activeElement:null;o&&o.isContentEditable&&(o.textContent=t?e:o.textContent+e,HO(o),i&&i(o))}}function Oc(n){return n&&n.ownerDocument?n.ownerDocument.defaultView:null}function a1(n){var e=Oc(n),t=e==null?void 0:e.document.activeElement;return!!t&&sf(t,function(i){return i===n})}function VO(n,e){return s1(n,function(t){return t.nodeName===e})}function ym(n){return qa(n,"data-type","selectable-key")?ri.key:qa(n,"data-type","selectable-value")?ri.value:qa(n,"data-type","insert-selection-area-inside")?ri.inside:qa(n,"data-type","insert-selection-area-after")?ri.after:ri.multi}function mc(n){return encodeURIComponent(at(n))}function WO(n){var e=s1(n,function(i){return!(i==null||!i.hasAttribute)&&i.hasAttribute("data-path")}),t=e==null?void 0:e.getAttribute("data-path");return t?Es(decodeURIComponent(t)):null}function GN(n){var e=n.allElements,t=n.currentElement,i=n.direction,r=n.hasPrio,o=r===void 0?function(){return!0}:r,s=n.margin,a=s===void 0?10:s,l=s8(e.filter(function(C){var S=C.getBoundingClientRect();return S.width>0&&S.height>0}),f),c=f(t);function f(C){var S=C.getBoundingClientRect();return{x:S.left+S.width/2,y:S.top+S.height/2,rect:S,element:C}}function h(C,S){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=C.x-S.x,q=(C.y-S.y)*_;return Math.sqrt(E*E+q*q)}var p=function(C){return h(C,c)};if(i==="Left"||i==="Right"){var m=i==="Left"?l.filter(function(C){return S=c,C.rect.left+a<S.rect.left;var S}):l.filter(function(C){return S=c,C.rect.right>S.rect.right+a;var S}),g=m.filter(function(C){return S=C,_=c,Math.abs(S.y-_.y)<a;var S,_}),v=jf(g,p)||jf(m,function(C){return h(C,c,10)});return v==null?void 0:v.element}if(i==="Up"||i==="Down"){var b=i==="Up"?l.filter(function(C){return S=c,C.y+a<S.y;var S}):l.filter(function(C){return S=c,C.y>S.y+a;var S}),x=b.filter(function(C){return o(C.element)}),k=jf(x,p)||jf(b,p);return k==null?void 0:k.element}}function UO(n){return!!n&&n.nodeName==="DIV"&&typeof n.refresh=="function"&&typeof n.cancel=="function"}function Sa(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"+",t=[];n.ctrlKey&&t.push("Ctrl"),n.metaKey&&t.push("Ctrl"),n.altKey&&t.push("Alt"),n.shiftKey&&t.push("Shift");var i=n.key.length===1?n.key.toUpperCase():n.key;return i in KN||t.push(i),t.join(e)}var KN={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0},bm=K0.window;function XN(n){Gt(n,"svelte-1r8q3m8",".jse-absolute-popup.svelte-1r8q3m8.svelte-1r8q3m8{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-1r8q3m8 .jse-hidden-input.svelte-1r8q3m8{position:fixed;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-1r8q3m8 .jse-absolute-popup-content.svelte-1r8q3m8{position:absolute}")}function pw(n){var e,t,i,r,o,s,a=[n[0].props],l=n[0].component;function c(f,h){var p={};if(h!==void 0&&1&h)p=vo(a,[el(f[0].props)]);else for(var m=0;m<a.length;m+=1)p=Dr(p,a[m]);return{props:p}}return l&&(r=ls(l,c(n))),{c:function(){e=K("div"),t=K("input"),i=ve(),r&&Te(r.$$.fragment),j(t,"type","text"),t.readOnly=!0,j(t,"tabindex","-1"),j(t,"class","jse-hidden-input svelte-1r8q3m8"),j(e,"class","jse-absolute-popup-content svelte-1r8q3m8"),j(e,"style",o=mw(n[1],n[0].options))},m:function(f,h){ae(f,e,h),z(e,t),n[7](t),z(e,i),r&&Me(r,e,null),s=!0},p:function(f,h){if(1&h&&l!==(l=f[0].component)){if(r){De();var p=r;D(p.$$.fragment,1,0,function(){Pe(p,1)}),ze()}l?(Te((r=ls(l,c(f,h))).$$.fragment),T(r.$$.fragment,1),Me(r,e,null)):r=null}else if(l){var m=1&h?vo(a,[el(f[0].props)]):{};r.$set(m)}(!s||3&h&&o!==(o=mw(f[1],f[0].options)))&&j(e,"style",o)},i:function(f){s||(r&&T(r.$$.fragment,f),s=!0)},o:function(f){r&&D(r.$$.fragment,f),s=!1},d:function(f){f&&se(e),n[7](null),r&&Pe(r)}}}function YN(n){var e,t,i,r,o=n[1]&&pw(n);return{c:function(){e=K("div"),o&&o.c(),j(e,"role","none"),j(e,"class","jse-absolute-popup svelte-1r8q3m8")},m:function(s,a){ae(s,e,a),o&&o.m(e,null),n[8](e),t=!0,i||(r=[Ne(bm,"mousedown",n[3],!0),Ne(bm,"keydown",n[4],!0),Ne(bm,"wheel",n[5],!0),Ne(e,"mousedown",e9),Ne(e,"keydown",n[4])],i=!0)},p:function(s,a){var l=Jt(a,1)[0];s[1]?o?(o.p(s,l),2&l&&T(o,1)):((o=pw(s)).c(),T(o,1),o.m(e,null)):o&&(De(),D(o,1,1,function(){o=null}),ze())},i:function(s){t||(T(o),t=!0)},o:function(s){D(o),t=!1},d:function(s){s&&se(e),o&&o.d(),n[8](null),i=!1,Yn(r)}}}function e9(n){n.stopPropagation()}function mw(n,e){var t=n.getBoundingClientRect(),i=function(){if(e.anchor){var l=e.anchor,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,m=e.offsetTop,g=m===void 0?0:m,v=e.offsetLeft,b=v===void 0?0:v,x=e.position,k=l.getBoundingClientRect(),C=k.left,S=k.top,_=k.bottom,E=k.right,q=x==="top"||S+p>window.innerHeight&&S>p,te=x==="left"||C+f>window.innerWidth&&C>f;return{left:te?E-b:C+b,top:q?S-g:_+g,positionAbove:q,positionLeft:te}}if(typeof e.left=="number"&&typeof e.top=="number"){var G=e.left,I=e.top,U=e.width,B=U===void 0?0:U,ee=e.height,F=ee===void 0?0:ee;return{left:G,top:I,positionAbove:I+F>window.innerHeight&&I>F,positionLeft:G+B>window.innerWidth&&G>B}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}(),r=i.left,o=i.top,s=i.positionAbove,a=i.positionLeft;return(s?"bottom: ".concat(t.top-o,"px;"):"top: ".concat(o-t.top,"px;"))+(a?"right: ".concat(t.left-r,"px;"):"left: ".concat(r-t.left,"px;"))}function t9(n,e,t){var i,r,o=e.popup,s=e.closeAbsolutePopup;function a(l){o.options&&o.options.closeOnOuterClick&&!sf(l.target,function(c){return c===i})&&s(o.id)}return go(function(){r&&r.focus()}),n.$$set=function(l){"popup"in l&&t(0,o=l.popup),"closeAbsolutePopup"in l&&t(6,s=l.closeAbsolutePopup)},[o,i,r,function(l){a(l)},function(l){Sa(l)==="Escape"&&s(o.id)},function(l){a(l)},s,function(l){pn[l?"unshift":"push"](function(){t(2,r=l)})},function(l){pn[l?"unshift":"push"](function(){t(1,i=l)})}]}var n9=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,t9,YN,Gi,{popup:0,closeAbsolutePopup:6},XN),r}return ct(t)}();function gw(n,e,t){var i=n.slice();return i[6]=e[t],i}function vw(n){var e,t;return e=new n9({props:{popup:n[6],closeAbsolutePopup:n[1]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.popup=i[6]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function i9(n){for(var e,t,i=Zt(n[0]),r=[],o=0;o<i.length;o+=1)r[o]=vw(gw(n,i,o));var s=function(c){return D(r[c],1,1,function(){r[c]=null})},a=n[3].default,l=_i(a,n,n[2],null);return{c:function(){for(var c=0;c<r.length;c+=1)r[c].c();e=ve(),l&&l.c()},m:function(c,f){for(var h=0;h<r.length;h+=1)r[h]&&r[h].m(c,f);ae(c,e,f),l&&l.m(c,f),t=!0},p:function(c,f){var h=Jt(f,1)[0];if(3&h){var p;for(i=Zt(c[0]),p=0;p<i.length;p+=1){var m=gw(c,i,p);r[p]?(r[p].p(m,h),T(r[p],1)):(r[p]=vw(m),r[p].c(),T(r[p],1),r[p].m(e.parentNode,e))}for(De(),p=i.length;p<r.length;p+=1)s(p);ze()}l&&l.p&&(!t||4&h)&&Si(l,a,c,c[2],t?ji(a,c[2],h,null):Ci(c[2]),null)},i:function(c){if(!t){for(var f=0;f<i.length;f+=1)T(r[f]);T(l,c),t=!0}},o:function(c){r=r.filter(Boolean);for(var f=0;f<r.length;f+=1)D(r[f]);D(l,c),t=!1},d:function(c){c&&se(e),Ri(r,c),l&&l.d(c)}}}function r9(n,e,t){var i=e.$$slots,r=i===void 0?{}:i,o=e.$$scope,s=ar("jsoneditor:AbsolutePopup"),a=[];function l(c){var f=a.findIndex(function(p){return p.id===c});if(f!==-1){var h=a[f];h.options.onClose&&h.options.onClose(),t(0,a=a.filter(function(p){return p.id!==c}))}}return jO("absolute-popup",{openAbsolutePopup:function(c,f,h){s("open...",f,h);var p={id:pu(),component:c,props:f||{},options:h||{}};return t(0,a=[].concat(ln(a),[p])),p.id},closeAbsolutePopup:l}),n.$$set=function(c){"$$scope"in c&&t(2,o=c.$$scope)},n.$$.update=function(){1&n.$$.dirty&&s("popups",a)},[a,l,o,r]}var QO=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,r9,i9,Yt,{}),r}return ct(t)}();function zr(n){return n.map(function(e,t){return ZO.test(e)?"["+e+"]":/[.[\]]/.test(e)||e===""?'["'+(e.replace(/"/g,'\\"')+'"]'):(t>0?".":"")+e}).join("")}function o9(n){for(var e=[],t=0;t<n.length;)n[t]==="."&&t++,n[t]==="["?(t++,n[t]==='"'?(t++,e.push(i(function(o){return o==='"'},!0)),r('"')):e.push(i(function(o){return o==="]"})),r("]")):e.push(i(function(o){return o==="."||o==="["}));function i(o){for(var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a="";t<n.length&&!o(n[t]);)s&&n[t]==="\\"&&n[t+1]==='"'?(a+='"',t+=2):(a+=n[t],t++);return a}function r(o){if(n[t]!==o)throw new SyntaxError("Invalid JSON path: ".concat(o," expected at position ").concat(t));t++}return e}function nu(n){return{value:n,label:An(n)?"(item root)":zr(n)}}function Pa(n){return n.map(function(e){return ZO.test(e)?"?.[".concat(e,"]"):s9.test(e)?"?.".concat(e):"?.[".concat(JSON.stringify(e),"]")}).join("")}var s9=/^[a-zA-Z$_][a-zA-Z$_\d]*$/,ZO=/^\d+$/;function af(n,e){for(var t=new Set(e),i=n.replace(/ \(copy( \d+)?\)$/,""),r=n,o=1;t.has(r);){var s="copy"+(o>1?" "+o:"");r="".concat(i," (").concat(s,")"),o++}return r}function Bs(n,e){var t=e-3;return n.length>e?n.substring(0,t)+"...":n}function a9(n){if(n==="")return"";var e=n.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e!=="undefined"){var t=Number(n),i=parseFloat(n);return isNaN(t)||isNaN(i)?n:t}}var l9={id:"javascript",name:"JavaScript",description:`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`,createQuery:function(n,e){var t=e.filter,i=e.sort,r=e.projection,o=[`  return data
`];if(t&&t.path&&t.relation&&t.value){var s="item => item".concat(Pa(t.path)),a=a9(t.value),l=typeof a=="string"?"'".concat(t.value,"'"):LN(t.value)&&!Number.isSafeInteger(a)?"".concat(t.value,"n"):t.value;o.push("    .filter(".concat(s," ").concat(t.relation," ").concat(l,`)
`))}if(i&&i.path&&i.direction&&(i.direction==="desc"?o.push(`    .slice()
    .sort((a, b) => {
      // sort descending
`+"      const valueA = a".concat(Pa(i.path),`
`)+"      const valueB = b".concat(Pa(i.path),`
`)+`      return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
    })
`):o.push(`    .slice()
    .sort((a, b) => {
      // sort ascending
`+"      const valueA = a".concat(Pa(i.path),`
`)+"      const valueB = b".concat(Pa(i.path),`
`)+`      return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
    })
`)),r&&r.paths)if(r.paths.length>1){var c=r.paths.map(function(h){var p=h[h.length-1]||"item",m="item".concat(Pa(h));return"      ".concat(JSON.stringify(p),": ").concat(m)});o.push(`    .map(item => ({
`.concat(c.join(`,
`),`})
    )
`))}else{var f="item".concat(Pa(r.paths[0]));o.push("    .map(item => ".concat(f,`)
`))}return`function query (data) {
`.concat(o.join(""),"}")},executeQuery:function(n,e){var t=new Function(`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(n);return t!==void 0?t:null}};function c9(n){var e;return{c:function(){e=ss("g")},m:function(t,i){ae(t,e,i),e.innerHTML=n[0]},p:function(t,i){1&Jt(i,1)[0]&&(e.innerHTML=t[0])},i:Ve,o:Ve,d:function(t){t&&se(e)}}}function u9(n,e,t){var i=870711,r="",o=e.data;function s(a){if(!a||!a.raw)return"";var l=a.raw,c={};return l=l.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,function(f,h){var p="fa-".concat((i+=1).toString(16));return c[h]=p,' id="'.concat(p,'"')}),l=l.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(f,h,p,m){var g=h||m;return g&&c[g]?"#".concat(c[g]):f}),l}return n.$$set=function(a){"data"in a&&t(1,o=a.data)},n.$$.update=function(){2&n.$$.dirty&&t(0,r=s(o))},[r,o]}var f9=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,u9,c9,Gi,{data:1}),r}return ct(t)}();function h9(n){Gt(n,"svelte-1mc5hvj",".fa-icon.svelte-1mc5hvj{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1mc5hvj{transform:scale(-1, 1)}.fa-flip-vertical.svelte-1mc5hvj{transform:scale(1, -1)}.fa-spin.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1mc5hvj{color:#fff}.fa-pulse.svelte-1mc5hvj{animation:svelte-1mc5hvj-fa-spin 1s infinite steps(8)}@keyframes svelte-1mc5hvj-fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function d9(n){for(var e,t,i,r,o=n[12].default,s=_i(o,n,n[11],null),a=[{version:"1.1"},{class:t="fa-icon "+n[0]},{width:n[1]},{height:n[2]},{"aria-label":n[9]},{role:i=n[9]?"img":"presentation"},{viewBox:n[3]},{style:n[8]},n[10]],l={},c=0;c<a.length;c+=1)l=Dr(l,a[c]);return{c:function(){e=ss("svg"),s&&s.c(),hc(e,l),Ie(e,"fa-spin",n[4]),Ie(e,"fa-pulse",n[6]),Ie(e,"fa-inverse",n[5]),Ie(e,"fa-flip-horizontal",n[7]==="horizontal"),Ie(e,"fa-flip-vertical",n[7]==="vertical"),Ie(e,"svelte-1mc5hvj",!0)},m:function(f,h){ae(f,e,h),s&&s.m(e,null),r=!0},p:function(f,h){var p=Jt(h,1)[0];s&&s.p&&(!r||2048&p)&&Si(s,o,f,f[11],r?ji(o,f[11],p,null):Ci(f[11]),null),hc(e,l=vo(a,[{version:"1.1"},(!r||1&p&&t!==(t="fa-icon "+f[0]))&&{class:t},(!r||2&p)&&{width:f[1]},(!r||4&p)&&{height:f[2]},(!r||512&p)&&{"aria-label":f[9]},(!r||512&p&&i!==(i=f[9]?"img":"presentation"))&&{role:i},(!r||8&p)&&{viewBox:f[3]},(!r||256&p)&&{style:f[8]},1024&p&&f[10]])),Ie(e,"fa-spin",f[4]),Ie(e,"fa-pulse",f[6]),Ie(e,"fa-inverse",f[5]),Ie(e,"fa-flip-horizontal",f[7]==="horizontal"),Ie(e,"fa-flip-vertical",f[7]==="vertical"),Ie(e,"svelte-1mc5hvj",!0)},i:function(f){r||(T(s,f),r=!0)},o:function(f){D(s,f),r=!1},d:function(f){f&&se(e),s&&s.d(f)}}}function p9(n,e,t){var i=["class","width","height","box","spin","inverse","pulse","flip","style","label"],r=kd(e,i),o=e,s=o.$$slots,a=s===void 0?{}:s,l=o.$$scope,c=e.class,f=c===void 0?"":c,h=e.width,p=e.height,m=e.box,g=m===void 0?"0 0 0 0":m,v=e.spin,b=v!==void 0&&v,x=e.inverse,k=x!==void 0&&x,C=e.pulse,S=C!==void 0&&C,_=e.flip,E=_===void 0?"none":_,q=e.style,te=q===void 0?"":q,G=e.label,I=G===void 0?"":G;return n.$$set=function(U){e=Dr(Dr({},e),yO(U)),t(10,r=kd(e,i)),"class"in U&&t(0,f=U.class),"width"in U&&t(1,h=U.width),"height"in U&&t(2,p=U.height),"box"in U&&t(3,g=U.box),"spin"in U&&t(4,b=U.spin),"inverse"in U&&t(5,k=U.inverse),"pulse"in U&&t(6,S=U.pulse),"flip"in U&&t(7,E=U.flip),"style"in U&&t(8,te=U.style),"label"in U&&t(9,I=U.label),"$$scope"in U&&t(11,l=U.$$scope)},[f,h,p,g,b,k,S,E,te,I,r,l,a]}var m9=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,p9,d9,Gi,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,style:8,label:9},h9),r}return ct(t)}();function yw(n,e,t){var i=n.slice();return i[24]=e[t],i}function bw(n,e,t){var i=n.slice();return i[27]=e[t],i}function xw(n){var e,t,i,r,o=n[6].paths&&ww(n),s=n[6].polygons&&_w(n),a=n[6].raw&&Sw(n);return{c:function(){o&&o.c(),e=ve(),s&&s.c(),t=ve(),a&&a.c(),i=On()},m:function(l,c){o&&o.m(l,c),ae(l,e,c),s&&s.m(l,c),ae(l,t,c),a&&a.m(l,c),ae(l,i,c),r=!0},p:function(l,c){l[6].paths?o?o.p(l,c):((o=ww(l)).c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),l[6].polygons?s?s.p(l,c):((s=_w(l)).c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),l[6].raw?a?(a.p(l,c),64&c&&T(a,1)):((a=Sw(l)).c(),T(a,1),a.m(i.parentNode,i)):a&&(De(),D(a,1,1,function(){a=null}),ze())},i:function(l){r||(T(a),r=!0)},o:function(l){D(a),r=!1},d:function(l){l&&(se(e),se(t),se(i)),o&&o.d(l),s&&s.d(l),a&&a.d(l)}}}function ww(n){for(var e,t=Zt(n[6].paths),i=[],r=0;r<t.length;r+=1)i[r]=kw(bw(n,t,r));return{c:function(){for(var o=0;o<i.length;o+=1)i[o].c();e=On()},m:function(o,s){for(var a=0;a<i.length;a+=1)i[a]&&i[a].m(o,s);ae(o,e,s)},p:function(o,s){if(64&s){var a;for(t=Zt(o[6].paths),a=0;a<t.length;a+=1){var l=bw(o,t,a);i[a]?i[a].p(l,s):(i[a]=kw(l),i[a].c(),i[a].m(e.parentNode,e))}for(;a<i.length;a+=1)i[a].d(1);i.length=t.length}},d:function(o){o&&se(e),Ri(i,o)}}}function kw(n){for(var e,t=[n[27]],i={},r=0;r<t.length;r+=1)i=Dr(i,t[r]);return{c:function(){hc(e=ss("path"),i)},m:function(o,s){ae(o,e,s)},p:function(o,s){hc(e,i=vo(t,[64&s&&o[27]]))},d:function(o){o&&se(e)}}}function _w(n){for(var e,t=Zt(n[6].polygons),i=[],r=0;r<t.length;r+=1)i[r]=jw(yw(n,t,r));return{c:function(){for(var o=0;o<i.length;o+=1)i[o].c();e=On()},m:function(o,s){for(var a=0;a<i.length;a+=1)i[a]&&i[a].m(o,s);ae(o,e,s)},p:function(o,s){if(64&s){var a;for(t=Zt(o[6].polygons),a=0;a<t.length;a+=1){var l=yw(o,t,a);i[a]?i[a].p(l,s):(i[a]=jw(l),i[a].c(),i[a].m(e.parentNode,e))}for(;a<i.length;a+=1)i[a].d(1);i.length=t.length}},d:function(o){o&&se(e),Ri(i,o)}}}function jw(n){for(var e,t=[n[24]],i={},r=0;r<t.length;r+=1)i=Dr(i,t[r]);return{c:function(){hc(e=ss("polygon"),i)},m:function(o,s){ae(o,e,s)},p:function(o,s){hc(e,i=vo(t,[64&s&&o[24]]))},d:function(o){o&&se(e)}}}function Sw(n){var e,t,i;function r(s){n[16](s)}var o={};return n[6]!==void 0&&(o.data=n[6]),e=new f9({props:o}),pn.push(function(){return So(e,"data",r)}),{c:function(){Te(e.$$.fragment)},m:function(s,a){Me(e,s,a),i=!0},p:function(s,a){var l={};!t&&64&a&&(t=!0,l.data=s[6],jo(function(){return t=!1})),e.$set(l)},i:function(s){i||(T(e.$$.fragment,s),i=!0)},o:function(s){D(e.$$.fragment,s),i=!1},d:function(s){Pe(e,s)}}}function g9(n){var e,t=n[15].default,i=_i(t,n,n[17],null),r=i||function(o){var s,a,l=o[6]&&xw(o);return{c:function(){l&&l.c(),s=On()},m:function(c,f){l&&l.m(c,f),ae(c,s,f),a=!0},p:function(c,f){c[6]?l?(l.p(c,f),64&f&&T(l,1)):((l=xw(c)).c(),T(l,1),l.m(s.parentNode,s)):l&&(De(),D(l,1,1,function(){l=null}),ze())},i:function(c){a||(T(l),a=!0)},o:function(c){D(l),a=!1},d:function(c){c&&se(s),l&&l.d(c)}}}(n);return{c:function(){r&&r.c()},m:function(o,s){r&&r.m(o,s),e=!0},p:function(o,s){i?i.p&&(!e||131072&s)&&Si(i,t,o,o[17],e?ji(t,o[17],s,null):Ci(o[17]),null):r&&r.p&&(!e||64&s)&&r.p(o,e?s:-1)},i:function(o){e||(T(r,o),e=!0)},o:function(o){D(r,o),e=!1},d:function(o){r&&r.d(o)}}}function v9(n){for(var e,t,i=[{label:n[5]},{width:n[7]},{height:n[8]},{box:n[10]},{style:n[9]},{spin:n[1]},{flip:n[4]},{inverse:n[2]},{pulse:n[3]},{class:n[0]},n[11]],r={$$slots:{default:[g9]},$$scope:{ctx:n}},o=0;o<i.length;o+=1)r=Dr(r,i[o]);return e=new m9({props:r}),{c:function(){Te(e.$$.fragment)},m:function(s,a){Me(e,s,a),t=!0},p:function(s,a){var l=Jt(a,1)[0],c=4031&l?vo(i,[32&l&&{label:s[5]},128&l&&{width:s[7]},256&l&&{height:s[8]},1024&l&&{box:s[10]},512&l&&{style:s[9]},2&l&&{spin:s[1]},16&l&&{flip:s[4]},4&l&&{inverse:s[2]},8&l&&{pulse:s[3]},1&l&&{class:s[0]},2048&l&&el(s[11])]):{};131136&l&&(c.$$scope={dirty:l,ctx:s}),e.$set(c)},i:function(s){t||(T(e.$$.fragment,s),t=!0)},o:function(s){D(e.$$.fragment,s),t=!1},d:function(s){Pe(e,s)}}}function y9(n,e,t){var i,r,o,s=["class","data","scale","spin","inverse","pulse","flip","label","style"],a=kd(e,s),l=e,c=l.$$slots,f=c===void 0?{}:c,h=l.$$scope,p=e.class,m=p===void 0?"":p,g=e.data,v=e.scale,b=v===void 0?1:v,x=e.spin,k=x!==void 0&&x,C=e.inverse,S=C!==void 0&&C,_=e.pulse,E=_!==void 0&&_,q=e.flip,te=q===void 0?void 0:q,G=e.label,I=G===void 0?"":G,U=e.style,B=U===void 0?"":U,ee=10,F=10;function ne(){var R=1;return b!==void 0&&(R=Number(b)),isNaN(R)||R<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*R}function re(){return i?Math.max(i.width,i.height)/16:1}return n.$$set=function(R){e=Dr(Dr({},e),yO(R)),t(11,a=kd(e,s)),"class"in R&&t(0,m=R.class),"data"in R&&t(12,g=R.data),"scale"in R&&t(13,b=R.scale),"spin"in R&&t(1,k=R.spin),"inverse"in R&&t(2,S=R.inverse),"pulse"in R&&t(3,E=R.pulse),"flip"in R&&t(4,te=R.flip),"label"in R&&t(5,I=R.label),"style"in R&&t(14,B=R.style),"$$scope"in R&&t(17,h=R.$$scope)},n.$$.update=function(){28672&n.$$.dirty&&(t(6,i=function(R){var $;if(R){if(!("definition"in R)){if("iconName"in R&&"icon"in R){R.iconName;var N=Jt(R.icon,5),P=N[0],A=N[1],M=N[4];$={width:P,height:A,paths:(Array.isArray(M)?M:[M]).map(function(Z){return{d:Z}})}}else $=R[Object.keys(R)[0]];return $}console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead")}}(g)),t(7,ee=i?i.width/re()*ne():0),t(8,F=i?i.height/re()*ne():0),t(9,r=function(){var R="";B!==null&&(R+=B);var $=ne();return $===1?R.length===0?"":R:(R===""||R.endsWith(";")||(R+="; "),"".concat(R,"font-size: ").concat($,"em"))}()),t(10,o=i?"0 0 ".concat(i.width," ").concat(i.height):"0 0 ".concat(ee," ").concat(F)))},[m,k,S,E,te,I,i,ee,F,r,o,a,g,b,B,f,function(R){t(6,i=R),t(12,g),t(14,B),t(13,b)},h]}var Cn=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,y9,v9,Gi,{class:0,data:12,scale:13,spin:1,inverse:2,pulse:3,flip:4,label:5,style:14}),r}return ct(t)}();function b9(n){Gt(n,"svelte-68vtq4",".jse-boolean-toggle.svelte-68vtq4{padding:0;margin:1px 0 0;vertical-align:top;display:inline-flex;color:var(--jse-value-color-boolean, #ff8c00)}.jse-boolean-toggle.svelte-68vtq4:not(.jse-readonly){cursor:pointer}")}function x9(n){var e,t,i,r,o,s,a;return t=new Cn({props:{data:n[0]===!0?Iu:Nu}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"role","checkbox"),j(e,"tabindex","-1"),j(e,"aria-checked",i=n[0]===!0),j(e,"class","jse-boolean-toggle svelte-68vtq4"),j(e,"title",r=n[1]?"Boolean value ".concat(n[0]):"Click to toggle this boolean value"),Ie(e,"jse-readonly",n[1])},m:function(l,c){ae(l,e,c),Me(t,e,null),o=!0,s||(a=Ne(e,"mousedown",n[2]),s=!0)},p:function(l,c){var f=Jt(c,1)[0],h={};1&f&&(h.data=l[0]===!0?Iu:Nu),t.$set(h),(!o||1&f&&i!==(i=l[0]===!0))&&j(e,"aria-checked",i),(!o||3&f&&r!==(r=l[1]?"Boolean value ".concat(l[0]):"Click to toggle this boolean value"))&&j(e,"title",r),(!o||2&f)&&Ie(e,"jse-readonly",l[1])},i:function(l){o||(T(t.$$.fragment,l),o=!0)},o:function(l){D(t.$$.fragment,l),o=!1},d:function(l){l&&se(e),Pe(t),s=!1,a()}}}function w9(n,e,t){var i=e.path,r=e.value,o=e.readOnly,s=e.onPatch,a=e.focus;return n.$$set=function(l){"path"in l&&t(3,i=l.path),"value"in l&&t(0,r=l.value),"readOnly"in l&&t(1,o=l.readOnly),"onPatch"in l&&t(4,s=l.onPatch),"focus"in l&&t(5,a=l.focus)},[r,o,function(l){l.stopPropagation(),o||(s([{op:"replace",path:at(i),value:!r}]),a())},i,s,a]}var k9=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,w9,x9,Yt,{path:3,value:0,readOnly:1,onPatch:4,focus:5},b9),r}return ct(t)}();function _9(n){Gt(n,"svelte-1f4ayrt",".jse-color-picker-popup.svelte-1f4ayrt .picker_wrapper.popup,.jse-color-picker-popup.svelte-1f4ayrt .picker_wrapper.popup .picker_arrow::before,.jse-color-picker-popup.svelte-1f4ayrt .picker_wrapper.popup .picker_arrow::after{background:var(--jse-color-picker-background, var(--jse-panel-background, #ebebeb));line-height:normal}.jse-color-picker-popup.svelte-1f4ayrt .picker_slider,.jse-color-picker-popup.svelte-1f4ayrt .picker_sl,.jse-color-picker-popup.svelte-1f4ayrt .picker_editor input,.jse-color-picker-popup.svelte-1f4ayrt .picker_sample,.jse-color-picker-popup.svelte-1f4ayrt .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow, #cbcbcb 0 0 0 1px)}.jse-color-picker-popup.svelte-1f4ayrt .picker_editor input{background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-color-picker-popup.svelte-1f4ayrt .picker_done button{background:var(--jse-button-background, #e0e0e0);color:var(--jse-button-color, var(--jse-text-color, #4d4d4d))}.jse-color-picker-popup.svelte-1f4ayrt .picker_done button:hover{background:var(--jse-button-background-highlight, #e7e7e7)}")}function j9(n){var e;return{c:function(){j(e=K("div"),"class","jse-color-picker-popup svelte-1f4ayrt")},m:function(t,i){ae(t,e,i),n[4](e)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e),n[4](null)}}}function S9(n,e,t){var i,r=e.color,o=e.onChange,s=e.showOnTop,a=function(){};return go(Xt(Ge().mark(function l(){var c,f,h;return Ge().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,n8(()=>import("./vanilla-picker-P0dws0ou.js"),__vite__mapDeps([]));case 2:if(p.t1=c=p.sent,p.t0=p.t1===null,p.t0){p.next=6;break}p.t0=c===void 0;case 6:if(!p.t0){p.next=10;break}p.t2=void 0,p.next=11;break;case 10:p.t2=c.default;case 11:f=p.t2,h=new f({parent:i,color:r,popup:s?"top":"bottom",onDone:function(m){var g=m.rgba[3]===1?m.hex.substring(0,7):m.hex;o(g)}}),h.show(),a=function(){h.destroy()};case 15:case"end":return p.stop()}},l)}))),Xr(function(){a()}),n.$$set=function(l){"color"in l&&t(1,r=l.color),"onChange"in l&&t(2,o=l.onChange),"showOnTop"in l&&t(3,s=l.showOnTop)},[i,r,o,s,function(l){pn[l?"unshift":"push"](function(){t(0,i=l)})}]}var C9=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,S9,j9,Gi,{color:1,onChange:2,showOnTop:3},_9),r}return ct(t)}();function O9(n){Gt(n,"svelte-1zzxwe",".jse-color-picker-button.svelte-1zzxwe{font-size:var(--jse-font-size-mono, 14px);width:var(--jse-color-picker-button-size, 1em);height:var(--jse-color-picker-button-size, 1em);box-sizing:border-box;padding:0;margin:2px 0 0;display:inline-flex;vertical-align:top;border:1px solid var(--jse-text-color, #4d4d4d);border-radius:2px;background:inherit;outline:none}.jse-color-picker-button.svelte-1zzxwe:not(.jse-readonly){cursor:pointer}")}function $9(n){var e,t,i,r;return{c:function(){j(e=K("button"),"type","button"),j(e,"class","jse-color-picker-button svelte-1zzxwe"),Sr(e,"background",n[2]),j(e,"title",t=n[1]?"Color ".concat(n[0]):"Click to open a color picker"),Ie(e,"jse-readonly",n[1])},m:function(o,s){ae(o,e,s),i||(r=Ne(e,"click",n[3]),i=!0)},p:function(o,s){var a=Jt(s,1)[0];4&a&&Sr(e,"background",o[2]),3&a&&t!==(t=o[1]?"Color ".concat(o[0]):"Click to open a color picker")&&j(e,"title",t),2&a&&Ie(e,"jse-readonly",o[1])},i:Ve,o:Ve,d:function(o){o&&se(e),i=!1,r()}}}function M9(n,e,t){var i,r=sr("absolute-popup").openAbsolutePopup,o=e.path,s=e.value,a=e.readOnly,l=e.onPatch,c=e.focus;function f(p){l([{op:"replace",path:at(o),value:p}]),h()}function h(){c()}return n.$$set=function(p){"path"in p&&t(4,o=p.path),"value"in p&&t(0,s=p.value),"readOnly"in p&&t(1,a=p.readOnly),"onPatch"in p&&t(5,l=p.onPatch),"focus"in p&&t(6,c=p.focus)},n.$$.update=function(){1&n.$$.dirty&&t(2,i=EO(s))},[s,a,i,function(p){var m,g;if(!a){var v=p.target,b=v.getBoundingClientRect().top,x=(m=(g=Oc(v))===null||g===void 0?void 0:g.innerHeight)!==null&&m!==void 0?m:0;r(C9,{color:s,onChange:f,showOnTop:x-b<300&&b>300},{anchor:v,closeOnOuterClick:!0,onClose:h,offsetTop:18,offsetLeft:-8,height:300})}},o,l,c]}var P9=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,M9,$9,Yt,{path:4,value:0,readOnly:1,onPatch:5,focus:6},O9),r}return ct(t)}();function JO(n){for(var e=u8(n,function(a){return a.start}),t=[e[0]],i=0;i<e.length;i++){var r=t.length-1,o=t[r],s=e[i];s.start<=o.end?t[r]={start:Math.min(o.start,s.start),end:Math.max(o.end,s.end)}:t.push(s)}return t}function T9(n,e){return n.some(function(t){return e>=t.start&&e<t.end})}function Kg(n){return Cd(n)+zu}function Cd(n){return Math.floor(n/zu)*zu}function Od(n){var e={expandedMap:{},enforceStringMap:{},visibleSectionsMap:{},selection:null,sortedColumn:null};return n!=null&&n.select&&n.json!==void 0&&(e=ke(ke({},e),{},{selection:n.select(n.json,e)})),n!=null&&n.expand&&(e=oo(n.json,e,[],n.expand)),e}function fp(n,e){return n.visibleSectionsMap[e]||tl}function l1(n,e,t){e.forEach(function(i){var r=i.start,o=i.end;AO(r,Math.min(n.length,o),t)})}function Xg(n,e,t){for(var i=ke({},e.expandedMap),r=ke({},e.visibleSectionsMap),o=0;o<t.length;o++){var s=t.slice(0,o),a=at(s),l=Ct(n,s);if(gi(l)&&(i[a]=!0),Array.isArray(l)&&o<t.length){var c=r[a]||tl,f=yr(t[o]);if(!T9(c,f)){var h=Cd(f),p={start:h,end:Kg(h)};r[a]=JO(c.concat(p))}}}return ke(ke({},e),{},{expandedMap:i,visibleSectionsMap:r})}function oo(n,e,t,i){var r=ke({},e.expandedMap),o=t.slice(),s=n!==void 0?Ct(n,t):n;return s!==void 0&&function a(l){var c=o.length;if(Array.isArray(l)){if(i(o)){var f=at(o);if(r[f]=!0,l.length>0){var h=fp(e,f);l1(l,h,function(b){o[c]=String(b),a(l[b])}),o.pop()}}}else if(li(l)&&i(o)){r[at(o)]=!0;var p=Object.keys(l);if(p.length>0){var m,g=vr(p);try{for(g.s();!(m=g.n()).done;){var v=m.value;o[c]=v,a(l[v])}}catch(b){g.e(b)}finally{g.f()}o.pop()}}}(s),ke(ke({},e),{},{expandedMap:r})}function Cw(n,e){var t=ec(n.expandedMap,e),i=ec(n.enforceStringMap,e),r=ec(n.visibleSectionsMap,e);return ke(ke({},n),{},{expandedMap:t,enforceStringMap:i,visibleSectionsMap:r})}function GO(n,e,t){if(t){var i=ke({},n.enforceStringMap);return i[e]=t,ke(ke({},n),{},{enforceStringMap:i})}if(typeof n.enforceStringMap[e]=="boolean"){var r=ke({},n.enforceStringMap);return delete r[e],ke(ke({},n),{},{enforceStringMap:r})}return n}function KO(n,e,t){var i=$o(n,t),r=t.reduce(function(o,s){return fj(s)?Ow(i,o,s):hj(s)?$w(i,o,s):Sv(s)?function(a,l,c){var f=c.path,h=_m(a,l.expandedMap),p=_m(a,l.enforceStringMap),m=_m(a,l.visibleSectionsMap);return Di(c.value)||hi(c.value)||delete h[f],hi(c.value)||delete m[f],(Di(c.value)||hi(c.value))&&delete p[f],ke(ke({},l),{},{expandedMap:h,enforceStringMap:p,visibleSectionsMap:m})}(i,o,s):Rm(s)||Fl(s)?function(a,l,c){if(Fl(c)&&c.from===c.path)return l;var f=function(k){return c.path+k.substring(c.from.length)},h=km(xm(l.expandedMap,c.from),f),p=km(xm(l.enforceStringMap,c.from),f),m=km(xm(l.visibleSectionsMap,c.from),f),g=l;Fl(c)&&(g=$w(a,g,{op:"remove",path:c.from})),g=Ow(a,g,{op:"add",path:c.path,value:null});var v=wm(g.expandedMap,h),b=wm(g.enforceStringMap,p),x=wm(g.visibleSectionsMap,m);return ke(ke({},l),{},{expandedMap:v,enforceStringMap:b,visibleSectionsMap:x})}(i,o,s):o},e);return{json:i,documentState:r}}function Ow(n,e,t){var i=Cs(n,t.path),r=kn(i),o=at(r),s=Ct(n,r);if(hi(s)){var a=yr(yn(i)),l=tc(e.expandedMap,r,a,1),c=tc(e.enforceStringMap,r,a,1),f=tc(e.visibleSectionsMap,r,a,1);return f=XO(f,o,function(h){return YO(h,a,1)}),ke(ke({},e),{},{expandedMap:l,enforceStringMap:c,visibleSectionsMap:f})}return e}function $w(n,e,t){var i=Cs(n,t.path),r=kn(i),o=at(r),s=Ct(n,r),a=e.expandedMap,l=e.enforceStringMap,c=e.visibleSectionsMap;if(a=ec(a,i),l=ec(l,i),c=ec(c,i),hi(s)){var f=yr(yn(i));a=tc(a,r,f,-1),l=tc(l,r,f,-1),c=XO(c=tc(c,r,f,-1),o,function(h){return YO(h,f,-1)})}return ke(ke({},e),{},{expandedMap:a,enforceStringMap:l,visibleSectionsMap:c})}function ec(n,e){var t={},i=at(e);return Object.keys(n).forEach(function(r){qd(r,i)||(t[r]=n[r])}),t}function xm(n,e){var t={};return Object.keys(n).forEach(function(i){qd(i,e)&&(t[i]=n[i])}),t}function wm(n,e){return ke(ke({},n),e)}function km(n,e){var t={};return Object.keys(n).forEach(function(i){var r=e(i);t[r]=n[i]}),t}function tc(n,e,t,i){for(var r=e.length,o=at(e),s=[],a=0,l=Object.keys(n);a<l.length;a++){var c=l[a];if(qd(c,o)){var f=Es(c),h=yr(f[r]);h>=t&&(f[r]=String(h+i),s.push({oldPointer:c,newPointer:at(f),value:n[c]}))}}if(s.length===0)return n;var p=ke({},n);return s.forEach(function(m){delete p[m.oldPointer]}),s.forEach(function(m){p[m.newPointer]=m.value}),p}function _m(n,e){var t={};return Object.keys(e).filter(function(i){return ts(n,Cs(n,i))}).forEach(function(i){t[i]=e[i]}),t}function XO(n,e,t){var i=n[e];if(e in n){var r=t(i);if(!jn(i,r)){var o=ke({},n);return r===void 0?delete o[e]:o[e]=r,o}}return n}function YO(n,e,t){return function(i){for(var r=i.slice(0),o=1;o<r.length;)r[o-1].end===r[o].start&&(r[o-1]={start:r[o-1].start,end:r[o].end},r.splice(o)),o++;return r}(n.map(function(i){return{start:i.start>e?i.start+t:i.start,end:i.end>e?i.end+t:i.end}}))}function Ds(n,e,t,i){var r=e?e[t]:void 0;return typeof r=="boolean"?r:function(o,s){return typeof o=="string"&&typeof Cc(o,s)!="string"}(n,i)}function lf(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=n.indexOf(e);return i!==-1?t?n.slice(i):n.slice(i+1):[]}function c1(n,e){var t=[];return function i(r,o){t.push(o);var s=at(o);if(r&&e.expandedMap[s]===!0){if(hi(r)){var a=fp(e,s);l1(r,a,function(l){i(r[l],o.concat(String(l)))})}Di(r)&&Object.keys(r).forEach(function(l){i(r[l],o.concat(l))})}}(n,[]),t}function e$(n,e){var t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=[];return function r(o,s){i.push({path:s,type:Co.value});var a=at(s);if(o&&e.expandedMap[a]===!0){if(t&&i.push({path:s,type:Co.inside}),hi(o)){var l=fp(e,a);l1(o,l,function(c){var f=s.concat(String(c));r(o[c],f),t&&i.push({path:f,type:Co.after})})}Di(o)&&Object.keys(o).forEach(function(c){var f=s.concat(c);i.push({path:f,type:Co.key}),r(o[c],f),t&&i.push({path:f,type:Co.after})})}}(n,[]),i}function jm(n,e,t){var i=c1(n,e),r=i.map(at).indexOf(at(t));return r!==-1&&r<i.length-1?i[r+1]:null}function Ys(n,e,t){var i=Ct(n,t);return i===void 0?e:oo(n,e,t,NO({json:i},TO)?Ko:mu)}function Ko(n){return n.length===0||n.length===1&&n[0]==="0"}function mu(){return!0}function Br(n){return n&&n.type===ri.after||!1}function Li(n){return n&&n.type===ri.inside||!1}function Ei(n){return n&&n.type===ri.key||!1}function _n(n){return n&&n.type===ri.value||!1}function Wn(n){return n&&n.type===ri.multi||!1}function hp(n){return Wn(n)&&jn(n.focusPath,n.anchorPath)}function u1(n){return Wn(n)||Br(n)||Li(n)||Ei(n)||_n(n)}function Mw(n){return n&&n.type===ri.text||!1}function ua(n,e){var t=[];return function(i,r,o){if(r){var s=Ha(r),a=At(r);if(jn(s,a))return o(s);if(i!==void 0){var l=n$(s,a);if(s.length===l.length||a.length===l.length)return o(l);var c=wr(s,a),f=js(i,c),h=fa(i,c),p=Ms(i,c,f),m=Ms(i,c,h);if(!(p===-1||m===-1)){var g=Ct(i,l);if(Di(g)){for(var v=Object.keys(g),b=p;b<=m;b++){var x=o(l.concat(v[b]));if(x!==void 0)return x}return}if(hi(g)){for(var k=p;k<=m;k++){var C=o(l.concat(String(k)));if(C!==void 0)return C}return}throw new Error("Failed to create selection")}}}}(n,e,function(i){t.push(i)}),t}function t$(n){return Li(n)?n.path:kn(At(n))}function js(n,e){if(!Wn(e))return e.path;var t=Ms(n,e,e.anchorPath);return Ms(n,e,e.focusPath)<t?e.focusPath:e.anchorPath}function fa(n,e){if(!Wn(e))return e.path;var t=Ms(n,e,e.anchorPath);return Ms(n,e,e.focusPath)>t?e.focusPath:e.anchorPath}function Pw(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=e.selection;if(!i)return null;var r=t?At(i):js(n,i),o=function(l,c,f){var h=c1(l,c),p=h.map(at),m=at(f),g=p.indexOf(m);return g!==-1&&g>0?h[g-1]:null}(n,e,r);if(t)return Li(i)||Br(i)?o!==null?wr(r,r):null:o!==null?wr(Ha(i),o):null;if(Br(i)||Li(i))return fn(r,!1);if(Ei(i)){if(o==null||o.length===0)return null;var s=kn(o),a=Ct(n,s);return Array.isArray(a)||An(o)?fn(o,!1):po(o,!1)}return _n(i),o!==null?fn(o,!1):null}function Tw(n,e,t){var i=e.selection;if(!i)return{caret:null,previous:null,next:null};var r=e$(n,e,t),o=r.findIndex(function(s){return jn(s.path,At(i))&&String(s.type)===String(i.type)});return{caret:o!==-1?r[o]:null,previous:o!==-1&&o>0?r[o-1]:null,next:o!==-1&&o<r.length-1?r[o+1]:null}}function Sl(n,e){for(var t=c1(n,e),i=0;i<t.length-1&&t[i+1].length>t[i].length;)i++;var r=t[i];return r===void 0||r.length===0||Array.isArray(Ct(n,kn(r)))?fn(r,!1):po(r,!1)}function gc(n,e){if(e.length===1){var t=Ss(e);if(t.op==="replace")return fn(Cs(n,t.path),!1)}if(!An(e)&&e.every(function(s){return s.op==="move"})){var i=Ss(e),r=e.slice(1);if((Rm(i)||Fl(i))&&i.from!==i.path&&r.every(function(s){return(Rm(s)||Fl(s))&&s.from===s.path}))return po(Cs(n,i.path),!1)}var o=e.filter(function(s){return s.op!=="test"&&s.op!=="remove"&&(s.op!=="move"||s.from!==s.path)&&typeof s.path=="string"}).map(function(s){return Cs(n,s.path)});return An(o)?null:{type:ri.multi,anchorPath:Ss(o),focusPath:yn(o)}}function n$(n,e){for(var t=0;t<n.length&&t<e.length&&n[t]===e[t];)t++;return n.slice(0,t)}function $d(n){return Ei(n)||_n(n)||hp(n)}function Ew(n,e){return $d(e)&&gi(Ct(n,At(e)))?At(e):kn(At(e))}function xa(n,e){if(n.length<e.length)return!1;for(var t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function br(n){var e=n.selection;return(Ei(e)||_n(e))&&e.edit?ke(ke({},n),{},{selection:ke(ke({},e),{},{edit:!1})}):n}function po(n,e){return{type:ri.key,path:n,edit:e}}function fn(n,e){return{type:ri.value,path:n,edit:e}}function zs(n){return{type:ri.inside,path:n}}function $s(n){return{type:ri.after,path:n}}function wr(n,e){var t=n$(n,e),i=n.length>t.length&&e.length>t.length;return{type:ri.multi,anchorPath:i?t.concat(n[t.length]):t,focusPath:i?t.concat(e[t.length]):t}}function i$(n,e,t,i){if(Ei(e))return String(yn(e.path));if(_n(e)){var r,o=Ct(n,e.path);return typeof o=="string"?o:(r=i.stringify(o,null,t))!==null&&r!==void 0?r:null}if(Wn(e)){var s;if(An(e.focusPath))return(s=i.stringify(n,null,t))!==null&&s!==void 0?s:null;var a=t$(e),l=Ct(n,a);if(Array.isArray(l)){if(hp(e)){var c,f=Ct(n,e.focusPath);return(c=i.stringify(f,null,t))!==null&&c!==void 0?c:null}return ua(n,e).map(function(h){var p=Ct(n,h);return"".concat(i.stringify(p,null,t),",")}).join(`
`)}return ua(n,e).map(function(h){var p=yn(h),m=Ct(n,h);return"".concat(i.stringify(p),": ").concat(i.stringify(m,null,t),",")}).join(`
`)}return null}function $r(n){return(Ei(n)||_n(n))&&n.edit===!0}function $c(n){return Ei(n)||_n(n)||Wn(n)}function Dh(n){return Ei(n)||_n(n)||hp(n)}function Yg(n){switch(n.type){case Co.key:return po(n.path,!1);case Co.value:return fn(n.path,!1);case Co.after:return $s(n.path);case Co.inside:return zs(n.path)}}function Aw(n,e,t){switch(e){case ri.key:return po(t,!1);case ri.value:return fn(t,!1);case ri.after:return $s(t);case ri.inside:return zs(t);case ri.multi:case ri.text:return wr(t,t)}}function Rw(n,e,t){return e&&(Fu(n,e,t)||xa(Wn(e)?kn(e.focusPath):e.path,t))?e:null}function Fu(n,e,t){if(n===void 0||!e)return!1;if(Ei(e)||Li(e)||Br(e))return jn(e.path,t);if(_n(e))return xa(t,e.path);if(Wn(e)){var i=js(n,e),r=fa(n,e),o=kn(e.focusPath);if(!xa(t,o)||t.length<=o.length)return!1;var s=Ms(n,e,i),a=Ms(n,e,r),l=Ms(n,e,t);return l!==-1&&l>=s&&l<=a}return!1}function Ms(n,e,t){var i=kn(e.focusPath);if(!xa(t,i)||t.length<=i.length)return-1;var r=t[i.length],o=Ct(n,i);if(Di(o))return Object.keys(o).indexOf(r);if(hi(o)){var s=yr(r);if(s<o.length)return s}return-1}function At(n){return Wn(n)?n.focusPath:n.path}function Ha(n){return Wn(n)?n.anchorPath:n.path}function cs(){for(var n=[],e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(var r=0,o=t;r<o.length;r++){var s=o[r];if(typeof s=="string"&&n.push(s),s&&Ii(s)==="object")for(var a in s)Object.hasOwnProperty.call(s,a)&&s[a]&&n.push(a)}return n.join(" ")}function Hu(n,e){return cs("jse-value","jse-"+i1(n,e),{"jse-url":cp(n),"jse-empty":typeof n=="string"&&n.length===0})}function E9(n){Gt(n,"svelte-zwlnit",".jse-value.jse-string.svelte-zwlnit{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-zwlnit,.jse-value.jse-array.svelte-zwlnit{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-value.jse-number.svelte-zwlnit{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-zwlnit{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-zwlnit{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-zwlnit{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-zwlnit{color:var(--jse-value-color-url, #008000);text-decoration:underline}div.jse-editable-div.svelte-zwlnit{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;cursor:text !important;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-zwlnit{overflow-wrap:normal}div.jse-editable-div[contenteditable=true].svelte-zwlnit{outline:var(--jse-edit-outline, 2px solid #656565);background:inherit !important;position:relative;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-zwlnit:not(:focus){outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-zwlnit::after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, 0.2))}")}function A9(n){var e,t,i,r;return{c:function(){j(e=K("div"),"role","textbox"),j(e,"tabindex","0"),j(e,"class",t=fi(cs("jse-editable-div",n[2],{"jse-short-text":n[0]}))+" svelte-zwlnit"),j(e,"contenteditable","true"),j(e,"spellcheck","false")},m:function(o,s){ae(o,e,s),n[13](e),i||(r=[Ne(e,"input",n[3]),Ne(e,"keydown",n[4]),Ne(e,"paste",n[5]),Ne(e,"blur",n[6])],i=!0)},p:function(o,s){5&Jt(s,1)[0]&&t!==(t=fi(cs("jse-editable-div",o[2],{"jse-short-text":o[0]}))+" svelte-zwlnit")&&j(e,"class",t)},i:Ve,o:Ve,d:function(o){o&&se(e),n[13](null),i=!1,Yn(r)}}}function R9(n,e,t){var i,r,o=ar("jsoneditor:EditableDiv"),s=e.value,a=e.shortText,l=a!==void 0&&a,c=e.onChange,f=e.onCancel,h=e.onFind,p=e.onPaste,m=p===void 0?xi:p,g=e.onValueClass,v=g===void 0?function(){return""}:g,b=!1;function x(){return i?function(_){return _.replace(/\n$/,"")}(i.innerText):""}function k(_){i&&t(1,i.innerText=il(_),i)}function C(){var _=x();_===""&&k(""),t(2,r=v(_))}function S(){b=!0,f()}return go(function(){o("onMount",{value:s}),k(s),i&&(HO(i),t(1,i.refresh=C,i),t(1,i.cancel=S,i))}),Xr(function(){var _=x();o("onDestroy",{closed:b,value:s,newValue:_}),b||_===s||c(_,ca.no)}),n.$$set=function(_){"value"in _&&t(7,s=_.value),"shortText"in _&&t(0,l=_.shortText),"onChange"in _&&t(8,c=_.onChange),"onCancel"in _&&t(9,f=_.onCancel),"onFind"in _&&t(10,h=_.onFind),"onPaste"in _&&t(11,m=_.onPaste),"onValueClass"in _&&t(12,v=_.onValueClass)},n.$$.update=function(){4224&n.$$.dirty&&t(2,r=v(s))},[l,i,r,C,function(_){_.stopPropagation();var E=Sa(_);if(E==="Escape"&&S(),E==="Enter"||E==="Tab"){b=!0;var q=x();c(q,ca.nextInside)}E==="Ctrl+F"&&(_.preventDefault(),h(!1)),E==="Ctrl+H"&&(_.preventDefault(),h(!0))},function(_){if(_.stopPropagation(),m&&_.clipboardData){var E=_.clipboardData.getData("text/plain");m(E)}},function(){var _=document.hasFocus(),E=x();o("handleBlur",{hasFocus:_,closed:b,value:s,newValue:E}),document.hasFocus()&&!b&&(b=!0,E!==s&&c(E,ca.self))},s,c,f,h,m,v,function(_){pn[_?"unshift":"push"](function(){t(1,i=_)})}]}var r$=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,R9,A9,Yt,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12},E9),r}return ct(t)}();function L9(n){var e,t;return e=new r$({props:{value:n[1].escapeValue(n[0]),onChange:n[3],onCancel:n[4],onPaste:n[5],onFind:n[2],onValueClass:n[6]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o=Jt(r,1)[0],s={};3&o&&(s.value=i[1].escapeValue(i[0])),4&o&&(s.onFind=i[2]),e.$set(s)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function I9(n,e,t){var i=e.path,r=e.value,o=e.parser,s=e.normalization,a=e.enforceString,l=e.onPatch,c=e.onPasteJson,f=e.onSelect,h=e.onFind,p=e.focus,m=e.findNextInside;function g(v){return a?v:Cc(v,o)}return n.$$set=function(v){"path"in v&&t(7,i=v.path),"value"in v&&t(0,r=v.value),"parser"in v&&t(8,o=v.parser),"normalization"in v&&t(1,s=v.normalization),"enforceString"in v&&t(9,a=v.enforceString),"onPatch"in v&&t(10,l=v.onPatch),"onPasteJson"in v&&t(11,c=v.onPasteJson),"onSelect"in v&&t(12,f=v.onSelect),"onFind"in v&&t(2,h=v.onFind),"focus"in v&&t(13,p=v.focus),"findNextInside"in v&&t(14,m=v.findNextInside)},[r,s,h,function(v,b){l([{op:"replace",path:at(i),value:g(s.unescapeValue(v))}],function(x,k){if(!k.selection||jn(i,At(k.selection))){var C=b===ca.nextInside?m(i):fn(i,!1);return{state:ke(ke({},k),{},{selection:C})}}}),p()},function(){f(fn(i,!1)),p()},function(v){try{var b=o.parse(v);gi(b)&&c({path:i,contents:b})}catch{}},function(v){return Hu(g(s.unescapeValue(v)),o)},i,o,a,l,c,f,p,m]}var N9=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,I9,L9,Yt,{path:7,value:0,parser:8,normalization:1,enforceString:9,onPatch:10,onPasteJson:11,onSelect:12,onFind:2,focus:13,findNextInside:14}),r}return ct(t)}();function zl(n,e,t){var i=kn(e),r=Ct(n,i);if(hi(r)){var o=yr(yn(e));return t.map(function(c,f){return{op:"add",path:at(i.concat(String(o+f))),value:c.value}})}if(Di(r)){var s=yn(e),a=Object.keys(r),l=s!==void 0?lf(a,s,!0):[];return[].concat(ln(t.map(function(c){var f=af(c.key,a);return{op:"add",path:at(i.concat(f)),value:c.value}})),ln(l.map(function(c){return rl(i,c)})))}throw new Error("Cannot create insert operations: parent must be an Object or Array")}function ev(n,e,t){var i=Ct(n,e);if(Array.isArray(i)){var r=i.length;return t.map(function(o,s){return{op:"add",path:at(e.concat(String(r+s))),value:o.value}})}return t.map(function(o){var s=af(o.key,Object.keys(i));return{op:"add",path:at(e.concat(s)),value:o.value}})}function cf(n,e,t,i){var r=af(i,e.filter(function(s){return s!==t})),o=lf(e,t,!1);return[{op:"move",from:at(n.concat(t)),path:at(n.concat(r))}].concat(ln(o.map(function(s){return rl(n,s)})))}function o$(n,e){var t=yn(e);if(An(t))throw new Error("Cannot duplicate root object");var i=kn(t),r=yn(t),o=Ct(n,i);if(hi(o)){var s=yn(e),a=s?yr(yn(s))+1:0;return ln(e.map(function(f,h){return{op:"copy",from:at(f),path:at(i.concat(String(h+a)))}}))}if(Di(o)){var l=Object.keys(o),c=r!==void 0?lf(l,r,!1):[];return[].concat(ln(e.map(function(f){var h=af(yn(f),l);return{op:"copy",from:at(f),path:at(i.concat(h))}})),ln(c.map(function(f){return rl(i,f)})))}throw new Error("Cannot create duplicate operations: parent must be an Object or Array")}function s$(n,e,t,i){if(Ei(e)){var r=RO(t,i),o=kn(e.path),s=Ct(n,o);return cf(o,Object.keys(s),yn(e.path),typeof r=="string"?r:t)}if(_n(e)||Wn(e)&&An(e.focusPath))try{return[{op:"replace",path:at(At(e)),value:up(t,function(E){return of(E,i)})}]}catch{return[{op:"replace",path:at(At(e)),value:t}]}if(Wn(e)){var a=Sm(t,i);return function(E,q,te){var G=Ss(q),I=kn(G),U=Ct(E,I);if(hi(U)){var B=Ss(q),ee=B?yr(yn(B)):0;return[].concat(ln(Md(q)),ln(te.map(function(A,M){return{op:"add",path:at(I.concat(String(M+ee))),value:A.value}})))}if(Di(U)){var F=yn(q),ne=kn(F),re=yn(F),R=Object.keys(U),$=re!==void 0?lf(R,re,!1):[],N=new Set(q.map(function(A){return yn(A)})),P=R.filter(function(A){return!N.has(A)});return[].concat(ln(Md(q)),ln(te.map(function(A){var M=af(A.key,P);return{op:"add",path:at(ne.concat(M)),value:A.value}})),ln($.map(function(A){return rl(ne,A)})))}throw new Error("Cannot create replace operations: parent must be an Object or Array")}(n,ua(n,e),a)}if(Br(e)){var l=Sm(t,i),c=e.path,f=kn(c),h=Ct(n,f);if(hi(h)){var p=yr(yn(c));return zl(n,f.concat(String(p+1)),l)}if(Di(h)){var m=String(yn(c)),g=Object.keys(h);if(An(g)||yn(g)===m)return ev(n,f,l);var v=g.indexOf(m),b=g[v+1];return zl(n,f.concat(b),l)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}if(Li(e)){var x=Sm(t,i),k=e.path,C=Ct(n,k);if(hi(C))return zl(n,k.concat("0"),x);if(Di(C)){var S=Object.keys(C);if(An(S))return ev(n,k,x);var _=Ss(S);return zl(n,k.concat(_),x)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(e))}function Md(n){return n.map(function(e){return{op:"remove",path:at(e)}}).reverse()}function rl(n,e){return{op:"move",from:at(n.concat(e)),path:at(n.concat(e))}}function Sm(n,e){var t=/^\s*{/.test(n),i=/^\s*\[/.test(n),r=RO(n,e),o=r!==void 0?r:up(n,function(s){return of(s,e)});return t&&li(o)||i&&Array.isArray(o)?[{key:"New item",value:o}]:Array.isArray(o)?o.map(function(s,a){return{key:"New item "+a,value:s}}):li(o)?Object.keys(o).map(function(s){return{key:s,value:o[s]}}):[{key:"New item",value:o}]}function a$(n,e){if(Ei(e)){var t=kn(e.path),i=Ct(n,t),r=cf(t,Object.keys(i),yn(e.path),"");return{operations:r,newSelection:gc(n,r)}}if(_n(e))return{operations:[{op:"replace",path:at(e.path),value:""}],newSelection:e};if(Wn(e)){var o=ua(n,e),s=Md(o),a=yn(o);if(An(a))return{operations:[{op:"replace",path:"",value:""}],newSelection:fn([],!1)};var l=kn(a),c=Ct(n,l);if(hi(c)){var f=Ss(o),h=yr(yn(f));return{operations:s,newSelection:h===0?zs(l):$s(l.concat(String(h-1)))}}if(Di(c)){var p=Object.keys(c),m=Ss(o),g=yn(m),v=p.indexOf(g),b=p[v-1];return{operations:s,newSelection:v===0?zs(l):$s(l.concat(b))}}throw new Error("Cannot create remove operations: parent must be an Object or Array")}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(e))}function l$(n,e){return zC(n,e,{before:function(t,i,r){if(hj(i)){var o=Es(i.path);return{revertOperations:[].concat(ln(r),ln(Lw(t,o)))}}if(Fl(i)){var s=Es(i.from);return{revertOperations:[].concat(ln(r),ln(Lw(t,s)))}}return{document:t}}})}function Lw(n,e){var t=kn(e),i=yn(e),r=Ct(n,t);return Di(r)?lf(Object.keys(r),i,!1).map(function(o){return rl(t,o)}):[]}function B9(n){var e=n.activeIndex<n.items.length-1?n.activeIndex+1:n.items.length>0?0:-1,t=n.items[e],i=n.items.map(function(r,o){return ke(ke({},r),{},{active:o===e})});return ke(ke({},n),{},{items:i,itemsMap:zd(i,function(r){return at(r.path)}),activeItem:t,activeIndex:e})}function D9(n){var e=n.activeIndex>0?n.activeIndex-1:n.items.length-1,t=n.items[e],i=n.items.map(function(r,o){return ke(ke({},r),{},{active:o===e})});return ke(ke({},n),{},{items:i,itemsMap:zd(i,function(r){return at(r.path)}),activeItem:t,activeIndex:e})}function c$(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0,i=[],r=[];function o(s){i.length<t&&i.push(s)}return typeof n=="string"&&n!==""&&function s(a,l){if(hi(l)){var c=r.length;r.push("0");for(var f=0;f<l.length;f++)if(r[c]=String(f),s(a,l[f]),i.length>=t)return;r.pop()}else if(Di(l)){var h=Object.keys(l),p=r.length;r.push("");for(var m=0,g=h;m<g.length;m++){var v=g[m];if(r[p]=v,Iw(v,a,r,Mo.key,o),s(a,l[v]),i.length>=t)return}r.pop()}else Iw(String(l),a,r,Mo.value,o)}(n.toLowerCase(),e),i}function Iw(n,e,t,i,r){var o=n.toLowerCase(),s=0,a=-1,l=-1;do(l=o.indexOf(e,a))!==-1&&(a=l+e.length,r({path:t.slice(0),field:i,fieldIndex:s,start:l,end:a}),s++);while(l!==-1)}function tv(n,e,t,i){return n.substring(0,t)+e+n.substring(i)}function Nw(n,e,t){var i=n;return h8(t,function(r){i=tv(i,e,r.start,r.end)}),i}function z9(n,e,t,i,r){var o=i.field,s=i.path,a=i.start,l=i.end;if(o===Mo.key){var c=kn(s),f=Ct(n,c),h=yn(s),p=cf(c,Object.keys(f),h,tv(h,t,a,l));return{newSelection:gc(n,p),operations:p}}if(o===Mo.value){var m=Ct(n,s);if(m===void 0)throw new Error("Cannot replace: path not found ".concat(at(s)));var g=typeof m=="string"?m:String(m),v=at(s),b=Ds(m,e.enforceStringMap,v,r),x=tv(g,t,a,l),k=[{op:"replace",path:at(s),value:b?x:Cc(x,r)}];return{newSelection:gc(n,k),operations:k}}throw new Error("Cannot replace: unknown type of search result field ".concat(o))}function q9(n,e,t,i,r){for(var o=c$(t,n,1/0),s=[],a=0;a<o.length;a++){var l=o[a-1],c=o[a];a!==0&&c.field===l.field&&jn(c.path,l.path)?yn(s).items.push(c):s.push({path:c.path,field:c.field,items:[c]})}s.sort(function(p,m){return p.field!==m.field?p.field===Mo.key?1:-1:m.path.length-p.path.length});var f=[],h=null;return s.forEach(function(p){var m=p.field,g=p.path,v=p.items;if(m===Mo.key){var b=kn(g),x=Ct(n,b),k=yn(g),C=cf(b,Object.keys(x),k,Nw(k,i,v));f=f.concat(C),h=gc(n,C)}else{if(m!==Mo.value)throw new Error("Cannot replace: unknown type of search result field ".concat(m));var S=Ct(n,g);if(S===void 0)throw new Error("Cannot replace: path not found ".concat(at(g)));var _=typeof S=="string"?S:String(S),E=at(g),q=Ds(S,e.enforceStringMap,E,r),te=Nw(_,i,v),G=[{op:"replace",path:at(g),value:q?te:Cc(te,r)}];f=f.concat(G),h=gc(n,G)}}),{operations:f,newSelection:h}}function Bw(n){return n.path.concat(n.field,String(n.fieldIndex))}function F9(n,e){var t,i=n==null||(t=n[e])===null||t===void 0?void 0:t.filter(function(r){return r.field===Mo.key});if(i&&i.length!==0)return i}function Dw(n,e){var t,i=n==null||(t=n[e])===null||t===void 0?void 0:t.filter(function(r){return r.field===Mo.value});if(i&&i.length!==0)return i}function H9(n){Gt(n,"svelte-1n1l5ny",".jse-highlight.svelte-1n1l5ny{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, 1px solid #ffd700)}.jse-highlight.jse-active.svelte-1n1l5ny{background-color:var(--jse-search-match-active-color, #ffd700);outline:var(--jse-search-match-active-outline, 1px solid #e1be00)}")}function zw(n,e,t){var i=n.slice();return i[3]=e[t],i}function V9(n){var e,t,i=il(n[3].text)+"";return{c:function(){e=K("span"),t=Xe(i),j(e,"class","jse-highlight svelte-1n1l5ny"),Ie(e,"jse-active",n[3].active)},m:function(r,o){ae(r,e,o),z(e,t)},p:function(r,o){1&o&&i!==(i=il(r[3].text)+"")&&Dt(t,i),1&o&&Ie(e,"jse-active",r[3].active)},d:function(r){r&&se(e)}}}function W9(n){var e,t=n[3].text+"";return{c:function(){e=Xe(t)},m:function(i,r){ae(i,e,r)},p:function(i,r){1&r&&t!==(t=i[3].text+"")&&Dt(e,t)},d:function(i){i&&se(e)}}}function qw(n){var e;function t(o,s){return o[3].type==="normal"?W9:V9}var i=t(n),r=i(n);return{c:function(){r.c(),e=On()},m:function(o,s){r.m(o,s),ae(o,e,s)},p:function(o,s){i===(i=t(o))&&r?r.p(o,s):(r.d(1),(r=i(o))&&(r.c(),r.m(e.parentNode,e)))},d:function(o){o&&se(e),r.d(o)}}}function U9(n){for(var e,t=Zt(n[0]),i=[],r=0;r<t.length;r+=1)i[r]=qw(zw(n,t,r));return{c:function(){for(var o=0;o<i.length;o+=1)i[o].c();e=On()},m:function(o,s){for(var a=0;a<i.length;a+=1)i[a]&&i[a].m(o,s);ae(o,e,s)},p:function(o,s){var a=Jt(s,1)[0];if(1&a){var l;for(t=Zt(o[0]),l=0;l<t.length;l+=1){var c=zw(o,t,l);i[l]?i[l].p(c,a):(i[l]=qw(c),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},i:Ve,o:Ve,d:function(o){o&&se(e),Ri(i,o)}}}function Q9(n,e,t){var i,r=e.text,o=e.searchResultItems;return n.$$set=function(s){"text"in s&&t(1,r=s.text),"searchResultItems"in s&&t(2,o=s.searchResultItems)},n.$$.update=function(){6&n.$$.dirty&&t(0,i=function(s,a){var l,c=[],f=0,h=vr(a);try{for(h.s();!(l=h.n()).done;){var p=l.value,m=s.slice(f,p.start);m!==""&&c.push({type:"normal",text:m,active:!1});var g=s.slice(p.start,p.end);c.push({type:"highlight",text:g,active:p.active}),f=p.end}}catch(b){h.e(b)}finally{h.f()}var v=yn(a);return v&&v.end<s.length&&c.push({type:"normal",text:s.slice(v.end),active:!1}),c}(String(r),o))},[i,r,o]}var u$=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Q9,U9,Gi,{text:1,searchResultItems:2},H9),r}return ct(t)}();function Z9(n){Gt(n,"svelte-1v88515",'.jse-value.jse-string.svelte-1v88515{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-1v88515,.jse-value.jse-array.svelte-1v88515{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-value.jse-number.svelte-1v88515{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-1v88515{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-1v88515{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-1v88515{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-1v88515{color:var(--jse-value-color-url, #008000);text-decoration:underline}.jse-value.svelte-1v88515{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;cursor:var(--jse-contents-cursor, pointer);word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.svelte-1v88515:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-value.jse-empty.svelte-1v88515{min-width:4em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));-moz-outline-radius:2px}.jse-value.jse-empty.svelte-1v88515::after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, 0.2));content:"value"}')}function J9(n){var e,t=il(n[1].escapeValue(n[0]))+"";return{c:function(){e=Xe(t)},m:function(i,r){ae(i,e,r)},p:function(i,r){3&r&&t!==(t=il(i[1].escapeValue(i[0]))+"")&&Dt(e,t)},i:Ve,o:Ve,d:function(i){i&&se(e)}}}function G9(n){var e,t;return e=new u$({props:{text:n[1].escapeValue(n[0]),searchResultItems:n[3]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};3&r&&(o.text=i[1].escapeValue(i[0])),8&r&&(o.searchResultItems=i[3]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function K9(n){var e,t,i,r,o,s,a,l,c=[G9,J9],f=[];function h(p,m){return p[3]?0:1}return t=h(n),i=f[t]=c[t](n),{c:function(){e=K("div"),i.c(),j(e,"role","button"),j(e,"tabindex","-1"),j(e,"data-type","selectable-value"),j(e,"class",r=fi(Hu(n[0],n[2]))+" svelte-1v88515"),j(e,"title",o=n[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m:function(p,m){ae(p,e,m),f[t].m(e,null),s=!0,a||(l=[Ne(e,"click",n[5]),Ne(e,"dblclick",n[6])],a=!0)},p:function(p,m){var g=Jt(m,1)[0],v=t;(t=h(p))===v?f[t].p(p,g):(De(),D(f[v],1,1,function(){f[v]=null}),ze(),(i=f[t])?i.p(p,g):(i=f[t]=c[t](p)).c(),T(i,1),i.m(e,null)),(!s||5&g&&r!==(r=fi(Hu(p[0],p[2]))+" svelte-1v88515"))&&j(e,"class",r),(!s||16&g&&o!==(o=p[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&j(e,"title",o)},i:function(p){s||(T(i),s=!0)},o:function(p){D(i),s=!1},d:function(p){p&&se(e),f[t].d(),a=!1,Yn(l)}}}function X9(n,e,t){var i,r=e.path,o=e.value,s=e.readOnly,a=e.normalization,l=e.parser,c=e.onSelect,f=e.searchResultItems;return n.$$set=function(h){"path"in h&&t(7,r=h.path),"value"in h&&t(0,o=h.value),"readOnly"in h&&t(8,s=h.readOnly),"normalization"in h&&t(1,a=h.normalization),"parser"in h&&t(2,l=h.parser),"onSelect"in h&&t(9,c=h.onSelect),"searchResultItems"in h&&t(3,f=h.searchResultItems)},n.$$.update=function(){1&n.$$.dirty&&t(4,i=cp(o))},[o,a,l,f,i,function(h){typeof o=="string"&&i&&h.ctrlKey&&(h.preventDefault(),h.stopPropagation(),window.open(o,"_blank"))},function(h){s||(h.preventDefault(),c(fn(r,!0)))},r,s,c]}var Y9=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,X9,K9,Yt,{path:7,value:0,readOnly:8,normalization:1,parser:2,onSelect:9,searchResultItems:3},Z9),r}return ct(t)}();function eB(n){Gt(n,"svelte-1sftg37",'.jse-tooltip.svelte-1sftg37{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);border-radius:3px;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));white-space:nowrap;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}')}function tB(n){var e,t;return{c:function(){e=K("div"),t=Xe(n[0]),j(e,"class","jse-tooltip svelte-1sftg37")},m:function(i,r){ae(i,e,r),z(e,t)},p:function(i,r){1&Jt(r,1)[0]&&Dt(t,i[0])},i:Ve,o:Ve,d:function(i){i&&se(e)}}}function nB(n,e,t){var i=e.text;return n.$$set=function(r){"text"in r&&t(0,i=r.text)},[i]}var iB=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,nB,tB,Gi,{text:0},eB),r}return ct(t)}();function f1(n,e){var t,i=e.text,r=e.openAbsolutePopup,o=e.closeAbsolutePopup;function s(){t=r(iB,{text:i},{position:"top",width:10*i.length,offsetTop:3,anchor:n,closeOnOuterClick:!0})}function a(){o(t)}return n.addEventListener("mouseenter",s),n.addEventListener("mouseleave",a),{destroy:function(){n.removeEventListener("mouseenter",s),n.removeEventListener("mouseleave",a)}}}function rB(n){Gt(n,"svelte-1sqrs1u",".jse-timestamp.svelte-1sqrs1u{padding:0;margin:0;vertical-align:middle;display:inline-flex;color:var(--jse-value-color-number, #ee422e)}")}function oB(n){var e,t,i,r,o,s;return t=new Cn({props:{data:c7}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-timestamp svelte-1sqrs1u")},m:function(a,l){ae(a,e,l),Me(t,e,null),r=!0,o||(s=or(i=f1.call(null,e,ke({text:n[0]},n[1]))),o=!0)},p:function(a,l){var c=Jt(l,1)[0];i&&ir(i.update)&&1&c&&i.update.call(null,ke({text:a[0]},a[1]))},i:function(a){r||(T(t.$$.fragment,a),r=!0)},o:function(a){D(t.$$.fragment,a),r=!1},d:function(a){a&&se(e),Pe(t),o=!1,s()}}}function sB(n,e,t){var i,r=sr("absolute-popup"),o=e.value;return n.$$set=function(s){"value"in s&&t(2,o=s.value)},n.$$.update=function(){4&n.$$.dirty&&t(0,i="Time: ".concat(new Date(o).toString()))},[i,r,o]}var aB=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,sB,oB,Yt,{value:2},rB),r}return ct(t)}();function lB(n){var e=n.path,t=n.value,i=n.readOnly,r=n.enforceString,o=n.searchResultItems,s=n.isEditing,a=n.parser,l=n.normalization,c=n.onPatch,f=n.onPasteJson,h=n.onSelect,p=n.onFind,m=n.findNextInside,g=n.focus,v=[];return!s&&function(b){return b===!0||b===!1}(t)&&v.push({component:k9,props:{path:e,value:t,readOnly:i,onPatch:c,focus:g}}),!s&&function(b){return typeof b=="string"&&!!EO(b)}(t)&&v.push({component:P9,props:{path:e,value:t,readOnly:i,onPatch:c,focus:g}}),s&&v.push({component:N9,props:{path:e,value:t,enforceString:r,parser:a,normalization:l,onPatch:c,onPasteJson:f,onSelect:h,onFind:p,findNextInside:m,focus:g}}),s||v.push({component:Y9,props:{path:e,value:t,readOnly:i,parser:a,normalization:l,searchResultItems:o,onSelect:h}}),!s&&Zg(t)&&v.push({component:aB,props:{value:t}}),v}var Wc={},uh={showWizard:!0,showOriginal:!0},Pd=Math.min,Va=Math.max,Td=Math.round,fh=Math.floor,wa=function(n){return{x:n,y:n}},cB={left:"right",right:"left",bottom:"top",top:"bottom"},uB={start:"end",end:"start"};function Fw(n,e,t){return Va(n,Pd(e,t))}function dp(n,e){return typeof n=="function"?n(e):n}function ol(n){return n.split("-")[0]}function pp(n){return n.split("-")[1]}function f$(n){return n==="x"?"y":"x"}function h$(n){return n==="y"?"height":"width"}function mp(n){return["top","bottom"].includes(ol(n))?"y":"x"}function d$(n){return f$(mp(n))}function fB(n,e,t){t===void 0&&(t=!1);var i=pp(n),r=d$(n),o=h$(r),s=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Ed(s)),[s,Ed(s)]}function hB(n){var e=Ed(n);return[nv(n),e,nv(e)]}function nv(n){return n.replace(/start|end/g,function(e){return uB[e]})}function dB(n,e,t,i){var r=pp(n),o=function(s,a,l){var c=["left","right"],f=["right","left"];switch(s){case"top":case"bottom":return l?a?f:c:a?c:f;case"left":case"right":return a?["top","bottom"]:["bottom","top"];default:return[]}}(ol(n),t==="start",i);return r&&(o=o.map(function(s){return s+"-"+r}),e&&(o=o.concat(o.map(nv)))),o}function Ed(n){return n.replace(/left|right|bottom|top/g,function(e){return cB[e]})}function pB(n){return typeof n!="number"?function(e){return ke({top:0,right:0,bottom:0,left:0},e)}(n):{top:n,right:n,bottom:n,left:n}}function Ad(n){return ke(ke({},n),{},{top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height})}function Hw(n,e,t){var i,r=n.reference,o=n.floating,s=mp(e),a=d$(e),l=h$(a),c=ol(e),f=s==="y",h=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,m=r[l]/2-o[l]/2;switch(c){case"top":i={x:h,y:r.y-o.height};break;case"bottom":i={x:h,y:r.y+r.height};break;case"right":i={x:r.x+r.width,y:p};break;case"left":i={x:r.x-o.width,y:p};break;default:i={x:r.x,y:r.y}}switch(pp(e)){case"start":i[a]-=m*(t&&f?-1:1);break;case"end":i[a]+=m*(t&&f?-1:1)}return i}var mB=function(){var n=Xt(Ge().mark(function e(t,i,r){var o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G,I,U,B,ee,F;return Ge().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return o=r.placement,s=o===void 0?"bottom":o,a=r.strategy,l=a===void 0?"absolute":a,c=r.middleware,f=c===void 0?[]:c,h=r.platform,p=f.filter(Boolean),ne.next=4,h.isRTL==null?void 0:h.isRTL(i);case 4:return m=ne.sent,ne.next=7,h.getElementRects({reference:t,floating:i,strategy:l});case 7:g=ne.sent,v=Hw(g,s,m),b=v.x,x=v.y,k=s,C={},S=0,_=0;case 13:if(!(_<p.length)){ne.next=46;break}return E=p[_],q=E.name,te=E.fn,ne.next=17,te({x:b,y:x,initialPlacement:s,placement:k,strategy:l,middlewareData:C,rects:g,platform:h,elements:{reference:t,floating:i}});case 17:if(G=ne.sent,I=G.x,U=G.y,B=G.data,ee=G.reset,b=I??b,x=U??x,C=ke(ke({},C),{},Kr({},q,ke(ke({},C[q]),B))),!(ee&&S<=50)){ne.next=43;break}if(S++,Ii(ee)!=="object"){ne.next=41;break}if(ee.placement&&(k=ee.placement),!ee.rects){ne.next=38;break}if(ee.rects!==!0){ne.next=36;break}return ne.next=33,h.getElementRects({reference:t,floating:i,strategy:l});case 33:ne.t0=ne.sent,ne.next=37;break;case 36:ne.t0=ee.rects;case 37:g=ne.t0;case 38:F=Hw(g,k,m),b=F.x,x=F.y;case 41:return _=-1,ne.abrupt("continue",43);case 43:_++,ne.next=13;break;case 46:return ne.abrupt("return",{x:b,y:x,placement:k,strategy:l,middlewareData:C});case 47:case"end":return ne.stop()}},e)}));return function(e,t,i){return n.apply(this,arguments)}}();function p$(n,e){return iv.apply(this,arguments)}function iv(){return iv=Xt(Ge().mark(function n(e,t){var i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G,I,U;return Ge().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return t===void 0&&(t={}),r=e.x,o=e.y,s=e.platform,a=e.rects,l=e.elements,c=e.strategy,f=dp(t,e),h=f.boundary,p=h===void 0?"clippingAncestors":h,m=f.rootBoundary,g=m===void 0?"viewport":m,v=f.elementContext,b=v===void 0?"floating":v,x=f.altBoundary,k=x!==void 0&&x,C=f.padding,S=pB(C===void 0?0:C),_=b==="floating"?"reference":"floating",E=l[k?_:b],B.t0=Ad,B.t1=s,B.next=10,s.isElement==null?void 0:s.isElement(E);case 10:if(B.t2=i=B.sent,B.t2==null){B.next=15;break}B.t3=i,B.next=16;break;case 15:B.t3=!0;case 16:if(!B.t3){B.next=20;break}B.t4=E,B.next=26;break;case 20:if(B.t5=E.contextElement,B.t5){B.next=25;break}return B.next=24,s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating);case 24:B.t5=B.sent;case 25:B.t4=B.t5;case 26:return B.t6=B.t4,B.t7=p,B.t8=g,B.t9=c,B.t10={element:B.t6,boundary:B.t7,rootBoundary:B.t8,strategy:B.t9},B.next=33,B.t1.getClippingRect.call(B.t1,B.t10);case 33:return B.t11=B.sent,q=(0,B.t0)(B.t11),te=b==="floating"?ke(ke({},a.floating),{},{x:r,y:o}):a.reference,B.next=38,s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating);case 38:return G=B.sent,B.next=41,s.isElement==null?void 0:s.isElement(G);case 41:if(!B.sent){B.next=50;break}return B.next=44,s.getScale==null?void 0:s.getScale(G);case 44:if(B.t13=B.sent,B.t13){B.next=47;break}B.t13={x:1,y:1};case 47:B.t12=B.t13,B.next=51;break;case 50:B.t12={x:1,y:1};case 51:if(I=B.t12,B.t14=Ad,!s.convertOffsetParentRelativeRectToViewportRelativeRect){B.next=59;break}return B.next=56,s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:te,offsetParent:G,strategy:c});case 56:B.t15=B.sent,B.next=60;break;case 59:B.t15=te;case 60:return B.t16=B.t15,U=(0,B.t14)(B.t16),B.abrupt("return",{top:(q.top-U.top+S.top)/I.y,bottom:(U.bottom-q.bottom+S.bottom)/I.y,left:(q.left-U.left+S.left)/I.x,right:(U.right-q.right+S.right)/I.x});case 63:case"end":return B.stop()}},n)})),iv.apply(this,arguments)}var gB=function(n){return n===void 0&&(n={}),{name:"flip",options:n,fn:function(e){return Xt(Ge().mark(function t(){var i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G,I,U,B,ee,F,ne,re,R,$,N,P,A,M,Z;return Ge().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(o=e.placement,s=e.middlewareData,a=e.rects,l=e.initialPlacement,c=e.platform,f=e.elements,h=dp(n,e),p=h.mainAxis,m=p===void 0||p,g=h.crossAxis,v=g===void 0||g,b=h.fallbackPlacements,x=h.fallbackStrategy,k=x===void 0?"bestFit":x,C=h.fallbackAxisSideDirection,S=C===void 0?"none":C,_=h.flipAlignment,E=_===void 0||_,q=uO(h,sN),(i=s.arrow)==null||!i.alignmentOffset){le.next=4;break}return le.abrupt("return",{});case 4:return te=ol(o),G=ol(l)===l,le.next=8,c.isRTL==null?void 0:c.isRTL(f.floating);case 8:return I=le.sent,U=b||(G||!E?[Ed(l)]:hB(l)),b||S==="none"||U.push.apply(U,ln(dB(l,E,S,I))),B=[l].concat(ln(U)),le.next=14,p$(e,q);case 14:if(ee=le.sent,F=[],ne=((r=s.flip)==null?void 0:r.overflows)||[],m&&F.push(ee[te]),v&&(re=fB(o,a,I),F.push(ee[re[0]],ee[re[1]])),ne=[].concat(ln(ne),[{placement:o,overflows:F}]),F.every(function(de){return de<=0})){le.next=37;break}if(N=(((R=s.flip)==null?void 0:R.index)||0)+1,!(P=B[N])){le.next=25;break}return le.abrupt("return",{data:{index:N,overflows:ne},reset:{placement:P}});case 25:if(A=($=ne.filter(function(de){return de.overflows[0]<=0}).sort(function(de,xe){return de.overflows[1]-xe.overflows[1]})[0])==null?void 0:$.placement){le.next=35;break}le.t0=k,le.next=le.t0==="bestFit"?30:le.t0==="initialPlacement"?33:35;break;case 30:return Z=(M=ne.map(function(de){return[de.placement,de.overflows.filter(function(xe){return xe>0}).reduce(function(xe,oe){return xe+oe},0)]}).sort(function(de,xe){return de[1]-xe[1]})[0])==null?void 0:M[0],Z&&(A=Z),le.abrupt("break",35);case 33:return A=l,le.abrupt("break",35);case 35:if(o===A){le.next=37;break}return le.abrupt("return",{reset:{placement:A}});case 37:return le.abrupt("return",{});case 38:case"end":return le.stop()}},t)}))()}}};function vB(n,e){return rv.apply(this,arguments)}function rv(){return rv=Xt(Ge().mark(function n(e,t){var i,r,o,s,a,l,c,f,h,p,m,g,v,b;return Ge().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return i=e.placement,r=e.platform,o=e.elements,x.next=3,r.isRTL==null?void 0:r.isRTL(o.floating);case 3:return s=x.sent,a=ol(i),l=pp(i),c=mp(i)==="y",f=["left","top"].includes(a)?-1:1,h=s&&c?-1:1,p=dp(t,e),m=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:ke({mainAxis:0,crossAxis:0,alignmentAxis:null},p),g=m.mainAxis,v=m.crossAxis,b=m.alignmentAxis,l&&typeof b=="number"&&(v=l==="end"?-1*b:b),x.abrupt("return",c?{x:v*h,y:g*f}:{x:g*f,y:v*h});case 13:case"end":return x.stop()}},n)})),rv.apply(this,arguments)}var yB=function(n){return n===void 0&&(n={}),{name:"shift",options:n,fn:function(e){return Xt(Ge().mark(function t(){var i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G,I;return Ge().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return i=e.x,r=e.y,o=e.placement,s=dp(n,e),a=s.mainAxis,l=a===void 0||a,c=s.crossAxis,f=c!==void 0&&c,h=s.limiter,p=h===void 0?{fn:function(B){return{x:B.x,y:B.y}}}:h,m=uO(s,aN),g={x:i,y:r},U.next=5,p$(e,m);case 5:return v=U.sent,b=mp(ol(o)),x=f$(b),k=g[x],C=g[b],l&&(S=x==="y"?"bottom":"right",_=k+v[x==="y"?"top":"left"],E=k-v[S],k=Fw(_,k,E)),f&&(q=b==="y"?"bottom":"right",te=C+v[b==="y"?"top":"left"],G=C-v[q],C=Fw(te,C,G)),I=p.fn(ke(ke({},e),{},Kr(Kr({},x,k),b,C))),U.abrupt("return",ke(ke({},I),{},{data:{x:I.x-i,y:I.y-r}}));case 14:case"end":return U.stop()}},t)}))()}}};function ka(n){return m$(n)?(n.nodeName||"").toLowerCase():"#document"}function Jr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ps(n){var e;return(e=(m$(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function m$(n){return n instanceof Node||n instanceof Jr(n).Node}function Ts(n){return n instanceof Element||n instanceof Jr(n).Element}function us(n){return n instanceof HTMLElement||n instanceof Jr(n).HTMLElement}function Vw(n){return typeof ShadowRoot<"u"&&(n instanceof ShadowRoot||n instanceof Jr(n).ShadowRoot)}function Vu(n){var e=mo(n),t=e.overflow,i=e.overflowX,r=e.overflowY,o=e.display;return/auto|scroll|overlay|hidden|clip/.test(t+r+i)&&!["inline","contents"].includes(o)}function bB(n){return["table","td","th"].includes(ka(n))}function ov(n){var e=h1(),t=mo(n);return t.transform!=="none"||t.perspective!=="none"||!!t.containerType&&t.containerType!=="normal"||!e&&!!t.backdropFilter&&t.backdropFilter!=="none"||!e&&!!t.filter&&t.filter!=="none"||["transform","perspective","filter"].some(function(i){return(t.willChange||"").includes(i)})||["paint","layout","strict","content"].some(function(i){return(t.contain||"").includes(i)})}function h1(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function gp(n){return["html","body","#document"].includes(ka(n))}function mo(n){return Jr(n).getComputedStyle(n)}function vp(n){return Ts(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function vc(n){if(ka(n)==="html")return n;var e=n.assignedSlot||n.parentNode||Vw(n)&&n.host||Ps(n);return Vw(e)?e.host:e}function g$(n){var e=vc(n);return gp(e)?n.ownerDocument?n.ownerDocument.body:n.body:us(e)&&Vu(e)?e:g$(e)}function Wu(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);var r=g$(n),o=r===((i=n.ownerDocument)==null?void 0:i.body),s=Jr(r);return o?e.concat(s,s.visualViewport||[],Vu(r)?r:[],s.frameElement&&t?Wu(s.frameElement):[]):e.concat(r,Wu(r,[],t))}function v$(n){var e=mo(n),t=parseFloat(e.width)||0,i=parseFloat(e.height)||0,r=us(n),o=r?n.offsetWidth:t,s=r?n.offsetHeight:i,a=Td(t)!==o||Td(i)!==s;return a&&(t=o,i=s),{width:t,height:i,$:a}}function d1(n){return Ts(n)?n:n.contextElement}function nc(n){var e=d1(n);if(!us(e))return wa(1);var t=e.getBoundingClientRect(),i=v$(e),r=i.width,o=i.height,s=i.$,a=(s?Td(t.width):t.width)/r,l=(s?Td(t.height):t.height)/o;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}var xB=wa(0);function y$(n){var e=Jr(n);return h1()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:xB}function sl(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),o=d1(n),s=wa(1);e&&(i?Ts(i)&&(s=nc(i)):s=nc(n));var a=function(S,_,E){return _===void 0&&(_=!1),!(!E||_&&E!==Jr(S))&&_}(o,t,i)?y$(o):wa(0),l=(r.left+a.x)/s.x,c=(r.top+a.y)/s.y,f=r.width/s.x,h=r.height/s.y;if(o)for(var p=Jr(o),m=i&&Ts(i)?Jr(i):i,g=p.frameElement;g&&i&&m!==p;){var v=nc(g),b=g.getBoundingClientRect(),x=mo(g),k=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,C=b.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,f*=v.x,h*=v.y,l+=k,c+=C,g=Jr(g).frameElement}return Ad({width:f,height:h,x:l,y:c})}function b$(n){return sl(Ps(n)).left+vp(n).scrollLeft}function Ww(n,e,t){var i;if(e==="viewport")i=function(o,s){var a=Jr(o),l=Ps(o),c=a.visualViewport,f=l.clientWidth,h=l.clientHeight,p=0,m=0;if(c){f=c.width,h=c.height;var g=h1();(!g||g&&s==="fixed")&&(p=c.offsetLeft,m=c.offsetTop)}return{width:f,height:h,x:p,y:m}}(n,t);else if(e==="document")i=function(o){var s=Ps(o),a=vp(o),l=o.ownerDocument.body,c=Va(s.scrollWidth,s.clientWidth,l.scrollWidth,l.clientWidth),f=Va(s.scrollHeight,s.clientHeight,l.scrollHeight,l.clientHeight),h=-a.scrollLeft+b$(o),p=-a.scrollTop;return mo(l).direction==="rtl"&&(h+=Va(s.clientWidth,l.clientWidth)-c),{width:c,height:f,x:h,y:p}}(Ps(n));else if(Ts(e))i=function(o,s){var a=sl(o,!0,s==="fixed"),l=a.top+o.clientTop,c=a.left+o.clientLeft,f=us(o)?nc(o):wa(1);return{width:o.clientWidth*f.x,height:o.clientHeight*f.y,x:c*f.x,y:l*f.y}}(e,t);else{var r=y$(n);i=ke(ke({},e),{},{x:e.x-r.x,y:e.y-r.y})}return Ad(i)}function x$(n,e){var t=vc(n);return!(t===e||!Ts(t)||gp(t))&&(mo(t).position==="fixed"||x$(t,e))}function wB(n,e,t){var i=us(e),r=Ps(e),o=t==="fixed",s=sl(n,!0,o,e),a={scrollLeft:0,scrollTop:0},l=wa(0);if(i||!i&&!o)if((ka(e)!=="body"||Vu(r))&&(a=vp(e)),i){var c=sl(e,!0,o,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else r&&(l.x=b$(r));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Uw(n,e){return us(n)&&mo(n).position!=="fixed"?e?e(n):n.offsetParent:null}function Qw(n,e){var t=Jr(n);if(!us(n))return t;for(var i=Uw(n,e);i&&bB(i)&&mo(i).position==="static";)i=Uw(i,e);return i&&(ka(i)==="html"||ka(i)==="body"&&mo(i).position==="static"&&!ov(i))?t:i||function(r){for(var o=vc(r);us(o)&&!gp(o);){if(ov(o))return o;o=vc(o)}return null}(n)||t}var kB={convertOffsetParentRelativeRectToViewportRelativeRect:function(n){var e=n.rect,t=n.offsetParent,i=n.strategy,r=us(t),o=Ps(t);if(t===o)return e;var s={scrollLeft:0,scrollTop:0},a=wa(1),l=wa(0);if((r||!r&&i!=="fixed")&&((ka(t)!=="body"||Vu(o))&&(s=vp(t)),us(t))){var c=sl(t);a=nc(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-s.scrollLeft*a.x+l.x,y:e.y*a.y-s.scrollTop*a.y+l.y}},getDocumentElement:Ps,getClippingRect:function(n){var e=n.element,t=n.boundary,i=n.rootBoundary,r=n.strategy,o=t==="clippingAncestors"?function(c,f){var h=f.get(c);if(h)return h;for(var p=Wu(c,[],!1).filter(function(k){return Ts(k)&&ka(k)!=="body"}),m=null,g=mo(c).position==="fixed",v=g?vc(c):c;Ts(v)&&!gp(v);){var b=mo(v),x=ov(v);x||b.position!=="fixed"||(m=null),(g?!x&&!m:!x&&b.position==="static"&&m&&["absolute","fixed"].includes(m.position)||Vu(v)&&!x&&x$(c,v))?p=p.filter(function(k){return k!==v}):m=b,v=vc(v)}return f.set(c,p),p}(e,this._c):[].concat(t),s=[].concat(ln(o),[i]),a=s[0],l=s.reduce(function(c,f){var h=Ww(e,f,r);return c.top=Va(h.top,c.top),c.right=Pd(h.right,c.right),c.bottom=Pd(h.bottom,c.bottom),c.left=Va(h.left,c.left),c},Ww(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Qw,getElementRects:function(){var n=Xt(Ge().mark(function e(t){var i,r,o,s,a;return Ge().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=t.reference,r=t.floating,o=t.strategy,s=this.getOffsetParent||Qw,a=this.getDimensions,l.t0=wB,l.t1=i,l.next=7,s(r);case 7:return l.t2=l.sent,l.t3=o,l.t4=(0,l.t0)(l.t1,l.t2,l.t3),l.t5=ke,l.t6={x:0,y:0},l.next=14,a(r);case 14:return l.t7=l.sent,l.t8=(0,l.t5)(l.t6,l.t7),l.abrupt("return",{reference:l.t4,floating:l.t8});case 17:case"end":return l.stop()}},e,this)}));return function(e){return n.apply(this,arguments)}}(),getClientRects:function(n){return Array.from(n.getClientRects())},getDimensions:function(n){return v$(n)},getScale:nc,isElement:Ts,isRTL:function(n){return mo(n).direction==="rtl"}};function _B(n,e,t,i){i===void 0&&(i={});var r=i,o=r.ancestorScroll,s=o===void 0||o,a=r.ancestorResize,l=a===void 0||a,c=r.elementResize,f=c===void 0?typeof ResizeObserver=="function":c,h=r.layoutShift,p=h===void 0?typeof IntersectionObserver=="function":h,m=r.animationFrame,g=m!==void 0&&m,v=d1(n),b=s||l?[].concat(ln(v?Wu(v):[]),ln(Wu(e))):[];b.forEach(function(E){s&&E.addEventListener("scroll",t,{passive:!0}),l&&E.addEventListener("resize",t)});var x,k=v&&p?function(E,q){var te,G=null,I=Ps(E);function U(){clearTimeout(te),G&&G.disconnect(),G=null}return function B(ee,F){ee===void 0&&(ee=!1),F===void 0&&(F=1),U();var ne=E.getBoundingClientRect(),re=ne.left,R=ne.top,$=ne.width,N=ne.height;if(ee||q(),$&&N){var P={rootMargin:-fh(R)+"px "+-fh(I.clientWidth-(re+$))+"px "+-fh(I.clientHeight-(R+N))+"px "+-fh(re)+"px",threshold:Va(0,Pd(1,F))||1},A=!0;try{G=new IntersectionObserver(M,ke(ke({},P),{},{root:I.ownerDocument}))}catch{G=new IntersectionObserver(M,P)}G.observe(E)}function M(Z){var le=Z[0].intersectionRatio;if(le!==F){if(!A)return B();le?B(!1,le):te=setTimeout(function(){B(!1,1e-7)},100)}A=!1}}(!0),U}(v,t):null,C=-1,S=null;f&&(S=new ResizeObserver(function(E){var q=Jt(E,1)[0];q&&q.target===v&&S&&(S.unobserve(e),cancelAnimationFrame(C),C=requestAnimationFrame(function(){S&&S.observe(e)})),t()}),v&&!g&&S.observe(v),S.observe(e));var _=g?sl(n):null;return g&&function E(){var q=sl(n);!_||q.x===_.x&&q.y===_.y&&q.width===_.width&&q.height===_.height||t(),_=q,x=requestAnimationFrame(E)}(),t(),function(){b.forEach(function(E){s&&E.removeEventListener("scroll",t),l&&E.removeEventListener("resize",t)}),k&&k(),S&&S.disconnect(),S=null,g&&cancelAnimationFrame(x)}}var jB=function(n,e,t){var i=new Map,r=ke({platform:kB},t),o=ke(ke({},r.platform),{},{_c:i});return mB(n,e,ke(ke({},r),{},{platform:o}))};function SB(n){var e=n.loadOptions,t=n.filterText,i=n.items,r=n.multiple,o=n.value,s=n.itemId,a=n.groupBy,l=n.filterSelectedItems,c=n.itemFilter,f=n.convertStringItemsToObjects,h=n.filterGroupedItems,p=n.label;if(i&&e)return i;if(!i)return[];i&&i.length>0&&Ii(i[0])!=="object"&&(i=f(i));var m=i.filter(function(g){var v=c(g[p],t,g);return v&&r&&o!=null&&o.length&&(v=!o.some(function(b){return!!l&&b[s]===g[s]})),v});return a&&(m=h(m)),m}function CB(n){return sv.apply(this,arguments)}function sv(){return sv=Xt(Ge().mark(function n(e){var t,i,r,o,s;return Ge().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.dispatch,i=e.loadOptions,r=e.convertStringItemsToObjects,o=e.filterText,a.next=3,i(o).catch(function(l){console.warn("svelte-select loadOptions error :>> ",l),t("error",{type:"loadOptions",details:l})});case 3:if(!(s=a.sent)||s.cancelled){a.next=7;break}return s?(s&&s.length>0&&Ii(s[0])!=="object"&&(s=r(s)),t("loaded",{items:s})):s=[],a.abrupt("return",{filteredItems:s,loading:!1,focused:!0,listOpen:!0});case 7:case"end":return a.stop()}},n)})),sv.apply(this,arguments)}function OB(n){Gt(n,"svelte-qbd276","svg.svelte-qbd276{width:var(--chevron-icon-width, 20px);height:var(--chevron-icon-width, 20px);color:var(--chevron-icon-colour, currentColor)}")}function $B(n){var e,t;return{c:function(){e=ss("svg"),j(t=ss("path"),"fill","currentColor"),j(t,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),j(e,"width","100%"),j(e,"height","100%"),j(e,"viewBox","0 0 20 20"),j(e,"focusable","false"),j(e,"aria-hidden","true"),j(e,"class","svelte-qbd276")},m:function(i,r){ae(i,e,r),z(e,t)},p:Ve,i:Ve,o:Ve,d:function(i){i&&se(e)}}}var MB=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,null,$B,Gi,{},OB),r}return ct(t)}();function PB(n){Gt(n,"svelte-whdbu1","svg.svelte-whdbu1{width:var(--clear-icon-width, 20px);height:var(--clear-icon-width, 20px);color:var(--clear-icon-color, currentColor)}")}function TB(n){var e,t;return{c:function(){e=ss("svg"),j(t=ss("path"),"fill","currentColor"),j(t,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),j(e,"width","100%"),j(e,"height","100%"),j(e,"viewBox","-2 -2 50 50"),j(e,"focusable","false"),j(e,"aria-hidden","true"),j(e,"role","presentation"),j(e,"class","svelte-whdbu1")},m:function(i,r){ae(i,e,r),z(e,t)},p:Ve,i:Ve,o:Ve,d:function(i){i&&se(e)}}}var Rd=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,null,TB,Gi,{},PB),r}return ct(t)}();function EB(n){Gt(n,"svelte-1p3nqvd",".loading.svelte-1p3nqvd{width:var(--spinner-width, 20px);height:var(--spinner-height, 20px);color:var(--spinner-color, var(--icons-color));animation:svelte-1p3nqvd-rotate 0.75s linear infinite;transform-origin:center center;transform:none}.circle_path.svelte-1p3nqvd{stroke-dasharray:90;stroke-linecap:round}@keyframes svelte-1p3nqvd-rotate{100%{transform:rotate(360deg)}}")}function AB(n){var e,t;return{c:function(){e=ss("svg"),j(t=ss("circle"),"class","circle_path svelte-1p3nqvd"),j(t,"cx","50"),j(t,"cy","50"),j(t,"r","20"),j(t,"fill","none"),j(t,"stroke","currentColor"),j(t,"stroke-width","5"),j(t,"stroke-miterlimit","10"),j(e,"class","loading svelte-1p3nqvd"),j(e,"viewBox","25 25 50 50")},m:function(i,r){ae(i,e,r),z(e,t)},p:Ve,i:Ve,o:Ve,d:function(i){i&&se(e)}}}var RB=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,null,AB,Gi,{},EB),r}return ct(t)}();function LB(n){Gt(n,"svelte-82qwg8",".svelte-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{--borderRadius:var(--border-radius);--clearSelectColor:var(--clear-select-color);--clearSelectWidth:var(--clear-select-width);--disabledBackground:var(--disabled-background);--disabledBorderColor:var(--disabled-border-color);--disabledColor:var(--disabled-color);--disabledPlaceholderColor:var(--disabled-placeholder-color);--disabledPlaceholderOpacity:var(--disabled-placeholder-opacity);--errorBackground:var(--error-background);--errorBorder:var(--error-border);--groupItemPaddingLeft:var(--group-item-padding-left);--groupTitleColor:var(--group-title-color);--groupTitleFontSize:var(--group-title-font-size);--groupTitleFontWeight:var(--group-title-font-weight);--groupTitlePadding:var(--group-title-padding);--groupTitleTextTransform:var(--group-title-text-transform);--groupTitleBorderColor:var(--group-title-border-color);--groupTitleBorderWidth:var(--group-title-border-width);--groupTitleBorderStyle:var(--group-title-border-style);--indicatorColor:var(--chevron-color);--indicatorHeight:var(--chevron-height);--indicatorWidth:var(--chevron-width);--inputColor:var(--input-color);--inputLeft:var(--input-left);--inputLetterSpacing:var(--input-letter-spacing);--inputMargin:var(--input-margin);--inputPadding:var(--input-padding);--itemActiveBackground:var(--item-active-background);--itemColor:var(--item-color);--itemFirstBorderRadius:var(--item-first-border-radius);--itemHoverBG:var(--item-hover-bg);--itemHoverColor:var(--item-hover-color);--itemIsActiveBG:var(--item-is-active-bg);--itemIsActiveColor:var(--item-is-active-color);--itemIsNotSelectableColor:var(--item-is-not-selectable-color);--itemPadding:var(--item-padding);--listBackground:var(--list-background);--listBorder:var(--list-border);--listBorderRadius:var(--list-border-radius);--listEmptyColor:var(--list-empty-color);--listEmptyPadding:var(--list-empty-padding);--listEmptyTextAlign:var(--list-empty-text-align);--listMaxHeight:var(--list-max-height);--listPosition:var(--list-position);--listShadow:var(--list-shadow);--listZIndex:var(--list-z-index);--multiItemBG:var(--multi-item-bg);--multiItemBorderRadius:var(--multi-item-border-radius);--multiItemDisabledHoverBg:var(--multi-item-disabled-hover-bg);--multiItemDisabledHoverColor:var(--multi-item-disabled-hover-color);--multiItemHeight:var(--multi-item-height);--multiItemMargin:var(--multi-item-margin);--multiItemPadding:var(--multi-item-padding);--multiSelectInputMargin:var(--multi-select-input-margin);--multiSelectInputPadding:var(--multi-select-input-padding);--multiSelectPadding:var(--multi-select-padding);--placeholderColor:var(--placeholder-color);--placeholderOpacity:var(--placeholder-opacity);--selectedItemPadding:var(--selected-item-padding);--spinnerColor:var(--spinner-color);--spinnerHeight:var(--spinner-height);--spinnerWidth:var(--spinner-width);--internal-padding:0 0 0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--border-radius, 6px);min-height:var(--height, 42px);position:relative;display:flex;align-items:stretch;padding:var(--padding, var(--internal-padding));background:var(--background, #fff);margin:var(--margin, 0);width:var(--width, 100%);font-size:var(--font-size, 16px);max-height:var(--max-height)}.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{box-sizing:var(--box-sizing, border-box)}.svelte-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:hover{border:var(--border-hover, 1px solid #b2b8bf)}.value-container.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;flex:1 1 0%;flex-wrap:wrap;align-items:center;gap:5px 10px;padding:var(--value-container-padding, 5px 0);position:relative;overflow:var(--value-container-overflow, hidden);align-self:stretch}.prepend.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.indicators.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;flex-shrink:0;align-items:center}.indicators.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:var(--indicators-position);top:var(--indicators-top);right:var(--indicators-right);bottom:var(--indicators-bottom)}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:absolute;cursor:default;border:none;color:var(--input-color, var(--item-color));padding:var(--input-padding, 0);letter-spacing:var(--input-letter-spacing, inherit);margin:var(--input-margin, 0);min-width:10px;top:0;right:0;bottom:0;left:0;background:transparent;font-size:var(--font-size, 16px)}.svelte-82qwg8:not(.multi)>.value-container.svelte-82qwg8>input.svelte-82qwg8{width:100%;height:100%}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8::placeholder{color:var(--placeholder-color, #78848f);opacity:var(--placeholder-opacity, 1)}input.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:none}.svelte-select.focused.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border:var(--border-focused, 1px solid #006fe8);border-radius:var(--border-radius-focused, var(--border-radius, 6px))}.disabled.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--disabled-background, #ebedef);border-color:var(--disabled-border-color, #ebedef);color:var(--disabled-color, #c1c6cc)}.disabled.svelte-82qwg8 input.svelte-82qwg8.svelte-82qwg8::placeholder{color:var(--disabled-placeholder-color, #c1c6cc);opacity:var(--disabled-placeholder-opacity, 1)}.selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{position:relative;overflow:var(--selected-item-overflow, hidden);padding:var(--selected-item-padding, 0 20px 0 0);text-overflow:ellipsis;white-space:nowrap;color:var(--selected-item-color, inherit);font-size:var(--font-size, 16px)}.multi.svelte-82qwg8 .selected-item.svelte-82qwg8.svelte-82qwg8{position:absolute;line-height:var(--height, 42px);height:var(--height, 42px)}.selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:none}.hide-selected-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0}.icon.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;align-items:center;justify-content:center}.clear-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{all:unset;display:flex;align-items:center;justify-content:center;width:var(--clear-select-width, 40px);height:var(--clear-select-height, 100%);color:var(--clear-select-color, var(--icons-color));margin:var(--clear-select-margin, 0);pointer-events:all;flex-shrink:0}.clear-select.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:focus{outline:var(--clear-select-focus-outline, 1px solid #006fe8)}.loading.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{width:var(--loading-width, 40px);height:var(--loading-height);color:var(--loading-color, var(--icons-color));margin:var(--loading--margin, 0);flex-shrink:0}.chevron.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{width:var(--chevron-width, 40px);height:var(--chevron-height, 40px);background:var(--chevron-background, transparent);pointer-events:var(--chevron-pointer-events, none);color:var(--chevron-color, var(--icons-color));border:var(--chevron-border, 0 0 0 1px solid #d8dbdf);flex-shrink:0}.multi.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{padding:var(--multi-select-padding, var(--internal-padding))}.multi.svelte-82qwg8 input.svelte-82qwg8.svelte-82qwg8{padding:var(--multi-select-input-padding, 0);position:relative;margin:var(--multi-select-input-margin, 5px 0);flex:1 1 40px}.svelte-select.error.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border:var(--error-border, 1px solid #ff2d55);background:var(--error-background, #fff)}.a11y-text.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}.multi-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--multi-item-bg, #ebedef);margin:var(--multi-item-margin, 0);outline:var(--multi-item-outline, 1px solid #ddd);border-radius:var(--multi-item-border-radius, 4px);height:var(--multi-item-height, 25px);line-height:var(--multi-item-height, 25px);display:flex;cursor:default;padding:var(--multi-item-padding, 0 5px);overflow:hidden;gap:var(--multi-item-gap, 4px);outline-offset:-1px;max-width:var(--multi-max-width, none);color:var(--multi-item-color, var(--item-color))}.multi-item.disabled.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:hover{background:var(--multi-item-disabled-hover-bg, #ebedef);color:var(--multi-item-disabled-hover-color, #c1c6cc)}.multi-item-text.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multi-item-clear.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{display:flex;align-items:center;justify-content:center;--clear-icon-color:var(--multi-item-clear-icon-color, #000)}.multi-item.active.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{outline:var(--multi-item-active-outline, 1px solid #006fe8)}.svelte-select-list.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{box-shadow:var(--list-shadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--list-border-radius, 4px);max-height:var(--list-max-height, 252px);overflow-y:auto;background:var(--list-background, #fff);position:var(--list-position, absolute);z-index:var(--list-z-index, 2);border:var(--list-border)}.prefloat.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0;pointer-events:none}.list-group-title.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{color:var(--group-title-color, #8f8f8f);cursor:default;font-size:var(--group-title-font-size, 16px);font-weight:var(--group-title-font-weight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--group-title-padding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--group-title-text-transform, uppercase);border-width:var(--group-title-border-width, medium);border-style:var(--group-title-border-style, none);border-color:var(--group-title-border-color, color)}.empty.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{text-align:var(--list-empty-text-align, center);padding:var(--list-empty-padding, 20px 0);color:var(--list-empty-color, #78848f)}.item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{cursor:default;height:var(--item-height, var(--height, 42px));line-height:var(--item-line-height, var(--height, 42px));padding:var(--item-padding, 0 20px);color:var(--item-color, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;transition:var(--item-transition, all 0.2s);align-items:center;width:100%}.item.group-item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{padding-left:var(--group-item-padding-left, 40px)}.item.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:active{background:var(--item-active-background, #b9daff)}.item.active.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{background:var(--item-is-active-bg, #007aff);color:var(--item-is-active-color, #fff)}.item.first.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{border-radius:var(--item-first-border-radius, 4px 4px 0 0)}.item.hover.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:not(.active){background:var(--item-hover-bg, #e7f2ff);color:var(--item-hover-color, inherit)}.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.hover.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.active.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8,.item.not-selectable.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8:active{color:var(--item-is-not-selectable-color, #999);background:transparent}.required.svelte-82qwg8.svelte-82qwg8.svelte-82qwg8{opacity:0;z-index:-1;position:absolute;top:0;left:0;bottom:0;right:0}")}var IB=function(n){return{value:8&n[0]}},Zw=function(n){return{value:n[3]}},NB=function(n){return{value:8&n[0]}},Jw=function(n){return{value:n[3]}},BB=function(n){return{listOpen:64&n[0]}},Gw=function(n){return{listOpen:n[6]}},DB=function(n){return{}},Kw=function(n){return{}},zB=function(n){return{}},Xw=function(n){return{}},qB=function(n){return{selection:8&n[0]}},Yw=function(n){return{selection:n[3]}};function e2(n,e,t){var i=n.slice();return i[126]=e[t],i[128]=t,i}var FB=function(n){return{}},t2=function(n){return{}},HB=function(n){return{selection:8&n[0]}},n2=function(n){return{selection:n[126],index:n[128]}},VB=function(n){return{}},i2=function(n){return{}},WB=function(n){return{}},r2=function(n){return{}},UB=function(n){return{}},o2=function(n){return{}};function s2(n,e,t){var i=n.slice();return i[126]=e[t],i[128]=t,i}var QB=function(n){return{item:16777216&n[0]}},a2=function(n){return{item:n[126],index:n[128]}},ZB=function(n){return{filteredItems:16777216&n[0]}},l2=function(n){return{filteredItems:n[24]}},JB=function(n){return{}},c2=function(n){return{}};function u2(n){var e,t,i,r,o,s,a,l,c=n[50]["list-prepend"]&&f2(n),f=[XB,KB,GB],h=[];function p(g,v){return g[50].list?0:g[24].length>0?1:g[19]?-1:2}~(i=p(n))&&(r=h[i]=f[i](n));var m=n[50]["list-append"]&&d2(n);return{c:function(){e=K("div"),c&&c.c(),t=ve(),r&&r.c(),o=ve(),m&&m.c(),j(e,"class","svelte-select-list svelte-82qwg8"),Ie(e,"prefloat",n[28])},m:function(g,v){ae(g,e,v),c&&c.m(e,null),z(e,t),~i&&h[i].m(e,null),z(e,o),m&&m.m(e,null),n[91](e),s=!0,a||(l=[or(n[49].call(null,e)),Ne(e,"scroll",n[41]),Ne(e,"pointerup",Eo(Xa(n[85]))),Ne(e,"mousedown",Eo(Xa(n[86])))],a=!0)},p:function(g,v){g[50]["list-prepend"]?c?(c.p(g,v),524288&v[1]&&T(c,1)):((c=f2(g)).c(),T(c,1),c.m(e,t)):c&&(De(),D(c,1,1,function(){c=null}),ze());var b=i;(i=p(g))===b?~i&&h[i].p(g,v):(r&&(De(),D(h[b],1,1,function(){h[b]=null}),ze()),~i?((r=h[i])?r.p(g,v):(r=h[i]=f[i](g)).c(),T(r,1),r.m(e,o)):r=null),g[50]["list-append"]?m?(m.p(g,v),524288&v[1]&&T(m,1)):((m=d2(g)).c(),T(m,1),m.m(e,null)):m&&(De(),D(m,1,1,function(){m=null}),ze()),(!s||268435456&v[0])&&Ie(e,"prefloat",g[28])},i:function(g){s||(T(c),T(r),T(m),s=!0)},o:function(g){D(c),D(r),D(m),s=!1},d:function(g){g&&se(e),c&&c.d(),~i&&h[i].d(),m&&m.d(),n[91](null),a=!1,Yn(l)}}}function f2(n){var e,t=n[83]["list-prepend"],i=_i(t,n,n[82],c2);return{c:function(){i&&i.c()},m:function(r,o){i&&i.m(r,o),e=!0},p:function(r,o){i&&i.p&&(!e||1048576&o[2])&&Si(i,t,r,r[82],e?ji(t,r[82],o,JB):Ci(r[82]),c2)},i:function(r){e||(T(i,r),e=!0)},o:function(r){D(i,r),e=!1},d:function(r){i&&i.d(r)}}}function GB(n){var e,t,i=n[83].empty,r=_i(i,n,n[82],o2),o=r||{c:function(){(t=K("div")).textContent="No options",j(t,"class","empty svelte-82qwg8")},m:function(s,a){ae(s,t,a)},p:Ve,d:function(s){s&&se(t)}};return{c:function(){o&&o.c()},m:function(s,a){o&&o.m(s,a),e=!0},p:function(s,a){r&&r.p&&(!e||1048576&a[2])&&Si(r,i,s,s[82],e?ji(i,s[82],a,UB):Ci(s[82]),o2)},i:function(s){e||(T(o,s),e=!0)},o:function(s){D(o,s),e=!1},d:function(s){o&&o.d(s)}}}function KB(n){for(var e,t,i=Zt(n[24]),r=[],o=0;o<i.length;o+=1)r[o]=h2(s2(n,i,o));var s=function(a){return D(r[a],1,1,function(){r[a]=null})};return{c:function(){for(var a=0;a<r.length;a+=1)r[a].c();e=On()},m:function(a,l){for(var c=0;c<r.length;c+=1)r[c]&&r[c].m(a,l);ae(a,e,l),t=!0},p:function(a,l){if(1627402376&l[0]|28672&l[1]|1048576&l[2]){var c;for(i=Zt(a[24]),c=0;c<i.length;c+=1){var f=s2(a,i,c);r[c]?(r[c].p(f,l),T(r[c],1)):(r[c]=h2(f),r[c].c(),T(r[c],1),r[c].m(e.parentNode,e))}for(De(),c=i.length;c<r.length;c+=1)s(c);ze()}},i:function(a){if(!t){for(var l=0;l<i.length;l+=1)T(r[l]);t=!0}},o:function(a){r=r.filter(Boolean);for(var l=0;l<r.length;l+=1)D(r[l]);t=!1},d:function(a){a&&se(e),Ri(r,a)}}}function XB(n){var e,t=n[83].list,i=_i(t,n,n[82],l2);return{c:function(){i&&i.c()},m:function(r,o){i&&i.m(r,o),e=!0},p:function(r,o){i&&i.p&&(!e||16777216&o[0]|1048576&o[2])&&Si(i,t,r,r[82],e?ji(t,r[82],o,ZB):Ci(r[82]),l2)},i:function(r){e||(T(i,r),e=!0)},o:function(r){D(i,r),e=!1},d:function(r){i&&i.d(r)}}}function h2(n){var e,t,i,r,o,s,a,l,c=n[83].item,f=_i(c,n,n[82],a2),h=f||function(v){var b,x,k=((b=v[126])===null||b===void 0?void 0:b[v[12]])+"";return{c:function(){x=Xe(k)},m:function(C,S){ae(C,x,S)},p:function(C,S){var _;16781312&S[0]&&k!==(k=((_=C[126])===null||_===void 0?void 0:_[C[12]])+"")&&Dt(x,k)},d:function(C){C&&se(x)}}}(n);function p(){return n[88](n[128])}function m(){return n[89](n[128])}function g(){return n[90](n[126],n[128])}return{c:function(){var v;e=K("div"),t=K("div"),h&&h.c(),o=ve(),j(t,"class","item svelte-82qwg8"),Ie(t,"list-group-title",n[126].groupHeader),Ie(t,"active",n[45](n[126],n[3],n[13])),Ie(t,"first",n[128]===0),Ie(t,"hover",n[7]===n[128]),Ie(t,"group-item",n[126].groupItem),Ie(t,"not-selectable",((v=n[126])===null||v===void 0?void 0:v.selectable)===!1),j(e,"class","list-item svelte-82qwg8"),j(e,"tabindex","-1"),j(e,"role","none")},m:function(v,b){ae(v,e,b),z(e,t),h&&h.m(t,null),z(e,o),s=!0,a||(l=[or(i=n[46].call(null,t,{scroll:n[45](n[126],n[3],n[13]),listDom:n[30]})),or(r=n[47].call(null,t,{scroll:n[29]===n[128],listDom:n[30]})),Ne(e,"mouseover",p),Ne(e,"focus",m),Ne(e,"click",Eo(g)),Ne(e,"keydown",Eo(Xa(n[87])))],a=!0)},p:function(v,b){var x;n=v,f?f.p&&(!s||16777216&b[0]|1048576&b[2])&&Si(f,c,n,n[82],s?ji(c,n[82],b,QB):Ci(n[82]),a2):h&&h.p&&(!s||16781312&b[0])&&h.p(n,s?b:[-1,-1,-1,-1,-1]),i&&ir(i.update)&&1090527240&b[0]&&i.update.call(null,{scroll:n[45](n[126],n[3],n[13]),listDom:n[30]}),r&&ir(r.update)&&1610612736&b[0]&&r.update.call(null,{scroll:n[29]===n[128],listDom:n[30]}),(!s||16777216&b[0])&&Ie(t,"list-group-title",n[126].groupHeader),(!s||16785416&b[0]|16384&b[1])&&Ie(t,"active",n[45](n[126],n[3],n[13])),(!s||128&b[0])&&Ie(t,"hover",n[7]===n[128]),(!s||16777216&b[0])&&Ie(t,"group-item",n[126].groupItem),(!s||16777216&b[0])&&Ie(t,"not-selectable",((x=n[126])===null||x===void 0?void 0:x.selectable)===!1)},i:function(v){s||(T(h,v),s=!0)},o:function(v){D(h,v),s=!1},d:function(v){v&&se(e),h&&h.d(v),a=!1,Yn(l)}}}function d2(n){var e,t=n[83]["list-append"],i=_i(t,n,n[82],r2);return{c:function(){i&&i.c()},m:function(r,o){i&&i.m(r,o),e=!0},p:function(r,o){i&&i.p&&(!e||1048576&o[2])&&Si(i,t,r,r[82],e?ji(t,r[82],o,WB):Ci(r[82]),r2)},i:function(r){e||(T(i,r),e=!0)},o:function(r){D(i,r),e=!1},d:function(r){i&&i.d(r)}}}function p2(n){var e,t,i,r,o;return{c:function(){e=K("span"),t=Xe(n[32]),i=ve(),r=K("span"),o=Xe(n[31]),j(e,"id","aria-selection"),j(e,"class","svelte-82qwg8"),j(r,"id","aria-context"),j(r,"class","svelte-82qwg8")},m:function(s,a){ae(s,e,a),z(e,t),ae(s,i,a),ae(s,r,a),z(r,o)},p:function(s,a){2&a[1]&&Dt(t,s[32]),1&a[1]&&Dt(o,s[31])},d:function(s){s&&(se(e),se(i),se(r))}}}function m2(n){var e,t,i,r,o=[eD,YB],s=[];function a(l,c){return l[9]?0:1}return e=a(n),t=s[e]=o[e](n),{c:function(){t.c(),i=On()},m:function(l,c){s[e].m(l,c),ae(l,i,c),r=!0},p:function(l,c){var f=e;(e=a(l))===f?s[e].p(l,c):(De(),D(s[f],1,1,function(){s[f]=null}),ze(),(t=s[e])?t.p(l,c):(t=s[e]=o[e](l)).c(),T(t,1),t.m(i.parentNode,i))},i:function(l){r||(T(t),r=!0)},o:function(l){D(t),r=!1},d:function(l){l&&se(i),s[e].d(l)}}}function YB(n){var e,t,i=n[83].selection,r=_i(i,n,n[82],Yw),o=r||function(s){var a,l=s[3][s[12]]+"";return{c:function(){a=Xe(l)},m:function(c,f){ae(c,a,f)},p:function(c,f){4104&f[0]&&l!==(l=c[3][c[12]]+"")&&Dt(a,l)},d:function(c){c&&se(a)}}}(n);return{c:function(){e=K("div"),o&&o.c(),j(e,"class","selected-item svelte-82qwg8"),Ie(e,"hide-selected-item",n[35])},m:function(s,a){ae(s,e,a),o&&o.m(e,null),t=!0},p:function(s,a){r?r.p&&(!t||8&a[0]|1048576&a[2])&&Si(r,i,s,s[82],t?ji(i,s[82],a,qB):Ci(s[82]),Yw):o&&o.p&&(!t||4104&a[0])&&o.p(s,t?a:[-1,-1,-1,-1,-1]),(!t||16&a[1])&&Ie(e,"hide-selected-item",s[35])},i:function(s){t||(T(o,s),t=!0)},o:function(s){D(o,s),t=!1},d:function(s){s&&se(e),o&&o.d(s)}}}function eD(n){for(var e,t,i=Zt(n[3]),r=[],o=0;o<i.length;o+=1)r[o]=v2(e2(n,i,o));var s=function(a){return D(r[a],1,1,function(){r[a]=null})};return{c:function(){for(var a=0;a<r.length;a+=1)r[a].c();e=On()},m:function(a,l){for(var c=0;c<r.length;c+=1)r[c]&&r[c].m(a,l);ae(a,e,l),t=!0},p:function(a,l){if(67116040&l[0]|32&l[1]|1048576&l[2]){var c;for(i=Zt(a[3]),c=0;c<i.length;c+=1){var f=e2(a,i,c);r[c]?(r[c].p(f,l),T(r[c],1)):(r[c]=v2(f),r[c].c(),T(r[c],1),r[c].m(e.parentNode,e))}for(De(),c=i.length;c<r.length;c+=1)s(c);ze()}},i:function(a){if(!t){for(var l=0;l<i.length;l+=1)T(r[l]);t=!0}},o:function(a){r=r.filter(Boolean);for(var l=0;l<r.length;l+=1)D(r[l]);t=!1},d:function(a){a&&se(e),Ri(r,a)}}}function g2(n){var e,t,i,r,o=n[83]["multi-clear-icon"],s=_i(o,n,n[82],t2),a=s||function(c){var f,h;return f=new Rd({}),{c:function(){Te(f.$$.fragment)},m:function(p,m){Me(f,p,m),h=!0},i:function(p){h||(T(f.$$.fragment,p),h=!0)},o:function(p){D(f.$$.fragment,p),h=!1},d:function(p){Pe(f,p)}}}();function l(){return n[92](n[128])}return{c:function(){e=K("div"),a&&a.c(),j(e,"class","multi-item-clear svelte-82qwg8")},m:function(c,f){ae(c,e,f),a&&a.m(e,null),t=!0,i||(r=Ne(e,"pointerup",Eo(Xa(l))),i=!0)},p:function(c,f){n=c,s&&s.p&&(!t||1048576&f[2])&&Si(s,o,n,n[82],t?ji(o,n[82],f,FB):Ci(n[82]),t2)},i:function(c){t||(T(a,c),t=!0)},o:function(c){D(a,c),t=!1},d:function(c){c&&se(e),a&&a.d(c),i=!1,r()}}}function v2(n){var e,t,i,r,o,s,a,l=n[83].selection,c=_i(l,n,n[82],n2),f=c||function(m){var g,v=m[126][m[12]]+"";return{c:function(){g=Xe(v)},m:function(b,x){ae(b,g,x)},p:function(b,x){4104&x[0]&&v!==(v=b[126][b[12]]+"")&&Dt(g,v)},d:function(b){b&&se(g)}}}(n),h=!n[11]&&!n[10]&&Rd&&g2(n);function p(){return n[93](n[128])}return{c:function(){e=K("div"),t=K("span"),f&&f.c(),i=ve(),h&&h.c(),r=ve(),j(t,"class","multi-item-text svelte-82qwg8"),j(e,"class","multi-item svelte-82qwg8"),j(e,"role","none"),Ie(e,"active",n[26]===n[128]),Ie(e,"disabled",n[11])},m:function(m,g){ae(m,e,g),z(e,t),f&&f.m(t,null),z(e,i),h&&h.m(e,null),z(e,r),o=!0,s||(a=[Ne(e,"click",Xa(p)),Ne(e,"keydown",Eo(Xa(n[84])))],s=!0)},p:function(m,g){n=m,c?c.p&&(!o||8&g[0]|1048576&g[2])&&Si(c,l,n,n[82],o?ji(l,n[82],g,HB):Ci(n[82]),n2):f&&f.p&&(!o||4104&g[0])&&f.p(n,o?g:[-1,-1,-1,-1,-1]),n[11]||n[10]||!Rd?h&&(De(),D(h,1,1,function(){h=null}),ze()):h?(h.p(n,g),3072&g[0]&&T(h,1)):((h=g2(n)).c(),T(h,1),h.m(e,r)),(!o||67108864&g[0])&&Ie(e,"active",n[26]===n[128]),(!o||2048&g[0])&&Ie(e,"disabled",n[11])},i:function(m){o||(T(f,m),T(h),o=!0)},o:function(m){D(f,m),D(h),o=!1},d:function(m){m&&se(e),f&&f.d(m),h&&h.d(),s=!1,Yn(a)}}}function y2(n){var e,t,i=n[83]["loading-icon"],r=_i(i,n,n[82],Xw),o=r||function(s){var a,l;return a=new RB({}),{c:function(){Te(a.$$.fragment)},m:function(c,f){Me(a,c,f),l=!0},i:function(c){l||(T(a.$$.fragment,c),l=!0)},o:function(c){D(a.$$.fragment,c),l=!1},d:function(c){Pe(a,c)}}}();return{c:function(){e=K("div"),o&&o.c(),j(e,"class","icon loading svelte-82qwg8"),j(e,"aria-hidden","true")},m:function(s,a){ae(s,e,a),o&&o.m(e,null),t=!0},p:function(s,a){r&&r.p&&(!t||1048576&a[2])&&Si(r,i,s,s[82],t?ji(i,s[82],a,zB):Ci(s[82]),Xw)},i:function(s){t||(T(o,s),t=!0)},o:function(s){D(o,s),t=!1},d:function(s){s&&se(e),o&&o.d(s)}}}function b2(n){var e,t,i,r,o=n[83]["clear-icon"],s=_i(o,n,n[82],Kw),a=s||function(l){var c,f;return c=new Rd({}),{c:function(){Te(c.$$.fragment)},m:function(h,p){Me(c,h,p),f=!0},i:function(h){f||(T(c.$$.fragment,h),f=!0)},o:function(h){D(c.$$.fragment,h),f=!1},d:function(h){Pe(c,h)}}}();return{c:function(){e=K("button"),a&&a.c(),j(e,"type","button"),j(e,"class","icon clear-select svelte-82qwg8")},m:function(l,c){ae(l,e,c),a&&a.m(e,null),t=!0,i||(r=Ne(e,"click",n[22]),i=!0)},p:function(l,c){s&&s.p&&(!t||1048576&c[2])&&Si(s,o,l,l[82],t?ji(o,l[82],c,DB):Ci(l[82]),Kw)},i:function(l){t||(T(a,l),t=!0)},o:function(l){D(a,l),t=!1},d:function(l){l&&se(e),a&&a.d(l),i=!1,r()}}}function x2(n){var e,t,i=n[83]["chevron-icon"],r=_i(i,n,n[82],Gw),o=r||function(s){var a,l;return a=new MB({}),{c:function(){Te(a.$$.fragment)},m:function(c,f){Me(a,c,f),l=!0},i:function(c){l||(T(a.$$.fragment,c),l=!0)},o:function(c){D(a.$$.fragment,c),l=!1},d:function(c){Pe(a,c)}}}();return{c:function(){e=K("div"),o&&o.c(),j(e,"class","icon chevron svelte-82qwg8"),j(e,"aria-hidden","true")},m:function(s,a){ae(s,e,a),o&&o.m(e,null),t=!0},p:function(s,a){r&&r.p&&(!t||64&a[0]|1048576&a[2])&&Si(r,i,s,s[82],t?ji(i,s[82],a,BB):Ci(s[82]),Gw)},i:function(s){t||(T(o,s),t=!0)},o:function(s){D(o,s),t=!1},d:function(s){s&&se(e),o&&o.d(s)}}}function w2(n){var e,t,i=n[83].required,r=_i(i,n,n[82],Zw),o=r||{c:function(){j(t=K("select"),"class","required svelte-82qwg8"),t.required=!0,j(t,"tabindex","-1"),j(t,"aria-hidden","true")},m:function(s,a){ae(s,t,a)},p:Ve,d:function(s){s&&se(t)}};return{c:function(){o&&o.c()},m:function(s,a){o&&o.m(s,a),e=!0},p:function(s,a){r&&r.p&&(!e||8&a[0]|1048576&a[2])&&Si(r,i,s,s[82],e?ji(i,s[82],a,IB):Ci(s[82]),Zw)},i:function(s){e||(T(o,s),e=!0)},o:function(s){D(o,s),e=!1},d:function(s){o&&o.d(s)}}}function tD(n){for(var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_=n[6]&&u2(n),E=n[2]&&p2(n),q=n[83].prepend,te=_i(q,n,n[82],i2),G=n[25]&&m2(n),I=[{readOnly:f=!n[17]},n[27],{placeholder:n[33]},{style:n[18]},{disabled:n[11]}],U={},B=0;B<I.length;B+=1)U=Dr(U,I[B]);var ee=n[5]&&y2(n),F=n[34]&&b2(n),ne=n[20]&&x2(n),re=n[83]["input-hidden"],R=_i(re,n,n[82],Jw),$=R||function(P){var A,M;return{c:function(){j(A=K("input"),"name",P[8]),j(A,"type","hidden"),A.value=M=P[3]?JSON.stringify(P[3]):null,j(A,"class","svelte-82qwg8")},m:function(Z,le){ae(Z,A,le)},p:function(Z,le){256&le[0]&&j(A,"name",Z[8]),8&le[0]&&M!==(M=Z[3]?JSON.stringify(Z[3]):null)&&(A.value=M)},d:function(Z){Z&&se(A)}}}(n),N=n[16]&&(!n[3]||n[3].length===0)&&w2(n);return{c:function(){e=K("div"),_&&_.c(),t=ve(),i=K("span"),E&&E.c(),r=ve(),o=K("div"),te&&te.c(),s=ve(),a=K("div"),G&&G.c(),l=ve(),c=K("input"),h=ve(),p=K("div"),ee&&ee.c(),m=ve(),F&&F.c(),g=ve(),ne&&ne.c(),v=ve(),$&&$.c(),b=ve(),N&&N.c(),j(i,"aria-live","polite"),j(i,"aria-atomic","false"),j(i,"aria-relevant","additions text"),j(i,"class","a11y-text svelte-82qwg8"),j(o,"class","prepend svelte-82qwg8"),ew(c,U),Ie(c,"svelte-82qwg8",!0),j(a,"class","value-container svelte-82qwg8"),j(p,"class","indicators svelte-82qwg8"),j(e,"class",x="svelte-select "+n[21]+" svelte-82qwg8"),j(e,"style",n[14]),j(e,"role","none"),Ie(e,"multi",n[9]),Ie(e,"disabled",n[11]),Ie(e,"focused",n[2]),Ie(e,"list-open",n[6]),Ie(e,"show-chevron",n[20]),Ie(e,"error",n[15])},m:function(P,A){ae(P,e,A),_&&_.m(e,null),z(e,t),z(e,i),E&&E.m(i,null),z(e,r),z(e,o),te&&te.m(o,null),z(e,s),z(e,a),G&&G.m(a,null),z(a,l),z(a,c),c.autofocus&&c.focus(),n[94](c),as(c,n[4]),z(e,h),z(e,p),ee&&ee.m(p,null),z(p,m),F&&F.m(p,null),z(p,g),ne&&ne.m(p,null),z(e,v),$&&$.m(e,null),z(e,b),N&&N.m(e,null),n[96](e),k=!0,C||(S=[Ne(window,"click",n[42]),Ne(window,"keydown",n[37]),Ne(c,"keydown",n[37]),Ne(c,"blur",n[39]),Ne(c,"focus",n[38]),Ne(c,"input",n[95]),Ne(e,"pointerup",Xa(n[40])),or(n[48].call(null,e))],C=!0)},p:function(P,A){P[6]?_?(_.p(P,A),64&A[0]&&T(_,1)):((_=u2(P)).c(),T(_,1),_.m(e,t)):_&&(De(),D(_,1,1,function(){_=null}),ze()),P[2]?E?E.p(P,A):((E=p2(P)).c(),E.m(i,null)):E&&(E.d(1),E=null),te&&te.p&&(!k||1048576&A[2])&&Si(te,q,P,P[82],k?ji(q,P[82],A,VB):Ci(P[82]),i2),P[25]?G?(G.p(P,A),33554432&A[0]&&T(G,1)):((G=m2(P)).c(),T(G,1),G.m(a,l)):G&&(De(),D(G,1,1,function(){G=null}),ze()),ew(c,U=vo(I,[(!k||131072&A[0]&&f!==(f=!P[17]))&&{readOnly:f},134217728&A[0]&&P[27],(!k||4&A[1])&&{placeholder:P[33]},(!k||262144&A[0])&&{style:P[18]},(!k||2048&A[0])&&{disabled:P[11]}])),16&A[0]&&c.value!==P[4]&&as(c,P[4]),Ie(c,"svelte-82qwg8",!0),P[5]?ee?(ee.p(P,A),32&A[0]&&T(ee,1)):((ee=y2(P)).c(),T(ee,1),ee.m(p,m)):ee&&(De(),D(ee,1,1,function(){ee=null}),ze()),P[34]?F?(F.p(P,A),8&A[1]&&T(F,1)):((F=b2(P)).c(),T(F,1),F.m(p,g)):F&&(De(),D(F,1,1,function(){F=null}),ze()),P[20]?ne?(ne.p(P,A),1048576&A[0]&&T(ne,1)):((ne=x2(P)).c(),T(ne,1),ne.m(p,null)):ne&&(De(),D(ne,1,1,function(){ne=null}),ze()),R?R.p&&(!k||8&A[0]|1048576&A[2])&&Si(R,re,P,P[82],k?ji(re,P[82],A,NB):Ci(P[82]),Jw):$&&$.p&&(!k||264&A[0])&&$.p(P,k?A:[-1,-1,-1,-1,-1]),!P[16]||P[3]&&P[3].length!==0?N&&(De(),D(N,1,1,function(){N=null}),ze()):N?(N.p(P,A),65544&A[0]&&T(N,1)):((N=w2(P)).c(),T(N,1),N.m(e,null)),(!k||2097152&A[0]&&x!==(x="svelte-select "+P[21]+" svelte-82qwg8"))&&j(e,"class",x),(!k||16384&A[0])&&j(e,"style",P[14]),(!k||2097664&A[0])&&Ie(e,"multi",P[9]),(!k||2099200&A[0])&&Ie(e,"disabled",P[11]),(!k||2097156&A[0])&&Ie(e,"focused",P[2]),(!k||2097216&A[0])&&Ie(e,"list-open",P[6]),(!k||3145728&A[0])&&Ie(e,"show-chevron",P[20]),(!k||2129920&A[0])&&Ie(e,"error",P[15])},i:function(P){k||(T(_),T(te,P),T(G),T(ee),T(F),T(ne),T($,P),T(N),k=!0)},o:function(P){D(_),D(te,P),D(G),D(ee),D(F),D(ne),D($,P),D(N),k=!1},d:function(P){P&&se(e),_&&_.d(),E&&E.d(),te&&te.d(P),G&&G.d(),n[94](null),ee&&ee.d(),F&&F.d(),ne&&ne.d(),$&&$.d(P),N&&N.d(),n[96](null),C=!1,Yn(S)}}}function k2(n){return n.map(function(e,t){return{index:t,value:e,label:"".concat(e)}})}function nD(n,e,t){var i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C=e.$$slots,S=C===void 0?{}:C,_=e.$$scope,E=function(pe){var mt={};for(var Ht in pe)mt[Ht]=!0;return mt}(S),q=_O(),te=e.justValue,G=te===void 0?null:te,I=e.filter,U=I===void 0?SB:I,B=e.getItems,ee=B===void 0?CB:B,F=e.id,ne=F===void 0?null:F,re=e.name,R=re===void 0?null:re,$=e.container,N=$===void 0?void 0:$,P=e.input,A=P===void 0?void 0:P,M=e.multiple,Z=M!==void 0&&M,le=e.multiFullItemClearable,de=le!==void 0&&le,xe=e.disabled,oe=xe!==void 0&&xe,Be=e.focused,We=Be!==void 0&&Be,Ce=e.value,be=Ce===void 0?null:Ce,Ze=e.filterText,Ye=Ze===void 0?"":Ze,et=e.placeholder,qt=et===void 0?"Please select":et,fe=e.placeholderAlwaysShow,wt=fe!==void 0&&fe,tt=e.items,ce=tt===void 0?null:tt,bt=e.label,Bt=bt===void 0?"label":bt,ut=e.itemFilter,Kt=ut===void 0?function(pe,mt,Ht){return"".concat(pe).toLowerCase().includes(mt.toLowerCase())}:ut,bn=e.groupBy,it=bn===void 0?void 0:bn,H=e.groupFilter,J=H===void 0?function(pe){return pe}:H,ie=e.groupHeaderSelectable,me=ie!==void 0&&ie,_e=e.itemId,Re=_e===void 0?"value":_e,st=e.loadOptions,Tt=st===void 0?void 0:st,Lt=e.containerStyles,Ln=Lt===void 0?"":Lt,Qt=e.hasError,rt=Qt!==void 0&&Qt,$n=e.filterSelectedItems,oi=$n===void 0||$n,Mn=e.required,Qn=Mn!==void 0&&Mn,Zn=e.closeListOnChange,ei=Zn===void 0||Zn,xn=e.clearFilterTextOnBlur,je=xn===void 0||xn,ot=e.createGroupHeaderItem,Vt=ot===void 0?function(pe,mt){return Kr({value:pe},Bt,pe)}:ot,en=e.searchable,tn=en===void 0||en,rn=e.inputStyles,we=rn===void 0?"":rn,pt=e.clearable,nt=pt===void 0||pt,W=e.loading,Q=W!==void 0&&W,ue=e.listOpen,ye=ue!==void 0&&ue,$e=e.debounce,_t=$e===void 0?function(pe){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;clearTimeout(p),p=setTimeout(pe,mt)}:$e,It=e.debounceWait,an=It===void 0?300:It,gn=e.hideEmptyState,In=gn!==void 0&&gn,sn=e.inputAttributes,Pn=sn===void 0?{}:sn,qn=e.listAutoWidth,Y=qn===void 0||qn,Ee=e.showChevron,Ue=Ee!==void 0&&Ee,Ke=e.listOffset,ft=Ke===void 0?5:Ke,Ft=e.hoverItemIndex,vt=Ft===void 0?0:Ft,cn=e.floatingConfig,Nt=cn===void 0?{}:cn,Et=e.class,hn=Et===void 0?"":Et;function Rn(pe){var mt=[],Ht={};pe.forEach(function(on){var un=it(on);mt.includes(un)||(mt.push(un),Ht[un]=[],un&&Ht[un].push(Object.assign(Vt(un,on),{id:un,groupHeader:!0,selectable:me}))),Ht[un].push(Object.assign({groupItem:!!un},on))});var Bn=[];return J(mt).forEach(function(on){Ht[on]&&Bn.push.apply(Bn,ln(Ht[on]))}),Bn}function Jn(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,mt=arguments.length>1?arguments[1]:void 0;t(7,vt=pe<0?0:pe),!mt&&it&&c[vt]&&!c[vt].selectable&&Nn(1)}function zi(){var pe=!0;if(be){var mt=[],Ht=[];be.forEach(function(Bn){mt.includes(Bn[Re])?pe=!1:(mt.push(Bn[Re]),Ht.push(Bn))}),pe||t(3,be=Ht)}return pe}function Sn(pe){var mt=pe?pe[Re]:be[Re];return ce.find(function(Ht){return Ht[Re]===mt})}function zn(pe){return tr.apply(this,arguments)}function tr(){return(tr=Xt(Ge().mark(function pe(mt){var Ht;return Ge().wrap(function(Bn){for(;;)switch(Bn.prev=Bn.next){case 0:Ht=be[mt],be.length===1?t(3,be=void 0):t(3,be=be.filter(function(on){return on!==Ht})),q("clear",Ht);case 3:case"end":return Bn.stop()}},pe)}))).apply(this,arguments)}function qi(pe){var mt,Ht;We&&A===((mt=document)===null||mt===void 0?void 0:mt.activeElement)||(pe&&q("focus",pe),(Ht=A)===null||Ht===void 0||Ht.focus(),t(2,We=!0))}function lr(pe){return ti.apply(this,arguments)}function ti(){return(ti=Xt(Ge().mark(function pe(mt){var Ht;return Ge().wrap(function(Bn){for(;;)switch(Bn.prev=Bn.next){case 0:if(!yt){Bn.next=2;break}return Bn.abrupt("return");case 2:(ye||We)&&(q("blur",mt),Wt(),t(2,We=!1),t(26,m=void 0),(Ht=A)===null||Ht===void 0||Ht.blur());case 3:case"end":return Bn.stop()}},pe)}))).apply(this,arguments)}function Wt(){je&&t(4,Ye=""),t(6,ye=!1)}k=Xt(Ge().mark(function pe(){return Ge().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:t(78,g=be),t(79,v=Ye),t(80,b=Z);case 3:case"end":return mt.stop()}},pe)})),Sc().$$.before_update.push(k),go(function(){ye&&t(2,We=!0),We&&A&&A.focus()});var Fn=e.ariaValues,ds=Fn===void 0?function(pe){return"Option ".concat(pe,", selected.")}:Fn,X=e.ariaListOpen,ge=X===void 0?function(pe,mt){return"You are currently focused on option ".concat(pe,". There are ").concat(mt," results available.")}:X,Le=e.ariaFocused,qe=Le===void 0?function(){return"Select is focused, type to refine list, press down to open the menu."}:Le,Qe,Fe=null;function xt(){clearTimeout(Qe),Qe=setTimeout(function(){yt=!1},100)}Xr(function(){var pe;(pe=Fe)===null||pe===void 0||pe.remove()});var yt=!1;function $t(pe){pe&&pe.selectable!==!1&&function(mt){if(mt){t(4,Ye="");var Ht=Object.assign({},mt);if(Ht.groupHeader&&!Ht.selectable)return;t(3,be=Z?be?be.concat([Ht]):[Ht]:t(3,be=Ht)),setTimeout(function(){ei&&Wt(),t(26,m=void 0),q("change",be),q("select",mt)})}}(pe)}function Hn(pe){yt||t(7,vt=pe)}function Gn(pe){var mt=pe.item,Ht=pe.i;if((mt==null?void 0:mt.selectable)!==!1)return be&&!Z&&be[Re]===mt[Re]?Wt():void(function(Bn){return Bn.groupHeader&&Bn.selectable||Bn.selectable||!Bn.hasOwnProperty("selectable")}(mt)&&(t(7,vt=Ht),$t(mt)))}function Nn(pe){if(c.filter(function(Ht){return!Object.hasOwn(Ht,"selectable")||Ht.selectable===!0}).length===0)return t(7,vt=0);pe>0&&vt===c.length-1?t(7,vt=0):t(7,pe<0&&vt===0?vt=c.length-1:vt+=pe);var mt=c[vt];mt&&mt.selectable===!1&&(pe!==1&&pe!==-1||Nn(pe))}var cr=Vn,di=Vn;function Vn(pe){return{update:function(mt){mt.scroll&&(xt(),pe.scrollIntoView({behavior:"auto",block:"nearest"}))}}}var Fi,si={strategy:"absolute",placement:"bottom-start",middleware:[(Fi=ft,Fi===void 0&&(Fi=0),{name:"offset",options:Fi,fn:function(pe){return Xt(Ge().mark(function mt(){var Ht,Bn,on,un,yi,Oi,bi;return Ge().wrap(function($i){for(;;)switch($i.prev=$i.next){case 0:return on=pe.x,un=pe.y,yi=pe.placement,Oi=pe.middlewareData,$i.next=3,vB(pe,Fi);case 3:if(bi=$i.sent,yi!==((Ht=Oi.offset)==null?void 0:Ht.placement)||(Bn=Oi.arrow)==null||!Bn.alignmentOffset){$i.next=6;break}return $i.abrupt("return",{});case 6:return $i.abrupt("return",{x:on+bi.x,y:un+bi.y,data:ke(ke({},bi),{},{placement:yi})});case 7:case"end":return $i.stop()}},mt)}))()}}),gB(),yB()],autoUpdate:!1},Hi=function(pe){var mt,Ht,Bn={autoUpdate:!0},on=pe,un=function(bi){return ke(ke(ke({},Bn),pe||{}),bi||{})},yi=function(bi){mt&&Ht&&(on=un(bi),jB(mt,Ht,on).then(function($i){var eo;Object.assign(Ht.style,{position:$i.strategy,left:"".concat($i.x,"px"),top:"".concat($i.y,"px")}),!((eo=on)===null||eo===void 0)&&eo.onComputed&&on.onComputed($i)}))},Oi=function(bi){Xr(bi.subscribe(function($i){mt===void 0?(mt=$i,yi()):(Object.assign(mt,$i),yi())}))};return[function(bi){if("subscribe"in bi)return Oi(bi),{};mt=bi,yi()},function(bi,$i){var eo;Ht=bi,on=un($i),setTimeout(function(){return yi($i)},0),yi($i);var ff=function(){eo&&(eo(),eo=void 0)},Pc=function(){var Lo=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:on||{}).autoUpdate;if(ff(),Lo!==!1)return _B(mt,Ht,function(){return yi(on)},Lo===!0?{}:Lo)};return eo=Pc(),{update:function(Lo){yi(Lo),eo=Pc(Lo)},destroy:function(){ff()}}},yi]}(si),xo=Jt(Hi,3),Fs=xo[0],dn=xo[1],Yr=xo[2],ni=!0;return n.$$set=function(pe){"justValue"in pe&&t(52,G=pe.justValue),"filter"in pe&&t(53,U=pe.filter),"getItems"in pe&&t(54,ee=pe.getItems),"id"in pe&&t(55,ne=pe.id),"name"in pe&&t(8,R=pe.name),"container"in pe&&t(0,N=pe.container),"input"in pe&&t(1,A=pe.input),"multiple"in pe&&t(9,Z=pe.multiple),"multiFullItemClearable"in pe&&t(10,de=pe.multiFullItemClearable),"disabled"in pe&&t(11,oe=pe.disabled),"focused"in pe&&t(2,We=pe.focused),"value"in pe&&t(3,be=pe.value),"filterText"in pe&&t(4,Ye=pe.filterText),"placeholder"in pe&&t(56,qt=pe.placeholder),"placeholderAlwaysShow"in pe&&t(57,wt=pe.placeholderAlwaysShow),"items"in pe&&t(51,ce=pe.items),"label"in pe&&t(12,Bt=pe.label),"itemFilter"in pe&&t(58,Kt=pe.itemFilter),"groupBy"in pe&&t(59,it=pe.groupBy),"groupFilter"in pe&&t(60,J=pe.groupFilter),"groupHeaderSelectable"in pe&&t(61,me=pe.groupHeaderSelectable),"itemId"in pe&&t(13,Re=pe.itemId),"loadOptions"in pe&&t(62,Tt=pe.loadOptions),"containerStyles"in pe&&t(14,Ln=pe.containerStyles),"hasError"in pe&&t(15,rt=pe.hasError),"filterSelectedItems"in pe&&t(63,oi=pe.filterSelectedItems),"required"in pe&&t(16,Qn=pe.required),"closeListOnChange"in pe&&t(64,ei=pe.closeListOnChange),"clearFilterTextOnBlur"in pe&&t(65,je=pe.clearFilterTextOnBlur),"createGroupHeaderItem"in pe&&t(66,Vt=pe.createGroupHeaderItem),"searchable"in pe&&t(17,tn=pe.searchable),"inputStyles"in pe&&t(18,we=pe.inputStyles),"clearable"in pe&&t(68,nt=pe.clearable),"loading"in pe&&t(5,Q=pe.loading),"listOpen"in pe&&t(6,ye=pe.listOpen),"debounce"in pe&&t(69,_t=pe.debounce),"debounceWait"in pe&&t(70,an=pe.debounceWait),"hideEmptyState"in pe&&t(19,In=pe.hideEmptyState),"inputAttributes"in pe&&t(71,Pn=pe.inputAttributes),"listAutoWidth"in pe&&t(72,Y=pe.listAutoWidth),"showChevron"in pe&&t(20,Ue=pe.showChevron),"listOffset"in pe&&t(73,ft=pe.listOffset),"hoverItemIndex"in pe&&t(7,vt=pe.hoverItemIndex),"floatingConfig"in pe&&t(74,Nt=pe.floatingConfig),"class"in pe&&t(21,hn=pe.class),"ariaValues"in pe&&t(75,ds=pe.ariaValues),"ariaListOpen"in pe&&t(76,ge=pe.ariaListOpen),"ariaFocused"in pe&&t(77,qe=pe.ariaFocused),"$$scope"in pe&&t(82,_=pe.$$scope)},n.$$.update=function(){var pe,mt,Ht,Bn;8&n.$$.dirty[0]|1048576&n.$$.dirty[1]&&be&&function(){if(typeof be=="string"){var on=(ce||[]).find(function(un){return un[Re]===be});t(3,be=on||Kr(Kr({},Re,be),"label",be))}else Z&&Array.isArray(be)&&be.length>0&&t(3,be=be.map(function(un){return typeof un=="string"?{value:un,label:un}:un}))}(),131072&n.$$.dirty[0]|512&n.$$.dirty[2]&&(!Pn&&tn||(t(27,x=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Pn)),ne&&t(27,x.id=ne,x),tn||t(27,x.readonly=!0,x))),512&n.$$.dirty[0]&&Z&&be&&(Array.isArray(be)?t(3,be=ln(be)):t(3,be=[be])),512&n.$$.dirty[0]|262144&n.$$.dirty[2]&&b&&!Z&&be&&t(3,be=null),520&n.$$.dirty[0]&&Z&&be&&be.length>1&&zi(),8&n.$$.dirty[0]&&be&&(Z?JSON.stringify(be)!==JSON.stringify(g)&&zi()&&q("input",be):g&&JSON.stringify(be[Re])===JSON.stringify(g[Re])||q("input",be)),520&n.$$.dirty[0]|65536&n.$$.dirty[2]&&!be&&Z&&g&&q("input",be),6&n.$$.dirty[0]&&!We&&A&&Wt(),16&n.$$.dirty[0]|131072&n.$$.dirty[2]&&Ye!==v&&(Tt||Ye.length!==0)&&(Tt?_t(Xt(Ge().mark(function on(){var un;return Ge().wrap(function(yi){for(;;)switch(yi.prev=yi.next){case 0:return t(5,Q=!0),yi.next=3,ee({dispatch:q,loadOptions:Tt,convertStringItemsToObjects:k2,filterText:Ye});case 3:(un=yi.sent)?(t(5,Q=un.loading),t(6,ye=ye?un.listOpen:Ye.length>0),t(2,We=ye&&un.focused),t(51,ce=it?Rn(un.filteredItems):un.filteredItems)):(t(5,Q=!1),t(2,We=!0),t(6,ye=!0));case 5:case"end":return yi.stop()}},on)})),an):(t(6,ye=!0),Z&&t(26,m=void 0))),12824&n.$$.dirty[0]|407896064&n.$$.dirty[1]|3&n.$$.dirty[2]&&t(24,c=U({loadOptions:Tt,filterText:Ye,items:ce,multiple:Z,value:be,itemId:Re,groupBy:it,label:Bt,filterSelectedItems:oi,itemFilter:Kt,convertStringItemsToObjects:k2,filterGroupedItems:Rn})),16777800&n.$$.dirty[0]&&!Z&&ye&&be&&c&&Jn(c.findIndex(function(on){return on[Re]===be[Re]}),!0),576&n.$$.dirty[0]&&ye&&Z&&t(7,vt=0),16&n.$$.dirty[0]&&Ye&&t(7,vt=0),128&n.$$.dirty[0]&&q("hoverItem",vt),520&n.$$.dirty[0]&&t(25,i=Z?be&&be.length>0:be),33554448&n.$$.dirty[0]&&t(35,r=i&&Ye.length>0),33556512&n.$$.dirty[0]|64&n.$$.dirty[2]&&t(34,o=i&&nt&&!oe&&!Q),520&n.$$.dirty[0]|100663296&n.$$.dirty[1]&&t(33,s=wt&&Z||Z&&((pe=be)===null||pe===void 0?void 0:pe.length)===0?qt:be?"":qt),520&n.$$.dirty[0]&&t(32,a=be?(mt=void 0,mt=Z&&be.length>0?be.map(function(on){return on[Bt]}).join(", "):be[Bt],ds(mt)):""),16777412&n.$$.dirty[0]&&t(31,l=function(){if(!c||c.length===0)return"";var on=c[vt];if(ye&&on){var un=c?c.length:0;return ge(on[Bt],un)}return qe()}()),1048576&n.$$.dirty[1]&&function(on){on&&on.length!==0&&!on.some(function(un){return Ii(un)!=="object"})&&be&&(Z?!be.some(function(un){return!un||!un[Re]}):be[Re])&&(Array.isArray(be)?t(3,be=be.map(function(un){return Sn(un)||un})):t(3,be=Sn()||be))}(ce),8712&n.$$.dirty[0]&&t(52,G=Z?be?be.map(function(on){return on[Re]}):null:be&&be[Re]),520&n.$$.dirty[0]|65536&n.$$.dirty[2]&&(Z||!g||be||q("input",be)),16777800&n.$$.dirty[0]&&ye&&c&&!Z&&!be&&Jn(),16777216&n.$$.dirty[0]&&function(on){ye&&q("filter",on)}(c),1&n.$$.dirty[0]|4096&n.$$.dirty[2]&&N&&((Ht=Nt)===null||Ht===void 0?void 0:Ht.autoUpdate)===void 0&&t(81,si.autoUpdate=!0,si),1&n.$$.dirty[0]|528384&n.$$.dirty[2]&&N&&Nt&&Yr(Object.assign(si,Nt)),8388608&n.$$.dirty[0]&&t(30,f=!!Fe),8388672&n.$$.dirty[0]&&function(on,un){if(!on||!un)return t(28,ni=!0);setTimeout(function(){t(28,ni=!1)},0)}(Fe,ye),8388673&n.$$.dirty[0]&&ye&&N&&Fe&&(Bn=N.getBoundingClientRect().width,t(23,Fe.style.width=Y?Bn+"px":"auto",Fe)),128&n.$$.dirty[0]&&t(29,h=vt),70&n.$$.dirty[0]&&A&&ye&&!We&&qi()},[N,A,We,be,Ye,Q,ye,vt,R,Z,de,oe,Bt,Re,Ln,rt,Qn,tn,we,In,Ue,hn,function(){q("clear",be),t(3,be=void 0),Wt(),qi()},Fe,c,i,m,x,ni,h,f,l,a,s,o,r,zn,function(pe){if(We)switch(pe.stopPropagation(),pe.key){case"Escape":pe.preventDefault(),Wt();break;case"Enter":if(pe.preventDefault(),ye){if(c.length===0)break;var mt=c[vt];if(be&&!Z&&be[Re]===mt[Re]){Wt();break}$t(c[vt])}break;case"ArrowDown":pe.preventDefault(),ye?Nn(1):(t(6,ye=!0),t(26,m=void 0));break;case"ArrowUp":pe.preventDefault(),ye?Nn(-1):(t(6,ye=!0),t(26,m=void 0));break;case"Tab":if(ye&&We){if(c.length===0||be&&be[Re]===c[vt][Re])return Wt();pe.preventDefault(),$t(c[vt]),Wt()}break;case"Backspace":if(!Z||Ye.length>0)return;if(Z&&be&&be.length>0){if(zn(m!==void 0?m:be.length-1),m===0||m===void 0)break;t(26,m=be.length>m?m-1:void 0)}break;case"ArrowLeft":if(!be||!Z||Ye.length>0)return;m===void 0?t(26,m=be.length-1):be.length>m&&m!==0&&t(26,m-=1);break;case"ArrowRight":if(!be||!Z||Ye.length>0||m===void 0)return;m===be.length-1?t(26,m=void 0):m<be.length-1&&t(26,m+=1)}},qi,lr,function(){if(!oe)return Ye.length>0?t(6,ye=!0):void t(6,ye=!ye)},xt,function(pe){var mt;ye||We||!N||N.contains(pe.target)||(mt=Fe)!==null&&mt!==void 0&&mt.contains(pe.target)||lr()},Hn,Gn,function(pe,mt,Ht){if(!Z)return mt&&mt[Ht]===pe[Ht]},cr,di,Fs,dn,E,ce,G,U,ee,ne,qt,wt,Kt,it,J,me,Tt,oi,ei,je,Vt,function(){return c},nt,_t,an,Pn,Y,ft,Nt,ds,ge,qe,g,v,b,si,_,S,function(pe){ah.call(this,n,pe)},function(pe){ah.call(this,n,pe)},function(pe){ah.call(this,n,pe)},function(pe){ah.call(this,n,pe)},function(pe){return Hn(pe)},function(pe){return Hn(pe)},function(pe,mt){return Gn({item:pe,i:mt})},function(pe){pn[pe?"unshift":"push"](function(){t(23,Fe=pe)})},function(pe){return zn(pe)},function(pe){return de?zn(pe):{}},function(pe){pn[pe?"unshift":"push"](function(){t(1,A=pe)})},function(){Ye=this.value,t(4,Ye)},function(pe){pn[pe?"unshift":"push"](function(){t(0,N=pe)})}]}var Ia=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,nD,tD,Gi,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,clearFilterTextOnBlur:65,createGroupHeaderItem:66,getFilteredItems:67,searchable:17,inputStyles:18,clearable:68,loading:5,listOpen:6,debounce:69,debounceWait:70,hideEmptyState:19,inputAttributes:71,listAutoWidth:72,showChevron:20,listOffset:73,hoverItemIndex:7,floatingConfig:74,class:21,handleClear:22,ariaValues:75,ariaListOpen:76,ariaFocused:77},LB,[-1,-1,-1,-1,-1]),r}return ct(t,[{key:"getFilteredItems",get:function(){return this.$$.ctx[67]}},{key:"handleClear",get:function(){return this.$$.ctx[22]}}]),t}();function iD(n){Gt(n,"svelte-ijtq0l","table.jse-transform-wizard.svelte-ijtq0l.svelte-ijtq0l{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-ijtq0l input.svelte-ijtq0l{font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-ijtq0l tr th.svelte-ijtq0l{font-weight:normal;text-align:left;width:60px}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l{width:100%;display:flex;flex-direction:row;margin-bottom:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select .multi-item{align-items:center}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select .value-container{gap:0 !important}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-filter-path{flex:4;margin-right:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-filter-relation{flex:1.5;margin-right:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-sort-path{flex:3;margin-right:calc(0.5 * var(--jse-padding, 10px))}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal.svelte-ijtq0l .svelte-select input{box-sizing:border-box}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal .jse-filter-value.svelte-ijtq0l{flex:4;padding:4px 8px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);outline:none;background:var(--jse-input-background, var(--jse-background-color, #fff));color:inherit}table.jse-transform-wizard.svelte-ijtq0l tr td .jse-horizontal .jse-filter-value.svelte-ijtq0l:focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}")}function rD(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G,I,U,B,ee,F,ne,re,R,$,N;function P(Ce){n[16](Ce)}var A={class:"jse-filter-path",showChevron:!0,items:n[7]};function M(Ce){n[17](Ce)}n[0]!==void 0&&(A.value=n[0]),a=new Ia({props:A}),pn.push(function(){return So(a,"value",P)});var Z={class:"jse-filter-relation",showChevron:!0,items:n[8]};function le(Ce){n[19](Ce)}n[1]!==void 0&&(Z.value=n[1]),f=new Ia({props:Z}),pn.push(function(){return So(f,"value",M)});var de={class:"jse-sort-path",showChevron:!0,items:n[7]};function xe(Ce){n[20](Ce)}n[3]!==void 0&&(de.value=n[3]),S=new Ia({props:de}),pn.push(function(){return So(S,"value",le)});var oe={class:"jse-sort-direction",showChevron:!0,items:n[9]};function Be(Ce){n[21](Ce)}n[4]!==void 0&&(oe.value=n[4]),q=new Ia({props:oe}),pn.push(function(){return So(q,"value",xe)});var We={class:"jse-projection-paths",multiple:!0,showChevron:!0,items:n[6]};return n[5]!==void 0&&(We.value=n[5]),ne=new Ia({props:We}),pn.push(function(){return So(ne,"value",Be)}),{c:function(){e=K("table"),t=K("tr"),(i=K("th")).textContent="Filter",r=ve(),o=K("td"),s=K("div"),Te(a.$$.fragment),c=ve(),Te(f.$$.fragment),p=ve(),m=K("input"),g=ve(),v=K("tr"),(b=K("th")).textContent="Sort",x=ve(),k=K("td"),C=K("div"),Te(S.$$.fragment),E=ve(),Te(q.$$.fragment),G=ve(),I=K("tr"),(U=K("th")).textContent="Pick",B=ve(),ee=K("td"),F=K("div"),Te(ne.$$.fragment),j(i,"class","svelte-ijtq0l"),j(m,"class","jse-filter-value svelte-ijtq0l"),j(s,"class","jse-horizontal svelte-ijtq0l"),j(b,"class","svelte-ijtq0l"),j(C,"class","jse-horizontal svelte-ijtq0l"),j(U,"class","svelte-ijtq0l"),j(F,"class","jse-horizontal svelte-ijtq0l"),j(e,"class","jse-transform-wizard svelte-ijtq0l")},m:function(Ce,be){ae(Ce,e,be),z(e,t),z(t,i),z(t,r),z(t,o),z(o,s),Me(a,s,null),z(s,c),Me(f,s,null),z(s,p),z(s,m),as(m,n[2]),z(e,g),z(e,v),z(v,b),z(v,x),z(v,k),z(k,C),Me(S,C,null),z(C,E),Me(q,C,null),z(e,G),z(e,I),z(I,U),z(I,B),z(I,ee),z(ee,F),Me(ne,F,null),R=!0,$||(N=Ne(m,"input",n[18]),$=!0)},p:function(Ce,be){var Ze=Jt(be,1)[0],Ye={};128&Ze&&(Ye.items=Ce[7]),!l&&1&Ze&&(l=!0,Ye.value=Ce[0],jo(function(){return l=!1})),a.$set(Ye);var et={};!h&&2&Ze&&(h=!0,et.value=Ce[1],jo(function(){return h=!1})),f.$set(et),4&Ze&&m.value!==Ce[2]&&as(m,Ce[2]);var qt={};128&Ze&&(qt.items=Ce[7]),!_&&8&Ze&&(_=!0,qt.value=Ce[3],jo(function(){return _=!1})),S.$set(qt);var fe={};!te&&16&Ze&&(te=!0,fe.value=Ce[4],jo(function(){return te=!1})),q.$set(fe);var wt={};64&Ze&&(wt.items=Ce[6]),!re&&32&Ze&&(re=!0,wt.value=Ce[5],jo(function(){return re=!1})),ne.$set(wt)},i:function(Ce){R||(T(a.$$.fragment,Ce),T(f.$$.fragment,Ce),T(S.$$.fragment,Ce),T(q.$$.fragment,Ce),T(ne.$$.fragment,Ce),R=!0)},o:function(Ce){D(a.$$.fragment,Ce),D(f.$$.fragment,Ce),D(S.$$.fragment,Ce),D(q.$$.fragment,Ce),D(ne.$$.fragment,Ce),R=!1},d:function(Ce){Ce&&se(e),Pe(a),Pe(f),Pe(S),Pe(q),Pe(ne),$=!1,N()}}}function oD(n,e,t){var i,r,o,s,a,l,c,f,h,p,m,g=ar("jsoneditor:TransformWizard"),v=e.json,b=e.queryOptions,x=b===void 0?{}:b,k=e.onChange,C=["==","!=","<","<=",">",">="].map(function(I){return{value:I,label:I}}),S=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}],_=(i=x)!==null&&i!==void 0&&(i=i.filter)!==null&&i!==void 0&&i.path?nu(x.filter.path):null,E=(r=x)!==null&&r!==void 0&&(r=r.filter)!==null&&r!==void 0&&r.relation?C.find(function(I){var U;return I.value===((U=x.filter)===null||U===void 0?void 0:U.relation)}):null,q=((o=x)===null||o===void 0||(o=o.filter)===null||o===void 0?void 0:o.value)||"",te=(s=x)!==null&&s!==void 0&&(s=s.sort)!==null&&s!==void 0&&s.path?nu(x.sort.path):null,G=(a=x)!==null&&a!==void 0&&(a=a.sort)!==null&&a!==void 0&&a.direction?S.find(function(I){var U;return I.value===((U=x.sort)===null||U===void 0?void 0:U.direction)}):null;return n.$$set=function(I){"json"in I&&t(11,v=I.json),"queryOptions"in I&&t(10,x=I.queryOptions),"onChange"in I&&t(12,k=I.onChange)},n.$$.update=function(){var I,U,B,ee,F,ne,re,R,$,N,P,A,M;2048&n.$$.dirty&&t(15,l=Array.isArray(v)),34816&n.$$.dirty&&t(14,c=l?Jg(v):[]),34816&n.$$.dirty&&t(13,f=l?Jg(v,!0):[]),16384&n.$$.dirty&&t(7,h=c.map(nu)),8192&n.$$.dirty&&t(6,p=f?f.map(nu):[]),1088&n.$$.dirty&&t(5,m=(I=x)!==null&&I!==void 0&&(I=I.projection)!==null&&I!==void 0&&I.paths&&p?x.projection.paths.map(function(Z){return p.find(function(le){return jn(le.value,Z)})}).filter(function(Z){return!!Z}):null),1&n.$$.dirty&&(B=(U=_)===null||U===void 0?void 0:U.value,jn((ee=x)===null||ee===void 0||(ee=ee.filter)===null||ee===void 0?void 0:ee.path,B)||(g("changeFilterPath",B),t(10,x=wl(x,["filter","path"],B,!0)),k(x))),2&n.$$.dirty&&(ne=(F=E)===null||F===void 0?void 0:F.value,jn((re=x)===null||re===void 0||(re=re.filter)===null||re===void 0?void 0:re.relation,ne)||(g("changeFilterRelation",ne),t(10,x=wl(x,["filter","relation"],ne,!0)),k(x))),4&n.$$.dirty&&(R=q,jn(($=x)===null||$===void 0||($=$.filter)===null||$===void 0?void 0:$.value,R)||(g("changeFilterValue",R),t(10,x=wl(x,["filter","value"],R,!0)),k(x))),8&n.$$.dirty&&function(Z){var le;jn((le=x)===null||le===void 0||(le=le.sort)===null||le===void 0?void 0:le.path,Z)||(g("changeSortPath",Z),t(10,x=wl(x,["sort","path"],Z,!0)),k(x))}((N=te)===null||N===void 0?void 0:N.value),16&n.$$.dirty&&(A=(P=G)===null||P===void 0?void 0:P.value,jn((M=x)===null||M===void 0||(M=M.sort)===null||M===void 0?void 0:M.direction,A)||(g("changeSortDirection",A),t(10,x=wl(x,["sort","direction"],A,!0)),k(x))),32&n.$$.dirty&&function(Z){var le;jn((le=x)===null||le===void 0||(le=le.projection)===null||le===void 0?void 0:le.paths,Z)||(g("changeProjectionPaths",Z),t(10,x=wl(x,["projection","paths"],Z,!0)),k(x))}(m?m.map(function(Z){return Z.value}):void 0)},[_,E,q,te,G,m,p,h,C,S,x,v,k,f,c,l,function(I){t(0,_=I)},function(I){t(1,E=I)},function(){q=this.value,t(2,q)},function(I){t(3,te=I)},function(I){t(4,G=I)},function(I){t(5,m=I),t(10,x),t(6,p),t(13,f),t(15,l),t(11,v)}]}var sD=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,oD,rD,Yt,{json:11,queryOptions:10,onChange:12},iD),r}return ct(t)}();function aD(n){Gt(n,"svelte-1wg043c",'.jse-select-query-language.svelte-1wg043c.svelte-1wg043c{position:relative;width:32px}.jse-select-query-language.svelte-1wg043c .jse-select-query-language-container.svelte-1wg043c{position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}.jse-select-query-language.svelte-1wg043c .jse-select-query-language-container .jse-query-language.svelte-1wg043c{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;text-align:left;padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));white-space:nowrap;color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));background:var(--jse-context-menu-background, #656565)}.jse-select-query-language.svelte-1wg043c .jse-select-query-language-container .jse-query-language.svelte-1wg043c:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}')}function _2(n,e,t){var i=n.slice();return i[5]=e[t],i}function lD(n){var e,t;return e=new Cn({props:{data:Nu}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function cD(n){var e,t;return e=new Cn({props:{data:Iu}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function j2(n){var e,t,i,r,o,s,a,l,c,f,h=n[5].name+"",p=[cD,lD],m=[];function g(b,x){return b[5].id===b[0]?0:1}function v(){return n[4](n[5])}return t=g(n),i=m[t]=p[t](n),{c:function(){e=K("button"),i.c(),r=ve(),o=Xe(h),s=ve(),j(e,"type","button"),j(e,"class","jse-query-language svelte-1wg043c"),j(e,"title",a="Select ".concat(n[5].name," as query language")),Ie(e,"selected",n[5].id===n[0])},m:function(b,x){ae(b,e,x),m[t].m(e,null),z(e,r),z(e,o),z(e,s),l=!0,c||(f=Ne(e,"click",v),c=!0)},p:function(b,x){var k=t;(t=g(n=b))!==k&&(De(),D(m[k],1,1,function(){m[k]=null}),ze(),(i=m[t])||(i=m[t]=p[t](n)).c(),T(i,1),i.m(e,r)),(!l||2&x)&&h!==(h=n[5].name+"")&&Dt(o,h),(!l||2&x&&a!==(a="Select ".concat(n[5].name," as query language")))&&j(e,"title",a),(!l||3&x)&&Ie(e,"selected",n[5].id===n[0])},i:function(b){l||(T(i),l=!0)},o:function(b){D(i),l=!1},d:function(b){b&&se(e),m[t].d(),c=!1,f()}}}function uD(n){for(var e,t,i,r=Zt(n[1]),o=[],s=0;s<r.length;s+=1)o[s]=j2(_2(n,r,s));var a=function(l){return D(o[l],1,1,function(){o[l]=null})};return{c:function(){e=K("div"),t=K("div");for(var l=0;l<o.length;l+=1)o[l].c();j(t,"class","jse-select-query-language-container svelte-1wg043c"),j(e,"class","jse-select-query-language svelte-1wg043c")},m:function(l,c){ae(l,e,c),z(e,t);for(var f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);i=!0},p:function(l,c){var f=Jt(c,1)[0];if(7&f){var h;for(r=Zt(l[1]),h=0;h<r.length;h+=1){var p=_2(l,r,h);o[h]?(o[h].p(p,f),T(o[h],1)):(o[h]=j2(p),o[h].c(),T(o[h],1),o[h].m(t,null))}for(De(),h=r.length;h<o.length;h+=1)a(h);ze()}},i:function(l){if(!i){for(var c=0;c<r.length;c+=1)T(o[c]);i=!0}},o:function(l){o=o.filter(Boolean);for(var c=0;c<o.length;c+=1)D(o[c]);i=!1},d:function(l){l&&se(e),Ri(o,l)}}}function fD(n,e,t){var i=e.queryLanguages,r=e.queryLanguageId,o=e.onChangeQueryLanguage;function s(a){t(0,r=a),o(a)}return n.$$set=function(a){"queryLanguages"in a&&t(1,i=a.queryLanguages),"queryLanguageId"in a&&t(0,r=a.queryLanguageId),"onChangeQueryLanguage"in a&&t(3,o=a.onChangeQueryLanguage)},[r,i,s,o,function(a){return s(a.id)}]}var hD=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,fD,uD,Gi,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3},aD),r}return ct(t)}();function dD(n){Gt(n,"svelte-1n68mbh",".jse-header.svelte-1n68mbh.svelte-1n68mbh{display:flex;background:var(--jse-theme-color, #3883fa);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-header.svelte-1n68mbh .jse-title.svelte-1n68mbh{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-1n68mbh button.svelte-1n68mbh{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-1n68mbh button.svelte-1n68mbh:hover{background:rgba(255, 255, 255, 0.1)}")}function S2(n){var e,t,i,r,o;return t=new Cn({props:{data:S7}}),{c:function(){e=K("button"),Te(t.$$.fragment),j(e,"type","button"),j(e,"class","jse-config svelte-1n68mbh"),j(e,"title","Select a query language")},m:function(s,a){ae(s,e,a),Me(t,e,null),n[6](e),i=!0,r||(o=Ne(e,"click",n[3]),r=!0)},p:Ve,i:function(s){i||(T(t.$$.fragment,s),i=!0)},o:function(s){D(t.$$.fragment,s),i=!1},d:function(s){s&&se(e),Pe(t),n[6](null),r=!1,o()}}}function pD(n){var e,t,i,r,o,s,a,l,c,f=n[0].length>1&&S2(n);return s=new Cn({props:{data:uc}}),{c:function(){e=K("div"),(t=K("div")).textContent="Transform",i=ve(),f&&f.c(),r=ve(),o=K("button"),Te(s.$$.fragment),j(t,"class","jse-title svelte-1n68mbh"),j(o,"type","button"),j(o,"class","jse-close svelte-1n68mbh"),j(e,"class","jse-header svelte-1n68mbh")},m:function(h,p){ae(h,e,p),z(e,t),z(e,i),f&&f.m(e,null),z(e,r),z(e,o),Me(s,o,null),a=!0,l||(c=Ne(o,"click",n[7]),l=!0)},p:function(h,p){var m=Jt(p,1)[0];h[0].length>1?f?(f.p(h,m),1&m&&T(f,1)):((f=S2(h)).c(),T(f,1),f.m(e,r)):f&&(De(),D(f,1,1,function(){f=null}),ze())},i:function(h){a||(T(f),T(s.$$.fragment,h),a=!0)},o:function(h){D(f),D(s.$$.fragment,h),a=!1},d:function(h){h&&se(e),f&&f.d(),Pe(s),l=!1,c()}}}function mD(n,e,t){var i,r,o=e.queryLanguages,s=e.queryLanguageId,a=e.onChangeQueryLanguage,l=sr("simple-modal").close,c=sr("absolute-popup"),f=c.openAbsolutePopup,h=c.closeAbsolutePopup;return n.$$set=function(p){"queryLanguages"in p&&t(0,o=p.queryLanguages),"queryLanguageId"in p&&t(4,s=p.queryLanguageId),"onChangeQueryLanguage"in p&&t(5,a=p.onChangeQueryLanguage)},[o,i,l,function(){var p={queryLanguages:o,queryLanguageId:s,onChangeQueryLanguage:function(m){h(r),a(m)}};r=f(hD,p,{offsetTop:-2,offsetLeft:0,anchor:i,closeOnOuterClick:!0})},s,a,function(p){pn[p?"unshift":"push"](function(){t(1,i=p)})},function(){return l()}]}var gD=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,mD,pD,Yt,{queryLanguages:0,queryLanguageId:4,onChangeQueryLanguage:5},dD),r}return ct(t)}(),Cm=ar("jsoneditor:AutoScrollHandler"),vD=function(n,e,t,i){return(n/=i/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},w$=function(){var n,e,t,i,r,o,s,a,l,c,f,h,p;function m(b){return b.getBoundingClientRect().top-(n.getBoundingClientRect?n.getBoundingClientRect().top:0)+t}function g(b){n.scrollTo?n.scrollTo(n.scrollLeft,b):n.scrollTop=b}function v(b){c||(c=b),g(o(f=b-c,t,a,l)),p=!0,f<l?requestAnimationFrame(v):function(){g(t+a),e&&s&&(e.setAttribute("tabindex","-1"),e.focus()),typeof h=="function"&&h(),c=0,p=!1}()}return function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(l=1e3,r=x.offset||0,h=x.callback,o=x.easing||vD,s=x.a11y||!1,Ii(x.container)){case"object":n=x.container;break;case"string":n=document.querySelector(x.container);break;default:n=window.document.documentElement}switch(t=n.scrollTop,Ii(b)){case"number":e=void 0,s=!1,i=t+b;break;case"object":i=m(e=b);break;case"string":e=document.querySelector(b),i=m(e)}switch(a=i-t+r,Ii(x.duration)){case"number":l=x.duration;break;case"function":l=x.duration(a)}p?c=0:requestAnimationFrame(v)}},yD=1e3,hh=ar("jsoneditor:History");function k$(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.maxItems||yD,t=[],i=0;function r(){return i<t.length}function o(){return i>0}function s(){return{canUndo:r(),canRedo:o(),length:t.length}}function a(){n.onChange&&n.onChange(s())}return{add:function(l){hh("add",l),t=[l].concat(t.slice(i)).slice(0,e),i=0,a()},clear:function(){hh("clear"),t=[],i=0,a()},getState:s,undo:function(){if(r()){var l=t[i];return i+=1,hh("undo",l),a(),l}},redo:function(){if(o())return hh("redo",t[i-=1]),a(),t[i]}}}function ql(n,e){var t=Date.now(),i=n();return e(Date.now()-t),i}var El=ar("validation");function _$(n,e,t,i){if(El("validateJSON"),!e)return[];if(t!==i){var r=t.stringify(n);return e(r!==void 0?i.parse(r):void 0)}return e(n)}function bD(n,e,t,i){if(El("validateText"),n.length>CN)return{validationErrors:[{path:[],message:"Validation turned off: the document is too large",severity:Is.info}]};if(n.length===0)return null;try{var r=ql(function(){return t.parse(n)},function(l){return El("validate: parsed json in ".concat(l," ms"))});if(!e)return null;var o=t===i?r:ql(function(){return i.parse(n)},function(l){return El("validate: parsed json with the validationParser in ".concat(l," ms"))}),s=ql(function(){return e(o)},function(l){return El("validate: validated json in ".concat(l," ms"))});return An(s)?null:{validationErrors:s}}catch(l){var a=ql(function(){return function(c,f){if(c.length>ON)return!1;try{return f.parse(is(c)),!0}catch{return!1}}(n,t)},function(c){return El("validate: checked whether repairable in ".concat(c," ms"))});return{parseError:dc(n,l.message||l.toString()),isRepairable:a}}}var dh=ar("jsoneditor:FocusTracker");function p1(n){var e,t=n.onMount,i=n.onDestroy,r=n.getWindow,o=n.hasFocus,s=n.onFocus,a=n.onBlur,l=!1;function c(){var h=o();h&&(clearTimeout(e),l||(dh("focus"),s(),l=h))}function f(){l&&(clearTimeout(e),e=setTimeout(function(){o()||(dh("blur"),l=!1,a())}))}t(function(){dh("mount FocusTracker");var h=r();h&&(h.addEventListener("focusin",c,!0),h.addEventListener("focusout",f,!0))}),i(function(){dh("destroy FocusTracker");var h=r();h&&(h.removeEventListener("focusin",c,!0),h.removeEventListener("focusout",f,!0))})}function xD(n){Gt(n,"svelte-p1zf9f",'.jse-message.svelte-p1zf9f.svelte-p1zf9f{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);padding:var(--jse-padding, 10px);display:flex;gap:var(--jse-padding, 10px);flex-wrap:wrap;align-items:stretch}.jse-message.jse-success.svelte-p1zf9f.svelte-p1zf9f{background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff)}.jse-message.svelte-p1zf9f .jse-text.svelte-p1zf9f{display:flex;flex:1;min-width:60%;align-items:center}.jse-message.svelte-p1zf9f .jse-text.jse-clickable.svelte-p1zf9f{cursor:pointer}.jse-message.svelte-p1zf9f .jse-text.jse-clickable.svelte-p1zf9f:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-message.jse-error.svelte-p1zf9f.svelte-p1zf9f{background:var(--jse-message-error-background, var(--jse-error-color, #ee5341));color:var(--jse-message-error-color, #fff)}.jse-message.jse-warning.svelte-p1zf9f.svelte-p1zf9f{background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d)}.jse-message.jse-info.svelte-p1zf9f.svelte-p1zf9f{background:var(--jse-message-info-background, #4f91ff);color:var(--jse-message-info-color, #fff)}.jse-message.svelte-p1zf9f .jse-actions.svelte-p1zf9f{display:flex;gap:var(--jse-padding, 10px)}.jse-message.svelte-p1zf9f .jse-actions button.jse-action.svelte-p1zf9f{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-message-action-background, rgba(255, 255, 255, 0.2));color:inherit;padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-message.svelte-p1zf9f .jse-actions button.jse-action.svelte-p1zf9f:hover{background:var(--jse-message-action-background-highlight, rgba(255, 255, 255, 0.3))}')}function C2(n,e,t){var i=n.slice();return i[9]=e[t],i}function O2(n){var e,t;return e=new Cn({props:{data:n[1]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};2&r&&(o.data=i[1]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function $2(n){var e,t;return e=new Cn({props:{data:n[9].icon}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};8&r&&(o.data=i[9].icon),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function M2(n){var e,t,i,r,o,s,a,l,c,f=n[9].text+"",h=n[9].icon&&$2(n);function p(){return n[7](n[9])}function m(){return n[8](n[9])}return{c:function(){e=K("button"),h&&h.c(),t=ve(),i=Xe(f),r=ve(),j(e,"type","button"),j(e,"class","jse-button jse-action jse-primary svelte-p1zf9f"),j(e,"title",o=n[9].title),e.disabled=s=n[9].disabled},m:function(g,v){ae(g,e,v),h&&h.m(e,null),z(e,t),z(e,i),z(e,r),a=!0,l||(c=[Ne(e,"click",p),Ne(e,"mousedown",m)],l=!0)},p:function(g,v){(n=g)[9].icon?h?(h.p(n,v),8&v&&T(h,1)):((h=$2(n)).c(),T(h,1),h.m(e,t)):h&&(De(),D(h,1,1,function(){h=null}),ze()),(!a||8&v)&&f!==(f=n[9].text+"")&&Dt(i,f),(!a||8&v&&o!==(o=n[9].title))&&j(e,"title",o),(!a||8&v&&s!==(s=n[9].disabled))&&(e.disabled=s)},i:function(g){a||(T(h),a=!0)},o:function(g){D(h),a=!1},d:function(g){g&&se(e),h&&h.d(),l=!1,Yn(c)}}}function wD(n){for(var e,t,i,r,o,s,a,l,c,f,h,p=n[1]&&O2(n),m=Zt(n[3]),g=[],v=0;v<m.length;v+=1)g[v]=M2(C2(n,m,v));var b=function(x){return D(g[x],1,1,function(){g[x]=null})};return{c:function(){e=K("div"),t=K("div"),i=K("div"),p&&p.c(),r=ve(),o=Xe(n[2]),s=ve(),a=K("div");for(var x=0;x<g.length;x+=1)g[x].c();j(i,"class","jse-text-centered"),j(t,"role","button"),j(t,"tabindex","-1"),j(t,"class","jse-text svelte-p1zf9f"),Ie(t,"jse-clickable",!!n[4]),j(a,"class","jse-actions svelte-p1zf9f"),j(e,"class",l="jse-message jse-"+n[0]+" svelte-p1zf9f")},m:function(x,k){ae(x,e,k),z(e,t),z(t,i),p&&p.m(i,null),z(i,r),z(i,o),z(e,s),z(e,a);for(var C=0;C<g.length;C+=1)g[C]&&g[C].m(a,null);c=!0,f||(h=Ne(t,"click",n[5]),f=!0)},p:function(x,k){var C=Jt(k,1)[0];if(x[1]?p?(p.p(x,C),2&C&&T(p,1)):((p=O2(x)).c(),T(p,1),p.m(i,r)):p&&(De(),D(p,1,1,function(){p=null}),ze()),(!c||4&C)&&Dt(o,x[2]),(!c||16&C)&&Ie(t,"jse-clickable",!!x[4]),8&C){var S;for(m=Zt(x[3]),S=0;S<m.length;S+=1){var _=C2(x,m,S);g[S]?(g[S].p(_,C),T(g[S],1)):(g[S]=M2(_),g[S].c(),T(g[S],1),g[S].m(a,null))}for(De(),S=m.length;S<g.length;S+=1)b(S);ze()}(!c||1&C&&l!==(l="jse-message jse-"+x[0]+" svelte-p1zf9f"))&&j(e,"class",l)},i:function(x){if(!c){T(p);for(var k=0;k<m.length;k+=1)T(g[k]);c=!0}},o:function(x){D(p),g=g.filter(Boolean);for(var k=0;k<g.length;k+=1)D(g[k]);c=!1},d:function(x){x&&se(e),p&&p.d(),Ri(g,x),f=!1,h()}}}function kD(n,e,t){var i=e.type,r=i===void 0?"success":i,o=e.icon,s=o===void 0?void 0:o,a=e.message,l=a===void 0?void 0:a,c=e.actions,f=c===void 0?[]:c,h=e.onClick,p=h===void 0?void 0:h,m=e.onClose,g=m===void 0?void 0:m;return g&&Xr(g),n.$$set=function(v){"type"in v&&t(0,r=v.type),"icon"in v&&t(1,s=v.icon),"message"in v&&t(2,l=v.message),"actions"in v&&t(3,f=v.actions),"onClick"in v&&t(4,p=v.onClick),"onClose"in v&&t(6,g=v.onClose)},[r,s,l,f,p,function(){p&&p()},g,function(v){v.onClick&&v.onClick()},function(v){v.onMouseDown&&v.onMouseDown()}]}var Ro=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,kD,wD,Yt,{type:0,icon:1,message:2,actions:3,onClick:4,onClose:6},xD),r}return ct(t)}();function _D(n){Gt(n,"svelte-1ifg4t0",'.jse-validation-errors-overview.svelte-1ifg4t0.svelte-1ifg4t0{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-message-warning-background, #ffde5c);color:var(--jse-message-warning-color, #4d4d4d);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1ifg4t0 table.svelte-1ifg4t0{border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1ifg4t0 table tr.svelte-1ifg4t0{cursor:pointer}.jse-validation-errors-overview.svelte-1ifg4t0 table tr.svelte-1ifg4t0:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.svelte-1ifg4t0{padding:4px var(--jse-padding, 10px);vertical-align:middle}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.jse-validation-error-icon.svelte-1ifg4t0{width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.jse-validation-error-action.svelte-1ifg4t0{width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1ifg4t0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1ifg4t0:hover{background-color:rgba(255, 255, 255, 0.2)}.jse-validation-errors-overview.svelte-1ifg4t0 table tr td div.jse-validation-errors-expand.svelte-1ifg4t0{display:inline-block;position:relative;top:3px}')}function P2(n,e,t){var i=n.slice();return i[7]=e[t],i[9]=t,i}function T2(n){var e,t,i,r,o=[SD,jD],s=[];function a(l,c){return l[2]||l[3]===1?0:1}return t=a(n),i=s[t]=o[t](n),{c:function(){e=K("div"),i.c(),j(e,"class","jse-validation-errors-overview svelte-1ifg4t0")},m:function(l,c){ae(l,e,c),s[t].m(e,null),r=!0},p:function(l,c){var f=t;(t=a(l))===f?s[t].p(l,c):(De(),D(s[f],1,1,function(){s[f]=null}),ze(),(i=s[t])?i.p(l,c):(i=s[t]=o[t](l)).c(),T(i,1),i.m(e,null))},i:function(l){r||(T(i),r=!0)},o:function(l){D(i),r=!1},d:function(l){l&&se(e),s[t].d()}}}function jD(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g;return o=new Cn({props:{data:ul}}),h=new Cn({props:{data:KC}}),{c:function(){e=K("table"),t=K("tbody"),i=K("tr"),r=K("td"),Te(o.$$.fragment),s=ve(),a=K("td"),l=Xe(n[3]),c=Xe(` validation errors
              `),f=K("div"),Te(h.$$.fragment),j(r,"class","jse-validation-error-icon svelte-1ifg4t0"),j(f,"class","jse-validation-errors-expand svelte-1ifg4t0"),j(a,"class","jse-validation-error-count svelte-1ifg4t0"),j(i,"class","jse-validation-error svelte-1ifg4t0"),j(e,"class","jse-validation-errors-overview-collapsed svelte-1ifg4t0")},m:function(v,b){ae(v,e,b),z(e,t),z(t,i),z(i,r),Me(o,r,null),z(i,s),z(i,a),z(a,l),z(a,c),z(a,f),Me(h,f,null),p=!0,m||(g=Ne(i,"click",n[5]),m=!0)},p:function(v,b){(!p||8&b)&&Dt(l,v[3])},i:function(v){p||(T(o.$$.fragment,v),T(h.$$.fragment,v),p=!0)},o:function(v){D(o.$$.fragment,v),D(h.$$.fragment,v),p=!1},d:function(v){v&&se(e),Pe(o),Pe(h),m=!1,g()}}}function SD(n){for(var e,t,i,r,o=Zt(jd(n[0],Dl)),s=[],a=0;a<o.length;a+=1)s[a]=A2(P2(n,o,a));var l=function(f){return D(s[f],1,1,function(){s[f]=null})},c=n[3]>Dl&&R2(n);return{c:function(){e=K("table"),t=K("tbody");for(var f=0;f<s.length;f+=1)s[f].c();i=ve(),c&&c.c(),j(e,"class","jse-validation-errors-overview-expanded svelte-1ifg4t0")},m:function(f,h){ae(f,e,h),z(e,t);for(var p=0;p<s.length;p+=1)s[p]&&s[p].m(t,null);z(t,i),c&&c.m(t,null),r=!0},p:function(f,h){if(19&h){var p;for(o=Zt(jd(f[0],Dl)),p=0;p<o.length;p+=1){var m=P2(f,o,p);s[p]?(s[p].p(m,h),T(s[p],1)):(s[p]=A2(m),s[p].c(),T(s[p],1),s[p].m(t,i))}for(De(),p=o.length;p<s.length;p+=1)l(p);ze()}f[3]>Dl?c?c.p(f,h):((c=R2(f)).c(),c.m(t,null)):c&&(c.d(1),c=null)},i:function(f){if(!r){for(var h=0;h<o.length;h+=1)T(s[h]);r=!0}},o:function(f){s=s.filter(Boolean);for(var h=0;h<s.length;h+=1)D(s[h]);r=!1},d:function(f){f&&se(e),Ri(s,f),c&&c.d()}}}function E2(n){var e,t,i,r,o;return t=new Cn({props:{data:$7}}),{c:function(){e=K("button"),Te(t.$$.fragment),j(e,"type","button"),j(e,"class","jse-validation-errors-collapse svelte-1ifg4t0"),j(e,"title","Collapse validation errors")},m:function(s,a){ae(s,e,a),Me(t,e,null),i=!0,r||(o=Ne(e,"click",Eo(n[4])),r=!0)},p:Ve,i:function(s){i||(T(t.$$.fragment,s),i=!0)},o:function(s){D(t.$$.fragment,s),i=!1},d:function(s){s&&se(e),Pe(t),r=!1,o()}}}function A2(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v=zr(n[7].path)+"",b=n[7].message+"";i=new Cn({props:{data:ul}});var x=n[9]===0&&n[0].length>1&&E2(n);function k(){return n[6](n[7])}return{c:function(){e=K("tr"),t=K("td"),Te(i.$$.fragment),r=ve(),o=K("td"),s=Xe(v),a=ve(),l=K("td"),c=Xe(b),f=ve(),h=K("td"),x&&x.c(),j(t,"class","jse-validation-error-icon svelte-1ifg4t0"),j(o,"class","jse-validation-error-path svelte-1ifg4t0"),j(l,"class","jse-validation-error-message svelte-1ifg4t0"),j(h,"class","jse-validation-error-action svelte-1ifg4t0"),j(e,"class","jse-validation-error svelte-1ifg4t0")},m:function(C,S){ae(C,e,S),z(e,t),Me(i,t,null),z(e,r),z(e,o),z(o,s),z(e,a),z(e,l),z(l,c),z(e,f),z(e,h),x&&x.m(h,null),p=!0,m||(g=Ne(e,"click",k),m=!0)},p:function(C,S){n=C,(!p||1&S)&&v!==(v=zr(n[7].path)+"")&&Dt(s,v),(!p||1&S)&&b!==(b=n[7].message+"")&&Dt(c,b),n[9]===0&&n[0].length>1?x?(x.p(n,S),1&S&&T(x,1)):((x=E2(n)).c(),T(x,1),x.m(h,null)):x&&(De(),D(x,1,1,function(){x=null}),ze())},i:function(C){p||(T(i.$$.fragment,C),T(x),p=!0)},o:function(C){D(i.$$.fragment,C),D(x),p=!1},d:function(C){C&&se(e),Pe(i),x&&x.d(),m=!1,g()}}}function R2(n){var e,t,i,r,o,s,a,l,c,f,h,p=n[3]-Dl+"";return{c:function(){e=K("tr"),t=K("td"),i=ve(),r=K("td"),o=ve(),s=K("td"),a=Xe("(and "),l=Xe(p),c=Xe(" more errors)"),f=ve(),h=K("td"),j(t,"class","svelte-1ifg4t0"),j(r,"class","svelte-1ifg4t0"),j(s,"class","svelte-1ifg4t0"),j(h,"class","svelte-1ifg4t0"),j(e,"class","jse-validation-error svelte-1ifg4t0")},m:function(m,g){ae(m,e,g),z(e,t),z(e,i),z(e,r),z(e,o),z(e,s),z(s,a),z(s,l),z(s,c),z(e,f),z(e,h)},p:function(m,g){8&g&&p!==(p=m[3]-Dl+"")&&Dt(l,p)},d:function(m){m&&se(e)}}}function CD(n){var e,t,i=!An(n[0]),r=i&&T2(n);return{c:function(){r&&r.c(),e=On()},m:function(o,s){r&&r.m(o,s),ae(o,e,s),t=!0},p:function(o,s){var a=Jt(s,1)[0];1&a&&(i=!An(o[0])),i?r?(r.p(o,a),1&a&&T(r,1)):((r=T2(o)).c(),T(r,1),r.m(e.parentNode,e)):r&&(De(),D(r,1,1,function(){r=null}),ze())},i:function(o){t||(T(r),t=!0)},o:function(o){D(r),t=!1},d:function(o){o&&se(e),r&&r.d(o)}}}function OD(n,e,t){var i,r=e.validationErrors,o=e.selectError,s=!0;return n.$$set=function(a){"validationErrors"in a&&t(0,r=a.validationErrors),"selectError"in a&&t(1,o=a.selectError)},n.$$.update=function(){1&n.$$.dirty&&t(3,i=r.length)},[r,o,s,i,function(){t(2,s=!1)},function(){t(2,s=!0)},function(a){setTimeout(function(){return o(a)})}]}var m1=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,OD,CD,Yt,{validationErrors:0,selectError:1},_D),r}return ct(t)}(),$D=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0;function MD(n){Gt(n,"svelte-1n68mbh",".jse-header.svelte-1n68mbh.svelte-1n68mbh{display:flex;background:var(--jse-theme-color, #3883fa);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-header.svelte-1n68mbh .jse-title.svelte-1n68mbh{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-1n68mbh button.svelte-1n68mbh{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-1n68mbh button.svelte-1n68mbh:hover{background:rgba(255, 255, 255, 0.1)}")}function PD(n){var e,t,i,r,o,s,a,l,c;return s=new Cn({props:{data:uc}}),{c:function(){e=K("div"),t=K("div"),i=Xe(n[0]),r=ve(),o=K("button"),Te(s.$$.fragment),j(t,"class","jse-title svelte-1n68mbh"),j(o,"type","button"),j(o,"class","jse-close svelte-1n68mbh"),j(e,"class","jse-header svelte-1n68mbh")},m:function(f,h){ae(f,e,h),z(e,t),z(t,i),z(e,r),z(e,o),Me(s,o,null),a=!0,l||(c=Ne(o,"click",n[3]),l=!0)},p:function(f,h){var p=Jt(h,1)[0];(!a||1&p)&&Dt(i,f[0])},i:function(f){a||(T(s.$$.fragment,f),a=!0)},o:function(f){D(s.$$.fragment,f),a=!1},d:function(f){f&&se(e),Pe(s),l=!1,c()}}}function TD(n,e,t){var i=e.title,r=i===void 0?"Modal":i,o=e.onClose,s=o===void 0?void 0:o,a=sr("simple-modal").close;return n.$$set=function(l){"title"in l&&t(0,r=l.title),"onClose"in l&&t(1,s=l.onClose)},[r,s,a,function(){s?s():a()}]}var g1=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,TD,PD,Yt,{title:0,onClose:1},MD),r}return ct(t)}();function ED(n){Gt(n,"svelte-18bor9q",'.jse-modal.svelte-18bor9q.svelte-18bor9q{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}.jse-modal.svelte-18bor9q .svelte-select{--border:var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg, #3883fa);--border-radius:var(--jse-svelte-select-border-radius, 3px);--background:var(--jse-svelte-select-background, #fff);--padding:var(--jse-svelte-select-padding, 0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size:var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}.jse-modal.svelte-18bor9q .jse-modal-contents.svelte-18bor9q{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-18bor9q .jse-modal-contents .jse-actions.svelte-18bor9q{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal.svelte-18bor9q .jse-modal-contents .jse-actions button.jse-primary.svelte-18bor9q{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.svelte-18bor9q .jse-modal-contents .jse-actions button.jse-primary.svelte-18bor9q:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal.svelte-18bor9q .jse-modal-contents .jse-actions button.jse-primary.svelte-18bor9q:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-overlay-background, rgba(0, 0, 0, 0.3))}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-copy-paste.svelte-18bor9q .jse-shortcuts.svelte-18bor9q{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding, 10px)) 0}.jse-modal.jse-copy-paste.svelte-18bor9q .jse-shortcuts .jse-shortcut .jse-key.svelte-18bor9q{font-size:200%;color:var(--jse-theme-color, #3883fa)}')}function AD(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te;return t=new g1({props:{title:"Copying and pasting"}}),{c:function(){e=K("div"),Te(t.$$.fragment),i=ve(),r=K("div"),(o=K("div")).textContent="These actions are unavailable via the menu. Please use:",s=ve(),a=K("div"),l=K("div"),(c=K("div")).textContent="".concat(n[1],"+C"),f=Xe(`
        for copy`),h=ve(),p=K("div"),(m=K("div")).textContent="".concat(n[1],"+X"),g=Xe(`
        for cut`),v=ve(),b=K("div"),(x=K("div")).textContent="".concat(n[1],"+V"),k=Xe(`
        for paste`),C=ve(),S=K("div"),(_=K("button")).textContent="Close",j(c,"class","jse-key svelte-18bor9q"),j(l,"class","jse-shortcut"),j(m,"class","jse-key svelte-18bor9q"),j(p,"class","jse-shortcut"),j(x,"class","jse-key svelte-18bor9q"),j(b,"class","jse-shortcut"),j(a,"class","jse-shortcuts svelte-18bor9q"),j(_,"type","button"),j(_,"class","jse-primary svelte-18bor9q"),j(S,"class","jse-actions svelte-18bor9q"),j(r,"class","jse-modal-contents svelte-18bor9q"),j(e,"class","jse-modal jse-copy-paste svelte-18bor9q")},m:function(G,I){ae(G,e,I),Me(t,e,null),z(e,i),z(e,r),z(r,o),z(r,s),z(r,a),z(a,l),z(l,c),z(l,f),z(a,h),z(a,p),z(p,m),z(p,g),z(a,v),z(a,b),z(b,x),z(b,k),z(r,C),z(r,S),z(S,_),E=!0,q||(te=Ne(_,"click",n[2]),q=!0)},p:Ve,i:function(G){E||(T(t.$$.fragment,G),E=!0)},o:function(G){D(t.$$.fragment,G),E=!1},d:function(G){G&&se(e),Pe(t),q=!1,te()}}}function RD(n){var e=sr("simple-modal").close;return[e,$D?"⌘":"Ctrl",function(){return e()}]}var j$=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,RD,AD,Yt,{},ED),r}return ct(t)}();function S$(n){return!!n&&(n.type==="space"||n.space===!0)}function yp(n){return!!n&&(n.type==="separator"||n.separator===!0)}function LD(n){return!!n&&n.type==="label"&&typeof n.text=="string"}function uf(n){return!!n&&typeof n.onClick=="function"}function v1(n){return!!n&&n.type==="dropdown-button"&&uf(n.main)&&Array.isArray(n.items)}function ID(n){return!!n&&n.type==="row"&&Array.isArray(n.items)}function ND(n){return!!n&&n.type==="column"&&Array.isArray(n.items)}function L2(n){return li(n)&&li(n.parseError)}function BD(n){return li(n)&&Array.isArray(n.validationErrors)}function DD(n){return li(n)&&Array.isArray(n.path)&&typeof n.message=="string"&&"severity"in n}function zD(n){return li(n)&&DD(n)&&typeof n.isChildError=="boolean"}function qD(n){Gt(n,"svelte-7deygj",'.jse-menu.svelte-7deygj.svelte-7deygj{background:var(--jse-theme-color, #3883fa);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-main-menu, 14px);color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));display:flex;flex-wrap:wrap;align-items:stretch;position:relative}.jse-menu.svelte-7deygj .jse-button.svelte-7deygj{font-family:inherit;font-size:inherit;line-height:1.5em;border:none;background:transparent;color:inherit;cursor:pointer;width:var(--jse-menu-button-size, 32px);height:var(--jse-menu-button-size, 32px);padding:calc(0.5 * var(--jse-padding, 10px));margin:0;border-radius:0;display:inline-flex;align-items:center;text-align:center;justify-content:center}.jse-menu.svelte-7deygj .jse-button.svelte-7deygj:hover,.jse-menu.svelte-7deygj .jse-button.svelte-7deygj:focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-7deygj .jse-button.svelte-7deygj:disabled{color:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:0.5;background:transparent}.jse-menu.svelte-7deygj .jse-button.jse-group-button.svelte-7deygj{width:auto;height:calc(var(--jse-menu-button-size, 32px) - var(--jse-padding, 10px));margin:calc(0.5 * var(--jse-padding, 10px)) 0;padding:0 calc(0.5 * var(--jse-padding, 10px)) 1px;border:1px solid var(--jse-menu-color, var(--jse-text-color-inverse, #fff))}.jse-menu.svelte-7deygj .jse-button.jse-group-button.svelte-7deygj:not(.jse-last){border-right:none}.jse-menu.svelte-7deygj .jse-button.jse-group-button.jse-first.svelte-7deygj{margin-left:calc(0.5 * var(--jse-padding, 10px))}.jse-menu.svelte-7deygj .jse-button.jse-group-button.jse-last.svelte-7deygj{margin-right:calc(0.5 * var(--jse-padding, 10px))}.jse-menu.svelte-7deygj .jse-button.jse-group-button.svelte-7deygj:hover,.jse-menu.svelte-7deygj .jse-button.jse-group-button.svelte-7deygj:focus{background:var(--jse-theme-color-highlight, #5f9dff)}.jse-menu.svelte-7deygj .jse-button.jse-group-button.jse-selected.svelte-7deygj{background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));color:var(--jse-theme-color, #3883fa)}.jse-menu.svelte-7deygj .jse-space.svelte-7deygj{flex:1}.jse-menu.svelte-7deygj .jse-separator.svelte-7deygj{background:var(--jse-menu-color, var(--jse-text-color-inverse, #fff));opacity:0.3;width:1px;margin:3px}')}var FD=function(n){return{}},I2=function(n){return{}};function N2(n,e,t){var i=n.slice();return i[3]=e[t],i}var HD=function(n){return{}},B2=function(n){return{}};function VD(n){var e,t=F2(n[3])+"";return{c:function(){e=Xe(t)},m:function(i,r){ae(i,e,r)},p:function(i,r){1&r&&t!==(t=F2(i[3])+"")&&Dt(e,t)},i:Ve,o:Ve,d:function(i){i&&se(e)}}}function WD(n){var e,t,i,r,o,s,a,l,c=n[3].icon&&D2(n),f=n[3].text&&z2(n);return{c:function(){e=K("button"),c&&c.c(),t=ve(),f&&f.c(),j(e,"type","button"),j(e,"class",i="jse-button "+n[3].className+" svelte-7deygj"),j(e,"title",r=n[3].title),e.disabled=o=n[3].disabled||!1},m:function(h,p){ae(h,e,p),c&&c.m(e,null),z(e,t),f&&f.m(e,null),s=!0,a||(l=Ne(e,"click",function(){ir(n[3].onClick)&&n[3].onClick.apply(this,arguments)}),a=!0)},p:function(h,p){(n=h)[3].icon?c?(c.p(n,p),1&p&&T(c,1)):((c=D2(n)).c(),T(c,1),c.m(e,t)):c&&(De(),D(c,1,1,function(){c=null}),ze()),n[3].text?f?f.p(n,p):((f=z2(n)).c(),f.m(e,null)):f&&(f.d(1),f=null),(!s||1&p&&i!==(i="jse-button "+n[3].className+" svelte-7deygj"))&&j(e,"class",i),(!s||1&p&&r!==(r=n[3].title))&&j(e,"title",r),(!s||1&p&&o!==(o=n[3].disabled||!1))&&(e.disabled=o)},i:function(h){s||(T(c),s=!0)},o:function(h){D(c),s=!1},d:function(h){h&&se(e),c&&c.d(),f&&f.d(),a=!1,l()}}}function UD(n){var e;return{c:function(){j(e=K("div"),"class","jse-space svelte-7deygj")},m:function(t,i){ae(t,e,i)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e)}}}function QD(n){var e;return{c:function(){j(e=K("div"),"class","jse-separator svelte-7deygj")},m:function(t,i){ae(t,e,i)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e)}}}function D2(n){var e,t;return e=new Cn({props:{data:n[3].icon}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.data=i[3].icon),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function z2(n){var e,t=n[3].text+"";return{c:function(){e=Xe(t)},m:function(i,r){ae(i,e,r)},p:function(i,r){1&r&&t!==(t=i[3].text+"")&&Dt(e,t)},d:function(i){i&&se(e)}}}function q2(n){var e,t,i,r,o,s,a,l=[QD,UD,WD,VD],c=[];function f(h,p){return 1&p&&(e=null),1&p&&(t=null),1&p&&(i=null),e==null&&(e=!!yp(h[3])),e?0:(t==null&&(t=!!S$(h[3])),t?1:(i==null&&(i=!!uf(h[3])),i?2:3))}return r=f(n,-1),o=c[r]=l[r](n),{c:function(){o.c(),s=On()},m:function(h,p){c[r].m(h,p),ae(h,s,p),a=!0},p:function(h,p){var m=r;(r=f(h,p))===m?c[r].p(h,p):(De(),D(c[m],1,1,function(){c[m]=null}),ze(),(o=c[r])?o.p(h,p):(o=c[r]=l[r](h)).c(),T(o,1),o.m(s.parentNode,s))},i:function(h){a||(T(o),a=!0)},o:function(h){D(o),a=!1},d:function(h){h&&se(s),c[r].d(h)}}}function ZD(n){for(var e,t,i,r,o=n[2].left,s=_i(o,n,n[1],B2),a=Zt(n[0]),l=[],c=0;c<a.length;c+=1)l[c]=q2(N2(n,a,c));var f=function(m){return D(l[m],1,1,function(){l[m]=null})},h=n[2].right,p=_i(h,n,n[1],I2);return{c:function(){e=K("div"),s&&s.c(),t=ve();for(var m=0;m<l.length;m+=1)l[m].c();i=ve(),p&&p.c(),j(e,"class","jse-menu svelte-7deygj")},m:function(m,g){ae(m,e,g),s&&s.m(e,null),z(e,t);for(var v=0;v<l.length;v+=1)l[v]&&l[v].m(e,null);z(e,i),p&&p.m(e,null),r=!0},p:function(m,g){var v=Jt(g,1)[0];if(s&&s.p&&(!r||2&v)&&Si(s,o,m,m[1],r?ji(o,m[1],v,HD):Ci(m[1]),B2),1&v){var b;for(a=Zt(m[0]),b=0;b<a.length;b+=1){var x=N2(m,a,b);l[b]?(l[b].p(x,v),T(l[b],1)):(l[b]=q2(x),l[b].c(),T(l[b],1),l[b].m(e,i))}for(De(),b=a.length;b<l.length;b+=1)f(b);ze()}p&&p.p&&(!r||2&v)&&Si(p,h,m,m[1],r?ji(h,m[1],v,FD):Ci(m[1]),I2)},i:function(m){if(!r){T(s,m);for(var g=0;g<a.length;g+=1)T(l[g]);T(p,m),r=!0}},o:function(m){D(s,m),l=l.filter(Boolean);for(var g=0;g<l.length;g+=1)D(l[g]);D(p,m),r=!1},d:function(m){m&&se(e),s&&s.d(m),Ri(l,m),p&&p.d(m)}}}function F2(n){return console.error("Unknown type of menu item",n),"???"}function JD(n,e,t){var i=e.$$slots,r=i===void 0?{}:i,o=e.$$scope,s=e.items,a=s===void 0?[]:s;return n.$$set=function(l){"items"in l&&t(0,a=l.items),"$$scope"in l&&t(1,o=l.$$scope)},[a,o,r]}var bp=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,JD,ZD,Yt,{items:0},qD),r}return ct(t)}();function GD(n){Gt(n,"svelte-1d84pok",'.jse-json-repair-component.svelte-1d84pok.svelte-1d84pok{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d)}.jse-json-repair-component.svelte-1d84pok .jse-menu .jse-info.svelte-1d84pok{padding:calc(0.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);vertical-align:center}.jse-json-repair-component.svelte-1d84pok .jse-json-text.svelte-1d84pok{flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-input-background, var(--jse-background-color, #fff));color:var(--jse-text-color, #4d4d4d);resize:none;outline:none}')}function KD(n){var e;return{c:function(){(e=K("div")).textContent="Repair invalid JSON, then click apply",j(e,"slot","left"),j(e,"class","jse-info svelte-1d84pok")},m:function(t,i){ae(t,e,i)},p:Ve,d:function(t){t&&se(e)}}}function XD(n){var e,t;return e=new Ro({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:n[5]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};32&r&&(o.actions=i[5]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function YD(n){var e,t;return e=new Ro({props:{type:"error",icon:ul,message:"Cannot parse JSON: ".concat(n[2].message),actions:n[6]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};4&r&&(o.message="Cannot parse JSON: ".concat(i[2].message)),64&r&&(o.actions=i[6]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function ez(n){var e,t,i,r,o,s,a,l,c,f;t=new bp({props:{items:n[4],$$slots:{left:[KD]},$$scope:{ctx:n}}});var h=[YD,XD],p=[];function m(g,v){return g[2]?0:1}return r=m(n),o=p[r]=h[r](n),{c:function(){e=K("div"),Te(t.$$.fragment),i=ve(),o.c(),s=ve(),(a=K("textarea")).readOnly=n[1],j(a,"class","jse-json-text svelte-1d84pok"),j(a,"autocomplete","off"),j(a,"autocapitalize","off"),j(a,"spellcheck","false"),a.value=n[0],j(e,"class","jse-json-repair-component svelte-1d84pok")},m:function(g,v){ae(g,e,v),Me(t,e,null),z(e,i),p[r].m(e,null),z(e,s),z(e,a),n[16](a),l=!0,c||(f=Ne(a,"input",n[7]),c=!0)},p:function(g,v){var b=Jt(v,1)[0],x={};16&b&&(x.items=g[4]),8388608&b&&(x.$$scope={dirty:b,ctx:g}),t.$set(x);var k=r;(r=m(g))===k?p[r].p(g,b):(De(),D(p[k],1,1,function(){p[k]=null}),ze(),(o=p[r])?o.p(g,b):(o=p[r]=h[r](g)).c(),T(o,1),o.m(e,s)),(!l||2&b)&&(a.readOnly=g[1]),(!l||1&b)&&(a.value=g[0])},i:function(g){l||(T(t.$$.fragment,g),T(o),l=!0)},o:function(g){D(t.$$.fragment,g),D(o),l=!1},d:function(g){g&&se(e),Pe(t),p[r].d(),n[16](null),c=!1,f()}}}function tz(n,e,t){var i,r,o,s,a,l,c,f,h=e.text,p=h===void 0?"":h,m=e.readOnly,g=m!==void 0&&m,v=e.onParse,b=e.onRepair,x=e.onChange,k=x===void 0?null:x,C=e.onApply,S=e.onCancel,_=ar("jsoneditor:JSONRepair");function E(){C(p)}return n.$$set=function(q){"text"in q&&t(0,p=q.text),"readOnly"in q&&t(1,g=q.readOnly),"onParse"in q&&t(8,v=q.onParse),"onRepair"in q&&t(9,b=q.onRepair),"onChange"in q&&t(10,k=q.onChange),"onApply"in q&&t(11,C=q.onApply),"onCancel"in q&&t(12,S=q.onCancel)},n.$$.update=function(){1&n.$$.dirty&&t(2,i=function(q){try{return v(q),null}catch(te){return dc(q,te.message)}}(p)),1&n.$$.dirty&&t(15,r=function(q){try{return b(q),!0}catch{return!1}}(p)),4&n.$$.dirty&&_("error",i),4096&n.$$.dirty&&t(4,f=[{type:"space"},{type:"button",icon:uc,title:"Cancel repair",className:"jse-cancel",onClick:S}]),57344&n.$$.dirty&&t(6,a=r?[o,s]:[o]),2&n.$$.dirty&&t(5,l=[{icon:Bu,text:"Apply",title:"Apply fixed JSON",disabled:g,onClick:E}])},t(13,o={icon:M7,text:"Show me",title:"Scroll to the error location",onClick:function(){if(c&&i){var q=i.position!=null?i.position:0;c.setSelectionRange(q,q),c.focus()}}}),t(14,s={icon:op,text:"Auto repair",title:"Automatically repair JSON",onClick:function(){try{t(0,p=b(p)),k&&k(p)}catch{}}}),[p,g,i,c,f,l,a,function(q){_("handleChange");var te=q.target.value;p!==te&&(t(0,p=te),k&&k(p))},v,b,k,C,S,o,s,r,function(q){pn[q?"unshift":"push"](function(){t(3,c=q)})}]}var nz=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,tz,ez,Yt,{text:0,readOnly:1,onParse:8,onRepair:9,onChange:10,onApply:11,onCancel:12},GD),r}return ct(t)}(),Al=[];function H2(n){if(n.key==="Escape"){var e=yn(Al);e&&e()}}function xp(n,e){return An(Al)&&window.addEventListener("keydown",H2),Al.push(e),{destroy:function(){Al=Al.filter(function(t){return t!==e}),An(Al)&&window.removeEventListener("keydown",H2)}}}function iz(n){Gt(n,"svelte-rn18r0",'.jse-modal.jse-repair.svelte-rn18r0{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}')}function rz(n){var e,t,i,r,o,s;function a(c){n[7](c)}var l={onParse:n[1],onRepair:n[2],onApply:n[4],onCancel:n[5]};return n[0]!==void 0&&(l.text=n[0]),t=new nz({props:l}),pn.push(function(){return So(t,"text",a)}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-modal jse-repair svelte-rn18r0")},m:function(c,f){ae(c,e,f),Me(t,e,null),r=!0,o||(s=or(xp.call(null,e,n[3])),o=!0)},p:function(c,f){var h=Jt(f,1)[0],p={};2&h&&(p.onParse=c[1]),4&h&&(p.onRepair=c[2]),!i&&1&h&&(i=!0,p.text=c[0],jo(function(){return i=!1})),t.$set(p)},i:function(c){r||(T(t.$$.fragment,c),r=!0)},o:function(c){D(t.$$.fragment,c),r=!1},d:function(c){c&&se(e),Pe(t),o=!1,s()}}}function oz(n,e,t){var i=e.text,r=e.onParse,o=e.onRepair,s=e.onApply,a=sr("simple-modal").close;return n.$$set=function(l){"text"in l&&t(0,i=l.text),"onParse"in l&&t(1,r=l.onParse),"onRepair"in l&&t(2,o=l.onRepair),"onApply"in l&&t(6,s=l.onApply)},[i,r,o,a,function(l){a(),s(l)},function(){a()},s,function(l){t(0,i=l)}]}var C$=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,oz,rz,Yt,{text:0,onParse:1,onRepair:2,onApply:6},iz),r}return ct(t)}();function sz(n){Gt(n,"svelte-szeu2l",'button.jse-context-menu-button.svelte-szeu2l{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:inherit}button.jse-context-menu-button.svelte-szeu2l:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}button.jse-context-menu-button.svelte-szeu2l:focus{background:var(--jse-context-menu-background-highlight, #7a7a7a);z-index:1}button.jse-context-menu-button.svelte-szeu2l:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-szeu2l{text-align:left}button.jse-context-menu-button.svelte-szeu2l svg{width:16px}')}function V2(n){var e,t;return e=new Cn({props:{data:n[0].icon}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.data=i[0].icon),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function W2(n){var e,t=n[0].text+"";return{c:function(){e=Xe(t)},m:function(i,r){ae(i,e,r)},p:function(i,r){1&r&&t!==(t=i[0].text+"")&&Dt(e,t)},d:function(i){i&&se(e)}}}function az(n){var e,t,i,r,o,s,a,l,c=n[0].icon&&V2(n),f=n[0].text&&W2(n);return{c:function(){e=K("button"),c&&c.c(),t=ve(),f&&f.c(),j(e,"type","button"),j(e,"class",i=fi(cs("jse-context-menu-button",n[1],n[0].className))+" svelte-szeu2l"),j(e,"title",r=n[0].title),e.disabled=o=n[0].disabled||!1},m:function(h,p){ae(h,e,p),c&&c.m(e,null),z(e,t),f&&f.m(e,null),s=!0,a||(l=Ne(e,"click",function(){ir(n[0].onClick)&&n[0].onClick.apply(this,arguments)}),a=!0)},p:function(h,p){var m=Jt(p,1)[0];(n=h)[0].icon?c?(c.p(n,m),1&m&&T(c,1)):((c=V2(n)).c(),T(c,1),c.m(e,t)):c&&(De(),D(c,1,1,function(){c=null}),ze()),n[0].text?f?f.p(n,m):((f=W2(n)).c(),f.m(e,null)):f&&(f.d(1),f=null),(!s||3&m&&i!==(i=fi(cs("jse-context-menu-button",n[1],n[0].className))+" svelte-szeu2l"))&&j(e,"class",i),(!s||1&m&&r!==(r=n[0].title))&&j(e,"title",r),(!s||1&m&&o!==(o=n[0].disabled||!1))&&(e.disabled=o)},i:function(h){s||(T(c),s=!0)},o:function(h){D(c),s=!1},d:function(h){h&&se(e),c&&c.d(),f&&f.d(),a=!1,l()}}}function lz(n,e,t){var i=e.item,r=e.className,o=r===void 0?void 0:r;return n.$$set=function(s){"item"in s&&t(0,i=s.item),"className"in s&&t(1,o=s.className)},[i,o]}var y1=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,lz,az,Gi,{item:0,className:1},sz),r}return ct(t)}();function cz(n){Gt(n,"svelte-9i012w",'.jse-dropdown-button.svelte-9i012w.svelte-9i012w{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-9i012w ul.svelte-9i012w{margin:0;padding:0}.jse-dropdown-button.svelte-9i012w ul li.svelte-9i012w{margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.svelte-9i012w{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));border-radius:0}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.jse-visible.svelte-9i012w{background:var(--jse-context-menu-background, #656565)}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.svelte-9i012w:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.svelte-9i012w:focus{z-index:1}.jse-dropdown-button.svelte-9i012w button.jse-open-dropdown.svelte-9i012w:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items.svelte-9i012w{display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff));box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items.jse-visible.svelte-9i012w{display:block}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items button.svelte-9i012w{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;width:100%;text-align:left;padding:var(--jse-padding, 10px);margin:0}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items button.svelte-9i012w:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}.jse-dropdown-button.svelte-9i012w .jse-dropdown-items button.svelte-9i012w:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}')}function U2(n,e,t){var i=n.slice();return i[11]=e[t],i}var uz=function(n){return{}},Q2=function(n){return{}};function Z2(n){var e,t;return e=new Cn({props:{data:n[11].icon}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.data=i[11].icon),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function J2(n){var e,t,i,r,o,s,a,l,c,f,h,p=n[11].text+"",m=n[11].icon&&Z2(n);function g(){for(var v,b=arguments.length,x=new Array(b),k=0;k<b;k++)x[k]=arguments[k];return(v=n)[9].apply(v,[n[11]].concat(x))}return{c:function(){e=K("li"),t=K("button"),m&&m.c(),i=ve(),r=Xe(p),l=ve(),j(t,"type","button"),j(t,"title",o=n[11].title),t.disabled=s=n[11].disabled,j(t,"class",a=fi(n[11].className)+" svelte-9i012w"),j(e,"class","svelte-9i012w")},m:function(v,b){ae(v,e,b),z(e,t),m&&m.m(t,null),z(t,i),z(t,r),z(e,l),c=!0,f||(h=Ne(t,"click",g),f=!0)},p:function(v,b){(n=v)[11].icon?m?(m.p(n,b),1&b&&T(m,1)):((m=Z2(n)).c(),T(m,1),m.m(t,i)):m&&(De(),D(m,1,1,function(){m=null}),ze()),(!c||1&b)&&p!==(p=n[11].text+"")&&Dt(r,p),(!c||1&b&&o!==(o=n[11].title))&&j(t,"title",o),(!c||1&b&&s!==(s=n[11].disabled))&&(t.disabled=s),(!c||1&b&&a!==(a=fi(n[11].className)+" svelte-9i012w"))&&j(t,"class",a)},i:function(v){c||(T(m),c=!0)},o:function(v){D(m),c=!1},d:function(v){v&&se(e),m&&m.d(),f=!1,h()}}}function fz(n){var e,t,i,r,o,s,a,l,c,f,h=n[8].defaultItem,p=_i(h,n,n[7],Q2);r=new Cn({props:{data:uo}});for(var m=Zt(n[0]),g=[],v=0;v<m.length;v+=1)g[v]=J2(U2(n,m,v));var b=function(x){return D(g[x],1,1,function(){g[x]=null})};return{c:function(){e=K("div"),p&&p.c(),t=ve(),i=K("button"),Te(r.$$.fragment),o=ve(),s=K("div"),a=K("ul");for(var x=0;x<g.length;x+=1)g[x].c();j(i,"type","button"),j(i,"class","jse-open-dropdown svelte-9i012w"),j(i,"data-type","jse-open-dropdown"),i.disabled=n[4],Ie(i,"jse-visible",n[3]),j(a,"class","svelte-9i012w"),j(s,"class","jse-dropdown-items svelte-9i012w"),Sr(s,"width",n[2]),Ie(s,"jse-visible",n[3]),j(e,"role","button"),j(e,"tabindex","0"),j(e,"class","jse-dropdown-button svelte-9i012w"),j(e,"title",n[1])},m:function(x,k){ae(x,e,k),p&&p.m(e,null),z(e,t),z(e,i),Me(r,i,null),z(e,o),z(e,s),z(s,a);for(var C=0;C<g.length;C+=1)g[C]&&g[C].m(a,null);l=!0,c||(f=[Ne(i,"click",n[5]),Ne(e,"click",n[6])],c=!0)},p:function(x,k){var C=Jt(k,1)[0];if(p&&p.p&&(!l||128&C)&&Si(p,h,x,x[7],l?ji(h,x[7],C,uz):Ci(x[7]),Q2),(!l||16&C)&&(i.disabled=x[4]),(!l||8&C)&&Ie(i,"jse-visible",x[3]),1&C){var S;for(m=Zt(x[0]),S=0;S<m.length;S+=1){var _=U2(x,m,S);g[S]?(g[S].p(_,C),T(g[S],1)):(g[S]=J2(_),g[S].c(),T(g[S],1),g[S].m(a,null))}for(De(),S=m.length;S<g.length;S+=1)b(S);ze()}(!l||4&C)&&Sr(s,"width",x[2]),(!l||8&C)&&Ie(s,"jse-visible",x[3]),(!l||2&C)&&j(e,"title",x[1])},i:function(x){if(!l){T(p,x),T(r.$$.fragment,x);for(var k=0;k<m.length;k+=1)T(g[k]);l=!0}},o:function(x){D(p,x),D(r.$$.fragment,x),g=g.filter(Boolean);for(var k=0;k<g.length;k+=1)D(g[k]);l=!1},d:function(x){x&&se(e),p&&p.d(x),Pe(r),Ri(g,x),c=!1,Yn(f)}}}function hz(n,e,t){var i,r=e.$$slots,o=r===void 0?{}:r,s=e.$$scope,a=e.items,l=a===void 0?[]:a,c=e.title,f=c===void 0?void 0:c,h=e.width,p=h===void 0?"120px":h,m=!1;function g(){t(3,m=!1)}function v(b){Sa(b)==="Escape"&&(b.preventDefault(),t(3,m=!1))}return go(function(){document.addEventListener("click",g),document.addEventListener("keydown",v)}),Xr(function(){document.removeEventListener("click",g),document.removeEventListener("keydown",v)}),n.$$set=function(b){"items"in b&&t(0,l=b.items),"title"in b&&t(1,f=b.title),"width"in b&&t(2,p=b.width),"$$scope"in b&&t(7,s=b.$$scope)},n.$$.update=function(){1&n.$$.dirty&&t(4,i=l.every(function(b){return b.disabled===!0}))},[l,f,p,m,i,function(){var b=m;setTimeout(function(){return t(3,m=!b)})},g,s,o,function(b,x){return b.onClick(x)}]}var dz=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,hz,fz,Yt,{items:0,title:1,width:2},cz),r}return ct(t)}();function pz(n){Gt(n,"svelte-szeu2l",'button.jse-context-menu-button.svelte-szeu2l{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:inherit}button.jse-context-menu-button.svelte-szeu2l:hover{background:var(--jse-context-menu-background-highlight, #7a7a7a)}button.jse-context-menu-button.svelte-szeu2l:focus{background:var(--jse-context-menu-background-highlight, #7a7a7a);z-index:1}button.jse-context-menu-button.svelte-szeu2l:disabled{color:var(--jse-context-menu-color-disabled, #9d9d9d);background:unset}button.jse-context-menu-button.left.svelte-szeu2l{text-align:left}button.jse-context-menu-button.svelte-szeu2l svg{width:16px}')}function G2(n){var e,t;return e=new Cn({props:{data:n[0].main.icon}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.data=i[0].main.icon),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function mz(n){var e,t,i,r,o,s,a,l,c,f=n[0].main.text+"",h=n[0].main.icon&&G2(n);return{c:function(){e=K("button"),h&&h.c(),t=ve(),i=Xe(f),j(e,"class",r=fi(cs("jse-context-menu-button",n[1],n[0].main.className))+" svelte-szeu2l"),j(e,"type","button"),j(e,"slot","defaultItem"),j(e,"title",o=n[0].main.title),e.disabled=s=n[0].main.disabled||!1},m:function(p,m){ae(p,e,m),h&&h.m(e,null),z(e,t),z(e,i),a=!0,l||(c=Ne(e,"click",function(){ir(n[0].main.onClick)&&n[0].main.onClick.apply(this,arguments)}),l=!0)},p:function(p,m){(n=p)[0].main.icon?h?(h.p(n,m),1&m&&T(h,1)):((h=G2(n)).c(),T(h,1),h.m(e,t)):h&&(De(),D(h,1,1,function(){h=null}),ze()),(!a||1&m)&&f!==(f=n[0].main.text+"")&&Dt(i,f),(!a||3&m&&r!==(r=fi(cs("jse-context-menu-button",n[1],n[0].main.className))+" svelte-szeu2l"))&&j(e,"class",r),(!a||1&m&&o!==(o=n[0].main.title))&&j(e,"title",o),(!a||1&m&&s!==(s=n[0].main.disabled||!1))&&(e.disabled=s)},i:function(p){a||(T(h),a=!0)},o:function(p){D(h),a=!1},d:function(p){p&&se(e),h&&h.d(),l=!1,c()}}}function gz(n){var e,t;return e=new dz({props:{width:n[0].width,items:n[0].items,$$slots:{defaultItem:[mz]},$$scope:{ctx:n}}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o=Jt(r,1)[0],s={};1&o&&(s.width=i[0].width),1&o&&(s.items=i[0].items),7&o&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function vz(n,e,t){var i=e.item,r=e.className,o=r===void 0?void 0:r;return n.$$set=function(s){"item"in s&&t(0,i=s.item),"className"in s&&t(1,o=s.className)},[i,o]}var b1=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,vz,gz,Gi,{item:0,className:1},pz),r}return ct(t)}();function yz(n){Gt(n,"svelte-vtd7md",'.jse-contextmenu.svelte-vtd7md.svelte-vtd7md{box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-context-menu-background, #656565);color:var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff))}.jse-contextmenu.svelte-vtd7md .jse-row.svelte-vtd7md{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-vtd7md .jse-row div.jse-label.svelte-vtd7md{flex:1;white-space:nowrap;padding:var(--jse-padding, 10px);color:var(--jse-context-menu-color-disabled, #9d9d9d);line-height:normal}.jse-contextmenu.svelte-vtd7md .jse-row div.jse-tip.svelte-vtd7md{flex:1;background:var(--jse-context-menu-tip-background, rgba(255, 255, 255, 0.2));color:var(--context-menu-tip-color, inherit);margin:calc(0.5 * var(--jse-padding, 10px));padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:start;gap:var(--jse-padding, 10px);border-radius:3px}.jse-contextmenu.svelte-vtd7md .jse-row div.jse-tip div.jse-tip-icon.svelte-vtd7md{padding-top:calc(0.5 * var(--jse-padding, 10px))}.jse-contextmenu.svelte-vtd7md .jse-column.svelte-vtd7md{flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-vtd7md .jse-column.svelte-vtd7md:not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color, #7a7a7a)}.jse-contextmenu.svelte-vtd7md .jse-separator.svelte-vtd7md{width:100%;height:1px;background:var(--jse-context-menu-separator-color, #7a7a7a)}')}function K2(n,e,t){var i=n.slice();return i[6]=e[t],i}function X2(n,e,t){var i=n.slice();return i[9]=e[t],i}function Y2(n,e,t){var i=n.slice();return i[12]=e[t],i}function bz(n){var e,t=yc(n[6])+"";return{c:function(){e=Xe(t)},m:function(i,r){ae(i,e,r)},p:function(i,r){1&r&&t!==(t=yc(i[6])+"")&&Dt(e,t)},i:Ve,o:Ve,d:function(i){i&&se(e)}}}function xz(n){var e;return{c:function(){j(e=K("div"),"class","jse-separator svelte-vtd7md")},m:function(t,i){ae(t,e,i)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e)}}}function wz(n){for(var e,t,i=Zt(n[6].items),r=[],o=0;o<i.length;o+=1)r[o]=tk(X2(n,i,o));var s=function(a){return D(r[a],1,1,function(){r[a]=null})};return{c:function(){e=K("div");for(var a=0;a<r.length;a+=1)r[a].c();j(e,"class","jse-row svelte-vtd7md")},m:function(a,l){ae(a,e,l);for(var c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);t=!0},p:function(a,l){if(1&l){var c;for(i=Zt(a[6].items),c=0;c<i.length;c+=1){var f=X2(a,i,c);r[c]?(r[c].p(f,l),T(r[c],1)):(r[c]=tk(f),r[c].c(),T(r[c],1),r[c].m(e,null))}for(De(),c=i.length;c<r.length;c+=1)s(c);ze()}},i:function(a){if(!t){for(var l=0;l<i.length;l+=1)T(r[l]);t=!0}},o:function(a){r=r.filter(Boolean);for(var l=0;l<r.length;l+=1)D(r[l]);t=!1},d:function(a){a&&se(e),Ri(r,a)}}}function kz(n){var e,t;return e=new b1({props:{item:n[6]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.item=i[6]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function _z(n){var e,t;return e=new y1({props:{item:n[6]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.item=i[6]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function jz(n){var e,t=yc(n[9])+"";return{c:function(){e=Xe(t)},m:function(i,r){ae(i,e,r)},p:function(i,r){1&r&&t!==(t=yc(i[9])+"")&&Dt(e,t)},i:Ve,o:Ve,d:function(i){i&&se(e)}}}function Sz(n){var e;return{c:function(){j(e=K("div"),"class","jse-separator svelte-vtd7md")},m:function(t,i){ae(t,e,i)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e)}}}function Cz(n){for(var e,t,i=Zt(n[9].items),r=[],o=0;o<i.length;o+=1)r[o]=ek(Y2(n,i,o));var s=function(a){return D(r[a],1,1,function(){r[a]=null})};return{c:function(){e=K("div");for(var a=0;a<r.length;a+=1)r[a].c();j(e,"class","jse-column svelte-vtd7md")},m:function(a,l){ae(a,e,l);for(var c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);t=!0},p:function(a,l){if(1&l){var c;for(i=Zt(a[9].items),c=0;c<i.length;c+=1){var f=Y2(a,i,c);r[c]?(r[c].p(f,l),T(r[c],1)):(r[c]=ek(f),r[c].c(),T(r[c],1),r[c].m(e,null))}for(De(),c=i.length;c<r.length;c+=1)s(c);ze()}},i:function(a){if(!t){for(var l=0;l<i.length;l+=1)T(r[l]);t=!0}},o:function(a){r=r.filter(Boolean);for(var l=0;l<r.length;l+=1)D(r[l]);t=!1},d:function(a){a&&se(e),Ri(r,a)}}}function Oz(n){var e,t;return e=new b1({props:{item:n[9]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.item=i[9]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function $z(n){var e,t;return e=new y1({props:{item:n[9]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.item=i[9]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Mz(n){var e,t=yc(n[12])+"";return{c:function(){e=Xe(t)},m:function(i,r){ae(i,e,r)},p:function(i,r){1&r&&t!==(t=yc(i[12])+"")&&Dt(e,t)},i:Ve,o:Ve,d:function(i){i&&se(e)}}}function Pz(n){var e,t,i=n[12].text+"";return{c:function(){e=K("div"),t=Xe(i),j(e,"class","jse-label svelte-vtd7md")},m:function(r,o){ae(r,e,o),z(e,t)},p:function(r,o){1&o&&i!==(i=r[12].text+"")&&Dt(t,i)},i:Ve,o:Ve,d:function(r){r&&se(e)}}}function Tz(n){var e;return{c:function(){j(e=K("div"),"class","jse-separator svelte-vtd7md")},m:function(t,i){ae(t,e,i)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e)}}}function Ez(n){var e,t;return e=new b1({props:{className:"left",item:n[12]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.item=i[12]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Az(n){var e,t;return e=new y1({props:{className:"left",item:n[12]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r&&(o.item=i[12]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function ek(n){var e,t,i,r,o,s,a,l,c=[Az,Ez,Tz,Pz,Mz],f=[];function h(p,m){return 1&m&&(e=null),1&m&&(t=null),1&m&&(i=null),1&m&&(r=null),e==null&&(e=!!uf(p[12])),e?0:(t==null&&(t=!!v1(p[12])),t?1:(i==null&&(i=!!yp(p[12])),i?2:(r==null&&(r=!!LD(p[12])),r?3:4)))}return o=h(n,-1),s=f[o]=c[o](n),{c:function(){s.c(),a=On()},m:function(p,m){f[o].m(p,m),ae(p,a,m),l=!0},p:function(p,m){var g=o;(o=h(p,m))===g?f[o].p(p,m):(De(),D(f[g],1,1,function(){f[g]=null}),ze(),(s=f[o])?s.p(p,m):(s=f[o]=c[o](p)).c(),T(s,1),s.m(a.parentNode,a))},i:function(p){l||(T(s),l=!0)},o:function(p){D(s),l=!1},d:function(p){p&&se(a),f[o].d(p)}}}function tk(n){var e,t,i,r,o,s,a,l,c=[$z,Oz,Cz,Sz,jz],f=[];function h(p,m){return 1&m&&(e=null),1&m&&(t=null),1&m&&(i=null),1&m&&(r=null),e==null&&(e=!!uf(p[9])),e?0:(t==null&&(t=!!v1(p[9])),t?1:(i==null&&(i=!!ND(p[9])),i?2:(r==null&&(r=!!yp(p[9])),r?3:4)))}return o=h(n,-1),s=f[o]=c[o](n),{c:function(){s.c(),a=On()},m:function(p,m){f[o].m(p,m),ae(p,a,m),l=!0},p:function(p,m){var g=o;(o=h(p,m))===g?f[o].p(p,m):(De(),D(f[g],1,1,function(){f[g]=null}),ze(),(s=f[o])?s.p(p,m):(s=f[o]=c[o](p)).c(),T(s,1),s.m(a.parentNode,a))},i:function(p){l||(T(s),l=!0)},o:function(p){D(s),l=!1},d:function(p){p&&se(a),f[o].d(p)}}}function nk(n){var e,t,i,r,o,s,a,l,c=[_z,kz,wz,xz,bz],f=[];function h(p,m){return 1&m&&(e=null),1&m&&(t=null),1&m&&(i=null),1&m&&(r=null),e==null&&(e=!!uf(p[6])),e?0:(t==null&&(t=!!v1(p[6])),t?1:(i==null&&(i=!!ID(p[6])),i?2:(r==null&&(r=!!yp(p[6])),r?3:4)))}return o=h(n,-1),s=f[o]=c[o](n),{c:function(){s.c(),a=On()},m:function(p,m){f[o].m(p,m),ae(p,a,m),l=!0},p:function(p,m){var g=o;(o=h(p,m))===g?f[o].p(p,m):(De(),D(f[g],1,1,function(){f[g]=null}),ze(),(s=f[o])?s.p(p,m):(s=f[o]=c[o](p)).c(),T(s,1),s.m(a.parentNode,a))},i:function(p){l||(T(s),l=!0)},o:function(p){D(s),l=!1},d:function(p){p&&se(a),f[o].d(p)}}}function ik(n){var e,t,i,r,o,s,a,l;return r=new Cn({props:{data:a7}}),{c:function(){e=K("div"),t=K("div"),i=K("div"),Te(r.$$.fragment),o=ve(),s=K("div"),a=Xe(n[1]),j(i,"class","jse-tip-icon svelte-vtd7md"),j(s,"class","jse-tip-text"),j(t,"class","jse-tip svelte-vtd7md"),j(e,"class","jse-row svelte-vtd7md")},m:function(c,f){ae(c,e,f),z(e,t),z(t,i),Me(r,i,null),z(t,o),z(t,s),z(s,a),l=!0},p:function(c,f){(!l||2&f)&&Dt(a,c[1])},i:function(c){l||(T(r.$$.fragment,c),l=!0)},o:function(c){D(r.$$.fragment,c),l=!1},d:function(c){c&&se(e),Pe(r)}}}function Rz(n){for(var e,t,i,r,o,s=Zt(n[0]),a=[],l=0;l<s.length;l+=1)a[l]=nk(K2(n,s,l));var c=function(h){return D(a[h],1,1,function(){a[h]=null})},f=n[1]&&ik(n);return{c:function(){e=K("div");for(var h=0;h<a.length;h+=1)a[h].c();t=ve(),f&&f.c(),j(e,"role","menu"),j(e,"tabindex","-1"),j(e,"class","jse-contextmenu svelte-vtd7md")},m:function(h,p){ae(h,e,p);for(var m=0;m<a.length;m+=1)a[m]&&a[m].m(e,null);z(e,t),f&&f.m(e,null),n[4](e),i=!0,r||(o=Ne(e,"keydown",n[3]),r=!0)},p:function(h,p){var m=Jt(p,1)[0];if(1&m){var g;for(s=Zt(h[0]),g=0;g<s.length;g+=1){var v=K2(h,s,g);a[g]?(a[g].p(v,m),T(a[g],1)):(a[g]=nk(v),a[g].c(),T(a[g],1),a[g].m(e,t))}for(De(),g=s.length;g<a.length;g+=1)c(g);ze()}h[1]?f?(f.p(h,m),2&m&&T(f,1)):((f=ik(h)).c(),T(f,1),f.m(e,null)):f&&(De(),D(f,1,1,function(){f=null}),ze())},i:function(h){if(!i){for(var p=0;p<s.length;p+=1)T(a[p]);T(f),i=!0}},o:function(h){a=a.filter(Boolean);for(var p=0;p<a.length;p+=1)D(a[p]);D(f),i=!1},d:function(h){h&&se(e),Ri(a,h),f&&f.d(),n[4](null),r=!1,o()}}}function yc(n){return console.error("Unknown type of context menu item",n),"???"}function Lz(n,e,t){var i,r=e.items,o=e.tip;go(function(){var a=Array.from(i.querySelectorAll("button")).find(function(l){return!l.disabled});a&&a.focus()});var s={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};return n.$$set=function(a){"items"in a&&t(0,r=a.items),"tip"in a&&t(1,o=a.tip)},[r,o,i,function(a){var l=Sa(a),c=s[l];if(c&&a.target){a.preventDefault();var f=GN({allElements:Array.from(i.querySelectorAll("button:not([disabled])")),currentElement:a.target,direction:c,hasPrio:function(h){return h.getAttribute("data-type")!=="jse-open-dropdown"}});f&&f.focus()}},function(a){pn[a?"unshift":"push"](function(){t(2,i=a)})}]}var O$=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Lz,Rz,Yt,{items:0,tip:1},yz),r}return ct(t)}();function Iz(n){var e,t;return e=new O$({props:{items:n[1],tip:n[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};2&r[0]&&(o.items=i[1]),1&r[0]&&(o.tip=i[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Nz(n,e,t){var i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te=e.json,G=e.documentState,I=e.parser,U=e.showTip,B=e.onCloseContextMenu,ee=e.onRenderContextMenu,F=e.onEditKey,ne=e.onEditValue,re=e.onToggleEnforceString,R=e.onCut,$=e.onCopy,N=e.onPaste,P=e.onRemove,A=e.onDuplicate,M=e.onExtract,Z=e.onInsertBefore,le=e.onInsert,de=e.onConvert,xe=e.onInsertAfter,oe=e.onSort,Be=e.onTransform;function We(){B(),F()}function Ce(){B(),ne()}function be(){B(),re()}function Ze(){B(),R(!0)}function Ye(){B(),R(!1)}function et(){B(),$(!0)}function qt(){B(),$(!1)}function fe(){B(),N()}function wt(){B(),P()}function tt(){B(),A()}function ce(){B(),M()}function bt(it){B(),c?de(it):le(it)}function Bt(){B(),oe()}function ut(){B(),Be()}function Kt(){B(),Z()}function bn(){B(),xe()}return n.$$set=function(it){"json"in it&&t(2,te=it.json),"documentState"in it&&t(3,G=it.documentState),"parser"in it&&t(4,I=it.parser),"showTip"in it&&t(0,U=it.showTip),"onCloseContextMenu"in it&&t(5,B=it.onCloseContextMenu),"onRenderContextMenu"in it&&t(6,ee=it.onRenderContextMenu),"onEditKey"in it&&t(7,F=it.onEditKey),"onEditValue"in it&&t(8,ne=it.onEditValue),"onToggleEnforceString"in it&&t(9,re=it.onToggleEnforceString),"onCut"in it&&t(10,R=it.onCut),"onCopy"in it&&t(11,$=it.onCopy),"onPaste"in it&&t(12,N=it.onPaste),"onRemove"in it&&t(13,P=it.onRemove),"onDuplicate"in it&&t(14,A=it.onDuplicate),"onExtract"in it&&t(15,M=it.onExtract),"onInsertBefore"in it&&t(16,Z=it.onInsertBefore),"onInsert"in it&&t(17,le=it.onInsert),"onConvert"in it&&t(18,de=it.onConvert),"onInsertAfter"in it&&t(19,xe=it.onInsertAfter),"onSort"in it&&t(20,oe=it.onSort),"onTransform"in it&&t(21,Be=it.onTransform)},n.$$.update=function(){8&n.$$.dirty[0]&&t(39,i=G.selection),4&n.$$.dirty[0]&&t(41,r=te!==void 0),256&n.$$.dirty[1]&&t(33,o=!!i),256&n.$$.dirty[1]&&t(23,s=!!i&&An(At(i))),4&n.$$.dirty[0]|256&n.$$.dirty[1]&&t(40,a=i?Ct(te,At(i)):void 0),512&n.$$.dirty[1]&&t(37,l=Array.isArray(a)?"Edit array":li(a)?"Edit object":"Edit value"),1280&n.$$.dirty[1]&&t(24,c=r&&(Wn(i)||Ei(i)||_n(i))),25165824&n.$$.dirty[0]|1024&n.$$.dirty[1]&&t(32,f=r&&c&&!s),8388608&n.$$.dirty[0]|1280&n.$$.dirty[1]&&t(31,h=r&&i!=null&&(Wn(i)||_n(i))&&!s),8388612&n.$$.dirty[0]|1280&n.$$.dirty[1]&&t(38,p=r&&i!=null&&$d(i)&&!s&&!Array.isArray(Ct(te,kn(At(i))))),1280&n.$$.dirty[1]&&t(36,m=r&&i!=null&&$d(i)),544&n.$$.dirty[1]&&t(34,g=m&&!gi(a)),16777216&n.$$.dirty[0]&&t(27,v=c),134217728&n.$$.dirty[0]&&t(26,b=v?"Convert to:":"Insert:"),134217728&n.$$.dirty[0]|4&n.$$.dirty[1]&&t(30,x=!v&&o),134217728&n.$$.dirty[0]|772&n.$$.dirty[1]&&t(29,k=v?Dh(i)&&!li(a):o),134217728&n.$$.dirty[0]|772&n.$$.dirty[1]&&t(28,C=v?Dh(i)&&!Array.isArray(a):o),134217728&n.$$.dirty[0]|772&n.$$.dirty[1]&&t(25,S=v?Dh(i)&&gi(a):o),24&n.$$.dirty[0]|768&n.$$.dirty[1]&&t(35,_=!(i==null||!a)&&Ds(a,G.enforceStringMap,at(At(i)),I)),2139095040&n.$$.dirty[0]|255&n.$$.dirty[1]&&t(22,q=[{type:"row",items:[{type:"button",onClick:We,icon:Xl,text:"Edit key",title:"Edit the key (Double-click on the key)",disabled:!p},{type:"dropdown-button",main:{type:"button",onClick:Ce,icon:Xl,text:l,title:"Edit the value (Double-click on the value)",disabled:!m},width:"11em",items:[{type:"button",icon:Xl,text:l,title:"Edit the value (Double-click on the value)",onClick:Ce,disabled:!m},{type:"button",icon:_?Iu:Nu,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:be,disabled:!g}]}]},{type:"separator"},{type:"row",items:[{type:"dropdown-button",main:{type:"button",onClick:Ze,icon:Kl,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!c},width:"10em",items:[{type:"button",icon:Kl,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:Ze,disabled:!c},{type:"button",icon:Kl,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:Ye,disabled:!c}]},{type:"dropdown-button",main:{type:"button",onClick:et,icon:la,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!c},width:"12em",items:[{type:"button",icon:la,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:et,disabled:!c},{type:"button",icon:la,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:qt,disabled:!c}]},{type:"button",onClick:fe,icon:GC,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!o}]},{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"button",onClick:tt,icon:eO,text:"Duplicate",title:"Duplicate selected contents (Ctrl+D)",disabled:!f},{type:"button",onClick:ce,icon:_7,text:"Extract",title:"Extract selected contents",disabled:!h},{type:"button",onClick:Bt,icon:sp,text:"Sort",title:"Sort array or object contents",disabled:!c},{type:"button",onClick:ut,icon:rp,text:"Transform",title:"Transform array or object contents (filter, sort, project)",disabled:!c},{type:"button",onClick:wt,icon:Lg,text:"Remove",title:"Remove selected contents (Delete)",disabled:!c}]},{type:"column",items:[{type:"label",text:b},{type:"button",onClick:function(){return bt("structure")},icon:v?nh:Bl,text:"Structure",title:b+" structure",disabled:!x},{type:"button",onClick:function(){return bt("object")},icon:v?nh:Bl,text:"Object",title:b+" structure",disabled:!k},{type:"button",onClick:function(){return bt("array")},icon:v?nh:Bl,text:"Array",title:b+" array",disabled:!C},{type:"button",onClick:function(){return bt("value")},icon:v?nh:Bl,text:"Value",title:b+" value",disabled:!S}]}]},{type:"separator"},{type:"row",items:[{type:"button",onClick:Kt,icon:y7,text:"Insert before",title:"Select area before current entry to insert or paste contents",disabled:!c||s},{type:"button",onClick:bn,icon:d7,text:"Insert after",title:"Select area after current entry to insert or paste contents",disabled:!c||s}]}]),4194368&n.$$.dirty[0]&&t(1,E=ee(q))},[U,E,te,G,I,B,ee,F,ne,re,R,$,N,P,A,M,Z,le,de,xe,oe,Be,q,s,c,S,b,v,C,k,x,h,f,o,g,_,m,l,p,i,a,r]}var Bz=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Nz,Iz,Yt,{json:2,documentState:3,parser:4,showTip:0,onCloseContextMenu:5,onRenderContextMenu:6,onEditKey:7,onEditValue:8,onToggleEnforceString:9,onCut:10,onCopy:11,onPaste:12,onRemove:13,onDuplicate:14,onExtract:15,onInsertBefore:16,onInsert:17,onConvert:18,onInsertAfter:19,onSort:20,onTransform:21},null,[-1,-1]),r}return ct(t)}();function Dz(n){Gt(n,"svelte-lajpxi",'div.jse-collapsed-items.svelte-lajpxi.svelte-lajpxi{margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));padding:calc(0.5 * var(--jse-padding, 10px));border:8px solid transparent;border-width:8px 0;background-color:var(--jse-contents-background-color, transparent);background-image:linear-gradient(var(--jse-collapsed-items-background-color, #f5f5f5), var(--jse-collapsed-items-background-color, #f5f5f5)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color, #f5f5f5) 50.5%);background-repeat:repeat, repeat-x, repeat-x, repeat-x, repeat-x;background-position:0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;background-size:auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;background-clip:padding-box, border-box, border-box, border-box, border-box;background-origin:padding-box, border-box, border-box, border-box, border-box;display:flex}div.jse-collapsed-items.svelte-lajpxi div.jse-text.svelte-lajpxi,div.jse-collapsed-items.svelte-lajpxi button.jse-expand-items.svelte-lajpxi{margin:0 calc(0.5 * var(--jse-padding, 10px))}div.jse-collapsed-items.svelte-lajpxi div.jse-text.svelte-lajpxi{display:inline}div.jse-collapsed-items.svelte-lajpxi button.jse-expand-items.svelte-lajpxi{font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color, rgba(0, 0, 0, 0.38));background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-lajpxi button.jse-expand-items.svelte-lajpxi:hover,div.jse-collapsed-items.svelte-lajpxi button.jse-expand-items.svelte-lajpxi:focus{color:var(--jse-collapsed-items-link-color-highlight, #ee5341)}')}function rk(n,e,t){var i=n.slice();return i[13]=e[t],i}function ok(n){var e,t,i,r,o,s,a,l,c=n[13].start+"",f=n[13].end+"";function h(){return n[12](n[13])}return{c:function(){e=K("button"),t=Xe("show "),i=Xe(c),r=Xe("-"),o=Xe(f),s=ve(),j(e,"type","button"),j(e,"class","jse-expand-items svelte-lajpxi")},m:function(p,m){ae(p,e,m),z(e,t),z(e,i),z(e,r),z(e,o),z(e,s),a||(l=Ne(e,"click",h),a=!0)},p:function(p,m){n=p,16&m&&c!==(c=n[13].start+"")&&Dt(i,c),16&m&&f!==(f=n[13].end+"")&&Dt(o,f)},d:function(p){p&&se(e),a=!1,l()}}}function zz(n){for(var e,t,i,r,o,s,a,l,c,f,h=Zt(n[4]),p=[],m=0;m<h.length;m+=1)p[m]=ok(rk(n,h,m));return{c:function(){e=K("div"),t=K("div"),i=K("div"),r=Xe("Items "),o=Xe(n[3]),s=Xe("-"),a=Xe(n[2]),l=ve();for(var g=0;g<p.length;g+=1)p[g].c();j(i,"class","jse-text svelte-lajpxi"),j(e,"role","none"),j(e,"class","jse-collapsed-items svelte-lajpxi"),Ie(e,"jse-selected",n[5]),Sr(e,"--level",n[0].length+2)},m:function(g,v){ae(g,e,v),z(e,t),z(t,i),z(i,r),z(i,o),z(i,s),z(i,a),z(t,l);for(var b=0;b<p.length;b+=1)p[b]&&p[b].m(t,null);c||(f=Ne(e,"mousemove",qz),c=!0)},p:function(g,v){var b=Jt(v,1)[0];if(8&b&&Dt(o,g[3]),4&b&&Dt(a,g[2]),19&b){var x;for(h=Zt(g[4]),x=0;x<h.length;x+=1){var k=rk(g,h,x);p[x]?p[x].p(k,b):(p[x]=ok(k),p[x].c(),p[x].m(t,null))}for(;x<p.length;x+=1)p[x].d(1);p.length=h.length}32&b&&Ie(e,"jse-selected",g[5]),1&b&&Sr(e,"--level",g[0].length+2)},i:Ve,o:Ve,d:function(g){g&&se(e),Ri(p,g),c=!1,f()}}}function qz(n){n.stopPropagation()}function Fz(n,e,t){var i,r,o,s,a,l=e.visibleSections,c=e.sectionIndex,f=e.total,h=e.path,p=e.selection,m=e.onExpandSection,g=e.context;return n.$$set=function(v){"visibleSections"in v&&t(6,l=v.visibleSections),"sectionIndex"in v&&t(7,c=v.sectionIndex),"total"in v&&t(8,f=v.total),"path"in v&&t(0,h=v.path),"selection"in v&&t(9,p=v.selection),"onExpandSection"in v&&t(1,m=v.onExpandSection),"context"in v&&t(10,g=v.context)},n.$$.update=function(){192&n.$$.dirty&&t(11,i=l[c]),2048&n.$$.dirty&&t(3,r=i.end),448&n.$$.dirty&&t(2,o=l[c+1]?l[c+1].start:f),1545&n.$$.dirty&&t(5,s=Fu(g.getJson(),p,h.concat(String(r)))),12&n.$$.dirty&&t(4,a=function(v,b){var x={start:v,end:Math.min(Kg(v),b)},k=Math.max(Cd((v+b)/2),v),C={start:k,end:Math.min(Kg(k),b)},S=Cd(b),_=S===b?S-zu:S,E={start:Math.max(_,v),end:b},q=[x],te=C.start>=x.end&&C.end<=E.start;return te&&q.push(C),E.start>=(te?C.end:x.end)&&q.push(E),q}(r,o))},[h,m,o,r,a,s,l,c,f,p,g,i,function(v){return m(h,v)}]}var Hz=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Fz,zz,Yt,{visibleSections:6,sectionIndex:7,total:8,path:0,selection:9,onExpandSection:1,context:10},Dz),r}return ct(t)}();function Vz(n){Gt(n,"svelte-6k6355",".jse-context-menu-pointer.svelte-6k6355{position:absolute;top:calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));right:calc(-0.5 * var(--jse-context-menu-pointer-size, calc(1em + 4px)));width:var(--jse-context-menu-pointer-size, calc(1em + 4px));height:var(--jse-context-menu-pointer-size, calc(1em + 4px));padding:0;margin:0;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565));color:var(--jse-context-menu-pointer-color, var(--jse-context-menu-color, var(--jse-text-color-inverse, #fff)));border:none;box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24))}.jse-context-menu-pointer.svelte-6k6355:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}")}function Wz(n){var e,t,i,r,o;return t=new Cn({props:{data:uo}}),{c:function(){e=K("button"),Te(t.$$.fragment),j(e,"type","button"),j(e,"class","jse-context-menu-pointer svelte-6k6355"),j(e,"title",t1),Ie(e,"jse-selected",n[0])},m:function(s,a){ae(s,e,a),Me(t,e,null),i=!0,r||(o=Ne(e,"click",n[1]),r=!0)},p:function(s,a){var l=Jt(a,1)[0];(!i||1&l)&&Ie(e,"jse-selected",s[0])},i:function(s){i||(T(t.$$.fragment,s),i=!0)},o:function(s){D(t.$$.fragment,s),i=!1},d:function(s){s&&se(e),Pe(t),r=!1,o()}}}function Uz(n,e,t){var i=e.selected,r=e.onContextMenu;return n.$$set=function(o){"selected"in o&&t(0,i=o.selected),"onContextMenu"in o&&t(2,r=o.onContextMenu)},[i,function(o){for(var s=o.target;s&&s.nodeName!=="BUTTON";)s=s.parentNode;s&&r({anchor:s,left:0,top:0,width:ks,height:ws,offsetTop:2,offsetLeft:0,showTip:!0})},r]}var Ca=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Uz,Wz,Yt,{selected:0,onContextMenu:2},Vz),r}return ct(t)}();function Qz(n){Gt(n,"svelte-10xe8tv",'.jse-key.svelte-10xe8tv{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color, #1a1a1a);cursor:var(--jse-contents-cursor, pointer);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.svelte-10xe8tv:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-key.svelte-10xe8tv:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-key.jse-empty.svelte-10xe8tv{min-width:3em;outline:1px dotted var(--jse-tag-background, rgba(0, 0, 0, 0.2));-moz-outline-radius:2px}.jse-key.jse-empty.svelte-10xe8tv::after{pointer-events:none;color:var(--jse-tag-background, rgba(0, 0, 0, 0.2));content:"key"}')}function Zz(n){var e,t,i,r,o,s,a,l=[Kz,Gz],c=[];function f(h,p){return h[1]?0:1}return t=f(n),i=c[t]=l[t](n),{c:function(){e=K("div"),i.c(),j(e,"role","none"),j(e,"data-type","selectable-key"),j(e,"class",r=fi(n[6](n[0]))+" svelte-10xe8tv")},m:function(h,p){ae(h,e,p),c[t].m(e,null),o=!0,s||(a=Ne(e,"dblclick",n[5]),s=!0)},p:function(h,p){var m=t;(t=f(h))===m?c[t].p(h,p):(De(),D(c[m],1,1,function(){c[m]=null}),ze(),(i=c[t])?i.p(h,p):(i=c[t]=l[t](h)).c(),T(i,1),i.m(e,null)),(!o||1&p&&r!==(r=fi(h[6](h[0]))+" svelte-10xe8tv"))&&j(e,"class",r)},i:function(h){o||(T(i),o=!0)},o:function(h){D(i),o=!1},d:function(h){h&&se(e),c[t].d(),s=!1,a()}}}function Jz(n){var e,t;return e=new r$({props:{value:n[2].normalization.escapeValue(n[0]),shortText:!0,onChange:n[7],onCancel:n[8],onFind:n[2].onFind}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};5&r&&(o.value=i[2].normalization.escapeValue(i[0])),4&r&&(o.onFind=i[2].onFind),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Gz(n){var e,t=il(n[2].normalization.escapeValue(n[0]))+"";return{c:function(){e=Xe(t)},m:function(i,r){ae(i,e,r)},p:function(i,r){5&r&&t!==(t=il(i[2].normalization.escapeValue(i[0]))+"")&&Dt(e,t)},i:Ve,o:Ve,d:function(i){i&&se(e)}}}function Kz(n){var e,t;return e=new u$({props:{text:n[2].normalization.escapeValue(n[0]),searchResultItems:n[1]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};5&r&&(o.text=i[2].normalization.escapeValue(i[0])),2&r&&(o.searchResultItems=i[1]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function sk(n){var e,t;return e=new Ca({props:{selected:!0,onContextMenu:n[2].onContextMenu}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};4&r&&(o.onContextMenu=i[2].onContextMenu),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Xz(n){var e,t,i,r,o,s=[Jz,Zz],a=[];function l(f,h){return!f[2].readOnly&&f[4]?0:1}e=l(n),t=a[e]=s[e](n);var c=!n[2].readOnly&&n[3]&&!n[4]&&sk(n);return{c:function(){t.c(),i=ve(),c&&c.c(),r=On()},m:function(f,h){a[e].m(f,h),ae(f,i,h),c&&c.m(f,h),ae(f,r,h),o=!0},p:function(f,h){var p=Jt(h,1)[0],m=e;(e=l(f))===m?a[e].p(f,p):(De(),D(a[m],1,1,function(){a[m]=null}),ze(),(t=a[e])?t.p(f,p):(t=a[e]=s[e](f)).c(),T(t,1),t.m(i.parentNode,i)),f[2].readOnly||!f[3]||f[4]?c&&(De(),D(c,1,1,function(){c=null}),ze()):c?(c.p(f,p),28&p&&T(c,1)):((c=sk(f)).c(),T(c,1),c.m(r.parentNode,r))},i:function(f){o||(T(t),T(c),o=!0)},o:function(f){D(t),D(c),o=!1},d:function(f){f&&(se(i),se(r)),a[e].d(f),c&&c.d(f)}}}function Yz(n,e,t){var i,r,o=e.path,s=e.key,a=e.selection,l=e.searchResultItems,c=e.onUpdateKey,f=e.context;return n.$$set=function(h){"path"in h&&t(9,o=h.path),"key"in h&&t(0,s=h.key),"selection"in h&&t(10,a=h.selection),"searchResultItems"in h&&t(1,l=h.searchResultItems),"onUpdateKey"in h&&t(11,c=h.onUpdateKey),"context"in h&&t(2,f=h.context)},n.$$.update=function(){1536&n.$$.dirty&&t(3,i=!!a&&Ei(a)&&jn(a.path,o)),1032&n.$$.dirty&&t(4,r=i&&$r(a))},[s,l,f,i,r,function(h){r||f.readOnly||(h.preventDefault(),f.onSelect(po(o,!0)))},function(h){return cs("jse-key",{"jse-empty":h===""})},function(h,p){var m=c(s,f.normalization.unescapeValue(h)),g=kn(o).concat(m);f.onSelect(p===ca.nextInside?fn(g,!1):po(g,!1)),p!==ca.self&&f.focus()},function(){f.onSelect(po(o,!1)),f.focus()},o,a,c]}var eq=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Yz,Xz,Yt,{path:9,key:0,selection:10,searchResultItems:1,onUpdateKey:11,context:2},Qz),r}return ct(t)}();function ak(n,e,t){var i=n.slice();return i[8]=e[t],i}function lk(n){var e,t,i,r=[n[8].props],o=n[8].component;function s(a,l){var c={};if(l!==void 0&&1&l)c=vo(r,[el(a[8].props)]);else for(var f=0;f<r.length;f+=1)c=Dr(c,r[f]);return{props:c}}return o&&(e=ls(o,s(n))),{c:function(){e&&Te(e.$$.fragment),t=On()},m:function(a,l){e&&Me(e,a,l),ae(a,t,l),i=!0},p:function(a,l){if(1&l&&o!==(o=a[8].component)){if(e){De();var c=e;D(c.$$.fragment,1,0,function(){Pe(c,1)}),ze()}o?(Te((e=ls(o,s(a,l))).$$.fragment),T(e.$$.fragment,1),Me(e,t.parentNode,t)):e=null}else if(o){var f=1&l?vo(r,[el(a[8].props)]):{};e.$set(f)}},i:function(a){i||(e&&T(e.$$.fragment,a),i=!0)},o:function(a){e&&D(e.$$.fragment,a),i=!1},d:function(a){a&&se(t),e&&Pe(e,a)}}}function ck(n){var e,t,i=n[8].component,r=lk(n);return{c:function(){r.c(),e=On()},m:function(o,s){r.m(o,s),ae(o,e,s),t=!0},p:function(o,s){1&s&&Yt(i,i=o[8].component)?(De(),D(r,1,1,Ve),ze(),(r=lk(o)).c(),T(r,1),r.m(e.parentNode,e)):r.p(o,s)},i:function(o){t||(T(r),t=!0)},o:function(o){D(r),t=!1},d:function(o){o&&se(e),r.d(o)}}}function tq(n){for(var e,t,i=Zt(n[0]),r=[],o=0;o<i.length;o+=1)r[o]=ck(ak(n,i,o));var s=function(a){return D(r[a],1,1,function(){r[a]=null})};return{c:function(){for(var a=0;a<r.length;a+=1)r[a].c();e=On()},m:function(a,l){for(var c=0;c<r.length;c+=1)r[c]&&r[c].m(a,l);ae(a,e,l),t=!0},p:function(a,l){var c=Jt(l,1)[0];if(1&c){var f;for(i=Zt(a[0]),f=0;f<i.length;f+=1){var h=ak(a,i,f);r[f]?(r[f].p(h,c),T(r[f],1)):(r[f]=ck(h),r[f].c(),T(r[f],1),r[f].m(e.parentNode,e))}for(De(),f=i.length;f<r.length;f+=1)s(f);ze()}},i:function(a){if(!t){for(var l=0;l<i.length;l+=1)T(r[l]);t=!0}},o:function(a){r=r.filter(Boolean);for(var l=0;l<r.length;l+=1)D(r[l]);t=!1},d:function(a){a&&se(e),Ri(r,a)}}}function nq(n,e,t){var i,r,o=e.path,s=e.value,a=e.context,l=e.enforceString,c=e.selection,f=e.searchResultItems;return n.$$set=function(h){"path"in h&&t(1,o=h.path),"value"in h&&t(2,s=h.value),"context"in h&&t(3,a=h.context),"enforceString"in h&&t(4,l=h.enforceString),"selection"in h&&t(5,c=h.selection),"searchResultItems"in h&&t(6,f=h.searchResultItems)},n.$$.update=function(){32&n.$$.dirty&&t(7,i=_n(c)&&$r(c)),254&n.$$.dirty&&t(0,r=a.onRenderValue({path:o,value:s,readOnly:a.readOnly,enforceString:l,isEditing:i,parser:a.parser,normalization:a.normalization,selection:c,searchResultItems:f,onPatch:a.onPatch,onPasteJson:a.onPasteJson,onSelect:a.onSelect,onFind:a.onFind,findNextInside:a.findNextInside,focus:a.focus}))},[r,o,s,a,l,c,f,i]}var iq=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,nq,tq,Yt,{path:1,value:2,context:3,enforceString:4,selection:5,searchResultItems:6}),r}return ct(t)}(),rq=iq,Ki={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function Om(n){var e=n.json,t=n.documentState,i=n.deltaY,r=n.items;if(!t.selection)return{operations:void 0,updatedSelection:null,offset:0};var o=t.selection,s=i<0?function(h){for(var p=h.json,m=h.items,g=h.selection,v=h.deltaY,b=js(p,g),x=m.findIndex(function(q){return jn(q.path,b)}),k=function(){var q;return(q=m[C-1])===null||q===void 0?void 0:q.height},C=x,S=0;k()!==void 0&&Math.abs(v)>S+k()/2;)S+=k(),C-=1;var _=m[C].path,E=C-x;return C!==x&&m[C]!==void 0?{beforePath:_,offset:E}:void 0}({json:e,selection:o,deltaY:i,items:r}):function(h){for(var p,m=h.json,g=h.items,v=h.selection,b=h.deltaY,x=fa(m,v),k=g.findIndex(function(U){return jn(U.path,x)}),C=0,S=k,_=function(){var U;return(U=g[S+1])===null||U===void 0?void 0:U.height};_()!==void 0&&Math.abs(b)>C+_()/2;)C+=_(),S+=1;var E=kn(x),q=Ct(m,E),te=Array.isArray(q),G=(p=g[te?S:S+1])===null||p===void 0?void 0:p.path,I=S-k;return G?{beforePath:G,offset:I}:{append:!0,offset:I}}({json:e,selection:o,deltaY:i,items:r});if(!s||s.offset===0)return{operations:void 0,updatedSelection:null,offset:0};var a=function(h,p,m){if(!p)return[];var g="beforePath"in m?m.beforePath:void 0,v="append"in m?m.append:void 0,b=kn(At(p)),x=Ct(h,b);if(!(v||g&&xa(g,b)&&g.length>b.length))return[];var k=js(h,p),C=fa(h,p),S=yn(k),_=yn(C),E=g?g[b.length]:void 0;if(!Di(x)){if(hi(x)){var q=yr(S),te=yr(_),G=E!==void 0?yr(E):x.length;return a8(te-q+1,G<q?function(F){return{op:"move",from:at(b.concat(String(q+F))),path:at(b.concat(String(G+F)))}}:function(){return{op:"move",from:at(b.concat(String(q))),path:at(b.concat(String(G)))}})}throw new Error("Cannot create move operations: parent must be an Object or Array")}var I=Object.keys(x),U=I.indexOf(S),B=I.indexOf(_),ee=v?I.length:E!==void 0?I.indexOf(E):-1;return U!==-1&&B!==-1&&ee!==-1?ee>U?[].concat(ln(I.slice(U,B+1)),ln(I.slice(ee,I.length))).map(function(F){return rl(b,F)}):[].concat(ln(I.slice(ee,U)),ln(I.slice(B+1,I.length))).map(function(F){return rl(b,F)}):[]}(e,o,s),l=kn(js(e,o)),c=Ct(e,l);if(Array.isArray(c)){var f=function(h){var p,m,g=h.items,v=h.json,b=h.selection,x=h.offset,k=js(v,b),C=fa(v,b),S=g.findIndex(function(te){return jn(te.path,k)}),_=g.findIndex(function(te){return jn(te.path,C)}),E=(p=g[S+x])===null||p===void 0?void 0:p.path,q=(m=g[_+x])===null||m===void 0?void 0:m.path;return wr(E,q)}({items:r,json:e,selection:o,offset:s.offset});return{operations:a,updatedSelection:f,offset:s.offset}}return{operations:a,updatedSelection:null,offset:s.offset}}function qo(n,e){return function(t,i){if(t){for(var r={},o=0,s=Object.keys(t);o<s.length;o++){var a=s[o];i(a,t[a])&&(r[a]=t[a])}return Object.keys(r).length>0?r:void 0}}(n,function(t){return qd(t,e)})}function oq(n){Gt(n,"svelte-g0bfge",'button.jse-validation-error.svelte-g0bfge{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;padding:0;margin:0;vertical-align:top;display:inline-flex;color:var(--jse-warning-color, #fdc539)}')}function sq(n){var e,t,i,r,o,s;return t=new Cn({props:{data:ul}}),{c:function(){e=K("button"),Te(t.$$.fragment),j(e,"type","button"),j(e,"class","jse-validation-error svelte-g0bfge")},m:function(a,l){ae(a,e,l),Me(t,e,null),r=!0,o||(s=[Ne(e,"click",function(){ir(n[0])&&n[0].apply(this,arguments)}),or(i=f1.call(null,e,ke({text:n[1]},n[2])))],o=!0)},p:function(a,l){var c=Jt(l,1)[0];n=a,i&&ir(i.update)&&2&c&&i.update.call(null,ke({text:n[1]},n[2]))},i:function(a){r||(T(t.$$.fragment,a),r=!0)},o:function(a){D(t.$$.fragment,a),r=!1},d:function(a){a&&se(e),Pe(t),o=!1,Yn(s)}}}function aq(n,e,t){var i,r=sr("absolute-popup"),o=e.validationError,s=e.onExpand;return n.$$set=function(a){"validationError"in a&&t(3,o=a.validationError),"onExpand"in a&&t(0,s=a.onExpand)},n.$$.update=function(){8&n.$$.dirty&&t(1,i=zD(o)&&o.isChildError?"Contains invalid data":o.message)},[s,i,r,o]}var Mc=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,aq,sq,Gi,{validationError:3,onExpand:0},oq),r}return ct(t)}();function lq(n){Gt(n,"svelte-1koa14y",'.jse-json-node.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{position:relative;color:var(--jse-text-color, #4d4d4d)}.jse-json-node.jse-root.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-1koa14y>.jse-header-outer.svelte-1koa14y .jse-context-menu-pointer,.jse-json-node.jse-root.svelte-1koa14y>.jse-contents-outer.svelte-1koa14y>.jse-contents.svelte-1koa14y .jse-context-menu-pointer{top:0;right:calc(-2px - var(--jse-context-menu-pointer-size, calc(1em + 4px)))}.jse-json-node.jse-root.svelte-1koa14y>.jse-contents-outer.svelte-1koa14y>.jse-contents.svelte-1koa14y.svelte-1koa14y{padding-left:0}.jse-json-node.svelte-1koa14y .jse-props.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-items.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{position:relative}.jse-json-node.svelte-1koa14y .jse-header-outer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-footer-outer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)))}.jse-json-node.svelte-1koa14y .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{position:relative}.jse-json-node.svelte-1koa14y .jse-header .jse-meta.svelte-1koa14y>.jse-meta-inner.svelte-1koa14y.svelte-1koa14y{display:flex;justify-content:center}.jse-json-node.svelte-1koa14y .jse-contents-outer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)))}.jse-json-node.svelte-1koa14y .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;flex-direction:row;align-items:start}.jse-json-node.svelte-1koa14y .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{padding-left:var(--jse-indent-size, calc(1em + 4px))}.jse-json-node.svelte-1koa14y .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:inline-flex;padding-left:calc(var(--jse-indent-size, calc(1em + 4px)) + 5px)}.jse-json-node.svelte-1koa14y .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.svelte-1koa14y .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{background:var(--jse-contents-background-color, transparent)}.jse-json-node.svelte-1koa14y .jse-insert-selection-area.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{visibility:hidden;padding:0 calc(0.5 * var(--jse-padding, 10px));flex:1}.jse-json-node.svelte-1koa14y .jse-insert-selection-area.jse-inside.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:inline-flex;align-items:center}.jse-json-node.svelte-1koa14y .jse-insert-selection-area.jse-after.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;align-items:flex-end}.jse-json-node.svelte-1koa14y .jse-context-menu-pointer-anchor.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{position:relative}.jse-json-node.svelte-1koa14y .jse-insert-area.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{display:flex;position:relative;z-index:1;margin-left:calc(var(--level) * var(--jse-indent-size, calc(1em + 4px)));max-width:250px;min-width:100px;height:0;margin-right:calc(0.5 * var(--jse-padding, 10px));outline:1px solid}.jse-json-node.svelte-1koa14y .jse-insert-area.svelte-1koa14y .jse-context-menu-pointer{right:-1px;background:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.jse-json-node.svelte-1koa14y .jse-insert-area.jse-hovered.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{outline-color:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.jse-json-node.svelte-1koa14y:hover>.jse-contents-outer .jse-insert-selection-area.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y:not(.jse-selected),.jse-json-node.svelte-1koa14y .jse-header-outer.svelte-1koa14y:hover>.jse-insert-selection-area.svelte-1koa14y.svelte-1koa14y:not(.jse-selected),.jse-json-node.svelte-1koa14y .jse-footer-outer:hover .jse-insert-selection-area.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y:not(.jse-selected){visibility:visible}.jse-json-node.jse-hovered.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-hovered.svelte-1koa14y .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-json-node.jse-selected.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected.svelte-1koa14y .jse-key,.jse-json-node.jse-selected.svelte-1koa14y .jse-value{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected.svelte-1koa14y .jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{background:var(--jse-selection-background-color, #d3d3d3)}.jse-json-node.jse-selected-key.svelte-1koa14y>.jse-contents-outer.svelte-1koa14y>.jse-contents.svelte-1koa14y>.jse-identifier>.jse-key,.jse-json-node.jse-selected-key.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-identifier>.jse-key{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-contents-outer.svelte-1koa14y>.jse-contents.svelte-1koa14y>.jse-value{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.svelte-1koa14y .jse-collapsed-items.jse-selected,.jse-json-node.jse-selected.svelte-1koa14y .jse-collapsed-items,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-collapsed-items{background-color:var(--jse-selection-background-color, #d3d3d3);--jse-collapsed-items-background-color:var(--jse-collapsed-items-selected-background-color, #c2c2c2)}.jse-json-node.jse-selected-value.svelte-1koa14y .jse-meta.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-footer-outer.svelte-1koa14y>.jse-footer.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-footer.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{background:var(--jse-selection-background-color, #d3d3d3)}.jse-json-node.jse-selected-value.svelte-1koa14y .jse-meta.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-meta.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-header-outer.svelte-1koa14y>.jse-header.svelte-1koa14y>.jse-meta.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-footer-outer.svelte-1koa14y>.jse-footer.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y>.jse-footer-outer.svelte-1koa14y>.jse-footer.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-contents.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-header.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-footer.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-footer.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-expand.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-props .jse-expand.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-contents.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-header.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-footer.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-footer.svelte-1koa14y .jse-value,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-expand.svelte-1koa14y .jse-key,.jse-json-node.jse-selected-value.svelte-1koa14y .jse-items .jse-expand.svelte-1koa14y .jse-value{background:var(--jse-selection-background-color, #d3d3d3);cursor:var(--jse-contents-selected-cursor, grab)}.jse-json-node.jse-readonly.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{--jse-contents-selected-cursor:pointer}.jse-json-node.svelte-1koa14y .jse-insert-area.jse-selected.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{outline-color:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}.jse-json-node.svelte-1koa14y .jse-insert-area.jse-selected.svelte-1koa14y .jse-context-menu-pointer{background:var(--jse-context-menu-pointer-background, var(--jse-context-menu-background, #656565))}.jse-json-node.svelte-1koa14y .jse-insert-area.jse-selected.svelte-1koa14y .jse-context-menu-pointer:hover{background:var(--jse-context-menu-pointer-background-highlight, var(--jse-context-menu-background-highlight, #7a7a7a))}.jse-main:not(.jse-focus) .jse-json-node.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{--jse-selection-background-color:var(--jse-selection-background-inactive-color, #e8e8e8);--jse-context-menu-pointer-background:var(--jse-context-menu-pointer-hover-background, #b2b2b2)}.jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{width:var(--jse-indent-size, calc(1em + 4px));padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38));font-size:var(--jse-font-size-mono, 14px);height:var(--jse-line-height, calc(1em + 4px))}.jse-expand.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y:hover{opacity:0.8}.jse-meta.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-separator.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-index.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y,.jse-bracket.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{vertical-align:top;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-index.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{padding:0 calc(0.5 * var(--jse-padding, 10px))}.jse-bracket.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{padding:0 2px}.jse-bracket.jse-expanded.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{padding-right:var(--jse-padding, 10px)}.jse-tag.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{border:none;font-size:80%;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tag-background, rgba(0, 0, 0, 0.2));border-radius:2px;cursor:pointer;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y:hover{opacity:0.8}.jse-tag.jse-expanded.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{opacity:0.7;cursor:inherit}.jse-identifier.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y.svelte-1koa14y{vertical-align:top;position:relative}')}var cq=function(n){return{}},uk=function(n){return{}};function fk(n,e,t){var i=n.slice();return i[52]=e[t],i}var uq=function(n){return{}},hk=function(n){return{}};function dk(n,e,t){var i=n.slice();return i[46]=e[t],i[48]=t,i}function pk(n,e,t){var i=n.slice();return i[49]=e[t],i}var fq=function(n){return{}},mk=function(n){return{}};function hq(n){var e,t,i,r,o,s,a,l,c,f=!n[8].readOnly&&n[16]&&n[7]&&(_n(n[7])||Wn(n[7]))&&!$r(n[7])&&jn(At(n[7]),n[1]),h=n[33].identifier,p=_i(h,n,n[34],uk),m=!n[17]&&gk();o=new rq({props:{path:n[1],value:n[0],enforceString:n[13]||!1,selection:n[16]?n[7]:null,searchResultItems:Dw(n[6],n[9]),context:n[8]}});var g=f&&vk(n),v=n[15]&&yk(n),b=!n[17]&&bk(n);return{c:function(){e=K("div"),t=K("div"),p&&p.c(),i=ve(),m&&m.c(),r=ve(),Te(o.$$.fragment),s=ve(),g&&g.c(),a=ve(),v&&v.c(),l=ve(),b&&b.c(),j(t,"class","jse-contents svelte-1koa14y"),j(e,"class","jse-contents-outer svelte-1koa14y")},m:function(x,k){ae(x,e,k),z(e,t),p&&p.m(t,null),z(t,i),m&&m.m(t,null),z(t,r),Me(o,t,null),z(t,s),g&&g.m(t,null),z(e,a),v&&v.m(e,null),z(e,l),b&&b.m(e,null),c=!0},p:function(x,k){p&&p.p&&(!c||8&k[1])&&Si(p,h,x,x[34],c?ji(h,x[34],k,cq):Ci(x[34]),uk),x[17]?m&&(m.d(1),m=null):m||((m=gk()).c(),m.m(t,r));var C={};2&k[0]&&(C.path=x[1]),1&k[0]&&(C.value=x[0]),8192&k[0]&&(C.enforceString=x[13]||!1),65664&k[0]&&(C.selection=x[16]?x[7]:null),576&k[0]&&(C.searchResultItems=Dw(x[6],x[9])),256&k[0]&&(C.context=x[8]),o.$set(C),65922&k[0]&&(f=!x[8].readOnly&&x[16]&&x[7]&&(_n(x[7])||Wn(x[7]))&&!$r(x[7])&&jn(At(x[7]),x[1])),f?g?(g.p(x,k),65922&k[0]&&T(g,1)):((g=vk(x)).c(),T(g,1),g.m(t,null)):g&&(De(),D(g,1,1,function(){g=null}),ze()),x[15]?v?(v.p(x,k),32768&k[0]&&T(v,1)):((v=yk(x)).c(),T(v,1),v.m(e,l)):v&&(De(),D(v,1,1,function(){v=null}),ze()),x[17]?b&&(b.d(1),b=null):b?b.p(x,k):((b=bk(x)).c(),b.m(e,null))},i:function(x){c||(T(p,x),T(o.$$.fragment,x),T(g),T(v),c=!0)},o:function(x){D(p,x),D(o.$$.fragment,x),D(g),D(v),c=!1},d:function(x){x&&se(e),p&&p.d(x),m&&m.d(),Pe(o),g&&g.d(),v&&v.d(),b&&b.d()}}}function dq(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C=!n[8].readOnly&&n[16]&&n[7]&&(_n(n[7])||Wn(n[7]))&&!$r(n[7])&&jn(At(n[7]),n[1]),S=[gq,mq],_=[];function E(N,P){return N[12]?0:1}r=E(n),o=_[r]=S[r](n);var q=n[33].identifier,te=_i(q,n,n[34],hk),G=!n[17]&&xk();function I(N,P){return N[12]?yq:vq}var U=I(n),B=U(n),ee=C&&wk(n),F=n[15]&&(!n[12]||!n[15].isChildError)&&kk(n);function ne(N,P){return N[12]?xq:N[17]?void 0:bq}var re=ne(n),R=re&&re(n),$=n[12]&&_k(n);return{c:function(){e=K("div"),t=K("div"),i=K("button"),o.c(),s=ve(),te&&te.c(),a=ve(),G&&G.c(),l=ve(),c=K("div"),f=K("div"),B.c(),h=ve(),ee&&ee.c(),p=ve(),F&&F.c(),m=ve(),R&&R.c(),g=ve(),$&&$.c(),v=On(),j(i,"type","button"),j(i,"class","jse-expand svelte-1koa14y"),j(i,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),j(f,"class","jse-meta-inner svelte-1koa14y"),j(c,"class","jse-meta svelte-1koa14y"),j(c,"data-type","selectable-value"),j(t,"class","jse-header svelte-1koa14y"),j(e,"class","jse-header-outer svelte-1koa14y")},m:function(N,P){ae(N,e,P),z(e,t),z(t,i),_[r].m(i,null),z(t,s),te&&te.m(t,null),z(t,a),G&&G.m(t,null),z(t,l),z(t,c),z(c,f),B.m(f,null),z(t,h),ee&&ee.m(t,null),z(e,p),F&&F.m(e,null),z(e,m),R&&R.m(e,null),ae(N,g,P),$&&$.m(N,P),ae(N,v,P),b=!0,x||(k=Ne(i,"click",n[20]),x=!0)},p:function(N,P){var A=r;(r=E(N))!==A&&(De(),D(_[A],1,1,function(){_[A]=null}),ze(),(o=_[r])||(o=_[r]=S[r](N)).c(),T(o,1),o.m(i,null)),te&&te.p&&(!b||8&P[1])&&Si(te,q,N,N[34],b?ji(q,N[34],P,uq):Ci(N[34]),hk),N[17]?G&&(G.d(1),G=null):G||((G=xk()).c(),G.m(t,l)),U===(U=I(N))&&B?B.p(N,P):(B.d(1),(B=U(N))&&(B.c(),B.m(f,null))),65922&P[0]&&(C=!N[8].readOnly&&N[16]&&N[7]&&(_n(N[7])||Wn(N[7]))&&!$r(N[7])&&jn(At(N[7]),N[1])),C?ee?(ee.p(N,P),65922&P[0]&&T(ee,1)):((ee=wk(N)).c(),T(ee,1),ee.m(t,null)):ee&&(De(),D(ee,1,1,function(){ee=null}),ze()),!N[15]||N[12]&&N[15].isChildError?F&&(De(),D(F,1,1,function(){F=null}),ze()):F?(F.p(N,P),36864&P[0]&&T(F,1)):((F=kk(N)).c(),T(F,1),F.m(e,m)),re===(re=ne(N))&&R?R.p(N,P):(R&&R.d(1),(R=re&&re(N))&&(R.c(),R.m(e,null))),N[12]?$?($.p(N,P),4096&P[0]&&T($,1)):(($=_k(N)).c(),T($,1),$.m(v.parentNode,v)):$&&(De(),D($,1,1,function(){$=null}),ze())},i:function(N){b||(T(o),T(te,N),T(ee),T(F),T($),b=!0)},o:function(N){D(o),D(te,N),D(ee),D(F),D($),b=!1},d:function(N){N&&(se(e),se(g),se(v)),_[r].d(),te&&te.d(N),G&&G.d(),B.d(),ee&&ee.d(),F&&F.d(),R&&R.d(),$&&$.d(N),x=!1,k()}}}function pq(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C=!n[8].readOnly&&n[16]&&n[7]&&(_n(n[7])||Wn(n[7]))&&!$r(n[7])&&jn(At(n[7]),n[1]),S=[_q,kq],_=[];function E(N,P){return N[12]?0:1}r=E(n),o=_[r]=S[r](n);var q=n[33].identifier,te=_i(q,n,n[34],mk),G=!n[17]&&Ok();function I(N,P){return N[12]?Sq:jq}var U=I(n),B=U(n),ee=C&&$k(n),F=n[15]&&(!n[12]||!n[15].isChildError)&&Mk(n);function ne(N,P){return N[12]?Oq:Cq}var re=ne(n),R=re(n),$=n[12]&&Pk(n);return{c:function(){e=K("div"),t=K("div"),i=K("button"),o.c(),s=ve(),te&&te.c(),a=ve(),G&&G.c(),l=ve(),c=K("div"),f=K("div"),B.c(),h=ve(),ee&&ee.c(),p=ve(),F&&F.c(),m=ve(),R.c(),g=ve(),$&&$.c(),v=On(),j(i,"type","button"),j(i,"class","jse-expand svelte-1koa14y"),j(i,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),j(f,"class","jse-meta-inner svelte-1koa14y"),j(f,"data-type","selectable-value"),j(c,"class","jse-meta svelte-1koa14y"),j(t,"class","jse-header svelte-1koa14y"),j(e,"class","jse-header-outer svelte-1koa14y")},m:function(N,P){ae(N,e,P),z(e,t),z(t,i),_[r].m(i,null),z(t,s),te&&te.m(t,null),z(t,a),G&&G.m(t,null),z(t,l),z(t,c),z(c,f),B.m(f,null),z(t,h),ee&&ee.m(t,null),z(e,p),F&&F.m(e,null),z(e,m),R.m(e,null),ae(N,g,P),$&&$.m(N,P),ae(N,v,P),b=!0,x||(k=Ne(i,"click",n[20]),x=!0)},p:function(N,P){var A=r;(r=E(N))!==A&&(De(),D(_[A],1,1,function(){_[A]=null}),ze(),(o=_[r])||(o=_[r]=S[r](N)).c(),T(o,1),o.m(i,null)),te&&te.p&&(!b||8&P[1])&&Si(te,q,N,N[34],b?ji(q,N[34],P,fq):Ci(N[34]),mk),N[17]?G&&(G.d(1),G=null):G||((G=Ok()).c(),G.m(t,l)),U===(U=I(N))&&B?B.p(N,P):(B.d(1),(B=U(N))&&(B.c(),B.m(f,null))),65922&P[0]&&(C=!N[8].readOnly&&N[16]&&N[7]&&(_n(N[7])||Wn(N[7]))&&!$r(N[7])&&jn(At(N[7]),N[1])),C?ee?(ee.p(N,P),65922&P[0]&&T(ee,1)):((ee=$k(N)).c(),T(ee,1),ee.m(t,null)):ee&&(De(),D(ee,1,1,function(){ee=null}),ze()),!N[15]||N[12]&&N[15].isChildError?F&&(De(),D(F,1,1,function(){F=null}),ze()):F?(F.p(N,P),36864&P[0]&&T(F,1)):((F=Mk(N)).c(),T(F,1),F.m(e,m)),re===(re=ne(N))&&R?R.p(N,P):(R.d(1),(R=re(N))&&(R.c(),R.m(e,null))),N[12]?$?($.p(N,P),4096&P[0]&&T($,1)):(($=Pk(N)).c(),T($,1),$.m(v.parentNode,v)):$&&(De(),D($,1,1,function(){$=null}),ze())},i:function(N){b||(T(o),T(te,N),T(ee),T(F),T($),b=!0)},o:function(N){D(o),D(te,N),D(ee),D(F),D($),b=!1},d:function(N){N&&(se(e),se(g),se(v)),_[r].d(),te&&te.d(N),G&&G.d(),B.d(),ee&&ee.d(),F&&F.d(),R.d(),$&&$.d(N),x=!1,k()}}}function gk(n){var e;return{c:function(){(e=K("div")).textContent=":",j(e,"class","jse-separator svelte-1koa14y")},m:function(t,i){ae(t,e,i)},d:function(t){t&&se(e)}}}function vk(n){var e,t,i;return t=new Ca({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-context-menu-pointer-anchor svelte-1koa14y")},m:function(r,o){ae(r,e,o),Me(t,e,null),i=!0},p:function(r,o){var s={};256&o[0]&&(s.onContextMenu=r[8].onContextMenu),t.$set(s)},i:function(r){i||(T(t.$$.fragment,r),i=!0)},o:function(r){D(t.$$.fragment,r),i=!1},d:function(r){r&&se(e),Pe(t)}}}function yk(n){var e,t;return e=new Mc({props:{validationError:n[15],onExpand:n[21]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};32768&r[0]&&(o.validationError=i[15]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function bk(n){var e,t,i;return{c:function(){j(e=K("div"),"role","none"),j(e,"class","jse-insert-selection-area jse-after svelte-1koa14y"),j(e,"data-type","insert-selection-area-after")},m:function(r,o){ae(r,e,o),t||(i=Ne(e,"click",n[29]),t=!0)},p:Ve,d:function(r){r&&se(e),t=!1,i()}}}function mq(n){var e,t;return e=new Cn({props:{data:ia}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function gq(n){var e,t;return e=new Cn({props:{data:uo}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function xk(n){var e;return{c:function(){(e=K("div")).textContent=":",j(e,"class","jse-separator svelte-1koa14y")},m:function(t,i){ae(t,e,i)},d:function(t){t&&se(e)}}}function vq(n){var e,t,i,r,o,s,a,l,c,f,h=Object.keys(n[0]).length+"",p=Object.keys(n[0]).length===1?"prop":"props";return{c:function(){(e=K("div")).textContent="{",t=ve(),i=K("button"),r=Xe(h),o=ve(),s=Xe(p),a=ve(),(l=K("div")).textContent="}",j(e,"class","jse-bracket svelte-1koa14y"),j(i,"type","button"),j(i,"class","jse-tag svelte-1koa14y"),j(l,"class","jse-bracket svelte-1koa14y")},m:function(m,g){ae(m,e,g),ae(m,t,g),ae(m,i,g),z(i,r),z(i,o),z(i,s),ae(m,a,g),ae(m,l,g),c||(f=Ne(i,"click",n[21]),c=!0)},p:function(m,g){1&g[0]&&h!==(h=Object.keys(m[0]).length+"")&&Dt(r,h),1&g[0]&&p!==(p=Object.keys(m[0]).length===1?"prop":"props")&&Dt(s,p)},d:function(m){m&&(se(e),se(t),se(i),se(a),se(l)),c=!1,f()}}}function yq(n){var e;return{c:function(){(e=K("div")).textContent="{",j(e,"class","jse-bracket jse-expanded svelte-1koa14y")},m:function(t,i){ae(t,e,i)},p:Ve,d:function(t){t&&se(e)}}}function wk(n){var e,t,i;return t=new Ca({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-context-menu-pointer-anchor svelte-1koa14y")},m:function(r,o){ae(r,e,o),Me(t,e,null),i=!0},p:function(r,o){var s={};256&o[0]&&(s.onContextMenu=r[8].onContextMenu),t.$set(s)},i:function(r){i||(T(t.$$.fragment,r),i=!0)},o:function(r){D(t.$$.fragment,r),i=!1},d:function(r){r&&se(e),Pe(t)}}}function kk(n){var e,t;return e=new Mc({props:{validationError:n[15],onExpand:n[21]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};32768&r[0]&&(o.validationError=i[15]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function bq(n){var e,t,i;return{c:function(){j(e=K("div"),"role","none"),j(e,"class","jse-insert-selection-area jse-after svelte-1koa14y"),j(e,"data-type","insert-selection-area-after")},m:function(r,o){ae(r,e,o),t||(i=Ne(e,"click",n[29]),t=!0)},p:Ve,d:function(r){r&&se(e),t=!1,i()}}}function xq(n){var e,t,i;return{c:function(){j(e=K("div"),"role","none"),j(e,"class","jse-insert-selection-area jse-inside svelte-1koa14y"),j(e,"data-type","insert-selection-area-inside")},m:function(r,o){ae(r,e,o),t||(i=Ne(e,"click",n[28]),t=!0)},p:Ve,d:function(r){r&&se(e),t=!1,i()}}}function _k(n){for(var e,t,i,r,o,s,a,l=!n[8].readOnly&&(n[10]===Ns||n[16]&&Li(n[7])),c=l&&jk(n),f=Zt(n[18](n[1],n[0],n[2],n[3],n[4],n[5],n[6],n[7],n[11])),h=[],p=0;p<f.length;p+=1)h[p]=Sk(fk(n,f,p));var m=function(v){return D(h[v],1,1,function(){h[v]=null})},g=!n[17]&&Ck(n);return{c:function(){e=K("div"),c&&c.c(),t=ve();for(var v=0;v<h.length;v+=1)h[v].c();i=ve(),r=K("div"),(o=K("div")).innerHTML='<div class="jse-bracket svelte-1koa14y">}</div>',s=ve(),g&&g.c(),j(e,"class","jse-props svelte-1koa14y"),j(o,"data-type","selectable-value"),j(o,"class","jse-footer svelte-1koa14y"),j(r,"class","jse-footer-outer svelte-1koa14y")},m:function(v,b){ae(v,e,b),c&&c.m(e,null),z(e,t);for(var x=0;x<h.length;x+=1)h[x]&&h[x].m(e,null);ae(v,i,b),ae(v,r,b),z(r,o),z(r,s),g&&g.m(r,null),a=!0},p:function(v,b){if(66944&b[0]&&(l=!v[8].readOnly&&(v[10]===Ns||v[16]&&Li(v[7]))),l?c?(c.p(v,b),66944&b[0]&&T(c,1)):((c=jk(v)).c(),T(c,1),c.m(e,t)):c&&(De(),D(c,1,1,function(){c=null}),ze()),38013439&b[0]){var x;for(f=Zt(v[18](v[1],v[0],v[2],v[3],v[4],v[5],v[6],v[7],v[11])),x=0;x<f.length;x+=1){var k=fk(v,f,x);h[x]?(h[x].p(k,b),T(h[x],1)):(h[x]=Sk(k),h[x].c(),T(h[x],1),h[x].m(e,null))}for(De(),x=f.length;x<h.length;x+=1)m(x);ze()}v[17]?g&&(g.d(1),g=null):g?g.p(v,b):((g=Ck(v)).c(),g.m(r,null))},i:function(v){if(!a){T(c);for(var b=0;b<f.length;b+=1)T(h[b]);a=!0}},o:function(v){D(c),h=h.filter(Boolean);for(var b=0;b<h.length;b+=1)D(h[b]);a=!1},d:function(v){v&&(se(e),se(i),se(r)),c&&c.d(),Ri(h,v),g&&g.d()}}}function jk(n){var e,t,i;return t=new Ca({props:{selected:n[16]&&Li(n[7]),onContextMenu:n[30]}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-insert-area jse-inside svelte-1koa14y"),j(e,"data-type","insert-selection-area-inside"),j(e,"title",e1),Ie(e,"jse-hovered",n[10]===Ns),Ie(e,"jse-selected",n[16]&&Li(n[7])),Sr(e,"--level",n[1].length+1)},m:function(r,o){ae(r,e,o),Me(t,e,null),i=!0},p:function(r,o){var s={};65664&o[0]&&(s.selected=r[16]&&Li(r[7])),t.$set(s),(!i||1024&o[0])&&Ie(e,"jse-hovered",r[10]===Ns),(!i||65664&o[0])&&Ie(e,"jse-selected",r[16]&&Li(r[7])),2&o[0]&&Sr(e,"--level",r[1].length+1)},i:function(r){i||(T(t.$$.fragment,r),i=!0)},o:function(r){D(t.$$.fragment,r),i=!1},d:function(r){r&&se(e),Pe(t)}}}function wq(n){var e,t,i,r;return t=new eq({props:{path:n[52].path,key:n[52].key,selection:n[52].selection,searchResultItems:n[52].keySearchResultItemsMap,context:n[8],onUpdateKey:n[22]}}),{c:function(){e=K("div"),Te(t.$$.fragment),i=ve(),j(e,"slot","identifier"),j(e,"class","jse-identifier svelte-1koa14y")},m:function(o,s){ae(o,e,s),Me(t,e,null),z(e,i),r=!0},p:function(o,s){var a={};2303&s[0]&&(a.path=o[52].path),2303&s[0]&&(a.key=o[52].key),2303&s[0]&&(a.selection=o[52].selection),2303&s[0]&&(a.searchResultItems=o[52].keySearchResultItemsMap),256&s[0]&&(a.context=o[8]),t.$set(a)},i:function(o){r||(T(t.$$.fragment,o),r=!0)},o:function(o){D(t.$$.fragment,o),r=!1},d:function(o){o&&se(e),Pe(t)}}}function Sk(n){var e,t;return e=new x1({props:{value:n[52].value,path:n[52].path,expandedMap:n[52].expandedMap,enforceStringMap:n[52].enforceStringMap,visibleSectionsMap:n[52].visibleSectionsMap,validationErrorsMap:n[52].validationErrorsMap,searchResultItemsMap:n[52].valueSearchResultItemsMap,selection:n[52].selection,context:n[8],onDragSelectionStart:n[25],$$slots:{identifier:[wq]},$$scope:{ctx:n}}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};2303&r[0]&&(o.value=i[52].value),2303&r[0]&&(o.path=i[52].path),2303&r[0]&&(o.expandedMap=i[52].expandedMap),2303&r[0]&&(o.enforceStringMap=i[52].enforceStringMap),2303&r[0]&&(o.visibleSectionsMap=i[52].visibleSectionsMap),2303&r[0]&&(o.validationErrorsMap=i[52].validationErrorsMap),2303&r[0]&&(o.searchResultItemsMap=i[52].valueSearchResultItemsMap),2303&r[0]&&(o.selection=i[52].selection),256&r[0]&&(o.context=i[8]),2559&r[0]|8&r[1]&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Ck(n){var e,t,i;return{c:function(){j(e=K("div"),"role","none"),j(e,"class","jse-insert-selection-area jse-after svelte-1koa14y"),j(e,"data-type","insert-selection-area-after")},m:function(r,o){ae(r,e,o),t||(i=Ne(e,"click",n[29]),t=!0)},p:Ve,d:function(r){r&&se(e),t=!1,i()}}}function kq(n){var e,t;return e=new Cn({props:{data:ia}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function _q(n){var e,t;return e=new Cn({props:{data:uo}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Ok(n){var e;return{c:function(){(e=K("div")).textContent=":",j(e,"class","jse-separator svelte-1koa14y")},m:function(t,i){ae(t,e,i)},d:function(t){t&&se(e)}}}function jq(n){var e,t,i,r,o,s,a,l,c,f,h=n[0].length+"",p=n[0].length===1?"item":"items";return{c:function(){(e=K("div")).textContent="[",t=ve(),i=K("button"),r=Xe(h),o=ve(),s=Xe(p),a=ve(),(l=K("div")).textContent="]",j(e,"class","jse-bracket svelte-1koa14y"),j(i,"type","button"),j(i,"class","jse-tag svelte-1koa14y"),j(l,"class","jse-bracket svelte-1koa14y")},m:function(m,g){ae(m,e,g),ae(m,t,g),ae(m,i,g),z(i,r),z(i,o),z(i,s),ae(m,a,g),ae(m,l,g),c||(f=Ne(i,"click",n[21]),c=!0)},p:function(m,g){1&g[0]&&h!==(h=m[0].length+"")&&Dt(r,h),1&g[0]&&p!==(p=m[0].length===1?"item":"items")&&Dt(s,p)},d:function(m){m&&(se(e),se(t),se(i),se(a),se(l)),c=!1,f()}}}function Sq(n){var e,t,i,r,o,s,a,l=n[0].length+"",c=n[0].length===1?"item":"items";return{c:function(){(e=K("div")).textContent="[",t=ve(),i=K("span"),r=Xe(l),o=ve(),s=Xe(c),a=Xe(`
               `),j(e,"class","jse-bracket svelte-1koa14y"),j(i,"class","jse-tag jse-expanded svelte-1koa14y")},m:function(f,h){ae(f,e,h),ae(f,t,h),ae(f,i,h),z(i,r),z(i,o),z(i,s),ae(f,a,h)},p:function(f,h){1&h[0]&&l!==(l=f[0].length+"")&&Dt(r,l),1&h[0]&&c!==(c=f[0].length===1?"item":"items")&&Dt(s,c)},d:function(f){f&&(se(e),se(t),se(i),se(a))}}}function $k(n){var e,t,i;return t=new Ca({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-context-menu-pointer-anchor svelte-1koa14y")},m:function(r,o){ae(r,e,o),Me(t,e,null),i=!0},p:function(r,o){var s={};256&o[0]&&(s.onContextMenu=r[8].onContextMenu),t.$set(s)},i:function(r){i||(T(t.$$.fragment,r),i=!0)},o:function(r){D(t.$$.fragment,r),i=!1},d:function(r){r&&se(e),Pe(t)}}}function Mk(n){var e,t;return e=new Mc({props:{validationError:n[15],onExpand:n[21]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};32768&r[0]&&(o.validationError=i[15]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Cq(n){var e,t,i;return{c:function(){j(e=K("div"),"role","none"),j(e,"class","jse-insert-selection-area jse-after svelte-1koa14y"),j(e,"data-type","insert-selection-area-after")},m:function(r,o){ae(r,e,o),t||(i=Ne(e,"click",n[29]),t=!0)},p:Ve,d:function(r){r&&se(e),t=!1,i()}}}function Oq(n){var e,t,i;return{c:function(){j(e=K("div"),"role","none"),j(e,"class","jse-insert-selection-area jse-inside svelte-1koa14y"),j(e,"data-type","insert-selection-area-inside")},m:function(r,o){ae(r,e,o),t||(i=Ne(e,"click",n[28]),t=!0)},p:Ve,d:function(r){r&&se(e),t=!1,i()}}}function Pk(n){for(var e,t,i,r,o,s,a,l=!n[8].readOnly&&(n[10]===Ns||n[16]&&Li(n[7])),c=[],f=new Map,h=l&&Tk(n),p=Zt(n[14]||tl),m=function(k){return k[48]},g=0;g<p.length;g+=1){var v=dk(n,p,g),b=m(v);f.set(b,c[g]=Rk(b,v))}var x=!n[17]&&Lk(n);return{c:function(){e=K("div"),h&&h.c(),t=ve();for(var k=0;k<c.length;k+=1)c[k].c();i=ve(),r=K("div"),(o=K("div")).innerHTML='<span class="jse-bracket svelte-1koa14y">]</span>',s=ve(),x&&x.c(),j(e,"class","jse-items svelte-1koa14y"),j(o,"data-type","selectable-value"),j(o,"class","jse-footer svelte-1koa14y"),j(r,"class","jse-footer-outer svelte-1koa14y")},m:function(k,C){ae(k,e,C),h&&h.m(e,null),z(e,t);for(var S=0;S<c.length;S+=1)c[S]&&c[S].m(e,null);ae(k,i,C),ae(k,r,C),z(r,o),z(r,s),x&&x.m(r,null),a=!0},p:function(k,C){66944&C[0]&&(l=!k[8].readOnly&&(k[10]===Ns||k[16]&&Li(k[7]))),l?h?(h.p(k,C),66944&C[0]&&T(h,1)):((h=Tk(k)).c(),T(h,1),h.m(e,t)):h&&(De(),D(h,1,1,function(){h=null}),ze()),34097663&C[0]&&(p=Zt(k[14]||tl),De(),c=lp(c,C,m,1,k,p,f,e,Y0,Rk,null,dk),ze()),k[17]?x&&(x.d(1),x=null):x?x.p(k,C):((x=Lk(k)).c(),x.m(r,null))},i:function(k){if(!a){T(h);for(var C=0;C<p.length;C+=1)T(c[C]);a=!0}},o:function(k){D(h);for(var C=0;C<c.length;C+=1)D(c[C]);a=!1},d:function(k){k&&(se(e),se(i),se(r)),h&&h.d();for(var C=0;C<c.length;C+=1)c[C].d();x&&x.d()}}}function Tk(n){var e,t,i;return t=new Ca({props:{selected:n[16]&&Li(n[7]),onContextMenu:n[30]}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-insert-area jse-inside svelte-1koa14y"),j(e,"data-type","insert-selection-area-inside"),j(e,"title",e1),Ie(e,"jse-hovered",n[10]===Ns),Ie(e,"jse-selected",n[16]&&Li(n[7])),Sr(e,"--level",n[1].length+1)},m:function(r,o){ae(r,e,o),Me(t,e,null),i=!0},p:function(r,o){var s={};65664&o[0]&&(s.selected=r[16]&&Li(r[7])),t.$set(s),(!i||1024&o[0])&&Ie(e,"jse-hovered",r[10]===Ns),(!i||65664&o[0])&&Ie(e,"jse-selected",r[16]&&Li(r[7])),2&o[0]&&Sr(e,"--level",r[1].length+1)},i:function(r){i||(T(t.$$.fragment,r),i=!0)},o:function(r){D(t.$$.fragment,r),i=!1},d:function(r){r&&se(e),Pe(t)}}}function $q(n){var e,t,i,r=n[49].index+"";return{c:function(){e=K("div"),t=K("div"),i=Xe(r),j(t,"class","jse-index svelte-1koa14y"),j(e,"slot","identifier"),j(e,"class","jse-identifier svelte-1koa14y")},m:function(o,s){ae(o,e,s),z(e,t),z(t,i)},p:function(o,s){18687&s[0]&&r!==(r=o[49].index+"")&&Dt(i,r)},d:function(o){o&&se(e)}}}function Ek(n,e){var t,i,r;return i=new x1({props:{value:e[49].value,path:e[49].path,expandedMap:e[49].expandedMap,enforceStringMap:e[49].enforceStringMap,visibleSectionsMap:e[49].visibleSectionsMap,validationErrorsMap:e[49].validationErrorsMap,searchResultItemsMap:e[49].searchResultItemsMap,selection:e[49].selection,context:e[8],onDragSelectionStart:e[25],$$slots:{identifier:[$q]},$$scope:{ctx:e}}}),{key:n,first:null,c:function(){t=On(),Te(i.$$.fragment),this.first=t},m:function(o,s){ae(o,t,s),Me(i,o,s),r=!0},p:function(o,s){e=o;var a={};18687&s[0]&&(a.value=e[49].value),18687&s[0]&&(a.path=e[49].path),18687&s[0]&&(a.expandedMap=e[49].expandedMap),18687&s[0]&&(a.enforceStringMap=e[49].enforceStringMap),18687&s[0]&&(a.visibleSectionsMap=e[49].visibleSectionsMap),18687&s[0]&&(a.validationErrorsMap=e[49].validationErrorsMap),18687&s[0]&&(a.searchResultItemsMap=e[49].searchResultItemsMap),18687&s[0]&&(a.selection=e[49].selection),256&s[0]&&(a.context=e[8]),18687&s[0]|8&s[1]&&(a.$$scope={dirty:s,ctx:e}),i.$set(a)},i:function(o){r||(T(i.$$.fragment,o),r=!0)},o:function(o){D(i.$$.fragment,o),r=!1},d:function(o){o&&se(t),Pe(i,o)}}}function Ak(n){var e,t;return e=new Hz({props:{visibleSections:n[14]||tl,sectionIndex:n[48],total:n[0].length,path:n[1],onExpandSection:n[8].onExpandSection,selection:n[7],context:n[8]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};16384&r[0]&&(o.visibleSections=i[14]||tl),16384&r[0]&&(o.sectionIndex=i[48]),1&r[0]&&(o.total=i[0].length),2&r[0]&&(o.path=i[1]),256&r[0]&&(o.onExpandSection=i[8].onExpandSection),128&r[0]&&(o.selection=i[7]),256&r[0]&&(o.context=i[8]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Rk(n,e){for(var t,i,r,o,s=[],a=new Map,l=Zt(e[19](e[1],e[0],e[46],e[2],e[3],e[4],e[5],e[6],e[7],e[11])),c=function(g){return g[49].index},f=0;f<l.length;f+=1){var h=pk(e,l,f),p=c(h);a.set(p,s[f]=Ek(p,h))}var m=e[46].end<e[0].length&&Ak(e);return{key:n,first:null,c:function(){t=On();for(var g=0;g<s.length;g+=1)s[g].c();i=ve(),m&&m.c(),r=On(),this.first=t},m:function(g,v){ae(g,t,v);for(var b=0;b<s.length;b+=1)s[b]&&s[b].m(g,v);ae(g,i,v),m&&m.m(g,v),ae(g,r,v),o=!0},p:function(g,v){e=g,34097663&v[0]&&(l=Zt(e[19](e[1],e[0],e[46],e[2],e[3],e[4],e[5],e[6],e[7],e[11])),De(),s=lp(s,v,c,1,e,l,a,i.parentNode,Y0,Ek,i,pk),ze()),e[46].end<e[0].length?m?(m.p(e,v),16385&v[0]&&T(m,1)):((m=Ak(e)).c(),T(m,1),m.m(r.parentNode,r)):m&&(De(),D(m,1,1,function(){m=null}),ze())},i:function(g){if(!o){for(var v=0;v<l.length;v+=1)T(s[v]);T(m),o=!0}},o:function(g){for(var v=0;v<s.length;v+=1)D(s[v]);D(m),o=!1},d:function(g){g&&(se(t),se(i),se(r));for(var v=0;v<s.length;v+=1)s[v].d(g);m&&m.d(g)}}}function Lk(n){var e,t,i;return{c:function(){j(e=K("div"),"role","none"),j(e,"class","jse-insert-selection-area jse-after svelte-1koa14y"),j(e,"data-type","insert-selection-area-after")},m:function(r,o){ae(r,e,o),t||(i=Ne(e,"click",n[29]),t=!0)},p:Ve,d:function(r){r&&se(e),t=!1,i()}}}function Ik(n){var e,t,i;return t=new Ca({props:{selected:n[16]&&Br(n[7]),onContextMenu:n[31]}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-insert-area jse-after svelte-1koa14y"),j(e,"data-type","insert-selection-area-after"),j(e,"title",e1),Ie(e,"jse-hovered",n[10]===qu),Ie(e,"jse-selected",n[16]&&Br(n[7]))},m:function(r,o){ae(r,e,o),Me(t,e,null),i=!0},p:function(r,o){var s={};65664&o[0]&&(s.selected=r[16]&&Br(r[7])),t.$set(s),(!i||1024&o[0])&&Ie(e,"jse-hovered",r[10]===qu),(!i||65664&o[0])&&Ie(e,"jse-selected",r[16]&&Br(r[7]))},i:function(r){i||(T(t.$$.fragment,r),i=!0)},o:function(r){D(t.$$.fragment,r),i=!1},d:function(r){r&&se(e),Pe(t)}}}function Mq(n){var e,t,i,r,o,s,a,l,c,f,h,p=!n[8].readOnly&&(n[10]===qu||n[16]&&Br(n[7])),m=[pq,dq,hq],g=[];function v(x,k){return 1&k[0]&&(t=null),1&k[0]&&(i=null),t==null&&(t=!!Array.isArray(x[0])),t?0:(i==null&&(i=!!li(x[0])),i?1:2)}r=v(n,[-1,-1]),o=g[r]=m[r](n);var b=p&&Ik(n);return{c:function(){e=K("div"),o.c(),s=ve(),b&&b.c(),j(e,"role","treeitem"),j(e,"tabindex","-1"),j(e,"class",a=fi(cs("jse-json-node",{"jse-expanded":n[12]},n[8].onClassName(n[1],n[0])))+" svelte-1koa14y"),j(e,"data-path",l=mc(n[1])),j(e,"aria-selected",n[16]),Ie(e,"jse-root",n[17]),Ie(e,"jse-selected",n[16]&&Wn(n[7])),Ie(e,"jse-selected-key",n[16]&&Ei(n[7])),Ie(e,"jse-selected-value",n[16]&&_n(n[7])),Ie(e,"jse-readonly",n[8].readOnly),Ie(e,"jse-hovered",n[10]===Qg),Sr(e,"--level",n[1].length)},m:function(x,k){ae(x,e,k),g[r].m(e,null),z(e,s),b&&b.m(e,null),c=!0,f||(h=[Ne(e,"mousedown",n[23]),Ne(e,"mousemove",n[24]),Ne(e,"mouseover",n[26]),Ne(e,"mouseout",n[27]),Ne(e,"focus",void 0),Ne(e,"blur",void 0)],f=!0)},p:function(x,k){var C=r;(r=v(x,k))===C?g[r].p(x,k):(De(),D(g[C],1,1,function(){g[C]=null}),ze(),(o=g[r])?o.p(x,k):(o=g[r]=m[r](x)).c(),T(o,1),o.m(e,s)),66944&k[0]&&(p=!x[8].readOnly&&(x[10]===qu||x[16]&&Br(x[7]))),p?b?(b.p(x,k),66944&k[0]&&T(b,1)):((b=Ik(x)).c(),T(b,1),b.m(e,null)):b&&(De(),D(b,1,1,function(){b=null}),ze()),(!c||4355&k[0]&&a!==(a=fi(cs("jse-json-node",{"jse-expanded":x[12]},x[8].onClassName(x[1],x[0])))+" svelte-1koa14y"))&&j(e,"class",a),(!c||2&k[0]&&l!==(l=mc(x[1])))&&j(e,"data-path",l),(!c||65536&k[0])&&j(e,"aria-selected",x[16]),(!c||135427&k[0])&&Ie(e,"jse-root",x[17]),(!c||70019&k[0])&&Ie(e,"jse-selected",x[16]&&Wn(x[7])),(!c||70019&k[0])&&Ie(e,"jse-selected-key",x[16]&&Ei(x[7])),(!c||70019&k[0])&&Ie(e,"jse-selected-value",x[16]&&_n(x[7])),(!c||4355&k[0])&&Ie(e,"jse-readonly",x[8].readOnly),(!c||5379&k[0])&&Ie(e,"jse-hovered",x[10]===Qg),2&k[0]&&Sr(e,"--level",x[1].length)},i:function(x){c||(T(o),T(b),c=!0)},o:function(x){D(o),D(b),c=!1},d:function(x){x&&se(e),g[r].d(),b&&b.d(),f=!1,Yn(h)}}}function Pq(n,e,t){var i,r,o,s,a,l,c,f=e.$$slots,h=f===void 0?{}:f,p=e.$$scope,m=e.value,g=e.path,v=e.expandedMap,b=e.enforceStringMap,x=e.visibleSectionsMap,k=e.validationErrorsMap,C=e.searchResultItemsMap,S=e.selection,_=e.context,E=e.onDragSelectionStart,q=ar("jsoneditor:JSONNode"),te=void 0,G=void 0,I=void 0,U=i8(function($){return $},zr);function B($){_.onDrag($)}function ee($){Ki.selecting&&(Ki.selecting=!1,$.stopPropagation()),_.onDragEnd(),document.removeEventListener("mousemove",B,!0),document.removeEventListener("mouseup",ee)}function F(){var $;return(($=_.findElement([]))===null||$===void 0||($=$.getBoundingClientRect())===null||$===void 0?void 0:$.top)||0}function ne($,N){var P=F()-$.initialContentTop;return N.clientY-$.initialClientY-P}function re($){if(I){var N=_.getJson();if(N===void 0)return;var P=_.getDocumentState(),A=ne(I,$),M=Om({json:N,documentState:P,deltaY:A,items:I.items}).offset;M!==I.offset&&(q("drag selection",M,A),t(11,I=ke(ke({},I),{},{offset:M,didMoveItems:!0})))}}function R($){if(I){var N=_.getJson();if(N===void 0)return;var P=Om({json:N,documentState:_.getDocumentState(),deltaY:ne(I,$),items:I.items}),A=P.operations,M=P.updatedSelection;if(A)_.onPatch(A,function(de,xe){return{state:ke(ke({},xe),{},{selection:M||S})}});else if($.target===I.initialTarget&&!I.didMoveItems){var Z=ym($.target),le=WO($.target);le&&_.onSelect(Aw(0,Z,le))}t(11,I=void 0),Ki.dragging=!1,document.removeEventListener("mousemove",re,!0),document.removeEventListener("mouseup",R)}}return n.$$set=function($){"value"in $&&t(0,m=$.value),"path"in $&&t(1,g=$.path),"expandedMap"in $&&t(2,v=$.expandedMap),"enforceStringMap"in $&&t(3,b=$.enforceStringMap),"visibleSectionsMap"in $&&t(4,x=$.visibleSectionsMap),"validationErrorsMap"in $&&t(5,k=$.validationErrorsMap),"searchResultItemsMap"in $&&t(6,C=$.searchResultItemsMap),"selection"in $&&t(7,S=$.selection),"context"in $&&t(8,_=$.context),"onDragSelectionStart"in $&&t(32,E=$.onDragSelectionStart),"$$scope"in $&&t(34,p=$.$$scope)},n.$$.update=function(){2&n.$$.dirty[0]&&t(9,r=at(g)),516&n.$$.dirty[0]&&t(12,o=!!v&&v[r]===!0),777&n.$$.dirty[0]&&t(13,s=Ds(m,b,r,_.parser)),528&n.$$.dirty[0]&&t(14,a=x?x[r]:void 0),544&n.$$.dirty[0]&&t(15,l=k?k[r]:void 0),386&n.$$.dirty[0]&&t(16,c=Fu(_.getJson(),S,g)),2&n.$$.dirty[0]&&t(17,i=g.length===0)},[m,g,v,b,x,k,C,S,_,r,te,I,o,s,a,l,c,i,function($,N,P,A,M,Z,le,de,xe){var oe=Object.keys(N).map(function(Be){var We=U($.concat(Be)),Ce=dy(r,Be);return{key:Be,value:N[Be],path:We,expandedMap:qo(P,Ce),enforceStringMap:qo(A,Ce),visibleSectionsMap:qo(M,Ce),validationErrorsMap:qo(Z,Ce),keySearchResultItemsMap:F9(le,Ce),valueSearchResultItemsMap:qo(le,Ce),selection:Rw(_.getJson(),de,We)}});return xe&&xe.offset!==0&&(oe=uw(oe,xe.selectionStartIndex,xe.selectionItemsCount,xe.offset)),oe},function($,N,P,A,M,Z,le,de,xe,oe){for(var Be=P.start,We=Math.min(P.end,N.length),Ce=[],be=Be;be<We;be++){var Ze=U($.concat(String(be))),Ye=dy(r,be);Ce.push({index:be,value:N[be],path:Ze,expandedMap:qo(A,Ye),enforceStringMap:qo(M,Ye),visibleSectionsMap:qo(Z,Ye),validationErrorsMap:qo(le,Ye),searchResultItemsMap:qo(de,Ye),selection:Rw(_.getJson(),xe,Ze)})}if(oe&&oe.offset!==0){var et=Ce.map(function(fe){return fe.index});Ce=uw(Ce,oe.selectionStartIndex,oe.selectionItemsCount,oe.offset);for(var qt=0;qt<Ce.length;qt++)Ce[qt].index=et[qt]}return Ce},function($){$.stopPropagation();var N=$.ctrlKey;_.onExpand(g,!o,N)},function($){$.stopPropagation(),_.onExpand(g,!0)},function($,N){var P=cf(g,Object.keys(m),$,N);return _.onPatch(P),yn(Es(P[0].path))},function($){if(!(function(le){return le.nodeName==="DIV"&&le.contentEditable==="true"}($.target)||$.which===1&&o1($.target,"BUTTON"))){$.stopPropagation(),$.preventDefault(),_.focus(),document.addEventListener("mousemove",B,!0),document.addEventListener("mouseup",ee);var N=ym($.target),P=_.getJson(),A=_.getDocumentState();if(!S||N===ri.after||N===ri.inside||S.type!==N&&S.type!==ri.multi||!Fu(P,S,g))if(Ki.selecting=!0,Ki.selectionAnchor=g,Ki.selectionAnchorType=N,Ki.selectionFocus=g,$.shiftKey){var M=_.getDocumentState().selection;M&&_.onSelect(wr(Ha(M),g))}else if(N===ri.multi)if(i&&$.target.hasAttribute("data-path")){var Z=yn(e$(m,A));_.onSelect(Yg(Z))}else _.onSelect(wr(g,g));else P!==void 0&&_.onSelect(Aw(0,N,g));else $.button===0&&E($)}},function($){if(Ki.selecting){$.preventDefault(),$.stopPropagation(),Ki.selectionFocus==null&&window.getSelection&&window.getSelection().empty();var N=ym($.target);jn(g,Ki.selectionFocus)&&N===Ki.selectionAnchorType||(Ki.selectionFocus=g,Ki.selectionAnchorType=N,_.onSelect(wr(Ki.selectionAnchor||Ki.selectionFocus,Ki.selectionFocus)))}},function($){if(!_.readOnly&&S){var N=kn(At(S));if(jn(g,N)){var P=function(de,xe){var oe=[];function Be(wt){var tt=g.concat(wt),ce=_.findElement(tt);ce!=null&&oe.push({path:tt,height:ce.clientHeight})}if(Array.isArray(m)){var We=_.getJson();if(We===void 0)return null;var Ce=js(We,de),be=fa(We,de),Ze=parseInt(yn(Ce),10),Ye=parseInt(yn(be),10),et=xe.find(function(wt){return Ze>=wt.start&&Ye<=wt.end});if(!et)return null;var qt=et.start,fe=et.end;AO(qt,Math.min(m.length,fe),function(wt){return Be(String(wt))})}else Object.keys(m).forEach(Be);return oe}(S,a||tl);if(q("dragSelectionStart",{selection:S,items:P}),P){var A=_.getJson();if(A!==void 0){var M=js(A,S),Z=P.findIndex(function(de){return jn(de.path,M)}),le=Om({json:A,documentState:_.getDocumentState(),deltaY:0,items:P}).offset;t(11,I={initialTarget:$.target,initialClientY:$.clientY,initialContentTop:F(),selectionStartIndex:Z,selectionItemsCount:ua(A,S).length,items:P,offset:le,didMoveItems:!1}),Ki.dragging=!0,document.addEventListener("mousemove",re,!0),document.addEventListener("mouseup",R)}}else q("Cannot drag the current selection (probably spread over multiple sections)")}else E($)}},function($){Ki.selecting||Ki.dragging||($.stopPropagation(),qa($.target,"data-type","selectable-value")?t(10,te=Qg):qa($.target,"data-type","insert-selection-area-inside")?t(10,te=Ns):qa($.target,"data-type","insert-selection-area-after")&&t(10,te=qu),clearTimeout(G))},function($){$.stopPropagation(),G=window.setTimeout(function(){return t(10,te=void 0)})},function($){$.shiftKey||($.stopPropagation(),$.preventDefault(),_.onSelect(zs(g)))},function($){$.shiftKey||($.stopPropagation(),$.preventDefault(),_.onSelect($s(g)))},function($){_.onSelect(zs(g)),_.onContextMenu($)},function($){_.onSelect($s(g)),_.onContextMenu($)},E,h,p]}var x1=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Pq,Mq,Yt,{value:0,path:1,expandedMap:2,enforceStringMap:3,visibleSectionsMap:4,validationErrorsMap:5,searchResultItemsMap:6,selection:7,context:8,onDragSelectionStart:32},lq,[-1,-1]),r}return ct(t)}(),Tq=x1,Eq={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],"","M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},Aq={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],"","m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},av={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],"","M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},Rq={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],"","M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function Lq(n){var e,t;return e=new bp({props:{items:n[0]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&Jt(r,1)[0]&&(o.items=i[0]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Iq(n,e,t){var i,r,o,s,a,l,c,f=e.json,h=e.selection,p=e.readOnly,m=e.showSearch,g=m!==void 0&&m,v=e.historyState,b=e.onExpandAll,x=e.onCollapseAll,k=e.onUndo,C=e.onRedo,S=e.onSort,_=e.onTransform,E=e.onContextMenu,q=e.onCopy,te=e.onRenderMenu;function G(){t(1,g=!g)}return n.$$set=function(I){"json"in I&&t(2,f=I.json),"selection"in I&&t(3,h=I.selection),"readOnly"in I&&t(4,p=I.readOnly),"showSearch"in I&&t(1,g=I.showSearch),"historyState"in I&&t(5,v=I.historyState),"onExpandAll"in I&&t(6,b=I.onExpandAll),"onCollapseAll"in I&&t(7,x=I.onCollapseAll),"onUndo"in I&&t(8,k=I.onUndo),"onRedo"in I&&t(9,C=I.onRedo),"onSort"in I&&t(10,S=I.onSort),"onTransform"in I&&t(11,_=I.onTransform),"onContextMenu"in I&&t(12,E=I.onContextMenu),"onCopy"in I&&t(13,q=I.onCopy),"onRenderMenu"in I&&t(14,te=I.onRenderMenu)},n.$$.update=function(){4&n.$$.dirty&&t(20,i=f!==void 0),1048584&n.$$.dirty&&t(19,r=i&&(Wn(h)||Ei(h)||_n(h))),68&n.$$.dirty&&t(15,s={type:"button",icon:Eq,title:"Expand all",className:"jse-expand-all",onClick:b,disabled:!gi(f)}),132&n.$$.dirty&&t(16,a={type:"button",icon:Aq,title:"Collapse all",className:"jse-collapse-all",onClick:x,disabled:!gi(f)}),4&n.$$.dirty&&t(17,l={type:"button",icon:v0,title:"Search (Ctrl+F)",className:"jse-search",onClick:G,disabled:f===void 0}),769844&n.$$.dirty&&t(18,c=p?[s,a,{type:"separator"},{type:"button",icon:la,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:q,disabled:!r},{type:"separator"},l,{type:"space"}]:[s,a,{type:"separator"},{type:"button",icon:sp,title:"Sort",className:"jse-sort",onClick:S,disabled:p||f===void 0},{type:"button",icon:rp,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:_,disabled:p||f===void 0},l,{type:"button",icon:XC,title:t1,className:"jse-contextmenu",onClick:E},{type:"separator"},{type:"button",icon:g0,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:k,disabled:!v.canUndo},{type:"button",icon:m0,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:C,disabled:!v.canRedo},{type:"space"}]),278528&n.$$.dirty&&t(0,o=te(c))},[o,g,f,h,p,v,b,x,k,C,S,_,E,q,te,s,a,l,c,r,i]}var Nq=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Iq,Lq,Yt,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14}),r}return ct(t)}();function Bq(n){Gt(n,"svelte-s2toti",'.jse-welcome.svelte-s2toti.svelte-s2toti{flex:1;overflow:auto;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-s2toti.svelte-s2toti:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-welcome.svelte-s2toti .jse-space.jse-before.svelte-s2toti{flex:1}.jse-welcome.svelte-s2toti .jse-space.jse-after.svelte-s2toti{flex:2}.jse-welcome.svelte-s2toti .jse-contents.svelte-s2toti{display:flex;flex-direction:column;max-width:300px;margin:2em var(--jse-padding, 10px);gap:var(--jse-padding, 10px)}.jse-welcome.svelte-s2toti .jse-contents .jse-welcome-info.svelte-s2toti{color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-welcome.svelte-s2toti .jse-contents button.svelte-s2toti{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-welcome.svelte-s2toti .jse-contents button.svelte-s2toti:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-welcome.svelte-s2toti .jse-contents button.svelte-s2toti:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}')}function Nk(n){var e,t,i,r,o,s,a;return{c:function(){(e=K("div")).innerHTML="You can paste clipboard data using <b>Ctrl+V</b>, or use the following options:",t=ve(),(i=K("button")).textContent="Create object",r=ve(),(o=K("button")).textContent="Create array",j(e,"class","jse-welcome-info svelte-s2toti"),j(i,"title","Create an empty JSON object (press '{')"),j(i,"class","svelte-s2toti"),j(o,"title","Create an empty JSON array (press '[')"),j(o,"class","svelte-s2toti")},m:function(l,c){ae(l,e,c),ae(l,t,c),ae(l,i,c),ae(l,r,c),ae(l,o,c),s||(a=[Ne(i,"click",Eo(n[4])),Ne(o,"click",Eo(n[5]))],s=!0)},p:Ve,d:function(l){l&&(se(e),se(t),se(i),se(r),se(o)),s=!1,Yn(a)}}}function Dq(n){var e,t,i,r,o,s,a,l,c,f,h=!n[0]&&Nk(n);return{c:function(){e=K("div"),t=K("div"),i=ve(),r=K("div"),(o=K("div")).textContent="Empty document",s=ve(),h&&h.c(),a=ve(),l=K("div"),j(t,"class","jse-space jse-before svelte-s2toti"),j(o,"class","jse-welcome-title"),j(r,"class","jse-contents svelte-s2toti"),j(l,"class","jse-space jse-after svelte-s2toti"),j(e,"class","jse-welcome svelte-s2toti"),j(e,"role","none")},m:function(p,m){ae(p,e,m),z(e,t),z(e,i),z(e,r),z(r,o),z(r,s),h&&h.m(r,null),z(e,a),z(e,l),c||(f=Ne(e,"click",n[6]),c=!0)},p:function(p,m){var g=Jt(m,1)[0];p[0]?h&&(h.d(1),h=null):h?h.p(p,g):((h=Nk(p)).c(),h.m(r,null))},i:Ve,o:Ve,d:function(p){p&&se(e),h&&h.d(),c=!1,f()}}}function zq(n,e,t){var i=e.readOnly,r=e.onCreateArray,o=e.onCreateObject,s=e.onClick;return n.$$set=function(a){"readOnly"in a&&t(0,i=a.readOnly),"onCreateArray"in a&&t(1,r=a.onCreateArray),"onCreateObject"in a&&t(2,o=a.onCreateObject),"onClick"in a&&t(3,s=a.onClick)},[i,r,o,s,function(){return o()},function(){return r()},function(){return s()}]}var qq=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,zq,Dq,Yt,{readOnly:0,onCreateArray:1,onCreateObject:2,onClick:3},Bq),r}return ct(t)}();function lv(n,e){var t=typeof n=="string"?n.toLowerCase():n,i=typeof e=="string"?e.toLowerCase():e;return L7(t,i)}function $$(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(hi(Ct(n,e))){if(t===void 0)throw new Error("Cannot sort: no property selected by which to sort the array");return function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,l=function(f,h){return function(p,m){var g=Ct(p,f),v=Ct(m,f);return g===void 0?h:v===void 0?-h:typeof g!="string"&&typeof v!="string"?g>v?h:g<v?-h:0:h*lv(g,v)}}(s,a),c=Ct(r,o);return[{op:"replace",path:at(o),value:c.slice(0).sort(l)}]}(n,e,t,i)}if(li(n))return function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=Ct(r,o),l=Object.keys(a).slice();l.sort(function(m,g){return s*lv(m,g)});for(var c=[],f=0;f<l.length;f++){var h=l[f],p=at(o.concat(h));c.push({op:"move",from:p,path:p})}return c}(n,e,i);throw new Error("Cannot sort: no array or object")}function Fq(n){Gt(n,"svelte-12glmu0",'.jse-navigation-bar-dropdown.svelte-12glmu0.svelte-12glmu0{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-12glmu0 button.jse-navigation-bar-dropdown-item.svelte-12glmu0{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding, 10px)) 36px}.jse-navigation-bar-dropdown.svelte-12glmu0 button.jse-navigation-bar-dropdown-item.svelte-12glmu0:focus,.jse-navigation-bar-dropdown.svelte-12glmu0 button.jse-navigation-bar-dropdown-item.svelte-12glmu0:hover{background:var(--jse-navigation-bar-background-highlight, #e5e5e5)}.jse-navigation-bar-dropdown.svelte-12glmu0 button.jse-navigation-bar-dropdown-item.jse-selected.svelte-12glmu0{background:var(--jse-navigation-bar-dropdown-color, #656565);color:var(--jse-navigation-bar-background, var(--jse-background-color, #fff))}')}function Bk(n,e,t){var i=n.slice();return i[4]=e[t],i}function Dk(n,e){var t,i,r,o,s,a=Bs(e[4].toString(),qk)+"";function l(){return e[3](e[4])}return{key:n,first:null,c:function(){t=K("button"),i=Xe(a),j(t,"type","button"),j(t,"class","jse-navigation-bar-dropdown-item svelte-12glmu0"),j(t,"title",r=e[4].toString()),Ie(t,"jse-selected",e[4]===e[1]),this.first=t},m:function(c,f){ae(c,t,f),z(t,i),o||(s=Ne(t,"click",Eo(l)),o=!0)},p:function(c,f){e=c,1&f&&a!==(a=Bs(e[4].toString(),qk)+"")&&Dt(i,a),1&f&&r!==(r=e[4].toString())&&j(t,"title",r),3&f&&Ie(t,"jse-selected",e[4]===e[1])},d:function(c){c&&se(t),o=!1,s()}}}function zk(n){var e,t;return{c:function(){e=K("button"),t=Xe("..."),j(e,"type","button"),j(e,"class","jse-navigation-bar-dropdown-item svelte-12glmu0"),j(e,"title","Limited to "+iu+" items")},m:function(i,r){ae(i,e,r),z(e,t)},p:Ve,d:function(i){i&&se(e)}}}function Hq(n){for(var e,t,i=[],r=new Map,o=Zt(jd(n[0],iu)),s=function(h){return h[4]},a=0;a<o.length;a+=1){var l=Bk(n,o,a),c=s(l);r.set(c,i[a]=Dk(c,l))}var f=n[0].length>iu&&zk();return{c:function(){e=K("div");for(var h=0;h<i.length;h+=1)i[h].c();t=ve(),f&&f.c(),j(e,"class","jse-navigation-bar-dropdown svelte-12glmu0")},m:function(h,p){ae(h,e,p);for(var m=0;m<i.length;m+=1)i[m]&&i[m].m(e,null);z(e,t),f&&f.m(e,null)},p:function(h,p){var m=Jt(p,1)[0];7&m&&(o=Zt(jd(h[0],iu)),i=lp(i,m,s,1,h,o,r,e,pN,Dk,t,Bk)),h[0].length>iu?f?f.p(h,m):((f=zk()).c(),f.m(e,null)):f&&(f.d(1),f=null)},i:Ve,o:Ve,d:function(h){h&&se(e);for(var p=0;p<i.length;p+=1)i[p].d();f&&f.d()}}}var iu=100,qk=30;function Vq(n,e,t){var i=e.items,r=e.selectedItem,o=e.onSelect;return n.$$set=function(s){"items"in s&&t(0,i=s.items),"selectedItem"in s&&t(1,r=s.selectedItem),"onSelect"in s&&t(2,o=s.onSelect)},[i,r,o,function(s){return o(s)}]}var Wq=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Vq,Hq,Yt,{items:0,selectedItem:1,onSelect:2},Fq),r}return ct(t)}();function Uq(n){Gt(n,"svelte-x08607",".jse-navigation-bar-item.svelte-x08607.svelte-x08607{position:relative;display:flex}.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.svelte-x08607{font-family:inherit;font-size:inherit;padding:calc(0.5 * var(--jse-padding, 10px)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.svelte-x08607:focus,.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.svelte-x08607:hover{background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d))}.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.jse-navigation-bar-arrow.svelte-x08607{padding:2px var(--jse-padding, 10px) 0}.jse-navigation-bar-item.svelte-x08607 button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open.svelte-x08607{background:var(--jse-navigation-bar-background, var(--jse-background-color, #fff));color:var(--jse-navigation-bar-dropdown-color, #656565)}.jse-navigation-bar-item.svelte-x08607.svelte-x08607:last-child{padding-right:var(--jse-padding, 10px)}")}function Fk(n){var e,t,i,r;return{c:function(){e=K("button"),t=Xe(n[2]),j(e,"type","button"),j(e,"class","jse-navigation-bar-button svelte-x08607")},m:function(o,s){ae(o,e,s),z(e,t),i||(r=Ne(e,"click",n[9]),i=!0)},p:function(o,s){4&s&&Dt(t,o[2])},d:function(o){o&&se(e),i=!1,r()}}}function Qq(n){var e,t,i,r,o,s,a;i=new Cn({props:{data:KC}});var l=n[2]!==void 0&&Fk(n);return{c:function(){e=K("div"),t=K("button"),Te(i.$$.fragment),r=ve(),l&&l.c(),j(t,"type","button"),j(t,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-x08607"),Ie(t,"jse-open",n[1]),j(e,"class","jse-navigation-bar-item svelte-x08607")},m:function(c,f){ae(c,e,f),z(e,t),Me(i,t,null),z(e,r),l&&l.m(e,null),n[10](e),o=!0,s||(a=Ne(t,"click",n[4]),s=!0)},p:function(c,f){var h=Jt(f,1)[0];(!o||2&h)&&Ie(t,"jse-open",c[1]),c[2]!==void 0?l?l.p(c,h):((l=Fk(c)).c(),l.m(e,null)):l&&(l.d(1),l=null)},i:function(c){o||(T(i.$$.fragment,c),o=!0)},o:function(c){D(i.$$.fragment,c),o=!1},d:function(c){c&&se(e),Pe(i),l&&l.d(),n[10](null),s=!1,a()}}}function Zq(n,e,t){var i,r,o,s,a=sr("absolute-popup"),l=a.openAbsolutePopup,c=a.closeAbsolutePopup,f=e.path,h=e.index,p=e.onSelect,m=e.getItems,g=!1;function v(b){c(s),p(i.concat(b))}return n.$$set=function(b){"path"in b&&t(5,f=b.path),"index"in b&&t(6,h=b.index),"onSelect"in b&&t(7,p=b.onSelect),"getItems"in b&&t(8,m=b.getItems)},n.$$.update=function(){96&n.$$.dirty&&(i=f.slice(0,h)),96&n.$$.dirty&&t(2,r=f[h])},[o,g,r,v,function(){if(o){t(1,g=!0);var b={items:m(i),selectedItem:r,onSelect:v};s=l(Wq,b,{anchor:o,closeOnOuterClick:!0,onClose:function(){t(1,g=!1)}})}},f,h,p,m,function(){return v(r)},function(b){pn[b?"unshift":"push"](function(){t(0,o=b)})}]}var M$=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Zq,Qq,Yt,{path:5,index:6,onSelect:7,getItems:8},Uq),r}return ct(t)}();function w1(n){var e,t;if(navigator.clipboard)return navigator.clipboard.writeText(n);if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"copy")){var i=document.createElement("textarea");i.value=n,i.style.position="fixed",i.style.opacity="0",document.body.appendChild(i),i.select();try{document.execCommand("copy")}catch(r){console.error(r)}finally{document.body.removeChild(i)}}else console.error("Copy failed.")}function Jq(n){Gt(n,"svelte-1844qyt",".jse-navigation-bar-path-editor.svelte-1844qyt.svelte-1844qyt{flex:1;display:flex;border:var(--jse-edit-outline, 2px solid #656565);background:var(--jse-background-color, #fff)}.jse-navigation-bar-path-editor.svelte-1844qyt input.jse-navigation-bar-text.svelte-1844qyt{flex:1;font-family:inherit;font-size:inherit;padding:0 5px 1px;background:var(--jse-background-color, #fff);color:var(--jse-text-color, #4d4d4d);border:none;outline:none}.jse-navigation-bar-path-editor.svelte-1844qyt button.svelte-1844qyt{border:none;background:var(--jse-background-color, #fff);cursor:pointer;font-family:inherit;font-size:80%;color:inherit}.jse-navigation-bar-path-editor.svelte-1844qyt button.jse-navigation-bar-copy.copied.svelte-1844qyt{color:var(--message-success-background, #9ac45d)}.jse-navigation-bar-path-editor.svelte-1844qyt button.jse-navigation-bar-validation-error.svelte-1844qyt{color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-1844qyt.svelte-1844qyt{border-color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.error.svelte-1844qyt input.jse-navigation-bar-text.svelte-1844qyt{color:var(--jse-error-color, #ee5341)}.jse-navigation-bar-path-editor.svelte-1844qyt .jse-copied-text.svelte-1844qyt{background:var(--message-success-background, #9ac45d);color:var(--jse-message-success-color, #fff);position:relative;margin:2px;padding:0 5px;border-radius:3px}")}function Hk(n){var e,t,i,r,o,s;return t=new Cn({props:{data:ul}}),{c:function(){e=K("button"),Te(t.$$.fragment),j(e,"type","button"),j(e,"class","jse-navigation-bar-validation-error svelte-1844qyt")},m:function(a,l){ae(a,e,l),Me(t,e,null),r=!0,o||(s=or(i=f1.call(null,e,ke({text:String(n[3]||"")},n[4]))),o=!0)},p:function(a,l){i&&ir(i.update)&&8&l&&i.update.call(null,ke({text:String(a[3]||"")},a[4]))},i:function(a){r||(T(t.$$.fragment,a),r=!0)},o:function(a){D(t.$$.fragment,a),r=!1},d:function(a){a&&se(e),Pe(t),o=!1,s()}}}function Vk(n){var e;return{c:function(){(e=K("div")).textContent="Copied!",j(e,"class","jse-copied-text svelte-1844qyt")},m:function(t,i){ae(t,e,i)},d:function(t){t&&se(e)}}}function Gq(n){var e,t,i,r,o,s,a,l,c,f,h=n[3]&&Hk(n),p=n[2]&&Vk();return a=new Cn({props:{data:la}}),{c:function(){e=K("div"),t=K("input"),i=ve(),h&&h.c(),r=ve(),p&&p.c(),o=ve(),s=K("button"),Te(a.$$.fragment),j(t,"type","text"),j(t,"class","jse-navigation-bar-text svelte-1844qyt"),t.value=n[0],j(s,"type","button"),j(s,"class","jse-navigation-bar-copy svelte-1844qyt"),j(s,"title","Copy selected path to the clipboard"),Ie(s,"copied",n[2]),j(e,"class","jse-navigation-bar-path-editor svelte-1844qyt"),Ie(e,"error",n[3])},m:function(m,g){ae(m,e,g),z(e,t),n[15](t),z(e,i),h&&h.m(e,null),z(e,r),p&&p.m(e,null),z(e,o),z(e,s),Me(a,s,null),l=!0,c||(f=[Ne(t,"keydown",Eo(n[6])),Ne(t,"input",n[5]),Ne(s,"click",n[7])],c=!0)},p:function(m,g){var v=Jt(g,1)[0];(!l||1&v&&t.value!==m[0])&&(t.value=m[0]),m[3]?h?(h.p(m,v),8&v&&T(h,1)):((h=Hk(m)).c(),T(h,1),h.m(e,r)):h&&(De(),D(h,1,1,function(){h=null}),ze()),m[2]?p||((p=Vk()).c(),p.m(e,o)):p&&(p.d(1),p=null),(!l||4&v)&&Ie(s,"copied",m[2]),(!l||8&v)&&Ie(e,"error",m[3])},i:function(m){l||(T(h),T(a.$$.fragment,m),l=!0)},o:function(m){D(h),D(a.$$.fragment,m),l=!1},d:function(m){m&&se(e),n[15](null),h&&h.d(),p&&p.d(),Pe(a),c=!1,Yn(f)}}}function Kq(n,e,t){var i,r,o,s=sr("absolute-popup"),a=e.path,l=e.pathParser,c=e.onChange,f=e.onClose,h=e.onError,p=e.pathExists,m=!1,g=void 0,v=!1;function b(){r.focus()}function x(k){try{var C=l.parse(k);return function(S){if(!p(S))throw new Error("Path does not exist in current document")}(C),{path:C,error:void 0}}catch(S){return{path:void 0,error:S}}}return go(function(){b()}),Xr(function(){clearTimeout(g)}),n.$$set=function(k){"path"in k&&t(8,a=k.path),"pathParser"in k&&t(9,l=k.pathParser),"onChange"in k&&t(10,c=k.onChange),"onClose"in k&&t(11,f=k.onClose),"onError"in k&&t(12,h=k.onError),"pathExists"in k&&t(13,p=k.pathExists)},n.$$.update=function(){768&n.$$.dirty&&t(0,o=l.stringify(a)),16385&n.$$.dirty&&t(3,i=m?x(o).error:void 0)},[o,r,v,i,s,function(k){t(0,o=k.currentTarget.value)},function(k){var C=Sa(k);if(C==="Escape"&&f(),C==="Enter"){t(14,m=!0);var S=x(o);S.path!==void 0?c(S.path):h(S.error)}},function(){w1(o),t(2,v=!0),g=window.setTimeout(function(){return t(2,v=!1)},1e3),b()},a,l,c,f,h,p,m,function(k){pn[k?"unshift":"push"](function(){t(1,r=k)})}]}var Xq=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,Kq,Gq,Gi,{path:8,pathParser:9,onChange:10,onClose:11,onError:12,pathExists:13},Jq),r}return ct(t)}();function Yq(n){Gt(n,"svelte-1aycet9",'.jse-navigation-bar.svelte-1aycet9.svelte-1aycet9{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-button-color, inherit);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.svelte-1aycet9{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);color:var(--jse-panel-color-readonly, #b2b2b2);background:transparent;border:none;display:flex;cursor:pointer;outline:none;align-items:center}.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.flex.svelte-1aycet9{flex:1}.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.svelte-1aycet9:focus,.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.svelte-1aycet9:hover,.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit.editing.svelte-1aycet9{background:var(--jse-panel-button-background-highlight, #e0e0e0);color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));transition:color 0.2s ease-in, background 0.2s ease-in}.jse-navigation-bar.svelte-1aycet9 .jse-navigation-bar-edit .jse-navigation-bar-space.svelte-1aycet9{flex:1;text-align:left}')}function Wk(n,e,t){var i=n.slice();return i[18]=e[t],i[20]=t,i}function eF(n){var e,t;return e=new Xq({props:{path:n[3],onClose:n[11],onChange:n[12],onError:n[1],pathExists:n[8],pathParser:n[2]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};8&r&&(o.path=i[3]),2&r&&(o.onError=i[1]),4&r&&(o.pathParser=i[2]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function tF(n){for(var e,t,i,r=[],o=new Map,s=Zt(n[3]),a=function(p){return p[20]},l=0;l<s.length;l+=1){var c=Wk(n,s,l),f=a(c);o.set(f,r[l]=Uk(f,c))}var h=n[6]&&Qk(n);return{c:function(){for(var p=0;p<r.length;p+=1)r[p].c();e=ve(),h&&h.c(),t=On()},m:function(p,m){for(var g=0;g<r.length;g+=1)r[g]&&r[g].m(p,m);ae(p,e,m),h&&h.m(p,m),ae(p,t,m),i=!0},p:function(p,m){648&m&&(s=Zt(p[3]),De(),r=lp(r,m,a,1,p,s,o,e.parentNode,Y0,Uk,e,Wk),ze()),p[6]?h?(h.p(p,m),64&m&&T(h,1)):((h=Qk(p)).c(),T(h,1),h.m(t.parentNode,t)):h&&(De(),D(h,1,1,function(){h=null}),ze())},i:function(p){if(!i){for(var m=0;m<s.length;m+=1)T(r[m]);T(h),i=!0}},o:function(p){for(var m=0;m<r.length;m+=1)D(r[m]);D(h),i=!1},d:function(p){p&&(se(e),se(t));for(var m=0;m<r.length;m+=1)r[m].d(p);h&&h.d(p)}}}function Uk(n,e){var t,i,r;return i=new M$({props:{getItems:e[7],path:e[3],index:e[20],onSelect:e[9]}}),{key:n,first:null,c:function(){t=On(),Te(i.$$.fragment),this.first=t},m:function(o,s){ae(o,t,s),Me(i,o,s),r=!0},p:function(o,s){e=o;var a={};8&s&&(a.path=e[3]),8&s&&(a.index=e[20]),i.$set(a)},i:function(o){r||(T(i.$$.fragment,o),r=!0)},o:function(o){D(i.$$.fragment,o),r=!1},d:function(o){o&&se(t),Pe(i,o)}}}function Qk(n){var e,t;return e=new M$({props:{getItems:n[7],path:n[3],index:n[3].length,onSelect:n[9]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};8&r&&(o.path=i[3]),8&r&&(o.index=i[3].length),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function nF(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g=gi(n[0])||n[5]?" ":"Navigation bar",v=[tF,eF],b=[];function x(k,C){return k[5]?1:0}return t=x(n),i=b[t]=v[t](n),c=new Cn({props:{data:n[5]?Lx:Ax}}),{c:function(){e=K("div"),i.c(),r=ve(),o=K("button"),s=K("span"),a=Xe(g),l=ve(),Te(c.$$.fragment),j(s,"class","jse-navigation-bar-space svelte-1aycet9"),j(o,"type","button"),j(o,"class","jse-navigation-bar-edit svelte-1aycet9"),j(o,"title",f=n[5]?"Cancel editing the selected path":"Edit the selected path"),Ie(o,"flex",!n[5]),Ie(o,"editing",n[5]),j(e,"class","jse-navigation-bar svelte-1aycet9")},m:function(k,C){ae(k,e,C),b[t].m(e,null),z(e,r),z(e,o),z(o,s),z(s,a),z(o,l),Me(c,o,null),n[15](e),h=!0,p||(m=Ne(o,"click",n[10]),p=!0)},p:function(k,C){var S=Jt(C,1)[0],_=t;(t=x(k))===_?b[t].p(k,S):(De(),D(b[_],1,1,function(){b[_]=null}),ze(),(i=b[t])?i.p(k,S):(i=b[t]=v[t](k)).c(),T(i,1),i.m(e,r)),(!h||33&S)&&g!==(g=gi(k[0])||k[5]?" ":"Navigation bar")&&Dt(a,g);var E={};32&S&&(E.data=k[5]?Lx:Ax),c.$set(E),(!h||32&S&&f!==(f=k[5]?"Cancel editing the selected path":"Edit the selected path"))&&j(o,"title",f),(!h||32&S)&&Ie(o,"flex",!k[5]),(!h||32&S)&&Ie(o,"editing",k[5])},i:function(k){h||(T(i),T(c.$$.fragment,k),h=!0)},o:function(k){D(i),D(c.$$.fragment,k),h=!1},d:function(k){k&&se(e),b[t].d(),Pe(c),n[15](null),p=!1,m()}}}function iF(n,e,t){var i,r,o,s=ar("jsoneditor:NavigationBar"),a=e.json,l=e.selection,c=e.onSelect,f=e.onError,h=e.pathParser,p=!1;function m(v){s("select path",JSON.stringify(v)),c(wr(v,v))}function g(){t(5,p=!1)}return n.$$set=function(v){"json"in v&&t(0,a=v.json),"selection"in v&&t(13,l=v.selection),"onSelect"in v&&t(14,c=v.onSelect),"onError"in v&&t(1,f=v.onError),"pathParser"in v&&t(2,h=v.pathParser)},n.$$.update=function(){8192&n.$$.dirty&&t(3,i=l?At(l):[]),9&n.$$.dirty&&t(6,r=gi(Ct(a,i))),8&n.$$.dirty&&setTimeout(function(){if(o&&o.scrollTo){var v=o.scrollWidth-o.clientWidth;v>0&&(s("scrollTo ",v),o.scrollTo({left:v,behavior:"smooth"}))}})},[a,f,h,i,o,p,r,function(v){s("get items for path",v);var b=Ct(a,v);if(Array.isArray(b))return r8(0,b.length).map(String);if(li(b)){var x=Object.keys(b).slice(0);return x.sort(lv),x}return[]},function(v){return ts(a,v)},m,function(){t(5,p=!p)},g,function(v){g(),m(v)},l,c,function(v){pn[v?"unshift":"push"](function(){t(4,o=v)})}]}var rF=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,iF,nF,Yt,{json:0,selection:13,onSelect:14,onError:1,pathParser:2},Yq),r}return ct(t)}();function oF(n){Gt(n,"svelte-1vkjt6l",'.jse-search-box.svelte-1vkjt6l.svelte-1vkjt6l{border:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-radius:3px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);box-shadow:var(--jse-controls-box-shadow, 0 2px 6px 0 rgba(0, 0, 0, 0.24));display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-1vkjt6l .jse-search-form.svelte-1vkjt6l{display:flex;align-items:stretch}.jse-search-box.svelte-1vkjt6l .jse-search-form button.svelte-1vkjt6l,.jse-search-box.svelte-1vkjt6l .jse-search-form input.svelte-1vkjt6l{font-family:inherit;font-size:inherit}.jse-search-box.svelte-1vkjt6l .jse-search-form button.svelte-1vkjt6l{display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent)}.jse-search-box.svelte-1vkjt6l .jse-search-form button.svelte-1vkjt6l:hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1vkjt6l .jse-search-form input.svelte-1vkjt6l{color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:3px;background:var(--jse-input-background, var(--jse-background-color, #fff));height:28px;padding:0 5px;margin:0;flex:1;width:0;min-width:50px;outline:none}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-replace-toggle.svelte-1vkjt6l{padding:var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px));min-width:20px;background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents.svelte-1vkjt6l{flex:1;display:flex;flex-direction:column;padding:calc(0.5 * var(--jse-padding, 10px));gap:calc(0.5 * var(--jse-padding, 10px))}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section.svelte-1vkjt6l{flex:1;display:flex;align-items:center;position:relative;padding-left:32px}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section .jse-search-icon.svelte-1vkjt6l{color:inherit;cursor:inherit;background:inherit;position:absolute;top:calc(0.5 * var(--jse-padding, 10px));left:calc(0.5 * var(--jse-padding, 10px))}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section label.jse-search-input-label.svelte-1vkjt6l{flex:1;display:flex}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.svelte-1vkjt6l{color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.jse-visible.svelte-1vkjt6l{visibility:visible}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-replace-section.svelte-1vkjt6l{padding-left:32px;flex:1;display:flex}.jse-search-box.svelte-1vkjt6l .jse-search-form .jse-search-contents .jse-replace-section button.svelte-1vkjt6l{width:auto}')}function Zk(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G,I,U,B,ee=(n[3]!==-1?"".concat(n[3]+1,"/"):"")+"",F=!n[4]&&Jk(n),ne=[aF,sF],re=[];function R(N,P){return N[2]?0:1}a=R(n),l=re[a]=ne[a](n),k=new Cn({props:{data:T7}}),_=new Cn({props:{data:g7}}),te=new Cn({props:{data:uc}});var $=n[0]&&!n[4]&&Gk(n);return{c:function(){e=K("div"),t=K("form"),F&&F.c(),i=ve(),r=K("div"),o=K("div"),s=K("div"),l.c(),c=ve(),f=K("label"),h=K("input"),p=ve(),m=K("div"),g=Xe(ee),v=Xe(n[10]),b=ve(),x=K("button"),Te(k.$$.fragment),C=ve(),S=K("button"),Te(_.$$.fragment),E=ve(),q=K("button"),Te(te.$$.fragment),G=ve(),$&&$.c(),j(s,"class","jse-search-icon svelte-1vkjt6l"),j(h,"class","jse-search-input svelte-1vkjt6l"),j(h,"title","Enter text to search"),j(h,"type","text"),j(h,"placeholder","Find"),j(f,"class","jse-search-input-label svelte-1vkjt6l"),j(f,"about","jse-search input"),j(m,"class","jse-search-count svelte-1vkjt6l"),Ie(m,"jse-visible",n[8]!==""),j(x,"type","button"),j(x,"class","jse-search-next svelte-1vkjt6l"),j(x,"title","Go to next search result (Enter)"),j(S,"type","button"),j(S,"class","jse-search-previous svelte-1vkjt6l"),j(S,"title","Go to previous search result (Shift+Enter)"),j(q,"type","button"),j(q,"class","jse-search-clear svelte-1vkjt6l"),j(q,"title","Close search box (Esc)"),j(o,"class","jse-search-section svelte-1vkjt6l"),j(r,"class","jse-search-contents svelte-1vkjt6l"),j(t,"class","jse-search-form svelte-1vkjt6l"),j(e,"class","jse-search-box svelte-1vkjt6l")},m:function(N,P){ae(N,e,P),z(e,t),F&&F.m(t,null),z(t,i),z(t,r),z(r,o),z(o,s),re[a].m(s,null),z(o,c),z(o,f),z(f,h),as(h,n[8]),z(o,p),z(o,m),z(m,g),z(m,v),z(o,b),z(o,x),Me(k,x,null),z(o,C),z(o,S),Me(_,S,null),z(o,E),z(o,q),Me(te,q,null),z(r,G),$&&$.m(r,null),I=!0,U||(B=[Ne(h,"input",n[21]),or(cF.call(null,h)),Ne(x,"click",n[22]),Ne(S,"click",n[23]),Ne(q,"click",n[24]),Ne(t,"submit",n[12]),Ne(t,"keydown",n[13])],U=!0)},p:function(N,P){N[4]?F&&(De(),D(F,1,1,function(){F=null}),ze()):F?(F.p(N,P),16&P&&T(F,1)):((F=Jk(N)).c(),T(F,1),F.m(t,i));var A=a;(a=R(N))!==A&&(De(),D(re[A],1,1,function(){re[A]=null}),ze(),(l=re[a])||(l=re[a]=ne[a](N)).c(),T(l,1),l.m(s,null)),256&P&&h.value!==N[8]&&as(h,N[8]),(!I||8&P)&&ee!==(ee=(N[3]!==-1?"".concat(N[3]+1,"/"):"")+"")&&Dt(g,ee),(!I||1024&P)&&Dt(v,N[10]),(!I||256&P)&&Ie(m,"jse-visible",N[8]!==""),N[0]&&!N[4]?$?$.p(N,P):(($=Gk(N)).c(),$.m(r,null)):$&&($.d(1),$=null)},i:function(N){I||(T(F),T(l),T(k.$$.fragment,N),T(_.$$.fragment,N),T(te.$$.fragment,N),I=!0)},o:function(N){D(F),D(l),D(k.$$.fragment,N),D(_.$$.fragment,N),D(te.$$.fragment,N),I=!1},d:function(N){N&&se(e),F&&F.d(),re[a].d(),Pe(k),Pe(_),Pe(te),$&&$.d(),U=!1,Yn(B)}}}function Jk(n){var e,t,i,r,o;return t=new Cn({props:{data:n[0]?uo:ia}}),{c:function(){e=K("button"),Te(t.$$.fragment),j(e,"type","button"),j(e,"class","jse-replace-toggle svelte-1vkjt6l"),j(e,"title","Toggle visibility of replace options (Ctrl+H)")},m:function(s,a){ae(s,e,a),Me(t,e,null),i=!0,r||(o=Ne(e,"click",n[11]),r=!0)},p:function(s,a){var l={};1&a&&(l.data=s[0]?uo:ia),t.$set(l)},i:function(s){i||(T(t.$$.fragment,s),i=!0)},o:function(s){D(t.$$.fragment,s),i=!1},d:function(s){s&&se(e),Pe(t),r=!1,o()}}}function sF(n){var e,t;return e=new Cn({props:{data:v0}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function aF(n){var e,t;return e=new Cn({props:{data:u7,spin:!0}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function Gk(n){var e,t,i,r,o,s,a,l;return{c:function(){e=K("div"),t=K("input"),i=ve(),(r=K("button")).textContent="Replace",o=ve(),(s=K("button")).textContent="All",j(t,"class","jse-replace-input svelte-1vkjt6l"),j(t,"title","Enter replacement text"),j(t,"type","text"),j(t,"placeholder","Replace"),j(r,"type","button"),j(r,"title","Replace current occurrence (Ctrl+Enter)"),j(r,"class","svelte-1vkjt6l"),j(s,"type","button"),j(s,"title","Replace all occurrences"),j(s,"class","svelte-1vkjt6l"),j(e,"class","jse-replace-section svelte-1vkjt6l")},m:function(c,f){ae(c,e,f),z(e,t),as(t,n[9]),z(e,i),z(e,r),z(e,o),z(e,s),a||(l=[Ne(t,"input",n[25]),Ne(r,"click",n[14]),Ne(s,"click",n[15])],a=!0)},p:function(c,f){512&f&&t.value!==c[9]&&as(t,c[9])},d:function(c){c&&se(e),a=!1,Yn(l)}}}function lF(n){var e,t,i=n[1]&&Zk(n);return{c:function(){i&&i.c(),e=On()},m:function(r,o){i&&i.m(r,o),ae(r,e,o),t=!0},p:function(r,o){var s=Jt(o,1)[0];r[1]?i?(i.p(r,s),2&s&&T(i,1)):((i=Zk(r)).c(),T(i,1),i.m(e.parentNode,e)):i&&(De(),D(i,1,1,function(){i=null}),ze())},i:function(r){t||(T(i),t=!0)},o:function(r){D(i),t=!1},d:function(r){r&&se(e),i&&i.d(r)}}}function cF(n){n.select()}function uF(n,e,t){var i,r,o=e.show,s=o!==void 0&&o,a=e.searching,l=e.resultCount,c=l===void 0?0:l,f=e.activeIndex,h=f===void 0?0:f,p=e.showReplace,m=p!==void 0&&p,g=e.readOnly,v=g!==void 0&&g,b=e.onChange,x=b===void 0?xi:b,k=e.onPrevious,C=k===void 0?xi:k,S=e.onNext,_=S===void 0?xi:S,E=e.onReplace,q=E===void 0?xi:E,te=e.onReplaceAll,G=te===void 0?xi:te,I=e.onClose,U=I===void 0?xi:I,B="",ee="",F="";function ne(){t(0,m=!m&&!v)}function re(){v||q(B,F)}return n.$$set=function(R){"show"in R&&t(1,s=R.show),"searching"in R&&t(2,a=R.searching),"resultCount"in R&&t(16,c=R.resultCount),"activeIndex"in R&&t(3,h=R.activeIndex),"showReplace"in R&&t(0,m=R.showReplace),"readOnly"in R&&t(4,v=R.readOnly),"onChange"in R&&t(17,x=R.onChange),"onPrevious"in R&&t(5,C=R.onPrevious),"onNext"in R&&t(6,_=R.onNext),"onReplace"in R&&t(18,q=R.onReplace),"onReplaceAll"in R&&t(19,G=R.onReplaceAll),"onClose"in R&&t(7,U=R.onClose)},n.$$.update=function(){65536&n.$$.dirty&&t(10,i=c>=PO?"".concat(999,"+"):String(c)),131072&n.$$.dirty&&t(20,r=xv(x,300)),1048832&n.$$.dirty&&r(B),2&n.$$.dirty&&s&&B!==""&&x(B)},[m,s,a,h,v,C,_,U,B,F,i,ne,function(R){R.preventDefault(),B!==ee?(ee=B,r.cancel(),x(B)):_()},function(R){R.stopPropagation();var $=Sa(R);$==="Enter"&&(R.preventDefault(),_()),$==="Shift+Enter"&&(R.preventDefault(),C()),$==="Ctrl+Enter"&&(R.preventDefault(),m?re():_()),$==="Ctrl+H"&&(R.preventDefault(),ne()),$==="Escape"&&(R.preventDefault(),U())},re,function(){v||G(B,F)},c,x,q,G,r,function(){B=this.value,t(8,B)},function(){return _()},function(){return C()},function(){return U()},function(){F=this.value,t(9,F)}]}var fF=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,uF,lF,Yt,{show:1,searching:2,resultCount:16,activeIndex:3,showReplace:0,readOnly:4,onChange:17,onPrevious:5,onNext:6,onReplace:18,onReplaceAll:19,onClose:7},oF),r}return ct(t)}(),Uu=Symbol("path");function hF(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0,i={};Array.isArray(n)&&function(o,s,a){if(o.length<s)o.forEach(a);else for(var l=s>1?(o.length-1)/(s-1):o.length,c=0;c<s;c++){var f=Math.floor(c*l);a(o[f],f,o)}}(n,t,function(o){li(o)?P$(o,i,e):i[Uu]=!0});var r=[];return Uu in i&&r.push([]),T$(i,[],r,e),r}function P$(n,e,t){for(var i in n){var r=n[i],o=e[i]||(e[i]={});li(r)&&t?P$(r,o,t):o[Uu]===void 0&&(o[Uu]=!0)}}function T$(n,e,t,i){for(var r in n){var o=e.concat(r),s=n[r];s&&s[Uu]===!0&&t.push(o),Di(s)&&i&&T$(s,o,t,i)}}function dF(n,e,t,i,r){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:80,s=hi(t)?t.length:0,a=function(x,k){var C=Object.values(x);if(An(C))return k;var S=function(_,E){return _+E};return C.reduce(S)/C.length}(i,r),l=n-o,c=e+2*o,f=function(x){return i[x]||r},h=0,p=0;p<l&&h<s;)p+=f(h),h++;h>0&&(p-=f(--h));for(var m=h,g=0;g<c&&m<s;)g+=f(m),m++;for(var v=0,b=m;b<s;b++)v+=f(b);return{startIndex:h,endIndex:m,startHeight:p,endHeight:v,averageItemHeight:a,visibleHeight:g,visibleItems:hi(t)?t.slice(h,m):[]}}function $m(n,e,t,i){for(var r=ao(n,e).rowIndex,o=0,s=0;s<r;s++)o+=t[s]||i;return o}function ao(n,e){var t,i=hO(t=n)||pO(t)||ap(t)||fO(),r=i[0],o=i.slice(1),s=parseInt(r,10);return{rowIndex:isNaN(s)?-1:s,columnIndex:e.findIndex(function(a){return xa(o,a)})}}function Fa(n,e){var t=n.rowIndex,i=n.columnIndex;return[String(t)].concat(ln(e[i]))}function pF(n,e){var t=Jt(l8(n,function(a){return n1(a.path[0])}),2),i=t[0],r=t[1],o=zd(i,mF),s=c8(o,function(a){var l={row:[],columns:{}};return a.forEach(function(c){var f=function(h,p){var m=ao(h.path,p);return m.columnIndex!==-1?m.columnIndex:-1}(c,e);f!==-1?(l.columns[f]===void 0&&(l.columns[f]=[]),l.columns[f].push(c)):l.row.push(c)}),l});return{root:r,rows:s}}function k1(n,e){if(e&&e.length!==0)return e.length===1?e[0]:{path:n,message:"Multiple validation issues: "+e.map(function(t){return zr(t.path)+" "+t.message}).join(", "),severity:Is.warning}}function mF(n){return parseInt(n.path[0],10)}function gF(n,e,t){return e.some(function(i){return function(r,o,s){if(!r)return!1;if(o.op==="replace"){var a=ao(Es(o.path),s),l=a.rowIndex,c=a.columnIndex,f=s.findIndex(function(h){return jn(h,r.path)});if(l!==-1&&c!==-1&&c!==f)return!1}return!0}(n.sortedColumn,i,t)})?ke(ke({},n),{},{sortedColumn:null}):n}var Or=ar("jsoneditor:actions");function E$(n){return cv.apply(this,arguments)}function cv(){return cv=Xt(Ge().mark(function n(e){var t,i,r,o,s,a,l,c,f,h;return Ge().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(t=e.json,i=e.documentState,r=e.indentation,o=e.readOnly,s=e.parser,a=e.onPatch,!o&&t!==void 0&&i.selection&&$c(i.selection)){p.next=3;break}return p.abrupt("return");case 3:if((l=i$(t,i.selection,r,s))!=null){p.next=6;break}return p.abrupt("return");case 6:return Or("cut",{selection:i.selection,clipboard:l,indentation:r}),p.next=9,w1(l);case 9:c=a$(t,i.selection),f=c.operations,h=c.newSelection,a(f,function(m,g){return{state:ke(ke({},g),{},{selection:h})}});case 11:case"end":return p.stop()}},n)})),cv.apply(this,arguments)}function A$(n){return uv.apply(this,arguments)}function uv(){return uv=Xt(Ge().mark(function n(e){var t,i,r,o,s;return Ge().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.json,i=e.documentState,r=e.indentation,o=e.parser,(s=i$(t,i.selection,r,o))!=null){a.next=4;break}return a.abrupt("return");case 4:return Or("copy",{clipboard:s,indentation:r}),a.next=7,w1(s);case 7:case"end":return a.stop()}},n)})),uv.apply(this,arguments)}function R$(n){var e=n.clipboardText,t=n.json,i=n.selection,r=n.readOnly,o=n.parser,s=n.onPatch,a=n.onChangeText,l=n.openRepairModal;if(!r)try{c(e)}catch{l(e,function(h){Or("repaired pasted text: ",h),c(h)})}function c(f){if(t!==void 0){var h=i||fn([],!1),p=s$(t,h,f,o);Or("paste",{pastedText:f,operations:p,selectionNonNull:h}),s(p,function(m,g){var v=g;return p.filter(function(b){return(fj(b)||Sv(b))&&gi(b.value)}).forEach(function(b){var x=Cs(t,b.path);v=Ys(m,v,x)}),{state:v}})}else Or("paste text",{pastedText:f}),a(e,function(m,g){if(m)return{state:Ys(m,g,[])}})}}function L$(n){var e=n.json,t=n.text,i=n.documentState,r=n.keepSelection,o=n.readOnly,s=n.onChange,a=n.onPatch;if(!o&&i.selection){var l=e!==void 0&&(Ei(i.selection)||_n(i.selection))?wr(i.selection.path,i.selection.path):i.selection;if(An(At(i.selection)))Or("remove root",{selection:i.selection}),s&&s({text:"",json:void 0},e!==void 0?{text:void 0,json:e}:{text:t||"",json:e},{contentErrors:null,patchResult:null});else if(e!==void 0){var c=a$(e,l),f=c.operations,h=c.newSelection;Or("remove",{operations:f,selection:i.selection,newSelection:h}),a(f,function(p,m){return{state:ke(ke({},m),{},{selection:r?i.selection:h})}})}}}function vF(n){var e=n.json,t=n.documentState,i=n.columns,r=n.readOnly,o=n.onPatch;if(!r&&e!==void 0&&t.selection&&$c(t.selection)){var s=ao(At(t.selection),i),a=s.rowIndex,l=s.columnIndex;Or("duplicate row",{rowIndex:a});var c=[String(a)];o(o$(e,[c]),function(f,h){var p=fn(Fa({rowIndex:a<e.length?a+1:a,columnIndex:l},i),!1);return{state:ke(ke({},h),{},{selection:p})}})}}function yF(n){var e=n.json,t=n.documentState,i=n.columns,r=n.readOnly,o=n.onPatch;if(!r&&e!==void 0&&t.selection&&$c(t.selection)){var s=ao(At(t.selection),i).rowIndex;Or("insert before row",{rowIndex:s}),o(zl(e,[String(s)],[{key:"",value:Di(e[0])?{}:""}]))}}function bF(n){var e=n.json,t=n.documentState,i=n.columns,r=n.readOnly,o=n.onPatch;if(!r&&e!==void 0&&t.selection&&$c(t.selection)){var s=ao(At(t.selection),i),a=s.rowIndex,l=s.columnIndex;Or("insert after row",{rowIndex:a});var c=a+1,f=[String(c)],h=[{key:"",value:Di(e[0])?{}:""}];o(c<e.length?zl(e,f,h):ev(e,[],h),function(p,m){var g=fn(Fa({rowIndex:c,columnIndex:l},i),!1);return{state:ke(ke({},m),{},{selection:g})}})}}function xF(n){var e=n.json,t=n.documentState,i=n.columns,r=n.readOnly,o=n.onPatch;if(!r&&e!==void 0&&t.selection&&$c(t.selection)){var s=ao(At(t.selection),i),a=s.rowIndex,l=s.columnIndex;Or("remove row",{rowIndex:a}),o(Md([[String(a)]]),function(c,f){var h=a<c.length?a:a>0?a-1:void 0,p=h!==void 0?fn(Fa({rowIndex:h,columnIndex:l},i),!1):null;return Or("remove row new selection",{rowIndex:a,newRowIndex:h,newSelection:p}),{state:ke(ke({},f),{},{selection:p})}})}}function Ld(n){var e=n.insertType,t=n.selectInside,i=n.refJsonEditor,r=n.json,o=n.selection,s=n.readOnly,a=n.parser,l=n.onPatch,c=n.onReplaceJson;if(!s){var f=function(v,b,x){if(x==="object")return{};if(x==="array")return[];if(x==="structure"&&v!==void 0){var k=b?t$(b):[],C=Ct(v,k);if(Array.isArray(C)&&!An(C)){var S=Ss(C);return gi(S)?f8(S,function(_){return Array.isArray(_)?[]:li(_)?void 0:""}):""}}return""}(r,o,e);if(r!==void 0){var h=a.stringify(f),p=s$(r,o,h,a);Or("onInsert",{insertType:e,operations:p,newValue:f,data:h});var m=yn(p.filter(function(v){return v.op==="add"||v.op==="replace"}));l(p,function(v,b){if(m){var x=Cs(v,m.path);if(gi(f))return{state:ke(ke({},oo(v,b,x,mu)),{},{selection:t?zs(x):b.selection})};if(f===""){var k=An(x)?null:Ct(v,kn(x));return{state:Xg(v,ke(ke({},b),{},{selection:li(k)?po(x,!0):fn(x,!0)}),x)}}}}),Or("after patch"),m&&f===""&&Id(function(){return Sd(i,"",!0,Nd)})}else{Or("onInsert",{insertType:e,newValue:f});var g=[];c(f,function(v,b){return{state:ke(ke({},Ys(v,b,g)),{},{selection:gi(f)?zs(g):fn(g,!0)})}})}}}function I$(n){return fv.apply(this,arguments)}function fv(){return fv=Xt(Ge().mark(function n(e){var t,i,r,o,s,a,l,c,f,h,p,m;return Ge().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(t=e.char,i=e.selectInside,r=e.refJsonEditor,o=e.json,s=e.selection,a=e.readOnly,l=e.parser,c=e.onPatch,f=e.onReplaceJson,h=e.onSelect,!a){g.next=3;break}return g.abrupt("return");case 3:if(!Ei(s)){g.next=8;break}return p=!s.edit,h(ke(ke({},s),{},{edit:!0})),Id(function(){return Sd(r,t,p,Nd)}),g.abrupt("return");case 8:if(t!=="{"){g.next=12;break}Ld({insertType:"object",selectInside:i,refJsonEditor:r,json:o,selection:s,readOnly:a,parser:l,onPatch:c,onReplaceJson:f}),g.next=23;break;case 12:if(t!=="["){g.next=16;break}Ld({insertType:"array",selectInside:i,refJsonEditor:r,json:o,selection:s,readOnly:a,parser:l,onPatch:c,onReplaceJson:f}),g.next=23;break;case 16:if(!_n(s)||o===void 0){g.next=20;break}gi(Ct(o,s.path))||(m=!s.edit,h(ke(ke({},s),{},{edit:!0})),Id(function(){return Sd(r,t,m,Nd)})),g.next=23;break;case 20:return Or("onInsertValueWithCharacter",{char:t}),g.next=23,wF({char:t,refJsonEditor:r,json:o,selection:s,readOnly:a,parser:l,onPatch:c,onReplaceJson:f});case 23:case"end":return g.stop()}},n)})),fv.apply(this,arguments)}function wF(n){return hv.apply(this,arguments)}function hv(){return hv=Xt(Ge().mark(function n(e){var t,i,r,o,s,a,l,c,f;return Ge().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t=e.char,i=e.refJsonEditor,r=e.json,o=e.selection,s=e.readOnly,a=e.parser,l=e.onPatch,c=e.onReplaceJson,!s){h.next=3;break}return h.abrupt("return");case 3:Ld({insertType:"value",selectInside:!1,refJsonEditor:i,json:r,selection:o,readOnly:s,parser:a,onPatch:l,onReplaceJson:c}),f=!$r(o),Id(function(){return Sd(i,t,f,Nd)});case 6:case"end":return h.stop()}},n)})),hv.apply(this,arguments)}function Id(n){setTimeout(function(){return setTimeout(n)})}function Nd(n){n==null||n.refresh()}function kF(n){Gt(n,"svelte-l2z0i3",'.jse-json-preview.svelte-l2z0i3{flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;padding:2px;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}')}function _F(n){var e,t;return{c:function(){e=K("div"),t=Xe(n[0]),j(e,"class","jse-json-preview svelte-l2z0i3")},m:function(i,r){ae(i,e,r),z(e,t)},p:function(i,r){1&Jt(r,1)[0]&&Dt(t,i[0])},i:Ve,o:Ve,d:function(i){i&&se(e)}}}function jF(n,e,t){var i,r,o=e.text,s=e.json,a=e.indentation,l=e.parser;return n.$$set=function(c){"text"in c&&t(1,o=c.text),"json"in c&&t(2,s=c.json),"indentation"in c&&t(3,a=c.indentation),"parser"in c&&t(4,l=c.parser)},n.$$.update=function(){6&n.$$.dirty&&t(5,i=s!==void 0?{json:s}:{text:o||""}),56&n.$$.dirty&&t(0,r=Bs(Gg(i,a,l),Wg))},[r,o,s,a,l,i]}var N$=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,jF,_F,Gi,{text:1,json:2,indentation:3,parser:4},kF),r}return ct(t)}(),SF=K0.window;function CF(n){Gt(n,"svelte-vx4hzc",'.jse-tree-mode.svelte-vx4hzc.svelte-vx4hzc{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px))}.jse-tree-mode.svelte-vx4hzc .jse-hidden-input-label .jse-hidden-input.svelte-vx4hzc{position:fixed;top:-10px;left:-10px;width:1px;height:1px;padding:0;border:0;outline:none}.jse-tree-mode.svelte-vx4hzc .jse-search-box-container.svelte-vx4hzc{position:relative;height:0;top:var(--jse-padding, 10px);margin-right:calc(var(--jse-padding, 10px) + 20px);margin-left:var(--jse-padding, 10px);text-align:right;z-index:3}.jse-tree-mode.no-main-menu.svelte-vx4hzc.svelte-vx4hzc{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vx4hzc .jse-contents.svelte-vx4hzc{border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column}.jse-tree-mode.svelte-vx4hzc .jse-contents.svelte-vx4hzc:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-tree-mode.svelte-vx4hzc .jse-contents .jse-loading-space.svelte-vx4hzc{flex:1}.jse-tree-mode.svelte-vx4hzc .jse-contents .jse-loading.svelte-vx4hzc{flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}')}function Kk(n){var e,t,i;function r(s){n[79](s)}var o={json:n[11],selection:n[12].selection,readOnly:n[0],historyState:n[23],onExpandAll:n[41],onCollapseAll:n[42],onUndo:n[37],onRedo:n[38],onSort:n[39],onTransform:n[40],onContextMenu:n[46],onCopy:n[34],onRenderMenu:n[7]};return n[20]!==void 0&&(o.showSearch=n[20]),e=new Nq({props:o}),pn.push(function(){return So(e,"showSearch",r)}),{c:function(){Te(e.$$.fragment)},m:function(s,a){Me(e,s,a),i=!0},p:function(s,a){var l={};2048&a[0]&&(l.json=s[11]),4096&a[0]&&(l.selection=s[12].selection),1&a[0]&&(l.readOnly=s[0]),8388608&a[0]&&(l.historyState=s[23]),128&a[0]&&(l.onRenderMenu=s[7]),!t&&1048576&a[0]&&(t=!0,l.showSearch=s[20],jo(function(){return t=!1})),e.$set(l)},i:function(s){i||(T(e.$$.fragment,s),i=!0)},o:function(s){D(e.$$.fragment,s),i=!1},d:function(s){Pe(e,s)}}}function Xk(n){var e,t;return e=new rF({props:{json:n[11],selection:n[12].selection,onSelect:n[50],onError:n[6],pathParser:n[4]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};2048&r[0]&&(o.json=i[11]),4096&r[0]&&(o.selection=i[12].selection),64&r[0]&&(o.onError=i[6]),16&r[0]&&(o.pathParser=i[4]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function OF(n){var e;return{c:function(){(e=K("div")).innerHTML='<div class="jse-loading-space svelte-vx4hzc"></div> <div class="jse-loading svelte-vx4hzc">loading...</div>',j(e,"class","jse-contents svelte-vx4hzc")},m:function(t,i){ae(t,e,i)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e)}}}function $F(n){var e,t,i,r,o,s,a,l,c,f=[PF,MF],h=[];function p(m,g){return m[11]===void 0?0:1}return r=p(n),o=h[r]=f[r](n),{c:function(){e=K("label"),t=K("input"),i=ve(),o.c(),s=On(),j(t,"type","text"),t.readOnly=!0,j(t,"tabindex","-1"),j(t,"class","jse-hidden-input svelte-vx4hzc"),j(e,"class","jse-hidden-input-label")},m:function(m,g){ae(m,e,g),z(e,t),n[80](t),ae(m,i,g),h[r].m(m,g),ae(m,s,g),a=!0,l||(c=Ne(t,"paste",n[35]),l=!0)},p:function(m,g){var v=r;(r=p(m))===v?h[r].p(m,g):(De(),D(h[v],1,1,function(){h[v]=null}),ze(),(o=h[r])?o.p(m,g):(o=h[r]=f[r](m)).c(),T(o,1),o.m(s.parentNode,s))},i:function(m){a||(T(o),a=!0)},o:function(m){D(o),a=!1},d:function(m){m&&(se(e),se(i),se(s)),n[80](null),h[r].d(m),l=!1,c()}}}function MF(n){var e,t,i,r,o,s,a,l,c,f,h,p,m;o=new fF({props:{show:n[20],resultCount:((e=n[18])===null||e===void 0||(e=e.items)===null||e===void 0?void 0:e.length)||0,activeIndex:((t=n[18])===null||t===void 0?void 0:t.activeIndex)||0,showReplace:n[21],searching:n[22],readOnly:n[0],onChange:n[27],onNext:n[28],onPrevious:n[29],onReplace:n[30],onReplaceAll:n[31],onClose:n[32]}}),l=new Tq({props:{value:n[11],path:[],expandedMap:n[12].expandedMap,enforceStringMap:n[12].enforceStringMap,visibleSectionsMap:n[12].visibleSectionsMap,validationErrorsMap:n[25],searchResultItemsMap:(i=n[18])===null||i===void 0?void 0:i.itemsMap,selection:n[12].selection,context:n[14],onDragSelectionStart:xi}});var g=n[19]&&Yk(n),v=n[24]&&e_(n);return p=new m1({props:{validationErrors:n[13],selectError:n[33]}}),{c:function(){r=K("div"),Te(o.$$.fragment),s=ve(),a=K("div"),Te(l.$$.fragment),c=ve(),g&&g.c(),f=ve(),v&&v.c(),h=ve(),Te(p.$$.fragment),j(r,"class","jse-search-box-container svelte-vx4hzc"),j(a,"class","jse-contents svelte-vx4hzc"),j(a,"data-jsoneditor-scrollable-contents",!0)},m:function(b,x){ae(b,r,x),Me(o,r,null),ae(b,s,x),ae(b,a,x),Me(l,a,null),n[84](a),ae(b,c,x),g&&g.m(b,x),ae(b,f,x),v&&v.m(b,x),ae(b,h,x),Me(p,b,x),m=!0},p:function(b,x){var k,C,S,_={};1048576&x[0]&&(_.show=b[20]),262144&x[0]&&(_.resultCount=((k=b[18])===null||k===void 0||(k=k.items)===null||k===void 0?void 0:k.length)||0),262144&x[0]&&(_.activeIndex=((C=b[18])===null||C===void 0?void 0:C.activeIndex)||0),2097152&x[0]&&(_.showReplace=b[21]),4194304&x[0]&&(_.searching=b[22]),1&x[0]&&(_.readOnly=b[0]),o.$set(_);var E={};2048&x[0]&&(E.value=b[11]),4096&x[0]&&(E.expandedMap=b[12].expandedMap),4096&x[0]&&(E.enforceStringMap=b[12].enforceStringMap),4096&x[0]&&(E.visibleSectionsMap=b[12].visibleSectionsMap),33554432&x[0]&&(E.validationErrorsMap=b[25]),262144&x[0]&&(E.searchResultItemsMap=(S=b[18])===null||S===void 0?void 0:S.itemsMap),4096&x[0]&&(E.selection=b[12].selection),16384&x[0]&&(E.context=b[14]),l.$set(E),b[19]?g?(g.p(b,x),524288&x[0]&&T(g,1)):((g=Yk(b)).c(),T(g,1),g.m(f.parentNode,f)):g&&(De(),D(g,1,1,function(){g=null}),ze()),b[24]?v?(v.p(b,x),16777216&x[0]&&T(v,1)):((v=e_(b)).c(),T(v,1),v.m(h.parentNode,h)):v&&(De(),D(v,1,1,function(){v=null}),ze());var q={};8192&x[0]&&(q.validationErrors=b[13]),p.$set(q)},i:function(b){m||(T(o.$$.fragment,b),T(l.$$.fragment,b),T(g),T(v),T(p.$$.fragment,b),m=!0)},o:function(b){D(o.$$.fragment,b),D(l.$$.fragment,b),D(g),D(v),D(p.$$.fragment,b),m=!1},d:function(b){b&&(se(r),se(s),se(a),se(c),se(f),se(h)),Pe(o),Pe(l),n[84](null),g&&g.d(b),v&&v.d(b),Pe(p,b)}}}function PF(n){var e,t,i,r,o=[EF,TF],s=[];function a(l,c){return l[17]===""||l[17]===void 0?0:1}return e=a(n),t=s[e]=o[e](n),{c:function(){t.c(),i=On()},m:function(l,c){s[e].m(l,c),ae(l,i,c),r=!0},p:function(l,c){var f=e;(e=a(l))===f?s[e].p(l,c):(De(),D(s[f],1,1,function(){s[f]=null}),ze(),(t=s[e])?t.p(l,c):(t=s[e]=o[e](l)).c(),T(t,1),t.m(i.parentNode,i))},i:function(l){r||(T(t),r=!0)},o:function(l){D(t),r=!1},d:function(l){l&&se(i),s[e].d(l)}}}function Yk(n){var e,t;return e=new Ro({props:{type:"info",message:"You pasted a JSON ".concat(Array.isArray(n[19].contents)?"array":"object"," as text"),actions:[{icon:op,text:"Paste as JSON instead",title:"Replace the value with the pasted JSON",onMouseDown:n[47]},{text:"Leave as is",title:"Keep the JSON embedded in the value",onClick:n[48]}]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};524288&r[0]&&(o.message="You pasted a JSON ".concat(Array.isArray(i[19].contents)?"array":"object"," as text")),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function e_(n){var e,t;return e=new Ro({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:Bu,text:"Ok",title:"Accept the repaired document",onClick:n[8]},{icon:ba,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:n[49]}],onClose:n[9]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r[0]&&(o.actions=i[0]?[]:[{icon:Bu,text:"Ok",title:"Accept the repaired document",onClick:i[8]},{icon:ba,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:i[49]}]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function TF(n){var e,t,i,r;return e=new Ro({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:ba,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:n[49]}]}}),i=new N$({props:{text:n[17],json:n[11],indentation:n[5],parser:n[3]}}),{c:function(){Te(e.$$.fragment),t=ve(),Te(i.$$.fragment)},m:function(o,s){Me(e,o,s),ae(o,t,s),Me(i,o,s),r=!0},p:function(o,s){var a={};1&s[0]&&(a.actions=o[0]?[]:[{icon:ba,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:o[49]}]),e.$set(a);var l={};131072&s[0]&&(l.text=o[17]),2048&s[0]&&(l.json=o[11]),32&s[0]&&(l.indentation=o[5]),8&s[0]&&(l.parser=o[3]),i.$set(l)},i:function(o){r||(T(e.$$.fragment,o),T(i.$$.fragment,o),r=!0)},o:function(o){D(e.$$.fragment,o),D(i.$$.fragment,o),r=!1},d:function(o){o&&se(t),Pe(e,o),Pe(i,o)}}}function EF(n){var e,t;return e=new qq({props:{readOnly:n[0],onCreateObject:n[81],onCreateArray:n[82],onClick:n[83]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r[0]&&(o.readOnly=i[0]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function AF(n){var e,t,i,r,o,s,a,l,c=n[1]&&Kk(n),f=n[2]&&Xk(n),h=[$F,OF],p=[];return r=function(m,g){return m[26]?1:0}(n),o=p[r]=h[r](n),{c:function(){e=K("div"),c&&c.c(),t=ve(),f&&f.c(),i=ve(),o.c(),j(e,"role","tree"),j(e,"tabindex","-1"),j(e,"class","jse-tree-mode svelte-vx4hzc"),Ie(e,"no-main-menu",!n[1])},m:function(m,g){ae(m,e,g),c&&c.m(e,null),z(e,t),f&&f.m(e,null),z(e,i),p[r].m(e,null),n[85](e),s=!0,a||(l=[Ne(SF,"mousedown",n[51]),Ne(e,"keydown",n[43]),Ne(e,"mousedown",n[44]),Ne(e,"contextmenu",n[45])],a=!0)},p:function(m,g){m[1]?c?(c.p(m,g),2&g[0]&&T(c,1)):((c=Kk(m)).c(),T(c,1),c.m(e,t)):c&&(De(),D(c,1,1,function(){c=null}),ze()),m[2]?f?(f.p(m,g),4&g[0]&&T(f,1)):((f=Xk(m)).c(),T(f,1),f.m(e,i)):f&&(De(),D(f,1,1,function(){f=null}),ze()),o.p(m,g),(!s||2&g[0])&&Ie(e,"no-main-menu",!m[1])},i:function(m){s||(T(c),T(f),T(o),s=!0)},o:function(m){D(c),D(f),D(o),s=!1},d:function(m){m&&se(e),c&&c.d(),f&&f.d(),p[r].d(),n[85](null),a=!1,Yn(l)}}}function RF(n,e,t){var i,r=ar("jsoneditor:TreeMode"),o=typeof window>"u";r("isSSR:",o);var s,a,l,c,f,h=sr("simple-modal").open,p=ic(),m=ic(),g=sr("absolute-popup"),v=g.openAbsolutePopup,b=g.closeAbsolutePopup,x=!1,k=w$(),C=e.readOnly,S=e.externalContent,_=e.externalSelection,E=e.mainMenuBar,q=e.navigationBar,te=e.escapeControlCharacters,G=e.escapeUnicodeCharacters,I=e.parser,U=e.parseMemoizeOne,B=e.validator,ee=e.validationParser,F=e.pathParser,ne=e.indentation,re=e.onError,R=e.onChange,$=e.onChangeMode,N=e.onSelect,P=e.onRenderValue,A=e.onRenderMenu,M=e.onRenderContextMenu,Z=e.onClassName,le=e.onFocus,de=e.onBlur,xe=e.onSortModal,oe=e.onTransformModal,Be=e.onJSONEditorModal,We=!1;p1({onMount:go,onDestroy:Xr,getWindow:function(){return Oc(l)},hasFocus:function(){return We&&document.hasFocus()||a1(l)},onFocus:function(){x=!0,le&&le()},onBlur:function(){x=!1,de&&de()}});var Ce=void 0;function be(X){r("updateSelection",X);var ge=typeof X=="function"?X(fe.selection)||null:X;jn(ge,fe.selection)||(t(12,fe=ke(ke({},fe),{},{selection:ge})),N(ge))}var Ze,Ye,et,qt=!1,fe=Od(),wt=!1,tt=!1,ce=!1,bt="";function Bt(X){return ut.apply(this,arguments)}function ut(){return ut=Xt(Ge().mark(function X(ge){return Ge().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return r("search text updated",ge),t(78,bt=ge),Le.next=4,Mi();case 4:return Le.next=6,J();case 6:case"end":return Le.stop()}},X)})),ut.apply(this,arguments)}function Kt(){return(Kt=Xt(Ge().mark(function X(){return Ge().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return t(18,Ze=Ze?B9(Ze):void 0),ge.next=3,J();case 3:case"end":return ge.stop()}},X)}))).apply(this,arguments)}function bn(){return(bn=Xt(Ge().mark(function X(){return Ge().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return t(18,Ze=Ze?D9(Ze):void 0),ge.next=3,J();case 3:case"end":return ge.stop()}},X)}))).apply(this,arguments)}function it(){return(it=Xt(Ge().mark(function X(ge,Le){var qe,Qe,Fe,xt,yt;return Ge().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(Qe=(qe=Ze)===null||qe===void 0?void 0:qe.activeItem,r("handleReplace",{replacementText:Le,activeItem:Qe}),Qe&&c!==void 0){$t.next=4;break}return $t.abrupt("return");case 4:return Fe=z9(c,fe,Le,Qe,I),xt=Fe.operations,yt=Fe.newSelection,Et(xt,function(Hn,Gn){return{state:ke(ke({},Gn),{},{selection:yt})}}),$t.next=8,Mi();case 8:return $t.next=10,J();case 10:case"end":return $t.stop()}},X)}))).apply(this,arguments)}function H(){return H=Xt(Ge().mark(function X(ge,Le){var qe,Qe,Fe;return Ge().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:return r("handleReplaceAll",{text:ge,replacementText:Le}),qe=q9(c,fe,ge,Le,I),Qe=qe.operations,Fe=qe.newSelection,Et(Qe,function(yt,$t){return{state:ke(ke({},$t),{},{selection:Fe})}}),xt.next=5,Mi();case 5:return xt.next=7,J();case 7:case"end":return xt.stop()}},X)})),H.apply(this,arguments)}function J(){return ie.apply(this,arguments)}function ie(){return(ie=Xt(Ge().mark(function X(){var ge,Le,qe;return Ge().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(Le=(ge=Ze)===null||ge===void 0?void 0:ge.activeItem,r("focusActiveSearchResult",Ze),!Le||c===void 0){Qe.next=9;break}return qe=Le.path,t(12,fe=ke(ke({},Xg(c,fe,qe)),{},{selection:null})),Qe.next=7,Mi();case 7:return Qe.next=9,ft(qe);case 9:case"end":return Qe.stop()}},X)}))).apply(this,arguments)}var me=k$({onChange:function(X){t(23,_e=X)}}),_e=me.getState(),Re,st,Tt=o8(function(X,ge){if(X==="")return r("clearing search result"),void(Ze!==void 0&&t(18,Ze=void 0));t(22,ce=!0),setTimeout(function(){r("searching...",X);var Le=c$(X,ge,PO);t(18,Ze=function(qe,Qe,Fe){var xt=Fe!=null&&Fe.activeItem?Bw(Fe.activeItem):void 0,yt=Qe.findIndex(function(Nn){return jn(xt,Bw(Nn))}),$t=yt!==-1?yt:(Fe==null?void 0:Fe.activeIndex)!==void 0&&(Fe==null?void 0:Fe.activeIndex)<Qe.length?Fe==null?void 0:Fe.activeIndex:Qe.length>0?0:-1,Hn=Qe.map(function(Nn,cr){return ke(ke({},Nn),{},{active:cr===$t})}),Gn=Hn[$t];return{items:Hn,itemsMap:zd(Hn,function(Nn){return at(Nn.path)}),activeItem:Gn,activeIndex:$t}}(0,Le,Ze)),t(22,ce=!1)})},300),Lt=!1,Ln=[],Qt=Ju(_$);function rt(X,ge,Le,qe){ql(function(){var Qe;try{Qe=Qt(X,ge,Le,qe)}catch(Fe){Qe=[{path:[],message:"Failed to validate: "+Fe.message,severity:Is.warning}]}jn(Qe,Ln)||(r("validationErrors changed:",Qe),t(13,Ln=Qe))},function(Qe){return r("validationErrors updated in ".concat(Qe," ms"))})}function $n(){return r("validate"),Ce?{parseError:Ce,isRepairable:!1}:(rt(c,B,I,ee),An(Ln)?null:{validationErrors:Ln})}function oi(){return c}function Mn(){return fe}function Qn(X){_s(X)?function(ge){if(ge!==void 0){var Le=!jn(c,ge);if(r("update external json",{isChanged:Le,currentlyText:c===void 0}),!!Le){var qe={json:c,text:f},Qe=fe,Fe=c,xt=f,yt=Lt;t(11,c=ge),Zn(c),t(17,f=void 0),t(24,Lt=!1),Ce=void 0,ei(c),xn({previousJson:Fe,previousState:Qe,previousText:xt,previousTextIsRepaired:yt}),Nt(qe,null)}}}(X.json):pc(X)&&function(ge){if(!(ge===void 0||_s(S))){var Le=ge!==f;if(r("update external text",{isChanged:Le}),!!Le){var qe={json:c,text:f},Qe=c,Fe=fe,xt=f,yt=Lt;try{t(11,c=U(ge)),Zn(c),t(17,f=ge),t(24,Lt=!1),Ce=void 0}catch($t){try{t(11,c=U(is(ge))),Zn(c),t(17,f=ge),t(24,Lt=!0),Ce=void 0,ei(c)}catch{t(11,c=void 0),t(17,f=S.text),t(24,Lt=!1),Ce=f!==void 0&&f!==""?dc(f,$t.message||String($t)):void 0}}ei(c),xn({previousJson:Qe,previousState:Fe,previousText:xt,previousTextIsRepaired:yt}),Nt(qe,null)}}}(X.text)}function Zn(X){qt||(qt=!0,t(12,fe=oo(X,fe,[],function(ge){return NO({json:ge},TO)?Ko:mu}(X))))}function ei(X){fe.selection&&(ts(X,Ha(fe.selection))&&ts(X,At(fe.selection))||(r("clearing selection: path does not exist anymore",fe.selection),t(12,fe=ke(ke({},fe),{},{selection:Sl(X,fe)}))))}function xn(X){var ge=X.previousJson,Le=X.previousState,qe=X.previousText,Qe=X.previousTextIsRepaired;ge===void 0&&qe===void 0||(c!==void 0?ge!==void 0?me.add({undo:{patch:[{op:"replace",path:"",value:ge}],state:br(Le),json:void 0,text:qe,textIsRepaired:Qe},redo:{patch:[{op:"replace",path:"",value:c}],state:br(fe),json:void 0,text:f,textIsRepaired:Lt}}):me.add({undo:{patch:void 0,json:void 0,text:qe,state:br(Le),textIsRepaired:Qe},redo:{patch:void 0,json:c,state:br(fe),text:f,textIsRepaired:Lt}}):ge!==void 0&&me.add({undo:{patch:void 0,json:ge,state:br(Le),text:qe,textIsRepaired:Qe},redo:{patch:void 0,json:void 0,text:f,textIsRepaired:Lt,state:br(fe)}}))}function je(X,ge){if(r("patch",X,ge),c===void 0)throw new Error("Cannot apply patch: no JSON");var Le={json:c,text:f},qe=c,Qe=fe,Fe=f,xt=Lt,yt=l$(c,X),$t=KO(c,fe,X),Hn=gc(c,X),Gn=function(Vn,Fi){return Fi||!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?ke(ke({},Vn),{},{selection:Fi}):Vn}($t.documentState,Hn,!1);r("patch updatedSelection",Hn);var Nn=typeof ge=="function"?ge($t.json,Gn):void 0;t(11,c=Nn&&Nn.json!==void 0?Nn.json:$t.json);var cr=Nn&&Nn.state!==void 0?Nn.state:Gn;t(12,fe=cr),t(17,f=void 0),t(24,Lt=!1),t(19,et=void 0),Ce=void 0,ei(c),me.add({undo:{patch:yt,json:void 0,text:Fe,state:br(Qe),textIsRepaired:xt},redo:{patch:X,json:void 0,state:br(cr),text:f,textIsRepaired:Lt}});var di={json:c,previousJson:qe,undo:yt,redo:X};return Nt(Le,di),di}function ot(){!C&&fe.selection&&be(po(At(fe.selection),!0))}function Vt(){if(!C&&fe.selection){var X=At(fe.selection),ge=Ct(c,X);gi(ge)?function(Le,qe){r("openJSONEditorModal",{path:Le,value:qe}),We=!0,Be({content:{json:qe},path:Le,onPatch:st.onPatch,onClose:function(){We=!1,ti()}})}(X,ge):be(fn(X,!0))}}function en(){if(!C&&_n(fe.selection)){var X=At(fe.selection),ge=at(X),Le=Ct(c,X),qe=!Ds(Le,fe.enforceStringMap,ge,I),Qe=qe?String(Le):Cc(String(Le),I);r("handleToggleEnforceString",{enforceString:qe,value:Le,updatedValue:Qe}),Et([{op:"replace",path:ge,value:Qe}],function(Fe,xt){return{state:GO(xt,ge,qe)}})}}function tn(){return rn.apply(this,arguments)}function rn(){return rn=Xt(Ge().mark(function X(){var ge,Le=arguments;return Ge().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return ge=!(Le.length>0&&Le[0]!==void 0)||Le[0],qe.next=3,E$({json:c,documentState:fe,indentation:ge?ne:void 0,readOnly:C,parser:I,onPatch:Et});case 3:case"end":return qe.stop()}},X)})),rn.apply(this,arguments)}function we(){return pt.apply(this,arguments)}function pt(){return pt=Xt(Ge().mark(function X(){var ge,Le=arguments;return Ge().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(ge=!(Le.length>0&&Le[0]!==void 0)||Le[0],c!==void 0){qe.next=3;break}return qe.abrupt("return");case 3:return qe.next=5,A$({json:c,documentState:fe,indentation:ge?ne:void 0,parser:I});case 5:case"end":return qe.stop()}},X)})),pt.apply(this,arguments)}function nt(){h(j$,{},ke(ke({},nl),{},{styleWindow:{width:"450px"}}),{onClose:function(){return ti()}})}function W(X,ge){h(C$,{text:X,onParse:function(Le){return up(Le,function(qe){return of(qe,I)})},onRepair:LO,onApply:ge},ke(ke({},nl),{},{styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}}),{onClose:function(){return ti()}})}function Q(){L$({json:c,text:f,documentState:fe,keepSelection:!1,readOnly:C,onChange:R,onPatch:Et})}function ue(){!C&&c!==void 0&&fe.selection&&$c(fe.selection)&&!An(At(fe.selection))&&(r("duplicate",{selection:fe.selection}),Et(o$(c,ua(c,fe.selection))))}function ye(){if(!C&&fe.selection&&(Wn(fe.selection)||_n(fe.selection))&&!An(At(fe.selection))){r("extract",{selection:fe.selection});var X=function(ge,Le){if(_n(Le))return[{op:"move",from:at(Le.path),path:""}];if(!Wn(Le))throw new Error("Cannot create extract operations: parent must be an Object or Array");var qe=kn(Le.focusPath),Qe=Ct(ge,qe);if(hi(Qe))return[{op:"replace",path:"",value:ua(ge,Le).map(function(xt){var yt=yr(yn(xt));return Qe[yt]})}];if(Di(Qe)){var Fe={};return ua(ge,Le).forEach(function(xt){var yt=String(yn(xt));Fe[yt]=Qe[yt]}),[{op:"replace",path:"",value:Fe}]}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(Le))}(c,fe.selection);Et(X,function(ge,Le){if(gi(ge))return{state:Ys(ge,Le,[])}})}}function $e(X){c!==void 0&&Ld({insertType:X,selectInside:!0,refJsonEditor:l,json:c,selection:fe.selection,readOnly:C,parser:I,onPatch:Et,onReplaceJson:hn})}function _t(X){Ei(fe.selection)&&be(fn(fe.selection.path,!1)),fe.selection||be(Sl(c,fe)),$e(X)}function It(X){if(!C&&fe.selection)if(Dh(fe.selection))try{var ge=Ha(fe.selection),Le=Ct(c,ge),qe=function(Fe,xt,yt){if(xt==="array"){if(Array.isArray(Fe))return Fe;if(li(Fe))return cw(Fe);if(typeof Fe=="string")try{var $t=yt.parse(Fe);if(Array.isArray($t))return $t;if(li($t))return cw($t)}catch{return[Fe]}return[Fe]}if(xt==="object"){if(Array.isArray(Fe))return lw(Fe);if(li(Fe))return Fe;if(typeof Fe=="string")try{var Hn=yt.parse(Fe);if(li(Hn))return Hn;if(Array.isArray(Hn))return lw(Hn)}catch{return{value:Fe}}return{value:Fe}}if(xt==="value")return gi(Fe)?yt.stringify(Fe):Fe;throw new Error("Cannot convert ".concat(i1(Fe,yt)," to ").concat(xt))}(Le,X,I);if(qe===Le)return;var Qe=[{op:"replace",path:at(ge),value:qe}];r("handleConvert",{selection:fe.selection,path:ge,type:X,operations:Qe}),Et(Qe,function(Fe,xt){return{state:fe.selection?Ys(Fe,xt,At(fe.selection)):fe}})}catch(Fe){re(Fe)}else re(new Error("Cannot convert current selection to ".concat(X)))}function an(){if(fe.selection){var X=Pw(c,fe,!1),ge=kn(At(fe.selection));X&&!An(At(X))&&jn(ge,kn(At(X)))?be($s(At(X))):be(zs(ge)),r("insert before",{selection:fe.selection,selectionBefore:X,parentPath:ge}),Mi().then(function(){return qi()})}}function gn(){if(fe.selection){var X=fa(c,fe.selection);r("insert after",X),be($s(X)),Mi().then(function(){return qi()})}}function In(X){return sn.apply(this,arguments)}function sn(){return(sn=Xt(Ge().mark(function X(ge){return Ge().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,I$({char:ge,selectInside:!0,refJsonEditor:l,json:c,selection:fe.selection,readOnly:C,parser:I,onPatch:Et,onReplaceJson:hn,onSelect:be});case 2:case"end":return Le.stop()}},X)}))).apply(this,arguments)}function Pn(){if(!C&&me.getState().canUndo){var X=me.undo();if(X){var ge={json:c,text:f};t(11,c=X.undo.patch?$o(c,X.undo.patch):X.undo.json),t(12,fe=X.undo.state),t(17,f=X.undo.text),t(24,Lt=X.undo.textIsRepaired),Ce=void 0,r("undo",{item:X,json:c,documentState:fe}),Nt(ge,X.undo.patch&&X.redo.patch?{json:c,previousJson:ge.json,redo:X.undo.patch,undo:X.redo.patch}:null),ti(),fe.selection&&ft(At(fe.selection),!1)}}}function qn(){if(!C&&me.getState().canRedo){var X=me.redo();if(X){var ge={json:c,text:f};t(11,c=X.redo.patch?$o(c,X.redo.patch):X.redo.json),t(12,fe=X.redo.state),t(17,f=X.redo.text),t(24,Lt=X.redo.textIsRepaired),Ce=void 0,r("redo",{item:X,json:c,documentState:fe}),Nt(ge,X.undo.patch&&X.redo.patch?{json:c,previousJson:ge.json,redo:X.redo.patch,undo:X.undo.patch}:null),ti(),fe.selection&&ft(At(fe.selection),!1)}}}function Y(X){var ge;C||c===void 0||(We=!0,xe({id:p,json:c,rootPath:X,onSort:(ge=Xt(Ge().mark(function Le(qe){var Qe;return Ge().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:Qe=qe.operations,r("onSort",X,Qe),Et(Qe,function(xt,yt){return{state:ke(ke({},Ys(xt,yt,X)),{},{selection:fn(X,!1)})}});case 3:case"end":return Fe.stop()}},Le)})),function(Le){return ge.apply(this,arguments)}),onClose:function(){We=!1,ti()}}))}function Ee(){fe.selection&&Y(Ew(c,fe.selection))}function Ue(X){if(c!==void 0){var ge=X.id,Le=X.onTransform,qe=X.onClose,Qe=X.rootPath||[];We=!0,oe({id:ge||m,json:c,rootPath:Qe,onTransform:function(Fe){Le?Le({operations:Fe,json:c,transformedJson:$o(c,Fe)}):(r("onTransform",Qe,Fe),Et(Fe,function(xt,yt){return{state:ke(ke({},Ys(xt,yt,Qe)),{},{selection:fn(Qe,!1)})}}))},onClose:function(){We=!1,ti(),qe&&qe()}})}}function Ke(){fe.selection&&Ue({rootPath:Ew(c,fe.selection)})}function ft(X){return Ft.apply(this,arguments)}function Ft(){return Ft=Xt(Ge().mark(function X(ge){var Le,qe,Qe,Fe,xt,yt=arguments;return Ge().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return Le=!(yt.length>1&&yt[1]!==void 0)||yt[1],t(12,fe=Xg(c,fe,ge)),$t.next=4,Mi();case 4:if(qe=vt(ge),r("scrollTo",{path:ge,elem:qe,refContents:s}),qe&&s){$t.next=8;break}return $t.abrupt("return",Promise.resolve());case 8:if(Qe=s.getBoundingClientRect(),Fe=qe.getBoundingClientRect(),Le){$t.next=13;break}if(!(Fe.bottom>Qe.top&&Fe.top<Qe.bottom)){$t.next=13;break}return $t.abrupt("return",Promise.resolve());case 13:return xt=-Qe.height/4,$t.abrupt("return",new Promise(function(Hn){k(qe,{container:s,offset:xt,duration:300,callback:function(){return Hn()}})}));case 15:case"end":return $t.stop()}},X)})),Ft.apply(this,arguments)}function vt(X){return s?s.querySelector('div[data-path="'.concat(mc(X),'"]')):null}function cn(X){var ge=vt(X);if(ge&&s){var Le=s.getBoundingClientRect(),qe=ge.getBoundingClientRect(),Qe=gi(Ct(c,X))?20:qe.height;qe.top<Le.top+20?k(ge,{container:s,offset:-20,duration:0}):qe.top+Qe>Le.bottom-20&&k(ge,{container:s,offset:-(Le.height-Qe-20),duration:0})}}function Nt(X,ge){var Le;if(X.json!==void 0||(X==null?void 0:X.text)!==void 0){if(f!==void 0)(Le=R)===null||Le===void 0||Le({text:f,json:void 0},X,{contentErrors:$n(),patchResult:ge});else if(c!==void 0){var qe;(qe=R)===null||qe===void 0||qe({text:void 0,json:c},X,{contentErrors:$n(),patchResult:ge})}}}function Et(X,ge){return C?{json:c,previousJson:c,undo:[],redo:[]}:(r("handlePatch",X,ge),je(X,ge))}function hn(X,ge){var Le=fe,qe=c,Qe=f,Fe={json:c,text:f},xt=Lt,yt=oo(c,fe,[],Ko),$t=typeof ge=="function"?ge(X,yt):void 0;t(11,c=$t&&$t.json!==void 0?$t.json:X),t(12,fe=$t&&$t.state!==void 0?$t.state:yt),t(17,f=void 0),t(24,Lt=!1),Ce=void 0,ei(c),xn({previousJson:qe,previousState:Le,previousText:Qe,previousTextIsRepaired:xt}),Nt(Fe,null)}function Rn(X,ge){r("handleChangeText");var Le=fe,qe=c,Qe=f,Fe={json:c,text:f},xt=Lt;try{t(11,c=U(X)),t(12,fe=oo(c,fe,[],Ko)),t(17,f=void 0),t(24,Lt=!1),Ce=void 0}catch($t){try{t(11,c=U(is(X))),t(12,fe=oo(c,fe,[],Ko)),t(17,f=X),t(24,Lt=!0),Ce=void 0}catch{t(11,c=void 0),t(12,fe=Od({json:c,expand:Ko})),t(17,f=X),t(24,Lt=!1),Ce=f!==""?dc(f,$t.message||String($t)):void 0}}if(typeof ge=="function"){var yt=ge(c,fe);t(11,c=yt&&yt.json?yt.json:c),t(12,fe=yt&&yt.state?yt.state:fe)}ei(c),xn({previousJson:qe,previousState:Le,previousText:Qe,previousTextIsRepaired:xt}),Nt(Fe,null)}function Jn(X,ge){var Le=arguments.length>2&&arguments[2]!==void 0&&arguments[2];r("expand",{path:X,expanded:ge,recursive:Le}),t(12,fe=ge?Le?oo(c,fe,X,mu):function(qe,Qe){return ke(ke({},qe),{},{expandedMap:ke(ke({},qe.expandedMap),{},Kr({},at(Qe),!0))})}(fe,X):Cw(fe,X)),fe.selection&&!ge&&function(qe,Qe){return xa(At(qe),Qe)&&(At(qe).length>Qe.length||Li(qe))}(fe.selection,X)&&be(null),ti()}function zi(X){r("openFind",{findAndReplace:X}),t(20,wt=!1),t(21,tt=!1),Mi().then(function(){t(20,wt=!0),t(21,tt=X)})}function Sn(X,ge){r("handleExpandSection",X,ge);var Le=at(X);t(12,fe=function(qe,Qe,Fe,xt){return ke(ke({},Qe),{},{visibleSectionsMap:ke(ke({},Qe.visibleSectionsMap),{},Kr({},Fe,JO(fp(Qe,Fe).concat(xt))))})}(0,fe,Le,ge))}function zn(X){r("pasted json as text",X),t(19,et=X)}function tr(X){var ge=X.anchor,Le=X.left,qe=X.top,Qe=X.width,Fe=X.height,xt=X.offsetTop,yt=X.offsetLeft,$t=X.showTip;We=!0;var Hn=v(Bz,{json:c,documentState:fe,parser:I,showTip:$t,onEditKey:ot,onEditValue:Vt,onToggleEnforceString:en,onCut:tn,onCopy:we,onPaste:nt,onRemove:Q,onDuplicate:ue,onExtract:ye,onInsertBefore:an,onInsert:_t,onConvert:It,onInsertAfter:gn,onSort:Ee,onTransform:Ke,onRenderContextMenu:M,onCloseContextMenu:function(){b(Hn),ti()}},{left:Le,top:qe,offsetTop:xt,offsetLeft:yt,width:Qe,height:Fe,anchor:ge,closeOnOuterClick:!0,onClose:function(){We=!1,ti()}})}function qi(X){if(!C&&!$r(fe.selection)){if(X&&(X.stopPropagation(),X.preventDefault()),X&&X.type==="contextmenu"&&X.target!==a)tr({left:X.clientX,top:X.clientY,width:ks,height:ws,showTip:!1});else{var ge,Le=(ge=s)===null||ge===void 0?void 0:ge.querySelector(".jse-context-menu-pointer.jse-selected");if(Le)tr({anchor:Le,offsetTop:2,width:ks,height:ws,showTip:!1});else{var qe,Qe=(qe=s)===null||qe===void 0?void 0:qe.getBoundingClientRect();Qe&&tr({top:Qe.top+2,left:Qe.left+2,width:ks,height:ws,showTip:!1})}}return!1}}function lr(){return(lr=Xt(Ge().mark(function X(){var ge,Le,qe,Qe,Fe;return Ge().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if(r("apply pasted json",et),et){xt.next=3;break}return xt.abrupt("return");case 3:qe=(Le=et).path,Qe=Le.contents,t(19,et=void 0),UO(Fe=((ge=s)===null||ge===void 0?void 0:ge.querySelector(".jse-editable-div"))||null)&&Fe.cancel(),Et([{op:"replace",path:at(qe),value:Qe}],function(yt,$t){return{state:Ys(yt,$t,qe)}}),setTimeout(ti);case 10:case"end":return xt.stop()}},X)}))).apply(this,arguments)}function ti(){r("focus"),a&&(a.focus(),a.select())}function Wt(X){return function(ge,Le,qe){var Qe=kn(qe),Fe=[yn(qe)],xt=Ct(ge,Qe),yt=xt?jm(xt,Le,Fe):void 0;return yt?fn(Qe.concat(yt),!1):$s(qe)}(c,fe,X)}function Fn(X){i&&i.onDrag(X)}function ds(){i&&i.onDragEnd()}return n.$$set=function(X){"readOnly"in X&&t(0,C=X.readOnly),"externalContent"in X&&t(52,S=X.externalContent),"externalSelection"in X&&t(53,_=X.externalSelection),"mainMenuBar"in X&&t(1,E=X.mainMenuBar),"navigationBar"in X&&t(2,q=X.navigationBar),"escapeControlCharacters"in X&&t(54,te=X.escapeControlCharacters),"escapeUnicodeCharacters"in X&&t(55,G=X.escapeUnicodeCharacters),"parser"in X&&t(3,I=X.parser),"parseMemoizeOne"in X&&t(56,U=X.parseMemoizeOne),"validator"in X&&t(57,B=X.validator),"validationParser"in X&&t(58,ee=X.validationParser),"pathParser"in X&&t(4,F=X.pathParser),"indentation"in X&&t(5,ne=X.indentation),"onError"in X&&t(6,re=X.onError),"onChange"in X&&t(59,R=X.onChange),"onChangeMode"in X&&t(60,$=X.onChangeMode),"onSelect"in X&&t(61,N=X.onSelect),"onRenderValue"in X&&t(62,P=X.onRenderValue),"onRenderMenu"in X&&t(7,A=X.onRenderMenu),"onRenderContextMenu"in X&&t(63,M=X.onRenderContextMenu),"onClassName"in X&&t(64,Z=X.onClassName),"onFocus"in X&&t(65,le=X.onFocus),"onBlur"in X&&t(66,de=X.onBlur),"onSortModal"in X&&t(67,xe=X.onSortModal),"onTransformModal"in X&&t(68,oe=X.onTransformModal),"onJSONEditorModal"in X&&t(69,Be=X.onJSONEditorModal)},n.$$.update=function(){25165824&n.$$.dirty[1]&&t(77,Ye=r1({escapeControlCharacters:te,escapeUnicodeCharacters:G})),4096&n.$$.dirty[0]&&r("selection",fe.selection),2097152&n.$$.dirty[1]&&Qn(S),4194304&n.$$.dirty[1]&&function(X){jn(fe.selection,X)||(r("applyExternalSelection",X),(u1(X)||X===null)&&be(X))}(_),2048&n.$$.dirty[0]|65536&n.$$.dirty[2]&&Tt(bt,c),2056&n.$$.dirty[0]|201326592&n.$$.dirty[1]&&rt(c,B,I,ee),8192&n.$$.dirty[0]&&t(25,Re=function(X){var ge={};return X.forEach(function(Le){ge[at(Le.path)]=Le}),X.forEach(function(Le){for(var qe=Le.path;qe.length>0;){qe=kn(qe);var Qe=at(qe);Qe in ge||(ge[Qe]={isChildError:!0,path:qe,message:"Contains invalid data",severity:Is.warning})}}),ge}(Ln)),1024&n.$$.dirty[0]&&(i=s?function(X){var ge,Le;function qe(yt){return yt<20?_N:yt<50?jN:SN}function Qe(){if(X){var yt=(ge||0)*(sw/1e3);X.scrollTop+=yt}}function Fe(yt){Le&&yt===ge||(xt(),Cm("startAutoScroll",yt),ge=yt,Le=setInterval(Qe,sw))}function xt(){Le&&(Cm("stopAutoScroll"),clearInterval(Le),Le=void 0,ge=void 0)}return Cm("createAutoScrollHandler",X),{onDrag:function(yt){if(X){var $t=yt.clientY,Hn=X.getBoundingClientRect(),Gn=Hn.top,Nn=Hn.bottom;$t<Gn?Fe(-qe(Gn-$t)):$t>Nn?Fe(qe($t-Nn)):xt()}},onDragEnd:function(){xt()}}}(s):void 0),9&n.$$.dirty[0]|32773&n.$$.dirty[2]&&t(14,st={readOnly:C,parser:I,normalization:Ye,getJson:oi,getDocumentState:Mn,findElement:vt,findNextInside:Wt,focus:ti,onPatch:Et,onInsert:$e,onExpand:Jn,onSelect:be,onFind:zi,onExpandSection:Sn,onPasteJson:zn,onRenderValue:P,onContextMenu:tr,onClassName:Z||function(){},onDrag:Fn,onDragEnd:ds}),16384&n.$$.dirty[0]&&r("context changed",st)},[C,E,q,I,F,ne,re,A,function(){return Lt&&c!==void 0&&hn(c),c!==void 0?{json:c}:{text:f||""}},ti,s,c,fe,Ln,st,a,l,f,Ze,et,wt,tt,ce,_e,Lt,Re,o,Bt,function(){return Kt.apply(this,arguments)},function(){return bn.apply(this,arguments)},function(X,ge){return it.apply(this,arguments)},function(X,ge){return H.apply(this,arguments)},function(){t(20,wt=!1),t(21,tt=!1),Bt(""),ti()},function(X){r("select validation error",X),be(fn(X.path,!1)),ft(X.path)},we,function(X){var ge;X.preventDefault();var Le=(ge=X.clipboardData)===null||ge===void 0?void 0:ge.getData("text/plain");Le!==void 0&&R$({clipboardText:Le,json:c,selection:fe.selection,readOnly:C,parser:I,onPatch:Et,onChangeText:Rn,openRepairModal:W})},In,Pn,qn,function(){Y([])},function(){Ue({rootPath:[]})},function(){Jn([],!0,!0)},function(){Jn([],!1,!0)},function(X){var ge=Sa(X),Le=X.shiftKey;if(r("keydown",{combo:ge,key:X.key}),ge==="Ctrl+X"&&(X.preventDefault(),tn(!0)),ge==="Ctrl+Shift+X"&&(X.preventDefault(),tn(!1)),ge==="Ctrl+C"&&(X.preventDefault(),we(!0)),ge==="Ctrl+Shift+C"&&(X.preventDefault(),we(!1)),ge==="Ctrl+D"&&(X.preventDefault(),ue()),ge!=="Delete"&&ge!=="Backspace"||(X.preventDefault(),Q()),ge==="Insert"&&(X.preventDefault(),$e("structure")),ge==="Ctrl+A"&&(X.preventDefault(),be(fn([],!1))),ge==="Ctrl+Q"&&qi(X),ge==="ArrowUp"||ge==="Shift+ArrowUp"){X.preventDefault();var qe=fe.selection?Pw(c,fe,Le)||fe.selection:Sl(c,fe);be(qe),cn(At(qe))}if(ge==="ArrowDown"||ge==="Shift+ArrowDown"){X.preventDefault();var Qe=fe.selection?function(Gn,Nn){var cr=arguments.length>2&&arguments[2]!==void 0&&arguments[2],di=Nn.selection;if(!di)return null;var Vn=cr?At(di):fa(Gn,di),Fi=gi(Ct(Gn,Vn))?Cw(Nn,Vn):Nn,si=jm(Gn,Nn,Vn),Hi=jm(Gn,Fi,Vn);if(cr)return Li(di)?si!==null?wr(si,si):null:Br(di)?Hi!==null?wr(Hi,Hi):null:Hi!==null?wr(Ha(di),Hi):null;if(Br(di))return Hi!==null?fn(Hi,!1):null;if(Li(di)||_n(di))return si!==null?fn(si,!1):null;if(Ei(di)){if(si===null||si.length===0)return null;var xo=kn(si),Fs=Ct(Gn,xo);return Array.isArray(Fs)?fn(si,!1):po(si,!1)}return Wn(di)?Hi!==null?fn(Hi,!1):si!==null?fn(si,!1):null:null}(c,fe,Le)||fe.selection:Sl(c,fe);be(Qe),cn(At(Qe))}if(ge==="ArrowLeft"||ge==="Shift+ArrowLeft"){X.preventDefault();var Fe=fe.selection?function(Gn,Nn){var cr=arguments.length>2&&arguments[2]!==void 0&&arguments[2],di=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],Vn=Nn.selection;if(!Vn)return null;var Fi=Tw(Gn,Nn,di),si=Fi.caret,Hi=Fi.previous;if(cr)return Wn(Vn)?null:wr(Vn.path,Vn.path);if(si&&Hi)return Yg(Hi);var xo=kn(At(Vn)),Fs=Ct(Gn,xo);return _n(Vn)&&Array.isArray(Fs)?wr(Vn.path,Vn.path):Wn(Vn)&&!Array.isArray(Fs)?po(Vn.focusPath,!1):null}(c,fe,Le,!C)||fe.selection:Sl(c,fe);be(Fe),cn(At(Fe))}if(ge==="ArrowRight"||ge==="Shift+ArrowRight"){X.preventDefault();var xt=fe.selection&&c!==void 0?function(Gn,Nn){var cr=arguments.length>2&&arguments[2]!==void 0&&arguments[2],di=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],Vn=Nn.selection;if(!Vn)return null;var Fi=Tw(Gn,Nn,di),si=Fi.caret,Hi=Fi.next;return cr?Wn(Vn)?null:wr(Vn.path,Vn.path):si&&Hi?Yg(Hi):Wn(Vn)?fn(Vn.focusPath,!1):null}(c,fe,Le,!C)||fe.selection:Sl(c,fe);be(xt),cn(At(xt))}if(ge==="Enter"&&fe.selection){if(hp(fe.selection)){var yt=fe.selection.focusPath,$t=Ct(c,kn(yt));Array.isArray($t)&&be(fn(yt,!1))}Ei(fe.selection)&&(X.preventDefault(),be(ke(ke({},fe.selection),{},{edit:!0}))),_n(fe.selection)&&(X.preventDefault(),gi(Ct(c,fe.selection.path))?Jn(fe.selection.path,!0):be(ke(ke({},fe.selection),{},{edit:!0})))}if(ge.replace(/^Shift\+/,"").length===1&&fe.selection)return X.preventDefault(),void In(X.key);if(ge==="Enter"&&(Br(fe.selection)||Li(fe.selection)))return X.preventDefault(),void In("");if(ge==="Ctrl+Enter"&&_n(fe.selection)){var Hn=Ct(c,fe.selection.path);cp(Hn)&&window.open(String(Hn),"_blank")}ge==="Escape"&&fe.selection&&(X.preventDefault(),be(null)),ge==="Ctrl+F"&&(X.preventDefault(),zi(!1)),ge==="Ctrl+H"&&(X.preventDefault(),zi(!0)),ge==="Ctrl+Z"&&(X.preventDefault(),Pn()),ge==="Ctrl+Shift+Z"&&(X.preventDefault(),qn())},function(X){r("handleMouseDown",X);var ge=X.target;o1(ge,"BUTTON")||ge.isContentEditable||(ti(),fe.selection||c!==void 0||f!==""&&f!==void 0||(r("createDefaultSelection"),t(12,fe=ke(ke({},fe),{},{selection:fn([],!1)}))))},qi,function(X){C||tr({anchor:VO(X.target,"BUTTON"),offsetTop:0,width:ks,height:ws,showTip:!0})},function(){return lr.apply(this,arguments)},function(){r("clear pasted json"),t(19,et=void 0),ti()},function(){$(pr.text)},function(X){be(X),ti(),ft(At(X))},function(X){var ge=!sf(X.target,function(Le){return Le===l});ge&&$r(fe.selection)&&(r("click outside the editor, stop edit mode"),be(function(Le){return Ei(Le)||_n(Le)?ke(ke({},Le),{},{edit:!1}):Le}),x&&a&&(a.focus(),a.blur()),r("blur (outside editor)"),a&&a.blur())},S,_,te,G,U,B,ee,R,$,N,P,M,Z,le,de,xe,oe,Be,function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mu;r("expand");var ge=ke(ke({},fe),{},{expandedMap:{},visibleSectionsMap:{}});t(12,fe=oo(c,ge,[],X))},$n,oi,je,Ue,ft,vt,Ye,bt,function(X){t(20,wt=X)},function(X){pn[X?"unshift":"push"](function(){t(15,a=X)})},function(){ti(),In("{")},function(){ti(),In("[")},function(){ti()},function(X){pn[X?"unshift":"push"](function(){t(10,s=X)})},function(X){pn[X?"unshift":"push"](function(){t(16,l=X)})}]}var _1=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,RF,AF,Yt,{readOnly:0,externalContent:52,externalSelection:53,mainMenuBar:1,navigationBar:2,escapeControlCharacters:54,escapeUnicodeCharacters:55,parser:3,parseMemoizeOne:56,validator:57,validationParser:58,pathParser:4,indentation:5,onError:6,onChange:59,onChangeMode:60,onSelect:61,onRenderValue:62,onRenderMenu:7,onRenderContextMenu:63,onClassName:64,onFocus:65,onBlur:66,onSortModal:67,onTransformModal:68,onJSONEditorModal:69,expand:70,validate:71,getJson:72,patch:73,acceptAutoRepair:8,openTransformModal:74,scrollTo:75,findElement:76,focus:9},CF,[-1,-1,-1,-1,-1]),r}return ct(t,[{key:"expand",get:function(){return this.$$.ctx[70]}},{key:"validate",get:function(){return this.$$.ctx[71]}},{key:"getJson",get:function(){return this.$$.ctx[72]}},{key:"patch",get:function(){return this.$$.ctx[73]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[8]}},{key:"openTransformModal",get:function(){return this.$$.ctx[74]}},{key:"scrollTo",get:function(){return this.$$.ctx[75]}},{key:"findElement",get:function(){return this.$$.ctx[76]}},{key:"focus",get:function(){return this.$$.ctx[9]}}]),t}();function LF(n){Gt(n,"svelte-l4qqoi",'.jse-modal.svelte-l4qqoi.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}.jse-modal.svelte-l4qqoi .svelte-select{--border:var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg, #3883fa);--border-radius:var(--jse-svelte-select-border-radius, 3px);--background:var(--jse-svelte-select-background, #fff);--padding:var(--jse-svelte-select-padding, 0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size:var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}.jse-modal.svelte-l4qqoi .jse-modal-contents.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-l4qqoi .jse-modal-contents .jse-actions.svelte-l4qqoi{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal.svelte-l4qqoi .jse-modal-contents .jse-actions button.jse-primary.svelte-l4qqoi{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.svelte-l4qqoi .jse-modal-contents .jse-actions button.jse-primary.svelte-l4qqoi:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal.svelte-l4qqoi .jse-modal-contents .jse-actions button.jse-primary.svelte-l4qqoi:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-overlay-background, rgba(0, 0, 0, 0.3))}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents.svelte-l4qqoi{color:inherit;min-height:0;padding:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents.svelte-l4qqoi{flex:1;display:flex;gap:calc(2 * var(--jse-padding, 10px));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding, 10px)) var(--jse-padding, 10px)}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents.svelte-l4qqoi{flex:1;display:flex;flex-direction:column}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-l4qqoi p{margin:var(--jse-padding, 10px) 0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-l4qqoi p:first-child{margin-top:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-l4qqoi p:last-child{margin-bottom:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents .jse-description.svelte-l4qqoi code{background:var(--jse-modal-code-background, rgba(0, 0, 0, 0.05));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px)}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-l4qqoi{flex:1;outline:none;resize:vertical}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding, 10px))}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents .jse-original-data.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents .jse-original-data.jse-hide.svelte-l4qqoi{flex:none}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents .jse-preview-data.svelte-l4qqoi{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents.jse-hide-original-data.svelte-l4qqoi{flex-direction:column;gap:0;margin-bottom:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-actions.svelte-l4qqoi{padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px)) calc(2 * var(--jse-padding, 10px))}@media screen and (max-width: 1200px){.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents.svelte-l4qqoi{flex-direction:column;overflow:auto}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-l4qqoi{min-height:150px;flex:none}.jse-modal.jse-transform.svelte-l4qqoi .jse-modal-contents .jse-main-contents .jse-data-contents.svelte-l4qqoi .jse-tree-mode{height:300px;flex:none}}.jse-modal.jse-transform.svelte-l4qqoi .jse-label.svelte-l4qqoi{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-transform.svelte-l4qqoi .jse-label .jse-label-inner.svelte-l4qqoi{margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(0.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-modal.jse-transform.svelte-l4qqoi .jse-label .jse-label-inner button.svelte-l4qqoi{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-transform.svelte-l4qqoi .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly, transparent);box-shadow:none;box-sizing:border-box;--jse-main-border:var(--jse-input-border, 1px solid #d8dbdf)}.jse-modal.jse-transform.svelte-l4qqoi input.svelte-l4qqoi,.jse-modal.jse-transform.svelte-l4qqoi textarea.svelte-l4qqoi{border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-modal.jse-transform.svelte-l4qqoi input.svelte-l4qqoi:focus,.jse-modal.jse-transform.svelte-l4qqoi textarea.svelte-l4qqoi:focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-modal.jse-transform.svelte-l4qqoi input.svelte-l4qqoi:read-only,.jse-modal.jse-transform.svelte-l4qqoi textarea.svelte-l4qqoi:read-only{background:var(--jse-input-background-readonly, transparent)}.jse-modal.jse-transform.svelte-l4qqoi .jse-preview.jse-error.svelte-l4qqoi{flex:1;background:var(--jse-input-background-readonly, transparent);border:var(--jse-input-border, 1px solid #d8dbdf);color:var(--jse-error-color, #ee5341);padding:calc(0.5 * var(--jse-padding, 10px))}.jse-modal.jse-transform.svelte-l4qqoi a{color:var(--jse-a-color, #156fc5)}.jse-modal.jse-transform.svelte-l4qqoi a:hover{color:var(--jse-a-color-highlight, #0f508d)}')}function t_(n){var e,t,i,r,o,s=[NF,IF],a=[];function l(c,f){return 16384&f[0]&&(e=null),e==null&&(e=!!Array.isArray(c[14])),e?0:1}return t=l(n,[-1,-1]),i=a[t]=s[t](n),{c:function(){i.c(),r=On()},m:function(c,f){a[t].m(c,f),ae(c,r,f),o=!0},p:function(c,f){var h=t;(t=l(c,f))===h?a[t].p(c,f):(De(),D(a[h],1,1,function(){a[h]=null}),ze(),(i=a[t])?i.p(c,f):(i=a[t]=s[t](c)).c(),T(i,1),i.m(r.parentNode,r))},i:function(c){o||(T(i),o=!0)},o:function(c){D(i),o=!1},d:function(c){c&&se(r),a[t].d(c)}}}function IF(n){var e;return{c:function(){e=Xe("(Only available for arrays, not for objects)")},m:function(t,i){ae(t,e,i)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e)}}}function NF(n){var e,t;return e=new sD({props:{queryOptions:n[15],json:n[14],onChange:n[24]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};32768&r[0]&&(o.queryOptions=i[15]),16384&r[0]&&(o.json=i[14]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function n_(n){var e,t;return e=new _1({props:{externalContent:n[17],externalSelection:null,readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:n[2],escapeControlCharacters:n[3],escapeUnicodeCharacters:n[4],parser:n[5],parseMemoizeOne:n[6],onRenderValue:n[10],onRenderMenu:n[11],onRenderContextMenu:n[12],onError:console.error,onChange:xi,onChangeMode:xi,onSelect:xi,onFocus:xi,onBlur:xi,onSortModal:xi,onTransformModal:xi,onJSONEditorModal:xi,onClassName:n[13],validator:null,validationParser:n[7],pathParser:n[8]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};131072&r[0]&&(o.externalContent=i[17]),4&r[0]&&(o.indentation=i[2]),8&r[0]&&(o.escapeControlCharacters=i[3]),16&r[0]&&(o.escapeUnicodeCharacters=i[4]),32&r[0]&&(o.parser=i[5]),64&r[0]&&(o.parseMemoizeOne=i[6]),1024&r[0]&&(o.onRenderValue=i[10]),2048&r[0]&&(o.onRenderMenu=i[11]),4096&r[0]&&(o.onRenderContextMenu=i[12]),8192&r[0]&&(o.onClassName=i[13]),128&r[0]&&(o.validationParser=i[7]),256&r[0]&&(o.pathParser=i[8]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function BF(n){var e,t;return{c:function(){e=K("div"),t=Xe(n[20]),j(e,"class","jse-preview jse-error svelte-l4qqoi")},m:function(i,r){ae(i,e,r),z(e,t)},p:function(i,r){1048576&r[0]&&Dt(t,i[20])},i:Ve,o:Ve,d:function(i){i&&se(e)}}}function DF(n){var e,t;return e=new _1({props:{externalContent:n[21],externalSelection:null,readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:n[2],escapeControlCharacters:n[3],escapeUnicodeCharacters:n[4],parser:n[5],parseMemoizeOne:n[6],onRenderValue:n[10],onRenderMenu:n[11],onRenderContextMenu:n[12],onError:console.error,onChange:xi,onChangeMode:xi,onSelect:xi,onFocus:xi,onBlur:xi,onSortModal:xi,onTransformModal:xi,onJSONEditorModal:xi,onClassName:n[13],validator:null,validationParser:n[7],pathParser:n[8]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};2097152&r[0]&&(o.externalContent=i[21]),4&r[0]&&(o.indentation=i[2]),8&r[0]&&(o.escapeControlCharacters=i[3]),16&r[0]&&(o.escapeUnicodeCharacters=i[4]),32&r[0]&&(o.parser=i[5]),64&r[0]&&(o.parseMemoizeOne=i[6]),1024&r[0]&&(o.onRenderValue=i[10]),2048&r[0]&&(o.onRenderMenu=i[11]),4096&r[0]&&(o.onRenderContextMenu=i[12]),8192&r[0]&&(o.onClassName=i[13]),128&r[0]&&(o.validationParser=i[7]),256&r[0]&&(o.pathParser=i[8]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function zF(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G,I,U,B,ee,F,ne,re,R,$,N,P,A,M,Z,le,de,xe,oe,Be,We,Ce,be,Ze=n[23](n[0]).description+"";e=new gD({props:{queryLanguages:n[9],queryLanguageId:n[0],onChangeQueryLanguage:n[29]}}),k=new Cn({props:{data:n[18]?uo:ia}});var Ye=n[18]&&t_(n);ne=new Cn({props:{data:n[19]?uo:ia}});var et=n[19]&&n_(n),qt=[DF,BF],fe=[];function wt(tt,ce){return tt[20]?1:0}return M=wt(n),Z=fe[M]=qt[M](n),{c:function(){Te(e.$$.fragment),t=ve(),i=K("div"),r=K("div"),o=K("div"),(s=K("div")).innerHTML='<div class="jse-label-inner svelte-l4qqoi">Language</div>',a=ve(),l=K("div"),c=ve(),(f=K("div")).innerHTML='<div class="jse-label-inner svelte-l4qqoi">Path</div>',h=ve(),p=K("input"),g=ve(),v=K("div"),b=K("div"),x=K("button"),Te(k.$$.fragment),C=Xe(`
                Wizard`),S=ve(),Ye&&Ye.c(),_=ve(),(E=K("div")).innerHTML='<div class="jse-label-inner svelte-l4qqoi">Query</div>',q=ve(),te=K("textarea"),G=ve(),I=K("div"),U=K("div"),B=K("div"),ee=K("div"),F=K("button"),Te(ne.$$.fragment),re=Xe(`
                  Original`),R=ve(),et&&et.c(),$=ve(),N=K("div"),(P=K("div")).innerHTML='<div class="jse-label-inner svelte-l4qqoi">Preview</div>',A=ve(),Z.c(),le=ve(),de=K("div"),xe=K("button"),oe=Xe("Transform"),j(s,"class","jse-label svelte-l4qqoi"),j(l,"class","jse-description svelte-l4qqoi"),j(f,"class","jse-label svelte-l4qqoi"),j(p,"class","jse-path svelte-l4qqoi"),j(p,"type","text"),p.readOnly=!0,j(p,"title","Selected path"),p.value=m=An(n[1])?"(document root)":zr(n[1]),j(x,"type","button"),j(x,"class","svelte-l4qqoi"),j(b,"class","jse-label-inner svelte-l4qqoi"),j(v,"class","jse-label svelte-l4qqoi"),j(E,"class","jse-label svelte-l4qqoi"),j(te,"class","jse-query svelte-l4qqoi"),j(te,"spellcheck","false"),te.value=n[16],j(o,"class","jse-query-contents svelte-l4qqoi"),j(F,"type","button"),j(F,"class","svelte-l4qqoi"),j(ee,"class","jse-label-inner svelte-l4qqoi"),j(B,"class","jse-label svelte-l4qqoi"),j(U,"class","jse-original-data svelte-l4qqoi"),Ie(U,"jse-hide",!n[19]),j(P,"class","jse-label svelte-l4qqoi"),j(N,"class","jse-preview-data svelte-l4qqoi"),j(I,"class","jse-data-contents svelte-l4qqoi"),Ie(I,"jse-hide-original-data",!n[19]),j(r,"class","jse-main-contents svelte-l4qqoi"),j(xe,"type","button"),j(xe,"class","jse-primary svelte-l4qqoi"),xe.disabled=Be=!!n[20],j(de,"class","jse-actions svelte-l4qqoi"),j(i,"class","jse-modal-contents svelte-l4qqoi")},m:function(tt,ce){Me(e,tt,ce),ae(tt,t,ce),ae(tt,i,ce),z(i,r),z(r,o),z(o,s),z(o,a),z(o,l),l.innerHTML=Ze,z(o,c),z(o,f),z(o,h),z(o,p),z(o,g),z(o,v),z(v,b),z(b,x),Me(k,x,null),z(x,C),z(o,S),Ye&&Ye.m(o,null),z(o,_),z(o,E),z(o,q),z(o,te),z(r,G),z(r,I),z(I,U),z(U,B),z(B,ee),z(ee,F),Me(ne,F,null),z(F,re),z(U,R),et&&et.m(U,null),z(I,$),z(I,N),z(N,P),z(N,A),fe[M].m(N,null),z(i,le),z(i,de),z(de,xe),z(xe,oe),We=!0,Ce||(be=[Ne(x,"click",n[27]),Ne(te,"input",n[25]),Ne(F,"click",n[28]),Ne(xe,"click",n[26]),or(FF.call(null,xe))],Ce=!0)},p:function(tt,ce){var bt={};512&ce[0]&&(bt.queryLanguages=tt[9]),1&ce[0]&&(bt.queryLanguageId=tt[0]),e.$set(bt),(!We||1&ce[0])&&Ze!==(Ze=tt[23](tt[0]).description+"")&&(l.innerHTML=Ze),(!We||2&ce[0]&&m!==(m=An(tt[1])?"(document root)":zr(tt[1]))&&p.value!==m)&&(p.value=m);var Bt={};262144&ce[0]&&(Bt.data=tt[18]?uo:ia),k.$set(Bt),tt[18]?Ye?(Ye.p(tt,ce),262144&ce[0]&&T(Ye,1)):((Ye=t_(tt)).c(),T(Ye,1),Ye.m(o,_)):Ye&&(De(),D(Ye,1,1,function(){Ye=null}),ze()),(!We||65536&ce[0])&&(te.value=tt[16]);var ut={};524288&ce[0]&&(ut.data=tt[19]?uo:ia),ne.$set(ut),tt[19]?et?(et.p(tt,ce),524288&ce[0]&&T(et,1)):((et=n_(tt)).c(),T(et,1),et.m(U,null)):et&&(De(),D(et,1,1,function(){et=null}),ze()),(!We||524288&ce[0])&&Ie(U,"jse-hide",!tt[19]);var Kt=M;(M=wt(tt))===Kt?fe[M].p(tt,ce):(De(),D(fe[Kt],1,1,function(){fe[Kt]=null}),ze(),(Z=fe[M])?Z.p(tt,ce):(Z=fe[M]=qt[M](tt)).c(),T(Z,1),Z.m(N,null)),(!We||524288&ce[0])&&Ie(I,"jse-hide-original-data",!tt[19]),(!We||1048576&ce[0]&&Be!==(Be=!!tt[20]))&&(xe.disabled=Be)},i:function(tt){We||(T(e.$$.fragment,tt),T(k.$$.fragment,tt),T(Ye),T(ne.$$.fragment,tt),T(et),T(Z),We=!0)},o:function(tt){D(e.$$.fragment,tt),D(k.$$.fragment,tt),D(Ye),D(ne.$$.fragment,tt),D(et),D(Z),We=!1},d:function(tt){tt&&(se(t),se(i)),Pe(e,tt),Pe(k),Ye&&Ye.d(),Pe(ne),et&&et.d(),fe[M].d(),Ce=!1,Yn(be)}}}function qF(n){var e,t,i,r,o;return t=new QO({props:{$$slots:{default:[zF]},$$scope:{ctx:n}}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-modal jse-transform svelte-l4qqoi")},m:function(s,a){ae(s,e,a),Me(t,e,null),i=!0,r||(o=or(xp.call(null,e,n[22])),r=!0)},p:function(s,a){var l={};4194303&a[0]|2048&a[1]&&(l.$$scope={dirty:a,ctx:s}),t.$set(l)},i:function(s){i||(T(t.$$.fragment,s),i=!0)},o:function(s){D(t.$$.fragment,s),i=!1},d:function(s){s&&se(e),Pe(t),r=!1,o()}}}function FF(n){n.focus()}function HF(n,e,t){var i,r,o=ar("jsoneditor:TransformModal"),s=e.id,a=s===void 0?"transform-modal-"+pu():s,l=e.json,c=e.rootPath,f=c===void 0?[]:c,h=e.indentation,p=e.escapeControlCharacters,m=e.escapeUnicodeCharacters,g=e.parser,v=e.parseMemoizeOne,b=e.validationParser,x=e.pathParser,k=e.queryLanguages,C=e.queryLanguageId,S=e.onChangeQueryLanguage,_=e.onRenderValue,E=e.onRenderMenu,q=e.onRenderContextMenu,te=e.onClassName,G=e.onTransform,I=sr("simple-modal").close,U="".concat(a,":").concat(at(f)),B=Wc[U]||{},ee=uh.showWizard!==!1,F=uh.showOriginal!==!1,ne=B.queryOptions||{},re=C===B.queryLanguageId&&B.query?B.query:P(C).createQuery(l,B.queryOptions||{}),R=B.isManual||!1,$=void 0,N={text:""};function P(M){return k.find(function(Z){return Z.id===M})||k[0]}var A=xv(function(M,Z){if(M===void 0)return t(21,N={text:""}),void t(20,$="Error: No JSON");try{o("previewTransform",{query:Z});var le=P(C).executeQuery(M,Z,g);t(21,N={json:le}),t(20,$=void 0)}catch(de){t(21,N={text:""}),t(20,$=String(de))}},300);return n.$$set=function(M){"id"in M&&t(30,a=M.id),"json"in M&&t(31,l=M.json),"rootPath"in M&&t(1,f=M.rootPath),"indentation"in M&&t(2,h=M.indentation),"escapeControlCharacters"in M&&t(3,p=M.escapeControlCharacters),"escapeUnicodeCharacters"in M&&t(4,m=M.escapeUnicodeCharacters),"parser"in M&&t(5,g=M.parser),"parseMemoizeOne"in M&&t(6,v=M.parseMemoizeOne),"validationParser"in M&&t(7,b=M.validationParser),"pathParser"in M&&t(8,x=M.pathParser),"queryLanguages"in M&&t(9,k=M.queryLanguages),"queryLanguageId"in M&&t(0,C=M.queryLanguageId),"onChangeQueryLanguage"in M&&t(32,S=M.onChangeQueryLanguage),"onRenderValue"in M&&t(10,_=M.onRenderValue),"onRenderMenu"in M&&t(11,E=M.onRenderMenu),"onRenderContextMenu"in M&&t(12,q=M.onRenderContextMenu),"onClassName"in M&&t(13,te=M.onClassName),"onTransform"in M&&t(33,G=M.onTransform)},n.$$.update=function(){2&n.$$.dirty[0]|1&n.$$.dirty[1]&&t(14,i=Ct(l,f)),16384&n.$$.dirty[0]&&t(17,r=i?{json:i}:{text:""}),81920&n.$$.dirty[0]&&A(i,re),98305&n.$$.dirty[0]|24&n.$$.dirty[1]&&(t(34,Wc[U]={queryOptions:ne,query:re,queryLanguageId:C,isManual:R},Wc),o("store state in memory",U,Wc[U]))},[C,f,h,p,m,g,v,b,x,k,_,E,q,te,i,ne,re,r,ee,F,$,N,I,P,function(M){t(15,ne=M),t(16,re=P(C).createQuery(l,M)),t(35,R=!1),o("updateQueryByWizard",{queryOptions:ne,query:re,isManual:R})},function(M){t(16,re=M.target.value),t(35,R=!0),o("handleChangeQuery",{query:re,isManual:R})},function(){if(i===void 0)return t(21,N={text:""}),void t(20,$="Error: No JSON");try{o("handleTransform",{query:re});var M=P(C).executeQuery(i,re,g);G([{op:"replace",path:at(f),value:M}]),I()}catch(Z){console.error(Z),t(21,N={text:""}),t(20,$=String(Z))}},function(){t(18,ee=!ee),uh.showWizard=ee},function(){t(19,F=!F),uh.showOriginal=F},function(M){o("handleChangeQueryLanguage",M),t(0,C=M),S(M);var Z=P(C);t(16,re=Z.createQuery(l,ne)),t(35,R=!1)},a,l,S,G,Wc,R]}var VF=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,HF,qF,Yt,{id:30,json:31,rootPath:1,indentation:2,escapeControlCharacters:3,escapeUnicodeCharacters:4,parser:5,parseMemoizeOne:6,validationParser:7,pathParser:8,queryLanguages:9,queryLanguageId:0,onChangeQueryLanguage:32,onRenderValue:10,onRenderMenu:11,onRenderContextMenu:12,onClassName:13,onTransform:33},LF,[-1,-1]),r}return ct(t)}(),Cl={};function WF(n){Gt(n,"svelte-qjdk97",'.jse-modal.svelte-qjdk97.svelte-qjdk97{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}.jse-modal.svelte-qjdk97 .svelte-select{--border:var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg, #3883fa);--border-radius:var(--jse-svelte-select-border-radius, 3px);--background:var(--jse-svelte-select-background, #fff);--padding:var(--jse-svelte-select-padding, 0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size:var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}.jse-modal.svelte-qjdk97 .jse-modal-contents.svelte-qjdk97{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-qjdk97 .jse-modal-contents .jse-actions.svelte-qjdk97{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal.svelte-qjdk97 .jse-modal-contents .jse-actions button.jse-primary.svelte-qjdk97{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.svelte-qjdk97 .jse-modal-contents .jse-actions button.jse-primary.svelte-qjdk97:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal.svelte-qjdk97 .jse-modal-contents .jse-actions button.jse-primary.svelte-qjdk97:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-overlay-background, rgba(0, 0, 0, 0.3))}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-sort.svelte-qjdk97 table.svelte-qjdk97{width:100%;border-collapse:collapse;border-spacing:0}.jse-modal.jse-sort.svelte-qjdk97 table th.svelte-qjdk97,.jse-modal.jse-sort.svelte-qjdk97 table td.svelte-qjdk97{text-align:left;vertical-align:middle;font-weight:normal;padding-bottom:var(--jse-padding, 10px)}.jse-modal.jse-sort.svelte-qjdk97 table th input.jse-path.svelte-qjdk97,.jse-modal.jse-sort.svelte-qjdk97 table td input.jse-path.svelte-qjdk97{width:100%;box-sizing:border-box;padding:6px 16px;border:var(--jse-input-border, 1px solid #d8dbdf);border-radius:var(--jse-input-radius, 3px);font-family:inherit;font-size:inherit;background:inherit;color:inherit;outline:none}.jse-modal.jse-sort.svelte-qjdk97 table th input.jse-path.svelte-qjdk97:read-only,.jse-modal.jse-sort.svelte-qjdk97 table td input.jse-path.svelte-qjdk97:read-only{background:var(--jse-input-background-readonly, transparent)}.jse-modal.jse-sort.svelte-qjdk97 table th.svelte-qjdk97 .svelte-select input,.jse-modal.jse-sort.svelte-qjdk97 table td.svelte-qjdk97 .svelte-select input{box-sizing:border-box}.jse-modal.jse-sort.svelte-qjdk97 .jse-space.svelte-qjdk97{height:200px}.jse-modal.jse-sort.svelte-qjdk97 .jse-space .jse-error.svelte-qjdk97{color:var(--jse-error-color, #ee5341)}')}function i_(n){var e,t,i,r,o,s,a;function l(f){n[14](f)}var c={showChevron:!0,items:n[5]};return n[1]!==void 0&&(c.value=n[1]),o=new Ia({props:c}),pn.push(function(){return So(o,"value",l)}),{c:function(){e=K("tr"),(t=K("th")).textContent="Property",i=ve(),r=K("td"),Te(o.$$.fragment),j(t,"class","svelte-qjdk97"),j(r,"class","svelte-qjdk97")},m:function(f,h){ae(f,e,h),z(e,t),z(e,i),z(e,r),Me(o,r,null),a=!0},p:function(f,h){var p={};32&h&&(p.items=f[5]),!s&&2&h&&(s=!0,p.value=f[1],jo(function(){return s=!1})),o.$set(p)},i:function(f){a||(T(o.$$.fragment,f),a=!0)},o:function(f){D(o.$$.fragment,f),a=!1},d:function(f){f&&se(e),Pe(o)}}}function r_(n){var e,t;return{c:function(){e=K("div"),t=Xe(n[4]),j(e,"class","jse-error svelte-qjdk97")},m:function(i,r){ae(i,e,r),z(e,t)},p:function(i,r){16&r&&Dt(t,i[4])},d:function(i){i&&se(e)}}}function UF(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G,I,U,B,ee,F,ne,re,R;i=new g1({props:{title:n[3]?"Sort array items":"Sort object keys"}});var $=n[3]&&(n[5]&&((e=n[5])===null||e===void 0?void 0:e.length)>1||n[1]===void 0)&&i_(n);function N(M){n[15](M)}var P={showChevron:!0,clearable:!1,items:n[7]};n[2]!==void 0&&(P.value=n[2]),E=new Ia({props:P}),pn.push(function(){return So(E,"value",N)});var A=n[4]&&r_(n);return{c:function(){var M;t=K("div"),Te(i.$$.fragment),r=ve(),o=K("div"),s=K("table"),(a=K("colgroup")).innerHTML='<col width="25%"/> <col width="75%"/>',l=ve(),c=K("tbody"),f=K("tr"),(h=K("th")).textContent="Path",p=ve(),m=K("td"),g=K("input"),b=ve(),$&&$.c(),x=ve(),k=K("tr"),(C=K("th")).textContent="Direction",S=ve(),_=K("td"),Te(E.$$.fragment),te=ve(),G=K("div"),A&&A.c(),I=ve(),U=K("div"),B=K("button"),ee=Xe("Sort"),j(h,"class","svelte-qjdk97"),j(g,"class","jse-path svelte-qjdk97"),j(g,"type","text"),g.readOnly=!0,j(g,"title","Selected path"),g.value=v=An(n[0])?"(document root)":zr(n[0]),j(m,"class","svelte-qjdk97"),j(C,"class","svelte-qjdk97"),j(_,"class","svelte-qjdk97"),j(s,"class","svelte-qjdk97"),j(G,"class","jse-space svelte-qjdk97"),j(B,"type","button"),j(B,"class","jse-primary svelte-qjdk97"),B.disabled=F=!!(n[3]&&n[5]&&((M=n[5])===null||M===void 0?void 0:M.length)>1)&&!n[1],j(U,"class","jse-actions svelte-qjdk97"),j(o,"class","jse-modal-contents svelte-qjdk97"),j(t,"class","jse-modal jse-sort svelte-qjdk97")},m:function(M,Z){ae(M,t,Z),Me(i,t,null),z(t,r),z(t,o),z(o,s),z(s,a),z(s,l),z(s,c),z(c,f),z(f,h),z(f,p),z(f,m),z(m,g),z(c,b),$&&$.m(c,null),z(c,x),z(c,k),z(k,C),z(k,S),z(k,_),Me(E,_,null),z(o,te),z(o,G),A&&A.m(G,null),z(o,I),z(o,U),z(U,B),z(B,ee),ne=!0,re||(R=[Ne(B,"click",n[8]),or(QF.call(null,B)),or(xp.call(null,t,n[6]))],re=!0)},p:function(M,Z){var le,de,xe=Jt(Z,1)[0],oe={};8&xe&&(oe.title=M[3]?"Sort array items":"Sort object keys"),i.$set(oe),(!ne||1&xe&&v!==(v=An(M[0])?"(document root)":zr(M[0]))&&g.value!==v)&&(g.value=v),M[3]&&(M[5]&&((le=M[5])===null||le===void 0?void 0:le.length)>1||M[1]===void 0)?$?($.p(M,xe),42&xe&&T($,1)):(($=i_(M)).c(),T($,1),$.m(c,x)):$&&(De(),D($,1,1,function(){$=null}),ze());var Be={};!q&&4&xe&&(q=!0,Be.value=M[2],jo(function(){return q=!1})),E.$set(Be),M[4]?A?A.p(M,xe):((A=r_(M)).c(),A.m(G,null)):A&&(A.d(1),A=null),(!ne||42&xe&&F!==(F=!!(M[3]&&M[5]&&((de=M[5])===null||de===void 0?void 0:de.length)>1)&&!M[1]))&&(B.disabled=F)},i:function(M){ne||(T(i.$$.fragment,M),T($),T(E.$$.fragment,M),ne=!0)},o:function(M){D(i.$$.fragment,M),D($),D(E.$$.fragment,M),ne=!1},d:function(M){M&&se(t),Pe(i),$&&$.d(),Pe(E),A&&A.d(),re=!1,Yn(R)}}}function QF(n){n.focus()}function ZF(n,e,t){var i,r,o,s,a,l=ar("jsoneditor:SortModal"),c=e.id,f=e.json,h=e.rootPath,p=e.onSort,m=sr("simple-modal").close,g="".concat(c,":").concat(at(h)),v=Ct(f,h),b={value:1,label:"ascending"},x=[b,{value:-1,label:"descending"}],k=(i=Cl[g])===null||i===void 0?void 0:i.selectedProperty,C=((r=Cl[g])===null||r===void 0?void 0:r.selectedDirection)||b,S=void 0;return n.$$set=function(_){"id"in _&&t(9,c=_.id),"json"in _&&t(10,f=_.json),"rootPath"in _&&t(0,h=_.rootPath),"onSort"in _&&t(11,p=_.onSort)},n.$$.update=function(){8&n.$$.dirty&&t(13,s=o&&v!==void 0?Jg(v):void 0),8192&n.$$.dirty&&t(5,a=s?s.map(nu):void 0),4102&n.$$.dirty&&(t(12,Cl[g]={selectedProperty:k,selectedDirection:C},Cl),l("store state in memory",g,Cl[g]))},t(3,o=Array.isArray(v)),[h,k,C,o,S,a,m,x,function(){try{var _,E,q;t(4,S=void 0);var te=((_=k)===null||_===void 0?void 0:_.value)||((E=a)===null||E===void 0||(E=E[0])===null||E===void 0?void 0:E.value)||[],G=(q=C)===null||q===void 0?void 0:q.value,I=$$(f,h,te,G);p({operations:I,rootPath:h,itemPath:te,direction:G}),m()}catch(U){t(4,S=String(U))}},c,f,p,Cl,s,function(_){t(1,k=_)},function(_){t(2,C=_)}]}var JF=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,ZF,UF,Yt,{id:9,json:10,rootPath:0,onSort:11},WF),r}return ct(t)}();function ro(){}function ph(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(n<.9*e)return n.toFixed()+" B";var t=n/e;if(t<.9*e)return t.toFixed(1)+" KB";var i=t/e;if(i<.9*e)return i.toFixed(1)+" MB";var r=i/e;return r<.9*e?r.toFixed(1)+" GB":(r/e).toFixed(1)+" TB"}function GF(n){var e,t;return e=new bp({props:{items:n[0]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&Jt(r,1)[0]&&(o.items=i[0]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function KF(n,e,t){var i,r,o=e.readOnly,s=o!==void 0&&o,a=e.onFormat,l=e.onCompact,c=e.onSort,f=e.onTransform,h=e.onToggleSearch,p=e.onUndo,m=e.onRedo,g=e.canUndo,v=e.canRedo,b=e.canFormat,x=e.canCompact,k=e.canSort,C=e.canTransform,S=e.onRenderMenu,_={type:"button",icon:v0,title:"Search (Ctrl+F)",className:"jse-search",onClick:h};return n.$$set=function(E){"readOnly"in E&&t(1,s=E.readOnly),"onFormat"in E&&t(2,a=E.onFormat),"onCompact"in E&&t(3,l=E.onCompact),"onSort"in E&&t(4,c=E.onSort),"onTransform"in E&&t(5,f=E.onTransform),"onToggleSearch"in E&&t(6,h=E.onToggleSearch),"onUndo"in E&&t(7,p=E.onUndo),"onRedo"in E&&t(8,m=E.onRedo),"canUndo"in E&&t(9,g=E.canUndo),"canRedo"in E&&t(10,v=E.canRedo),"canFormat"in E&&t(11,b=E.canFormat),"canCompact"in E&&t(12,x=E.canCompact),"canSort"in E&&t(13,k=E.canSort),"canTransform"in E&&t(14,C=E.canTransform),"onRenderMenu"in E&&t(15,S=E.onRenderMenu)},n.$$.update=function(){32702&n.$$.dirty&&t(16,r=s?[_,{type:"space"}]:[{type:"button",icon:av,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:a,disabled:s||!b},{type:"button",icon:Rq,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:l,disabled:s||!x},{type:"separator"},{type:"button",icon:sp,title:"Sort",className:"jse-sort",onClick:c,disabled:s||!k},{type:"button",icon:rp,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:f,disabled:s||!C},_,{type:"separator"},{type:"button",icon:g0,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:p,disabled:!g},{type:"button",icon:m0,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:m,disabled:!v},{type:"space"}]),98304&n.$$.dirty&&t(0,i=S(r)||r)},[i,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,r]}var XF=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,KF,GF,Yt,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15}),r}return ct(t)}();function YF(n){Gt(n,"svelte-hhcn0f",'.jse-status-bar.svelte-hhcn0f.svelte-hhcn0f{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);margin:0;border-top:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7));border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7);display:flex;gap:var(--jse-padding, 10px)}.jse-status-bar.svelte-hhcn0f.svelte-hhcn0f:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-status-bar.svelte-hhcn0f .jse-status-bar-info.svelte-hhcn0f{padding:2px}')}function o_(n){var e,t,i;return{c:function(){e=K("div"),t=Xe("Line: "),i=Xe(n[0]),j(e,"class","jse-status-bar-info svelte-hhcn0f")},m:function(r,o){ae(r,e,o),z(e,t),z(e,i)},p:function(r,o){1&o&&Dt(i,r[0])},d:function(r){r&&se(e)}}}function s_(n){var e,t,i;return{c:function(){e=K("div"),t=Xe("Column: "),i=Xe(n[1]),j(e,"class","jse-status-bar-info svelte-hhcn0f")},m:function(r,o){ae(r,e,o),z(e,t),z(e,i)},p:function(r,o){2&o&&Dt(i,r[1])},d:function(r){r&&se(e)}}}function a_(n){var e,t,i,r;return{c:function(){e=K("div"),t=Xe("Selection: "),i=Xe(n[2]),r=Xe(" characters"),j(e,"class","jse-status-bar-info svelte-hhcn0f")},m:function(o,s){ae(o,e,s),z(e,t),z(e,i),z(e,r)},p:function(o,s){4&s&&Dt(i,o[2])},d:function(o){o&&se(e)}}}function eH(n){var e,t,i,r=n[0]!==void 0&&o_(n),o=n[1]!==void 0&&s_(n),s=n[2]!==void 0&&n[2]>0&&a_(n);return{c:function(){e=K("div"),r&&r.c(),t=ve(),o&&o.c(),i=ve(),s&&s.c(),j(e,"class","jse-status-bar svelte-hhcn0f")},m:function(a,l){ae(a,e,l),r&&r.m(e,null),z(e,t),o&&o.m(e,null),z(e,i),s&&s.m(e,null)},p:function(a,l){var c=Jt(l,1)[0];a[0]!==void 0?r?r.p(a,c):((r=o_(a)).c(),r.m(e,t)):r&&(r.d(1),r=null),a[1]!==void 0?o?o.p(a,c):((o=s_(a)).c(),o.m(e,i)):o&&(o.d(1),o=null),a[2]!==void 0&&a[2]>0?s?s.p(a,c):((s=a_(a)).c(),s.m(e,null)):s&&(s.d(1),s=null)},i:Ve,o:Ve,d:function(a){a&&se(e),r&&r.d(),o&&o.d(),s&&s.d()}}}function tH(n,e,t){var i,r,o,s,a,l=e.editorState;return n.$$set=function(c){"editorState"in c&&t(3,l=c.editorState)},n.$$.update=function(){var c,f,h;8&n.$$.dirty&&t(4,i=(c=l)===null||c===void 0||(c=c.selection)===null||c===void 0||(c=c.main)===null||c===void 0?void 0:c.head),24&n.$$.dirty&&t(5,r=i?(f=l)===null||f===void 0||(f=f.doc)===null||f===void 0?void 0:f.lineAt(i):void 0),32&n.$$.dirty&&t(0,o=r?r.number:void 0),48&n.$$.dirty&&t(1,s=r!==void 0&&i!==void 0?i-r.from+1:void 0),8&n.$$.dirty&&t(2,a=(h=l)===null||h===void 0||(h=h.selection)===null||h===void 0||(h=h.ranges)===null||h===void 0?void 0:h.reduce(function(p,m){return p+m.to-m.from},0))},[o,s,a,l,i,r]}var nH=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,tH,eH,Gi,{editorState:3},YF),r}return ct(t)}(),iH=0,Qi=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lt(this,n),this.id=iH++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return ct(n,[{key:"add",value:function(e){var t=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=al.match(e)),function(i){var r=e(i);return r===void 0?null:[t,r]}}}]),n}();Qi.closedBy=new Qi({deserialize:function(n){return n.split(" ")}}),Qi.openedBy=new Qi({deserialize:function(n){return n.split(" ")}}),Qi.group=new Qi({deserialize:function(n){return n.split(" ")}}),Qi.contextHash=new Qi({perNode:!0}),Qi.lookAhead=new Qi({perNode:!0}),Qi.mounted=new Qi({perNode:!0});var Bd=function(){function n(e,t,i){lt(this,n),this.tree=e,this.overlay=t,this.parser=i}return ct(n,null,[{key:"get",value:function(e){return e&&e.props&&e.props[Qi.mounted.id]}}]),n}(),rH=Object.create(null),al=function(){function n(e,t,i){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;lt(this,n),this.name=e,this.props=t,this.id=i,this.flags=r}return ct(n,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if(typeof e=="string"){if(this.name==e)return!0;var t=this.prop(Qi.group);return!!t&&t.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(e){var t=e.props&&e.props.length?Object.create(null):rH,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new n(e.name||"",t,e.id,i);if(e.props){var o,s=vr(e.props);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Array.isArray(a)||(a=a(r)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[a[0].id]=a[1]}}}catch(l){s.e(l)}finally{s.f()}}return r}},{key:"match",value:function(e){var t=Object.create(null);for(var i in e){var r,o=vr(i.split(" "));try{for(o.s();!(r=o.n()).done;){var s=r.value;t[s]=e[i]}}catch(a){o.e(a)}finally{o.f()}}return function(a){for(var l=a.prop(Qi.group),c=-1;c<(l?l.length:0);c++){var f=t[c<0?a.name:l[c]];if(f)return f}}}}]),n}();al.none=new al("",Object.create(null),0,8);var kr,mh=new WeakMap,l_=new WeakMap;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(kr||(kr={}));var Wa=function(){function n(e,t,i,r,o){if(lt(this,n),this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);var s,a=vr(o);try{for(a.s();!(s=a.n()).done;){var l=Jt(s.value,2),c=l[0],f=l[1];this.props[typeof c=="number"?c:c.id]=f}}catch(h){a.e(h)}finally{a.f()}}}return ct(n,[{key:"toString",value:function(){var e=Bd.get(this);if(e&&!e.overlay)return e.tree.toString();var t,i="",r=vr(this.children);try{for(r.s();!(t=r.n()).done;){var o=t.value.toString();o&&(i&&(i+=","),i+=o)}}catch(s){r.e(s)}finally{r.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(i.length?"("+i+")":""):i}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new mv(this.topNode,e)}},{key:"cursorAt",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=mh.get(this)||this.topNode,r=new mv(i);return r.moveTo(e,t),mh.set(this,r._tree),r}},{key:"topNode",get:function(){return new ha(this,0,0,null)}},{key:"resolve",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=gu(mh.get(this)||this.topNode,e,t,!1);return mh.set(this,i),i}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=gu(l_.get(this)||this.topNode,e,t,!0);return l_.set(this,i),i}},{key:"resolveStack",value:function(e){return function(t,i,r){for(var o=t.resolveInner(i,r),s=null,a=o instanceof ha?o:o.context.parent;a;a=a.parent)if(a.index<0){var l=a.parent;(s||(s=[o])).push(l.resolve(i,r)),a=l}else{var c=Bd.get(a.tree);if(c&&c.overlay&&c.overlay[0].from<=i&&c.overlay[c.overlay.length-1].to>=i){var f=new ha(c.tree,c.overlay[0].from+a.from,-1,a);(s||(s=[o])).push(gu(f,i,r,!1))}}return s?z$(s):o}(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0)}},{key:"iterate",value:function(e){for(var t=e.enter,i=e.leave,r=e.from,o=r===void 0?0:r,s=e.to,a=s===void 0?this.length:s,l=e.mode||0,c=(l&kr.IncludeAnonymous)>0,f=this.cursor(l|kr.IncludeAnonymous);;){var h=!1;if(f.from<=a&&f.to>=o&&(!c&&f.type.isAnonymous||t(f)!==!1)){if(f.firstChild())continue;h=!0}for(;h&&i&&(c||!f.type.isAnonymous)&&i(f),!f.nextSibling();){if(!f.parent())return;h=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var t in this.props)e.push([+t,this.props[t]]);return e}},{key:"balance",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.children.length<=8?this:S1(al.none,this.children,this.positions,0,this.children.length,0,this.length,function(i,r,o){return new n(e.type,i,r,o,e.propValues)},t.makeTree||function(i,r,o){return new n(al.none,i,r,o)})}}],[{key:"build",value:function(e){return lH(e)}}]),n}();Wa.empty=new Wa(al.none,[],[],0);var oH=function(){function n(e,t){lt(this,n),this.buffer=e,this.index=t}return ct(n,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new n(this.buffer,this.index)}}]),n}(),bc=function(){function n(e,t,i){lt(this,n),this.buffer=e,this.length=t,this.set=i}return ct(n,[{key:"type",get:function(){return al.none}},{key:"toString",value:function(){for(var e=[],t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}},{key:"childString",value:function(e){var t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),i==(e+=4))return o;for(var s=[];e<i;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}},{key:"findChild",value:function(e,t,i,r,o){for(var s=this.buffer,a=-1,l=e;l!=t&&!(B$(o,r,s[l+1],s[l+2])&&(a=l,i>0));l=s[l+3]);return a}},{key:"slice",value:function(e,t,i){for(var r=this.buffer,o=new Uint16Array(t-e),s=0,a=e,l=0;a<t;){o[l++]=r[a++],o[l++]=r[a++]-i;var c=o[l++]=r[a++]-i;o[l++]=r[a++]-e,s=Math.max(s,c)}return new n(o,s,this.set)}}]),n}();function B$(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function gu(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){var o=!i&&n instanceof ha&&n.index<0?null:n.parent;if(!o)return n;n=o}var s=i?0:kr.IgnoreOverlays;if(i)for(var a=n,l=a.parent;l;l=(a=l).parent)a instanceof ha&&a.index<0&&((r=l.enter(e,t,s))===null||r===void 0?void 0:r.from)!=a.from&&(n=l);for(;;){var c=n.enter(e,t,s);if(!c)return n;n=c}}var D$=function(){function n(){lt(this,n)}return ct(n,[{key:"cursor",value:function(){return new mv(this,arguments.length>0&&arguments[0]!==void 0?arguments[0]:0)}},{key:"getChild",value:function(e){var t=c_(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,arguments.length>2&&arguments[2]!==void 0?arguments[2]:null);return t.length?t[0]:null}},{key:"getChildren",value:function(e){return c_(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,arguments.length>2&&arguments[2]!==void 0?arguments[2]:null)}},{key:"resolve",value:function(e){return gu(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,!1)}},{key:"resolveInner",value:function(e){return gu(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,!0)}},{key:"matchContext",value:function(e){return dv(this,e)}},{key:"enterUnfinishedNodesBefore",value:function(e){for(var t=this.childBefore(e),i=this;t;){var r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(i=t,t=r.prevSibling):t=r}return i}},{key:"node",get:function(){return this}},{key:"next",get:function(){return this.parent}}]),n}(),ha=function(n){jt(t,D$);var e=St(t);function t(i,r,o,s){var a;return lt(this,t),(a=e.call(this))._tree=i,a.from=r,a.index=o,a._parent=s,a}return ct(t,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(i,r,o,s){for(var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,l=this;;){for(var c=l._tree,f=c.children,h=c.positions,p=r>0?f.length:-1;i!=p;i+=r){var m=f[i],g=h[i]+l.from;if(B$(s,o,g,g+m.length)){if(m instanceof bc){if(a&kr.ExcludeBuffers)continue;var v=m.findChild(0,m.buffer.length,r,o-g,s);if(v>-1)return new pv(new sH(l,m,i,g),null,v)}else if(a&kr.IncludeAnonymous||!m.type.isAnonymous||j1(m)){var b=void 0;if(!(a&kr.IgnoreMounts)&&(b=Bd.get(m))&&!b.overlay)return new t(b.tree,g,i,l);var x=new t(m,g,i,l);return a&kr.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(r<0?m.children.length-1:0,r,o,s)}}}if(a&kr.IncludeAnonymous||!l.type.isAnonymous||(i=l.index>=0?l.index+r:r<0?-1:l._parent._tree.children.length,!(l=l._parent)))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(i){return this.nextChild(0,1,i,2)}},{key:"childBefore",value:function(i){return this.nextChild(this._tree.children.length-1,-1,i,-2)}},{key:"enter",value:function(i,r){var o,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(s&kr.IgnoreOverlays)&&(o=Bd.get(this._tree))&&o.overlay){var a,l=i-this.from,c=vr(o.overlay);try{for(c.s();!(a=c.n()).done;){var f=a.value,h=f.from,p=f.to;if((r>0?h<=l:h<l)&&(r<0?p>=l:p>l))return new t(o.tree,o.overlay[0].from+this.from,-1,this)}}catch(m){c.e(m)}finally{c.f()}}return this.nextChild(0,1,i,r,s)}},{key:"nextSignificantParent",value:function(){for(var i=this;i.type.isAnonymous&&i._parent;)i=i._parent;return i}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"toString",value:function(){return this._tree.toString()}}]),t}();function c_(n,e,t,i){var r=n.cursor(),o=[];if(!r.firstChild())return o;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return o}for(;;){if(i!=null&&r.type.is(i))return o;if(r.type.is(e)&&o.push(r.node),!r.nextSibling())return i==null?o:[]}}function dv(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-1,i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}var sH=ct(function n(e,t,i,r){lt(this,n),this.parent=e,this.buffer=t,this.index=i,this.start=r}),pv=function(n){jt(t,D$);var e=St(t);function t(i,r,o){var s;return lt(this,t),(s=e.call(this)).context=i,s._parent=r,s.index=o,s.type=i.buffer.set.types[i.buffer.buffer[o]],s}return ct(t,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(i,r,o){var s=this.context.buffer,a=s.findChild(this.index+4,s.buffer[this.index+3],i,r-this.context.start,o);return a<0?null:new t(this.context,this,a)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(i){return this.child(1,i,2)}},{key:"childBefore",value:function(i){return this.child(-1,i,-2)}},{key:"enter",value:function(i,r){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:0)&kr.ExcludeBuffers)return null;var o=this.context.buffer,s=o.findChild(this.index+4,o.buffer[this.index+3],r>0?1:-1,i-this.context.start,r);return s<0?null:new t(this.context,this,s)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(i){return this._parent?null:this.context.parent.nextChild(this.context.index+i,i,0,4)}},{key:"nextSibling",get:function(){var i=this.context.buffer,r=i.buffer[this.index+3];return r<(this._parent?i.buffer[this._parent.index+3]:i.buffer.length)?new t(this.context,this._parent,r):this.externalSibling(1)}},{key:"prevSibling",get:function(){var i=this.context.buffer,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new t(this.context,this._parent,i.findChild(r,this.index,-1,0,4))}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var i=[],r=[],o=this.context.buffer,s=this.index+4,a=o.buffer[this.index+3];if(a>s){var l=o.buffer[this.index+1];i.push(o.slice(s,a,l)),r.push(0)}return new Wa(this.type,i,r,this.to-this.from)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}}]),t}();function z$(n){if(!n.length)return null;for(var e=0,t=n[0],i=1;i<n.length;i++){var r=n[i];(r.from>t.from||r.to<t.to)&&(t=r,e=i)}var o=t instanceof ha&&t.index<0?null:t.parent,s=n.slice();return o?s[e]=o:s.splice(e,1),new aH(s,t)}var aH=function(){function n(e,t){lt(this,n),this.heads=e,this.node=t}return ct(n,[{key:"next",get:function(){return z$(this.heads)}}]),n}(),mv=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(lt(this,n),this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ha)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(var i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}return ct(n,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,t){this.index=e;var i=this.buffer,r=i.start,o=i.buffer;return this.type=t||o.set.types[o.buffer[e]],this.from=r+o.buffer[e+1],this.to=r+o.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof ha?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));var r=this.buffer.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.mode;return this.buffer?!(i&kr.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&kr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&kr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var t=this.buffer.buffer,i=this.stack.length-1;if(e<0){var r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{var o=t.buffer[this.index+3];if(o<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(o)}return i<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var t,i,r=this.buffer;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(var o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;t=r.index,i=r.parent}else{var s=this._tree;t=s.index,i=s._parent}for(;i;t=(a=i).index,i=a._parent,a){var a;if(t>-1)for(var l=t+e,c=e<0?-1:i._tree.children.length;l!=c;l+=e){var f=i._tree.children[l];if(this.mode&kr.IncludeAnonymous||f instanceof bc||!f.type.isAnonymous||j1(f))return!1}}return!0}},{key:"move",value:function(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(var r=this.index,o=this.stack.length;o>=0;){for(var s=e;s;s=s._parent)if(s.index==r){if(r==this.index)return s;t=s,i=o+1;break e}r=this.stack[--o]}for(var a=i;a<this.stack.length;a++)t=new pv(this.buffer,t,this.stack[a]);return this.bufferNode=new pv(this.buffer,t,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,t){for(var i=0;;){var r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return dv(this.node,e);for(var t=this.buffer.buffer,i=t.set.types,r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return dv(this.node,e,r);var s=i[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[r]&&e[r]!=s.name)return!1;r--}}return!0}}]),n}();function j1(n){return n.children.some(function(e){return e instanceof bc||!e.type.isAnonymous||j1(e)})}function lH(n){var e,t=n.buffer,i=n.nodeSet,r=n.maxBufferLength,o=r===void 0?1024:r,s=n.reused,a=s===void 0?[]:s,l=n.minRepeatType,c=l===void 0?i.types.length:l,f=Array.isArray(t)?new oH(t,t.length):t,h=i.types,p=0,m=0;function g(E,q,te,G,I,U){for(var B=f.id,ee=f.start,F=f.end,ne=f.size,re=m;ne<0;){if(f.next(),ne==-1){var R=a[B];return te.push(R),void G.push(ee-E)}if(ne==-3)return void(p=B);if(ne==-4)return void(m=B);throw new RangeError("Unrecognized record size: ".concat(ne))}var $,N,P=h[B],A=ee-E;if(F-ee<=o&&(N=function(Ze,Ye){var et=f.fork(),qt=0,fe=0,wt=0,tt=et.end-o,ce={size:0,start:0,skip:0};e:for(var bt=et.pos-Ze;et.pos>bt;){var Bt=et.size;if(et.id==Ye&&Bt>=0)ce.size=qt,ce.start=fe,ce.skip=wt,wt+=4,qt+=4,et.next();else{var ut=et.pos-Bt;if(Bt<0||ut<bt||et.start<tt)break;var Kt=et.id>=c?4:0,bn=et.start;for(et.next();et.pos>ut;){if(et.size<0){if(et.size!=-3)break e;Kt+=4}else et.id>=c&&(Kt+=4);et.next()}fe=bn,qt+=Bt,wt+=Kt}}return(Ye<0||qt==Ze)&&(ce.size=qt,ce.start=fe,ce.skip=wt),ce.size>4?ce:void 0}(f.pos-q,I))){for(var M=new Uint16Array(N.size-N.skip),Z=f.pos-N.size,le=M.length;f.pos>Z;)le=k(N.start,M,le);$=new bc(M,F-N.start,i),A=N.start-E}else{var de=f.pos-ne;f.next();for(var xe=[],oe=[],Be=B>=c?B:-1,We=0,Ce=F;f.pos>de;)Be>=0&&f.id==Be&&f.size>=0?(f.end<=Ce-o&&(b(xe,oe,ee,We,f.end,Ce,Be,re),We=xe.length,Ce=f.end),f.next()):U>2500?v(ee,de,xe,oe):g(ee,de,xe,oe,Be,U+1);if(Be>=0&&We>0&&We<xe.length&&b(xe,oe,ee,We,ee,Ce,Be,re),xe.reverse(),oe.reverse(),Be>-1&&We>0){var be=function(Ze){return function(Ye,et,qt){var fe,wt,tt=0,ce=Ye.length-1;if(ce>=0&&(fe=Ye[ce])instanceof Wa){if(!ce&&fe.type==Ze&&fe.length==qt)return fe;(wt=fe.prop(Qi.lookAhead))&&(tt=et[ce]+fe.length+wt)}return x(Ze,Ye,et,qt,tt)}}(P);$=S1(P,xe,oe,0,xe.length,0,F-ee,be,be)}else $=x(P,xe,oe,F-ee,re-F)}te.push($),G.push(A)}function v(E,q,te,G){for(var I=[],U=0,B=-1;f.pos>q;){var ee=f.id,F=f.start,ne=f.end;if(f.size>4)f.next();else{if(B>-1&&F<B)break;B<0&&(B=ne-o),I.push(ee,F,ne),U++,f.next()}}if(U){for(var re=new Uint16Array(4*U),R=I[I.length-2],$=I.length-3,N=0;$>=0;$-=3)re[N++]=I[$],re[N++]=I[$+1]-R,re[N++]=I[$+2]-R,re[N++]=N;te.push(new bc(re,I[2]-R,i)),G.push(R-E)}}function b(E,q,te,G,I,U,B,ee){for(var F=[],ne=[];E.length>G;)F.push(E.pop()),ne.push(q.pop()+te-I);E.push(x(i.types[B],F,ne,U-I,ee-U)),q.push(I-te)}function x(E,q,te,G){var I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,U=arguments.length>5?arguments[5]:void 0;if(p){var B=[Qi.contextHash,p];U=U?[B].concat(U):[B]}if(I>25){var ee=[Qi.lookAhead,I];U=U?[ee].concat(U):[ee]}return new Wa(E,q,te,G,U)}function k(E,q,te){var G=f.id,I=f.start,U=f.end,B=f.size;if(f.next(),B>=0&&G<c){var ee=te;if(B>4)for(var F=f.pos-(B-4);f.pos>F;)te=k(E,q,te);q[--te]=ee,q[--te]=U-E,q[--te]=I-E,q[--te]=G}else B==-3?p=G:B==-4&&(m=G);return te}for(var C=[],S=[];f.pos>0;)g(n.start||0,n.bufferStart||0,C,S,-1,0);var _=(e=n.length)!==null&&e!==void 0?e:C.length?S[0]+C[0].length:0;return new Wa(h[n.topID],C.reverse(),S.reverse(),_)}var u_=new WeakMap;function zh(n,e){if(!n.isAnonymous||e instanceof bc||e.type!=n)return 1;var t=u_.get(e);if(t==null){t=1;var i,r=vr(e.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.type!=n||!(o instanceof Wa)){t=1;break}t+=zh(n,o)}}catch(s){r.e(s)}finally{r.f()}u_.set(e,t)}return t}function S1(n,e,t,i,r,o,s,a,l){for(var c=0,f=i;f<r;f++)c+=zh(n,e[f]);var h=Math.ceil(1.5*c/8),p=[],m=[];return function g(v,b,x,k,C){for(var S=x;S<k;){var _=S,E=b[S],q=zh(n,v[S]);for(S++;S<k;S++){var te=zh(n,v[S]);if(q+te>=h)break;q+=te}if(S==_+1){if(q>h){var G=v[_];g(G.children,G.positions,0,G.children.length,b[_]+C);continue}p.push(v[_])}else{var I=b[S-1]+v[S-1].length-E;p.push(S1(n,v,b,_,S,E,I,null,l))}m.push(E+C-o)}}(e,t,i,r,0),(a||l)(p,m,s)}new Qi({perNode:!0});var cH=0,Js=function(){function n(e,t,i){lt(this,n),this.set=e,this.base=t,this.modified=i,this.id=cH++}return ct(n,null,[{key:"define",value:function(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");var t=new n([],null,[]);if(t.set.push(t),e){var i,r=vr(e.set);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.set.push(o)}}catch(s){r.e(s)}finally{r.f()}}return t}},{key:"defineModifier",value:function(){var e=new f_;return function(t){return t.modified.indexOf(e)>-1?t:f_.get(t.base||t,t.modified.concat(e).sort(function(i,r){return i.id-r.id}))}}}]),n}(),uH=0,f_=function(){function n(){lt(this,n),this.instances=[],this.id=uH++}return ct(n,null,[{key:"get",value:function(e,t){if(!t.length)return e;var i=t[0].instances.find(function(v){return v.base==e&&(b=t,x=v.modified,b.length==x.length&&b.every(function(k,C){return k==x[C]}));var b,x});if(i)return i;var r,o=[],s=new Js(o,e,t),a=vr(t);try{for(a.s();!(r=a.n()).done;)r.value.instances.push(s)}catch(v){a.e(v)}finally{a.f()}var l,c=function(v){for(var b=[[]],x=0;x<v.length;x++)for(var k=0,C=b.length;k<C;k++)b.push(b[k].concat(v[x]));return b.sort(function(S,_){return _.length-S.length})}(t),f=vr(e.set);try{for(f.s();!(l=f.n()).done;){var h=l.value;if(!h.modified.length){var p,m=vr(c);try{for(m.s();!(p=m.n()).done;){var g=p.value;o.push(n.get(h,g))}}catch(v){m.e(v)}finally{m.f()}}}}catch(v){f.e(v)}finally{f.f()}return s}}]),n}();new Qi;var dt=Js.define,gh=dt(),Gs=dt(),h_=dt(Gs),d_=dt(Gs),Ks=dt(),vh=dt(Ks),Mm=dt(Ks),Uo=dt(),Ta=dt(Uo),Fo=dt(),Ho=dt(),gv=dt(),Uc=dt(gv),yh=dt(),vn={comment:gh,lineComment:dt(gh),blockComment:dt(gh),docComment:dt(gh),name:Gs,variableName:dt(Gs),typeName:h_,tagName:dt(h_),propertyName:d_,attributeName:dt(d_),className:dt(Gs),labelName:dt(Gs),namespace:dt(Gs),macroName:dt(Gs),literal:Ks,string:vh,docString:dt(vh),character:dt(vh),attributeValue:dt(vh),number:Mm,integer:dt(Mm),float:dt(Mm),bool:dt(Ks),regexp:dt(Ks),escape:dt(Ks),color:dt(Ks),url:dt(Ks),keyword:Fo,self:dt(Fo),null:dt(Fo),atom:dt(Fo),unit:dt(Fo),modifier:dt(Fo),operatorKeyword:dt(Fo),controlKeyword:dt(Fo),definitionKeyword:dt(Fo),moduleKeyword:dt(Fo),operator:Ho,derefOperator:dt(Ho),arithmeticOperator:dt(Ho),logicOperator:dt(Ho),bitwiseOperator:dt(Ho),compareOperator:dt(Ho),updateOperator:dt(Ho),definitionOperator:dt(Ho),typeOperator:dt(Ho),controlOperator:dt(Ho),punctuation:gv,separator:dt(gv),bracket:Uc,angleBracket:dt(Uc),squareBracket:dt(Uc),paren:dt(Uc),brace:dt(Uc),content:Uo,heading:Ta,heading1:dt(Ta),heading2:dt(Ta),heading3:dt(Ta),heading4:dt(Ta),heading5:dt(Ta),heading6:dt(Ta),contentSeparator:dt(Uo),list:dt(Uo),quote:dt(Uo),emphasis:dt(Uo),strong:dt(Uo),link:dt(Uo),monospace:dt(Uo),strikethrough:dt(Uo),inserted:dt(),deleted:dt(),changed:dt(),invalid:dt(),meta:yh,documentMeta:dt(yh),annotation:dt(yh),processingInstruction:dt(yh),definition:Js.defineModifier(),constant:Js.defineModifier(),function:Js.defineModifier(),standard:Js.defineModifier(),local:Js.defineModifier(),special:Js.defineModifier()};(function(n,e){var t,i=Object.create(null),r=vr(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(Array.isArray(o.tag)){var s,a=vr(o.tag);try{for(a.s();!(s=a.n()).done;){var l=s.value;i[l.id]=o.class}}catch(f){a.e(f)}finally{a.f()}}else i[o.tag.id]=o.class}}catch(f){r.e(f)}finally{r.f()}var c=e||{};c.scope,c.all})([{tag:vn.link,class:"tok-link"},{tag:vn.heading,class:"tok-heading"},{tag:vn.emphasis,class:"tok-emphasis"},{tag:vn.strong,class:"tok-strong"},{tag:vn.keyword,class:"tok-keyword"},{tag:vn.atom,class:"tok-atom"},{tag:vn.bool,class:"tok-bool"},{tag:vn.url,class:"tok-url"},{tag:vn.labelName,class:"tok-labelName"},{tag:vn.inserted,class:"tok-inserted"},{tag:vn.deleted,class:"tok-deleted"},{tag:vn.literal,class:"tok-literal"},{tag:vn.string,class:"tok-string"},{tag:vn.number,class:"tok-number"},{tag:[vn.regexp,vn.escape,vn.special(vn.string)],class:"tok-string2"},{tag:vn.variableName,class:"tok-variableName"},{tag:vn.local(vn.variableName),class:"tok-variableName tok-local"},{tag:vn.definition(vn.variableName),class:"tok-variableName tok-definition"},{tag:vn.special(vn.variableName),class:"tok-variableName2"},{tag:vn.definition(vn.propertyName),class:"tok-propertyName tok-definition"},{tag:vn.typeName,class:"tok-typeName"},{tag:vn.namespace,class:"tok-namespace"},{tag:vn.className,class:"tok-className"},{tag:vn.macroName,class:"tok-macroName"},{tag:vn.propertyName,class:"tok-propertyName"},{tag:vn.operator,class:"tok-operator"},{tag:vn.comment,class:"tok-comment"},{tag:vn.meta,class:"tok-meta"},{tag:vn.invalid,class:"tok-invalid"},{tag:vn.punctuation,class:"tok-punctuation"}]);var C1=kc.define([{tag:vn.propertyName,color:"var(--internal-key-color)"},{tag:vn.number,color:"var(--internal-value-color-number)"},{tag:vn.bool,color:"var(--internal-value-color-boolean)"},{tag:vn.string,color:"var(--internal-value-color-string)"},{tag:vn.keyword,color:"var(--internal-value-color-null)"}]),fH=Ba(C1),hH=C1.style;function dH(n){Gt(n,"svelte-a0poeb",'.jse-text-mode.svelte-a0poeb.svelte-a0poeb{--internal-key-color:var(--jse-key-color, #1a1a1a);--internal-value-color-number:var(--jse-value-color-number, #ee422e);--internal-value-color-boolean:var(--jse-value-color-boolean, #ff8c00);--internal-value-color-string:var(--jse-value-color-string, #008000);--internal-value-color-null:var(--jse-value-color-null, #004ed0);flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color, #fff)}.jse-text-mode.no-main-menu.svelte-a0poeb.svelte-a0poeb{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb{flex:1;display:flex;position:relative;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-text-mode.svelte-a0poeb .jse-contents.jse-hidden.svelte-a0poeb{visibility:hidden;position:absolute;top:0;left:0}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor{flex:1;overflow:hidden}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px));color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-gutters{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color-readonly, #b2b2b2);border-right:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-activeLine,.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-activeLineGutter{background:var(--jse-active-line-background-color, rgba(0, 0, 0, 0.06))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color, #d3d3d3)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color, #ffe665);outline:var(--jse-search-match-outline, 1px solid #ffd700)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color, #ffd700);outline:var(--jse-search-match-active-outline, 1px solid #e1be00)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-selectionMatch{background-color:var(--jse-search-match-background-color, rgba(153, 255, 119, 0.5019607843))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background, rgba(0, 0, 0, 0.2));color:var(--jse-tag-color, var(--jse-text-color-inverse, #fff));border:none;padding:0 var(--jse-padding, 10px)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-tooltip{font-size:var(--jse-font-size, 16px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);color:var(--jse-tooltip-color, var(--jse-text-color, #4d4d4d));background:var(--jse-tooltip-background, var(--jse-modal-background, #f5f5f5));border:var(--jse-tooltip-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-diagnosticAction{background:var(--jse-tooltip-action-button-color, var(--jse-text-color-inverse, #fff));background:var(--jse-tooltip-action-button-background, #4d4d4d)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-panels{border-bottom:var(--jse-panel-border, var(--jse-main-border, 1px solid #d7d7d7))}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search{background:var(--jse-panel-background, #ebebeb);color:var(--jse-panel-color, var(--jse-text-color, #4d4d4d));font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search input{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-input-color, var(--jse-text-color, #4d4d4d));border:var(--jse-input-border, 1px solid #d8dbdf);background:var(--jse-input-background, var(--jse-background-color, #fff));margin-right:2px}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search button{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);color:var(--jse-panel-button-color, inherit);background:var(--jse-panel-button-background, transparent);border:none;cursor:pointer;text-transform:capitalize;padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px);margin:0}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search button:hover{color:var(--panel-button-color-highlight, var(--jse-text-color, #4d4d4d));background:var(--jse-panel-button-background-highlight, #e0e0e0)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search label{font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size-text-mode-search, 80%);padding-left:var(--jse-padding, 10px)}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search label input{margin-right:2px}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-search button[name="close"]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-text-mode.svelte-a0poeb .jse-contents.svelte-a0poeb .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color, #4d4d4d)}.jse-text-mode.svelte-a0poeb .jse-contents .jse-loading-space.svelte-a0poeb{flex:1}.jse-text-mode.svelte-a0poeb .jse-contents .jse-loading.svelte-a0poeb{flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-text-mode.svelte-a0poeb .jse-contents.jse-preview.svelte-a0poeb{flex:1;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-panel-color-readonly, #b2b2b2);overflow:auto;white-space:pre-wrap;word-break:break-word;padding:2px}')}function Pm(n){var e=n.slice(),t=e[11].length===0;return e[98]=t,e}function p_(n){var e,t;return e=new XF({props:{readOnly:n[1],onFormat:n[17],onCompact:n[18],onSort:n[19],onTransform:n[20],onToggleSearch:n[21],onUndo:n[22],onRedo:n[23],canFormat:!n[98],canCompact:!n[98],canSort:!n[98],canTransform:!n[98],canUndo:n[12],canRedo:n[13],onRenderMenu:n[4]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};2&r[0]&&(o.readOnly=i[1]),2048&r[0]&&(o.canFormat=!i[98]),2048&r[0]&&(o.canCompact=!i[98]),2048&r[0]&&(o.canSort=!i[98]),2048&r[0]&&(o.canTransform=!i[98]),4096&r[0]&&(o.canUndo=i[12]),8192&r[0]&&(o.canRedo=i[13]),16&r[0]&&(o.onRenderMenu=i[4]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function pH(n){var e;return{c:function(){(e=K("div")).innerHTML='<div class="jse-loading-space svelte-a0poeb"></div> <div class="jse-loading svelte-a0poeb">loading...</div>',j(e,"class","jse-contents svelte-a0poeb")},m:function(t,i){ae(t,e,i)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e)}}}function mH(n){var e,t,i,r,o,s=n[97]&&m_(n),a=!n[97]&&g_(n);return{c:function(){e=K("div"),t=ve(),s&&s.c(),i=ve(),a&&a.c(),r=On(),j(e,"class","jse-contents svelte-a0poeb"),Ie(e,"jse-hidden",n[97])},m:function(l,c){ae(l,e,c),n[52](e),ae(l,t,c),s&&s.m(l,c),ae(l,i,c),a&&a.m(l,c),ae(l,r,c),o=!0},p:function(l,c){(!o||268438016&c[0])&&Ie(e,"jse-hidden",l[97]),l[97]?s?(s.p(l,c),2560&c[0]&&T(s,1)):((s=m_(l)).c(),T(s,1),s.m(i.parentNode,i)):s&&(De(),D(s,1,1,function(){s=null}),ze()),l[97]?a&&(De(),D(a,1,1,function(){a=null}),ze()):a?(a.p(l,c),2560&c[0]&&T(a,1)):((a=g_(l)).c(),T(a,1),a.m(r.parentNode,r))},i:function(l){o||(T(s),T(a),o=!0)},o:function(l){D(s),D(a),o=!1},d:function(l){l&&(se(e),se(t),se(i),se(r)),n[52](null),s&&s.d(l),a&&a.d(l)}}}function m_(n){var e,t,i,r,o,s=Bs(n[11]||"",Wg)+"";return e=new Ro({props:{icon:ul,type:"error",message:"The JSON document is larger than ".concat(ph(Ug,1024),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(ph(n[11].length,1024),"."),actions:[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:n[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:n[25]},{text:"Cancel",title:"Cancel opening this large document.",onClick:n[26]}],onClose:n[5]}}),{c:function(){Te(e.$$.fragment),t=ve(),i=K("div"),r=Xe(s),j(i,"class","jse-contents jse-preview svelte-a0poeb")},m:function(a,l){Me(e,a,l),ae(a,t,l),ae(a,i,l),z(i,r),o=!0},p:function(a,l){var c={};2048&l[0]&&(c.message="The JSON document is larger than ".concat(ph(Ug,1024),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(ph(a[11].length,1024),".")),e.$set(c),(!o||2048&l[0])&&s!==(s=Bs(a[11]||"",Wg)+"")&&Dt(r,s)},i:function(a){o||(T(e.$$.fragment,a),o=!0)},o:function(a){D(e.$$.fragment,a),o=!1},d:function(a){a&&(se(t),se(i)),Pe(e,a)}}}function g_(n){var e,t,i,r,o,s=!n[14]&&n[0]&&dw(n[11]),a=n[3]&&v_(n),l=n[14]&&y_(n),c=s&&b_(n);return r=new m1({props:{validationErrors:n[10],selectError:n[27]}}),{c:function(){a&&a.c(),e=ve(),l&&l.c(),t=ve(),c&&c.c(),i=ve(),Te(r.$$.fragment)},m:function(f,h){a&&a.m(f,h),ae(f,e,h),l&&l.m(f,h),ae(f,t,h),c&&c.m(f,h),ae(f,i,h),Me(r,f,h),o=!0},p:function(f,h){f[3]?a?(a.p(f,h),8&h[0]&&T(a,1)):((a=v_(f)).c(),T(a,1),a.m(e.parentNode,e)):a&&(De(),D(a,1,1,function(){a=null}),ze()),f[14]?l?(l.p(f,h),16384&h[0]&&T(l,1)):((l=y_(f)).c(),T(l,1),l.m(t.parentNode,t)):l&&(De(),D(l,1,1,function(){l=null}),ze()),18433&h[0]&&(s=!f[14]&&f[0]&&dw(f[11])),s?c?(c.p(f,h),18433&h[0]&&T(c,1)):((c=b_(f)).c(),T(c,1),c.m(i.parentNode,i)):c&&(De(),D(c,1,1,function(){c=null}),ze());var p={};1024&h[0]&&(p.validationErrors=f[10]),r.$set(p)},i:function(f){o||(T(a),T(l),T(c),T(r.$$.fragment,f),o=!0)},o:function(f){D(a),D(l),D(c),D(r.$$.fragment,f),o=!1},d:function(f){f&&(se(e),se(t),se(i)),a&&a.d(f),l&&l.d(f),c&&c.d(f),Pe(r,f)}}}function v_(n){var e,t;return e=new nH({props:{editorState:n[8]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};256&r[0]&&(o.editorState=i[8]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function y_(n){var e,t;return e=new Ro({props:{type:"error",icon:ul,message:n[14].message,actions:n[15],onClick:n[29],onClose:n[5]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};16384&r[0]&&(o.message=i[14].message),32768&r[0]&&(o.actions=i[15]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function b_(n){var e,t;return e=new Ro({props:{type:"success",message:"Do you want to format the JSON?",actions:[{icon:av,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:n[17]},{icon:uc,text:"No thanks",title:"Close this message",onClick:n[53]}],onClose:n[5]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r[0]&&(o.actions=[{icon:av,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:i[17]},{icon:uc,text:"No thanks",title:"Close this message",onClick:i[53]}]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function gH(n){var e,t,i,r,o,s=n[2]&&p_(Pm(n)),a=[mH,pH],l=[];function c(f,h){return h===0?function(p){var m=p.slice(),g=m[28](m[11],m[9]);return m[97]=g,m}(f):f}return i=function(f,h){return f[16]?1:0}(n),r=l[i]=a[i](c(n,i)),{c:function(){e=K("div"),s&&s.c(),t=ve(),r.c(),j(e,"class","jse-text-mode svelte-a0poeb"),Ie(e,"no-main-menu",!n[2])},m:function(f,h){ae(f,e,h),s&&s.m(e,null),z(e,t),l[i].m(e,null),n[54](e),o=!0},p:function(f,h){f[2]?s?(s.p(Pm(f),h),4&h[0]&&T(s,1)):((s=p_(Pm(f))).c(),T(s,1),s.m(e,t)):s&&(De(),D(s,1,1,function(){s=null}),ze()),r.p(c(f,i),h),(!o||4&h[0])&&Ie(e,"no-main-menu",!f[2])},i:function(f){o||(T(s),T(r),o=!0)},o:function(f){D(s),D(r),o=!1},d:function(f){f&&se(e),s&&s.d(),l[i].d(),n[54](null)}}}function x_(n){return{from:n.from||0,to:n.to||0,message:n.message||"",actions:n.actions,severity:n.severity}}function vH(n,e,t){var i,r,o,s,a,l,c=e.readOnly,f=e.mainMenuBar,h=e.statusBar,p=e.askToFormat,m=e.externalContent,g=e.externalSelection,v=e.indentation,b=e.tabSize,x=e.escapeUnicodeCharacters,k=e.parser,C=e.validator,S=e.validationParser,_=e.onChange,E=e.onChangeMode,q=e.onSelect,te=e.onError,G=e.onFocus,I=e.onBlur,U=e.onRenderMenu,B=e.onSortModal,ee=e.onTransformModal,F=ar("jsoneditor:TextMode"),ne={key:"Mod-i",run:et,shift:qt,preventDefault:!0},re=typeof window>"u";F("isSSR:",re);var R=!1,$=[],N=new _o,P=new _o,A=new _o,M=new _o,Z=new _o,le=m,de=Gg(le,v,k),xe=x;go(Xt(Ge().mark(function je(){return Ge().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if(!re){ot.next=2;break}return ot.abrupt("return");case 2:try{a=Bt({target:o,initialText:rt(de,R)?"":i.escapeValue(de),readOnly:c,indentation:v})}catch(Vt){console.error(Vt)}case 3:case"end":return ot.stop()}},je)}))),Xr(function(){a&&(F("Destroy CodeMirror editor"),a.destroy())});var oe=!1,Be=!1,We=ic(),Ce=ic();function be(){a&&(F("focus"),a.focus())}var Ze=!1;function Ye(je){F("patch",je);var ot=k.parse(de),Vt=$o(ot,je),en=zC(ot,je);return it({text:k.stringify(Vt,null,v)}),{json:Vt,previousJson:ot,undo:en,redo:je}}function et(){if(F("format"),c)return!1;try{var je=k.parse(de);return it({text:k.stringify(je,null,v)}),t(0,p=!0),!0}catch(ot){te(ot)}return!1}function qt(){if(F("compact"),c)return!1;try{var je=k.parse(de);return it({text:k.stringify(je)}),t(0,p=!1),!0}catch(ot){te(ot)}return!1}function fe(){if(F("repair"),!c)try{it({text:is(de)}),t(51,$n=gm),t(14,oi=null)}catch(je){te(je)}}function wt(je){var ot=je.id,Vt=je.rootPath,en=je.onTransform,tn=je.onClose;try{var rn=k.parse(de);Ze=!0,ee({id:ot||Ce,json:rn,rootPath:Vt||[],onTransform:function(we){en?en({operations:we,json:rn,transformedJson:$o(rn,we)}):(F("onTransform",we),Ye(we))},onClose:function(){Ze=!1,be(),tn&&tn()}})}catch(we){te(we)}}function tt(je,ot){F("setSelection",{anchor:je,head:ot}),a&&a.dispatch(a.state.update({selection:{anchor:je,head:ot},scrollIntoView:!0}))}function ce(je,ot){if(ot.state.selection.ranges.length===1){var Vt=ot.state.selection.ranges[0],en=de.slice(Vt.from,Vt.to);if(en==="{"||en==="["){var tn=dd.parse(de),rn=Object.keys(tn.pointers).find(function(pt){var nt;return((nt=tn.pointers[pt].value)===null||nt===void 0?void 0:nt.pos)===Vt.from}),we=tn.pointers[rn];rn&&we&&we.value&&we.valueEnd&&(F("pointer found, selecting inner contents of path:",rn,we),tt(we.value.pos+1,we.valueEnd.pos-1))}}}function bt(){return oA(Mn,{delay:300})}function Bt(je){var ot=je.target,Vt=je.initialText,en=je.readOnly,tn=je.indentation;F("Create CodeMirror editor",{readOnly:en,indentation:tn});var rn=wn.create({doc:Vt,selection:H(g),extensions:[Ja.of([K4,ne]),N.of(bt()),pA(),HS(),VS(),AS(),b4(),f4(),Iv(),ES(),wn.allowMultipleSelections.of(!0),n4(),Ba(ed,{fallback:!0}),g4(),yC(),_C(),LS(),IS(),RS(),iC(),Ja.of([].concat(ln(wC),ln(G4),ln(lC),ln(_4),ln(l4),ln(u0),ln($C))),fH,W7({hideFirstIndent:!0}),gt.domEventHandlers({dblclick:ce}),gt.updateListener.of(function(we){t(8,l=we.state),we.docChanged?Tt():we.selectionSet&&Qt()}),D7(),JT({top:!0}),P.of(wn.readOnly.of(en)),M.of(wn.tabSize.of(b)),A.of(Re(tn)),Z.of(gt.theme({},{dark:ut()})),gt.lineWrapping,Q7]});return a=new gt({state:rn,parent:ot})}function ut(){return!!o&&getComputedStyle(o).getPropertyValue("--jse-theme").includes("dark")}function Kt(je){var ot=je.path,Vt=je.message,en=function(tn,rn){try{var we=dd.parse(tn),pt=at(rn),nt=we.pointers[pt];if(nt)return{path:rn,line:nt.key?nt.key.line:nt.value?nt.value.line:0,column:nt.key?nt.key.column:nt.value?nt.value.column:0,from:nt.key?nt.key.pos:nt.value?nt.value.pos:0,to:nt.keyEnd?nt.keyEnd.pos:nt.valueEnd?nt.valueEnd.pos:0}}catch(W){console.error(W)}return{path:rn,line:0,column:0,from:0,to:0}}(i.escapeValue(de),ot);return{path:ot,line:en.line,column:en.column,from:en.from,to:en.to,message:Vt,severity:Is.warning,actions:[]}}function bn(je,ot){var Vt=je.line,en=je.column,tn=je.position,rn=je.message;return{path:[],line:Vt,column:en,from:tn,to:tn,severity:Is.error,message:rn,actions:ot&&!c?[{name:"Auto repair",apply:function(){return fe()}}]:null}}function it(je){var ot=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Vt=Gg(je,v,k),en=!jn(je,le),tn=le;le=je,t(11,de=Vt),F("setCodeMirrorContent",{isChanged:en,forceUpdate:ot}),a&&(en||ot)&&(rt(de,R)||a.dispatch({changes:{from:0,to:a.state.doc.length,insert:i.escapeValue(de)}}),st(),en&&Ln(le,tn))}function H(je){return Mw(je)?He.fromJSON(je):void 0}function J(){return(J=Xt(Ge().mark(function je(){return Ge().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return F("refresh"),ot.next=3,me();case 3:case"end":return ot.stop()}},je)}))).apply(this,arguments)}function ie(){if(a){var je=a?i.unescapeValue(a.state.doc.toString()):"",ot=je!==de;if(F("onChangeCodeMirrorValue",{isChanged:ot}),ot){var Vt=le;t(11,de=je),le={text:de},st(),Ln(le,Vt),Mi().then(Qt)}}}function me(){return _e.apply(this,arguments)}function _e(){return(_e=Xt(Ge().mark(function je(){var ot;return Ge().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:return Vt.next=2,Mi();case 2:a&&(ot=ut(),F("updateTheme",{dark:ot}),a.dispatch({effects:[Z.reconfigure(gt.theme({},{dark:ot}))]}));case 3:case"end":return Vt.stop()}},je)}))).apply(this,arguments)}function Re(je){return Yu.of(typeof je=="number"?" ".repeat(je):je)}function st(){t(12,oe=DP(a.state)>0),t(13,Be=zP(a.state)>0),F({canUndo:oe,canRedo:Be})}Xr(function(){Lt()}),p1({onMount:go,onDestroy:Xr,getWindow:function(){return Oc(s)},hasFocus:function(){return Ze&&document.hasFocus()||a1(s)},onFocus:G,onBlur:function(){Lt(),I()}});var Tt=xv(ie,300);function Lt(){Tt.flush()}function Ln(je,ot){_&&_(je,ot,{contentErrors:Qn(),patchResult:null})}function Qt(){q(ke({type:ri.text},l.selection.toJSON()))}function rt(je,ot){return!!je&&je.length>Ug&&!ot}var $n=gm,oi=null;function Mn(){if(rt(de,R))return[];var je=Qn();return L2(je)?[x_(bn(je.parseError,je.isRepairable))]:BD(je)?je.validationErrors.map(Kt).map(x_):[]}function Qn(){F("validate:start"),Lt();var je=Zn(i.escapeValue(de),C,k,S);return L2(je)?(t(51,$n=je.isRepairable?aw:"invalid"),t(14,oi=je.parseError),t(10,$=[])):(t(51,$n=gm),t(14,oi=null),t(10,$=(je==null?void 0:je.validationErrors)||[])),F("validate:end"),je}var Zn=Ju(bD);function ei(){oi&&function(je){F("select parse error",je);var ot=bn(je,!1);tt(ot.from!=null?ot.from:0,ot.to!=null?ot.to:0),be()}(oi)}var xn={icon:b7,text:"Show me",title:"Move to the parse error location",onClick:ei};return n.$$set=function(je){"readOnly"in je&&t(1,c=je.readOnly),"mainMenuBar"in je&&t(2,f=je.mainMenuBar),"statusBar"in je&&t(3,h=je.statusBar),"askToFormat"in je&&t(0,p=je.askToFormat),"externalContent"in je&&t(30,m=je.externalContent),"externalSelection"in je&&t(31,g=je.externalSelection),"indentation"in je&&t(32,v=je.indentation),"tabSize"in je&&t(33,b=je.tabSize),"escapeUnicodeCharacters"in je&&t(34,x=je.escapeUnicodeCharacters),"parser"in je&&t(35,k=je.parser),"validator"in je&&t(36,C=je.validator),"validationParser"in je&&t(37,S=je.validationParser),"onChange"in je&&t(38,_=je.onChange),"onChangeMode"in je&&t(39,E=je.onChangeMode),"onSelect"in je&&t(40,q=je.onSelect),"onError"in je&&t(41,te=je.onError),"onFocus"in je&&t(42,G=je.onFocus),"onBlur"in je&&t(43,I=je.onBlur),"onRenderMenu"in je&&t(4,U=je.onRenderMenu),"onSortModal"in je&&t(44,B=je.onSortModal),"onTransformModal"in je&&t(45,ee=je.onTransformModal)},n.$$.update=function(){8&n.$$.dirty[1]&&(i=r1({escapeControlCharacters:!1,escapeUnicodeCharacters:x})),1073741824&n.$$.dirty[0]&&it(m),1&n.$$.dirty[1]&&function(je){if(Mw(je)){var ot=H(je);!a||!ot||l&&l.selection.eq(ot)||(F("applyExternalSelection",ot),a.dispatch({selection:ot}))}}(g),32&n.$$.dirty[1]&&function(je){F("updateLinter",je),a&&a.dispatch({effects:N.reconfigure(bt())})}(C),2&n.$$.dirty[1]&&function(je){a&&(F("updateIndentation",je),a.dispatch({effects:A.reconfigure(Re(je))}))}(v),4&n.$$.dirty[1]&&function(je){a&&(F("updateTabSize",je),a.dispatch({effects:M.reconfigure(wn.tabSize.of(je))}))}(b),2&n.$$.dirty[0]&&function(je){a&&(F("updateReadOnly",je),a.dispatch({effects:[P.reconfigure(wn.readOnly.of(je))]}))}(c),524296&n.$$.dirty[1]&&xe!==x&&(t(50,xe=x),F("forceUpdateText",{escapeUnicodeCharacters:x}),a&&a.dispatch({changes:{from:0,to:a.state.doc.length,insert:i.escapeValue(de)}})),2&n.$$.dirty[0]|1048576&n.$$.dirty[1]&&t(15,r=$n!==aw||c?[xn]:[{icon:op,text:"Auto repair",title:"Automatically repair JSON",onClick:fe},xn])},[p,c,f,h,U,be,o,s,l,R,$,de,oe,Be,oi,r,re,et,qt,function(){var je;if(!c)try{var ot=k.parse(de);Ze=!0,B({id:We,json:ot,rootPath:[],onSort:(je=Xt(Ge().mark(function Vt(en){var tn;return Ge().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:tn=en.operations,F("onSort",tn),Ye(tn);case 3:case"end":return rn.stop()}},Vt)})),function(Vt){return je.apply(this,arguments)}),onClose:function(){Ze=!1,be()}})}catch(Vt){te(Vt)}},function(){c||wt({rootPath:[]})},function(){a&&(o&&o.querySelector(".cm-search")?i0(a):n0(a))},function(){c||a&&(Kv(a),be())},function(){c||a&&(td(a),be())},function(){t(9,R=!0),it(m,!0)},function(){E(pr.tree)},function(){ie()},function(je){F("select validation error",je);var ot=Kt(je),Vt=ot.from,en=ot.to;Vt!==null&&en!==null&&(tt(Vt,en),be())},rt,ei,m,g,v,b,x,k,C,S,_,E,q,te,G,I,B,ee,Ye,wt,function(){return J.apply(this,arguments)},Qn,xe,$n,function(je){pn[je?"unshift":"push"](function(){t(6,o=je)})},function(){return t(0,p=!1)},function(je){pn[je?"unshift":"push"](function(){t(7,s=je)})}]}C1.style=function(n){return hH(n||[])};var yH=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,vH,gH,Yt,{readOnly:1,mainMenuBar:2,statusBar:3,askToFormat:0,externalContent:30,externalSelection:31,indentation:32,tabSize:33,escapeUnicodeCharacters:34,parser:35,validator:36,validationParser:37,onChange:38,onChangeMode:39,onSelect:40,onError:41,onFocus:42,onBlur:43,onRenderMenu:4,onSortModal:44,onTransformModal:45,focus:5,patch:46,openTransformModal:47,refresh:48,validate:49},dH,[-1,-1,-1,-1]),r}return ct(t,[{key:"focus",get:function(){return this.$$.ctx[5]}},{key:"patch",get:function(){return this.$$.ctx[46]}},{key:"openTransformModal",get:function(){return this.$$.ctx[47]}},{key:"refresh",get:function(){return this.$$.ctx[48]}},{key:"validate",get:function(){return this.$$.ctx[49]}}]),t}();function bH(n){var e,t;return e=new bp({props:{items:n[0]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&Jt(r,1)[0]&&(o.items=i[0]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function xH(n,e,t){var i,r,o=e.json,s=e.readOnly,a=e.historyState,l=e.onSort,c=e.onTransform,f=e.onContextMenu,h=e.onUndo,p=e.onRedo,m=e.onRenderMenu;return n.$$set=function(g){"json"in g&&t(1,o=g.json),"readOnly"in g&&t(2,s=g.readOnly),"historyState"in g&&t(3,a=g.historyState),"onSort"in g&&t(4,l=g.onSort),"onTransform"in g&&t(5,c=g.onTransform),"onContextMenu"in g&&t(6,f=g.onContextMenu),"onUndo"in g&&t(7,h=g.onUndo),"onRedo"in g&&t(8,p=g.onRedo),"onRenderMenu"in g&&t(9,m=g.onRenderMenu)},n.$$.update=function(){510&n.$$.dirty&&t(10,i=s?[{type:"space"}]:[{type:"button",icon:sp,title:"Sort",className:"jse-sort",onClick:l,disabled:s||o===void 0},{type:"button",icon:rp,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:c,disabled:s||o===void 0},{type:"button",icon:XC,title:t1,className:"jse-contextmenu",onClick:f},{type:"separator"},{type:"button",icon:g0,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:h,disabled:!a.canUndo},{type:"button",icon:m0,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:p,disabled:!a.canRedo},{type:"space"}]),1536&n.$$.dirty&&t(0,r=m(i))},[r,o,s,a,l,c,f,h,p,m,i]}var wH=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,xH,bH,Yt,{json:1,readOnly:2,historyState:3,onSort:4,onTransform:5,onContextMenu:6,onUndo:7,onRedo:8,onRenderMenu:9}),r}return ct(t)}();function w_(n,e,t){var i=n.slice();return i[9]=e[t],i}function k_(n){var e,t,i,r=[n[9].props],o=n[9].component;function s(a,l){var c={};if(l!==void 0&&1&l)c=vo(r,[el(a[9].props)]);else for(var f=0;f<r.length;f+=1)c=Dr(c,r[f]);return{props:c}}return o&&(e=ls(o,s(n))),{c:function(){e&&Te(e.$$.fragment),t=On()},m:function(a,l){e&&Me(e,a,l),ae(a,t,l),i=!0},p:function(a,l){if(1&l&&o!==(o=a[9].component)){if(e){De();var c=e;D(c.$$.fragment,1,0,function(){Pe(c,1)}),ze()}o?(Te((e=ls(o,s(a,l))).$$.fragment),T(e.$$.fragment,1),Me(e,t.parentNode,t)):e=null}else if(o){var f=1&l?vo(r,[el(a[9].props)]):{};e.$set(f)}},i:function(a){i||(e&&T(e.$$.fragment,a),i=!0)},o:function(a){e&&D(e.$$.fragment,a),i=!1},d:function(a){a&&se(t),e&&Pe(e,a)}}}function __(n){var e,t,i=n[9].component,r=k_(n);return{c:function(){r.c(),e=On()},m:function(o,s){r.m(o,s),ae(o,e,s),t=!0},p:function(o,s){1&s&&Yt(i,i=o[9].component)?(De(),D(r,1,1,Ve),ze(),(r=k_(o)).c(),T(r,1),r.m(e.parentNode,e)):r.p(o,s)},i:function(o){t||(T(r),t=!0)},o:function(o){D(r),t=!1},d:function(o){o&&se(e),r.d(o)}}}function kH(n){for(var e,t,i=Zt(n[0]),r=[],o=0;o<i.length;o+=1)r[o]=__(w_(n,i,o));var s=function(a){return D(r[a],1,1,function(){r[a]=null})};return{c:function(){for(var a=0;a<r.length;a+=1)r[a].c();e=On()},m:function(a,l){for(var c=0;c<r.length;c+=1)r[c]&&r[c].m(a,l);ae(a,e,l),t=!0},p:function(a,l){var c=Jt(l,1)[0];if(1&c){var f;for(i=Zt(a[0]),f=0;f<i.length;f+=1){var h=w_(a,i,f);r[f]?(r[f].p(h,c),T(r[f],1)):(r[f]=__(h),r[f].c(),T(r[f],1),r[f].m(e.parentNode,e))}for(De(),f=i.length;f<r.length;f+=1)s(f);ze()}},i:function(a){if(!t){for(var l=0;l<i.length;l+=1)T(r[l]);t=!0}},o:function(a){r=r.filter(Boolean);for(var l=0;l<r.length;l+=1)D(r[l]);t=!1},d:function(a){a&&se(e),Ri(r,a)}}}function _H(n,e,t){var i,r,o=e.path,s=e.value,a=e.context,l=e.enforceString,c=e.selection,f=e.searchResultItems;function h(p,m){return a.onPatch(function(g,v){return g.flatMap(function(b){if(Sv(b)){var x=Es(b.path);if(x.length>0){for(var k=[b],C=kn(x);C.length>0&&!ts(v,C);)k.unshift({op:"add",path:at(C),value:{}}),C=kn(C);return k}}return b})}(p,a.getJson()),m)}return n.$$set=function(p){"path"in p&&t(1,o=p.path),"value"in p&&t(2,s=p.value),"context"in p&&t(3,a=p.context),"enforceString"in p&&t(4,l=p.enforceString),"selection"in p&&t(5,c=p.selection),"searchResultItems"in p&&t(6,f=p.searchResultItems)},n.$$.update=function(){40&n.$$.dirty&&t(7,i=!a.readOnly&&_n(c)&&$r(c)),254&n.$$.dirty&&t(0,r=a.onRenderValue({path:o,value:s,readOnly:a.readOnly,enforceString:l,isEditing:i,parser:a.parser,normalization:a.normalization,selection:c,searchResultItems:f,onPatch:h,onPasteJson:a.onPasteJson,onSelect:a.onSelect,onFind:a.onFind,findNextInside:a.findNextInside,focus:a.focus}))},[r,o,s,a,l,c,f,i]}var jH=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,_H,kH,Yt,{path:1,value:2,context:3,enforceString:4,selection:5,searchResultItems:6}),r}return ct(t)}();function SH(n){Gt(n,"svelte-1o4m3u7",'.jse-inline-value.svelte-1o4m3u7{font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);line-height:var(--jse-line-height, calc(1em + 4px));border:none;padding:0 calc(0.5 * var(--jse-padding, 10px));background:transparent;color:inherit;cursor:pointer}.jse-inline-value.svelte-1o4m3u7:hover{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06))}.jse-inline-value.jse-selected.svelte-1o4m3u7{background:var(--jse-selection-background-color, #d3d3d3)}')}function CH(n){var e,t,i,r,o,s=Bs((e=n[2].stringify(n[1]))!==null&&e!==void 0?e:"",50)+"";return{c:function(){t=K("button"),i=Xe(s),j(t,"type","button"),j(t,"class","jse-inline-value svelte-1o4m3u7"),Ie(t,"jse-selected",n[3])},m:function(a,l){ae(a,t,l),z(t,i),r||(o=Ne(t,"dblclick",n[5]),r=!0)},p:function(a,l){var c,f=Jt(l,1)[0];6&f&&s!==(s=Bs((c=a[2].stringify(a[1]))!==null&&c!==void 0?c:"",50)+"")&&Dt(i,s),8&f&&Ie(t,"jse-selected",a[3])},i:Ve,o:Ve,d:function(a){a&&se(t),r=!1,o()}}}function OH(n,e,t){var i=e.path,r=e.value,o=e.parser,s=e.isSelected,a=e.onEdit;return n.$$set=function(l){"path"in l&&t(0,i=l.path),"value"in l&&t(1,r=l.value),"parser"in l&&t(2,o=l.parser),"isSelected"in l&&t(3,s=l.isSelected),"onEdit"in l&&t(4,a=l.onEdit)},[i,r,o,s,a,function(){return a(i)}]}var $H=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,OH,CH,Yt,{path:0,value:1,parser:2,isSelected:3,onEdit:4},SH),r}return ct(t)}();function MH(n){Gt(n,"svelte-2v0aqj",".jse-column-header.svelte-2v0aqj.svelte-2v0aqj{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-2v0aqj.svelte-2v0aqj:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-2v0aqj.svelte-2v0aqj:not(.jse-column-header.jse-readonly){cursor:pointer}.jse-column-header.svelte-2v0aqj span.jse-column-sort-icon.svelte-2v0aqj{height:1em}")}function j_(n){var e,t,i,r;return t=new Cn({props:{data:n[1]===ho.asc?uo:Rx}}),{c:function(){e=K("span"),Te(t.$$.fragment),j(e,"class","jse-column-sort-icon svelte-2v0aqj"),j(e,"title",i="Currently sorted in ".concat(n[2]," order"))},m:function(o,s){ae(o,e,s),Me(t,e,null),r=!0},p:function(o,s){var a={};2&s&&(a.data=o[1]===ho.asc?uo:Rx),t.$set(a),(!r||4&s&&i!==(i="Currently sorted in ".concat(o[2]," order")))&&j(e,"title",i)},i:function(o){r||(T(t.$$.fragment,o),r=!0)},o:function(o){D(t.$$.fragment,o),r=!1},d:function(o){o&&se(e),Pe(t)}}}function PH(n){var e,t,i,r,o,s,a,l,c=Bs(n[3],50)+"",f=n[1]!==void 0&&j_(n);return{c:function(){e=K("button"),t=K("span"),i=Xe(c),r=ve(),f&&f.c(),j(t,"class","jse-column-name"),j(e,"type","button"),j(e,"class","jse-column-header svelte-2v0aqj"),j(e,"title",o=n[0]?n[3]:n[3]+" (Click to sort the data by this column)"),Ie(e,"jse-readonly",n[0])},m:function(h,p){ae(h,e,p),z(e,t),z(t,i),z(e,r),f&&f.m(e,null),s=!0,a||(l=Ne(e,"click",n[4]),a=!0)},p:function(h,p){var m=Jt(p,1)[0];(!s||8&m)&&c!==(c=Bs(h[3],50)+"")&&Dt(i,c),h[1]!==void 0?f?(f.p(h,m),2&m&&T(f,1)):((f=j_(h)).c(),T(f,1),f.m(e,null)):f&&(De(),D(f,1,1,function(){f=null}),ze()),(!s||9&m&&o!==(o=h[0]?h[3]:h[3]+" (Click to sort the data by this column)"))&&j(e,"title",o),(!s||1&m)&&Ie(e,"jse-readonly",h[0])},i:function(h){s||(T(f),s=!0)},o:function(h){D(f),s=!1},d:function(h){h&&se(e),f&&f.d(),a=!1,l()}}}function TH(n,e,t){var i,r,o,s=e.path,a=e.sortedColumn,l=e.readOnly,c=e.onSort;return n.$$set=function(f){"path"in f&&t(5,s=f.path),"sortedColumn"in f&&t(6,a=f.sortedColumn),"readOnly"in f&&t(0,l=f.readOnly),"onSort"in f&&t(7,c=f.onSort)},n.$$.update=function(){var f;32&n.$$.dirty&&t(3,i=An(s)?"values":zr(s)),96&n.$$.dirty&&t(1,r=a&&jn(s,(f=a)===null||f===void 0?void 0:f.path)?a.sortDirection:void 0),2&n.$$.dirty&&t(2,o=r?TN[r]:void 0)},[l,r,o,i,function(){l||c({path:s,sortDirection:r===ho.asc?ho.desc:ho.asc})},s,a,c]}var bh,xh,EH=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,TH,PH,Yt,{path:5,sortedColumn:6,readOnly:0,onSort:7},MH),r}return ct(t)}();function q$(n,e){return bh||(xh=new WeakMap,bh=new ResizeObserver(function(t){var i,r=vr(t);try{for(r.s();!(i=r.n()).done;){var o=i.value,s=xh.get(o.target);s&&s(o.target)}}catch(a){r.e(a)}finally{r.f()}})),xh.set(n,e),bh.observe(n),{destroy:function(){xh.delete(n),bh.unobserve(n)}}}function AH(n){var e,t;return e=new O$({props:{items:n[1],tip:n[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};2&r[0]&&(o.items=i[1]),1&r[0]&&(o.tip=i[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function RH(n,e,t){var i,r,o,s,a,l,c,f,h,p,m=e.json,g=e.documentState,v=e.parser,b=e.showTip,x=e.onCloseContextMenu,k=e.onRenderContextMenu,C=e.onEditValue,S=e.onEditRow,_=e.onToggleEnforceString,E=e.onCut,q=e.onCopy,te=e.onPaste,G=e.onRemove,I=e.onDuplicateRow,U=e.onInsertBeforeRow,B=e.onInsertAfterRow,ee=e.onRemoveRow;function F(){x(),C()}function ne(){x(),S()}function re(){x(),_()}function R(){x(),E(!0)}function $(){x(),E(!1)}function N(){x(),q(!0)}function P(){x(),q(!1)}function A(){x(),te()}function M(){x(),G()}function Z(){x(),I()}function le(){x(),U()}function de(){x(),B()}function xe(){x(),ee()}return n.$$set=function(oe){"json"in oe&&t(2,m=oe.json),"documentState"in oe&&t(3,g=oe.documentState),"parser"in oe&&t(4,v=oe.parser),"showTip"in oe&&t(0,b=oe.showTip),"onCloseContextMenu"in oe&&t(5,x=oe.onCloseContextMenu),"onRenderContextMenu"in oe&&t(6,k=oe.onRenderContextMenu),"onEditValue"in oe&&t(7,C=oe.onEditValue),"onEditRow"in oe&&t(8,S=oe.onEditRow),"onToggleEnforceString"in oe&&t(9,_=oe.onToggleEnforceString),"onCut"in oe&&t(10,E=oe.onCut),"onCopy"in oe&&t(11,q=oe.onCopy),"onPaste"in oe&&t(12,te=oe.onPaste),"onRemove"in oe&&t(13,G=oe.onRemove),"onDuplicateRow"in oe&&t(14,I=oe.onDuplicateRow),"onInsertBeforeRow"in oe&&t(15,U=oe.onInsertBeforeRow),"onInsertAfterRow"in oe&&t(16,B=oe.onInsertAfterRow),"onRemoveRow"in oe&&t(17,ee=oe.onRemoveRow)},n.$$.update=function(){8&n.$$.dirty[0]&&t(24,i=g.selection),4&n.$$.dirty[0]&&t(26,r=m!==void 0),16777216&n.$$.dirty[0]&&t(19,o=!!i),16777220&n.$$.dirty[0]&&t(25,s=m!==void 0&&i?Ct(m,At(i)):void 0),83886080&n.$$.dirty[0]&&t(20,a=r&&(Wn(i)||Ei(i)||_n(i))),83886080&n.$$.dirty[0]&&t(23,l=r&&i!=null&&$d(i)),41943040&n.$$.dirty[0]&&t(21,c=l&&!gi(s)),50331672&n.$$.dirty[0]&&t(22,f=i!=null&&s!==void 0&&Ds(s,g.enforceStringMap,at(At(i)),v)),16252928&n.$$.dirty[0]&&t(18,p=[{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"label",text:"Table cell:"},{type:"dropdown-button",main:{type:"button",onClick:F,icon:Xl,text:"Edit",title:"Edit the value (Double-click on the value)",disabled:!l},width:"11em",items:[{type:"button",icon:Xl,text:"Edit",title:"Edit the value (Double-click on the value)",onClick:F,disabled:!l},{type:"button",icon:f?Iu:Nu,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:re,disabled:!c}]},{type:"dropdown-button",main:{type:"button",onClick:R,icon:Kl,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!a},width:"10em",items:[{type:"button",icon:Kl,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:R,disabled:!a},{type:"button",icon:Kl,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:$,disabled:!a}]},{type:"dropdown-button",main:{type:"button",onClick:N,icon:la,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!a},width:"12em",items:[{type:"button",icon:la,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:N,disabled:!a},{type:"button",icon:la,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:P,disabled:!a}]},{type:"button",onClick:A,icon:GC,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!o},{type:"button",onClick:M,icon:Lg,text:"Remove",title:"Remove selected contents (Delete)",disabled:!a}]},{type:"column",items:[{type:"label",text:"Table row:"},{type:"button",onClick:ne,icon:Xl,text:"Edit row",title:"Edit the current row",disabled:!a},{type:"button",onClick:Z,icon:eO,text:"Duplicate row",title:"Duplicate the current row",disabled:!o},{type:"button",onClick:le,icon:Bl,text:"Insert before",title:"Insert a row before the current row",disabled:!o},{type:"button",onClick:de,icon:Bl,text:"Insert after",title:"Insert a row after the current row",disabled:!o},{type:"button",onClick:xe,icon:Lg,text:"Remove row",title:"Remove current row",disabled:!o}]}]}]),262208&n.$$.dirty[0]&&t(1,h=k(p))},[b,h,m,g,v,x,k,C,S,_,E,q,te,G,I,U,B,ee,p,o,a,c,f,l,i,s,r]}var LH=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,RH,AH,Yt,{json:2,documentState:3,parser:4,showTip:0,onCloseContextMenu:5,onRenderContextMenu:6,onEditValue:7,onEditRow:8,onToggleEnforceString:9,onCut:10,onCopy:11,onPaste:12,onRemove:13,onDuplicateRow:14,onInsertBeforeRow:15,onInsertAfterRow:16,onRemoveRow:17},null,[-1,-1]),r}return ct(t)}();function IH(n){Gt(n,"svelte-fxr3ye",'.jse-table-mode-welcome.svelte-fxr3ye.svelte-fxr3ye{flex:1;display:flex;flex-direction:column;overflow:auto;align-items:center;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-fxr3ye.svelte-fxr3ye:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode-welcome.svelte-fxr3ye .jse-space.jse-before.svelte-fxr3ye{flex:1}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays.svelte-fxr3ye{display:flex;flex-direction:column;gap:var(--jse-padding, 10px);max-width:300px;margin:2em var(--jse-padding, 10px);font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays .jse-nested-arrays-info.svelte-fxr3ye{color:var(--jse-panel-color-readonly, #b2b2b2)}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays button.jse-nested-array-action.svelte-fxr3ye{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px;text-align:left}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays button.jse-nested-array-action.svelte-fxr3ye:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays button.jse-nested-array-action.svelte-fxr3ye:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.jse-table-mode-welcome.svelte-fxr3ye .jse-nested-arrays button.jse-nested-array-action .jse-nested-array-count.svelte-fxr3ye{opacity:0.5;white-space:nowrap}.jse-table-mode-welcome.svelte-fxr3ye .jse-space.jse-after.svelte-fxr3ye{flex:2}')}function S_(n,e,t){var i=n.slice();i[14]=e[t];var r=i[8](i[14]);return i[15]=r,i}function NH(n){var e,t;return{c:function(){e=Xe(n[6]),t=Xe(" cannot be opened in table mode.")},m:function(i,r){ae(i,e,r),ae(i,t,r)},p:function(i,r){64&r&&Dt(e,i[6])},d:function(i){i&&(se(e),se(t))}}}function BH(n){var e;return{c:function(){e=Xe(`An object cannot be opened in table mode. You can open a nested array instead, or open the
        document in tree mode.`)},m:function(t,i){ae(t,e,i)},p:Ve,d:function(t){t&&se(e)}}}function DH(n){var e;return{c:function(){e=Xe("You can open the document in tree mode instead.")},m:function(t,i){ae(t,e,i)},d:function(t){t&&se(e)}}}function zH(n){var e,t,i;return{c:function(){e=Xe("You can open the document in tree mode instead, or paste a JSON Array using "),(t=K("b")).textContent="Ctrl+V",i=Xe(".")},m:function(r,o){ae(r,e,o),ae(r,t,o),ae(r,i,o)},d:function(r){r&&(se(e),se(t),se(i))}}}function C_(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g=zr(n[14])+"",v=n[15]+"",b=n[15]!==1?"items":"item";function x(){return n[12](n[14])}return{c:function(){e=K("button"),t=Xe(n[7]),i=Xe(' "'),r=Xe(g),o=Xe(`"
        `),s=K("span"),a=Xe("("),l=Xe(v),c=ve(),f=Xe(b),h=Xe(")"),j(s,"class","jse-nested-array-count svelte-fxr3ye"),j(e,"type","button"),j(e,"class","jse-nested-array-action svelte-fxr3ye")},m:function(k,C){ae(k,e,C),z(e,t),z(e,i),z(e,r),z(e,o),z(e,s),z(s,a),z(s,l),z(s,c),z(s,f),z(s,h),p||(m=Ne(e,"click",x),p=!0)},p:function(k,C){n=k,128&C&&Dt(t,n[7]),8&C&&g!==(g=zr(n[14])+"")&&Dt(r,g),8&C&&v!==(v=n[15]+"")&&Dt(l,v),8&C&&b!==(b=n[15]!==1?"items":"item")&&Dt(f,b)},d:function(k){k&&se(e),p=!1,m()}}}function qH(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k;function C(B,ee){return B[5]?BH:NH}var S=C(n),_=S(n);function E(B,ee){return B[4]&&!B[0]?zH:DH}for(var q=E(n),te=q(n),G=Zt(n[3]),I=[],U=0;U<G.length;U+=1)I[U]=C_(S_(n,G,U));return{c:function(){e=K("div"),t=K("div"),i=ve(),r=K("div"),o=K("div"),s=Xe(n[6]),a=ve(),l=K("div"),_.c(),c=ve(),te.c(),f=ve();for(var B=0;B<I.length;B+=1)I[B].c();h=ve(),p=K("button"),m=Xe(n[7]),g=Xe(" in tree mode"),v=ve(),b=K("div"),j(t,"class","jse-space jse-before svelte-fxr3ye"),j(o,"class","jse-nested-arrays-title"),j(l,"class","jse-nested-arrays-info svelte-fxr3ye"),j(p,"type","button"),j(p,"class","jse-nested-array-action svelte-fxr3ye"),j(r,"class","jse-nested-arrays svelte-fxr3ye"),j(b,"class","jse-space jse-after svelte-fxr3ye"),j(e,"class","jse-table-mode-welcome svelte-fxr3ye")},m:function(B,ee){ae(B,e,ee),z(e,t),z(e,i),z(e,r),z(r,o),z(o,s),z(r,a),z(r,l),_.m(l,null),z(l,c),te.m(l,null),z(r,f);for(var F=0;F<I.length;F+=1)I[F]&&I[F].m(r,null);z(r,h),z(r,p),z(p,m),z(p,g),z(e,v),z(e,b),x||(k=Ne(p,"click",n[13]),x=!0)},p:function(B,ee){var F=Jt(ee,1)[0];if(64&F&&Dt(s,B[6]),S===(S=C(B))&&_?_.p(B,F):(_.d(1),(_=S(B))&&(_.c(),_.m(l,c))),q!==(q=E(B))&&(te.d(1),(te=q(B))&&(te.c(),te.m(l,null))),394&F){var ne;for(G=Zt(B[3]),ne=0;ne<G.length;ne+=1){var re=S_(B,G,ne);I[ne]?I[ne].p(re,F):(I[ne]=C_(re),I[ne].c(),I[ne].m(r,h))}for(;ne<I.length;ne+=1)I[ne].d(1);I.length=G.length}128&F&&Dt(m,B[7])},i:Ve,o:Ve,d:function(B){B&&se(e),_.d(),te.d(),Ri(I,B),x=!1,k()}}}function FH(n,e,t){var i,r,o,s,a,l=e.text,c=e.json,f=e.readOnly,h=e.parser,p=e.openJSONEditorModal,m=e.onChangeMode;return n.$$set=function(g){"text"in g&&t(9,l=g.text),"json"in g&&t(10,c=g.json),"readOnly"in g&&t(0,f=g.readOnly),"parser"in g&&t(11,h=g.parser),"openJSONEditorModal"in g&&t(1,p=g.openJSONEditorModal),"onChangeMode"in g&&t(2,m=g.onChangeMode)},n.$$.update=function(){1&n.$$.dirty&&t(7,i=f?"View":"Edit"),1024&n.$$.dirty&&t(3,a=c?function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,b=[];return function x(k,C){Di(k)&&C.length<v&&Object.keys(k).forEach(function(S){x(k[S],C.concat(S))}),hi(k)&&b.push(C)}(g,[]),b}(c).slice(0,99).filter(function(g){return g.length>0}):[]),8&n.$$.dirty&&t(5,r=!An(a)),1536&n.$$.dirty&&t(4,o=c===void 0&&(l===""||l===void 0)),3120&n.$$.dirty&&t(6,s=r?"Object with nested arrays":o?"An empty document":Di(c)?"An object":hi(c)?"An empty array":"A ".concat(i1(c,h)))},[f,p,m,a,o,r,s,i,function(g){return Ct(c,g).length},l,c,h,function(g){return p(g)},function(){return m(pr.tree)}]}var HH=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,FH,qH,Yt,{text:9,json:10,readOnly:0,parser:11,openJSONEditorModal:1,onChangeMode:2},IH),r}return ct(t)}();function VH(n){Gt(n,"svelte-1nml1r3",".jse-column-header.svelte-1nml1r3{background:none;border:none;font-family:inherit;font-size:inherit;color:inherit;display:flex;gap:var(--jse-padding, 10px);padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px));width:100%}.jse-column-header.svelte-1nml1r3:hover{background:var(--jse-table-header-background-highlight, #e8e8e8)}.jse-column-header.svelte-1nml1r3:not(.jse-column-header.jse-readonly){cursor:pointer}")}function WH(n){var e,t,i,r,o,s;return t=new Cn({props:{data:E7}}),{c:function(){e=K("button"),Te(t.$$.fragment),j(e,"type","button"),j(e,"class","jse-column-header svelte-1nml1r3"),j(e,"title",i="The Columns are created by sampling ".concat(n[1]," items out of ").concat(n[0],". ")+"If you're missing a column, click here to sample all of the items instead of a subset. This is slower.")},m:function(a,l){ae(a,e,l),Me(t,e,null),r=!0,o||(s=Ne(e,"click",n[3]),o=!0)},p:function(a,l){var c=Jt(l,1)[0];(!r||3&c&&i!==(i="The Columns are created by sampling ".concat(a[1]," items out of ").concat(a[0],". ")+"If you're missing a column, click here to sample all of the items instead of a subset. This is slower."))&&j(e,"title",i)},i:function(a){r||(T(t.$$.fragment,a),r=!0)},o:function(a){D(t.$$.fragment,a),r=!1},d:function(a){a&&se(e),Pe(t),o=!1,s()}}}function UH(n,e,t){var i=e.count,r=e.maxSampleCount,o=e.onRefresh;return n.$$set=function(s){"count"in s&&t(0,i=s.count),"maxSampleCount"in s&&t(1,r=s.maxSampleCount),"onRefresh"in s&&t(2,o=s.onRefresh)},[i,r,o,function(){return o()}]}var QH=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,UH,WH,Yt,{count:0,maxSampleCount:1,onRefresh:2},VH),r}return ct(t)}();function ZH(n){Gt(n,"svelte-1bunebm",'.jse-table-mode.svelte-1bunebm.svelte-1bunebm{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color, #fff);min-width:0;min-height:0;font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:var(--jse-text-color, #4d4d4d);line-height:var(--jse-line-height, calc(1em + 4px))}.jse-table-mode.no-main-menu.svelte-1bunebm.svelte-1bunebm{border-top:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-1bunebm .jse-hidden-input-label.svelte-1bunebm{position:fixed;right:0;top:0;width:0;height:0}.jse-table-mode.svelte-1bunebm .jse-hidden-input-label .jse-hidden-input.svelte-1bunebm{width:0;height:0;padding:0;border:0;outline:none}.jse-table-mode.svelte-1bunebm .jse-contents.svelte-1bunebm{flex:1;align-items:start;flex-direction:column;display:flex;overflow:auto;overflow-anchor:none;border-left:var(--jse-main-border, 1px solid #d7d7d7);border-right:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-1bunebm .jse-contents.svelte-1bunebm:last-child{border-bottom:var(--jse-main-border, 1px solid #d7d7d7)}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main.svelte-1bunebm{border-collapse:collapse;border-spacing:0}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-invisible-start-section td.svelte-1bunebm,.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-invisible-end-section td.svelte-1bunebm{margin:0;padding:0}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-invisible-end-section td.svelte-1bunebm{padding-bottom:var(--jse-padding, 10px)}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row.svelte-1bunebm:hover{background-color:var(--jse-table-row-odd-background, rgba(0, 0, 0, 0.05))}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-1bunebm{padding:0 var(--jse-padding, 10px) 0 0;vertical-align:top;white-space:nowrap;height:var(--jse-line-height, calc(1em + 4px))}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header.svelte-1bunebm,.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-gutter.svelte-1bunebm{font-weight:normal;text-align:left;color:var(--jse-text-readonly, #8d8d8d);background:var(--jse-table-header-background, #f5f5f5)}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header.svelte-1bunebm{padding:0;position:sticky;top:0}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-header .jse-table-root-error.svelte-1bunebm{padding:calc(0.5 * var(--jse-padding, 10px)) var(--jse-padding, 10px) calc(0.5 * var(--jse-padding, 10px)) calc(0.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-table-cell-gutter.svelte-1bunebm{padding:0 var(--jse-padding, 10px) 0 calc(0.5 * var(--jse-padding, 10px))}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.jse-selected-value.svelte-1bunebm>.jse-value{background:var(--jse-selection-background-color, #d3d3d3)}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-1bunebm div{display:inline-flex}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell.svelte-1bunebm div.jse-value{overflow-wrap:normal;white-space:nowrap;vertical-align:top;display:inline-block}.jse-table-mode.svelte-1bunebm .jse-contents table.jse-table-main .jse-table-row .jse-table-cell .jse-context-menu-anchor.svelte-1bunebm{position:relative;vertical-align:top}.jse-table-mode.svelte-1bunebm .jse-contents.jse-contents-loading.svelte-1bunebm{align-items:unset}.jse-table-mode.svelte-1bunebm .jse-contents.jse-contents-loading .jse-loading-space.svelte-1bunebm{flex:1}.jse-table-mode.svelte-1bunebm .jse-contents.jse-contents-loading .jse-loading.svelte-1bunebm{flex:2;text-align:center;color:var(--jse-panel-color-readonly, #b2b2b2);box-sizing:border-box;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px)}')}function O_(n,e,t){var i,r=n.slice();r[123]=e[t],r[128]=t;var o=r[23].startIndex+r[128];r[124]=o;var s=r[22].rows[r[124]];r[125]=s;var a=k1([String(r[124])],(i=r[125])===null||i===void 0?void 0:i.row);return r[126]=a,r}function $_(n,e,t){var i,r=n.slice();r[129]=e[t],r[135]=t;var o=[String(r[124])].concat(r[129]);r[130]=o;var s=Ct(r[123],r[129]);r[131]=s;var a=_n(r[11].selection)&&xa(r[11].selection.path,r[130]);r[132]=a;var l=(i=r[125])===null||i===void 0?void 0:i.columns[r[135]];r[133]=l;var c=k1(r[130],r[133]);return r[126]=c,r}function M_(n,e,t){var i=n.slice();return i[129]=e[t],i}function Tm(n){var e,t=n.slice(),i=k1([],(e=t[22])===null||e===void 0?void 0:e.root);return t[126]=i,t}function P_(n){var e,t;return e=new wH({props:{json:n[8],readOnly:n[0],historyState:n[20],onSort:n[41],onTransform:n[42],onUndo:n[43],onRedo:n[44],onContextMenu:n[33],onRenderMenu:n[5]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};256&r[0]&&(o.json=i[8]),1&r[0]&&(o.readOnly=i[0]),1048576&r[0]&&(o.historyState=i[20]),32&r[0]&&(o.onRenderMenu=i[5]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function JH(n){var e;return{c:function(){(e=K("div")).innerHTML='<div class="jse-loading-space svelte-1bunebm"></div> <div class="jse-loading svelte-1bunebm">loading...</div>',j(e,"class","jse-contents jse-contents-loading svelte-1bunebm")},m:function(t,i){ae(t,e,i)},p:Ve,i:Ve,o:Ve,d:function(t){t&&se(e)}}}function GH(n){var e,t,i,r,o,s,a,l,c,f=[YH,XH,KH],h=[];function p(m,g){return m[25]?0:m[17]&&m[16]!==void 0&&m[16]!==""?1:2}return r=p(n),o=h[r]=f[r](n),{c:function(){e=K("label"),t=K("input"),i=ve(),o.c(),s=On(),j(t,"type","text"),t.readOnly=!0,j(t,"tabindex","-1"),j(t,"class","jse-hidden-input svelte-1bunebm"),j(e,"class","jse-hidden-input-label svelte-1bunebm")},m:function(m,g){ae(m,e,g),z(e,t),n[73](t),ae(m,i,g),h[r].m(m,g),ae(m,s,g),a=!0,l||(c=Ne(t,"paste",n[38]),l=!0)},p:function(m,g){var v=r;(r=p(m))===v?h[r].p(m,g):(De(),D(h[v],1,1,function(){h[v]=null}),ze(),(o=h[r])?o.p(m,g):(o=h[r]=f[r](m)).c(),T(o,1),o.m(s.parentNode,s))},i:function(m){a||(T(o),a=!0)},o:function(m){D(o),a=!1},d:function(m){m&&(se(e),se(i),se(s)),n[73](null),h[r].d(m),l=!1,c()}}}function KH(n){var e,t;return e=new HH({props:{text:n[16],json:n[8],readOnly:n[0],parser:n[2],openJSONEditorModal:n[40],onChangeMode:n[4]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};65536&r[0]&&(o.text=i[16]),256&r[0]&&(o.json=i[8]),1&r[0]&&(o.readOnly=i[0]),4&r[0]&&(o.parser=i[2]),16&r[0]&&(o.onChangeMode=i[4]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function XH(n){var e,t,i,r;return e=new Ro({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:ba,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:n[36]}]}}),i=new N$({props:{text:n[16],json:n[8],indentation:n[3],parser:n[2]}}),{c:function(){Te(e.$$.fragment),t=ve(),Te(i.$$.fragment)},m:function(o,s){Me(e,o,s),ae(o,t,s),Me(i,o,s),r=!0},p:function(o,s){var a={};1&s[0]&&(a.actions=o[0]?[]:[{icon:ba,text:"Repair manually",title:'Open the document in "code" mode and repair it manually',onClick:o[36]}]),e.$set(a);var l={};65536&s[0]&&(l.text=o[16]),256&s[0]&&(l.json=o[8]),8&s[0]&&(l.indentation=o[3]),4&s[0]&&(l.parser=o[2]),i.$set(l)},i:function(o){r||(T(e.$$.fragment,o),T(i.$$.fragment,o),r=!0)},o:function(o){D(e.$$.fragment,o),D(i.$$.fragment,o),r=!1},d:function(o){o&&se(t),Pe(e,o),Pe(i,o)}}}function YH(n){for(var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G=!An((e=n[22])===null||e===void 0?void 0:e.root),I=G&&T_(Tm(n)),U=Zt(n[10]),B=[],ee=0;ee<U.length;ee+=1)B[ee]=A_(M_(n,U,ee));for(var F=function(M){return D(B[M],1,1,function(){B[M]=null})},ne=n[24]&&R_(n),re=Zt(n[23].visibleItems),R=[],$=0;$<re.length;$+=1)R[$]=q_(O_(n,re,$));var N=function(M){return D(R[M],1,1,function(){R[M]=null})},P=n[18]&&F_(n),A=n[19]&&H_(n);return _=new m1({props:{validationErrors:n[12],selectError:n[39]}}),{c:function(){t=K("div"),i=K("table"),r=K("tbody"),o=K("tr"),s=K("th"),I&&I.c(),a=ve();for(var M=0;M<B.length;M+=1)B[M].c();l=ve(),ne&&ne.c(),c=ve(),f=K("tr"),h=K("td"),m=ve();for(var Z=0;Z<R.length;Z+=1)R[Z].c();g=ve(),v=K("tr"),b=K("td"),k=ve(),P&&P.c(),C=ve(),A&&A.c(),S=ve(),Te(_.$$.fragment),j(s,"class","jse-table-cell jse-table-cell-header svelte-1bunebm"),j(o,"class","jse-table-row jse-table-row-header svelte-1bunebm"),j(h,"colspan",p=n[10].length),j(h,"class","svelte-1bunebm"),Sr(h,"height",n[23].startHeight+"px"),j(f,"class","jse-table-invisible-start-section"),j(b,"colspan",x=n[10].length),j(b,"class","svelte-1bunebm"),Sr(b,"height",n[23].endHeight+"px"),j(v,"class","jse-table-invisible-end-section"),j(i,"class","jse-table-main svelte-1bunebm"),j(t,"class","jse-contents svelte-1bunebm")},m:function(M,Z){ae(M,t,Z),z(t,i),z(i,r),z(r,o),z(o,s),I&&I.m(s,null),z(o,a);for(var le=0;le<B.length;le+=1)B[le]&&B[le].m(o,null);z(o,l),ne&&ne.m(o,null),z(r,c),z(r,f),z(f,h),z(r,m);for(var de=0;de<R.length;de+=1)R[de]&&R[de].m(r,null);z(r,g),z(r,v),z(v,b),n[76](t),ae(M,k,Z),P&&P.m(M,Z),ae(M,C,Z),A&&A.m(M,Z),ae(M,S,Z),Me(_,M,Z),E=!0,q||(te=[or(q$.call(null,t,n[45])),Ne(t,"scroll",n[29])],q=!0)},p:function(M,Z){var le;if(4194304&Z[0]&&(G=!An((le=M[22])===null||le===void 0?void 0:le.root)),G?I?(I.p(Tm(M),Z),4194304&Z[0]&&T(I,1)):((I=T_(Tm(M))).c(),T(I,1),I.m(s,null)):I&&(De(),D(I,1,1,function(){I=null}),ze()),268438529&Z[0]){var de;for(U=Zt(M[10]),de=0;de<U.length;de+=1){var xe=M_(M,U,de);B[de]?(B[de].p(xe,Z),T(B[de],1)):(B[de]=A_(xe),B[de].c(),T(B[de],1),B[de].m(o,l))}for(De(),de=U.length;de<B.length;de+=1)F(de);ze()}if(M[24]?ne?(ne.p(M,Z),16777216&Z[0]&&T(ne,1)):((ne=R_(M)).c(),T(ne,1),ne.m(o,null)):ne&&(De(),D(ne,1,1,function(){ne=null}),ze()),(!E||1024&Z[0]&&p!==(p=M[10].length))&&j(h,"colspan",p),8388608&Z[0]&&Sr(h,"height",M[23].startHeight+"px"),165678085&Z[0]|33281&Z[1]){var oe;for(re=Zt(M[23].visibleItems),oe=0;oe<re.length;oe+=1){var Be=O_(M,re,oe);R[oe]?(R[oe].p(Be,Z),T(R[oe],1)):(R[oe]=q_(Be),R[oe].c(),T(R[oe],1),R[oe].m(r,g))}for(De(),oe=re.length;oe<R.length;oe+=1)N(oe);ze()}(!E||1024&Z[0]&&x!==(x=M[10].length))&&j(b,"colspan",x),8388608&Z[0]&&Sr(b,"height",M[23].endHeight+"px"),M[18]?P?(P.p(M,Z),262144&Z[0]&&T(P,1)):((P=F_(M)).c(),T(P,1),P.m(C.parentNode,C)):P&&(De(),D(P,1,1,function(){P=null}),ze()),M[19]?A?(A.p(M,Z),524288&Z[0]&&T(A,1)):((A=H_(M)).c(),T(A,1),A.m(S.parentNode,S)):A&&(De(),D(A,1,1,function(){A=null}),ze());var We={};4096&Z[0]&&(We.validationErrors=M[12]),_.$set(We)},i:function(M){if(!E){T(I);for(var Z=0;Z<U.length;Z+=1)T(B[Z]);T(ne);for(var le=0;le<re.length;le+=1)T(R[le]);T(P),T(A),T(_.$$.fragment,M),E=!0}},o:function(M){D(I),B=B.filter(Boolean);for(var Z=0;Z<B.length;Z+=1)D(B[Z]);D(ne),R=R.filter(Boolean);for(var le=0;le<R.length;le+=1)D(R[le]);D(P),D(A),D(_.$$.fragment,M),E=!1},d:function(M){M&&(se(t),se(k),se(C),se(S)),I&&I.d(),Ri(B,M),ne&&ne.d(),Ri(R,M),n[76](null),P&&P.d(M),A&&A.d(M),Pe(_,M),q=!1,Yn(te)}}}function T_(n){var e,t,i=n[126]&&E_(n);return{c:function(){i&&i.c(),e=On()},m:function(r,o){i&&i.m(r,o),ae(r,e,o),t=!0},p:function(r,o){r[126]?i?(i.p(r,o),4194304&o[0]&&T(i,1)):((i=E_(r)).c(),T(i,1),i.m(e.parentNode,e)):i&&(De(),D(i,1,1,function(){i=null}),ze())},i:function(r){t||(T(i),t=!0)},o:function(r){D(i),t=!1},d:function(r){r&&se(e),i&&i.d(r)}}}function E_(n){var e,t,i;return t=new Mc({props:{validationError:n[126],onExpand:ro}}),{c:function(){e=K("div"),Te(t.$$.fragment),j(e,"class","jse-table-root-error svelte-1bunebm")},m:function(r,o){ae(r,e,o),Me(t,e,null),i=!0},p:function(r,o){var s={};4194304&o[0]&&(s.validationError=r[126]),t.$set(s)},i:function(r){i||(T(t.$$.fragment,r),i=!0)},o:function(r){D(t.$$.fragment,r),i=!1},d:function(r){r&&se(e),Pe(t)}}}function A_(n){var e,t,i;return t=new EH({props:{path:n[129],sortedColumn:n[11].sortedColumn,readOnly:n[0],onSort:n[28]}}),{c:function(){e=K("th"),Te(t.$$.fragment),j(e,"class","jse-table-cell jse-table-cell-header svelte-1bunebm")},m:function(r,o){ae(r,e,o),Me(t,e,null),i=!0},p:function(r,o){var s={};1024&o[0]&&(s.path=r[129]),2048&o[0]&&(s.sortedColumn=r[11].sortedColumn),1&o[0]&&(s.readOnly=r[0]),t.$set(s)},i:function(r){i||(T(t.$$.fragment,r),i=!0)},o:function(r){D(t.$$.fragment,r),i=!1},d:function(r){r&&se(e),Pe(t)}}}function R_(n){var e,t,i;return t=new QH({props:{count:Array.isArray(n[8])?n[8].length:0,maxSampleCount:n[9],onRefresh:n[74]}}),{c:function(){e=K("th"),Te(t.$$.fragment),j(e,"class","jse-table-cell jse-table-cell-header svelte-1bunebm")},m:function(r,o){ae(r,e,o),Me(t,e,null),i=!0},p:function(r,o){var s={};256&o[0]&&(s.count=Array.isArray(r[8])?r[8].length:0),512&o[0]&&(s.maxSampleCount=r[9]),512&o[0]&&(s.onRefresh=r[74]),t.$set(s)},i:function(r){i||(T(t.$$.fragment,r),i=!0)},o:function(r){D(t.$$.fragment,r),i=!1},d:function(r){r&&se(e),Pe(t)}}}function L_(n){var e,t;return e=new Mc({props:{validationError:n[126],onExpand:ro}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};12582912&r[0]&&(o.validationError=i[126]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function I_(n){var e,t,i,r,o,s,a,l=n[124]+"",c=n[126]&&L_(n);function f(){for(var h,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return(h=n)[75].apply(h,[n[124]].concat(m))}return{c:function(){e=K("th"),t=Xe(l),i=ve(),c&&c.c(),j(e,"class","jse-table-cell jse-table-cell-gutter svelte-1bunebm")},m:function(h,p){ae(h,e,p),z(e,t),z(e,i),c&&c.m(e,null),o=!0,s||(a=or(r=q$.call(null,e,f)),s=!0)},p:function(h,p){n=h,(!o||8388608&p[0])&&l!==(l=n[124]+"")&&Dt(t,l),n[126]?c?(c.p(n,p),12582912&p[0]&&T(c,1)):((c=L_(n)).c(),T(c,1),c.m(e,null)):c&&(De(),D(c,1,1,function(){c=null}),ze()),r&&ir(r.update)&&8388608&p[0]&&r.update.call(null,f)},i:function(h){o||(T(c),o=!0)},o:function(h){D(c),o=!1},d:function(h){h&&se(e),c&&c.d(),s=!1,a()}}}function eV(n){var e,t;return e=new jH({props:{path:n[130],value:n[131]!==void 0?n[131]:"",enforceString:Ds(n[131],n[11].enforceStringMap,at(n[130]),n[21].parser),selection:n[132]?n[11].selection:null,searchResultItems:n[27],context:n[21]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};8389632&r[0]&&(o.path=i[130]),8389632&r[0]&&(o.value=i[131]!==void 0?i[131]:""),10488832&r[0]&&(o.enforceString=Ds(i[131],i[11].enforceStringMap,at(i[130]),i[21].parser)),8391680&r[0]&&(o.selection=i[132]?i[11].selection:null),2097152&r[0]&&(o.context=i[21]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function tV(n){var e,t;return e=new $H({props:{path:n[130],value:n[131],parser:n[2],isSelected:n[132],onEdit:n[40]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};8389632&r[0]&&(o.path=i[130]),8389632&r[0]&&(o.value=i[131]),4&r[0]&&(o.parser=i[2]),8391680&r[0]&&(o.isSelected=i[132]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function N_(n){var e,t,i,r;return t=new Ca({props:{selected:!0,onContextMenu:n[31]}}),{c:function(){e=K("div"),Te(t.$$.fragment),i=ve(),j(e,"class","jse-context-menu-anchor svelte-1bunebm")},m:function(o,s){ae(o,e,s),Me(t,e,null),ae(o,i,s),r=!0},p:Ve,i:function(o){r||(T(t.$$.fragment,o),r=!0)},o:function(o){D(t.$$.fragment,o),r=!1},d:function(o){o&&(se(e),se(i)),Pe(t)}}}function B_(n){var e,t;return e=new Mc({props:{validationError:n[126],onExpand:ro}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};12583936&r[0]&&(o.validationError=i[126]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function D_(n){var e,t,i,r,o,s,a,l,c=!n[0]&&n[132]&&!$r(n[11].selection),f=[tV,eV],h=[];function p(v,b){return 8389632&b[0]&&(t=null),t==null&&(t=!!gi(v[131])),t?0:1}i=p(n,[-1,-1,-1,-1,-1]),r=h[i]=f[i](n);var m=c&&N_(n),g=n[126]&&B_(n);return{c:function(){e=K("td"),r.c(),o=On(),m&&m.c(),s=On(),g&&g.c(),j(e,"class","jse-table-cell svelte-1bunebm"),j(e,"data-path",a=mc(n[130])),Ie(e,"jse-selected-value",n[132])},m:function(v,b){ae(v,e,b),h[i].m(e,null),z(e,o),m&&m.m(e,null),z(e,s),g&&g.m(e,null),l=!0},p:function(v,b){var x=i;(i=p(v,b))===x?h[i].p(v,b):(De(),D(h[x],1,1,function(){h[x]=null}),ze(),(r=h[i])?r.p(v,b):(r=h[i]=f[i](v)).c(),T(r,1),r.m(e,o)),8391681&b[0]&&(c=!v[0]&&v[132]&&!$r(v[11].selection)),c?m?(m.p(v,b),8391681&b[0]&&T(m,1)):((m=N_(v)).c(),T(m,1),m.m(e,s)):m&&(De(),D(m,1,1,function(){m=null}),ze()),v[126]?g?(g.p(v,b),12583936&b[0]&&T(g,1)):((g=B_(v)).c(),T(g,1),g.m(e,null)):g&&(De(),D(g,1,1,function(){g=null}),ze()),(!l||8389632&b[0]&&a!==(a=mc(v[130])))&&j(e,"data-path",a),(!l||8391680&b[0])&&Ie(e,"jse-selected-value",v[132])},i:function(v){l||(T(r),T(m),T(g),l=!0)},o:function(v){D(r),D(m),D(g),l=!1},d:function(v){v&&se(e),h[i].d(),m&&m.d(),g&&g.d()}}}function z_(n){var e;return{c:function(){j(e=K("td"),"class","jse-table-cell svelte-1bunebm")},m:function(t,i){ae(t,e,i)},d:function(t){t&&se(e)}}}function q_(n){for(var e,t,i,r,o=n[124],s=I_(n),a=Zt(n[10]),l=[],c=0;c<a.length;c+=1)l[c]=D_($_(n,a,c));var f=function(p){return D(l[p],1,1,function(){l[p]=null})},h=n[24]&&z_();return{c:function(){e=K("tr"),s.c(),t=ve();for(var p=0;p<l.length;p+=1)l[p].c();i=ve(),h&&h.c(),j(e,"class","jse-table-row svelte-1bunebm")},m:function(p,m){ae(p,e,m),s.m(e,null),z(e,t);for(var g=0;g<l.length;g+=1)l[g]&&l[g].m(e,null);z(e,i),h&&h.m(e,null),r=!0},p:function(p,m){if(8388608&m[0]&&Yt(o,o=p[124])?(De(),D(s,1,1,Ve),ze(),(s=I_(p)).c(),T(s,1),s.m(e,t)):s.p(p,m),148900869&m[0]|513&m[1]){var g;for(a=Zt(p[10]),g=0;g<a.length;g+=1){var v=$_(p,a,g);l[g]?(l[g].p(v,m),T(l[g],1)):(l[g]=D_(v),l[g].c(),T(l[g],1),l[g].m(e,i))}for(De(),g=a.length;g<l.length;g+=1)f(g);ze()}p[24]?h||((h=z_()).c(),h.m(e,null)):h&&(h.d(1),h=null)},i:function(p){if(!r){T(s);for(var m=0;m<a.length;m+=1)T(l[m]);r=!0}},o:function(p){D(s),l=l.filter(Boolean);for(var m=0;m<l.length;m+=1)D(l[m]);r=!1},d:function(p){p&&se(e),s.d(p),Ri(l,p),h&&h.d()}}}function F_(n){var e,t;return e=new Ro({props:{type:"info",message:"You pasted a JSON ".concat(Array.isArray(n[18].contents)?"array":"object"," as text"),actions:[{icon:op,text:"Paste as JSON instead",title:"Paste the text as JSON instead of a single value",onMouseDown:n[34]},{text:"Leave as is",title:"Keep the pasted content as a single value",onClick:n[35]}]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};262144&r[0]&&(o.message="You pasted a JSON ".concat(Array.isArray(i[18].contents)?"array":"object"," as text")),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function H_(n){var e,t;return e=new Ro({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:Bu,text:"Ok",title:"Accept the repaired document",onClick:n[7]},{icon:ba,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:n[36]}],onClose:n[6]}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};1&r[0]&&(o.actions=i[0]?[]:[{icon:Bu,text:"Ok",title:"Accept the repaired document",onClick:i[7]},{icon:ba,text:"Repair manually instead",title:"Leave the document unchanged and repair it manually instead",onClick:i[36]}]),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function nV(n){var e,t,i,r,o,s,a,l=n[1]&&P_(n),c=[GH,JH],f=[];return i=function(h,p){return h[26]?1:0}(n),r=f[i]=c[i](n),{c:function(){e=K("div"),l&&l.c(),t=ve(),r.c(),j(e,"role","table"),j(e,"class","jse-table-mode svelte-1bunebm"),Ie(e,"no-main-menu",!n[1])},m:function(h,p){ae(h,e,p),l&&l.m(e,null),z(e,t),f[i].m(e,null),n[77](e),o=!0,s||(a=[Ne(e,"mousedown",n[30]),Ne(e,"keydown",n[37]),Ne(e,"contextmenu",n[32])],s=!0)},p:function(h,p){h[1]?l?(l.p(h,p),2&p[0]&&T(l,1)):((l=P_(h)).c(),T(l,1),l.m(e,t)):l&&(De(),D(l,1,1,function(){l=null}),ze()),r.p(h,p),(!o||2&p[0])&&Ie(e,"no-main-menu",!h[1])},i:function(h){o||(T(l),T(r),o=!0)},o:function(h){D(l),D(r),o=!1},d:function(h){h&&se(e),l&&l.d(),f[i].d(),n[77](null),s=!1,Yn(a)}}}var Qc=18;function iV(n,e,t){var i,r,o,s,a=ar("jsoneditor:TableMode"),l=sr("simple-modal").open,c=sr("absolute-popup"),f=c.openAbsolutePopup,h=c.closeAbsolutePopup,p=w$(),m=ic(),g=ic(),v=typeof window>"u";a("isSSR:",v);var b,x,k,C,S,_,E=e.readOnly,q=e.externalContent,te=e.externalSelection,G=e.mainMenuBar,I=e.escapeControlCharacters,U=e.escapeUnicodeCharacters,B=e.flattenColumns,ee=e.parser,F=e.parseMemoizeOne,ne=e.validator,re=e.validationParser,R=e.indentation,$=e.onChange,N=e.onChangeMode,P=e.onSelect,A=e.onRenderValue,M=e.onRenderMenu,Z=e.onRenderContextMenu,le=e.onFocus,de=e.onBlur,xe=e.onSortModal,oe=e.onTransformModal,Be=e.onJSONEditorModal;p1({onMount:go,onDestroy:Xr,getWindow:function(){return Oc(x)},hasFocus:function(){return Ye&&document.hasFocus()||a1(x)},onFocus:function(){le&&le()},onBlur:function(){de&&de()}});var We,Ce=void 0,be=1e4,Ze=[],Ye=!1,et={},qt=600,fe=0;function wt(Y){a("updateSelection",Y);var Ee=typeof Y=="function"?Y(ce.selection)||null:Y;jn(Ee,ce.selection)||(t(11,ce=ke(ke({},ce),{},{selection:Ee})),P(Ee))}function tt(Y){ce.selection&&Y!==void 0&&(ts(Y,Ha(ce.selection))&&ts(Y,At(ce.selection))||(a("clearing selection: path does not exist anymore",ce.selection),t(11,ce=ke(ke({},ce),{},{selection:null}))))}var ce=Od(),bt=!1,Bt,ut=k$({onChange:function(Y){t(20,Kt=Y)}}),Kt=ut.getState();function bn(Y){var Ee=S,Ue=pc(Y)?Y.text!==_:!jn(Ee,Y.json);if(a("update external content",{isChanged:Ue}),Ue){var Ke={json:S,text:_},ft=S,Ft=ce,vt=_,cn=bt;if(pc(Y))try{t(8,S=F(Y.text)),t(16,_=Y.text),t(19,bt=!1),t(17,Ce=void 0)}catch(Nt){try{t(8,S=F(is(Y.text))),t(16,_=Y.text),t(19,bt=!0),t(17,Ce=void 0)}catch{t(8,S=void 0),t(16,_=Y.text),t(19,bt=!1),t(17,Ce=_!==""?dc(_,Nt.message||String(Nt)):void 0)}}else t(8,S=Y.json),t(16,_=void 0),t(19,bt=!1),t(17,Ce=void 0);tt(S),ce.sortedColumn&&t(11,ce=ke(ke({},ce),{},{sortedColumn:null})),it({previousJson:ft,previousState:Ft,previousText:vt,previousTextIsRepaired:cn}),st(Ke,null)}}function it(Y){var Ee=Y.previousJson,Ue=Y.previousState,Ke=Y.previousText,ft=Y.previousTextIsRepaired;Ee===void 0&&Ke===void 0||(S!==void 0?Ee!==void 0?ut.add({undo:{patch:[{op:"replace",path:"",value:Ee}],state:br(Ue),json:void 0,text:Ke,textIsRepaired:ft},redo:{patch:[{op:"replace",path:"",value:S}],state:br(ce),json:void 0,text:_,textIsRepaired:bt}}):ut.add({undo:{patch:void 0,json:void 0,text:Ke,state:br(Ue),textIsRepaired:ft},redo:{patch:void 0,json:S,state:br(ce),text:_,textIsRepaired:bt}}):Ee!==void 0&&ut.add({undo:{patch:void 0,json:Ee,state:br(Ue),text:Ke,textIsRepaired:ft},redo:{patch:void 0,json:void 0,text:_,textIsRepaired:bt,state:br(ce)}}))}var H=[],J=Ju(_$);function ie(Y,Ee,Ue,Ke){ql(function(){var ft;try{ft=J(Y,Ee,Ue,Ke)}catch(Ft){ft=[{path:[],message:"Failed to validate: "+Ft.message,severity:Is.warning}]}jn(ft,H)||(a("validationErrors changed:",ft),t(12,H=ft))},function(ft){return a("validationErrors updated in ".concat(ft," ms"))})}function me(){return a("validate"),Ce?{parseError:Ce,isRepairable:!1}:(ie(S,ne,ee,re),An(H)?null:{validationErrors:H})}function _e(Y,Ee){if(a("patch",Y,Ee),S===void 0)throw new Error("Cannot apply patch: no JSON");var Ue={json:S},Ke=S,ft=ce,Ft=bt,vt=l$(S,Y),cn=KO(S,ce,Y).json,Nt=gF(ce,Y,Ze),Et=typeof Ee=="function"?Ee(cn,Nt):void 0;t(8,S=Et&&Et.json!==void 0?Et.json:cn);var hn=Et&&Et.state!==void 0?Et.state:Nt;t(11,ce=hn),t(16,_=void 0),t(19,bt=!1),t(18,We=void 0),t(17,Ce=void 0),ut.add({undo:{patch:vt,json:void 0,text:void 0,state:br(ft),textIsRepaired:Ft},redo:{patch:Y,json:void 0,state:br(hn),text:void 0,textIsRepaired:bt}});var Rn={json:S,previousJson:Ke,undo:vt,redo:Y};return st(Ue,Rn),Rn}function Re(Y,Ee){return E?{json:S,previousJson:S,redo:[],undo:[]}:_e(Y,Ee)}function st(Y,Ee){(Y.json!==void 0||(Y==null?void 0:Y.text)!==void 0)&&$&&(_!==void 0?$({text:_,json:void 0},Y,{contentErrors:me(),patchResult:Ee}):S!==void 0&&$({text:void 0,json:S},Y,{contentErrors:me(),patchResult:Ee}))}function Tt(Y){a("handleFind",Y)}function Lt(Y){a("pasted json as text",Y),t(18,We=Y)}function Ln(Y){var Ee=parseInt(Y[0],10),Ue=[String(Ee+1)].concat(ln(Y.slice(1)));return ts(S,Ue)?fn(Ue,!1):fn(Y,!1)}function Qt(){a("focus"),C&&(C.focus(),C.select())}function rt(){ce.selection||wt(!hi(S)||An(S)||An(Ze)?null:fn(["0"].concat(ln(Ze[0])),!1))}function $n(Y){var Ee=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Ue=$m(Y,Ze,et,Qc),Ke=Ue-fe,ft=Qn(Y);if(a("scrollTo",{path:Y,top:Ue,scrollTop:fe,elem:ft}),!k)return Promise.resolve();var Ft=k.getBoundingClientRect();if(ft&&!Ee){var vt=ft.getBoundingClientRect();if(vt.bottom>Ft.top&&vt.top<Ft.bottom)return Promise.resolve()}var cn=-Ft.height/4;return new Promise(ft?function(Nt){p(ft,{container:k,offset:cn,duration:300,callback:function(){oi(Y),Nt()}})}:function(Nt){var Et;p(Ke,{container:k,offset:cn,duration:300,callback:(Et=Xt(Ge().mark(function hn(){return Ge().wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:return Rn.next=2,Mi();case 2:if($m(Y,Ze,et,Qc)===Ue){Rn.next=8;break}return Rn.next=6,$n(Y,Ee);case 6:Rn.next=9;break;case 8:oi(Y);case 9:Nt();case 10:case"end":return Rn.stop()}},hn)})),function(){return Et.apply(this,arguments)})})})}function oi(Y){var Ee=Qn(Y);if(Ee&&k){var Ue=k.getBoundingClientRect(),Ke=Ee.getBoundingClientRect();if(Ke.right>Ue.right){var ft=Ke.right-Ue.right;t(14,k.scrollLeft+=ft,k)}if(Ke.left<Ue.left){var Ft=Ue.left-Ke.left;t(14,k.scrollLeft-=Ft,k)}}}function Mn(Y){(function(Ee){if(k){var Ue=ao(Ee,Ze).rowIndex,Ke=$m(Ee,Ze,et,Qc),ft=Ke+(et[Ue]||Qc),Ft=k.getBoundingClientRect(),vt=fe,cn=fe+Ft.height-18;if(ft>cn){var Nt=ft-cn;t(14,k.scrollTop+=Nt,k)}if(Ke<vt){var Et=vt-Ke;t(14,k.scrollTop-=Et,k)}}})(Y),oi(Y)}function Qn(Y){return k?k.querySelector('td[data-path="'.concat(mc(Y),'"]')):null}function Zn(Y){var Ee=Y.anchor,Ue=Y.left,Ke=Y.top,ft=Y.width,Ft=Y.height,vt=Y.offsetTop,cn=Y.offsetLeft,Nt=Y.showTip;Ye=!0;var Et=f(LH,{json:S,documentState:ce,parser:ee,showTip:Nt,onEditValue:xn,onEditRow:je,onToggleEnforceString:ot,onCut:tn,onCopy:we,onPaste:en,onRemove:nt,onDuplicateRow:W,onInsertBeforeRow:Q,onInsertAfterRow:ue,onRemoveRow:ye,onRenderContextMenu:Z,onCloseContextMenu:function(){h(Et),Qt()}},{left:Ue,top:Ke,offsetTop:vt,offsetLeft:cn,width:ft,height:Ft,anchor:Ee,closeOnOuterClick:!0,onClose:function(){Ye=!1,Qt()}})}function ei(Y){if(!E&&!$r(ce.selection)){if(Y&&(Y.stopPropagation(),Y.preventDefault()),Y&&Y.type==="contextmenu"&&Y.target!==C)Zn({left:Y.clientX,top:Y.clientY,width:ks,height:ws,showTip:!1});else{var Ee,Ue=(Ee=k)===null||Ee===void 0?void 0:Ee.querySelector(".jse-table-cell.jse-selected-value");if(Ue)Zn({anchor:Ue,offsetTop:2,width:ks,height:ws,showTip:!1});else{var Ke,ft=(Ke=k)===null||Ke===void 0?void 0:Ke.getBoundingClientRect();ft&&Zn({top:ft.top+2,left:ft.left+2,width:ks,height:ws,showTip:!1})}}return!1}}function xn(){if(!E&&ce.selection){var Y=At(ce.selection);gi(Ct(S,Y))?gn(Y):wt(fn(Y,!0))}}function je(){!E&&ce.selection&&gn(At(ce.selection).slice(0,1))}function ot(){if(!E&&_n(ce.selection)){var Y=ce.selection.path,Ee=at(Y),Ue=Ct(S,Y),Ke=!Ds(Ue,ce.enforceStringMap,Ee,ee),ft=Ke?String(Ue):Cc(String(Ue),ee);a("handleToggleEnforceString",{enforceString:Ke,value:Ue,updatedValue:ft}),Re([{op:"replace",path:Ee,value:ft}],function(Ft,vt){return{state:GO(vt,Ee,Ke)}})}}function Vt(){return(Vt=Xt(Ge().mark(function Y(){var Ee,Ue,Ke,ft,Ft;return Ge().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(a("apply pasted json",We),We){vt.next=3;break}return vt.abrupt("return");case 3:Ke=(Ue=We).path,ft=Ue.contents,UO(Ft=((Ee=k)===null||Ee===void 0?void 0:Ee.querySelector(".jse-editable-div"))||null)&&Ft.cancel(),Re([{op:"replace",path:at(Ke),value:ft}]),setTimeout(Qt);case 9:case"end":return vt.stop()}},Y)}))).apply(this,arguments)}function en(){l(j$,{},ke(ke({},nl),{},{styleWindow:{width:"450px"}}),{onClose:function(){return Qt()}})}function tn(Y){return rn.apply(this,arguments)}function rn(){return(rn=Xt(Ge().mark(function Y(Ee){return Ge().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.next=2,E$({json:S,documentState:ce,indentation:Ee?R:void 0,readOnly:E,parser:ee,onPatch:Re});case 2:case"end":return Ue.stop()}},Y)}))).apply(this,arguments)}function we(){return pt.apply(this,arguments)}function pt(){return pt=Xt(Ge().mark(function Y(){var Ee,Ue=arguments;return Ge().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(Ee=!(Ue.length>0&&Ue[0]!==void 0)||Ue[0],S!==void 0){Ke.next=3;break}return Ke.abrupt("return");case 3:return Ke.next=5,A$({json:S,documentState:ce,indentation:Ee?R:void 0,parser:ee});case 5:case"end":return Ke.stop()}},Y)})),pt.apply(this,arguments)}function nt(){L$({json:S,text:_,documentState:ce,keepSelection:!0,readOnly:E,onChange:$,onPatch:Re})}function W(){vF({json:S,documentState:ce,columns:Ze,readOnly:E,onPatch:Re})}function Q(){yF({json:S,documentState:ce,columns:Ze,readOnly:E,onPatch:Re})}function ue(){bF({json:S,documentState:ce,columns:Ze,readOnly:E,onPatch:Re})}function ye(){xF({json:S,documentState:ce,columns:Ze,readOnly:E,onPatch:Re})}function $e(){return($e=Xt(Ge().mark(function Y(Ee){return Ge().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.next=2,I$({char:Ee,selectInside:!1,refJsonEditor:x,json:S,selection:ce.selection,readOnly:E,parser:ee,onPatch:Re,onReplaceJson:_t,onSelect:wt});case 2:case"end":return Ue.stop()}},Y)}))).apply(this,arguments)}function _t(Y,Ee){var Ue=ce,Ke=S,ft=_,Ft={json:S,text:_},vt=bt,cn=oo(S,ce,[],Ko),Nt=typeof Ee=="function"?Ee(Y,cn):void 0;t(8,S=Nt&&Nt.json!==void 0?Nt.json:Y),t(11,ce=Nt&&Nt.state!==void 0?Nt.state:cn),t(16,_=void 0),t(19,bt=!1),t(17,Ce=void 0),tt(S),it({previousJson:Ke,previousState:Ue,previousText:ft,previousTextIsRepaired:vt}),st(Ft,null)}function It(Y,Ee){a("handleChangeText");var Ue=ce,Ke=S,ft=_,Ft={json:S,text:_},vt=bt;try{t(8,S=F(Y)),t(11,ce=oo(S,ce,[],Ko)),t(16,_=void 0),t(19,bt=!1),t(17,Ce=void 0)}catch(Nt){try{t(8,S=F(is(Y))),t(11,ce=oo(S,ce,[],Ko)),t(16,_=Y),t(19,bt=!0),t(17,Ce=void 0)}catch{t(8,S=void 0),t(11,ce=Od({json:S,expand:Ko})),t(16,_=Y),t(19,bt=!1),t(17,Ce=_!==""?dc(_,Nt.message||String(Nt)):void 0)}}if(typeof Ee=="function"){var cn=Ee(S,ce);t(8,S=cn&&cn.json?cn.json:S),t(11,ce=cn&&cn.state?cn.state:ce)}tt(S),it({previousJson:Ke,previousState:Ue,previousText:ft,previousTextIsRepaired:vt}),st(Ft,null)}function an(Y){if(S!==void 0){var Ee=Y.id,Ue=Y.onTransform,Ke=Y.onClose,ft=Y.rootPath||[];Ye=!0,oe({id:Ee||g,json:S,rootPath:ft||[],onTransform:function(Ft){Ue?Ue({operations:Ft,json:S,transformedJson:$o(S,Ft)}):(a("onTransform",ft,Ft),Re(Ft))},onClose:function(){Ye=!1,Qt(),Ke&&Ke()}})}}function gn(Y){a("openJSONEditorModal",{path:Y}),Ye=!0,Be({content:{json:Ct(S,Y)},path:Y,onPatch:Bt.onPatch,onClose:function(){Ye=!1,Qt()}})}function In(Y,Ee){l(C$,{text:Y,onParse:function(Ue){return up(Ue,function(Ke){return of(Ke,ee)})},onRepair:LO,onApply:Ee},ke(ke({},nl),{},{styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}}),{onClose:function(){return Qt()}})}function sn(){if(!E&&ut.getState().canUndo){var Y=ut.undo();if(Y){var Ee={json:S,text:_};t(8,S=Y.undo.patch?$o(S,Y.undo.patch):Y.undo.json),t(11,ce=Y.undo.state),t(16,_=Y.undo.text),t(19,bt=Y.undo.textIsRepaired),t(17,Ce=void 0),a("undo",{item:Y,json:S}),st(Ee,Y.undo.patch&&Y.redo.patch?{json:S,previousJson:Ee.json,redo:Y.undo.patch,undo:Y.redo.patch}:null),Qt(),ce.selection&&$n(At(ce.selection),!1)}}}function Pn(){if(!E&&ut.getState().canRedo){var Y=ut.redo();if(Y){var Ee={json:S,text:_};t(8,S=Y.redo.patch?$o(S,Y.redo.patch):Y.redo.json),t(11,ce=Y.redo.state),t(16,_=Y.redo.text),t(19,bt=Y.redo.textIsRepaired),t(17,Ce=void 0),a("redo",{item:Y,json:S}),st(Ee,Y.undo.patch&&Y.redo.patch?{json:S,previousJson:Ee.json,redo:Y.redo.patch,undo:Y.undo.patch}:null),Qt(),ce.selection&&$n(At(ce.selection),!1)}}}function qn(Y,Ee){t(70,et[Ee]=Y.getBoundingClientRect().height,et)}return n.$$set=function(Y){"readOnly"in Y&&t(0,E=Y.readOnly),"externalContent"in Y&&t(47,q=Y.externalContent),"externalSelection"in Y&&t(48,te=Y.externalSelection),"mainMenuBar"in Y&&t(1,G=Y.mainMenuBar),"escapeControlCharacters"in Y&&t(49,I=Y.escapeControlCharacters),"escapeUnicodeCharacters"in Y&&t(50,U=Y.escapeUnicodeCharacters),"flattenColumns"in Y&&t(51,B=Y.flattenColumns),"parser"in Y&&t(2,ee=Y.parser),"parseMemoizeOne"in Y&&t(52,F=Y.parseMemoizeOne),"validator"in Y&&t(53,ne=Y.validator),"validationParser"in Y&&t(54,re=Y.validationParser),"indentation"in Y&&t(3,R=Y.indentation),"onChange"in Y&&t(55,$=Y.onChange),"onChangeMode"in Y&&t(4,N=Y.onChangeMode),"onSelect"in Y&&t(56,P=Y.onSelect),"onRenderValue"in Y&&t(57,A=Y.onRenderValue),"onRenderMenu"in Y&&t(5,M=Y.onRenderMenu),"onRenderContextMenu"in Y&&t(58,Z=Y.onRenderContextMenu),"onFocus"in Y&&t(59,le=Y.onFocus),"onBlur"in Y&&t(60,de=Y.onBlur),"onSortModal"in Y&&t(61,xe=Y.onSortModal),"onTransformModal"in Y&&t(62,oe=Y.onTransformModal),"onJSONEditorModal"in Y&&t(63,Be=Y.onJSONEditorModal)},n.$$.update=function(){786432&n.$$.dirty[1]&&t(69,b=r1({escapeControlCharacters:I,escapeUnicodeCharacters:U})),65536&n.$$.dirty[1]&&bn(q),131072&n.$$.dirty[1]&&function(Y){jn(ce.selection,Y)||(a("applyExternalSelection",Y),(u1(Y)||Y===null)&&wt(Y))}(te),1792&n.$$.dirty[0]|1048576&n.$$.dirty[1]&&t(10,Ze=hi(S)?function(Y,Ee){var Ue,Ke=new Set(Ee.map(at)),ft=new Set(Y.map(at)),Ft=vr(Ke);try{for(Ft.s();!(Ue=Ft.n()).done;){var vt=Ue.value;ft.has(vt)||Ke.delete(vt)}}catch(hn){Ft.e(hn)}finally{Ft.f()}var cn,Nt=vr(ft);try{for(Nt.s();!(cn=Nt.n()).done;){var Et=cn.value;Ke.has(Et)||Ke.add(Et)}}catch(hn){Nt.e(hn)}finally{Nt.f()}return ln(Ke).map(Es)}(hF(S,B,be),Ze):[]),1280&n.$$.dirty[0]&&t(25,i=S&&!An(Ze)),768&n.$$.dirty[0]&&t(24,r=Array.isArray(S)&&S.length>be),256&n.$$.dirty[0]|1792&n.$$.dirty[2]&&t(23,o=dF(fe,qt,S,et,Qc)),256&n.$$.dirty[0]&&k&&k.scrollTo({top:k.scrollTop,left:k.scrollLeft}),2309&n.$$.dirty[0]|67108864&n.$$.dirty[1]|128&n.$$.dirty[2]&&t(21,Bt={readOnly:E,parser:ee,normalization:b,getJson:function(){return S},getDocumentState:function(){return ce},findElement:Qn,findNextInside:Ln,focus:Qt,onPatch:Re,onSelect:wt,onFind:Tt,onPasteJson:Lt,onRenderValue:A}),260&n.$$.dirty[0]|12582912&n.$$.dirty[1]&&ie(S,ne,ee,re),5120&n.$$.dirty[0]&&t(22,s=pF(H,Ze))},[E,G,ee,R,N,M,Qt,function(){if(bt&&S!==void 0){var Y=ce,Ee=S,Ue=_,Ke={json:S,text:_},ft=bt;t(16,_=void 0),t(19,bt=!1),tt(S),it({previousJson:Ee,previousState:Y,previousText:Ue,previousTextIsRepaired:ft}),st(Ke,null)}return{json:S,text:_}},S,be,Ze,ce,H,x,k,C,_,Ce,We,bt,Kt,Bt,s,o,r,i,v,void 0,function(Y){if(!E){a("onSortByHeader",Y);var Ee=Y.sortDirection===ho.desc?-1:1;Re($$(S,[],Y.path,Ee),function(Ue,Ke){return{state:ke(ke({},Ke),{},{sortedColumn:Y})}})}},function(Y){t(72,fe=Y.target.scrollTop)},function(Y){var Ee=Y.target,Ue=WO(Ee);if(Ue){if($r(ce.selection)&&Fu(S,ce.selection,Ue))return;wt(fn(Ue,!1)),Y.preventDefault()}o1(Ee,"BUTTON")||Ee.isContentEditable||Qt()},Zn,ei,function(Y){E||Zn({anchor:VO(Y.target,"BUTTON"),offsetTop:0,width:ks,height:ws,showTip:!0})},function(){return Vt.apply(this,arguments)},function(){a("clear pasted json"),t(18,We=void 0),Qt()},function(){N(pr.text)},function(Y){var Ee=Sa(Y);if(a("keydown",{combo:Ee,key:Y.key}),Ee==="Ctrl+X"&&(Y.preventDefault(),tn(!0)),Ee==="Ctrl+Shift+X"&&(Y.preventDefault(),tn(!1)),Ee==="Ctrl+C"&&(Y.preventDefault(),we(!0)),Ee==="Ctrl+Shift+C"&&(Y.preventDefault(),we(!1)),Ee==="Ctrl+D"&&Y.preventDefault(),Ee!=="Delete"&&Ee!=="Backspace"||(Y.preventDefault(),nt()),Ee==="Insert"&&Y.preventDefault(),Ee==="Ctrl+A"&&Y.preventDefault(),Ee==="Ctrl+Q"&&ei(Y),Ee==="ArrowLeft"&&(Y.preventDefault(),rt(),ce.selection)){var Ue=function(Nt,Et){var hn=ao(At(Et),Nt),Rn=hn.rowIndex,Jn=hn.columnIndex;return Jn>0?fn(Fa({rowIndex:Rn,columnIndex:Jn-1},Nt),!1):Et}(Ze,ce.selection);wt(Ue),Mn(At(Ue))}if(Ee==="ArrowRight"&&(Y.preventDefault(),rt(),ce.selection)){var Ke=function(Nt,Et){var hn=ao(At(Et),Nt),Rn=hn.rowIndex,Jn=hn.columnIndex;return Jn<Nt.length-1?fn(Fa({rowIndex:Rn,columnIndex:Jn+1},Nt),!1):Et}(Ze,ce.selection);wt(Ke),Mn(At(Ke))}if(Ee==="ArrowUp"&&(Y.preventDefault(),rt(),ce.selection)){var ft=function(Nt,Et){var hn=ao(At(Et),Nt),Rn=hn.rowIndex,Jn=hn.columnIndex;return Rn>0?fn(Fa({rowIndex:Rn-1,columnIndex:Jn},Nt),!1):Et}(Ze,ce.selection);wt(ft),Mn(At(ft))}if(Ee==="ArrowDown"&&(Y.preventDefault(),rt(),ce.selection)){var Ft=function(Nt,Et,hn){var Rn=ao(At(hn),Et),Jn=Rn.rowIndex,zi=Rn.columnIndex;return Jn<Nt.length-1?fn(Fa({rowIndex:Jn+1,columnIndex:zi},Et),!1):hn}(S,Ze,ce.selection);wt(Ft),Mn(At(Ft))}if(Ee==="Enter"&&ce.selection&&_n(ce.selection)){Y.preventDefault();var vt=ce.selection.path;gi(Ct(S,vt))?gn(vt):E||wt(ke(ke({},ce.selection),{},{edit:!0}))}if(Ee.replace(/^Shift\+/,"").length===1&&ce.selection)return Y.preventDefault(),void function(Nt){$e.apply(this,arguments)}(Y.key);if(Ee==="Ctrl+Enter"&&_n(ce.selection)){var cn=Ct(S,ce.selection.path);cp(cn)&&window.open(String(cn),"_blank")}Ee==="Escape"&&ce.selection&&(Y.preventDefault(),wt(null)),Ee==="Ctrl+F"&&Y.preventDefault(),Ee==="Ctrl+H"&&Y.preventDefault(),Ee==="Ctrl+Z"&&(Y.preventDefault(),sn()),Ee==="Ctrl+Shift+Z"&&(Y.preventDefault(),Pn())},function(Y){var Ee;Y.preventDefault();var Ue=(Ee=Y.clipboardData)===null||Ee===void 0?void 0:Ee.getData("text/plain");Ue!==void 0&&R$({clipboardText:Ue,json:S,selection:ce.selection,readOnly:E,parser:ee,onPatch:Re,onChangeText:It,openRepairModal:In})},function(Y){a("select validation error",Y),wt(fn(Y.path,!1)),$n(Y.path)},gn,function(){(function(Y){E||S===void 0||(Ye=!0,xe({id:m,json:S,rootPath:Y,onSort:function(Ee){var Ue=Ee.operations,Ke=Ee.itemPath,ft=Ee.direction;a("onSort",Ue,Y,Ke,ft),Re(Ue,function(Ft,vt){return{state:ke(ke({},vt),{},{sortedColumn:{path:Ke,sortDirection:ft===-1?ho.desc:ho.asc}})}})},onClose:function(){Ye=!1,Qt()}}))})([])},function(){an({rootPath:[]})},sn,Pn,function(Y){t(71,qt=Y.getBoundingClientRect().height)},qn,q,te,I,U,B,F,ne,re,$,P,A,Z,le,de,xe,oe,Be,me,_e,$n,Qn,an,b,et,qt,fe,function(Y){pn[Y?"unshift":"push"](function(){t(15,C=Y)})},function(){return t(9,be=1/0)},function(Y,Ee){return qn(Ee,Y)},function(Y){pn[Y?"unshift":"push"](function(){t(14,k=Y)})},function(Y){pn[Y?"unshift":"push"](function(){t(13,x=Y)})}]}var rV=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,iV,nV,Yt,{readOnly:0,externalContent:47,externalSelection:48,mainMenuBar:1,escapeControlCharacters:49,escapeUnicodeCharacters:50,flattenColumns:51,parser:2,parseMemoizeOne:52,validator:53,validationParser:54,indentation:3,onChange:55,onChangeMode:4,onSelect:56,onRenderValue:57,onRenderMenu:5,onRenderContextMenu:58,onFocus:59,onBlur:60,onSortModal:61,onTransformModal:62,onJSONEditorModal:63,validate:64,patch:65,focus:6,acceptAutoRepair:7,scrollTo:66,findElement:67,openTransformModal:68},ZH,[-1,-1,-1,-1,-1]),r}return ct(t,[{key:"validate",get:function(){return this.$$.ctx[64]}},{key:"patch",get:function(){return this.$$.ctx[65]}},{key:"focus",get:function(){return this.$$.ctx[6]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[7]}},{key:"scrollTo",get:function(){return this.$$.ctx[66]}},{key:"findElement",get:function(){return this.$$.ctx[67]}},{key:"openTransformModal",get:function(){return this.$$.ctx[68]}}]),t}();function oV(n){var e,t,i={externalContent:n[0],externalSelection:n[1],readOnly:n[2],indentation:n[3],mainMenuBar:n[6],navigationBar:n[7],escapeControlCharacters:n[10],escapeUnicodeCharacters:n[11],parser:n[13],parseMemoizeOne:n[14],validator:n[15],validationParser:n[16],pathParser:n[17],onError:n[23],onChange:n[18],onChangeMode:n[19],onSelect:n[20],onRenderValue:n[21],onClassName:n[22],onFocus:n[24],onBlur:n[25],onRenderMenu:n[32],onRenderContextMenu:n[33],onSortModal:n[26],onTransformModal:n[27],onJSONEditorModal:n[28]};return e=new _1({props:i}),n[49](e),{c:function(){Te(e.$$.fragment)},m:function(r,o){Me(e,r,o),t=!0},p:function(r,o){var s={};1&o[0]&&(s.externalContent=r[0]),2&o[0]&&(s.externalSelection=r[1]),4&o[0]&&(s.readOnly=r[2]),8&o[0]&&(s.indentation=r[3]),64&o[0]&&(s.mainMenuBar=r[6]),128&o[0]&&(s.navigationBar=r[7]),1024&o[0]&&(s.escapeControlCharacters=r[10]),2048&o[0]&&(s.escapeUnicodeCharacters=r[11]),8192&o[0]&&(s.parser=r[13]),16384&o[0]&&(s.parseMemoizeOne=r[14]),32768&o[0]&&(s.validator=r[15]),65536&o[0]&&(s.validationParser=r[16]),131072&o[0]&&(s.pathParser=r[17]),8388608&o[0]&&(s.onError=r[23]),262144&o[0]&&(s.onChange=r[18]),524288&o[0]&&(s.onChangeMode=r[19]),1048576&o[0]&&(s.onSelect=r[20]),2097152&o[0]&&(s.onRenderValue=r[21]),4194304&o[0]&&(s.onClassName=r[22]),16777216&o[0]&&(s.onFocus=r[24]),33554432&o[0]&&(s.onBlur=r[25]),2&o[1]&&(s.onRenderMenu=r[32]),4&o[1]&&(s.onRenderContextMenu=r[33]),67108864&o[0]&&(s.onSortModal=r[26]),134217728&o[0]&&(s.onTransformModal=r[27]),268435456&o[0]&&(s.onJSONEditorModal=r[28]),e.$set(s)},i:function(r){t||(T(e.$$.fragment,r),t=!0)},o:function(r){D(e.$$.fragment,r),t=!1},d:function(r){n[49](null),Pe(e,r)}}}function sV(n){var e,t,i={externalContent:n[0],externalSelection:n[1],readOnly:n[2],mainMenuBar:n[6],escapeControlCharacters:n[10],escapeUnicodeCharacters:n[11],flattenColumns:n[12],parser:n[13],parseMemoizeOne:n[14],validator:n[15],validationParser:n[16],indentation:n[3],onChange:n[18],onChangeMode:n[19],onSelect:n[20],onRenderValue:n[21],onFocus:n[24],onBlur:n[25],onRenderMenu:n[32],onRenderContextMenu:n[33],onSortModal:n[26],onTransformModal:n[27],onJSONEditorModal:n[28]};return e=new rV({props:i}),n[48](e),{c:function(){Te(e.$$.fragment)},m:function(r,o){Me(e,r,o),t=!0},p:function(r,o){var s={};1&o[0]&&(s.externalContent=r[0]),2&o[0]&&(s.externalSelection=r[1]),4&o[0]&&(s.readOnly=r[2]),64&o[0]&&(s.mainMenuBar=r[6]),1024&o[0]&&(s.escapeControlCharacters=r[10]),2048&o[0]&&(s.escapeUnicodeCharacters=r[11]),4096&o[0]&&(s.flattenColumns=r[12]),8192&o[0]&&(s.parser=r[13]),16384&o[0]&&(s.parseMemoizeOne=r[14]),32768&o[0]&&(s.validator=r[15]),65536&o[0]&&(s.validationParser=r[16]),8&o[0]&&(s.indentation=r[3]),262144&o[0]&&(s.onChange=r[18]),524288&o[0]&&(s.onChangeMode=r[19]),1048576&o[0]&&(s.onSelect=r[20]),2097152&o[0]&&(s.onRenderValue=r[21]),16777216&o[0]&&(s.onFocus=r[24]),33554432&o[0]&&(s.onBlur=r[25]),2&o[1]&&(s.onRenderMenu=r[32]),4&o[1]&&(s.onRenderContextMenu=r[33]),67108864&o[0]&&(s.onSortModal=r[26]),134217728&o[0]&&(s.onTransformModal=r[27]),268435456&o[0]&&(s.onJSONEditorModal=r[28]),e.$set(s)},i:function(r){t||(T(e.$$.fragment,r),t=!0)},o:function(r){D(e.$$.fragment,r),t=!1},d:function(r){n[48](null),Pe(e,r)}}}function aV(n){var e,t,i={externalContent:n[0],externalSelection:n[1],readOnly:n[2],indentation:n[3],tabSize:n[4],mainMenuBar:n[6],statusBar:n[8],askToFormat:n[9],escapeUnicodeCharacters:n[11],parser:n[13],validator:n[15],validationParser:n[16],onChange:n[18],onSelect:n[20],onChangeMode:n[19],onError:n[23],onFocus:n[24],onBlur:n[25],onRenderMenu:n[32],onSortModal:n[26],onTransformModal:n[27]};return e=new yH({props:i}),n[47](e),{c:function(){Te(e.$$.fragment)},m:function(r,o){Me(e,r,o),t=!0},p:function(r,o){var s={};1&o[0]&&(s.externalContent=r[0]),2&o[0]&&(s.externalSelection=r[1]),4&o[0]&&(s.readOnly=r[2]),8&o[0]&&(s.indentation=r[3]),16&o[0]&&(s.tabSize=r[4]),64&o[0]&&(s.mainMenuBar=r[6]),256&o[0]&&(s.statusBar=r[8]),512&o[0]&&(s.askToFormat=r[9]),2048&o[0]&&(s.escapeUnicodeCharacters=r[11]),8192&o[0]&&(s.parser=r[13]),32768&o[0]&&(s.validator=r[15]),65536&o[0]&&(s.validationParser=r[16]),262144&o[0]&&(s.onChange=r[18]),1048576&o[0]&&(s.onSelect=r[20]),524288&o[0]&&(s.onChangeMode=r[19]),8388608&o[0]&&(s.onError=r[23]),16777216&o[0]&&(s.onFocus=r[24]),33554432&o[0]&&(s.onBlur=r[25]),2&o[1]&&(s.onRenderMenu=r[32]),67108864&o[0]&&(s.onSortModal=r[26]),134217728&o[0]&&(s.onTransformModal=r[27]),e.$set(s)},i:function(r){t||(T(e.$$.fragment,r),t=!0)},o:function(r){D(e.$$.fragment,r),t=!1},d:function(r){n[47](null),Pe(e,r)}}}function lV(n){var e,t,i,r,o,s=[aV,sV,oV],a=[];function l(c,f){return 32&f[0]&&(e=null),e==null&&(e=!(c[5]!==pr.text&&String(c[5])!=="code")),e?0:c[5]===pr.table?1:2}return t=l(n,[-1,-1]),i=a[t]=s[t](n),{c:function(){i.c(),r=On()},m:function(c,f){a[t].m(c,f),ae(c,r,f),o=!0},p:function(c,f){var h=t;(t=l(c,f))===h?a[t].p(c,f):(De(),D(a[h],1,1,function(){a[h]=null}),ze(),(i=a[t])?i.p(c,f):(i=a[t]=s[t](c)).c(),T(i,1),i.m(r.parentNode,r))},i:function(c){o||(T(i),o=!0)},o:function(c){D(i),o=!1},d:function(c){c&&se(r),a[t].d(c)}}}function cV(n,e,t){var i,r,o,s,a,l,c=e.content,f=e.selection,h=e.readOnly,p=e.indentation,m=e.tabSize,g=e.mode,v=e.mainMenuBar,b=e.navigationBar,x=e.statusBar,k=e.askToFormat,C=e.escapeControlCharacters,S=e.escapeUnicodeCharacters,_=e.flattenColumns,E=e.parser,q=e.parseMemoizeOne,te=e.validator,G=e.validationParser,I=e.pathParser,U=e.insideModal,B=e.onChange,ee=e.onChangeMode,F=e.onSelect,ne=e.onRenderValue,re=e.onClassName,R=e.onRenderMenu,$=e.onRenderContextMenu,N=e.onError,P=e.onFocus,A=e.onBlur,M=e.onSortModal,Z=e.onTransformModal,le=e.onJSONEditorModal,de={type:"separator"};function xe(){return(xe=Xt(Ge().mark(function oe(){return Ge().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(!o){Be.next=3;break}return Be.next=3,o.refresh();case 3:case"end":return Be.stop()}},oe)}))).apply(this,arguments)}return n.$$set=function(oe){"content"in oe&&t(0,c=oe.content),"selection"in oe&&t(1,f=oe.selection),"readOnly"in oe&&t(2,h=oe.readOnly),"indentation"in oe&&t(3,p=oe.indentation),"tabSize"in oe&&t(4,m=oe.tabSize),"mode"in oe&&t(5,g=oe.mode),"mainMenuBar"in oe&&t(6,v=oe.mainMenuBar),"navigationBar"in oe&&t(7,b=oe.navigationBar),"statusBar"in oe&&t(8,x=oe.statusBar),"askToFormat"in oe&&t(9,k=oe.askToFormat),"escapeControlCharacters"in oe&&t(10,C=oe.escapeControlCharacters),"escapeUnicodeCharacters"in oe&&t(11,S=oe.escapeUnicodeCharacters),"flattenColumns"in oe&&t(12,_=oe.flattenColumns),"parser"in oe&&t(13,E=oe.parser),"parseMemoizeOne"in oe&&t(14,q=oe.parseMemoizeOne),"validator"in oe&&t(15,te=oe.validator),"validationParser"in oe&&t(16,G=oe.validationParser),"pathParser"in oe&&t(17,I=oe.pathParser),"insideModal"in oe&&t(34,U=oe.insideModal),"onChange"in oe&&t(18,B=oe.onChange),"onChangeMode"in oe&&t(19,ee=oe.onChangeMode),"onSelect"in oe&&t(20,F=oe.onSelect),"onRenderValue"in oe&&t(21,ne=oe.onRenderValue),"onClassName"in oe&&t(22,re=oe.onClassName),"onRenderMenu"in oe&&t(35,R=oe.onRenderMenu),"onRenderContextMenu"in oe&&t(36,$=oe.onRenderContextMenu),"onError"in oe&&t(23,N=oe.onError),"onFocus"in oe&&t(24,P=oe.onFocus),"onBlur"in oe&&t(25,A=oe.onBlur),"onSortModal"in oe&&t(26,M=oe.onSortModal),"onTransformModal"in oe&&t(27,Z=oe.onTransformModal),"onJSONEditorModal"in oe&&t(28,le=oe.onJSONEditorModal)},n.$$.update=function(){524320&n.$$.dirty[0]&&t(46,s=[{type:"button",text:"text",title:"Switch to text mode (current mode: ".concat(g,")"),className:"jse-group-button jse-first"+(g===pr.text||g==="code"?" jse-selected":""),onClick:function(){return ee(pr.text)}},{type:"button",text:"tree",title:"Switch to tree mode (current mode: ".concat(g,")"),className:"jse-group-button "+(g===pr.tree?" jse-selected":""),onClick:function(){return ee(pr.tree)}},{type:"button",text:"table",title:"Switch to table mode (current mode: ".concat(g,")"),className:"jse-group-button jse-last"+(g===pr.table?" jse-selected":""),onClick:function(){return ee(pr.table)}}]),32&n.$$.dirty[0]|32792&n.$$.dirty[1]&&t(32,a=function(oe){var Be=S$(oe[0])?s.concat(oe):s.concat(de,oe);return R(Be,{mode:g,modal:U})||Be}),32&n.$$.dirty[0]|40&n.$$.dirty[1]&&t(33,l=function(oe){return $(oe,{mode:g,modal:U})||oe})},[c,f,h,p,m,g,v,b,x,k,C,S,_,E,q,te,G,I,B,ee,F,ne,re,N,P,A,M,Z,le,i,r,o,a,l,U,R,$,function(oe){if(i)return i.patch(oe);if(r)return r.patch(oe);if(o)return o.patch(oe);throw new Error('Method patch is not available in mode "'.concat(g,'"'))},function(oe){if(i)return i.expand(oe);throw new Error('Method expand is not available in mode "'.concat(g,'"'))},function(oe){if(o)o.openTransformModal(oe);else if(i)i.openTransformModal(oe);else{if(!r)throw new Error('Method transform is not available in mode "'.concat(g,'"'));r.openTransformModal(oe)}},function(){if(o)return o.validate();if(i)return i.validate();if(r)return r.validate();throw new Error('Method validate is not available in mode "'.concat(g,'"'))},function(){return i?i.acceptAutoRepair():c},function(oe){if(i)return i.scrollTo(oe);if(r)return r.scrollTo(oe);throw new Error('Method scrollTo is not available in mode "'.concat(g,'"'))},function(oe){if(i)return i.findElement(oe);if(r)return r.findElement(oe);throw new Error('Method findElement is not available in mode "'.concat(g,'"'))},function(){o?o.focus():i?i.focus():r&&r.focus()},function(){return xe.apply(this,arguments)},s,function(oe){pn[oe?"unshift":"push"](function(){t(31,o=oe)})},function(oe){pn[oe?"unshift":"push"](function(){t(30,r=oe)})},function(oe){pn[oe?"unshift":"push"](function(){t(29,i=oe)})}]}var F$=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,cV,lV,Gi,{content:0,selection:1,readOnly:2,indentation:3,tabSize:4,mode:5,mainMenuBar:6,navigationBar:7,statusBar:8,askToFormat:9,escapeControlCharacters:10,escapeUnicodeCharacters:11,flattenColumns:12,parser:13,parseMemoizeOne:14,validator:15,validationParser:16,pathParser:17,insideModal:34,onChange:18,onChangeMode:19,onSelect:20,onRenderValue:21,onClassName:22,onRenderMenu:35,onRenderContextMenu:36,onError:23,onFocus:24,onBlur:25,onSortModal:26,onTransformModal:27,onJSONEditorModal:28,patch:37,expand:38,transform:39,validate:40,acceptAutoRepair:41,scrollTo:42,findElement:43,focus:44,refresh:45},null,[-1,-1]),r}return ct(t,[{key:"patch",get:function(){return this.$$.ctx[37]}},{key:"expand",get:function(){return this.$$.ctx[38]}},{key:"transform",get:function(){return this.$$.ctx[39]}},{key:"validate",get:function(){return this.$$.ctx[40]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[41]}},{key:"scrollTo",get:function(){return this.$$.ctx[42]}},{key:"findElement",get:function(){return this.$$.ctx[43]}},{key:"focus",get:function(){return this.$$.ctx[44]}},{key:"refresh",get:function(){return this.$$.ctx[45]}}]),t}();function uV(n){Gt(n,"svelte-1m3nfgb",'.jse-modal.svelte-1m3nfgb.svelte-1m3nfgb{flex:1;display:flex;flex-direction:column;min-width:0;min-height:0;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;background:var(--jse-modal-background, #f5f5f5);color:var(--jse-text-color, #4d4d4d)}.jse-modal.svelte-1m3nfgb .svelte-select{--border:var(--jse-svelte-select-border, 1px solid #d8dbdf);--item-is-active-bg:var(--jse-item-is-active-bg, #3883fa);--border-radius:var(--jse-svelte-select-border-radius, 3px);--background:var(--jse-svelte-select-background, #fff);--padding:var(--jse-svelte-select-padding, 0 10px);--multi-select-padding:var(--jse-svelte-select-multi-select-padding, 0 10px);--font-size:var(--jse-svelte-select-font-size, var(--jse-font-size, 16px));--height:36px;--multi-item-height:28px;--multi-item-margin:2px;--multi-item-padding:2px 8px;--multi-item-border-radius:6px;--indicator-top:8px}.jse-modal.svelte-1m3nfgb .jse-modal-contents.svelte-1m3nfgb{flex:1;display:flex;flex-direction:column;padding:20px;overflow:auto;min-width:0;min-height:0}.jse-modal.svelte-1m3nfgb .jse-modal-contents .jse-actions.svelte-1m3nfgb{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding, 10px)}.jse-modal.svelte-1m3nfgb .jse-modal-contents .jse-actions button.jse-primary.svelte-1m3nfgb{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-primary-background, var(--jse-theme-color, #3883fa));color:var(--jse-button-primary-color, #fff);padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.svelte-1m3nfgb .jse-modal-contents .jse-actions button.jse-primary.svelte-1m3nfgb:hover{background:var(--jse-button-primary-background-highlight, var(--jse-theme-color-highlight, #5f9dff))}.jse-modal.svelte-1m3nfgb .jse-modal-contents .jse-actions button.jse-primary.svelte-1m3nfgb:disabled{background:var(--jse-button-primary-background-disabled, #9d9d9d)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-overlay-background, rgba(0, 0, 0, 0.3))}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-jsoneditor{width:800px;height:auto;min-height:500px;max-height:calc(100vh - 6rem);display:flex}.bg.jse-modal-bg .jse-modal-container{flex:1;display:flex;flex-direction:column;padding:0}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents.svelte-1m3nfgb{padding-top:0}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents .jse-label.svelte-1m3nfgb{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents .jse-label .jse-label-inner.svelte-1m3nfgb{margin-top:calc(2 * var(--jse-padding, 10px));margin-bottom:calc(0.5 * var(--jse-padding, 10px));box-sizing:border-box}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents .jse-label .jse-label-inner button.svelte-1m3nfgb{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-modal-contents .jse-modal-inline-editor.svelte-1m3nfgb{flex:1;min-height:150px;min-width:0;display:flex;--jse-theme-color:var(--jse-modal-editor-theme-color, var(--jse-modal-theme-color, #707070));--jse-theme-color-highlight:var(--jse-modal-editor-theme-color-highlight, var(--jse-modal-theme-color-highlight, #646464))}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions.svelte-1m3nfgb{gap:var(--jse-padding, 10px);align-items:center}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions .jse-error.svelte-1m3nfgb{flex:1;color:var(--jse-error-color, #ee5341)}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions button.jse-secondary.svelte-1m3nfgb{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);padding:5px;margin:0;background:var(--jse-button-secondary-background, #d3d3d3);color:var(--jse-button-secondary-color, var(--jse-text-color, #4d4d4d));padding:var(--jse-padding, 10px) calc(2 * var(--jse-padding, 10px));border-radius:3px}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions button.jse-secondary.svelte-1m3nfgb:hover{background:var(--jse-button-secondary-background-highlight, #e1e1e1)}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb .jse-actions button.jse-secondary.svelte-1m3nfgb:disabled{background:var(--jse-button-secondary-background-disabled, #9d9d9d)}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb input.svelte-1m3nfgb{border:var(--jse-input-border, 1px solid #d8dbdf);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding, 10px));font-family:var(--jse-font-family-mono, consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace);font-size:var(--jse-font-size-mono, 14px);color:inherit;background:var(--jse-input-background, var(--jse-background-color, #fff))}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb input.svelte-1m3nfgb:focus{border:var(--jse-input-border-focus, 1px solid var(--jse-input-border-focus, var(--jse-theme-color, #3883fa)))}.jse-modal.jse-jsoneditor-modal.svelte-1m3nfgb input.svelte-1m3nfgb:read-only{background:var(--jse-input-background-readonly, transparent)}')}function V_(n){var e,t;return{c:function(){e=K("div"),t=Xe(n[22]),j(e,"class","jse-error svelte-1m3nfgb")},m:function(i,r){ae(i,e,r),z(e,t)},p:function(i,r){4194304&r[0]&&Dt(t,i[22])},d:function(i){i&&se(e)}}}function W_(n){var e,t,i,r,o,s;return t=new Cn({props:{data:p7}}),{c:function(){e=K("button"),Te(t.$$.fragment),i=Xe(" Back"),j(e,"type","button"),j(e,"class","jse-secondary svelte-1m3nfgb")},m:function(a,l){ae(a,e,l),Me(t,e,null),z(e,i),r=!0,o||(s=Ne(e,"click",n[27]),o=!0)},p:Ve,i:function(a){r||(T(t.$$.fragment,a),r=!0)},o:function(a){D(t.$$.fragment,a),r=!1},d:function(a){a&&se(e),Pe(t),o=!1,s()}}}function fV(n){var e,t,i;return{c:function(){(e=K("button")).textContent="Close",j(e,"type","button"),j(e,"class","jse-primary svelte-1m3nfgb")},m:function(r,o){ae(r,e,o),t||(i=[Ne(e,"click",n[27]),or(H$.call(null,e))],t=!0)},p:Ve,d:function(r){r&&se(e),t=!1,Yn(i)}}}function hV(n){var e,t,i;return{c:function(){(e=K("button")).textContent="Apply",j(e,"type","button"),j(e,"class","jse-primary svelte-1m3nfgb")},m:function(r,o){ae(r,e,o),t||(i=[Ne(e,"click",n[26]),or(H$.call(null,e))],t=!0)},p:Ve,d:function(r){r&&se(e),t=!1,Yn(i)}}}function dV(n){var e,t,i,r,o,s,a,l,c,f,h,p,m,g,v,b,x,k,C;t=new g1({props:{title:"Edit nested content "+(n[20].length>1?" (".concat(n[20].length,")"):""),onClose:n[27]}});var S={mode:n[23].mode,content:n[23].content,selection:n[23].selection,readOnly:n[0],indentation:n[1],tabSize:n[2],statusBar:n[5],askToFormat:n[6],mainMenuBar:n[3],navigationBar:n[4],escapeControlCharacters:n[7],escapeUnicodeCharacters:n[8],flattenColumns:n[9],parser:n[10],parseMemoizeOne:n[24],validator:n[11],validationParser:n[12],pathParser:n[13],insideModal:!0,onError:n[31],onChange:n[28],onChangeMode:n[30],onSelect:n[29],onRenderValue:n[14],onClassName:n[15],onFocus:ro,onBlur:ro,onRenderMenu:n[16],onRenderContextMenu:n[17],onSortModal:n[18],onTransformModal:n[19],onJSONEditorModal:n[32]};p=new F$({props:S}),n[37](p);var _=n[22]&&V_(n),E=n[20].length>1&&W_(n);function q(I,U){return I[0]?fV:hV}var te=q(n),G=te(n);return{c:function(){e=K("div"),Te(t.$$.fragment),i=ve(),r=K("div"),(o=K("div")).innerHTML='<div class="jse-label-inner svelte-1m3nfgb">Path</div>',s=ve(),a=K("input"),l=ve(),(c=K("div")).innerHTML='<div class="jse-label-inner svelte-1m3nfgb">Contents</div>',f=ve(),h=K("div"),Te(p.$$.fragment),m=ve(),g=K("div"),_&&_.c(),v=ve(),E&&E.c(),b=ve(),G.c(),j(o,"class","jse-label svelte-1m3nfgb"),j(a,"class","jse-path svelte-1m3nfgb"),j(a,"type","text"),a.readOnly=!0,j(a,"title","Selected path"),a.value=n[25],j(c,"class","jse-label svelte-1m3nfgb"),j(h,"class","jse-modal-inline-editor svelte-1m3nfgb"),j(g,"class","jse-actions svelte-1m3nfgb"),j(r,"class","jse-modal-contents svelte-1m3nfgb"),j(e,"class","jse-modal jse-jsoneditor-modal svelte-1m3nfgb")},m:function(I,U){ae(I,e,U),Me(t,e,null),z(e,i),z(e,r),z(r,o),z(r,s),z(r,a),z(r,l),z(r,c),z(r,f),z(r,h),Me(p,h,null),z(r,m),z(r,g),_&&_.m(g,null),z(g,v),E&&E.m(g,null),z(g,b),G.m(g,null),x=!0,k||(C=or(xp.call(null,e,n[27])),k=!0)},p:function(I,U){var B={};1048576&U[0]&&(B.title="Edit nested content "+(I[20].length>1?" (".concat(I[20].length,")"):"")),t.$set(B),(!x||33554432&U[0]&&a.value!==I[25])&&(a.value=I[25]);var ee={};8388608&U[0]&&(ee.mode=I[23].mode),8388608&U[0]&&(ee.content=I[23].content),8388608&U[0]&&(ee.selection=I[23].selection),1&U[0]&&(ee.readOnly=I[0]),2&U[0]&&(ee.indentation=I[1]),4&U[0]&&(ee.tabSize=I[2]),32&U[0]&&(ee.statusBar=I[5]),64&U[0]&&(ee.askToFormat=I[6]),8&U[0]&&(ee.mainMenuBar=I[3]),16&U[0]&&(ee.navigationBar=I[4]),128&U[0]&&(ee.escapeControlCharacters=I[7]),256&U[0]&&(ee.escapeUnicodeCharacters=I[8]),512&U[0]&&(ee.flattenColumns=I[9]),1024&U[0]&&(ee.parser=I[10]),16777216&U[0]&&(ee.parseMemoizeOne=I[24]),2048&U[0]&&(ee.validator=I[11]),4096&U[0]&&(ee.validationParser=I[12]),8192&U[0]&&(ee.pathParser=I[13]),16384&U[0]&&(ee.onRenderValue=I[14]),32768&U[0]&&(ee.onClassName=I[15]),65536&U[0]&&(ee.onRenderMenu=I[16]),131072&U[0]&&(ee.onRenderContextMenu=I[17]),262144&U[0]&&(ee.onSortModal=I[18]),524288&U[0]&&(ee.onTransformModal=I[19]),p.$set(ee),I[22]?_?_.p(I,U):((_=V_(I)).c(),_.m(g,v)):_&&(_.d(1),_=null),I[20].length>1?E?(E.p(I,U),1048576&U[0]&&T(E,1)):((E=W_(I)).c(),T(E,1),E.m(g,b)):E&&(De(),D(E,1,1,function(){E=null}),ze()),te===(te=q(I))&&G?G.p(I,U):(G.d(1),(G=te(I))&&(G.c(),G.m(g,null)))},i:function(I){x||(T(t.$$.fragment,I),T(p.$$.fragment,I),T(E),x=!0)},o:function(I){D(t.$$.fragment,I),D(p.$$.fragment,I),D(E),x=!1},d:function(I){I&&se(e),Pe(t),n[37](null),Pe(p),_&&_.d(),E&&E.d(),G.d(),k=!1,C()}}}function H$(n){n.focus()}function pV(n,e,t){var i,r,o,s,a,l=ar("jsoneditor:JSONEditorModal"),c=e.content,f=e.path,h=e.onPatch,p=e.readOnly,m=e.indentation,g=e.tabSize,v=e.mainMenuBar,b=e.navigationBar,x=e.statusBar,k=e.askToFormat,C=e.escapeControlCharacters,S=e.escapeUnicodeCharacters,_=e.flattenColumns,E=e.parser,q=e.validator,te=e.validationParser,G=e.pathParser,I=e.onRenderValue,U=e.onClassName,B=e.onRenderMenu,ee=e.onRenderContextMenu,F=e.onSortModal,ne=e.onTransformModal,re=sr("simple-modal").close,R={mode:P(c),content:c,selection:null,relativePath:f},$=[R],N=void 0;function P(M){return _s(M)&&hi(M.json)?pr.table:pr.tree}function A(){var M,Z=((M=yn($))===null||M===void 0?void 0:M.selection)||null;u1(Z)&&a.scrollTo(At(Z))}return n.$$set=function(M){"content"in M&&t(33,c=M.content),"path"in M&&t(34,f=M.path),"onPatch"in M&&t(35,h=M.onPatch),"readOnly"in M&&t(0,p=M.readOnly),"indentation"in M&&t(1,m=M.indentation),"tabSize"in M&&t(2,g=M.tabSize),"mainMenuBar"in M&&t(3,v=M.mainMenuBar),"navigationBar"in M&&t(4,b=M.navigationBar),"statusBar"in M&&t(5,x=M.statusBar),"askToFormat"in M&&t(6,k=M.askToFormat),"escapeControlCharacters"in M&&t(7,C=M.escapeControlCharacters),"escapeUnicodeCharacters"in M&&t(8,S=M.escapeUnicodeCharacters),"flattenColumns"in M&&t(9,_=M.flattenColumns),"parser"in M&&t(10,E=M.parser),"validator"in M&&t(11,q=M.validator),"validationParser"in M&&t(12,te=M.validationParser),"pathParser"in M&&t(13,G=M.pathParser),"onRenderValue"in M&&t(14,I=M.onRenderValue),"onClassName"in M&&t(15,U=M.onClassName),"onRenderMenu"in M&&t(16,B=M.onRenderMenu),"onRenderContextMenu"in M&&t(17,ee=M.onRenderContextMenu),"onSortModal"in M&&t(18,F=M.onSortModal),"onTransformModal"in M&&t(19,ne=M.onTransformModal)},n.$$.update=function(){1048576&n.$$.dirty[0]&&t(23,i=yn($)||R),1048576&n.$$.dirty[0]&&t(36,r=$.flatMap(function(M){return M.relativePath})),32&n.$$.dirty[1]&&t(25,o=An(r)?"(document root)":zr(r)),1024&n.$$.dirty[0]&&t(24,s=Ju(E.parse))},[p,m,g,v,b,x,k,C,S,_,E,q,te,G,I,U,B,ee,F,ne,$,a,N,i,s,o,function(){if(l("handleApply"),!p)try{t(22,N=void 0);var M=i.relativePath,Z=i.content,le=[{op:"replace",path:at(M),value:fw(Z,E).json}];if($.length>1){var de=fw($[$.length-2].content,E).json,xe={json:$o(de,le)},oe=ke(ke({},$[$.length-2]||R),{},{content:xe});t(20,$=[].concat(ln($.slice(0,$.length-2)),[oe])),Mi().then(A)}else h(le),re()}catch(Be){t(22,N=String(Be))}},function(){l("handleClose"),$.length>1?(t(20,$=kn($)),Mi().then(A),t(22,N=void 0)):re()},function(M){l("handleChange",M);var Z=ke(ke({},i),{},{content:M});t(20,$=[].concat(ln(kn($)),[Z]))},function(M){l("handleChangeSelection",M);var Z=ke(ke({},i),{},{selection:M});t(20,$=[].concat(ln(kn($)),[Z]))},function(M){l("handleChangeMode",M);var Z=ke(ke({},i),{},{mode:M});t(20,$=[].concat(ln(kn($)),[Z]))},function(M){t(22,N=M.toString()),console.error(M)},function(M){var Z=M.content,le=M.path;l("handleJSONEditorModal",{content:Z,path:le});var de={mode:P(Z),content:Z,selection:null,relativePath:le};t(20,$=[].concat(ln($),[de]))},c,f,h,r,function(M){pn[M?"unshift":"push"](function(){t(21,a=M)})}]}var mV=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,pV,dV,Yt,{content:33,path:34,onPatch:35,readOnly:0,indentation:1,tabSize:2,mainMenuBar:3,navigationBar:4,statusBar:5,askToFormat:6,escapeControlCharacters:7,escapeUnicodeCharacters:8,flattenColumns:9,parser:10,validator:11,validationParser:12,pathParser:13,onRenderValue:14,onClassName:15,onRenderMenu:16,onRenderContextMenu:17,onSortModal:18,onTransformModal:19},uV,[-1,-1]),r}return ct(t)}();function gV(n,e,t){var i=sr("simple-modal");return[i.open,i.close]}var vV=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,gV,null,Yt,{open:0,close:1}),r}return ct(t,[{key:"open",get:function(){return this.$$.ctx[0]}},{key:"close",get:function(){return this.$$.ctx[1]}}]),t}();function yV(n){Gt(n,"svelte-ybuk0j",'.jse-main.svelte-ybuk0j{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif);font-size:var(--jse-font-size, 16px);line-height:normal;position:relative;display:flex;flex-direction:row}')}function U_(n){var e,t,i={mode:n[1],content:n[0],selection:n[2],readOnly:n[3],indentation:n[4],tabSize:n[5],statusBar:n[8],askToFormat:n[9],mainMenuBar:n[6],navigationBar:n[7],escapeControlCharacters:n[10],escapeUnicodeCharacters:n[11],flattenColumns:n[12],parser:n[13],parseMemoizeOne:n[27],validator:n[14],validationParser:n[15],pathParser:n[16],insideModal:!1,onError:n[21],onChange:n[28],onChangeMode:n[32],onSelect:n[29],onRenderValue:n[17],onClassName:n[18],onFocus:n[30],onBlur:n[31],onRenderMenu:n[19],onRenderContextMenu:n[20],onSortModal:n[34],onTransformModal:n[33],onJSONEditorModal:n[35]};return e=new F$({props:i}),n[62](e),{c:function(){Te(e.$$.fragment)},m:function(r,o){Me(e,r,o),t=!0},p:function(r,o){var s={};2&o[0]&&(s.mode=r[1]),1&o[0]&&(s.content=r[0]),4&o[0]&&(s.selection=r[2]),8&o[0]&&(s.readOnly=r[3]),16&o[0]&&(s.indentation=r[4]),32&o[0]&&(s.tabSize=r[5]),256&o[0]&&(s.statusBar=r[8]),512&o[0]&&(s.askToFormat=r[9]),64&o[0]&&(s.mainMenuBar=r[6]),128&o[0]&&(s.navigationBar=r[7]),1024&o[0]&&(s.escapeControlCharacters=r[10]),2048&o[0]&&(s.escapeUnicodeCharacters=r[11]),4096&o[0]&&(s.flattenColumns=r[12]),8192&o[0]&&(s.parser=r[13]),134217728&o[0]&&(s.parseMemoizeOne=r[27]),16384&o[0]&&(s.validator=r[14]),32768&o[0]&&(s.validationParser=r[15]),65536&o[0]&&(s.pathParser=r[16]),2097152&o[0]&&(s.onError=r[21]),131072&o[0]&&(s.onRenderValue=r[17]),262144&o[0]&&(s.onClassName=r[18]),524288&o[0]&&(s.onRenderMenu=r[19]),1048576&o[0]&&(s.onRenderContextMenu=r[20]),e.$set(s)},i:function(r){t||(T(e.$$.fragment,r),t=!0)},o:function(r){D(e.$$.fragment,r),t=!1},d:function(r){n[62](null),Pe(e,r)}}}function bV(n){var e,t,i,r,o,s=n[22];function a(f){n[61](f)}var l={};n[25]!==void 0&&(l.open=n[25]),e=new vV({props:l}),pn.push(function(){return So(e,"open",a)});var c=U_(n);return{c:function(){Te(e.$$.fragment),i=ve(),r=K("div"),c.c(),j(r,"class","jse-main svelte-ybuk0j"),Ie(r,"jse-focus",n[23])},m:function(f,h){Me(e,f,h),ae(f,i,h),ae(f,r,h),c.m(r,null),o=!0},p:function(f,h){var p={};!t&&33554432&h[0]&&(t=!0,p.open=f[25],jo(function(){return t=!1})),e.$set(p),4194304&h[0]&&Yt(s,s=f[22])?(De(),D(c,1,1,Ve),ze(),(c=U_(f)).c(),T(c,1),c.m(r,null)):c.p(f,h),(!o||8388608&h[0])&&Ie(r,"jse-focus",f[23])},i:function(f){o||(T(e.$$.fragment,f),T(c),o=!0)},o:function(f){D(e.$$.fragment,f),D(c),o=!1},d:function(f){f&&(se(i),se(r)),Pe(e,f),c.d(f)}}}function xV(n){var e,t;return e=new MO({props:{closeOnEsc:!1,$$slots:{default:[bV]},$$scope:{ctx:n}}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};201326591&r[0]|8&r[2]&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function wV(n){for(var e,t,i,r=[{show:(e=n[26])===null||e===void 0?void 0:e.component},PN,{closeOnEsc:!1}],o={$$slots:{default:[xV]},$$scope:{ctx:n}},s=0;s<r.length;s+=1)o=Dr(o,r[s]);return(t=new MO({props:o})).$on("close",n[36]),{c:function(){Te(t.$$.fragment)},m:function(a,l){Me(t,a,l),i=!0},p:function(a,l){var c,f=67108864&l[0]?vo(r,[{show:(c=a[26])===null||c===void 0?void 0:c.component},r[1],r[2]]):{};201326591&l[0]|8&l[2]&&(f.$$scope={dirty:l,ctx:a}),t.$set(f)},i:function(a){i||(T(t.$$.fragment,a),i=!0)},o:function(a){D(t.$$.fragment,a),i=!1},d:function(a){Pe(t,a)}}}function kV(n){var e,t;return e=new QO({props:{$$slots:{default:[wV]},$$scope:{ctx:n}}}),{c:function(){Te(e.$$.fragment)},m:function(i,r){Me(e,i,r),t=!0},p:function(i,r){var o={};268435455&r[0]|8&r[2]&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i:function(i){t||(T(e.$$.fragment,i),t=!0)},o:function(i){D(e.$$.fragment,i),t=!1},d:function(i){Pe(e,i)}}}function _V(n,e,t){var i,r,o,s=ar("jsoneditor:JSONEditor"),a=e.content,l=a===void 0?{text:""}:a,c=e.selection,f=c===void 0?null:c,h=e.readOnly,p=h!==void 0&&h,m=e.indentation,g=m===void 0?2:m,v=e.tabSize,b=v===void 0?4:v,x=e.mode,k=x===void 0?pr.tree:x,C=e.mainMenuBar,S=C===void 0||C,_=e.navigationBar,E=_===void 0||_,q=e.statusBar,te=q===void 0||q,G=e.askToFormat,I=G===void 0||G,U=e.escapeControlCharacters,B=U!==void 0&&U,ee=e.escapeUnicodeCharacters,F=ee!==void 0&&ee,ne=e.flattenColumns,re=ne===void 0||ne,R=e.parser,$=R===void 0?JSON:R,N=e.validator,P=N===void 0?null:N,A=e.validationParser,M=A===void 0?JSON:A,Z=e.pathParser,le=Z===void 0?{parse:o9,stringify:zr}:Z,de=e.queryLanguages,xe=de===void 0?[l9]:de,oe=e.queryLanguageId,Be=oe===void 0?xe[0].id:oe,We=e.onChangeQueryLanguage,Ce=We===void 0?ro:We,be=e.onChange,Ze=be===void 0?null:be,Ye=e.onSelect,et=Ye===void 0?ro:Ye,qt=e.onRenderValue,fe=qt===void 0?lB:qt,wt=e.onClassName,tt=wt===void 0?function(){}:wt,ce=e.onRenderMenu,bt=ce===void 0?ro:ce,Bt=e.onRenderContextMenu,ut=Bt===void 0?ro:Bt,Kt=e.onChangeMode,bn=Kt===void 0?ro:Kt,it=e.onError,H=it===void 0?function(we){console.error(we),alert(we.toString())}:it,J=e.onFocus,ie=J===void 0?ro:J,me=e.onBlur,_e=me===void 0?ro:me,Re=pu(),st=!1,Tt=null,Lt=$;function Ln(){return(Ln=Xt(Ge().mark(function we(pt){var nt;return Ge().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(s("set"),!(nt=vm(pt))){W.next=4;break}throw new Error(nt);case 4:return t(22,Re=pu()),W.next=7,Mi();case 7:t(0,l=pt);case 8:case"end":return W.stop()}},we)}))).apply(this,arguments)}function Qt(){return(Qt=Xt(Ge().mark(function we(pt){var nt;return Ge().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(s("update"),!(nt=vm(pt))){W.next=4;break}throw new Error(nt);case 4:return t(0,l=pt),W.next=7,Mi();case 7:case"end":return W.stop()}},we)}))).apply(this,arguments)}function rt(){return(rt=Xt(Ge().mark(function we(pt){var nt;return Ge().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!pc(l)){W.next=8;break}W.prev=1,t(0,l={json:$.parse(l.text),text:void 0}),W.next=8;break;case 5:throw W.prev=5,W.t0=W.catch(1),new Error("Cannot apply patch: current document contains invalid JSON");case 8:return nt=r.patch(pt),W.next=11,Mi();case 11:return W.abrupt("return",nt);case 12:case"end":return W.stop()}},we,null,[[1,5]])}))).apply(this,arguments)}function $n(){return($n=Xt(Ge().mark(function we(pt){return Ge().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return t(2,f=pt),nt.next=3,Mi();case 3:case"end":return nt.stop()}},we)}))).apply(this,arguments)}function oi(){return(oi=Xt(Ge().mark(function we(pt){return Ge().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return r.expand(pt),nt.next=3,Mi();case 3:case"end":return nt.stop()}},we)}))).apply(this,arguments)}function Mn(){return Mn=Xt(Ge().mark(function we(){var pt;return Ge().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return pt=r.acceptAutoRepair(),nt.next=3,Mi();case 3:return nt.abrupt("return",pt);case 4:case"end":return nt.stop()}},we)})),Mn.apply(this,arguments)}function Qn(){return(Qn=Xt(Ge().mark(function we(pt){return Ge().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.next=2,r.scrollTo(pt);case 2:case"end":return nt.stop()}},we)}))).apply(this,arguments)}function Zn(){return ei.apply(this,arguments)}function ei(){return(ei=Xt(Ge().mark(function we(){return Ge().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return r.focus(),pt.next=3,Mi();case 3:case"end":return pt.stop()}},we)}))).apply(this,arguments)}function xn(){return(xn=Xt(Ge().mark(function we(){return Ge().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.next=2,r.refresh();case 2:case"end":return pt.stop()}},we)}))).apply(this,arguments)}function je(){return(je=Xt(Ge().mark(function we(pt){return Ge().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return this.$set(pt),nt.next=3,Mi();case 3:case"end":return nt.stop()}},we,this)}))).apply(this,arguments)}function ot(){return(ot=Xt(Ge().mark(function we(){return Ge().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return this.$destroy(),pt.next=3,Mi();case 3:case"end":return pt.stop()}},we,this)}))).apply(this,arguments)}function Vt(){return(Vt=Xt(Ge().mark(function we(pt){return Ge().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(k!==pt){nt.next=2;break}return nt.abrupt("return");case 2:return t(1,k=pt),nt.next=5,Mi();case 5:return nt.next=7,Zn();case 7:bn(pt);case 8:case"end":return nt.stop()}},we)}))).apply(this,arguments)}function en(we){s("handleChangeQueryLanguage",we),t(37,Be=we),Ce(we)}function tn(we){var pt=we.id,nt=we.json,W=we.rootPath,Q=we.onTransform,ue=we.onClose;p||o(VF,{id:pt,json:nt,rootPath:W,indentation:g,escapeControlCharacters:B,escapeUnicodeCharacters:F,parser:$,parseMemoizeOne:i,validationParser:M,pathParser:le,queryLanguages:xe,queryLanguageId:Be,onChangeQueryLanguage:en,onRenderValue:fe,onRenderMenu:bt,onRenderContextMenu:ut,onClassName:tt,onTransform:Q},MN,{onClose:ue})}function rn(we){var pt=we.id,nt=we.json,W=we.rootPath,Q=we.onSort,ue=we.onClose;p||o(JF,{id:pt,json:nt,rootPath:W,onSort:Q},$N,{onClose:ue})}return n.$$set=function(we){"content"in we&&t(0,l=we.content),"selection"in we&&t(2,f=we.selection),"readOnly"in we&&t(3,p=we.readOnly),"indentation"in we&&t(4,g=we.indentation),"tabSize"in we&&t(5,b=we.tabSize),"mode"in we&&t(1,k=we.mode),"mainMenuBar"in we&&t(6,S=we.mainMenuBar),"navigationBar"in we&&t(7,E=we.navigationBar),"statusBar"in we&&t(8,te=we.statusBar),"askToFormat"in we&&t(9,I=we.askToFormat),"escapeControlCharacters"in we&&t(10,B=we.escapeControlCharacters),"escapeUnicodeCharacters"in we&&t(11,F=we.escapeUnicodeCharacters),"flattenColumns"in we&&t(12,re=we.flattenColumns),"parser"in we&&t(13,$=we.parser),"validator"in we&&t(14,P=we.validator),"validationParser"in we&&t(15,M=we.validationParser),"pathParser"in we&&t(16,le=we.pathParser),"queryLanguages"in we&&t(38,xe=we.queryLanguages),"queryLanguageId"in we&&t(37,Be=we.queryLanguageId),"onChangeQueryLanguage"in we&&t(39,Ce=we.onChangeQueryLanguage),"onChange"in we&&t(40,Ze=we.onChange),"onSelect"in we&&t(41,et=we.onSelect),"onRenderValue"in we&&t(17,fe=we.onRenderValue),"onClassName"in we&&t(18,tt=we.onClassName),"onRenderMenu"in we&&t(19,bt=we.onRenderMenu),"onRenderContextMenu"in we&&t(20,ut=we.onRenderContextMenu),"onChangeMode"in we&&t(42,bn=we.onChangeMode),"onError"in we&&t(21,H=we.onError),"onFocus"in we&&t(43,ie=we.onFocus),"onBlur"in we&&t(44,_e=we.onBlur)},n.$$.update=function(){if(8193&n.$$.dirty[0]|536870912&n.$$.dirty[1]&&!HN($,Lt)){if(s("parser changed, recreate editor"),_s(l)){var we=Lt.stringify(l.json);t(0,l={json:we!==void 0?$.parse(we):void 0})}t(60,Lt=$),t(22,Re=pu())}if(1&n.$$.dirty[0]){var pt=vm(l);pt&&console.error("Error: "+pt)}8192&n.$$.dirty[0]&&t(27,i=Ju($.parse)),2&n.$$.dirty[0]&&(s("mode changed to",k),k==="code"&&console.warn('Deprecation warning: "code" mode is renamed to "text". Please use mode="text" instead.'))},[l,k,f,p,g,b,S,E,te,I,B,F,re,$,P,M,le,fe,tt,bt,ut,H,Re,st,r,o,Tt,i,function(we,pt,nt){t(0,l=we),Ze&&Ze(we,pt,nt)},function(we){t(2,f=we),et(we)},function(){t(23,st=!0),ie&&ie()},function(){t(23,st=!1),_e&&_e()},function(we){return Vt.apply(this,arguments)},tn,rn,function(we){var pt=we.content,nt=we.path,W=we.onPatch,Q=we.onClose;s("onJSONEditorModal",{content:pt,path:nt}),t(26,Tt={component:$O(mV,{content:pt,path:nt,onPatch:W,readOnly:p,indentation:g,tabSize:b,mainMenuBar:S,navigationBar:E,statusBar:te,askToFormat:I,escapeControlCharacters:B,escapeUnicodeCharacters:F,flattenColumns:re,parser:$,validator:void 0,validationParser:M,pathParser:le,onRenderValue:fe,onClassName:tt,onRenderMenu:bt,onRenderContextMenu:ut,onSortModal:rn,onTransformModal:tn}),callbacks:{onClose:Q}})},function(){var we,pt;(we=Tt)===null||we===void 0||(we=we.callbacks)===null||we===void 0||(pt=we.onClose)===null||pt===void 0||pt.call(we),t(26,Tt=null)},Be,xe,Ce,Ze,et,bn,ie,_e,function(){return l},function(we){return Ln.apply(this,arguments)},function(we){return Qt.apply(this,arguments)},function(we){return rt.apply(this,arguments)},function(we){return $n.apply(this,arguments)},function(we){return oi.apply(this,arguments)},function(we){r.transform(we)},function(){return r.validate()},function(){return Mn.apply(this,arguments)},function(we){return Qn.apply(this,arguments)},function(we){return r.findElement(we)},Zn,function(){return xn.apply(this,arguments)},function(we){return je.apply(this,arguments)},function(){return ot.apply(this,arguments)},Lt,function(we){t(25,o=we)},function(we){pn[we?"unshift":"push"](function(){t(24,r=we)})}]}var jV=function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,_V,kV,Yt,{content:0,selection:2,readOnly:3,indentation:4,tabSize:5,mode:1,mainMenuBar:6,navigationBar:7,statusBar:8,askToFormat:9,escapeControlCharacters:10,escapeUnicodeCharacters:11,flattenColumns:12,parser:13,validator:14,validationParser:15,pathParser:16,queryLanguages:38,queryLanguageId:37,onChangeQueryLanguage:39,onChange:40,onSelect:41,onRenderValue:17,onClassName:18,onRenderMenu:19,onRenderContextMenu:20,onChangeMode:42,onError:21,onFocus:43,onBlur:44,get:45,set:46,update:47,patch:48,select:49,expand:50,transform:51,validate:52,acceptAutoRepair:53,scrollTo:54,findElement:55,focus:56,refresh:57,updateProps:58,destroy:59},yV,[-1,-1,-1]),r}return ct(t,[{key:"get",get:function(){return this.$$.ctx[45]}},{key:"set",get:function(){return this.$$.ctx[46]}},{key:"update",get:function(){return this.$$.ctx[47]}},{key:"patch",get:function(){return this.$$.ctx[48]}},{key:"select",get:function(){return this.$$.ctx[49]}},{key:"expand",get:function(){return this.$$.ctx[50]}},{key:"transform",get:function(){return this.$$.ctx[51]}},{key:"validate",get:function(){return this.$$.ctx[52]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[53]}},{key:"scrollTo",get:function(){return this.$$.ctx[54]}},{key:"findElement",get:function(){return this.$$.ctx[55]}},{key:"focus",get:function(){return this.$$.ctx[56]}},{key:"refresh",get:function(){return this.$$.ctx[57]}},{key:"updateProps",get:function(){return this.$$.ctx[58]}},{key:"destroy",get:function(){return this.$$.ctx[59]}}]),t}();function SV(n){Gt(n,"svelte-9wp3tj",".jse-value.jse-string.svelte-9wp3tj{color:var(--jse-value-color-string, #008000)}.jse-value.jse-object.svelte-9wp3tj,.jse-value.jse-array.svelte-9wp3tj{min-width:16px;color:var(--jse-delimiter-color, rgba(0, 0, 0, 0.38))}.jse-value.jse-number.svelte-9wp3tj{color:var(--jse-value-color-number, #ee422e)}.jse-value.jse-boolean.svelte-9wp3tj{color:var(--jse-value-color-boolean, #ff8c00)}.jse-value.jse-null.svelte-9wp3tj{color:var(--jse-value-color-null, #004ed0)}.jse-value.jse-invalid.svelte-9wp3tj{color:var(--jse-text-color, #4d4d4d)}.jse-value.jse-url.svelte-9wp3tj{color:var(--jse-value-color-url, #008000);text-decoration:underline}.jse-enum-value.svelte-9wp3tj{background:var(--jse-hover-background-color, rgba(0, 0, 0, 0.06));border:none;padding:0;font-family:inherit;font-size:inherit;cursor:pointer;outline:none}.jse-enum-value.jse-selected.svelte-9wp3tj{background:var(--jse-selection-background-color, #d3d3d3);color:inherit}.jse-enum-value.jse-value.svelte-9wp3tj:focus{color:var(--jse-text-color, #4d4d4d)}.jse-json-node.jse-selected .jse-enum-value.svelte-9wp3tj{background:transparent}")}function Q_(n,e,t){var i=n.slice();return i[13]=e[t],i}function Z_(n){var e,t,i,r=n[13].text+"";return{c:function(){e=K("option"),t=Xe(r),e.__value=i=n[13].value,as(e,e.__value)},m:function(o,s){ae(o,e,s),z(e,t)},p:function(o,s){4&s&&r!==(r=o[13].text+"")&&Dt(t,r),4&s&&i!==(i=o[13].value)&&(e.__value=i,as(e,e.__value))},d:function(o){o&&se(e)}}}function CV(n){for(var e,t,i,r,o=Zt(n[2]),s=[],a=0;a<o.length;a+=1)s[a]=Z_(Q_(n,o,a));return{c:function(){e=K("select");for(var l=0;l<s.length;l+=1)s[l].c();j(e,"class",t=fi("jse-enum-value ".concat(Hu(n[4],n[0])))+" svelte-9wp3tj"),n[4]===void 0&&Ya(function(){return n[10].call(e)}),Ie(e,"jse-selected",_n(n[1]))},m:function(l,c){ae(l,e,c);for(var f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);tw(e,n[4],!0),n[11](e),i||(r=[Ne(e,"change",n[10]),Ne(e,"change",n[5]),Ne(e,"mousedown",OV)],i=!0)},p:function(l,c){var f=Jt(c,1)[0];if(4&f){var h;for(o=Zt(l[2]),h=0;h<o.length;h+=1){var p=Q_(l,o,h);s[h]?s[h].p(p,f):(s[h]=Z_(p),s[h].c(),s[h].m(e,null))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}17&f&&t!==(t=fi("jse-enum-value ".concat(Hu(l[4],l[0])))+" svelte-9wp3tj")&&j(e,"class",t),16&f&&tw(e,l[4]),19&f&&Ie(e,"jse-selected",_n(l[1]))},i:Ve,o:Ve,d:function(l){l&&se(e),Ri(s,l),n[11](null),i=!1,Yn(r)}}}function OV(n){n.stopPropagation()}function $V(n,e,t){var i,r=e.path,o=e.value,s=e.parser,a=e.readOnly,l=e.selection,c=e.onPatch,f=e.options,h=o;return n.$$set=function(p){"path"in p&&t(6,r=p.path),"value"in p&&t(7,o=p.value),"parser"in p&&t(0,s=p.parser),"readOnly"in p&&t(8,a=p.readOnly),"selection"in p&&t(1,l=p.selection),"onPatch"in p&&t(9,c=p.onPatch),"options"in p&&t(2,f=p.options)},n.$$.update=function(){128&n.$$.dirty&&t(4,h=o),2&n.$$.dirty&&function(p){p&&i&&i.focus()}(l)},[s,l,f,i,h,function(p){p.stopPropagation(),a||c([{op:"replace",path:at(r),value:h}])},r,o,a,c,function(){var p;p=this.querySelector(":checked"),h=p&&p.__value,t(4,h),t(7,o)},function(p){pn[p?"unshift":"push"](function(){t(3,i=p),t(2,f)})}]}(function(n){jt(t,Pt);var e=St(t);function t(i){var r;return lt(this,t),Mt(Ot(r=e.call(this)),i,$V,CV,Yt,{path:6,value:7,parser:0,readOnly:8,selection:1,onPatch:9,options:2},SV),r}return ct(t)})();function MV(n,e=2){if(n===0)return"0 Bytes";const t=1024,i=e<0?0:e,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,o)).toFixed(i))+" "+r[o]}const qr=n=>(S8("data-v-65536fbe"),n=n(),C8(),n),PV={key:0,class:"json-editor-menu"},TV={key:0,class:"editorTitle"},EV=qr(()=>Kn("span",{class:"buttonWithIcon"},[Kn("span",{class:"i-icon-park-outline-file-addition-one"}),Ur(" 新建")],-1)),AV=qr(()=>Kn("span",{class:"buttonWithIcon"},[Kn("span",{class:"i-icon-park-outline-history"}),Ur(" 打开最近记录")],-1)),RV=qr(()=>Kn("span",{class:"buttonWithIcon"},[Kn("span",{class:"i-icon-park-outline-computer"}),Ur(" 打开本地文件")],-1)),LV=qr(()=>Kn("span",{class:"buttonWithIcon"},[Kn("span",{class:"i-icon-park-outline-folder-open"}),Ur(" 打开"),Kn("span",{class:"i-icon-park-outline-down"})],-1)),IV=qr(()=>Kn("span",{class:"buttonWithIcon"},[Kn("span",{class:"i-icon-park-outline-save"}),Ur(" 保存")],-1)),NV={class:"buttonWithIcon"},BV=qr(()=>Kn("span",{class:"i-icon-park-outline-indent-right"},null,-1)),DV=qr(()=>Kn("span",{class:"buttonWithIcon"},[Kn("span",{class:"i-icon-park-outline-info"}),Ur(" 文档属性")],-1)),zV=qr(()=>Kn("span",{class:"buttonWithIcon"},[Kn("span",{class:"i-icon-park-outline-delete"}),Ur(" 删除文档")],-1)),qV=qr(()=>Kn("span",{class:"buttonWithIcon"},[Kn("span",{class:"i-icon-park-outline-setting-two"}),Ur(" 选项"),Kn("span",{class:"i-icon-park-outline-down"})],-1)),FV={class:"dialog-footer"},HV=qr(()=>Kn("strong",null,"名称：",-1)),VV=qr(()=>Kn("strong",null,"存储：",-1)),WV=qr(()=>Kn("strong",null,"更新：",-1)),UV=qr(()=>Kn("strong",null,"内容：",-1)),QV=qr(()=>Kn("strong",null,"大小：",-1)),ZV=nj({__name:"VanillaJsonEditor",props:{content:{default:void 0},config:{default:()=>({mode:"text"})},showMenuBar:{type:Boolean,default:!1},name:{default:""}},emits:["change","create","changeName","open","openRecent","delete"],setup(n,{expose:e,emit:t}){const i=["content","mode","mainMenuBar","navigationBar","statusBar","readOnly","indentation","tabSize","escapeControlCharacters","escapeUnicodeCharacters","validator","onError","onChange","onChangeMode","onClassName","onRenderValue","onRenderMenu","queryLanguages","queryLanguageId","onChangeQueryLanguage","onFocus","onBlur"],r=Vo(),o=Vo(),s=Vo();let a;const l=Vo(""),c=Vo(2),f=Vo(!1),h=Vo(!1),p=Vo(!1),m=Vo(""),g=d8(()=>{if(h){const N=a.get();let P,A;return _s(N)?A=N.json:A=N.text,typeof A=="string"?P="字符串类型":Array.isArray(A)?P=`数组类型，包含 ${A.length} 个对象`:A&&typeof A=="object"?P=`对象类型，包含 ${Object.keys(A).length} 个属性`:P="其他类型",{name:l.value,storage:l.value?"浏览器本地":"",updated:"",content:P,size:MV(typeof A=="string"?A.length:JSON.stringify(A,null,c.value).length)}}else return{}}),v=t;let b=!1;e({container:o,update:E,set:q,refresh:G,get:te});const x=n;let k={};ij(()=>{r.value&&(k=Rl(x.config),a=new jV({target:r.value,props:{content:{json:{}},onChange:N=>{b||(_s(N)?v("change",N.json):v("change",N.text))},indentation:c.value,...$(k,i)}}),x.config.indentation&&(c.value=x.config.indentation))}),p8(()=>{a==null||a.destroy()}),yv(()=>Hl().isDark,()=>{a==null||a.refresh()}),m8(()=>{let N=!1;for(const P in x.config)if(x.config[P]!==k[P]){N=!0;break}N&&(k=Rl(x.config),a==null||a.updateProps($(k,i))),x.content!=null&&E(x.content),l.value=x.name,a==null||a.refresh()});function C(){a.set({json:{}}),v("create")}function S(N){var P;switch(N){case"file":(P=s.value)==null||P.click();break;case"recent":v("openRecent");break}}function _(N){const P=N.target;if(P.files&&P.files.length){const A=P.files[0],M=new FileReader;M.onload=()=>{M.result&&v("open",{name:A.name,content:M.result})},M.readAsText(A)}P.value=""}function E(N){b=!0;let P;N!=null&&(typeof N=="string"?P=N:P=JSON.stringify(N,null,c.value),a.update({text:P})),setTimeout(()=>{b=!1},0)}function q(N){b=!0,N!=null&&(typeof N=="string"?a.set({text:N}):a.set({json:N})),setTimeout(()=>{b=!1},0)}function te(){const N=a.get();return _s(N)?N.json:N.text}function G(){a==null||a.refresh()}function I(){const N=a.get(),P=l.value?l.value+".json":"未命名.json";_s(N)?jx(JSON.stringify(N.json),P):jx(N.text,P)}let U=c.value;function B(N){switch(N){case"indentation":U=c.value,f.value=!0;break;case"properties":h.value=!0;break;case"delete":v("delete");break}}function ee(){c.value=U,f.value=!1}function F(){a.updateProps({indentation:c.value}),f.value=!1}function ne(){m.value=l.value,p.value=!0}function re(){p.value=!1}function R(){m.value&&v("changeName",m.value),p.value=!1}function $(N,P){const A={};for(const M of P)N[M]!==void 0&&(A[M]=N[M]);return A}return(N,P)=>{const A=y8,M=b8,Z=x8,le=w8,de=k8,xe=_8,oe=O8,Be=j8,We=$8;return Zc(),kh("div",{ref_key:"container",ref:o,class:"json-editor-wrapper"},[N.showMenuBar?(Zc(),kh("div",PV,[Wi(l)&&!Wi(p)?(Zc(),kh("div",TV,[Ur(hy(Wi(l))+" ",1),Kn("i",{class:"i-icon-park-outline-edit",onClick:ne})])):Rp("",!0),Wi(p)?(Zc(),g8(A,{key:1,modelValue:Wi(m),"onUpdate:modelValue":P[0]||(P[0]=Ce=>Sf(m)?m.value=Ce:null),class:"name-editor",placeholder:"请输入名称"},{suffix:ai(()=>[Kn("i",{class:"i-icon-park-outline-close",onClick:re}),Kn("i",{class:"i-icon-park-outline-check",onClick:R})]),_:1},8,["modelValue"])):Rp("",!0),ii(xe,{class:"editorControlButtons"},{default:ai(()=>[ii(M,{size:"small",type:"primary",onClick:C},{default:ai(()=>[EV]),_:1}),ii(de,{onCommand:S},{dropdown:ai(()=>[ii(le,null,{default:ai(()=>[ii(Z,{command:"recent"},{default:ai(()=>[AV]),_:1}),ii(Z,{command:"file"},{default:ai(()=>[RV]),_:1})]),_:1})]),default:ai(()=>[ii(M,{size:"small",type:"primary"},{default:ai(()=>[LV]),_:1})]),_:1}),ii(M,{size:"small",type:"primary",onClick:I},{default:ai(()=>[IV]),_:1}),ii(de,{onCommand:B},{dropdown:ai(()=>[ii(le,null,{default:ai(()=>[ii(Z,{command:"indentation"},{default:ai(()=>[Kn("span",NV,[BV,Ur(" 缩进("+hy(Wi(c))+")",1)])]),_:1}),ii(Z,{command:"properties"},{default:ai(()=>[DV]),_:1}),ii(Z,{command:"delete"},{default:ai(()=>[zV]),_:1})]),_:1})]),default:ai(()=>[ii(M,{size:"small",type:"primary"},{default:ai(()=>[qV]),_:1})]),_:1})]),_:1})])):Rp("",!0),Kn("div",{ref_key:"jsonEditorDiv",ref:r,class:v8(["json-editor",{"jse-theme-dark":Wi(Hl)().isDark}])},null,2),bl(Kn("input",{ref_key:"uploader",ref:s,type:"file",accept:".json,.geojson,.txt",onChange:_},null,544),[[xl,!1]]),ii(Be,{modelValue:Wi(f),"onUpdate:modelValue":P[2]||(P[2]=Ce=>Sf(f)?f.value=Ce:null),title:"设置缩进","before-close":ee},{footer:ai(()=>[Kn("span",FV,[ii(M,{onClick:ee},{default:ai(()=>[Ur("取消")]),_:1}),ii(M,{type:"primary",onClick:F},{default:ai(()=>[Ur(" 确定 ")]),_:1})])]),default:ai(()=>[ii(oe,null,{default:ai(()=>[Ur("配置代码模式下用于缩进的空格数。 缩进同时应用于两个面板。")]),_:1}),ii(A,{modelValue:Wi(c),"onUpdate:modelValue":P[1]||(P[1]=Ce=>Sf(c)?c.value=Ce:null),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["modelValue"]),ii(Be,{modelValue:Wi(h),"onUpdate:modelValue":P[3]||(P[3]=Ce=>Sf(h)?h.value=Ce:null),title:"文档属性",class:"documentProperties"},{default:ai(()=>[ii(oe,null,{default:ai(()=>[HV,bl(ii(We,{content:Wi(g).name},null,8,["content"]),[[xl,Wi(g).name]])]),_:1}),ii(oe,null,{default:ai(()=>[VV,bl(ii(We,{content:Wi(g).storage},null,8,["content"]),[[xl,Wi(g).storage]])]),_:1}),ii(oe,null,{default:ai(()=>[WV,bl(ii(We,{content:Wi(g).updated},null,8,["content"]),[[xl,Wi(g).updated]])]),_:1}),ii(oe,null,{default:ai(()=>[UV,bl(ii(We,{content:Wi(g).content},null,8,["content"]),[[xl,Wi(g).content]])]),_:1}),ii(oe,null,{default:ai(()=>[QV,bl(ii(We,{content:Wi(g).size},null,8,["content"]),[[xl,Wi(g).size]])]),_:1})]),_:1},8,["modelValue"])],512)}}}),fU=rj(ZV,[["__scopeId","data-v-65536fbe"]]);function V$(n){return n instanceof Map?n.clear=n.delete=n.set=function(){throw new Error("map is read-only")}:n instanceof Set&&(n.add=n.clear=n.delete=function(){throw new Error("set is read-only")}),Object.freeze(n),Object.getOwnPropertyNames(n).forEach(e=>{const t=n[e],i=typeof t;(i==="object"||i==="function")&&!Object.isFrozen(t)&&V$(t)}),n}class J_{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function W$(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function ra(n,...e){const t=Object.create(null);for(const i in n)t[i]=n[i];return e.forEach(function(i){for(const r in i)t[r]=i[r]}),t}const JV="</span>",G_=n=>!!n.scope,GV=(n,{prefix:e})=>{if(n.startsWith("language:"))return n.replace("language:","language-");if(n.includes(".")){const t=n.split(".");return[`${e}${t.shift()}`,...t.map((i,r)=>`${i}${"_".repeat(r+1)}`)].join(" ")}return`${e}${n}`};class KV{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=W$(e)}openNode(e){if(!G_(e))return;const t=GV(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){G_(e)&&(this.buffer+=JV)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const K_=(n={})=>{const e={children:[]};return Object.assign(e,n),e};class O1{constructor(){this.rootNode=K_(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=K_({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return typeof t=="string"?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(i=>this._walk(e,i)),e.closeNode(t)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(t=>typeof t=="string")?e.children=[e.children.join("")]:e.children.forEach(t=>{O1._collapse(t)}))}}class XV extends O1{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const i=e.root;t&&(i.scope=`language:${t}`),this.add(i)}toHTML(){return new KV(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Qu(n){return n?typeof n=="string"?n:n.source:null}function U$(n){return fl("(?=",n,")")}function YV(n){return fl("(?:",n,")*")}function eW(n){return fl("(?:",n,")?")}function fl(...n){return n.map(t=>Qu(t)).join("")}function tW(n){const e=n[n.length-1];return typeof e=="object"&&e.constructor===Object?(n.splice(n.length-1,1),e):{}}function $1(...n){return"("+(tW(n).capture?"":"?:")+n.map(i=>Qu(i)).join("|")+")"}function Q$(n){return new RegExp(n.toString()+"|").exec("").length-1}function nW(n,e){const t=n&&n.exec(e);return t&&t.index===0}const iW=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function M1(n,{joinWith:e}){let t=0;return n.map(i=>{t+=1;const r=t;let o=Qu(i),s="";for(;o.length>0;){const a=iW.exec(o);if(!a){s+=o;break}s+=o.substring(0,a.index),o=o.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?s+="\\"+String(Number(a[1])+r):(s+=a[0],a[0]==="("&&t++)}return s}).map(i=>`(${i})`).join(e)}const rW=/\b\B/,Z$="[a-zA-Z]\\w*",P1="[a-zA-Z_]\\w*",J$="\\b\\d+(\\.\\d+)?",G$="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",K$="\\b(0b[01]+)",oW="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",sW=(n={})=>{const e=/^#![ ]*\//;return n.binary&&(n.begin=fl(e,/.*\b/,n.binary,/\b.*/)),ra({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,i)=>{t.index!==0&&i.ignoreMatch()}},n)},Zu={begin:"\\\\[\\s\\S]",relevance:0},aW={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Zu]},lW={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Zu]},cW={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},wp=function(n,e,t={}){const i=ra({scope:"comment",begin:n,end:e,contains:[]},t);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const r=$1("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:fl(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},uW=wp("//","$"),fW=wp("/\\*","\\*/"),hW=wp("#","$"),dW={scope:"number",begin:J$,relevance:0},pW={scope:"number",begin:G$,relevance:0},mW={scope:"number",begin:K$,relevance:0},gW={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Zu,{begin:/\[/,end:/\]/,relevance:0,contains:[Zu]}]},vW={scope:"title",begin:Z$,relevance:0},yW={scope:"title",begin:P1,relevance:0},bW={begin:"\\.\\s*"+P1,relevance:0},xW=function(n){return Object.assign(n,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var wh=Object.freeze({__proto__:null,APOS_STRING_MODE:aW,BACKSLASH_ESCAPE:Zu,BINARY_NUMBER_MODE:mW,BINARY_NUMBER_RE:K$,COMMENT:wp,C_BLOCK_COMMENT_MODE:fW,C_LINE_COMMENT_MODE:uW,C_NUMBER_MODE:pW,C_NUMBER_RE:G$,END_SAME_AS_BEGIN:xW,HASH_COMMENT_MODE:hW,IDENT_RE:Z$,MATCH_NOTHING_RE:rW,METHOD_GUARD:bW,NUMBER_MODE:dW,NUMBER_RE:J$,PHRASAL_WORDS_MODE:cW,QUOTE_STRING_MODE:lW,REGEXP_MODE:gW,RE_STARTERS_RE:oW,SHEBANG:sW,TITLE_MODE:vW,UNDERSCORE_IDENT_RE:P1,UNDERSCORE_TITLE_MODE:yW});function wW(n,e){n.input[n.index-1]==="."&&e.ignoreMatch()}function kW(n,e){n.className!==void 0&&(n.scope=n.className,delete n.className)}function _W(n,e){e&&n.beginKeywords&&(n.begin="\\b("+n.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",n.__beforeBegin=wW,n.keywords=n.keywords||n.beginKeywords,delete n.beginKeywords,n.relevance===void 0&&(n.relevance=0))}function jW(n,e){Array.isArray(n.illegal)&&(n.illegal=$1(...n.illegal))}function SW(n,e){if(n.match){if(n.begin||n.end)throw new Error("begin & end are not supported with match");n.begin=n.match,delete n.match}}function CW(n,e){n.relevance===void 0&&(n.relevance=1)}const OW=(n,e)=>{if(!n.beforeMatch)return;if(n.starts)throw new Error("beforeMatch cannot be used with starts");const t=Object.assign({},n);Object.keys(n).forEach(i=>{delete n[i]}),n.keywords=t.keywords,n.begin=fl(t.beforeMatch,U$(t.begin)),n.starts={relevance:0,contains:[Object.assign(t,{endsParent:!0})]},n.relevance=0,delete t.beforeMatch},$W=["of","and","for","in","not","or","if","then","parent","list","value"],MW="keyword";function X$(n,e,t=MW){const i=Object.create(null);return typeof n=="string"?r(t,n.split(" ")):Array.isArray(n)?r(t,n):Object.keys(n).forEach(function(o){Object.assign(i,X$(n[o],e,o))}),i;function r(o,s){e&&(s=s.map(a=>a.toLowerCase())),s.forEach(function(a){const l=a.split("|");i[l[0]]=[o,PW(l[0],l[1])]})}}function PW(n,e){return e?Number(e):TW(n)?0:1}function TW(n){return $W.includes(n.toLowerCase())}const X_={},Ua=n=>{console.error(n)},Y_=(n,...e)=>{console.log(`WARN: ${n}`,...e)},Ol=(n,e)=>{X_[`${n}/${e}`]||(console.log(`Deprecated as of ${n}. ${e}`),X_[`${n}/${e}`]=!0)},Dd=new Error;function Y$(n,e,{key:t}){let i=0;const r=n[t],o={},s={};for(let a=1;a<=e.length;a++)s[a+i]=r[a],o[a+i]=!0,i+=Q$(e[a-1]);n[t]=s,n[t]._emit=o,n[t]._multi=!0}function EW(n){if(Array.isArray(n.begin)){if(n.skip||n.excludeBegin||n.returnBegin)throw Ua("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Dd;if(typeof n.beginScope!="object"||n.beginScope===null)throw Ua("beginScope must be object"),Dd;Y$(n,n.begin,{key:"beginScope"}),n.begin=M1(n.begin,{joinWith:""})}}function AW(n){if(Array.isArray(n.end)){if(n.skip||n.excludeEnd||n.returnEnd)throw Ua("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Dd;if(typeof n.endScope!="object"||n.endScope===null)throw Ua("endScope must be object"),Dd;Y$(n,n.end,{key:"endScope"}),n.end=M1(n.end,{joinWith:""})}}function RW(n){n.scope&&typeof n.scope=="object"&&n.scope!==null&&(n.beginScope=n.scope,delete n.scope)}function LW(n){RW(n),typeof n.beginScope=="string"&&(n.beginScope={_wrap:n.beginScope}),typeof n.endScope=="string"&&(n.endScope={_wrap:n.endScope}),EW(n),AW(n)}function IW(n){function e(s,a){return new RegExp(Qu(s),"m"+(n.case_insensitive?"i":"")+(n.unicodeRegex?"u":"")+(a?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=Q$(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(l=>l[1]);this.matcherRe=e(M1(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(a);if(!l)return null;const c=l.findIndex((h,p)=>p>0&&h!==void 0),f=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,f)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const l=new t;return this.rules.slice(a).forEach(([c,f])=>l.addRule(c,f)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(a);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const f=this.getMatcher(0);f.lastIndex=this.lastIndex+1,c=f.exec(a)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function r(s){const a=new i;return s.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),s.terminatorEnd&&a.addRule(s.terminatorEnd,{type:"end"}),s.illegal&&a.addRule(s.illegal,{type:"illegal"}),a}function o(s,a){const l=s;if(s.isCompiled)return l;[kW,SW,LW,OW].forEach(f=>f(s,a)),n.compilerExtensions.forEach(f=>f(s,a)),s.__beforeBegin=null,[_W,jW,CW].forEach(f=>f(s,a)),s.isCompiled=!0;let c=null;return typeof s.keywords=="object"&&s.keywords.$pattern&&(s.keywords=Object.assign({},s.keywords),c=s.keywords.$pattern,delete s.keywords.$pattern),c=c||/\w+/,s.keywords&&(s.keywords=X$(s.keywords,n.case_insensitive)),l.keywordPatternRe=e(c,!0),a&&(s.begin||(s.begin=/\B|\b/),l.beginRe=e(l.begin),!s.end&&!s.endsWithParent&&(s.end=/\B|\b/),s.end&&(l.endRe=e(l.end)),l.terminatorEnd=Qu(l.end)||"",s.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(s.end?"|":"")+a.terminatorEnd)),s.illegal&&(l.illegalRe=e(s.illegal)),s.contains||(s.contains=[]),s.contains=[].concat(...s.contains.map(function(f){return NW(f==="self"?s:f)})),s.contains.forEach(function(f){o(f,l)}),s.starts&&o(s.starts,a),l.matcher=r(l),l}if(n.compilerExtensions||(n.compilerExtensions=[]),n.contains&&n.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return n.classNameAliases=ra(n.classNameAliases||{}),o(n)}function e3(n){return n?n.endsWithParent||e3(n.starts):!1}function NW(n){return n.variants&&!n.cachedVariants&&(n.cachedVariants=n.variants.map(function(e){return ra(n,{variants:null},e)})),n.cachedVariants?n.cachedVariants:e3(n)?ra(n,{starts:n.starts?ra(n.starts):null}):Object.isFrozen(n)?ra(n):n}var BW="11.9.0";class DW extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const Em=W$,ej=ra,tj=Symbol("nomatch"),zW=7,t3=function(n){const e=Object.create(null),t=Object.create(null),i=[];let r=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:XV};function l(R){return a.noHighlightRe.test(R)}function c(R){let $=R.className+" ";$+=R.parentNode?R.parentNode.className:"";const N=a.languageDetectRe.exec($);if(N){const P=G(N[1]);return P||(Y_(o.replace("{}",N[1])),Y_("Falling back to no-highlight mode for this block.",R)),P?N[1]:"no-highlight"}return $.split(/\s+/).find(P=>l(P)||G(P))}function f(R,$,N){let P="",A="";typeof $=="object"?(P=R,N=$.ignoreIllegals,A=$.language):(Ol("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ol("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),A=R,P=$),N===void 0&&(N=!0);const M={code:P,language:A};ne("before:highlight",M);const Z=M.result?M.result:h(M.language,M.code,N);return Z.code=M.code,ne("after:highlight",Z),Z}function h(R,$,N,P){const A=Object.create(null);function M(J,ie){return J.keywords[ie]}function Z(){if(!ce.keywords){Bt.addText(ut);return}let J=0;ce.keywordPatternRe.lastIndex=0;let ie=ce.keywordPatternRe.exec(ut),me="";for(;ie;){me+=ut.substring(J,ie.index);const _e=fe.case_insensitive?ie[0].toLowerCase():ie[0],Re=M(ce,_e);if(Re){const[st,Tt]=Re;if(Bt.addText(me),me="",A[_e]=(A[_e]||0)+1,A[_e]<=zW&&(Kt+=Tt),st.startsWith("_"))me+=ie[0];else{const Lt=fe.classNameAliases[st]||st;xe(ie[0],Lt)}}else me+=ie[0];J=ce.keywordPatternRe.lastIndex,ie=ce.keywordPatternRe.exec(ut)}me+=ut.substring(J),Bt.addText(me)}function le(){if(ut==="")return;let J=null;if(typeof ce.subLanguage=="string"){if(!e[ce.subLanguage]){Bt.addText(ut);return}J=h(ce.subLanguage,ut,!0,bt[ce.subLanguage]),bt[ce.subLanguage]=J._top}else J=m(ut,ce.subLanguage.length?ce.subLanguage:null);ce.relevance>0&&(Kt+=J.relevance),Bt.__addSublanguage(J._emitter,J.language)}function de(){ce.subLanguage!=null?le():Z(),ut=""}function xe(J,ie){J!==""&&(Bt.startScope(ie),Bt.addText(J),Bt.endScope())}function oe(J,ie){let me=1;const _e=ie.length-1;for(;me<=_e;){if(!J._emit[me]){me++;continue}const Re=fe.classNameAliases[J[me]]||J[me],st=ie[me];Re?xe(st,Re):(ut=st,Z(),ut=""),me++}}function Be(J,ie){return J.scope&&typeof J.scope=="string"&&Bt.openNode(fe.classNameAliases[J.scope]||J.scope),J.beginScope&&(J.beginScope._wrap?(xe(ut,fe.classNameAliases[J.beginScope._wrap]||J.beginScope._wrap),ut=""):J.beginScope._multi&&(oe(J.beginScope,ie),ut="")),ce=Object.create(J,{parent:{value:ce}}),ce}function We(J,ie,me){let _e=nW(J.endRe,me);if(_e){if(J["on:end"]){const Re=new J_(J);J["on:end"](ie,Re),Re.isMatchIgnored&&(_e=!1)}if(_e){for(;J.endsParent&&J.parent;)J=J.parent;return J}}if(J.endsWithParent)return We(J.parent,ie,me)}function Ce(J){return ce.matcher.regexIndex===0?(ut+=J[0],1):(H=!0,0)}function be(J){const ie=J[0],me=J.rule,_e=new J_(me),Re=[me.__beforeBegin,me["on:begin"]];for(const st of Re)if(st&&(st(J,_e),_e.isMatchIgnored))return Ce(ie);return me.skip?ut+=ie:(me.excludeBegin&&(ut+=ie),de(),!me.returnBegin&&!me.excludeBegin&&(ut=ie)),Be(me,J),me.returnBegin?0:ie.length}function Ze(J){const ie=J[0],me=$.substring(J.index),_e=We(ce,J,me);if(!_e)return tj;const Re=ce;ce.endScope&&ce.endScope._wrap?(de(),xe(ie,ce.endScope._wrap)):ce.endScope&&ce.endScope._multi?(de(),oe(ce.endScope,J)):Re.skip?ut+=ie:(Re.returnEnd||Re.excludeEnd||(ut+=ie),de(),Re.excludeEnd&&(ut=ie));do ce.scope&&Bt.closeNode(),!ce.skip&&!ce.subLanguage&&(Kt+=ce.relevance),ce=ce.parent;while(ce!==_e.parent);return _e.starts&&Be(_e.starts,J),Re.returnEnd?0:ie.length}function Ye(){const J=[];for(let ie=ce;ie!==fe;ie=ie.parent)ie.scope&&J.unshift(ie.scope);J.forEach(ie=>Bt.openNode(ie))}let et={};function qt(J,ie){const me=ie&&ie[0];if(ut+=J,me==null)return de(),0;if(et.type==="begin"&&ie.type==="end"&&et.index===ie.index&&me===""){if(ut+=$.slice(ie.index,ie.index+1),!r){const _e=new Error(`0 width match regex (${R})`);throw _e.languageName=R,_e.badRule=et.rule,_e}return 1}if(et=ie,ie.type==="begin")return be(ie);if(ie.type==="illegal"&&!N){const _e=new Error('Illegal lexeme "'+me+'" for mode "'+(ce.scope||"<unnamed>")+'"');throw _e.mode=ce,_e}else if(ie.type==="end"){const _e=Ze(ie);if(_e!==tj)return _e}if(ie.type==="illegal"&&me==="")return 1;if(it>1e5&&it>ie.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ut+=me,me.length}const fe=G(R);if(!fe)throw Ua(o.replace("{}",R)),new Error('Unknown language: "'+R+'"');const wt=IW(fe);let tt="",ce=P||wt;const bt={},Bt=new a.__emitter(a);Ye();let ut="",Kt=0,bn=0,it=0,H=!1;try{if(fe.__emitTokens)fe.__emitTokens($,Bt);else{for(ce.matcher.considerAll();;){it++,H?H=!1:ce.matcher.considerAll(),ce.matcher.lastIndex=bn;const J=ce.matcher.exec($);if(!J)break;const ie=$.substring(bn,J.index),me=qt(ie,J);bn=J.index+me}qt($.substring(bn))}return Bt.finalize(),tt=Bt.toHTML(),{language:R,value:tt,relevance:Kt,illegal:!1,_emitter:Bt,_top:ce}}catch(J){if(J.message&&J.message.includes("Illegal"))return{language:R,value:Em($),illegal:!0,relevance:0,_illegalBy:{message:J.message,index:bn,context:$.slice(bn-100,bn+100),mode:J.mode,resultSoFar:tt},_emitter:Bt};if(r)return{language:R,value:Em($),illegal:!1,relevance:0,errorRaised:J,_emitter:Bt,_top:ce};throw J}}function p(R){const $={value:Em(R),illegal:!1,relevance:0,_top:s,_emitter:new a.__emitter(a)};return $._emitter.addText(R),$}function m(R,$){$=$||a.languages||Object.keys(e);const N=p(R),P=$.filter(G).filter(U).map(de=>h(de,R,!1));P.unshift(N);const A=P.sort((de,xe)=>{if(de.relevance!==xe.relevance)return xe.relevance-de.relevance;if(de.language&&xe.language){if(G(de.language).supersetOf===xe.language)return 1;if(G(xe.language).supersetOf===de.language)return-1}return 0}),[M,Z]=A,le=M;return le.secondBest=Z,le}function g(R,$,N){const P=$&&t[$]||N;R.classList.add("hljs"),R.classList.add(`language-${P}`)}function v(R){let $=null;const N=c(R);if(l(N))return;if(ne("before:highlightElement",{el:R,language:N}),R.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",R);return}if(R.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(R)),a.throwUnescapedHTML))throw new DW("One of your code blocks includes unescaped HTML.",R.innerHTML);$=R;const P=$.textContent,A=N?f(P,{language:N,ignoreIllegals:!0}):m(P);R.innerHTML=A.value,R.dataset.highlighted="yes",g(R,N,A.language),R.result={language:A.language,re:A.relevance,relevance:A.relevance},A.secondBest&&(R.secondBest={language:A.secondBest.language,relevance:A.secondBest.relevance}),ne("after:highlightElement",{el:R,result:A,text:P})}function b(R){a=ej(a,R)}const x=()=>{S(),Ol("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function k(){S(),Ol("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let C=!1;function S(){if(document.readyState==="loading"){C=!0;return}document.querySelectorAll(a.cssSelector).forEach(v)}function _(){C&&S()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",_,!1);function E(R,$){let N=null;try{N=$(n)}catch(P){if(Ua("Language definition for '{}' could not be registered.".replace("{}",R)),r)Ua(P);else throw P;N=s}N.name||(N.name=R),e[R]=N,N.rawDefinition=$.bind(null,n),N.aliases&&I(N.aliases,{languageName:R})}function q(R){delete e[R];for(const $ of Object.keys(t))t[$]===R&&delete t[$]}function te(){return Object.keys(e)}function G(R){return R=(R||"").toLowerCase(),e[R]||e[t[R]]}function I(R,{languageName:$}){typeof R=="string"&&(R=[R]),R.forEach(N=>{t[N.toLowerCase()]=$})}function U(R){const $=G(R);return $&&!$.disableAutodetect}function B(R){R["before:highlightBlock"]&&!R["before:highlightElement"]&&(R["before:highlightElement"]=$=>{R["before:highlightBlock"](Object.assign({block:$.el},$))}),R["after:highlightBlock"]&&!R["after:highlightElement"]&&(R["after:highlightElement"]=$=>{R["after:highlightBlock"](Object.assign({block:$.el},$))})}function ee(R){B(R),i.push(R)}function F(R){const $=i.indexOf(R);$!==-1&&i.splice($,1)}function ne(R,$){const N=R;i.forEach(function(P){P[N]&&P[N]($)})}function re(R){return Ol("10.7.0","highlightBlock will be removed entirely in v12.0"),Ol("10.7.0","Please use highlightElement now."),v(R)}Object.assign(n,{highlight:f,highlightAuto:m,highlightAll:S,highlightElement:v,highlightBlock:re,configure:b,initHighlighting:x,initHighlightingOnLoad:k,registerLanguage:E,unregisterLanguage:q,listLanguages:te,getLanguage:G,registerAliases:I,autoDetection:U,inherit:ej,addPlugin:ee,removePlugin:F}),n.debugMode=function(){r=!1},n.safeMode=function(){r=!0},n.versionString=BW,n.regex={concat:fl,lookahead:U$,either:$1,optional:eW,anyNumberOfTimes:YV};for(const R in wh)typeof wh[R]=="object"&&V$(wh[R]);return Object.assign(n,wh),n},xc=t3({});xc.newInstance=()=>t3({});var qW=xc;xc.HighlightJS=xc;xc.default=xc;const hU=bv(qW);export{Hl as A,UW as B,lU as C,L8 as D,d0 as E,XW as F,jx as G,fU as H,mi as I,MV as J,ZW as K,Ru as L,eU as M,$6 as N,kx as O,kP as P,oA as Q,qW as R,KW as S,hU as T,aU as _,RC as a,YS as b,cE as c,gt as d,rr as e,He as f,sU as g,$u as h,oU as i,Vv as j,xg as k,rU as l,iU as m,Uv as n,i4 as o,W6 as p,V6 as q,cR as r,Fv as s,Oe as t,uU as u,Qo as v,cU as w,QW as x,GW as y,JW as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}