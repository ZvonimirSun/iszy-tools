import{_ as Ve,a as Oe,u as Te,g as ie,o as A,w as Q,r as mt,ar as fr,as as hr,j as S,a6 as pr,l as Bt,at as ot,au as st,av as He,aw as it,ax as Be,U as mr,ay as Ge,az as Lt,aA as gr,f as yr,aB as Tt,aa as ut,i as $e,a5 as jt,A as Fe,I as X,aC as at,aD as vr,K as we,a7 as dt,ad as lt,v as M,x as U,C as ee,y as G,k as br,h as me,P as be,n as kr,N as pe,O as Le,aE as Nr,aF as Cr,aG as wr,X as fe,aH as xr,Y as $t,J as Er,V as Dr,aI as Ir,aJ as Pr,aK as ke,z as re,aL as Or,d as Je,aM as Tr,c as ct,ab as jr,aN as Sr,aO as qr,D as ne,M as St,L as Kr,aP as Ar,aq as _r,aQ as qt,Q as Rr}from"./index-BoNn7WOZ.js";import{E as Br}from"./el-checkbox-BjkGlvwf.js";import{E as Lr}from"./el-text-CCP67SWz.js";/* empty css               */import{a as $r,E as Fr}from"./el-select-7lGfN0BH.js";import"./el-popper-CgaO_ntC.js";import{E as zr}from"./el-pagination-Blcf3WWl.js";import{E as Ur}from"./el-divider-D3TDik-d.js";import{L as Mr,P as Hr,T as Jr,a as Wr,b as Qr}from"./Router-BPQGutwA.js";import{E as Gr}from"./index-Dg-mWOmT.js";import"./omit-dupsm8f2.js";import"./last-D-rYfuUG.js";import"./strings-gBoXEhJm.js";import"./castArray-DeslAH6K.js";import"./_baseIteratee-CGvQl9LK.js";import"./clamp-BJ3uq2P0.js";import"./index-DWvp0sS1.js";import"./index-B4JAOyGy.js";import"./index-Dh1wW2BN.js";const Vr=Oe({name:"ElCollapseTransition"}),Yr=Oe({...Vr,setup(a){const s=Te("collapse-transition"),i=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},d={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){i(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){i(e)},leaveCancelled(e){i(e)}};return(e,l)=>(A(),ie(pr,fr({name:S(s).b()},hr(d)),{default:Q(()=>[mt(e.$slots,"default")]),_:3},16,["name"]))}});var Xr=Ve(Yr,[["__file","collapse-transition.vue"]]);const Zr=Bt(Xr),Pe="$treeNodeId",Kt=function(a,s){!s||s[Pe]||Object.defineProperty(s,Pe,{value:a.id,enumerable:!1,configurable:!1,writable:!1})},gt=(a,s)=>s?.[a||Pe],ft=(a,s,i)=>{const d=a.value.currentNode;i();const e=a.value.currentNode;d!==e&&s("current-change",e?e.data:null,e)},ht=a=>{let s=!0,i=!0,d=!0;for(let e=0,l=a.length;e<l;e++){const p=a[e];(p.checked!==!0||p.indeterminate)&&(s=!1,p.disabled||(d=!1)),(p.checked!==!1||p.indeterminate)&&(i=!1)}return{all:s,none:i,allWithoutDisable:d,half:!s&&!i}},Re=function(a){if(a.childNodes.length===0||a.loading)return;const{all:s,none:i,half:d}=ht(a.childNodes);s?(a.checked=!0,a.indeterminate=!1):d?(a.checked=!1,a.indeterminate=!0):i&&(a.checked=!1,a.indeterminate=!1);const e=a.parent;!e||e.level===0||a.store.checkStrictly||Re(e)},We=function(a,s){const i=a.store.props,d=a.data||{},e=i[s];if(Ge(e))return e(d,a);if(Lt(e))return d[e];if(Be(e)){const l=d[s];return Be(l)?"":l}},pt=function(a,s){a.forEach(i=>{i.canFocus=s,pt(i.childNodes,s)})};let ea=0;class xe{constructor(s){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=ea++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in s)ot(s,i)&&(this[i]=s[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var s;const i=this.store;if(!i)throw new Error("[Node]store is required!");i.registerNode(this);const d=i.props;if(d&&typeof d.isLeaf<"u"){const p=We(this,"isLeaf");st(p)&&(this.isLeafByUser=p)}if(i.lazy!==!0&&this.data?(this.setData(this.data),i.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&i.lazy&&i.defaultExpandAll&&!this.isLeafByUser&&this.expand(),He(this.data)||Kt(this,this.data),!this.data)return;const e=i.defaultExpandedKeys,l=i.key;l&&!it(this.key)&&e&&e.includes(this.key)&&this.expand(null,i.autoExpandParent),l&&i.currentNodeKey!==void 0&&this.key===i.currentNodeKey&&(i.currentNode=this,i.currentNode.isCurrent=!0),i.lazy&&i._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((s=this.parent)==null?void 0:s.expanded)===!0)&&(this.canFocus=!0)}setData(s){He(s)||Kt(this,s),this.data=s,this.childNodes=[];let i;this.level===0&&He(this.data)?i=this.data:i=We(this,"children")||[];for(let d=0,e=i.length;d<e;d++)this.insertChild({data:i[d]})}get label(){return We(this,"label")}get key(){const s=this.store.key;return this.data?this.data[s]:null}get disabled(){return We(this,"disabled")}get nextSibling(){const s=this.parent;if(s){const i=s.childNodes.indexOf(this);if(i>-1)return s.childNodes[i+1]}return null}get previousSibling(){const s=this.parent;if(s){const i=s.childNodes.indexOf(this);if(i>-1)return i>0?s.childNodes[i-1]:null}return null}contains(s,i=!0){return(this.childNodes||[]).some(d=>d===s||i&&d.contains(s))}remove(){const s=this.parent;s&&s.removeChild(this)}insertChild(s,i,d){if(!s)throw new Error("InsertChild error: child is required.");if(!(s instanceof xe)){if(!d){const e=this.getChildren(!0);e?.includes(s.data)||(Be(i)||i<0?e?.push(s.data):e?.splice(i,0,s.data))}Object.assign(s,{parent:this,store:this.store}),s=mr(new xe(s)),s instanceof xe&&s.initialize()}s.level=this.level+1,Be(i)||i<0?this.childNodes.push(s):this.childNodes.splice(i,0,s),this.updateLeafState()}insertBefore(s,i){let d;i&&(d=this.childNodes.indexOf(i)),this.insertChild(s,d)}insertAfter(s,i){let d;i&&(d=this.childNodes.indexOf(i),d!==-1&&(d+=1)),this.insertChild(s,d)}removeChild(s){const i=this.getChildren()||[],d=i.indexOf(s.data);d>-1&&i.splice(d,1);const e=this.childNodes.indexOf(s);e>-1&&(this.store&&this.store.deregisterNode(s),s.parent=null,this.childNodes.splice(e,1)),this.updateLeafState()}removeChildByData(s){let i=null;for(let d=0;d<this.childNodes.length;d++)if(this.childNodes[d].data===s){i=this.childNodes[d];break}i&&this.removeChild(i)}expand(s,i){const d=()=>{if(i){let e=this.parent;for(;e&&e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,s&&s(),pt(this.childNodes,!0)};this.shouldLoadData()?this.loadData(e=>{He(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Re(this),d())}):d()}doCreateChildren(s,i={}){s.forEach(d=>{this.insertChild(Object.assign({data:d},i),void 0,!0)})}collapse(){this.expanded=!1,pt(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const s=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!s||s.length===0;return}this.isLeaf=!1}setChecked(s,i,d,e){if(this.indeterminate=s==="half",this.checked=s===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:p,allWithoutDisable:w}=ht(this.childNodes);!this.isLeaf&&!p&&w&&(this.checked=!1,s=!1);const q=()=>{if(i){const v=this.childNodes;for(let j=0,b=v.length;j<b;j++){const L=v[j];e=e||s!==!1;const B=L.disabled?L.checked:e;L.setChecked(B,i,!0,e)}const{half:k,all:E}=ht(v);E||(this.checked=E,this.indeterminate=k)}};if(this.shouldLoadData()){this.loadData(()=>{q(),Re(this)},{checked:s!==!1});return}else q()}const l=this.parent;!l||l.level===0||d||Re(l)}getChildren(s=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const d=this.store.props;let e="children";return d&&(e=d.children||"children"),Be(i[e])&&(i[e]=null),s&&!i[e]&&(i[e]=[]),i[e]}updateChildren(){const s=this.getChildren()||[],i=this.childNodes.map(l=>l.data),d={},e=[];s.forEach((l,p)=>{const w=l[Pe];!!w&&i.some(v=>v?.[Pe]===w)?d[w]={index:p,data:l}:e.push({index:p,data:l})}),this.store.lazy||i.forEach(l=>{d[l?.[Pe]]||this.removeChildByData(l)}),e.forEach(({index:l,data:p})=>{this.insertChild({data:p},l)}),this.updateLeafState()}loadData(s,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const d=l=>{this.childNodes=[],this.doCreateChildren(l,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),s&&s.call(this,l)},e=()=>{this.loading=!1};this.store.load(this,d,e)}else s&&s.call(this)}eachNode(s){const i=[this];for(;i.length;){const d=i.shift();i.unshift(...d.childNodes),s(d)}}reInitChecked(){this.store.checkStrictly||Re(this)}}class ta{constructor(s){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const i in s)ot(s,i)&&(this[i]=s[i]);this.nodesMap={}}initialize(){if(this.root=new xe({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const s=this.load;s(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()},gr)}else this._initDefaultCheckedNodes()}filter(s){const i=this.filterNodeMethod,d=this.lazy,e=async function(l){const p=l.root?l.root.childNodes:l.childNodes;for(const[w,q]of p.entries())q.visible=!!i?.call(q,s,q.data,q),w%80===0&&w>0&&await ut(),await e(q);if(!l.visible&&p.length){let w=!0;w=!p.some(q=>q.visible),l.root?l.root.visible=w===!1:l.visible=w===!1}s&&l.visible&&!l.isLeaf&&(!d||l.loaded)&&l.expand()};e(this)}setData(s){s!==this.root.data?(this.nodesMap={},this.root.setData(s),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(s){if(s instanceof xe)return s;const i=yr(s)?gt(this.key,s):s;return this.nodesMap[i]||null}insertBefore(s,i){var d;const e=this.getNode(i);(d=e.parent)==null||d.insertBefore({data:s},e)}insertAfter(s,i){var d;const e=this.getNode(i);(d=e.parent)==null||d.insertAfter({data:s},e)}remove(s){const i=this.getNode(s);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(s,i){const d=Tt(i)?this.root:this.getNode(i);d&&d.insertChild({data:s})}_initDefaultCheckedNodes(){const s=this.defaultCheckedKeys||[],i=this.nodesMap;s.forEach(d=>{const e=i[d];e&&e.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(s){const i=this.defaultCheckedKeys||[];!it(s.key)&&i.includes(s.key)&&s.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(s){s!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=s,this._initDefaultCheckedNodes())}registerNode(s){const i=this.key;if(!(!s||!s.data))if(!i)this.nodesMap[s.id]=s;else{const d=s.key;it(d)||(this.nodesMap[d]=s)}}deregisterNode(s){!this.key||!s||!s.data||(s.childNodes.forEach(d=>{this.deregisterNode(d)}),delete this.nodesMap[s.key])}getCheckedNodes(s=!1,i=!1){const d=[],e=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(w=>{(w.checked||i&&w.indeterminate)&&(!s||s&&w.isLeaf)&&d.push(w.data),e(w)})};return e(this),d}getCheckedKeys(s=!1){return this.getCheckedNodes(s).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const s=[],i=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(l=>{l.indeterminate&&s.push(l.data),i(l)})};return i(this),s}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(s=>(s||{})[this.key])}_getAllNodes(){const s=[],i=this.nodesMap;for(const d in i)ot(i,d)&&s.push(i[d]);return s}updateChildren(s,i){const d=this.nodesMap[s];if(!d)return;const e=d.childNodes;for(let l=e.length-1;l>=0;l--){const p=e[l];this.remove(p.data)}for(let l=0,p=i.length;l<p;l++){const w=i[l];this.append(w,d.data)}}_setCheckedKeys(s,i=!1,d){const e=this._getAllNodes().sort((q,v)=>q.level-v.level),l=Object.create(null),p=Object.keys(d);e.forEach(q=>q.setChecked(!1,!1));const w=q=>{q.childNodes.forEach(v=>{var k;l[v.data[s]]=!0,(k=v.childNodes)!=null&&k.length&&w(v)})};for(let q=0,v=e.length;q<v;q++){const k=e[q],E=k.data[s].toString();if(!p.includes(E)){k.checked&&!l[E]&&k.setChecked(!1,!1);continue}if(k.childNodes.length&&w(k),k.isLeaf||this.checkStrictly){k.setChecked(!0,!1);continue}if(k.setChecked(!0,!0),i){k.setChecked(!1,!1);const b=function(L){L.childNodes.forEach(x=>{x.isLeaf||x.setChecked(!1,!1),b(x)})};b(k)}}}setCheckedNodes(s,i=!1){const d=this.key,e={};s.forEach(l=>{e[(l||{})[d]]=!0}),this._setCheckedKeys(d,i,e)}setCheckedKeys(s,i=!1){this.defaultCheckedKeys=s;const d=this.key,e={};s.forEach(l=>{e[l]=!0}),this._setCheckedKeys(d,i,e)}setDefaultExpandedKeys(s){s=s||[],this.defaultExpandedKeys=s,s.forEach(i=>{const d=this.getNode(i);d&&d.expand(null,this.autoExpandParent)})}setChecked(s,i,d){const e=this.getNode(s);e&&e.setChecked(!!i,d)}getCurrentNode(){return this.currentNode}setCurrentNode(s){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=s,this.currentNode.isCurrent=!0}setUserCurrentNode(s,i=!0){var d;const e=s[this.key],l=this.nodesMap[e];this.setCurrentNode(l),i&&this.currentNode&&this.currentNode.level>1&&((d=this.currentNode.parent)==null||d.expand(null,!0))}setCurrentNodeKey(s,i=!0){var d;if(this.currentNodeKey=s,Tt(s)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const e=this.getNode(s);e&&(this.setCurrentNode(e),i&&this.currentNode&&this.currentNode.level>1&&((d=this.currentNode.parent)==null||d.expand(null,!0)))}}const yt="RootTree",Ft="NodeInstance",At="TreeNodeMap",na=Oe({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(a){const s=Te("tree"),i=$e(Ft),d=$e(yt);return()=>{const e=a.node,{data:l,store:p}=e;return a.renderContent?a.renderContent(jt,{_self:i,node:e,data:l,store:p}):mt(d.ctx.slots,"default",{node:e,data:l},()=>[jt(Lr,{tag:"span",truncated:!0,class:s.be("node","label")},()=>[e.label])])}}});var ra=Ve(na,[["__file","tree-node-content.vue"]]);function zt(a){const s=$e(At,null),i={treeNodeExpand:d=>{var e;a.node!==d&&((e=a.node)==null||e.collapse())},children:[]};return s&&s.children.push(i),Fe(At,i),{broadcastExpanded:d=>{if(a.accordion)for(const e of i.children)e.treeNodeExpand(d)}}}const Ut=Symbol("dragEvents");function aa({props:a,ctx:s,el$:i,dropIndicator$:d,store:e}){const l=Te("tree"),p=X({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Fe(Ut,{treeNodeDragStart:({event:k,treeNode:E})=>{if(k.dataTransfer){if(Ge(a.allowDrag)&&!a.allowDrag(E.node))return k.preventDefault(),!1;k.dataTransfer.effectAllowed="move";try{k.dataTransfer.setData("text/plain","")}catch{}p.value.draggingNode=E,s.emit("node-drag-start",E.node,k)}},treeNodeDragOver:({event:k,treeNode:E})=>{if(!k.dataTransfer)return;const j=E,b=p.value.dropNode;b&&b.node.id!==j.node.id&&at(b.$el,l.is("drop-inner"));const L=p.value.draggingNode;if(!L||!j)return;let B=!0,x=!0,W=!0,H=!0;Ge(a.allowDrop)&&(B=a.allowDrop(L.node,j.node,"prev"),H=x=a.allowDrop(L.node,j.node,"inner"),W=a.allowDrop(L.node,j.node,"next")),k.dataTransfer.dropEffect=x||B||W?"move":"none",(B||x||W)&&b?.node.id!==j.node.id&&(b&&s.emit("node-drag-leave",L.node,b.node,k),s.emit("node-drag-enter",L.node,j.node,k)),B||x||W?p.value.dropNode=j:p.value.dropNode=null,j.node.nextSibling===L.node&&(W=!1),j.node.previousSibling===L.node&&(B=!1),j.node.contains(L.node,!1)&&(x=!1),(L.node===j.node||L.node.contains(j.node))&&(B=!1,x=!1,W=!1);const Z=j.$el,V=Z.querySelector(`.${l.be("node","content")}`).getBoundingClientRect(),C=i.value.getBoundingClientRect(),z=i.value.scrollTop;let Y;const de=B?x?.25:W?.45:1:Number.NEGATIVE_INFINITY,T=W?x?.75:B?.55:0:Number.POSITIVE_INFINITY;let I=-9999;const P=k.clientY-V.top;P<V.height*de?Y="before":P>V.height*T?Y="after":x?Y="inner":Y="none";const se=Z.querySelector(`.${l.be("node","expand-icon")}`).getBoundingClientRect(),ge=d.value;Y==="before"?I=se.top-C.top+z:Y==="after"&&(I=se.bottom-C.top+z),ge.style.top=`${I}px`,ge.style.left=`${se.right-C.left}px`,Y==="inner"?vr(Z,l.is("drop-inner")):at(Z,l.is("drop-inner")),p.value.showDropIndicator=Y==="before"||Y==="after",p.value.allowDrop=p.value.showDropIndicator||H,p.value.dropType=Y,s.emit("node-drag-over",L.node,j.node,k)},treeNodeDragEnd:k=>{var E,j;const{draggingNode:b,dropType:L,dropNode:B}=p.value;if(k.preventDefault(),k.dataTransfer&&(k.dataTransfer.dropEffect="move"),b?.node.data&&B){const x={data:b.node.data};L!=="none"&&b.node.remove(),L==="before"?(E=B.node.parent)==null||E.insertBefore(x,B.node):L==="after"?(j=B.node.parent)==null||j.insertAfter(x,B.node):L==="inner"&&B.node.insertChild(x),L!=="none"&&(e.value.registerNode(x),e.value.key&&b.node.eachNode(W=>{var H;(H=e.value.nodesMap[W.data[e.value.key]])==null||H.setChecked(W.checked,!e.value.checkStrictly)})),at(B.$el,l.is("drop-inner")),s.emit("node-drag-end",b.node,B.node,L,k),L!=="none"&&s.emit("node-drop",b.node,B.node,L,k)}b&&!B&&s.emit("node-drag-end",b.node,null,L,k),p.value.showDropIndicator=!1,p.value.draggingNode=null,p.value.dropNode=null,p.value.allowDrop=!0}}),{dragState:p}}const oa=Oe({name:"ElTreeNode",components:{ElCollapseTransition:Zr,ElCheckbox:Br,NodeContent:ra,ElIcon:Cr,Loading:Nr},props:{node:{type:xe,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(a,s){const i=Te("tree"),{broadcastExpanded:d}=zt(a),e=$e(yt),l=X(!1),p=X(!1),w=X(),q=X(),v=X(),k=$e(Ut),E=$t();Fe(Ft,E),e||wr("Tree","Can not find node's tree."),a.node.expanded&&(l.value=!0,p.value=!0);const j=e.props.props.children||"children";fe(()=>{var T;const I=(T=a.node.data)==null?void 0:T[j];return I&&[...I]},()=>{a.node.updateChildren()}),fe(()=>a.node.indeterminate,T=>{B(a.node.checked,T)}),fe(()=>a.node.checked,T=>{B(T,a.node.indeterminate)}),fe(()=>a.node.childNodes.length,()=>a.node.reInitChecked()),fe(()=>a.node.expanded,T=>{ut(()=>l.value=T),T&&(p.value=!0)});const b=T=>gt(e.props.nodeKey,T.data),L=T=>{const I=a.props.class;if(!I)return{};let P;if(Ge(I)){const{data:se}=T;P=I(se,T)}else P=I;return Lt(P)?{[P]:!0}:P},B=(T,I)=>{(w.value!==T||q.value!==I)&&e.ctx.emit("check-change",a.node.data,T,I),w.value=T,q.value=I},x=T=>{ft(e.store,e.ctx.emit,()=>{var I;if((I=e?.props)==null?void 0:I.nodeKey){const se=b(a.node);e.store.value.setCurrentNodeKey(se)}else e.store.value.setCurrentNode(a.node)}),e.currentNode.value=a.node,e.props.expandOnClickNode&&H(),(e.props.checkOnClickNode||a.node.isLeaf&&e.props.checkOnClickLeaf&&a.showCheckbox)&&!a.node.disabled&&Z(!a.node.checked),e.ctx.emit("node-click",a.node.data,a.node,E,T)},W=T=>{var I;(I=e.instance.vnode.props)!=null&&I.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),e.ctx.emit("node-contextmenu",T,a.node.data,a.node,E)},H=()=>{a.node.isLeaf||(l.value?(e.ctx.emit("node-collapse",a.node.data,a.node,E),a.node.collapse()):a.node.expand(()=>{s.emit("node-expand",a.node.data,a.node,E)}))},Z=T=>{a.node.setChecked(T,!e?.props.checkStrictly),ut(()=>{const I=e.store.value;e.ctx.emit("check",a.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:i,node$:v,tree:e,expanded:l,childNodeRendered:p,oldChecked:w,oldIndeterminate:q,getNodeKey:b,getNodeClass:L,handleSelectChange:B,handleClick:x,handleContextMenu:W,handleExpandIconClick:H,handleCheckChange:Z,handleChildNodeExpand:(T,I,P)=>{d(I),e.ctx.emit("node-expand",T,I,P)},handleDragStart:T=>{e.props.draggable&&k.treeNodeDragStart({event:T,treeNode:a})},handleDragOver:T=>{T.preventDefault(),e.props.draggable&&k.treeNodeDragOver({event:T,treeNode:{$el:v.value,node:a.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{e.props.draggable&&k.treeNodeDragEnd(T)},CaretRight:xr}}});function sa(a,s,i,d,e,l){const p=we("el-icon"),w=we("el-checkbox"),q=we("loading"),v=we("node-content"),k=we("el-tree-node"),E=we("el-collapse-transition");return dt((A(),M("div",{ref:"node$",class:me([a.ns.b("node"),a.ns.is("expanded",a.expanded),a.ns.is("current",a.node.isCurrent),a.ns.is("hidden",!a.node.visible),a.ns.is("focusable",!a.node.disabled),a.ns.is("checked",!a.node.disabled&&a.node.checked),a.getNodeClass(a.node)]),role:"treeitem",tabindex:"-1","aria-expanded":a.expanded,"aria-disabled":a.node.disabled,"aria-checked":a.node.checked,draggable:a.tree.props.draggable,"data-key":a.getNodeKey(a.node),onClick:be(a.handleClick,["stop"]),onContextmenu:a.handleContextMenu,onDragstart:be(a.handleDragStart,["stop"]),onDragover:be(a.handleDragOver,["stop"]),onDragend:be(a.handleDragEnd,["stop"]),onDrop:be(a.handleDrop,["stop"])},[U("div",{class:me(a.ns.be("node","content")),style:kr({paddingLeft:(a.node.level-1)*a.tree.props.indent+"px"})},[a.tree.props.icon||a.CaretRight?(A(),ie(p,{key:0,class:me([a.ns.be("node","expand-icon"),a.ns.is("leaf",a.node.isLeaf),{expanded:!a.node.isLeaf&&a.expanded}]),onClick:be(a.handleExpandIconClick,["stop"])},{default:Q(()=>[(A(),ie(br(a.tree.props.icon||a.CaretRight)))]),_:1},8,["class","onClick"])):G("v-if",!0),a.showCheckbox?(A(),ie(w,{key:1,"model-value":a.node.checked,indeterminate:a.node.indeterminate,disabled:!!a.node.disabled,onClick:be(()=>{},["stop"]),onChange:a.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):G("v-if",!0),a.node.loading?(A(),ie(p,{key:2,class:me([a.ns.be("node","loading-icon"),a.ns.is("loading")])},{default:Q(()=>[ee(q)]),_:1},8,["class"])):G("v-if",!0),ee(v,{node:a.node,"render-content":a.renderContent},null,8,["node","render-content"])],6),ee(E,null,{default:Q(()=>[!a.renderAfterExpand||a.childNodeRendered?dt((A(),M("div",{key:0,class:me(a.ns.be("node","children")),role:"group","aria-expanded":a.expanded,onClick:be(()=>{},["stop"])},[(A(!0),M(pe,null,Le(a.node.childNodes,j=>(A(),ie(k,{key:a.getNodeKey(j),"render-content":a.renderContent,"render-after-expand":a.renderAfterExpand,"show-checkbox":a.showCheckbox,node:j,accordion:a.accordion,props:a.props,onNodeExpand:a.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[lt,a.expanded]]):G("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[lt,a.node.visible]])}var ia=Ve(oa,[["render",sa],["__file","tree-node.vue"]]);function ua({el$:a},s){const i=Te("tree");Er(()=>{l()}),Dr(()=>{Array.from(a.value.querySelectorAll("input[type=checkbox]")).forEach(w=>{w.setAttribute("tabindex","-1")})});function d(p,w){var q,v;const k=s.value.getNode(p[w].dataset.key);return k.canFocus&&k.visible&&(((q=k.parent)==null?void 0:q.expanded)||((v=k.parent)==null?void 0:v.level)===0)}Ir(a,"keydown",p=>{const w=p.target;if(!w.className.includes(i.b("node")))return;const q=Pr(p),v=Array.from(a.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),k=v.indexOf(w);let E;if([ke.up,ke.down].includes(q)){if(p.preventDefault(),q===ke.up){E=k===-1?0:k!==0?k-1:v.length-1;const b=E;for(;!d(v,E);){if(E--,E===b){E=-1;break}E<0&&(E=v.length-1)}}else{E=k===-1?0:k<v.length-1?k+1:0;const b=E;for(;!d(v,E);){if(E++,E===b){E=-1;break}E>=v.length&&(E=0)}}E!==-1&&v[E].focus()}[ke.left,ke.right].includes(q)&&(p.preventDefault(),w.click());const j=w.querySelector('[type="checkbox"]');[ke.enter,ke.numpadEnter,ke.space].includes(q)&&j&&(p.preventDefault(),j.click())});const l=()=>{var p;if(!a.value)return;const w=Array.from(a.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));Array.from(a.value.querySelectorAll("input[type=checkbox]")).forEach(k=>{k.setAttribute("tabindex","-1")});const v=a.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(v.length){v[0].setAttribute("tabindex","0");return}(p=w[0])==null||p.setAttribute("tabindex","0")}}const da={"check-change":(a,s,i)=>a&&st(s)&&st(i),"current-change":(a,s)=>!0,"node-click":(a,s,i,d)=>a&&s&&d instanceof Event,"node-contextmenu":(a,s,i,d)=>a instanceof Event&&s&&i,"node-collapse":(a,s,i)=>a&&s,"node-expand":(a,s,i)=>a&&s,check:(a,s)=>a&&s,"node-drag-start":(a,s)=>a&&s,"node-drag-end":(a,s,i,d)=>a&&d,"node-drop":(a,s,i,d)=>a&&s&&d,"node-drag-leave":(a,s,i)=>a&&s&&i,"node-drag-enter":(a,s,i)=>a&&s&&i,"node-drag-over":(a,s,i)=>a&&s&&i},la=Oe({name:"ElTree",components:{ElTreeNode:ia},props:{data:{type:Je(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:Je(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:Je(Function)},allowDrop:{type:Je(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Or}},emits:da,setup(a,s){const{t:i}=Tr(),d=Te("tree"),e=X(new ta({key:a.nodeKey,data:a.data,lazy:a.lazy,props:a.props,load:a.load,currentNodeKey:a.currentNodeKey,checkStrictly:a.checkStrictly,checkDescendants:a.checkDescendants,defaultCheckedKeys:a.defaultCheckedKeys,defaultExpandedKeys:a.defaultExpandedKeys,autoExpandParent:a.autoExpandParent,defaultExpandAll:a.defaultExpandAll,filterNodeMethod:a.filterNodeMethod}));e.value.initialize();const l=X(e.value.root),p=X(null),w=X(null),q=X(null),{broadcastExpanded:v}=zt(a),{dragState:k}=aa({props:a,ctx:s,el$:w,dropIndicator$:q,store:e});ua({el$:w},e);const E=$t(),j=ct(()=>{let N=E?.parent;for(;N;){if(N.type.name==="ElTreeSelect")return!0;N=N.parent}return!1}),b=ct(()=>{const{childNodes:N}=l.value;return(!N||N.length===0||N.every(({visible:$})=>!$))&&!j.value});fe(()=>a.currentNodeKey,N=>{e.value.setCurrentNodeKey(N??null)}),fe(()=>a.defaultCheckedKeys,(N,$)=>{jr(N,$)||e.value.setDefaultCheckedKey(N??[])}),fe(()=>a.defaultExpandedKeys,N=>{e.value.setDefaultExpandedKeys(N??[])}),fe(()=>a.data,N=>{e.value.setData(N)},{deep:!0}),fe(()=>a.checkStrictly,N=>{e.value.checkStrictly=N});const L=N=>{if(!a.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");e.value.filter(N)},B=N=>gt(a.nodeKey,N.data),x=N=>{if(!a.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const $=e.value.getNode(N);if(!$)return[];const ye=[$.data];let Ne=$.parent;for(;Ne&&Ne!==l.value;)ye.push(Ne.data),Ne=Ne.parent;return ye.reverse()},W=(N,$)=>e.value.getCheckedNodes(N,$),H=N=>e.value.getCheckedKeys(N),Z=()=>{const N=e.value.getCurrentNode();return N?N.data:null},V=()=>{if(!a.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const N=Z();return N?N[a.nodeKey]:null},C=(N,$)=>{if(!a.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");e.value.setCheckedNodes(N,$)},z=(N,$)=>{if(!a.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");e.value.setCheckedKeys(N,$)},Y=(N,$,ye)=>{e.value.setChecked(N,$,ye)},de=()=>e.value.getHalfCheckedNodes(),T=()=>e.value.getHalfCheckedKeys(),I=(N,$=!0)=>{if(!a.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");ft(e,s.emit,()=>{v(N),e.value.setUserCurrentNode(N,$)})},P=(N=null,$=!0)=>{if(!a.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");ft(e,s.emit,()=>{v(),e.value.setCurrentNodeKey(N,$)})},se=N=>e.value.getNode(N),ge=N=>{e.value.remove(N)},Ee=(N,$)=>{e.value.append(N,$)},le=(N,$)=>{e.value.insertBefore(N,$)},je=(N,$)=>{e.value.insertAfter(N,$)},Se=(N,$,ye)=>{v($),s.emit("node-expand",N,$,ye)},_=(N,$)=>{if(!a.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");e.value.updateChildren(N,$)};return Fe(yt,{ctx:s,props:a,store:e,root:l,currentNode:p,instance:E}),Fe(Sr,void 0),{ns:d,store:e,root:l,currentNode:p,dragState:k,el$:w,dropIndicator$:q,isEmpty:b,filter:L,getNodeKey:B,getNodePath:x,getCheckedNodes:W,getCheckedKeys:H,getCurrentNode:Z,getCurrentKey:V,setCheckedNodes:C,setCheckedKeys:z,setChecked:Y,getHalfCheckedNodes:de,getHalfCheckedKeys:T,setCurrentNode:I,setCurrentKey:P,t:i,getNode:se,remove:ge,append:Ee,insertBefore:le,insertAfter:je,handleNodeExpand:Se,updateKeyChildren:_}}});function ca(a,s,i,d,e,l){const p=we("el-tree-node");return A(),M("div",{ref:"el$",class:me([a.ns.b(),a.ns.is("dragging",!!a.dragState.draggingNode),a.ns.is("drop-not-allow",!a.dragState.allowDrop),a.ns.is("drop-inner",a.dragState.dropType==="inner"),{[a.ns.m("highlight-current")]:a.highlightCurrent}]),role:"tree"},[(A(!0),M(pe,null,Le(a.root.childNodes,w=>(A(),ie(p,{key:a.getNodeKey(w),node:w,props:a.props,accordion:a.accordion,"render-after-expand":a.renderAfterExpand,"show-checkbox":a.showCheckbox,"render-content":a.renderContent,onNodeExpand:a.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),a.isEmpty?(A(),M("div",{key:0,class:me(a.ns.e("empty-block"))},[mt(a.$slots,"empty",{},()=>{var w;return[U("span",{class:me(a.ns.e("empty-text"))},re((w=a.emptyText)!=null?w:a.t("el.tree.emptyText")),3)]})],2)):G("v-if",!0),dt(U("div",{ref:"dropIndicator$",class:me(a.ns.e("drop-indicator"))},null,2),[[lt,a.dragState.showDropIndicator]])],2)}var fa=Ve(la,[["render",ca],["__file","tree.vue"]]);const ha=Bt(fa);var Qe={exports:{}};/*! algoliasearch.umd.js | 4.25.2 | Â© Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */var pa=Qe.exports,_t;function ma(){return _t||(_t=1,function(a,s){(function(i,d){a.exports=d()})(pa,function(){function i(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function d(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,o)}return r}function e(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?d(Object(r),!0).forEach(function(o){i(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function l(t,n){if(t==null)return{};var r,o,u=function(m,g){if(m==null)return{};var f,h,y={},D=Object.keys(m);for(h=0;h<D.length;h++)f=D[h],g.indexOf(f)>=0||(y[f]=m[f]);return y}(t,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)r=c[o],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(u[r]=t[r])}return u}function p(t,n){return function(r){if(Array.isArray(r))return r}(t)||function(r,o){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var u=[],c=!0,m=!1,g=void 0;try{for(var f,h=r[Symbol.iterator]();!(c=(f=h.next()).done)&&(u.push(f.value),!o||u.length!==o);c=!0);}catch(y){m=!0,g=y}finally{try{c||h.return==null||h.return()}finally{if(m)throw g}}return u}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(t){return function(n){if(Array.isArray(n)){for(var r=0,o=new Array(n.length);r<n.length;r++)o[r]=n[r];return o}}(t)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(t){var n,r="algoliasearch-client-js-".concat(t.key),o=function(){return n===void 0&&(n=t.localStorage||window.localStorage),n},u=function(){return JSON.parse(o().getItem(r)||"{}")},c=function(g){o().setItem(r,JSON.stringify(g))},m=function(){var g=t.timeToLive?1e3*t.timeToLive:null,f=u(),h=Object.fromEntries(Object.entries(f).filter(function(D){return p(D,2)[1].timestamp!==void 0}));if(c(h),g){var y=Object.fromEntries(Object.entries(h).filter(function(D){var O=p(D,2)[1],R=new Date().getTime();return!(O.timestamp+g<R)}));c(y)}};return{get:function(g,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){m();var y=JSON.stringify(g);return u()[y]}).then(function(y){return Promise.all([y?y.value:f(),y!==void 0])}).then(function(y){var D=p(y,2),O=D[0],R=D[1];return Promise.all([O,R||h.miss(O)])}).then(function(y){return p(y,1)[0]})},set:function(g,f){return Promise.resolve().then(function(){var h=u();return h[JSON.stringify(g)]={timestamp:new Date().getTime(),value:f},o().setItem(r,JSON.stringify(h)),f})},delete:function(g){return Promise.resolve().then(function(){var f=u();delete f[JSON.stringify(g)],o().setItem(r,JSON.stringify(f))})},clear:function(){return Promise.resolve().then(function(){o().removeItem(r)})}}}function v(t){var n=w(t.caches),r=n.shift();return r===void 0?{get:function(o,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},m=u();return m.then(function(g){return Promise.all([g,c.miss(g)])}).then(function(g){return p(g,1)[0]})},set:function(o,u){return Promise.resolve(u)},delete:function(o){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(o,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(o,u,c).catch(function(){return v({caches:n}).get(o,u,c)})},set:function(o,u){return r.set(o,u).catch(function(){return v({caches:n}).set(o,u)})},delete:function(o){return r.delete(o).catch(function(){return v({caches:n}).delete(o)})},clear:function(){return r.clear().catch(function(){return v({caches:n}).clear()})}}}function k(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},n={};return{get:function(r,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},c=JSON.stringify(r);if(c in n)return Promise.resolve(t.serializable?JSON.parse(n[c]):n[c]);var m=o(),g=u&&u.miss||function(){return Promise.resolve()};return m.then(function(f){return g(f)}).then(function(){return m})},set:function(r,o){return n[JSON.stringify(r)]=t.serializable?JSON.stringify(o):o,Promise.resolve(o)},delete:function(r){return delete n[JSON.stringify(r)],Promise.resolve()},clear:function(){return n={},Promise.resolve()}}}function E(t,n,r){var o={"x-algolia-api-key":r,"x-algolia-application-id":n};return{headers:function(){return t===W.WithinHeaders?o:{}},queryParameters:function(){return t===W.WithinQueryParameters?o:{}}}}function j(t){var n=0;return t(function r(){return n++,new Promise(function(o){setTimeout(function(){o(t(r))},Math.min(100*n,1e3))})})}function b(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,o){return Promise.resolve()};return Object.assign(t,{wait:function(r){return b(t.then(function(o){return Promise.all([n(o,r),o])}).then(function(o){return o[1]}))}})}function L(t){for(var n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),o=t[n];t[n]=t[r],t[r]=o}return t}function B(t,n){return n&&Object.keys(n).forEach(function(r){t[r]=n[r](t)}),t}function x(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var u=0;return t.replace(/%s/g,function(){return encodeURIComponent(r[u++])})}var W={WithinQueryParameters:0,WithinHeaders:1};function H(t,n){var r=t||{},o=r.data||{};return Object.keys(r).forEach(function(u){["timeout","headers","queryParameters","data","cacheable"].indexOf(u)===-1&&(o[u]=r[u])}),{data:Object.entries(o).length>0?o:void 0,timeout:r.timeout||n,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var Z={Read:1,Write:2,Any:3},V=1,C=2,z=3;function Y(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V;return e(e({},t),{},{status:n,lastUpdate:Date.now()})}function de(t){return typeof t=="string"?{protocol:"https",url:t,accept:Z.Any}:{protocol:t.protocol||"https",url:t.url,accept:t.accept||Z.Any}}var T="DELETE",I="GET",P="POST",se="PUT";function ge(t,n){return Promise.all(n.map(function(r){return t.get(r,function(){return Promise.resolve(Y(r))})})).then(function(r){var o=r.filter(function(m){return function(g){return g.status===V||Date.now()-g.lastUpdate>12e4}(m)}),u=r.filter(function(m){return function(g){return g.status===z&&Date.now()-g.lastUpdate<=12e4}(m)}),c=[].concat(w(o),w(u));return{getTimeout:function(m,g){return(u.length===0&&m===0?1:u.length+3+m)*g},statelessHosts:c.length>0?c.map(function(m){return de(m)}):n}})}function Ee(t,n,r,o){var u=[],c=function(O,R){if(!(O.method===I||O.data===void 0&&R.data===void 0)){var K=Array.isArray(O.data)?O.data:e(e({},O.data),R.data);return JSON.stringify(K)}}(r,o),m=function(O,R){var K=e(e({},O.headers),R.headers),F={};return Object.keys(K).forEach(function(J){var ae=K[J];F[J.toLowerCase()]=ae}),F}(t,o),g=r.method,f=r.method!==I?{}:e(e({},r.data),o.data),h=e(e(e({"x-algolia-agent":t.userAgent.value},t.queryParameters),f),o.queryParameters),y=0,D=function O(R,K){var F=R.pop();if(F===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:N(u)};var J={data:c,headers:m,method:g,url:Se(F,r.path,h),connectTimeout:K(y,t.timeouts.connect),responseTimeout:K(y,o.timeout)},ae=function(ue){var oe={request:J,response:ue,host:F,triesLeft:R.length};return u.push(oe),oe},Ae={onSuccess:function(ue){return function(oe){try{return JSON.parse(oe.content)}catch(Ce){throw function(ve,Ie){return{name:"DeserializationError",message:ve,response:Ie}}(Ce.message,oe)}}(ue)},onRetry:function(ue){var oe=ae(ue);return ue.isTimedOut&&y++,Promise.all([t.logger.info("Retryable failure",$(oe)),t.hostsCache.set(F,Y(F,ue.isTimedOut?z:C))]).then(function(){return O(R,K)})},onFail:function(ue){throw ae(ue),function(oe,Ce){var ve=oe.content,Ie=oe.status,_e=ve;try{_e=JSON.parse(ve).message}catch{}return function(Me,rt,cr){return{name:"ApiError",message:Me,status:rt,transporterStackTrace:cr}}(_e,Ie,Ce)}(ue,N(u))}};return t.requester.send(J).then(function(ue){return function(oe,Ce){return function(ve){var Ie=ve.status;return ve.isTimedOut||function(_e){var Me=_e.isTimedOut,rt=_e.status;return!Me&&~~rt==0}(ve)||~~(Ie/100)!=2&&~~(Ie/100)!=4}(oe)?Ce.onRetry(oe):~~(oe.status/100)==2?Ce.onSuccess(oe):Ce.onFail(oe)}(ue,Ae)})};return ge(t.hostsCache,n).then(function(O){return D(w(O.statelessHosts).reverse(),O.getTimeout)})}function le(t){var n=t.hostsCache,r=t.logger,o=t.requester,u=t.requestsCache,c=t.responsesCache,m=t.timeouts,g=t.userAgent,f=t.hosts,h=t.queryParameters,y={hostsCache:n,logger:r,requester:o,requestsCache:u,responsesCache:c,timeouts:m,userAgent:g,headers:t.headers,queryParameters:h,hosts:f.map(function(D){return de(D)}),read:function(D,O){var R=H(O,y.timeouts.read),K=function(){return Ee(y,y.hosts.filter(function(J){return(J.accept&Z.Read)!=0}),D,R)};if((R.cacheable!==void 0?R.cacheable:D.cacheable)!==!0)return K();var F={request:D,mappedRequestOptions:R,transporter:{queryParameters:y.queryParameters,headers:y.headers}};return y.responsesCache.get(F,function(){return y.requestsCache.get(F,function(){return y.requestsCache.set(F,K()).then(function(J){return Promise.all([y.requestsCache.delete(F),J])},function(J){return Promise.all([y.requestsCache.delete(F),Promise.reject(J)])}).then(function(J){var ae=p(J,2);return ae[0],ae[1]})})},{miss:function(J){return y.responsesCache.set(F,J)}})},write:function(D,O){return Ee(y,y.hosts.filter(function(R){return(R.accept&Z.Write)!=0}),D,H(O,y.timeouts.write))}};return y}function je(t){var n={value:"Algolia for JavaScript (".concat(t,")"),add:function(r){var o="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return n.value.indexOf(o)===-1&&(n.value="".concat(n.value).concat(o)),n}};return n}function Se(t,n,r){var o=_(r),u="".concat(t.protocol,"://").concat(t.url,"/").concat(n.charAt(0)==="/"?n.substr(1):n);return o.length&&(u+="?".concat(o)),u}function _(t){return Object.keys(t).map(function(n){return x("%s=%s",n,(r=t[n],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(t[n]):t[n]));var r}).join("&")}function N(t){return t.map(function(n){return $(n)})}function $(t){var n=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return e(e({},t),{},{request:e(e({},t.request),{},{headers:e(e({},t.request.headers),n)})})}var ye=function(t){return function(n,r){return t.transporter.write({method:P,path:"2/abtests",data:n},r)}},Ne=function(t){return function(n,r){return t.transporter.write({method:T,path:x("2/abtests/%s",n)},r)}},Ht=function(t){return function(n,r){return t.transporter.read({method:I,path:x("2/abtests/%s",n)},r)}},Jt=function(t){return function(n){return t.transporter.read({method:I,path:"2/abtests"},n)}},Wt=function(t){return function(n,r){return t.transporter.write({method:P,path:x("2/abtests/%s/stop",n)},r)}},Qt=function(t){return function(n){return t.transporter.read({method:I,path:"1/strategies/personalization"},n)}},Gt=function(t){return function(n,r){return t.transporter.write({method:P,path:"1/strategies/personalization",data:n},r)}};function Ye(t){return function n(r){return t.request(r).then(function(o){if(t.batch!==void 0&&t.batch(o.hits),!t.shouldStop(o))return o.cursor?n({cursor:o.cursor}):n({page:(r.page||0)+1})})}({})}var Vt=function(t){return function(n,r){var o=r||{},u=o.queryParameters,c=l(o,["queryParameters"]),m=e({acl:n},u!==void 0?{queryParameters:u}:{});return b(t.transporter.write({method:P,path:"1/keys",data:m},c),function(g,f){return j(function(h){return qe(t)(g.key,f).catch(function(y){if(y.status!==404)throw y;return h()})})})}},Yt=function(t){return function(n,r,o){var u=H(o);return u.queryParameters["X-Algolia-User-ID"]=n,t.transporter.write({method:P,path:"1/clusters/mapping",data:{cluster:r}},u)}},Xt=function(t){return function(n,r,o){return t.transporter.write({method:P,path:"1/clusters/mapping/batch",data:{users:n,cluster:r}},o)}},Zt=function(t){return function(n,r){return b(t.transporter.write({method:P,path:x("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),function(o,u){return De(t)(o.taskID,u)})}},ze=function(t){return function(n,r,o){return b(t.transporter.write({method:P,path:x("1/indexes/%s/operation",n),data:{operation:"copy",destination:r}},o),function(u,c){return Ke(t)(n,{methods:{waitTask:te}}).waitTask(u.taskID,c)})}},en=function(t){return function(n,r,o){return ze(t)(n,r,e(e({},o),{},{scope:[nt.Rules]}))}},tn=function(t){return function(n,r,o){return ze(t)(n,r,e(e({},o),{},{scope:[nt.Settings]}))}},nn=function(t){return function(n,r,o){return ze(t)(n,r,e(e({},o),{},{scope:[nt.Synonyms]}))}},rn=function(t){return function(n,r){return n.method===I?t.transporter.read(n,r):t.transporter.write(n,r)}},an=function(t){return function(n,r){return b(t.transporter.write({method:T,path:x("1/keys/%s",n)},r),function(o,u){return j(function(c){return qe(t)(n,u).then(c).catch(function(m){if(m.status!==404)throw m})})})}},on=function(t){return function(n,r,o){var u=r.map(function(c){return{action:"deleteEntry",body:{objectID:c}}});return b(t.transporter.write({method:P,path:x("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},o),function(c,m){return De(t)(c.taskID,m)})}},qe=function(t){return function(n,r){return t.transporter.read({method:I,path:x("1/keys/%s",n)},r)}},vt=function(t){return function(n,r){return t.transporter.read({method:I,path:x("1/task/%s",n.toString())},r)}},sn=function(t){return function(n){return t.transporter.read({method:I,path:"/1/dictionaries/*/settings"},n)}},un=function(t){return function(n){return t.transporter.read({method:I,path:"1/logs"},n)}},dn=function(t){return function(n){return t.transporter.read({method:I,path:"1/clusters/mapping/top"},n)}},ln=function(t){return function(n,r){return t.transporter.read({method:I,path:x("1/clusters/mapping/%s",n)},r)}},cn=function(t){return function(n){var r=n||{},o=r.retrieveMappings,u=l(r,["retrieveMappings"]);return o===!0&&(u.getClusters=!0),t.transporter.read({method:I,path:"1/clusters/mapping/pending"},u)}},Ke=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o={transporter:t.transporter,appId:t.appId,indexName:n};return B(o,r.methods)}},fn=function(t){return function(n){return t.transporter.read({method:I,path:"1/keys"},n)}},hn=function(t){return function(n){return t.transporter.read({method:I,path:"1/clusters"},n)}},pn=function(t){return function(n){return t.transporter.read({method:I,path:"1/indexes"},n)}},mn=function(t){return function(n){return t.transporter.read({method:I,path:"1/clusters/mapping"},n)}},gn=function(t){return function(n,r,o){return b(t.transporter.write({method:P,path:x("1/indexes/%s/operation",n),data:{operation:"move",destination:r}},o),function(u,c){return Ke(t)(n,{methods:{waitTask:te}}).waitTask(u.taskID,c)})}},yn=function(t){return function(n,r){return b(t.transporter.write({method:P,path:"1/indexes/*/batch",data:{requests:n}},r),function(o,u){return Promise.all(Object.keys(o.taskID).map(function(c){return Ke(t)(c,{methods:{waitTask:te}}).waitTask(o.taskID[c],u)}))})}},vn=function(t){return function(n,r){return t.transporter.read({method:P,path:"1/indexes/*/objects",data:{requests:n}},r)}},bt=function(t){return function(n,r){var o=n.map(function(u){return e(e({},u),{},{params:_(u.params||{})})});return t.transporter.read({method:P,path:"1/indexes/*/queries",data:{requests:o},cacheable:!0},r)}},kt=function(t){return function(n,r){return Promise.all(n.map(function(o){var u=o.params,c=u.facetName,m=u.facetQuery,g=l(u,["facetName","facetQuery"]);return Ke(t)(o.indexName,{methods:{searchForFacetValues:Dt}}).searchForFacetValues(c,m,e(e({},r),g))}))}},bn=function(t){return function(n,r){var o=H(r);return o.queryParameters["X-Algolia-User-ID"]=n,t.transporter.write({method:T,path:"1/clusters/mapping"},o)}},kn=function(t){return function(n,r,o){var u=r.map(function(c){return{action:"addEntry",body:c}});return b(t.transporter.write({method:P,path:x("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:u}},o),function(c,m){return De(t)(c.taskID,m)})}},Nn=function(t){return function(n,r){return b(t.transporter.write({method:P,path:x("1/keys/%s/restore",n)},r),function(o,u){return j(function(c){return qe(t)(n,u).catch(function(m){if(m.status!==404)throw m;return c()})})})}},Cn=function(t){return function(n,r,o){var u=r.map(function(c){return{action:"addEntry",body:c}});return b(t.transporter.write({method:P,path:x("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},o),function(c,m){return De(t)(c.taskID,m)})}},wn=function(t){return function(n,r,o){return t.transporter.read({method:P,path:x("/1/dictionaries/%s/search",n),data:{query:r},cacheable:!0},o)}},xn=function(t){return function(n,r){return t.transporter.read({method:P,path:"1/clusters/mapping/search",data:{query:n}},r)}},En=function(t){return function(n,r){return b(t.transporter.write({method:se,path:"/1/dictionaries/*/settings",data:n},r),function(o,u){return De(t)(o.taskID,u)})}},Dn=function(t){return function(n,r){var o=Object.assign({},r),u=r||{},c=u.queryParameters,m=l(u,["queryParameters"]),g=c?{queryParameters:c}:{},f=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return b(t.transporter.write({method:se,path:x("1/keys/%s",n),data:g},m),function(h,y){return j(function(D){return qe(t)(n,y).then(function(O){return function(R){return Object.keys(o).filter(function(K){return f.indexOf(K)!==-1}).every(function(K){if(Array.isArray(R[K])&&Array.isArray(o[K])){var F=R[K];return F.length===o[K].length&&F.every(function(J,ae){return J===o[K][ae]})}return R[K]===o[K]})}(O)?Promise.resolve():D()})})})}},De=function(t){return function(n,r){return j(function(o){return vt(t)(n,r).then(function(u){return u.status!=="published"?o():void 0})})}},Nt=function(t){return function(n,r){return b(t.transporter.write({method:P,path:x("1/indexes/%s/batch",t.indexName),data:{requests:n}},r),function(o,u){return te(t)(o.taskID,u)})}},In=function(t){return function(n){return Ye(e(e({shouldStop:function(r){return r.cursor===void 0}},n),{},{request:function(r){return t.transporter.read({method:P,path:x("1/indexes/%s/browse",t.indexName),data:r},n)}}))}},Pn=function(t){return function(n){var r=e({hitsPerPage:1e3},n);return Ye(e(e({shouldStop:function(o){return o.hits.length<r.hitsPerPage}},r),{},{request:function(o){return It(t)("",e(e({},r),o)).then(function(u){return e(e({},u),{},{hits:u.hits.map(function(c){return delete c._highlightResult,c})})})}}))}},On=function(t){return function(n){var r=e({hitsPerPage:1e3},n);return Ye(e(e({shouldStop:function(o){return o.hits.length<r.hitsPerPage}},r),{},{request:function(o){return Pt(t)("",e(e({},r),o)).then(function(u){return e(e({},u),{},{hits:u.hits.map(function(c){return delete c._highlightResult,c})})})}}))}},Xe=function(t){return function(n,r,o){var u=o||{},c=u.batchSize,m=l(u,["batchSize"]),g={taskIDs:[],objectIDs:[]};return b(function f(){var h,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=[];for(h=y;h<n.length&&(D.push(n[h]),D.length!==(c||1e3));h++);return D.length===0?Promise.resolve(g):Nt(t)(D.map(function(O){return{action:r,body:O}}),m).then(function(O){return g.objectIDs=g.objectIDs.concat(O.objectIDs),g.taskIDs.push(O.taskID),h++,f(h)})}(),function(f,h){return Promise.all(f.taskIDs.map(function(y){return te(t)(y,h)}))})}},Tn=function(t){return function(n){return b(t.transporter.write({method:P,path:x("1/indexes/%s/clear",t.indexName)},n),function(r,o){return te(t)(r.taskID,o)})}},jn=function(t){return function(n){var r=n||{},o=r.forwardToReplicas,u=H(l(r,["forwardToReplicas"]));return o&&(u.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:P,path:x("1/indexes/%s/rules/clear",t.indexName)},u),function(c,m){return te(t)(c.taskID,m)})}},Sn=function(t){return function(n){var r=n||{},o=r.forwardToReplicas,u=H(l(r,["forwardToReplicas"]));return o&&(u.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:P,path:x("1/indexes/%s/synonyms/clear",t.indexName)},u),function(c,m){return te(t)(c.taskID,m)})}},qn=function(t){return function(n,r){return b(t.transporter.write({method:P,path:x("1/indexes/%s/deleteByQuery",t.indexName),data:n},r),function(o,u){return te(t)(o.taskID,u)})}},Kn=function(t){return function(n){return b(t.transporter.write({method:T,path:x("1/indexes/%s",t.indexName)},n),function(r,o){return te(t)(r.taskID,o)})}},An=function(t){return function(n,r){return b(Ct(t)([n],r).then(function(o){return{taskID:o.taskIDs[0]}}),function(o,u){return te(t)(o.taskID,u)})}},Ct=function(t){return function(n,r){var o=n.map(function(u){return{objectID:u}});return Xe(t)(o,ce.DeleteObject,r)}},_n=function(t){return function(n,r){var o=r||{},u=o.forwardToReplicas,c=H(l(o,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:T,path:x("1/indexes/%s/rules/%s",t.indexName,n)},c),function(m,g){return te(t)(m.taskID,g)})}},Rn=function(t){return function(n,r){var o=r||{},u=o.forwardToReplicas,c=H(l(o,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:T,path:x("1/indexes/%s/synonyms/%s",t.indexName,n)},c),function(m,g){return te(t)(m.taskID,g)})}},Bn=function(t){return function(n){return wt(t)(n).then(function(){return!0}).catch(function(r){if(r.status!==404)throw r;return!1})}},Ln=function(t){return function(n,r,o){return t.transporter.read({method:P,path:x("1/answers/%s/prediction",t.indexName),data:{query:n,queryLanguages:r},cacheable:!0},o)}},$n=function(t){return function(n,r){var o=r||{},u=o.query,c=o.paginate,m=l(o,["query","paginate"]),g=0;return function f(){return Et(t)(u||"",e(e({},m),{},{page:g})).then(function(h){for(var y=0,D=Object.entries(h.hits);y<D.length;y++){var O=p(D[y],2),R=O[0],K=O[1];if(n(K))return{object:K,position:parseInt(R,10),page:g}}if(g++,c===!1||g>=h.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return f()})}()}},Fn=function(t){return function(n,r){return t.transporter.read({method:I,path:x("1/indexes/%s/%s",t.indexName,n)},r)}},zn=function(){return function(t,n){for(var r=0,o=Object.entries(t.hits);r<o.length;r++){var u=p(o[r],2),c=u[0];if(u[1].objectID===n)return parseInt(c,10)}return-1}},Un=function(t){return function(n,r){var o=r||{},u=o.attributesToRetrieve,c=l(o,["attributesToRetrieve"]),m=n.map(function(g){return e({indexName:t.indexName,objectID:g},u?{attributesToRetrieve:u}:{})});return t.transporter.read({method:P,path:"1/indexes/*/objects",data:{requests:m}},c)}},Mn=function(t){return function(n,r){return t.transporter.read({method:I,path:x("1/indexes/%s/rules/%s",t.indexName,n)},r)}},wt=function(t){return function(n){return t.transporter.read({method:I,path:x("1/indexes/%s/settings",t.indexName),data:{getVersion:2}},n)}},Hn=function(t){return function(n,r){return t.transporter.read({method:I,path:x("1/indexes/%s/synonyms/%s",t.indexName,n)},r)}},Jn=function(t){return function(n,r){return b(xt(t)([n],r).then(function(o){return{objectID:o.objectIDs[0],taskID:o.taskIDs[0]}}),function(o,u){return te(t)(o.taskID,u)})}},xt=function(t){return function(n,r){var o=r||{},u=o.createIfNotExists,c=l(o,["createIfNotExists"]),m=u?ce.PartialUpdateObject:ce.PartialUpdateObjectNoCreate;return Xe(t)(n,m,c)}},Wn=function(t){return function(n,r){var o=r||{},u=o.safe,c=o.autoGenerateObjectIDIfNotExist,m=o.batchSize,g=l(o,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),f=function(K,F,J,ae){return b(t.transporter.write({method:P,path:x("1/indexes/%s/operation",K),data:{operation:J,destination:F}},ae),function(Ae,ue){return te(t)(Ae.taskID,ue)})},h=Math.random().toString(36).substring(7),y="".concat(t.indexName,"_tmp_").concat(h),D=Ze({appId:t.appId,transporter:t.transporter,indexName:y}),O=[],R=f(t.indexName,y,"copy",e(e({},g),{},{scope:["settings","synonyms","rules"]}));return O.push(R),b((u?R.wait(g):R).then(function(){var K=D(n,e(e({},g),{},{autoGenerateObjectIDIfNotExist:c,batchSize:m}));return O.push(K),u?K.wait(g):K}).then(function(){var K=f(y,t.indexName,"move",g);return O.push(K),u?K.wait(g):K}).then(function(){return Promise.all(O)}).then(function(K){var F=p(K,3),J=F[0],ae=F[1],Ae=F[2];return{objectIDs:ae.objectIDs,taskIDs:[J.taskID].concat(w(ae.taskIDs),[Ae.taskID])}}),function(K,F){return Promise.all(O.map(function(J){return J.wait(F)}))})}},Qn=function(t){return function(n,r){return et(t)(n,e(e({},r),{},{clearExistingRules:!0}))}},Gn=function(t){return function(n,r){return tt(t)(n,e(e({},r),{},{clearExistingSynonyms:!0}))}},Vn=function(t){return function(n,r){return b(Ze(t)([n],r).then(function(o){return{objectID:o.objectIDs[0],taskID:o.taskIDs[0]}}),function(o,u){return te(t)(o.taskID,u)})}},Ze=function(t){return function(n,r){var o=r||{},u=o.autoGenerateObjectIDIfNotExist,c=l(o,["autoGenerateObjectIDIfNotExist"]),m=u?ce.AddObject:ce.UpdateObject;if(m===ce.UpdateObject){var g=!0,f=!1,h=void 0;try{for(var y,D=n[Symbol.iterator]();!(g=(y=D.next()).done);g=!0)if(y.value.objectID===void 0)return b(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(O){f=!0,h=O}finally{try{g||D.return==null||D.return()}finally{if(f)throw h}}}return Xe(t)(n,m,c)}},Yn=function(t){return function(n,r){return et(t)([n],r)}},et=function(t){return function(n,r){var o=r||{},u=o.forwardToReplicas,c=o.clearExistingRules,m=H(l(o,["forwardToReplicas","clearExistingRules"]));return u&&(m.queryParameters.forwardToReplicas=1),c&&(m.queryParameters.clearExistingRules=1),b(t.transporter.write({method:P,path:x("1/indexes/%s/rules/batch",t.indexName),data:n},m),function(g,f){return te(t)(g.taskID,f)})}},Xn=function(t){return function(n,r){return tt(t)([n],r)}},tt=function(t){return function(n,r){var o=r||{},u=o.forwardToReplicas,c=o.clearExistingSynonyms,m=o.replaceExistingSynonyms,g=H(l(o,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return u&&(g.queryParameters.forwardToReplicas=1),(m||c)&&(g.queryParameters.replaceExistingSynonyms=1),b(t.transporter.write({method:P,path:x("1/indexes/%s/synonyms/batch",t.indexName),data:n},g),function(f,h){return te(t)(f.taskID,h)})}},Et=function(t){return function(n,r){return t.transporter.read({method:P,path:x("1/indexes/%s/query",t.indexName),data:{query:n},cacheable:!0},r)}},Dt=function(t){return function(n,r,o){return t.transporter.read({method:P,path:x("1/indexes/%s/facets/%s/query",t.indexName,n),data:{facetQuery:r},cacheable:!0},o)}},It=function(t){return function(n,r){return t.transporter.read({method:P,path:x("1/indexes/%s/rules/search",t.indexName),data:{query:n}},r)}},Pt=function(t){return function(n,r){return t.transporter.read({method:P,path:x("1/indexes/%s/synonyms/search",t.indexName),data:{query:n}},r)}},Zn=function(t){return function(n,r){var o=r||{},u=o.forwardToReplicas,c=H(l(o,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:se,path:x("1/indexes/%s/settings",t.indexName),data:n},c),function(m,g){return te(t)(m.taskID,g)})}},te=function(t){return function(n,r){return j(function(o){return function(u){return function(c,m){return u.transporter.read({method:I,path:x("1/indexes/%s/task/%s",u.indexName,c.toString())},m)}}(t)(n,r).then(function(u){return u.status!=="published"?o():void 0})})}},ce={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject"},nt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},er=1,tr=2,nr=3,Ue=function(t){return function(n,r){var o=n.map(function(u){return e(e({},u),{},{threshold:u.threshold||0})});return t.transporter.read({method:P,path:"1/indexes/*/recommendations",data:{requests:o},cacheable:!0},r)}},rr=function(t){return function(n,r){return Ue(t)(n.map(function(o){return e(e({},o),{},{fallbackParameters:{},model:"bought-together"})}),r)}},ar=function(t){return function(n,r){return Ue(t)(n.map(function(o){return e(e({},o),{},{model:"related-products"})}),r)}},or=function(t){return function(n,r){var o=n.map(function(u){return e(e({},u),{},{model:"trending-facets",threshold:u.threshold||0})});return t.transporter.read({method:P,path:"1/indexes/*/recommendations",data:{requests:o},cacheable:!0},r)}},sr=function(t){return function(n,r){var o=n.map(function(u){return e(e({},u),{},{model:"trending-items",threshold:u.threshold||0})});return t.transporter.read({method:P,path:"1/indexes/*/recommendations",data:{requests:o},cacheable:!0},r)}},ir=function(t){return function(n,r){return Ue(t)(n.map(function(o){return e(e({},o),{},{model:"looking-similar"})}),r)}},ur=function(t){return function(n,r){var o=n.map(function(u){return e(e({},u),{},{model:"recommended-for-you",threshold:u.threshold||0})});return t.transporter.read({method:P,path:"1/indexes/*/recommendations",data:{requests:o},cacheable:!0},r)}};function dr(t,n){return function(r,o){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=o||{},c=u.autoGenerateObjectIDIfNotExist,m=u.watch,g=l(u,["autoGenerateObjectIDIfNotExist","watch"]),f=c?ce.AddObject:ce.UpdateObject;return n.push({indexName:t,pushTaskPayload:{action:f,records:r},watch:m},g)}}function lr(t,n){return function(r,o){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=o||{},c=u.createIfNotExists,m=u.watch,g=l(u,["createIfNotExists","watch"]),f=c?ce.PartialUpdateObject:ce.PartialUpdateObjectNoCreate;return n.push({indexName:t,pushTaskPayload:{action:f,records:r},watch:m},g)}}function he(t){return{name:"TransformationConfigurationError",message:t}}function Ot(t,n,r){var o,u,c={appId:t,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(f){return new Promise(function(h){var y=new XMLHttpRequest;y.open(f.method,f.url,!0),Object.keys(f.headers).forEach(function(K){return y.setRequestHeader(K,f.headers[K])});var D,O=function(K,F){return setTimeout(function(){y.abort(),h({status:0,content:F,isTimedOut:!0})},1e3*K)},R=O(f.connectTimeout,"Connection timeout");y.onreadystatechange=function(){y.readyState>y.OPENED&&D===void 0&&(clearTimeout(R),D=O(f.responseTimeout,"Socket timeout"))},y.onerror=function(){y.status===0&&(clearTimeout(R),clearTimeout(D),h({content:y.responseText||"Network request failed",status:y.status,isTimedOut:!1}))},y.onload=function(){clearTimeout(R),clearTimeout(D),h({content:y.responseText,status:y.status,isTimedOut:!1})},y.send(f.data)})}},logger:(o=nr,{debug:function(f,h){return er>=o&&console.debug(f,h),Promise.resolve()},info:function(f,h){return tr>=o&&console.info(f,h),Promise.resolve()},error:function(f,h){return console.error(f,h),Promise.resolve()}}),responsesCache:k(),requestsCache:k({serializable:!1}),hostsCache:v({caches:[q({key:"".concat("4.25.2","-").concat(t)}),k()]}),userAgent:je("4.25.2").add({segment:"Browser"})},m=e(e({},c),r),g=function(){return function(f){return function(h){var y=h.region||"us",D=E(W.WithinHeaders,h.appId,h.apiKey),O=le(e(e({hosts:[{url:"personalization.".concat(y,".algolia.com")}]},h),{},{headers:e(e(e({},D.headers()),{"content-type":"application/json"}),h.headers),queryParameters:e(e({},D.queryParameters()),h.queryParameters)}));return B({appId:h.appId,transporter:O},h.methods)}(e(e(e({},c),f),{},{methods:{getPersonalizationStrategy:Qt,setPersonalizationStrategy:Gt}}))}};if(r&&r.transformation){if(!r.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");u=function(f){if(!f||!f.transformation||!f.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");if(f.transformation.region!=="eu"&&f.transformation.region!=="us")throw he("`region` is required and must be one of the following: eu, us");var h=f.appId,y=E(W.WithinHeaders,h,f.apiKey),D=le(e(e({hosts:[{url:"data.".concat(f.transformation.region,".algolia.com"),accept:Z.ReadWrite,protocol:"https"}]},f),{},{headers:e(e(e({},y.headers()),{"content-type":"text/plain"}),f.headers),queryParameters:e(e({},y.queryParameters()),f.queryParameters)}));return{transporter:D,appId:h,addAlgoliaAgent:function(O,R){D.userAgent.add({segment:O,version:R}),D.userAgent.add({segment:"Ingestion",version:R}),D.userAgent.add({segment:"Ingestion via Algoliasearch"})},clearCache:function(){return Promise.all([D.requestsCache.clear(),D.responsesCache.clear()]).then(function(){})},push:function(O,R){var K=O.indexName,F=O.pushTaskPayload,J=O.watch;if(!K)throw he("Parameter `indexName` is required when calling `push`.");if(!F)throw he("Parameter `pushTaskPayload` is required when calling `push`.");if(!F.action)throw he("Parameter `pushTaskPayload.action` is required when calling `push`.");if(!F.records)throw he("Parameter `pushTaskPayload.records` is required when calling `push`.");var ae=R||{queryParameters:{}};return D.write({method:P,path:x("1/push/%s",K),data:F},e(e({},ae),{},{queryParameters:e(e({},ae.queryParameters),{},{watch:J!==void 0})}))}}}(e(e({},r),c))}return function(f){var h=f.appId,y=E(f.authMode!==void 0?f.authMode:W.WithinHeaders,h,f.apiKey),D=le(e(e({hosts:[{url:"".concat(h,"-dsn.algolia.net"),accept:Z.Read},{url:"".concat(h,".algolia.net"),accept:Z.Write}].concat(L([{url:"".concat(h,"-1.algolianet.com")},{url:"".concat(h,"-2.algolianet.com")},{url:"".concat(h,"-3.algolianet.com")}]))},f),{},{headers:e(e(e({},y.headers()),{"content-type":"application/x-www-form-urlencoded"}),f.headers),queryParameters:e(e({},y.queryParameters()),f.queryParameters)}));return B({transporter:D,appId:h,addAlgoliaAgent:function(O,R){D.userAgent.add({segment:O,version:R})},clearCache:function(){return Promise.all([D.requestsCache.clear(),D.responsesCache.clear()]).then(function(){})}},f.methods)}(e(e({},m),{},{methods:{search:bt,searchForFacetValues:kt,multipleBatch:yn,multipleGetObjects:vn,multipleQueries:bt,copyIndex:ze,copySettings:tn,copySynonyms:nn,copyRules:en,moveIndex:gn,listIndices:pn,getLogs:un,listClusters:hn,multipleSearchForFacetValues:kt,getApiKey:qe,addApiKey:Vt,listApiKeys:fn,updateApiKey:Dn,deleteApiKey:an,restoreApiKey:Nn,assignUserID:Yt,assignUserIDs:Xt,getUserID:ln,searchUserIDs:xn,listUserIDs:mn,getTopUserIDs:dn,removeUserID:bn,hasPendingMappings:cn,clearDictionaryEntries:Zt,deleteDictionaryEntries:on,getDictionarySettings:sn,getAppTask:vt,replaceDictionaryEntries:kn,saveDictionaryEntries:Cn,searchDictionaryEntries:wn,setDictionarySettings:En,waitAppTask:De,customRequest:rn,initIndex:function(f){return function(h){return e(e({},Ke(f)(h,{methods:{batch:Nt,delete:Kn,findAnswers:Ln,getObject:Fn,getObjects:Un,saveObject:Vn,saveObjects:Ze,search:Et,searchForFacetValues:Dt,waitTask:te,setSettings:Zn,getSettings:wt,partialUpdateObject:Jn,partialUpdateObjects:xt,deleteObject:An,deleteObjects:Ct,deleteBy:qn,clearObjects:Tn,browseObjects:In,getObjectPosition:zn,findObject:$n,exists:Bn,saveSynonym:Xn,saveSynonyms:tt,getSynonym:Hn,searchSynonyms:Pt,browseSynonyms:On,deleteSynonym:Rn,clearSynonyms:Sn,replaceAllObjects:Wn,replaceAllSynonyms:Gn,searchRules:It,getRule:Mn,deleteRule:_n,saveRule:Yn,saveRules:et,replaceAllRules:Qn,browseRules:Pn,clearRules:jn}})),{},{saveObjectsWithTransformation:dr(h,u),partialUpdateObjectsWithTransformation:lr(h,u)})}},initAnalytics:function(){return function(f){return function(h){var y=h.region||"us",D=E(W.WithinHeaders,h.appId,h.apiKey),O=le(e(e({hosts:[{url:"analytics.".concat(y,".algolia.com")}]},h),{},{headers:e(e(e({},D.headers()),{"content-type":"application/json"}),h.headers),queryParameters:e(e({},D.queryParameters()),h.queryParameters)}));return B({appId:h.appId,transporter:O},h.methods)}(e(e(e({},c),f),{},{methods:{addABTest:ye,getABTest:Ht,getABTests:Jt,stopABTest:Wt,deleteABTest:Ne}}))}},initPersonalization:g,initRecommendation:function(){return function(f){return m.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),g()(f)}},getRecommendations:Ue,getFrequentlyBoughtTogether:rr,getLookingSimilar:ir,getRecommendedForYou:ur,getRelatedProducts:ar,getTrendingFacets:or,getTrendingItems:sr}}))}return Ot.version="4.25.2",Ot})}(Qe)),Qe.exports}var ga=ma();const ya=qr(ga),va=ya("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),Mt=va.initIndex("npm-search"),ba=async(a,s=0,i=10)=>{try{const d=wa(a);if(!d)return{response:null,query:a};const e={page:s,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:d.facetFilters?d.facetFilters:void 0},l=await Mt.search(d.query,e);return l.hits.sort((p,w)=>p.name===d.query?-1:w.name===d.query?1:0),{response:l,query:a}}catch{return{response:null,query:a}}};async function ka(a){return Mt.getObject(a)}const Na=/\s*[a-z]+\s*:\s*(?:.(?![a-z]*\s*:))*/gi,Ca=/^((?:[^\s:]+(?!\s*:)\s*)*)/,Rt={author:"owner.name",type:"moduleTypes"};function wa(a){const s=a.match(Ca)?.[0].trim();if(s==null)return;const i=a,d=[];let e;for(;(e=Na.exec(i))!==null;){const l=e[0].split(":");Rt[l[0].trim()]&&d.push(`${Rt[l[0].trim()]}:${l[1].trim()}`)}return{query:s,facetFilters:d.join(",")}}const xa={key:0},Ea={class:"result-list"},Da={class:"pkgName"},Ia={class:"meta"},Pa=["onClick"],Oa=["src","alt"],Ta=["title"],ja={key:0,class:"description"},Sa={key:1,flex:"","gap-2":""},qa={key:0},Ka={key:1},Aa={key:2},_a={key:3},Ra={key:4},Ba={key:5},La={key:7},$a={key:8},Fa={key:9},za={key:0,flex:"","items-center":""},Ua={key:1,flex:"","items-center":""},Ma=10,Ha=Oe({__name:"cdnQuery",setup(a){let s=null;const i=X(!1),d=X(""),e=X(""),l=X(0),p=X([]),w=X(0),q=X(""),v=X(),k=X(""),E=X([]),j=X(),b=X([]),L=ct(()=>b.value&&b.value.length?Z(b.value):[]);async function B(V=0){if(!d.value){i.value=!1,v.value=null,k.value="",E.value=[],p.value=[],l.value=0,w.value=0,e.value="";return}s&&clearTimeout(s),s=window.setTimeout(async()=>{i.value=!0;const{response:C,query:z}=await ba(d.value,V,Ma);if(z===d.value){if(C){const{hits:Y,page:de,nbHits:T}=C;p.value=Y,w.value=T,l.value=de,e.value="done"}else _r.warning("æç´¢å¤±è´¥");i.value=!1}},200)}function x(V){d.value=`author:${V}`,B(0)}async function W(V){q.value=V,v.value=null,k.value="",E.value=[],j.value=null,b.value=[];try{v.value=await ka(V),k.value=v.value.version??"",await H()}catch(C){console.error(C.message)}}async function H(){try{E.value=[],j.value=null,b.value=[],E.value=(await qt.get(`https://data.jsdelivr.com/v1/package/npm/${v.value?.name??""}`)).data.versions.map(z=>({label:z,value:z}));const{default:V,files:C}=(await qt.get(`https://data.jsdelivr.com/v1/package/npm/${v.value?.name??""}@${k.value}`)).data;j.value=V,b.value=C}catch(V){console.error(V.message)}}function Z(V,C){return V.map(z=>{const Y=C?`${C}/${z.name}`:`/${z.name}`;return{label:z.name,icon:z.type==="directory"?"Folder":"",isLeaf:z.type!=="directory",fileName:Y,children:z.type==="directory"&&z.files?Z(z.files,Y):void 0}})}return(V,C)=>{const z=Mr,Y=Hr,de=Jr,T=Kr,I=Ur,P=Gr,se=zr,ge=Fr,Ee=$r,le=Qr,je=Wr,Se=ha;return A(),M(pe,null,[ee(Y,null,{default:Q(()=>[U("blockquote",null,[U("ul",null,[U("li",null,[C[6]||(C[6]=ne(" æ°æ®æ¥èª: ",-1)),ee(z,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:Q(()=>[...C[5]||(C[5]=[ne(" JSDelivr ",-1)])]),_:1})]),U("li",null,[C[8]||(C[8]=ne(" æç´¢æ¥å£æ¥èª: ",-1)),ee(z,{href:"https://www.algolia.com/",target:"_blank"},{default:Q(()=>[...C[7]||(C[7]=[ne(" Algolia ",-1)])]),_:1})])])])]),_:1}),ee(de,{level:3},{default:Q(()=>[...C[9]||(C[9]=[ne(" è¯·è¾å¥è¦è·åCDNçåºå ",-1)])]),_:1}),ee(T,{modelValue:S(d),"onUpdate:modelValue":C[0]||(C[0]=_=>St(d)?d.value=_:null),placeholder:"jquery",clearable:"",onChange:C[1]||(C[1]=_=>B(0))},null,8,["modelValue"]),(A(),ie(Ar,null,[S(e)==="done"?(A(),M(pe,{key:0},[ee(I),S(q)?(A(),M(pe,{key:1},[ee(z,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:C[3]||(C[3]=_=>q.value=null)},{default:Q(()=>[...C[12]||(C[12]=[U("span",{class:"i-icon-park-outline-return"},null,-1),ne(" è¿å ",-1)])]),_:1}),S(v)?(A(),ie(je,{key:0,class:"metaDetail"},{default:Q(()=>[U("ul",null,[S(v).name?(A(),M("li",qa,[C[13]||(C[13]=U("b",null,"åç§°: ",-1)),ne(re(S(v).name),1)])):G("",!0),S(v).homepage?(A(),M("li",Ka,[C[14]||(C[14]=U("b",null,"ä¸»é¡µ: ",-1)),ee(z,{href:S(v).homepage,target:"_blank"},{default:Q(()=>[ne(re(S(v).homepage),1)]),_:1},8,["href"])])):G("",!0),S(v).description?(A(),M("li",Aa,[C[15]||(C[15]=U("b",null,"ç®ä»: ",-1)),ne(re(S(v).description),1)])):G("",!0),S(v).repository?(A(),M("li",_a,[C[16]||(C[16]=U("b",null,"ä»åº: ",-1)),ne(re(S(v).repository.type)+" / ",1),ee(z,{href:S(v).repository.url,target:"_blank"},{default:Q(()=>[ne(re(S(v).repository.url),1)]),_:1},8,["href"])])):G("",!0),S(v).license?(A(),M("li",Ra,[C[17]||(C[17]=U("b",null,"åè®®: ",-1)),ne(re(S(v).license),1)])):G("",!0),S(v).owner?(A(),M("li",Ba,[C[18]||(C[18]=U("b",null,"ä½è: ",-1)),ne(re(S(v).owner.name)+" / ",1),ee(z,{href:S(v).owner.link,target:"_blank"},{default:Q(()=>[ne(re(S(v).owner.link),1)]),_:1},8,["href"])])):G("",!0),S(E).length?(A(),ie(I,{key:6})):G("",!0),S(E).length?(A(),M("li",La,[C[19]||(C[19]=U("b",null,"çæ¬: ",-1)),ee(Ee,{modelValue:S(k),"onUpdate:modelValue":C[4]||(C[4]=_=>St(k)?k.value=_:null),options:S(E),onChange:H},{default:Q(()=>[(A(!0),M(pe,null,Le(S(E),_=>(A(),ie(ge,{key:_.value,value:_.value,label:_.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):G("",!0),S(j)?(A(),M("li",$a,[C[20]||(C[20]=U("b",null,"é»è®¤æä»¶: ",-1)),ee(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(v).name}@${S(k)}${S(j)}`}},{default:Q(()=>[ee(z,{href:`https://cdn.jsdelivr.net/npm/${S(v).name}@${S(k)}${S(j)}`,target:"_blank"},{default:Q(()=>[ne(re(S(j)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):G("",!0),S(b)&&S(b).length?(A(),M("li",Fa,[...C[21]||(C[21]=[U("b",null,"æä»¶åè¡¨",-1),U("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)])])):G("",!0)])]),_:1})):G("",!0),S(v)&&S(b)&&S(b).length?(A(),ie(Se,{key:1,data:S(L),selectable:!1},{default:Q(({data:_})=>[_.isLeaf?(A(),M("div",za,[C[22]||(C[22]=U("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),ee(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(v).name}@${S(k)}${_.fileName}`}},{default:Q(()=>[ne(re(_.label),1)]),_:2},1032,["copyable"])])):(A(),M("div",Ua,[C[23]||(C[23]=U("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),ee(le,null,{default:Q(()=>[ne(re(_.label),1)]),_:2},1024)]))]),_:1},8,["data"])):G("",!0)],64)):(A(),M(pe,{key:0},[ee(de,{level:4},{default:Q(()=>[U("span",null,"å±æ¾å° "+re(S(w))+" ä¸ªåº",1),S(w)>1e3?(A(),M("span",xa,"ï¼æå¤å±ç¤ºå 1000 ä¸ªç»æ")):G("",!0)]),_:1}),U("div",Ea,[(A(!0),M(pe,null,Le(S(p),_=>(A(),M("div",{key:_.objectID,class:"result-list-item"},[U("div",Da,[ee(de,{level:4,onClick:N=>W(_.objectID)},{default:Q(()=>[ne(re(_.name),1)]),_:2},1032,["onClick"])]),U("div",Ia,[_.owner?(A(),M("div",{key:0,class:"owner",onClick:N=>x(_.owner.name)},[U("img",{src:_.owner.avatar,alt:_.owner.name},null,8,Oa),U("div",null,re(_.owner.name),1)],8,Pa)):G("",!0),_.version?(A(),ie(P,{key:1,effect:"plain"},{default:Q(()=>[C[10]||(C[10]=U("span",{class:"i-icon-park-outline-tag-one"},null,-1)),U("span",{title:_.version},re(_.version),9,Ta)]),_:2},1024)):G("",!0),_.license?(A(),ie(P,{key:2,effect:"plain"},{default:Q(()=>[C[11]||(C[11]=U("span",{class:"i-icon-park-outline-balance-two"},null,-1)),ne(re(_.license),1)]),_:2},1024)):G("",!0)]),_.description?(A(),M("div",ja,re(_.description),1)):G("",!0),_.keywords&&_.keywords.length?(A(),M("div",Sa,[(A(!0),M(pe,null,Le(_.keywords,(N,$)=>(A(),ie(P,{key:$,effect:"plain"},{default:Q(()=>[ne(re(N),1)]),_:2},1024))),128))])):G("",!0)]))),128))]),ee(se,{layout:"prev,jumper,next",total:S(w)>1e3?1e3:S(w),"hide-on-single-page":!0,onCurrentChange:C[2]||(C[2]=_=>B(_-1))},null,8,["total"])],64))],64)):G("",!0)],1024))],64)}}}),fo=Rr(Ha,[["__scopeId","data-v-ead9b880"]]);export{fo as default};
