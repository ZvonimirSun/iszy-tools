import{b as ue,aL as Ee,_ as de,a as V,aM as we,i as ae,c as d,ca as _e,v as Z,o as B,x as z,y as H,r as D,h as E,j as e,z as Ie,C as j,w,g as x,k as Ae,cb as De,aF as Se,n as ce,cc as Te,au as ke,bg as fe,d as se,Y as Be,cd as Pe,bw as ne,I as S,a$ as Fe,ce as $e,bv as Le,f as Oe,aG as Ne,av as Me,ay as te,cf as Re,X as W,J as ze,cg as re,bK as je,aa as Ve,bh as Ke,ch as Ue,u as qe,a6 as Ge,ar as ie,a7 as Je,ci as Xe,cj as Ye,ck as Ze,aX as We,ad as Qe,A as He,l as xe}from"./index-B74qAObi.js";import{t as eo,E as oo}from"./index-DqSb17bi.js";const ve=Symbol("dialogInjectionKey"),Q="dialog-fade",ge=ue({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:Ee},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=(...o)=>u=>{o.forEach(r=>{r.value=u})},so=V({name:"ElDialogContent"}),no=V({...so,props:ge,emits:lo,setup(o,{expose:u}){const r=o,{t:O}=we(),{Close:i}=De,{dialogRef:g,headerRef:_,bodyId:I,ns:n,style:c}=ae(ve),{focusTrapRef:m}=ae(Te),C=ao(m,g),p=d(()=>!!r.draggable),v=d(()=>!!r.overflow),{resetPosition:y,updatePosition:T,isDragging:P}=_e(g,_,p,v),h=d(()=>[n.b(),n.is("fullscreen",r.fullscreen),n.is("draggable",p.value),n.is("dragging",P.value),n.is("align-center",!!r.alignCenter),{[n.m("center")]:r.center}]);return u({resetPosition:y,updatePosition:T}),(t,k)=>(B(),Z("div",{ref:e(C),class:E(e(h)),style:ce(e(c)),tabindex:"-1"},[z("header",{ref_key:"headerRef",ref:_,class:E([e(n).e("header"),t.headerClass,{"show-close":t.showClose}])},[D(t.$slots,"header",{},()=>[z("span",{role:"heading","aria-level":t.ariaLevel,class:E(e(n).e("title"))},Ie(t.title),11,["aria-level"])]),t.showClose?(B(),Z("button",{key:0,"aria-label":e(O)("el.dialog.close"),class:E(e(n).e("headerbtn")),type:"button",onClick:F=>t.$emit("close")},[j(e(Se),{class:E(e(n).e("close"))},{default:w(()=>[(B(),x(Ae(t.closeIcon||e(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):H("v-if",!0)],2),z("div",{id:e(I),class:E([e(n).e("body"),t.bodyClass])},[D(t.$slots,"default")],10,["id"]),t.$slots.footer?(B(),Z("footer",{key:0,class:E([e(n).e("footer"),t.footerClass])},[D(t.$slots,"footer")],2)):H("v-if",!0)],6))}});var to=de(no,[["__file","dialog-content.vue"]]);const ro=ue({...ge,appendToBody:Boolean,appendTo:{type:eo.to.type,default:"body"},beforeClose:{type:se(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:se([String,Object]),default:void 0}}),io={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[fe]:o=>ke(o),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},uo="ElDialog",co=(o,u)=>{var r;const i=Be().emit,{nextZIndex:g}=Pe();let _="";const I=ne(),n=ne(),c=S(!1),m=S(!1),C=S(!1),p=S((r=o.zIndex)!=null?r:g());let v,y;const T=Fe(),P=d(()=>{var l,s;return(s=(l=T.value)==null?void 0:l.namespace)!=null?s:$e}),h=d(()=>{var l;return(l=T.value)==null?void 0:l.dialog}),t=d(()=>{const l={},s=`--${P.value}-dialog`;return o.fullscreen||(o.top&&(l[`${s}-margin-top`]=o.top),o.width&&(l[`${s}-width`]=Le(o.width))),l}),k=d(()=>{var l,s,f;return((f=(s=o.draggable)!=null?s:(l=h.value)==null?void 0:l.draggable)!=null?f:!1)&&!o.fullscreen}),F=d(()=>{var l,s,f;return(f=(s=o.alignCenter)!=null?s:(l=h.value)==null?void 0:l.alignCenter)!=null?f:!1}),K=d(()=>{var l,s,f;return(f=(s=o.overflow)!=null?s:(l=h.value)==null?void 0:l.overflow)!=null?f:!1}),U=d(()=>F.value?{display:"flex"}:{}),q=d(()=>{var l,s,f;const X=(f=(s=o.transition)!=null?s:(l=h.value)==null?void 0:l.transition)!=null?f:Q,pe={name:X,onAfterEnter:$,onBeforeLeave:L,onAfterLeave:A};if(Oe(X)){const b={...X},Y=(R,he)=>oe=>{Me(R)?R.forEach(le=>{te(le)&&le(oe)}):te(R)&&R(oe),he()};return b.onAfterEnter=Y(b.onAfterEnter,$),b.onBeforeLeave=Y(b.onBeforeLeave,L),b.onAfterLeave=Y(b.onAfterLeave,A),b.name||(b.name=Q,Ne(uo,`transition.name is missing when using object syntax, fallback to '${Q}'`)),b}return pe});function $(){i("opened")}function A(){i("closed"),i(fe,!1),o.destroyOnClose&&(C.value=!1)}function L(){i("close")}function G(){y?.(),v?.(),o.openDelay&&o.openDelay>0?{stop:v}=re(()=>ee(),o.openDelay):ee()}function a(){v?.(),y?.(),o.closeDelay&&o.closeDelay>0?{stop:y}=re(()=>J(),o.closeDelay):J()}function N(){function l(s){s||(m.value=!0,c.value=!1)}o.beforeClose?o.beforeClose(l):a()}function M(){o.closeOnClickModal&&N()}function ee(){je&&(c.value=!0)}function J(){c.value=!1}function ye(){i("openAutoFocus")}function be(){i("closeAutoFocus")}function me(l){var s;((s=l.detail)==null?void 0:s.focusReason)==="pointer"&&l.preventDefault()}o.lockScroll&&Re(c);function Ce(){o.closeOnPressEscape&&N()}return W(()=>o.zIndex,()=>{var l;p.value=(l=o.zIndex)!=null?l:g()}),W(()=>o.modelValue,l=>{var s;l?(m.value=!1,G(),C.value=!0,p.value=(s=o.zIndex)!=null?s:g(),Ve(()=>{i("open"),u.value&&(u.value.parentElement.scrollTop=0,u.value.parentElement.scrollLeft=0,u.value.scrollTop=0)})):c.value&&a()}),W(()=>o.fullscreen,l=>{u.value&&(l?(_=u.value.style.transform,u.value.style.transform=""):u.value.style.transform=_)}),ze(()=>{o.modelValue&&(c.value=!0,C.value=!0,G())}),{afterEnter:$,afterLeave:A,beforeLeave:L,handleClose:N,onModalClick:M,close:a,doClose:J,onOpenAutoFocus:ye,onCloseAutoFocus:be,onCloseRequested:Ce,onFocusoutPrevented:me,titleId:I,bodyId:n,closed:m,style:t,overlayDialogStyle:U,rendered:C,visible:c,zIndex:p,transitionConfig:q,_draggable:k,_alignCenter:F,_overflow:K}},fo=V({name:"ElDialog",inheritAttrs:!1}),vo=V({...fo,props:ro,emits:io,setup(o,{expose:u}){const r=o,O=Ke();Ue({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},d(()=>!!O.title));const i=qe("dialog"),g=S(),_=S(),I=S(),{visible:n,titleId:c,bodyId:m,style:C,overlayDialogStyle:p,rendered:v,transitionConfig:y,zIndex:T,_draggable:P,_alignCenter:h,_overflow:t,handleClose:k,onModalClick:F,onOpenAutoFocus:K,onCloseAutoFocus:U,onCloseRequested:q,onFocusoutPrevented:$}=co(r,g);He(ve,{dialogRef:g,headerRef:_,bodyId:m,ns:i,rendered:v,style:C});const A=Ye(F),L=d(()=>r.modalPenetrable&&!r.modal&&!r.fullscreen);return u({visible:n,dialogContentRef:I,resetPosition:()=>{var a;(a=I.value)==null||a.resetPosition()},handleClose:k}),(a,N)=>(B(),x(e(oo),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:w(()=>[j(Ge,ie(e(y),{persisted:""}),{default:w(()=>{var M;return[Je(j(e(Xe),{"custom-mask-event":"",mask:a.modal,"overlay-class":[(M=a.modalClass)!=null?M:"",`${e(i).namespace.value}-modal-dialog`,e(i).is("penetrable",e(L))],"z-index":e(T)},{default:w(()=>[z("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:e(c),"aria-describedby":e(m),class:E(`${e(i).namespace.value}-overlay-dialog`),style:ce(e(p)),onClick:e(A).onClick,onMousedown:e(A).onMousedown,onMouseup:e(A).onMouseup},[j(e(Ze),{loop:"",trapped:e(n),"focus-start-el":"container",onFocusAfterTrapped:e(K),onFocusAfterReleased:e(U),onFocusoutPrevented:e($),onReleaseRequested:e(q)},{default:w(()=>[e(v)?(B(),x(to,ie({key:0,ref_key:"dialogContentRef",ref:I},a.$attrs,{center:a.center,"align-center":e(h),"close-icon":a.closeIcon,draggable:e(P),overflow:e(t),fullscreen:a.fullscreen,"header-class":a.headerClass,"body-class":a.bodyClass,"footer-class":a.footerClass,"show-close":a.showClose,title:a.title,"aria-level":a.headerAriaLevel,onClose:e(k)}),We({header:w(()=>[a.$slots.title?D(a.$slots,"title",{key:1}):D(a.$slots,"header",{key:0,close:e(k),titleId:e(c),titleClass:e(i).e("title")})]),default:w(()=>[D(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:w(()=>[D(a.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):H("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Qe,e(n)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var go=de(vo,[["__file","dialog.vue"]]);const mo=xe(go);export{mo as E,ao as c};
