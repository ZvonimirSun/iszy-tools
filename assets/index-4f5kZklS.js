import{bl as ne,c7 as se,c8 as le,c9 as J,ca as Q,bI as oe,bS as ie,cb as ue,aj as ce,ay as W,L as G,B as M,O as fe,H as Z,aI as ve,i as m,k as w,ad as me,a8 as D,bb as K,o as R,D as I,w as j,n as h,a0 as C,a2 as $,g as x,z as de,y as he,T as pe,bJ as be,f as V,l as F,F as ye,aD as ge,aS as z,bt as U,W as X,aJ as Se,X as Y,Q as we,C as Ee,j as _e,a7 as ze,I as Re,$ as Ce,a1 as Pe,N as Ae,aC as Le}from"./index-aIwKM8lD.js";import{b as ee}from"./isEqual-WP41xjOp.js";import{h as Oe}from"./hasIn-omV-Klcl.js";import{B as Te,r as Me,G as S}from"./el-scrollbar-vz8xv5bG.js";var Ne=1,He=2;function Be(e,a,n,r){var o=n.length,v=o,i=!r;if(e==null)return!v;for(e=Object(e);o--;){var c=n[o];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<v;){c=n[o];var s=c[0],d=e[s],p=c[1];if(i&&c[2]){if(d===void 0&&!(s in e))return!1}else{var l=new ne;if(r)var b=r(d,p,s,e,a,l);if(!(b===void 0?ee(p,d,Ne|He,r,l):b))return!1}}return!0}function te(e){return e===e&&!se(e)}function ke(e){for(var a=le(e),n=a.length;n--;){var r=a[n],o=e[r];a[n]=[r,o,te(o)]}return a}function ae(e,a){return function(n){return n==null?!1:n[e]===a&&(a!==void 0||e in Object(n))}}function De(e){var a=ke(e);return a.length==1&&a[0][2]?ae(a[0][0],a[0][1]):function(n){return n===e||Be(n,e,a)}}var Ie=1,$e=2;function xe(e,a){return J(e)&&te(a)?ae(Q(e),a):function(n){var r=oe(n,e);return r===void 0&&r===a?Oe(n,e):ee(a,r,Ie|$e)}}function We(e){return function(a){return a==null?void 0:a[e]}}function Ge(e){return function(a){return ie(a,e)}}function Ke(e){return J(e)?We(Q(e)):Ge(e)}function lt(e){return typeof e=="function"?e:e==null?ue:typeof e=="object"?ce(e)?xe(e[0],e[1]):De(e):Ke(e)}const re=Symbol("scrollbarContextKey"),Fe=W({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Ue="Thumb",Xe=M({__name:"thumb",props:Fe,setup(e){const a=e,n=fe(re),r=Z("scrollbar");n||ve(Ue,"can not inject scrollbar context");const o=m(),v=m(),i=m({}),c=m(!1);let s=!1,d=!1,p=be?document.onselectstart:null;const l=w(()=>Te[a.vertical?"vertical":"horizontal"]),b=w(()=>Me({size:a.size,move:a.move,bar:l.value})),E=w(()=>o.value[l.value.offset]**2/n.wrapElement[l.value.scrollSize]/a.ratio/v.value[l.value.offset]),P=u=>{var t;if(u.stopPropagation(),u.ctrlKey||[1,2].includes(u.button))return;(t=window.getSelection())==null||t.removeAllRanges(),H(u);const f=u.currentTarget;f&&(i.value[l.value.axis]=f[l.value.offset]-(u[l.value.client]-f.getBoundingClientRect()[l.value.direction]))},N=u=>{if(!v.value||!o.value||!n.wrapElement)return;const t=Math.abs(u.target.getBoundingClientRect()[l.value.direction]-u[l.value.client]),f=v.value[l.value.offset]/2,y=(t-f)*100*E.value/o.value[l.value.offset];n.wrapElement[l.value.scroll]=y*n.wrapElement[l.value.scrollSize]/100},H=u=>{u.stopImmediatePropagation(),s=!0,document.addEventListener("mousemove",A),document.addEventListener("mouseup",g),p=document.onselectstart,document.onselectstart=()=>!1},A=u=>{if(!o.value||!v.value||s===!1)return;const t=i.value[l.value.axis];if(!t)return;const f=(o.value.getBoundingClientRect()[l.value.direction]-u[l.value.client])*-1,y=v.value[l.value.offset]-t,_=(f-y)*100*E.value/o.value[l.value.offset];n.wrapElement[l.value.scroll]=_*n.wrapElement[l.value.scrollSize]/100},g=()=>{s=!1,i.value[l.value.axis]=0,document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",g),L(),d&&(c.value=!1)},B=()=>{d=!1,c.value=!!a.size},k=()=>{d=!0,c.value=s};me(()=>{L(),document.removeEventListener("mouseup",g)});const L=()=>{document.onselectstart!==p&&(document.onselectstart=p)};return D(K(n,"scrollbarElement"),"mousemove",B),D(K(n,"scrollbarElement"),"mouseleave",k),(u,t)=>(R(),I(pe,{name:h(r).b("fade"),persisted:""},{default:j(()=>[he(x("div",{ref_key:"instance",ref:o,class:C([h(r).e("bar"),h(r).is(h(l).key)]),onMousedown:N},[x("div",{ref_key:"thumb",ref:v,class:C(h(r).e("thumb")),style:$(h(b)),onMousedown:P},null,38)],34),[[de,u.always||c.value]])]),_:1},8,["name"]))}});var q=G(Xe,[["__file","thumb.vue"]]);const Ye=W({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),qe=M({__name:"bar",props:Ye,setup(e,{expose:a}){const n=e,r=m(0),o=m(0);return a({handleScroll:i=>{if(i){const c=i.offsetHeight-S,s=i.offsetWidth-S;o.value=i.scrollTop*100/c*n.ratioY,r.value=i.scrollLeft*100/s*n.ratioX}}}),(i,c)=>(R(),V(ye,null,[F(q,{move:r.value,ratio:i.ratioX,size:i.width,always:i.always},null,8,["move","ratio","size","always"]),F(q,{move:o.value,ratio:i.ratioY,size:i.height,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))}});var Je=G(qe,[["__file","bar.vue"]]);const Qe=W({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ge([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),Ze={scroll:({scrollTop:e,scrollLeft:a})=>[e,a].every(z)},je="ElScrollbar",Ve=M({name:je}),et=M({...Ve,props:Qe,emits:Ze,setup(e,{expose:a,emit:n}){const r=e,o=Z("scrollbar");let v,i;const c=m(),s=m(),d=m(),p=m("0"),l=m("0"),b=m(),E=m(1),P=m(1),N=w(()=>{const t={};return r.height&&(t.height=U(r.height)),r.maxHeight&&(t.maxHeight=U(r.maxHeight)),[r.wrapStyle,t]}),H=w(()=>[r.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!r.native}]),A=w(()=>[o.e("view"),r.viewClass]),g=()=>{var t;s.value&&((t=b.value)==null||t.handleScroll(s.value),n("scroll",{scrollTop:s.value.scrollTop,scrollLeft:s.value.scrollLeft}))};function B(t,f){Ae(t)?s.value.scrollTo(t):z(t)&&z(f)&&s.value.scrollTo(t,f)}const k=t=>{z(t)&&(s.value.scrollTop=t)},L=t=>{z(t)&&(s.value.scrollLeft=t)},u=()=>{if(!s.value)return;const t=s.value.offsetHeight-S,f=s.value.offsetWidth-S,y=t**2/s.value.scrollHeight,_=f**2/s.value.scrollWidth,O=Math.max(y,r.minSize),T=Math.max(_,r.minSize);E.value=y/(t-y)/(O/(t-O)),P.value=_/(f-_)/(T/(f-T)),l.value=O+S<t?`${O}px`:"",p.value=T+S<f?`${T}px`:""};return X(()=>r.noresize,t=>{t?(v==null||v(),i==null||i()):({stop:v}=Se(d,u),i=D("resize",u))},{immediate:!0}),X(()=>[r.maxHeight,r.height],()=>{r.native||Y(()=>{var t;u(),s.value&&((t=b.value)==null||t.handleScroll(s.value))})}),we(re,Ee({scrollbarElement:c,wrapElement:s})),_e(()=>{r.native||Y(()=>{u()})}),ze(()=>u()),a({wrapRef:s,update:u,scrollTo:B,setScrollTop:k,setScrollLeft:L,handleScroll:g}),(t,f)=>(R(),V("div",{ref_key:"scrollbarRef",ref:c,class:C(h(o).b())},[x("div",{ref_key:"wrapRef",ref:s,class:C(h(H)),style:$(h(N)),onScroll:g},[(R(),I(Ce(t.tag),{id:t.id,ref_key:"resizeRef",ref:d,class:C(h(A)),style:$(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:j(()=>[Re(t.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),t.native?Pe("v-if",!0):(R(),I(Je,{key:0,ref_key:"barRef",ref:b,height:l.value,width:p.value,always:t.always,"ratio-x":P.value,"ratio-y":E.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var tt=G(et,[["__file","scrollbar.vue"]]);const ot=Le(tt);export{ot as E,lt as a,We as b};
