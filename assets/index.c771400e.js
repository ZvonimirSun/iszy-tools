import{X as e,Y as r,Z as a,_ as t,B as o,p as s,a as i,b as n,o as d,c as l,e as u,h as m,w as c,$ as h,i as p}from"./vendor.8f1f5d06.js";/* empty css              *//* empty css              */var f=".login-container[data-v-2fdea444] {\n  width: 100%;\n  min-height: 100%;\n  position: relative;\n  padding: 5rem 0 14.4rem;\n}\n.login-container .main[data-v-2fdea444] {\n  min-width: 26rem;\n  width: 36.8rem;\n  margin: 0 auto;\n}\n.login-container .footer[data-v-2fdea444] {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 0 1.6rem;\n  margin: 4.8rem 0 2.4rem;\n  text-align: center;\n  color: #999999;\n}";const{Item:g}=a,{Password:v}=t,y={name:"Login",components:{UserOutlined:e,LockOutlined:r,Form:a,Input:t,Button:o,Item:g,Password:v},watch:{$route:{handler:function(e){const r=e.query;r&&(this.redirect=r.redirect,this.otherQuery=this.getOtherQuery(r))},immediate:!0}},data:()=>({form:{layout:"horizontal",userName:"",password:""},redirect:void 0,otherQuery:{},loading:!1}),methods:{login(){null!=this.form.userName&&null!=this.form.password&&(this.loading=!0,this.$store.dispatch("user/login",{userName:this.form.userName,password:this.form.password}).then((e=>{e?(this.$msg.success("登录成功！"),this.$router.push({path:this.redirect||"/",query:this.otherQuery}),this.loading=!1):this.$msg.error("用户名或密码错误！")})).catch((()=>{this.$msg.error("用户名或密码错误！")})).finally((()=>{this.loading=!1})))},getOtherQuery:e=>Object.keys(e).reduce(((r,a)=>("redirect"!==a&&(r[a]=e[a]),r)),{})}};s("data-v-2fdea444");const w={class:"login-container"},_={class:"main"},b=p(" 确定 "),I=u("div",{class:"footer"},[u("div",{class:"copyright"}," Copyright © 2020 ISZY")],-1);function O(e,r,a,t,o,s){const i=n("UserOutlined"),p=n("Input"),f=n("Item"),g=n("LockOutlined"),v=n("Password"),y=n("Button"),O=n("Form");return d(),l("div",w,[u("div",_,[m(O,h({layout:e.form.layout,model:e.form},{wrapperCol:{span:24}}),{default:c((()=>[m(f,{required:""},{default:c((()=>[m(p,{value:e.form.userName,"onUpdate:value":r[0]||(r[0]=r=>e.form.userName=r),placeholder:"账户",size:"large"},{prefix:c((()=>[m(i,{style:{color:"rgba(0,0,0,.25)"}})])),_:1},8,["value"])])),_:1}),m(f,{required:""},{default:c((()=>[m(v,{value:e.form.password,"onUpdate:value":r[1]||(r[1]=r=>e.form.password=r),placeholder:"密码",size:"large"},{prefix:c((()=>[m(g,{style:{color:"rgba(0,0,0,.25)"}})])),_:1},8,["value"])])),_:1}),m(f,null,{default:c((()=>[m(y,{type:"primary",block:"",size:"large",onClick:s.login,loading:e.loading},{default:c((()=>[b])),_:1},8,["onClick","loading"])])),_:1})])),_:1},16,["layout","model"])]),I])}i(),y.render=O,y.__scopeId="data-v-2fdea444";export{y as default};
