import{_ as E,D as h,o as N,e as V,w as d,f as p,v as g,F as v,g as f,G as w,H as k,E as B}from"./index.js";import{E as G}from"./el-space-2b811da9.js";import"./vite-8235fac6.js";const _=[16,8,4,2,1],y="0123456789bcdefghjkmnpqrstuvwxyz",x=function(o,t,e){t&e?o[0]=(o[0]+o[1])/2:o[1]=(o[0]+o[1])/2};function H(o,t){if(typeof o=="string"){const s=o.split(",");if(s.length>=2){if(o=parseFloat(s[0]),t=parseFloat(s[1]),isNaN(o)||isNaN(t))throw new Error("Not Supported")}else throw new Error("Not Supported")}let e=1;const l=[],a=[];let r=0,n=0;const c=12;let u="";for(l[0]=-90,l[1]=90,a[0]=-180,a[1]=180;u.length<c;){if(e){const s=(a[0]+a[1])/2;t>s?(n|=_[r],a[0]=s):a[1]=s}else{const s=(l[0]+l[1])/2;o>s?(n|=_[r],l[0]=s):l[1]=s}e=!e,r<4?r++:(u+=y[n],r=0,n=0)}return u}function S(o){let t=1;const e=[],l=[];e[0]=-90,e[1]=90,l[0]=-180,l[1]=180;for(let a=0;a<o.length;a++){const r=o[a],n=y.indexOf(r);for(let c=0;c<5;c++){const u=_[c];x(t?l:e,n,u),t=!t}}return e[2]=(e[0]+e[1])/2,l[2]=(l[0]+l[1])/2,{latitude:e[2],longitude:l[2]}}const C={__name:"geohash",setup(o){const t=h(""),e=h("");function l(){try{e.value=H(t.value)}catch(n){w.error(`编码失败，${n.message}`)}}function a(){try{const{latitude:n,longitude:c}=S(t.value);e.value=n+","+c}catch(n){w.error(`解码失败，${n.message}`)}}function r(){const n=t.value;t.value=e.value,e.value=n}return(n,c)=>{const u=k,s=B,m=G;return N(),V(m,{direction:"vertical",fill:!0,"w-full":""},{default:d(()=>[p(u,{modelValue:g(t),"onUpdate:modelValue":c[0]||(c[0]=i=>v(t)?t.value=i:null),type:"textarea",rows:5,placeholder:"请输入要进行 GeoHash 编码或解码的字符"},null,8,["modelValue"]),p(m,{style:{"flex-wrap":"wrap"}},{default:d(()=>[p(s,{type:"primary",onClick:l},{default:d(()=>[f(" 编码 (Encode) ")]),_:1}),p(s,{onClick:a},{default:d(()=>[f(" 解码 (Decode) ")]),_:1}),p(s,{onClick:r},{default:d(()=>[f(" ↕交换 ")]),_:1})]),_:1}),p(u,{modelValue:g(e),"onUpdate:modelValue":c[1]||(c[1]=i=>v(e)?e.value=i:null),type:"textarea",rows:5,readonly:"",placeholder:"GeoHash 编码或解码的结果"},null,8,["modelValue"])]),_:1})}}},j=E(C,[["__scopeId","data-v-a789e461"]]);export{j as default};
