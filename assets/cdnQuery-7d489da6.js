import{h as re,j as ve,o as T,c as te,w as X,r as Yt,bx as Sr,d6 as Dr,n as v,aU as Tr,v as ke,g as Ae,bK as Ge,aG as xe,k as ue,l as M,t as ee,q as Nt,ag as wt,a4 as Le,a5 as Zt,a9 as en,aX as tn,y as J,D as ge,a as G,H as me,I as Oe,p as ae,m as V,B as nn,aV as rn,s as Y,d1 as Ir,d7 as Rt,d2 as Or,a3 as jr,ac as at,am as Fe,aD as Ar,aF as be,ar as Te,ah as qr,ai as Kr,x as zr,co as gt,X as $r,aL as Rr,cP as ft,cN as Br,bL as Mr,$ as mt,d8 as Lr,aJ as Ie,T as vt,U as yt,aK as Se,a1 as Fr,bz as Ur,aq as Hr,a0 as Bt,R as an,af as Wr,aB as Jr,ak as De,bE as Vr,Z as Qr,C as Gr,W as Xr,b as se,z as Mt,d9 as Yr,A as Zr,aQ as Lt,J as ea,K as ta,_ as na}from"./index-3828c3a5.js";import{E as ra}from"./el-checkbox-0ccf2fe0.js";import{u as Et,h as Ft,j as Ut,c as on,a as Be,k as aa,l as oa,P as Ht,C as sa,T as ia}from"./index-3fad2d96.js";import"./el-tag-973468c5.js";import{E as sn,a as un}from"./el-select-20a684fe.js";import"./el-scrollbar-e88d9e52.js";import"./el-popper-071c2570.js";import{E as ua}from"./el-divider-8e409837.js";import{i as la}from"./isEqual-c5341283.js";import"./index-0a1e6ddf.js";import{_ as ca}from"./Link-3db3e5a1.js";import{_ as da}from"./Paragraph-fe389011.js";import{_ as fa}from"./Title-de88122f.js";import{_ as ha}from"./Text-7848e95b.js";import"./ResizeObserver.es-0f9f8adb.js";import"./index-325feacd.js";import"./strings-bba398c5.js";const pa=re({name:"ElCollapseTransition"}),ga=re({...pa,setup(t){const n=ve("collapse-transition"),i={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){s.dataset.oldOverflow=s.style.overflow,s.scrollHeight!==0?(s.style.maxHeight=`${s.scrollHeight}px`,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom):(s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom),s.style.overflow="hidden"},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom}};return(s,r)=>(T(),te(Tr,Sr({name:v(n).b()},Dr(i)),{default:X(()=>[Yt(s.$slots,"default")]),_:3},16,["name"]))}});var tt=ke(ga,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);tt.install=t=>{t.component(tt.name,tt)};const ma=tt,ln=Symbol("elPaginationKey"),va=Ae({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ge}}),ya={click:t=>t instanceof MouseEvent},ba=["disabled","aria-label","aria-disabled"],ka={key:0},Ca=re({name:"ElPaginationPrev"}),Na=re({...Ca,props:va,emits:ya,setup(t){const n=t,{t:i}=xe(),s=ue(()=>n.disabled||n.currentPage<=1);return(r,c)=>(T(),M("button",{type:"button",class:"btn-prev",disabled:v(s),"aria-label":r.prevText||v(i)("el.pagination.prev"),"aria-disabled":v(s),onClick:c[0]||(c[0]=m=>r.$emit("click",m))},[r.prevText?(T(),M("span",ka,ee(r.prevText),1)):(T(),te(v(wt),{key:1},{default:X(()=>[(T(),te(Nt(r.prevIcon)))]),_:1}))],8,ba))}});var wa=ke(Na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const Ea=Ae({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ge}}),Pa=["disabled","aria-label","aria-disabled"],xa={key:0},_a=re({name:"ElPaginationNext"}),Sa=re({..._a,props:Ea,emits:["click"],setup(t){const n=t,{t:i}=xe(),s=ue(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(r,c)=>(T(),M("button",{type:"button",class:"btn-next",disabled:v(s),"aria-label":r.nextText||v(i)("el.pagination.next"),"aria-disabled":v(s),onClick:c[0]||(c[0]=m=>r.$emit("click",m))},[r.nextText?(T(),M("span",xa,ee(r.nextText),1)):(T(),te(v(wt),{key:1},{default:X(()=>[(T(),te(Nt(r.nextIcon)))]),_:1}))],8,Pa))}});var Da=ke(Sa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Pt=()=>Le(ln,{}),Ta=Ae({pageSize:{type:Number,required:!0},pageSizes:{type:Zt(Array),default:()=>en([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:tn}}),Ia=re({name:"ElPaginationSizes"}),Oa=re({...Ia,props:Ta,emits:["page-size-change"],setup(t,{emit:n}){const i=t,{t:s}=xe(),r=ve("pagination"),c=Pt(),m=J(i.pageSize);ge(()=>i.pageSizes,(g,x)=>{if(!la(g,x)&&Array.isArray(g)){const b=g.includes(i.pageSize)?i.pageSize:i.pageSizes[0];n("page-size-change",b)}}),ge(()=>i.pageSize,g=>{m.value=g});const p=ue(()=>i.pageSizes);function K(g){var x;g!==m.value&&(m.value=g,(x=c.handleSizeChange)==null||x.call(c,Number(g)))}return(g,x)=>(T(),M("span",{class:ae(v(r).e("sizes"))},[G(v(un),{"model-value":m.value,disabled:g.disabled,"popper-class":g.popperClass,size:g.size,"validate-event":!1,onChange:K},{default:X(()=>[(T(!0),M(me,null,Oe(v(p),b=>(T(),te(v(sn),{key:b,value:b,label:b+v(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var ja=ke(Oa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const Aa=Ae({size:{type:String,values:tn}}),qa=["disabled"],Ka=re({name:"ElPaginationJumper"}),za=re({...Ka,props:Aa,setup(t){const{t:n}=xe(),i=ve("pagination"),{pageCount:s,disabled:r,currentPage:c,changeEvent:m}=Pt(),p=J(),K=ue(()=>{var b;return(b=p.value)!=null?b:c?.value});function g(b){p.value=b?+b:""}function x(b){b=Math.trunc(+b),m?.(b),p.value=void 0}return(b,k)=>(T(),M("span",{class:ae(v(i).e("jump")),disabled:v(r)},[V("span",{class:ae([v(i).e("goto")])},ee(v(n)("el.pagination.goto")),3),G(v(nn),{size:b.size,class:ae([v(i).e("editor"),v(i).is("in-pagination")]),min:1,max:v(s),disabled:v(r),"model-value":v(K),"validate-event":!1,label:v(n)("el.pagination.page"),type:"number","onUpdate:modelValue":g,onChange:x},null,8,["size","class","max","disabled","model-value","label"]),V("span",{class:ae([v(i).e("classifier")])},ee(v(n)("el.pagination.pageClassifier")),3)],10,qa))}});var $a=ke(za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const Ra=Ae({total:{type:Number,default:1e3}}),Ba=["disabled"],Ma=re({name:"ElPaginationTotal"}),La=re({...Ma,props:Ra,setup(t){const{t:n}=xe(),i=ve("pagination"),{disabled:s}=Pt();return(r,c)=>(T(),M("span",{class:ae(v(i).e("total")),disabled:v(s)},ee(v(n)("el.pagination.total",{total:r.total})),11,Ba))}});var Fa=ke(La,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const Ua=Ae({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Ha=["onKeyup"],Wa=["aria-current","aria-label","tabindex"],Ja=["tabindex","aria-label"],Va=["aria-current","aria-label","tabindex"],Qa=["tabindex","aria-label"],Ga=["aria-current","aria-label","tabindex"],Xa=re({name:"ElPaginationPager"}),Ya=re({...Xa,props:Ua,emits:["change"],setup(t,{emit:n}){const i=t,s=ve("pager"),r=ve("icon"),{t:c}=xe(),m=J(!1),p=J(!1),K=J(!1),g=J(!1),x=J(!1),b=J(!1),k=ue(()=>{const N=i.pagerCount,C=(N-1)/2,f=Number(i.currentPage),R=Number(i.pageCount);let U=!1,D=!1;R>N&&(f>N-C&&(U=!0),f<R-C&&(D=!0));const j=[];if(U&&!D){const E=R-(N-2);for(let ie=E;ie<R;ie++)j.push(ie)}else if(!U&&D)for(let E=2;E<N;E++)j.push(E);else if(U&&D){const E=Math.floor(N/2)-1;for(let ie=f-E;ie<=f+E;ie++)j.push(ie)}else for(let E=2;E<R;E++)j.push(E);return j}),d=ue(()=>["more","btn-quickprev",r.b(),s.is("disabled",i.disabled)]),z=ue(()=>["more","btn-quicknext",r.b(),s.is("disabled",i.disabled)]),L=ue(()=>i.disabled?-1:0);rn(()=>{const N=(i.pagerCount-1)/2;m.value=!1,p.value=!1,i.pageCount>i.pagerCount&&(i.currentPage>i.pagerCount-N&&(m.value=!0),i.currentPage<i.pageCount-N&&(p.value=!0))});function S(N=!1){i.disabled||(N?K.value=!0:g.value=!0)}function Q(N=!1){N?x.value=!0:b.value=!0}function H(N){const C=N.target;if(C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("number")){const f=Number(C.textContent);f!==i.currentPage&&n("change",f)}else C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("more")&&q(N)}function q(N){const C=N.target;if(C.tagName.toLowerCase()==="ul"||i.disabled)return;let f=Number(C.textContent);const R=i.pageCount,U=i.currentPage,D=i.pagerCount-2;C.className.includes("more")&&(C.className.includes("quickprev")?f=U-D:C.className.includes("quicknext")&&(f=U+D)),Number.isNaN(+f)||(f<1&&(f=1),f>R&&(f=R)),f!==U&&n("change",f)}return(N,C)=>(T(),M("ul",{class:ae(v(s).b()),onClick:q,onKeyup:jr(H,["enter"])},[N.pageCount>0?(T(),M("li",{key:0,class:ae([[v(s).is("active",N.currentPage===1),v(s).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===1,"aria-label":v(c)("el.pagination.currentPage",{pager:1}),tabindex:v(L)}," 1 ",10,Wa)):Y("v-if",!0),m.value?(T(),M("li",{key:1,class:ae(v(d)),tabindex:v(L),"aria-label":v(c)("el.pagination.prevPages",{pager:N.pagerCount-2}),onMouseenter:C[0]||(C[0]=f=>S(!0)),onMouseleave:C[1]||(C[1]=f=>K.value=!1),onFocus:C[2]||(C[2]=f=>Q(!0)),onBlur:C[3]||(C[3]=f=>x.value=!1)},[(K.value||x.value)&&!N.disabled?(T(),te(v(Ir),{key:0})):(T(),te(v(Rt),{key:1}))],42,Ja)):Y("v-if",!0),(T(!0),M(me,null,Oe(v(k),f=>(T(),M("li",{key:f,class:ae([[v(s).is("active",N.currentPage===f),v(s).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===f,"aria-label":v(c)("el.pagination.currentPage",{pager:f}),tabindex:v(L)},ee(f),11,Va))),128)),p.value?(T(),M("li",{key:2,class:ae(v(z)),tabindex:v(L),"aria-label":v(c)("el.pagination.nextPages",{pager:N.pagerCount-2}),onMouseenter:C[4]||(C[4]=f=>S()),onMouseleave:C[5]||(C[5]=f=>g.value=!1),onFocus:C[6]||(C[6]=f=>Q()),onBlur:C[7]||(C[7]=f=>b.value=!1)},[(g.value||b.value)&&!N.disabled?(T(),te(v(Or),{key:0})):(T(),te(v(Rt),{key:1}))],42,Qa)):Y("v-if",!0),N.pageCount>1?(T(),M("li",{key:3,class:ae([[v(s).is("active",N.currentPage===N.pageCount),v(s).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===N.pageCount,"aria-label":v(c)("el.pagination.currentPage",{pager:N.pageCount}),tabindex:v(L)},ee(N.pageCount),11,Ga)):Y("v-if",!0)],42,Ha))}});var Za=ke(Ya,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const ce=t=>typeof t!="number",eo=Ae({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Te(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Zt(Array),default:()=>en([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ge,default:()=>qr},nextText:{type:String,default:""},nextIcon:{type:Ge,default:()=>Kr},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),to={"update:current-page":t=>Te(t),"update:page-size":t=>Te(t),"size-change":t=>Te(t),"current-change":t=>Te(t),"prev-click":t=>Te(t),"next-click":t=>Te(t)},Wt="ElPagination";var no=re({name:Wt,props:eo,emits:to,setup(t,{emit:n,slots:i}){const{t:s}=xe(),r=ve("pagination"),c=at().vnode.props||{},m="onUpdate:currentPage"in c||"onUpdate:current-page"in c||"onCurrentChange"in c,p="onUpdate:pageSize"in c||"onUpdate:page-size"in c||"onSizeChange"in c,K=ue(()=>{if(ce(t.total)&&ce(t.pageCount)||!ce(t.currentPage)&&!m)return!1;if(t.layout.includes("sizes")){if(ce(t.pageCount)){if(!ce(t.total)&&!ce(t.pageSize)&&!p)return!1}else if(!p)return!1}return!0}),g=J(ce(t.defaultPageSize)?10:t.defaultPageSize),x=J(ce(t.defaultCurrentPage)?1:t.defaultCurrentPage),b=ue({get(){return ce(t.pageSize)?g.value:t.pageSize},set(q){ce(t.pageSize)&&(g.value=q),p&&(n("update:page-size",q),n("size-change",q))}}),k=ue(()=>{let q=0;return ce(t.pageCount)?ce(t.total)||(q=Math.max(1,Math.ceil(t.total/b.value))):q=t.pageCount,q}),d=ue({get(){return ce(t.currentPage)?x.value:t.currentPage},set(q){let N=q;q<1?N=1:q>k.value&&(N=k.value),ce(t.currentPage)&&(x.value=N),m&&(n("update:current-page",N),n("current-change",N))}});ge(k,q=>{d.value>q&&(d.value=q)});function z(q){d.value=q}function L(q){b.value=q;const N=k.value;d.value>N&&(d.value=N)}function S(){t.disabled||(d.value-=1,n("prev-click",d.value))}function Q(){t.disabled||(d.value+=1,n("next-click",d.value))}function H(q,N){q&&(q.props||(q.props={}),q.props.class=[q.props.class,N].join(" "))}return Fe(ln,{pageCount:k,disabled:ue(()=>t.disabled),currentPage:d,changeEvent:z,handleSizeChange:L}),()=>{var q,N;if(!K.value)return Ar(Wt,s("el.pagination.deprecationWarning")),null;if(!t.layout||t.hideOnSinglePage&&k.value<=1)return null;const C=[],f=[],R=be("div",{class:r.e("rightwrapper")},f),U={prev:be(wa,{disabled:t.disabled,currentPage:d.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:S}),jumper:be($a,{size:t.small?"small":"default"}),pager:be(Za,{currentPage:d.value,pageCount:k.value,pagerCount:t.pagerCount,onChange:z,disabled:t.disabled}),next:be(Da,{disabled:t.disabled,currentPage:d.value,pageCount:k.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:Q}),sizes:be(ja,{pageSize:b.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,size:t.small?"small":"default"}),slot:(N=(q=i?.default)==null?void 0:q.call(i))!=null?N:null,total:be(Fa,{total:ce(t.total)?0:t.total})},D=t.layout.split(",").map(E=>E.trim());let j=!1;return D.forEach(E=>{if(E==="->"){j=!0;return}j?f.push(U[E]):C.push(U[E])}),H(C[0],r.is("first")),H(C[C.length-1],r.is("last")),j&&f.length>0&&(H(f[0],r.is("first")),H(f[f.length-1],r.is("last")),C.push(R)),be("div",{class:[r.b(),r.is("background",t.background),{[r.m("small")]:t.small}]},C)}}});const ro=zr(no),Me="$treeNodeId",Jt=function(t,n){!n||n[Me]||Object.defineProperty(n,Me,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},xt=function(t,n){return t?n[t]:n[Me]},bt=(t,n,i)=>{const s=t.value.currentNode;i();const r=t.value.currentNode;s!==r&&n("current-change",r?r.data:null,r)},kt=t=>{let n=!0,i=!0,s=!0;for(let r=0,c=t.length;r<c;r++){const m=t[r];(m.checked!==!0||m.indeterminate)&&(n=!1,m.disabled||(s=!1)),(m.checked!==!1||m.indeterminate)&&(i=!1)}return{all:n,none:i,allWithoutDisable:s,half:!n&&!i}},nt=function(t){if(t.childNodes.length===0||t.loading)return;const{all:n,none:i,half:s}=kt(t.childNodes);n?(t.checked=!0,t.indeterminate=!1):s?(t.checked=!1,t.indeterminate=!0):i&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||nt(r)},Ze=function(t,n){const i=t.store.props,s=t.data||{},r=i[n];if(typeof r=="function")return r(s,t);if(typeof r=="string")return s[r];if(typeof r>"u"){const c=s[n];return c===void 0?"":c}};let ao=0;class je{constructor(n){this.id=ao++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in n)gt(n,i)&&(this[i]=n[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const i=n.props;if(i&&typeof i.isLeaf<"u"){const c=Ze(this,"isLeaf");typeof c=="boolean"&&(this.isLeafByUser=c)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Jt(this,this.data),!this.data)return;const s=n.defaultExpandedKeys,r=n.key;r&&s&&s.includes(this.key)&&this.expand(null,n.autoExpandParent),r&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||Jt(this,n),this.data=n,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=Ze(this,"children")||[];for(let s=0,r=i.length;s<r;s++)this.insertChild({data:i[s]})}get label(){return Ze(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return Ze(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return n.childNodes[i+1]}return null}get previousSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return i>0?n.childNodes[i-1]:null}return null}contains(n,i=!0){return(this.childNodes||[]).some(s=>s===n||i&&s.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,i,s){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof je)){if(!s){const r=this.getChildren(!0);r.includes(n.data)||(typeof i>"u"||i<0?r.push(n.data):r.splice(i,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=$r(new je(n)),n instanceof je&&n.initialize()}n.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(n):this.childNodes.splice(i,0,n),this.updateLeafState()}insertBefore(n,i){let s;i&&(s=this.childNodes.indexOf(i)),this.insertChild(n,s)}insertAfter(n,i){let s;i&&(s=this.childNodes.indexOf(i),s!==-1&&(s+=1)),this.insertChild(n,s)}removeChild(n){const i=this.getChildren()||[],s=i.indexOf(n.data);s>-1&&i.splice(s,1);const r=this.childNodes.indexOf(n);r>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(n){let i=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===n){i=this.childNodes[s];break}i&&this.removeChild(i)}expand(n,i){const s=()=>{if(i){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||nt(this),s())}):s()}doCreateChildren(n,i={}){n.forEach(s=>{this.insertChild(Object.assign({data:s},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,i,s,r){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:m,allWithoutDisable:p}=kt(this.childNodes);!this.isLeaf&&!m&&p&&(this.checked=!1,n=!1);const K=()=>{if(i){const g=this.childNodes;for(let k=0,d=g.length;k<d;k++){const z=g[k];r=r||n!==!1;const L=z.disabled?z.checked:r;z.setChecked(L,i,!0,r)}const{half:x,all:b}=kt(g);b||(this.checked=b,this.indeterminate=x)}};if(this.shouldLoadData()){this.loadData(()=>{K(),nt(this)},{checked:n!==!1});return}else K()}const c=this.parent;!c||c.level===0||s||nt(c)}getChildren(n=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const s=this.store.props;let r="children";return s&&(r=s.children||"children"),i[r]===void 0&&(i[r]=null),n&&!i[r]&&(i[r]=[]),i[r]}updateChildren(){const n=this.getChildren()||[],i=this.childNodes.map(c=>c.data),s={},r=[];n.forEach((c,m)=>{const p=c[Me];!!p&&i.findIndex(g=>g[Me]===p)>=0?s[p]={index:m,data:c}:r.push({index:m,data:c})}),this.store.lazy||i.forEach(c=>{s[c[Me]]||this.removeChildByData(c)}),r.forEach(({index:c,data:m})=>{this.insertChild({data:m},c)}),this.updateLeafState()}loadData(n,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const s=r=>{this.childNodes=[],this.doCreateChildren(r,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,r)};this.store.load(this,s)}else n&&n.call(this)}}class oo{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const i in n)gt(n,i)&&(this[i]=n[i]);this.nodesMap={}}initialize(){if(this.root=new je({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const i=this.filterNodeMethod,s=this.lazy,r=function(c){const m=c.root?c.root.childNodes:c.childNodes;if(m.forEach(p=>{p.visible=i.call(p,n,p.data,p),r(p)}),!c.visible&&m.length){let p=!0;p=!m.some(K=>K.visible),c.root?c.root.visible=p===!1:c.visible=p===!1}n&&c.visible&&!c.isLeaf&&!s&&c.expand()};r(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof je)return n;const i=Rr(n)?xt(this.key,n):n;return this.nodesMap[i]||null}insertBefore(n,i){const s=this.getNode(i);s.parent.insertBefore({data:n},s)}insertAfter(n,i){const s=this.getNode(i);s.parent.insertAfter({data:n},s)}remove(n){const i=this.getNode(n);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(n,i){const s=i?this.getNode(i):this.root;s&&s.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],i=this.nodesMap;n.forEach(s=>{const r=i[s];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const i=this.key;!n||!n.data||(i?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,i=!1){const s=[],r=function(c){(c.root?c.root.childNodes:c.childNodes).forEach(p=>{(p.checked||i&&p.indeterminate)&&(!n||n&&p.isLeaf)&&s.push(p.data),r(p)})};return r(this),s}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const n=[],i=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(c=>{c.indeterminate&&n.push(c.data),i(c)})};return i(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],i=this.nodesMap;for(const s in i)gt(i,s)&&n.push(i[s]);return n}updateChildren(n,i){const s=this.nodesMap[n];if(!s)return;const r=s.childNodes;for(let c=r.length-1;c>=0;c--){const m=r[c];this.remove(m.data)}for(let c=0,m=i.length;c<m;c++){const p=i[c];this.append(p,s.data)}}_setCheckedKeys(n,i=!1,s){const r=this._getAllNodes().sort((p,K)=>K.level-p.level),c=Object.create(null),m=Object.keys(s);r.forEach(p=>p.setChecked(!1,!1));for(let p=0,K=r.length;p<K;p++){const g=r[p],x=g.data[n].toString();if(!m.includes(x)){g.checked&&!c[x]&&g.setChecked(!1,!1);continue}let k=g.parent;for(;k&&k.level>0;)c[k.data[n]]=!0,k=k.parent;if(g.isLeaf||this.checkStrictly){g.setChecked(!0,!1);continue}if(g.setChecked(!0,!0),i){g.setChecked(!1,!1);const d=function(z){z.childNodes.forEach(S=>{S.isLeaf||S.setChecked(!1,!1),d(S)})};d(g)}}}setCheckedNodes(n,i=!1){const s=this.key,r={};n.forEach(c=>{r[(c||{})[s]]=!0}),this._setCheckedKeys(s,i,r)}setCheckedKeys(n,i=!1){this.defaultCheckedKeys=n;const s=this.key,r={};n.forEach(c=>{r[c]=!0}),this._setCheckedKeys(s,i,r)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(i=>{const s=this.getNode(i);s&&s.expand(null,this.autoExpandParent)})}setChecked(n,i,s){const r=this.getNode(n);r&&r.setChecked(!!i,s)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,i=!0){const s=n[this.key],r=this.nodesMap[s];this.setCurrentNode(r),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,i=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(n);s&&(this.setCurrentNode(s),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const so=re({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const n=ve("tree"),i=Le("NodeInstance"),s=Le("RootTree");return()=>{const r=t.node,{data:c,store:m}=r;return t.renderContent?t.renderContent(be,{_self:i,node:r,data:c,store:m}):s.ctx.slots.default?s.ctx.slots.default({node:r,data:c}):be("span",{class:n.be("node","label")},[r.label])}}});var io=ke(so,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function cn(t){const n=Le("TreeNodeMap",null),i={treeNodeExpand:s=>{t.node!==s&&t.node.collapse()},children:[]};return n&&n.children.push(i),Fe("TreeNodeMap",i),{broadcastExpanded:s=>{if(t.accordion)for(const r of i.children)r.treeNodeExpand(s)}}}const dn=Symbol("dragEvents");function uo({props:t,ctx:n,el$:i,dropIndicator$:s,store:r}){const c=ve("tree"),m=J({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Fe(dn,{treeNodeDragStart:({event:x,treeNode:b})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(b.node))return x.preventDefault(),!1;x.dataTransfer.effectAllowed="move";try{x.dataTransfer.setData("text/plain","")}catch{}m.value.draggingNode=b,n.emit("node-drag-start",b.node,x)},treeNodeDragOver:({event:x,treeNode:b})=>{const k=b,d=m.value.dropNode;d&&d.node.id!==k.node.id&&ft(d.$el,c.is("drop-inner"));const z=m.value.draggingNode;if(!z||!k)return;let L=!0,S=!0,Q=!0,H=!0;typeof t.allowDrop=="function"&&(L=t.allowDrop(z.node,k.node,"prev"),H=S=t.allowDrop(z.node,k.node,"inner"),Q=t.allowDrop(z.node,k.node,"next")),x.dataTransfer.dropEffect=S||L||Q?"move":"none",(L||S||Q)&&d?.node.id!==k.node.id&&(d&&n.emit("node-drag-leave",z.node,d.node,x),n.emit("node-drag-enter",z.node,k.node,x)),(L||S||Q)&&(m.value.dropNode=k),k.node.nextSibling===z.node&&(Q=!1),k.node.previousSibling===z.node&&(L=!1),k.node.contains(z.node,!1)&&(S=!1),(z.node===k.node||z.node.contains(k.node))&&(L=!1,S=!1,Q=!1);const q=k.$el.querySelector(`.${c.be("node","content")}`).getBoundingClientRect(),N=i.value.getBoundingClientRect();let C;const f=L?S?.25:Q?.45:1:-1,R=Q?S?.75:L?.55:0:1;let U=-9999;const D=x.clientY-q.top;D<q.height*f?C="before":D>q.height*R?C="after":S?C="inner":C="none";const j=k.$el.querySelector(`.${c.be("node","expand-icon")}`).getBoundingClientRect(),E=s.value;C==="before"?U=j.top-N.top:C==="after"&&(U=j.bottom-N.top),E.style.top=`${U}px`,E.style.left=`${j.right-N.left}px`,C==="inner"?Br(k.$el,c.is("drop-inner")):ft(k.$el,c.is("drop-inner")),m.value.showDropIndicator=C==="before"||C==="after",m.value.allowDrop=m.value.showDropIndicator||H,m.value.dropType=C,n.emit("node-drag-over",z.node,k.node,x)},treeNodeDragEnd:x=>{const{draggingNode:b,dropType:k,dropNode:d}=m.value;if(x.preventDefault(),x.dataTransfer.dropEffect="move",b&&d){const z={data:b.node.data};k!=="none"&&b.node.remove(),k==="before"?d.node.parent.insertBefore(z,d.node):k==="after"?d.node.parent.insertAfter(z,d.node):k==="inner"&&d.node.insertChild(z),k!=="none"&&r.value.registerNode(z),ft(d.$el,c.is("drop-inner")),n.emit("node-drag-end",b.node,d.node,k,x),k!=="none"&&n.emit("node-drop",b.node,d.node,k,x)}b&&!d&&n.emit("node-drag-end",b.node,null,k,x),m.value.showDropIndicator=!1,m.value.draggingNode=null,m.value.dropNode=null,m.value.allowDrop=!0}}),{dragState:m}}const lo=re({name:"ElTreeNode",components:{ElCollapseTransition:ma,ElCheckbox:ra,NodeContent:io,ElIcon:wt,Loading:Mr},props:{node:{type:je,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,n){const i=ve("tree"),{broadcastExpanded:s}=cn(t),r=Le("RootTree"),c=J(!1),m=J(!1),p=J(null),K=J(null),g=J(null),x=Le(dn),b=at();Fe("NodeInstance",b),t.node.expanded&&(c.value=!0,m.value=!0);const k=r.props.children||"children";ge(()=>{const D=t.node.data[k];return D&&[...D]},()=>{t.node.updateChildren()}),ge(()=>t.node.indeterminate,D=>{L(t.node.checked,D)}),ge(()=>t.node.checked,D=>{L(D,t.node.indeterminate)}),ge(()=>t.node.expanded,D=>{mt(()=>c.value=D),D&&(m.value=!0)});const d=D=>xt(r.props.nodeKey,D.data),z=D=>{const j=t.props.class;if(!j)return{};let E;if(Ur(j)){const{data:ie}=D;E=j(ie,D)}else E=j;return Hr(E)?{[E]:!0}:E},L=(D,j)=>{(p.value!==D||K.value!==j)&&r.ctx.emit("check-change",t.node.data,D,j),p.value=D,K.value=j},S=D=>{bt(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(t.node)),r.currentNode.value=t.node,r.props.expandOnClickNode&&H(),r.props.checkOnClickNode&&!t.node.disabled&&q(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,b,D)},Q=D=>{r.instance.vnode.props.onNodeContextmenu&&(D.stopPropagation(),D.preventDefault()),r.ctx.emit("node-contextmenu",D,t.node.data,t.node,b)},H=()=>{t.node.isLeaf||(c.value?(r.ctx.emit("node-collapse",t.node.data,t.node,b),t.node.collapse()):(t.node.expand(),n.emit("node-expand",t.node.data,t.node,b)))},q=(D,j)=>{t.node.setChecked(j.target.checked,!r.props.checkStrictly),mt(()=>{const E=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:E.getCheckedNodes(),checkedKeys:E.getCheckedKeys(),halfCheckedNodes:E.getHalfCheckedNodes(),halfCheckedKeys:E.getHalfCheckedKeys()})})};return{ns:i,node$:g,tree:r,expanded:c,childNodeRendered:m,oldChecked:p,oldIndeterminate:K,getNodeKey:d,getNodeClass:z,handleSelectChange:L,handleClick:S,handleContextMenu:Q,handleExpandIconClick:H,handleCheckChange:q,handleChildNodeExpand:(D,j,E)=>{s(j),r.ctx.emit("node-expand",D,j,E)},handleDragStart:D=>{r.props.draggable&&x.treeNodeDragStart({event:D,treeNode:t})},handleDragOver:D=>{D.preventDefault(),r.props.draggable&&x.treeNodeDragOver({event:D,treeNode:{$el:g.value,node:t.node}})},handleDrop:D=>{D.preventDefault()},handleDragEnd:D=>{r.props.draggable&&x.treeNodeDragEnd(D)},CaretRight:Lr}}}),co=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],fo=["aria-expanded"];function ho(t,n,i,s,r,c){const m=Ie("el-icon"),p=Ie("el-checkbox"),K=Ie("loading"),g=Ie("node-content"),x=Ie("el-tree-node"),b=Ie("el-collapse-transition");return vt((T(),M("div",{ref:"node$",class:ae([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:n[1]||(n[1]=Se((...k)=>t.handleClick&&t.handleClick(...k),["stop"])),onContextmenu:n[2]||(n[2]=(...k)=>t.handleContextMenu&&t.handleContextMenu(...k)),onDragstart:n[3]||(n[3]=Se((...k)=>t.handleDragStart&&t.handleDragStart(...k),["stop"])),onDragover:n[4]||(n[4]=Se((...k)=>t.handleDragOver&&t.handleDragOver(...k),["stop"])),onDragend:n[5]||(n[5]=Se((...k)=>t.handleDragEnd&&t.handleDragEnd(...k),["stop"])),onDrop:n[6]||(n[6]=Se((...k)=>t.handleDrop&&t.handleDrop(...k),["stop"]))},[V("div",{class:ae(t.ns.be("node","content")),style:Fr({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(T(),te(m,{key:0,class:ae([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:Se(t.handleExpandIconClick,["stop"])},{default:X(()=>[(T(),te(Nt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):Y("v-if",!0),t.showCheckbox?(T(),te(p,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:n[0]||(n[0]=Se(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Y("v-if",!0),t.node.loading?(T(),te(m,{key:2,class:ae([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:X(()=>[G(K)]),_:1},8,["class"])):Y("v-if",!0),G(g,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),G(b,null,{default:X(()=>[!t.renderAfterExpand||t.childNodeRendered?vt((T(),M("div",{key:0,class:ae(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(T(!0),M(me,null,Oe(t.node.childNodes,k=>(T(),te(x,{key:t.getNodeKey(k),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:k,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,fo)),[[yt,t.expanded]]):Y("v-if",!0)]),_:1})],42,co)),[[yt,t.node.visible]])}var po=ke(lo,[["render",ho],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function go({el$:t},n){const i=ve("tree"),s=Bt([]),r=Bt([]);an(()=>{m()}),Wr(()=>{s.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),ge(r,p=>{p.forEach(K=>{K.setAttribute("tabindex","-1")})}),Jr(t,"keydown",p=>{const K=p.target;if(!K.className.includes(i.b("node")))return;const g=p.code;s.value=Array.from(t.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const x=s.value.indexOf(K);let b;if([De.up,De.down].includes(g)){if(p.preventDefault(),g===De.up){b=x===-1?0:x!==0?x-1:s.value.length-1;const d=b;for(;!n.value.getNode(s.value[b].dataset.key).canFocus;){if(b--,b===d){b=-1;break}b<0&&(b=s.value.length-1)}}else{b=x===-1?0:x<s.value.length-1?x+1:0;const d=b;for(;!n.value.getNode(s.value[b].dataset.key).canFocus;){if(b++,b===d){b=-1;break}b>=s.value.length&&(b=0)}}b!==-1&&s.value[b].focus()}[De.left,De.right].includes(g)&&(p.preventDefault(),K.click());const k=K.querySelector('[type="checkbox"]');[De.enter,De.space].includes(g)&&k&&(p.preventDefault(),k.click())});const m=()=>{var p;s.value=Array.from(t.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const K=t.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(K.length){K[0].setAttribute("tabindex","0");return}(p=s.value[0])==null||p.setAttribute("tabindex","0")}}const mo=re({name:"ElTree",components:{ElTreeNode:po},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ge}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,n){const{t:i}=xe(),s=ve("tree"),r=J(new oo({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));r.value.initialize();const c=J(r.value.root),m=J(null),p=J(null),K=J(null),{broadcastExpanded:g}=cn(t),{dragState:x}=uo({props:t,ctx:n,el$:p,dropIndicator$:K,store:r});go({el$:p},r);const b=ue(()=>{const{childNodes:A}=c.value;return!A||A.length===0||A.every(({visible:I})=>!I)});ge(()=>t.currentNodeKey,A=>{r.value.setCurrentNodeKey(A)}),ge(()=>t.defaultCheckedKeys,A=>{r.value.setDefaultCheckedKey(A)}),ge(()=>t.defaultExpandedKeys,A=>{r.value.setDefaultExpandedKeys(A)}),ge(()=>t.data,A=>{r.value.setData(A)},{deep:!0}),ge(()=>t.checkStrictly,A=>{r.value.checkStrictly=A});const k=A=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(A)},d=A=>xt(t.nodeKey,A.data),z=A=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const I=r.value.getNode(A);if(!I)return[];const pe=[I.data];let ye=I.parent;for(;ye&&ye!==c.value;)pe.push(ye.data),ye=ye.parent;return pe.reverse()},L=(A,I)=>r.value.getCheckedNodes(A,I),S=A=>r.value.getCheckedKeys(A),Q=()=>{const A=r.value.getCurrentNode();return A?A.data:null},H=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const A=Q();return A?A[t.nodeKey]:null},q=(A,I)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(A,I)},N=(A,I)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(A,I)},C=(A,I,pe)=>{r.value.setChecked(A,I,pe)},f=()=>r.value.getHalfCheckedNodes(),R=()=>r.value.getHalfCheckedKeys(),U=(A,I=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");bt(r,n.emit,()=>r.value.setUserCurrentNode(A,I))},D=(A,I=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");bt(r,n.emit,()=>r.value.setCurrentNodeKey(A,I))},j=A=>r.value.getNode(A),E=A=>{r.value.remove(A)},ie=(A,I)=>{r.value.append(A,I)},Ne=(A,I)=>{r.value.insertBefore(A,I)},we=(A,I)=>{r.value.insertAfter(A,I)},Ce=(A,I,pe)=>{g(I),n.emit("node-expand",A,I,pe)},Ue=(A,I)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(A,I)};return Fe("RootTree",{ctx:n,props:t,store:r,root:c,currentNode:m,instance:at()}),Fe(Vr,void 0),{ns:s,store:r,root:c,currentNode:m,dragState:x,el$:p,dropIndicator$:K,isEmpty:b,filter:k,getNodeKey:d,getNodePath:z,getCheckedNodes:L,getCheckedKeys:S,getCurrentNode:Q,getCurrentKey:H,setCheckedNodes:q,setCheckedKeys:N,setChecked:C,getHalfCheckedNodes:f,getHalfCheckedKeys:R,setCurrentNode:U,setCurrentKey:D,t:i,getNode:j,remove:E,append:ie,insertBefore:Ne,insertAfter:we,handleNodeExpand:Ce,updateKeyChildren:Ue}}});function vo(t,n,i,s,r,c){const m=Ie("el-tree-node");return T(),M("div",{ref:"el$",class:ae([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(T(!0),M(me,null,Oe(t.root.childNodes,p=>(T(),te(m,{key:t.getNodeKey(p),node:p,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(T(),M("div",{key:0,class:ae(t.ns.e("empty-block"))},[Yt(t.$slots,"empty",{},()=>{var p;return[V("span",{class:ae(t.ns.e("empty-text"))},ee((p=t.emptyText)!=null?p:t.t("el.tree.emptyText")),3)]})],2)):Y("v-if",!0),vt(V("div",{ref:"dropIndicator$",class:ae(t.ns.e("drop-indicator"))},null,2),[[yt,t.dragState.showDropIndicator]])],2)}var rt=ke(mo,[["render",vo],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);rt.install=t=>{t.component(rt.name,rt)};const yo=rt,bo=yo;var ht={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},pt={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},$e=[],Re=[];function ko(){var t=document.createElement("div"),n=t.style;"AnimationEvent"in window||(delete ht.animationstart.animation,delete pt.animationend.animation),"TransitionEvent"in window||(delete ht.transitionstart.transition,delete pt.transitionend.transition);function i(s,r){for(var c in s)if(s.hasOwnProperty(c)){var m=s[c];for(var p in m)if(p in n){r.push(m[p]);break}}}i(ht,$e),i(pt,Re)}typeof window<"u"&&typeof document<"u"&&ko();function Vt(t,n,i){t.addEventListener(n,i,!1)}function Qt(t,n,i){t.removeEventListener(n,i,!1)}var Co={startEvents:$e,addStartEventListener:function(n,i){if($e.length===0){setTimeout(i,0);return}$e.forEach(function(s){Vt(n,s,i)})},removeStartEventListener:function(n,i){$e.length!==0&&$e.forEach(function(s){Qt(n,s,i)})},endEvents:Re,addEndEventListener:function(n,i){if(Re.length===0){setTimeout(i,0);return}Re.forEach(function(s){Vt(n,s,i)})},removeEndEventListener:function(n,i){Re.length!==0&&Re.forEach(function(s){Qt(n,s,i)})}};const et=Co;var Pe;function Gt(t){return!t||t.offsetParent===null}function No(t){var n=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}const wo=re({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,i){var s=i.slots,r=i.expose,c=at(),m=Et("",n),p=m.csp,K=m.prefixCls;r({csp:p});var g=null,x=null,b=null,k=!1,d=null,z=!1,L=function(f){if(!z){var R=Ft(c);!f||f.target!==R||k||q(R)}},S=function(f){!f||f.animationName!=="fadeEffect"||q(f.target)},Q=function(){var f=n.insertExtraNode;return f?"".concat(K.value,"-click-animating"):"".concat(K.value,"-click-animating-without-extra-node")},H=function(f,R){var U=n.insertExtraNode,D=n.disabled;if(!(D||!f||Gt(f)||f.className.indexOf("-leave")>=0)){d=document.createElement("div"),d.className="".concat(K.value,"-click-animating-node");var j=Q();if(f.removeAttribute(j),f.setAttribute(j,"true"),Pe=Pe||document.createElement("style"),R&&R!=="#ffffff"&&R!=="rgb(255, 255, 255)"&&No(R)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(R)&&R!=="transparent"){var E;(E=p.value)!==null&&E!==void 0&&E.nonce&&(Pe.nonce=p.value.nonce),d.style.borderColor=R,Pe.innerHTML=`
        [`.concat(K.value,"-click-animating-without-extra-node='true']::after, .").concat(K.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(R,`;
        }`),document.body.contains(Pe)||document.body.appendChild(Pe)}U&&f.appendChild(d),et.addStartEventListener(f,L),et.addEndEventListener(f,S)}},q=function(f){if(!(!f||f===d||!(f instanceof Element))){var R=n.insertExtraNode,U=Q();f.setAttribute(U,"false"),Pe&&(Pe.innerHTML=""),R&&d&&f.contains(d)&&f.removeChild(d),et.removeStartEventListener(f,L),et.removeEndEventListener(f,S)}},N=function(f){if(!(!f||!f.getAttribute||f.getAttribute("disabled")||f.className.indexOf("disabled")>=0)){var R=function(D){if(!(D.target.tagName==="INPUT"||Gt(D.target))){q(f);var j=getComputedStyle(f).getPropertyValue("border-top-color")||getComputedStyle(f).getPropertyValue("border-color")||getComputedStyle(f).getPropertyValue("background-color");x=setTimeout(function(){return H(f,j)},0),Ut.cancel(b),k=!0,b=Ut(function(){k=!1},10)}};return f.addEventListener("click",R,!0),{cancel:function(){f.removeEventListener("click",R,!0)}}}};return an(function(){mt(function(){var C=Ft(c);C.nodeType===1&&(g=N(C))})}),Qr(function(){g&&g.cancel(),clearTimeout(x),z=!0}),function(){var C;return(C=s.default)===null||C===void 0?void 0:C.call(s)[0]}}});var Eo=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}},Po=re({compatConfig:{MODE:3},name:"ACheckableTag",props:Eo(),setup:function(n,i){var s=i.slots,r=i.emit,c=Et("tag",n),m=c.prefixCls,p=function(x){var b=n.checked;r("update:checked",!b),r("change",!b),r("click",x)},K=ue(function(){var g;return on(m.value,(g={},Be(g,"".concat(m.value,"-checkable"),!0),Be(g,"".concat(m.value,"-checkable-checked"),n.checked),g))});return function(){var g;return G("span",{class:K.value,onClick:p},[(g=s.default)===null||g===void 0?void 0:g.call(s)])}}});const Ct=Po;var xo=new RegExp("^(".concat(aa.join("|"),")(-inverse)?$")),_o=new RegExp("^(".concat(oa.join("|"),")$")),So=function(){return{prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:Ht.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},"onUpdate:visible":Function,icon:Ht.any}},Qe=re({compatConfig:{MODE:3},name:"ATag",props:So(),slots:["closeIcon","icon"],setup:function(n,i){var s=i.slots,r=i.emit,c=i.attrs,m=Et("tag",n),p=m.prefixCls,K=m.direction,g=J(!0);rn(function(){n.visible!==void 0&&(g.value=n.visible)});var x=function(z){z.stopPropagation(),r("update:visible",!1),r("close",z),!z.defaultPrevented&&n.visible===void 0&&(g.value=!1)},b=ue(function(){var d=n.color;return d?xo.test(d)||_o.test(d):!1}),k=ue(function(){var d;return on(p.value,(d={},Be(d,"".concat(p.value,"-").concat(n.color),b.value),Be(d,"".concat(p.value,"-has-color"),n.color&&!b.value),Be(d,"".concat(p.value,"-hidden"),!g.value),Be(d,"".concat(p.value,"-rtl"),K.value==="rtl"),d))});return function(){var d,z,L,S=n.icon,Q=S===void 0?(d=s.icon)===null||d===void 0?void 0:d.call(s):S,H=n.color,q=n.closeIcon,N=q===void 0?(z=s.closeIcon)===null||z===void 0?void 0:z.call(s):q,C=n.closable,f=C===void 0?!1:C,R=function(){return f?N?G("span",{class:"".concat(p.value,"-close-icon"),onClick:x},[N]):G(sa,{class:"".concat(p.value,"-close-icon"),onClick:x},null):null},U={backgroundColor:H&&!b.value?H:void 0},D=Q||null,j=(L=s.default)===null||L===void 0?void 0:L.call(s),E=D?G(me,null,[D,G("span",null,[j])]):j,ie="onClick"in c,Ne=G("span",{class:k.value,style:U},[E,R()]);return ie?G(wo,null,{default:function(){return[Ne]}}):Ne}}});Qe.CheckableTag=Ct;Qe.install=function(t){return t.component(Qe.name,Qe),t.component(Ct.name,Ct),t};const Do=Qe;var fn={exports:{}};/*! algoliasearch.umd.js | 4.18.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,n){(function(i,s){t.exports=s()})(Xr,function(){function i(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function s(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);a&&(u=u.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),o.push.apply(o,u)}return o}function r(e){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?s(Object(o),!0).forEach(function(u){i(e,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(o,u))})}return e}function c(e,a){if(e==null)return{};var o,u,l=function(P,h){if(P==null)return{};var w,O,_={},B=Object.keys(P);for(O=0;O<B.length;O++)w=B[O],h.indexOf(w)>=0||(_[w]=P[w]);return _}(e,a);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(e);for(u=0;u<y.length;u++)o=y[u],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(l[o]=e[o])}return l}function m(e,a){return function(o){if(Array.isArray(o))return o}(e)||function(o,u){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]"){var l=[],y=!0,P=!1,h=void 0;try{for(var w,O=o[Symbol.iterator]();!(y=(w=O.next()).done)&&(l.push(w.value),!u||l.length!==u);y=!0);}catch(_){P=!0,h=_}finally{try{y||O.return==null||O.return()}finally{if(P)throw h}}return l}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e){return function(a){if(Array.isArray(a)){for(var o=0,u=new Array(a.length);o<a.length;o++)u[o]=a[o];return u}}(e)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function K(e){var a,o="algoliasearch-client-js-".concat(e.key),u=function(){return a===void 0&&(a=e.localStorage||window.localStorage),a},l=function(){return JSON.parse(u().getItem(o)||"{}")},y=function(h){u().setItem(o,JSON.stringify(h))},P=function(){var h=e.timeToLive?1e3*e.timeToLive:null,w=l(),O=Object.fromEntries(Object.entries(w).filter(function(B){return m(B,2)[1].timestamp!==void 0}));if(y(O),h){var _=Object.fromEntries(Object.entries(O).filter(function(B){var $=m(B,2)[1],W=new Date().getTime();return!($.timestamp+h<W)}));y(_)}};return{get:function(h,w){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){P();var _=JSON.stringify(h);return l()[_]}).then(function(_){return Promise.all([_?_.value:w(),_!==void 0])}).then(function(_){var B=m(_,2),$=B[0],W=B[1];return Promise.all([$,W||O.miss($)])}).then(function(_){return m(_,1)[0]})},set:function(h,w){return Promise.resolve().then(function(){var O=l();return O[JSON.stringify(h)]={timestamp:new Date().getTime(),value:w},u().setItem(o,JSON.stringify(O)),w})},delete:function(h){return Promise.resolve().then(function(){var w=l();delete w[JSON.stringify(h)],u().setItem(o,JSON.stringify(w))})},clear:function(){return Promise.resolve().then(function(){u().removeItem(o)})}}}function g(e){var a=p(e.caches),o=a.shift();return o===void 0?{get:function(u,l){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},P=l();return P.then(function(h){return Promise.all([h,y.miss(h)])}).then(function(h){return m(h,1)[0]})},set:function(u,l){return Promise.resolve(l)},delete:function(u){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(u,l){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return o.get(u,l,y).catch(function(){return g({caches:a}).get(u,l,y)})},set:function(u,l){return o.set(u,l).catch(function(){return g({caches:a}).set(u,l)})},delete:function(u){return o.delete(u).catch(function(){return g({caches:a}).delete(u)})},clear:function(){return o.clear().catch(function(){return g({caches:a}).clear()})}}}function x(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},a={};return{get:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},y=JSON.stringify(o);if(y in a)return Promise.resolve(e.serializable?JSON.parse(a[y]):a[y]);var P=u(),h=l&&l.miss||function(){return Promise.resolve()};return P.then(function(w){return h(w)}).then(function(){return P})},set:function(o,u){return a[JSON.stringify(o)]=e.serializable?JSON.stringify(u):u,Promise.resolve(u)},delete:function(o){return delete a[JSON.stringify(o)],Promise.resolve()},clear:function(){return a={},Promise.resolve()}}}function b(e,a,o){var u={"x-algolia-api-key":o,"x-algolia-application-id":a};return{headers:function(){return e===Q.WithinHeaders?u:{}},queryParameters:function(){return e===Q.WithinQueryParameters?u:{}}}}function k(e){var a=0;return e(function o(){return a++,new Promise(function(u){setTimeout(function(){u(e(o))},Math.min(100*a,1e3))})})}function d(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(o,u){return Promise.resolve()};return Object.assign(e,{wait:function(o){return d(e.then(function(u){return Promise.all([a(u,o),u])}).then(function(u){return u[1]}))}})}function z(e){for(var a=e.length-1;a>0;a--){var o=Math.floor(Math.random()*(a+1)),u=e[a];e[a]=e[o],e[o]=u}return e}function L(e,a){return a&&Object.keys(a).forEach(function(o){e[o]=a[o](e)}),e}function S(e){for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];var l=0;return e.replace(/%s/g,function(){return encodeURIComponent(o[l++])})}var Q={WithinQueryParameters:0,WithinHeaders:1};function H(e,a){var o=e||{},u=o.data||{};return Object.keys(o).forEach(function(l){["timeout","headers","queryParameters","data","cacheable"].indexOf(l)===-1&&(u[l]=o[l])}),{data:Object.entries(u).length>0?u:void 0,timeout:o.timeout||a,headers:o.headers||{},queryParameters:o.queryParameters||{},cacheable:o.cacheable}}var q={Read:1,Write:2,Any:3},N=1,C=2,f=3;function R(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return r(r({},e),{},{status:a,lastUpdate:Date.now()})}function U(e){return typeof e=="string"?{protocol:"https",url:e,accept:q.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||q.Any}}var D="DELETE",j="GET",E="POST",ie="PUT";function Ne(e,a){return Promise.all(a.map(function(o){return e.get(o,function(){return Promise.resolve(R(o))})})).then(function(o){var u=o.filter(function(P){return function(h){return h.status===N||Date.now()-h.lastUpdate>12e4}(P)}),l=o.filter(function(P){return function(h){return h.status===f&&Date.now()-h.lastUpdate<=12e4}(P)}),y=[].concat(p(u),p(l));return{getTimeout:function(P,h){return(l.length===0&&P===0?1:l.length+3+P)*h},statelessHosts:y.length>0?y.map(function(P){return U(P)}):a}})}function we(e,a,o,u){var l=[],y=function($,W){if(!($.method===j||$.data===void 0&&W.data===void 0)){var F=Array.isArray($.data)?$.data:r(r({},$.data),W.data);return JSON.stringify(F)}}(o,u),P=function($,W){var F=r(r({},$.headers),W.headers),Z={};return Object.keys(F).forEach(function(ne){var fe=F[ne];Z[ne.toLowerCase()]=fe}),Z}(e,u),h=o.method,w=o.method!==j?{}:r(r({},o.data),u.data),O=r(r(r({"x-algolia-agent":e.userAgent.value},e.queryParameters),w),u.queryParameters),_=0,B=function $(W,F){var Z=W.pop();if(Z===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:pe(l)};var ne={data:y,headers:P,method:h,url:A(Z,o.path,O),connectTimeout:F(_,e.timeouts.connect),responseTimeout:F(_,u.timeout)},fe=function(he){var le={request:ne,response:he,host:Z,triesLeft:W.length};return l.push(le),le},Je={onSuccess:function(he){return function(le){try{return JSON.parse(le.content)}catch(_e){throw function(Ee,ze){return{name:"DeserializationError",message:Ee,response:ze}}(_e.message,le)}}(he)},onRetry:function(he){var le=fe(he);return he.isTimedOut&&_++,Promise.all([e.logger.info("Retryable failure",ye(le)),e.hostsCache.set(Z,R(Z,he.isTimedOut?f:C))]).then(function(){return $(W,F)})},onFail:function(he){throw fe(he),function(le,_e){var Ee=le.content,ze=le.status,Ve=Ee;try{Ve=JSON.parse(Ee).message}catch{}return function(Ye,dt,_r){return{name:"ApiError",message:Ye,status:dt,transporterStackTrace:_r}}(Ve,ze,_e)}(he,pe(l))}};return e.requester.send(ne).then(function(he){return function(le,_e){return function(Ee){var ze=Ee.status;return Ee.isTimedOut||function(Ve){var Ye=Ve.isTimedOut,dt=Ve.status;return!Ye&&~~dt==0}(Ee)||~~(ze/100)!=2&&~~(ze/100)!=4}(le)?_e.onRetry(le):~~(le.status/100)==2?_e.onSuccess(le):_e.onFail(le)}(he,Je)})};return Ne(e.hostsCache,a).then(function($){return B(p($.statelessHosts).reverse(),$.getTimeout)})}function Ce(e){var a=e.hostsCache,o=e.logger,u=e.requester,l=e.requestsCache,y=e.responsesCache,P=e.timeouts,h=e.userAgent,w=e.hosts,O=e.queryParameters,_={hostsCache:a,logger:o,requester:u,requestsCache:l,responsesCache:y,timeouts:P,userAgent:h,headers:e.headers,queryParameters:O,hosts:w.map(function(B){return U(B)}),read:function(B,$){var W=H($,_.timeouts.read),F=function(){return we(_,_.hosts.filter(function(ne){return(ne.accept&q.Read)!=0}),B,W)};if((W.cacheable!==void 0?W.cacheable:B.cacheable)!==!0)return F();var Z={request:B,mappedRequestOptions:W,transporter:{queryParameters:_.queryParameters,headers:_.headers}};return _.responsesCache.get(Z,function(){return _.requestsCache.get(Z,function(){return _.requestsCache.set(Z,F()).then(function(ne){return Promise.all([_.requestsCache.delete(Z),ne])},function(ne){return Promise.all([_.requestsCache.delete(Z),Promise.reject(ne)])}).then(function(ne){var fe=m(ne,2);return fe[0],fe[1]})})},{miss:function(ne){return _.responsesCache.set(Z,ne)}})},write:function(B,$){return we(_,_.hosts.filter(function(W){return(W.accept&q.Write)!=0}),B,H($,_.timeouts.write))}};return _}function Ue(e){var a={value:"Algolia for JavaScript (".concat(e,")"),add:function(o){var u="; ".concat(o.segment).concat(o.version!==void 0?" (".concat(o.version,")"):"");return a.value.indexOf(u)===-1&&(a.value="".concat(a.value).concat(u)),a}};return a}function A(e,a,o){var u=I(o),l="".concat(e.protocol,"://").concat(e.url,"/").concat(a.charAt(0)==="/"?a.substr(1):a);return u.length&&(l+="?".concat(u)),l}function I(e){return Object.keys(e).map(function(a){return S("%s=%s",a,(o=e[a],Object.prototype.toString.call(o)==="[object Object]"||Object.prototype.toString.call(o)==="[object Array]"?JSON.stringify(e[a]):e[a]));var o}).join("&")}function pe(e){return e.map(function(a){return ye(a)})}function ye(e){var a=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),a)})})}var pn=function(e){return function(a,o){return e.transporter.write({method:E,path:"2/abtests",data:a},o)}},gn=function(e){return function(a,o){return e.transporter.write({method:D,path:S("2/abtests/%s",a)},o)}},mn=function(e){return function(a,o){return e.transporter.read({method:j,path:S("2/abtests/%s",a)},o)}},vn=function(e){return function(a){return e.transporter.read({method:j,path:"2/abtests"},a)}},yn=function(e){return function(a,o){return e.transporter.write({method:E,path:S("2/abtests/%s/stop",a)},o)}},bn=function(e){return function(a){return e.transporter.read({method:j,path:"1/strategies/personalization"},a)}},kn=function(e){return function(a,o){return e.transporter.write({method:E,path:"1/strategies/personalization",data:a},o)}};function ot(e){return function a(o){return e.request(o).then(function(u){if(e.batch!==void 0&&e.batch(u.hits),!e.shouldStop(u))return u.cursor?a({cursor:u.cursor}):a({page:(o.page||0)+1})})}({})}var Cn=function(e){return function(a,o){var u=o||{},l=u.queryParameters,y=c(u,["queryParameters"]),P=r({acl:a},l!==void 0?{queryParameters:l}:{});return d(e.transporter.write({method:E,path:"1/keys",data:P},y),function(h,w){return k(function(O){return He(e)(h.key,w).catch(function(_){if(_.status!==404)throw _;return O()})})})}},Nn=function(e){return function(a,o,u){var l=H(u);return l.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:E,path:"1/clusters/mapping",data:{cluster:o}},l)}},wn=function(e){return function(a,o,u){return e.transporter.write({method:E,path:"1/clusters/mapping/batch",data:{users:a,cluster:o}},u)}},En=function(e){return function(a,o){return d(e.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},o),function(u,l){return qe(e)(u.taskID,l)})}},Xe=function(e){return function(a,o,u){return d(e.transporter.write({method:E,path:S("1/indexes/%s/operation",a),data:{operation:"copy",destination:o}},u),function(l,y){return We(e)(a,{methods:{waitTask:oe}}).waitTask(l.taskID,y)})}},Pn=function(e){return function(a,o,u){return Xe(e)(a,o,r(r({},u),{},{scope:[ct.Rules]}))}},xn=function(e){return function(a,o,u){return Xe(e)(a,o,r(r({},u),{},{scope:[ct.Settings]}))}},_n=function(e){return function(a,o,u){return Xe(e)(a,o,r(r({},u),{},{scope:[ct.Synonyms]}))}},Sn=function(e){return function(a,o){return a.method===j?e.transporter.read(a,o):e.transporter.write(a,o)}},Dn=function(e){return function(a,o){return d(e.transporter.write({method:D,path:S("1/keys/%s",a)},o),function(u,l){return k(function(y){return He(e)(a,l).then(y).catch(function(P){if(P.status!==404)throw P})})})}},Tn=function(e){return function(a,o,u){var l=o.map(function(y){return{action:"deleteEntry",body:{objectID:y}}});return d(e.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},u),function(y,P){return qe(e)(y.taskID,P)})}},He=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/keys/%s",a)},o)}},_t=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/task/%s",a.toString())},o)}},In=function(e){return function(a){return e.transporter.read({method:j,path:"/1/dictionaries/*/settings"},a)}},On=function(e){return function(a){return e.transporter.read({method:j,path:"1/logs"},a)}},jn=function(e){return function(a){return e.transporter.read({method:j,path:"1/clusters/mapping/top"},a)}},An=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/clusters/mapping/%s",a)},o)}},qn=function(e){return function(a){var o=a||{},u=o.retrieveMappings,l=c(o,["retrieveMappings"]);return u===!0&&(l.getClusters=!0),e.transporter.read({method:j,path:"1/clusters/mapping/pending"},l)}},We=function(e){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={transporter:e.transporter,appId:e.appId,indexName:a};return L(u,o.methods)}},Kn=function(e){return function(a){return e.transporter.read({method:j,path:"1/keys"},a)}},zn=function(e){return function(a){return e.transporter.read({method:j,path:"1/clusters"},a)}},$n=function(e){return function(a){return e.transporter.read({method:j,path:"1/indexes"},a)}},Rn=function(e){return function(a){return e.transporter.read({method:j,path:"1/clusters/mapping"},a)}},Bn=function(e){return function(a,o,u){return d(e.transporter.write({method:E,path:S("1/indexes/%s/operation",a),data:{operation:"move",destination:o}},u),function(l,y){return We(e)(a,{methods:{waitTask:oe}}).waitTask(l.taskID,y)})}},Mn=function(e){return function(a,o){return d(e.transporter.write({method:E,path:"1/indexes/*/batch",data:{requests:a}},o),function(u,l){return Promise.all(Object.keys(u.taskID).map(function(y){return We(e)(y,{methods:{waitTask:oe}}).waitTask(u.taskID[y],l)}))})}},Ln=function(e){return function(a,o){return e.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:a}},o)}},St=function(e){return function(a,o){var u=a.map(function(l){return r(r({},l),{},{params:I(l.params||{})})});return e.transporter.read({method:E,path:"1/indexes/*/queries",data:{requests:u},cacheable:!0},o)}},Dt=function(e){return function(a,o){return Promise.all(a.map(function(u){var l=u.params,y=l.facetName,P=l.facetQuery,h=c(l,["facetName","facetQuery"]);return We(e)(u.indexName,{methods:{searchForFacetValues:qt}}).searchForFacetValues(y,P,r(r({},o),h))}))}},Fn=function(e){return function(a,o){var u=H(o);return u.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:D,path:"1/clusters/mapping"},u)}},Un=function(e){return function(a,o,u){var l=o.map(function(y){return{action:"addEntry",body:y}});return d(e.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:l}},u),function(y,P){return qe(e)(y.taskID,P)})}},Hn=function(e){return function(a,o){return d(e.transporter.write({method:E,path:S("1/keys/%s/restore",a)},o),function(u,l){return k(function(y){return He(e)(a,l).catch(function(P){if(P.status!==404)throw P;return y()})})})}},Wn=function(e){return function(a,o,u){var l=o.map(function(y){return{action:"addEntry",body:y}});return d(e.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},u),function(y,P){return qe(e)(y.taskID,P)})}},Jn=function(e){return function(a,o,u){return e.transporter.read({method:E,path:S("/1/dictionaries/%s/search",a),data:{query:o},cacheable:!0},u)}},Vn=function(e){return function(a,o){return e.transporter.read({method:E,path:"1/clusters/mapping/search",data:{query:a}},o)}},Qn=function(e){return function(a,o){return d(e.transporter.write({method:ie,path:"/1/dictionaries/*/settings",data:a},o),function(u,l){return qe(e)(u.taskID,l)})}},Gn=function(e){return function(a,o){var u=Object.assign({},o),l=o||{},y=l.queryParameters,P=c(l,["queryParameters"]),h=y?{queryParameters:y}:{},w=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return d(e.transporter.write({method:ie,path:S("1/keys/%s",a),data:h},P),function(O,_){return k(function(B){return He(e)(a,_).then(function($){return function(W){return Object.keys(u).filter(function(F){return w.indexOf(F)!==-1}).every(function(F){if(Array.isArray(W[F])&&Array.isArray(u[F])){var Z=W[F];return Z.length===u[F].length&&Z.every(function(ne,fe){return ne===u[F][fe]})}return W[F]===u[F]})}($)?Promise.resolve():B()})})})}},qe=function(e){return function(a,o){return k(function(u){return _t(e)(a,o).then(function(l){return l.status!=="published"?u():void 0})})}},Tt=function(e){return function(a,o){return d(e.transporter.write({method:E,path:S("1/indexes/%s/batch",e.indexName),data:{requests:a}},o),function(u,l){return oe(e)(u.taskID,l)})}},Xn=function(e){return function(a){return ot(r(r({shouldStop:function(o){return o.cursor===void 0}},a),{},{request:function(o){return e.transporter.read({method:E,path:S("1/indexes/%s/browse",e.indexName),data:o},a)}}))}},Yn=function(e){return function(a){var o=r({hitsPerPage:1e3},a);return ot(r(r({shouldStop:function(u){return u.hits.length<o.hitsPerPage}},o),{},{request:function(u){return Kt(e)("",r(r({},o),u)).then(function(l){return r(r({},l),{},{hits:l.hits.map(function(y){return delete y._highlightResult,y})})})}}))}},Zn=function(e){return function(a){var o=r({hitsPerPage:1e3},a);return ot(r(r({shouldStop:function(u){return u.hits.length<o.hitsPerPage}},o),{},{request:function(u){return zt(e)("",r(r({},o),u)).then(function(l){return r(r({},l),{},{hits:l.hits.map(function(y){return delete y._highlightResult,y})})})}}))}},st=function(e){return function(a,o,u){var l=u||{},y=l.batchSize,P=c(l,["batchSize"]),h={taskIDs:[],objectIDs:[]};return d(function w(){var O,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=[];for(O=_;O<a.length&&(B.push(a[O]),B.length!==(y||1e3));O++);return B.length===0?Promise.resolve(h):Tt(e)(B.map(function($){return{action:o,body:$}}),P).then(function($){return h.objectIDs=h.objectIDs.concat($.objectIDs),h.taskIDs.push($.taskID),O++,w(O)})}(),function(w,O){return Promise.all(w.taskIDs.map(function(_){return oe(e)(_,O)}))})}},er=function(e){return function(a){return d(e.transporter.write({method:E,path:S("1/indexes/%s/clear",e.indexName)},a),function(o,u){return oe(e)(o.taskID,u)})}},tr=function(e){return function(a){var o=a||{},u=o.forwardToReplicas,l=H(c(o,["forwardToReplicas"]));return u&&(l.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:E,path:S("1/indexes/%s/rules/clear",e.indexName)},l),function(y,P){return oe(e)(y.taskID,P)})}},nr=function(e){return function(a){var o=a||{},u=o.forwardToReplicas,l=H(c(o,["forwardToReplicas"]));return u&&(l.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:E,path:S("1/indexes/%s/synonyms/clear",e.indexName)},l),function(y,P){return oe(e)(y.taskID,P)})}},rr=function(e){return function(a,o){return d(e.transporter.write({method:E,path:S("1/indexes/%s/deleteByQuery",e.indexName),data:a},o),function(u,l){return oe(e)(u.taskID,l)})}},ar=function(e){return function(a){return d(e.transporter.write({method:D,path:S("1/indexes/%s",e.indexName)},a),function(o,u){return oe(e)(o.taskID,u)})}},or=function(e){return function(a,o){return d(It(e)([a],o).then(function(u){return{taskID:u.taskIDs[0]}}),function(u,l){return oe(e)(u.taskID,l)})}},It=function(e){return function(a,o){var u=a.map(function(l){return{objectID:l}});return st(e)(u,Ke.DeleteObject,o)}},sr=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,y=H(c(u,["forwardToReplicas"]));return l&&(y.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:D,path:S("1/indexes/%s/rules/%s",e.indexName,a)},y),function(P,h){return oe(e)(P.taskID,h)})}},ir=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,y=H(c(u,["forwardToReplicas"]));return l&&(y.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:D,path:S("1/indexes/%s/synonyms/%s",e.indexName,a)},y),function(P,h){return oe(e)(P.taskID,h)})}},ur=function(e){return function(a){return Ot(e)(a).then(function(){return!0}).catch(function(o){if(o.status!==404)throw o;return!1})}},lr=function(e){return function(a,o,u){return e.transporter.read({method:E,path:S("1/answers/%s/prediction",e.indexName),data:{query:a,queryLanguages:o},cacheable:!0},u)}},cr=function(e){return function(a,o){var u=o||{},l=u.query,y=u.paginate,P=c(u,["query","paginate"]),h=0;return function w(){return At(e)(l||"",r(r({},P),{},{page:h})).then(function(O){for(var _=0,B=Object.entries(O.hits);_<B.length;_++){var $=m(B[_],2),W=$[0],F=$[1];if(a(F))return{object:F,position:parseInt(W,10),page:h}}if(h++,y===!1||h>=O.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return w()})}()}},dr=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/indexes/%s/%s",e.indexName,a)},o)}},fr=function(){return function(e,a){for(var o=0,u=Object.entries(e.hits);o<u.length;o++){var l=m(u[o],2),y=l[0];if(l[1].objectID===a)return parseInt(y,10)}return-1}},hr=function(e){return function(a,o){var u=o||{},l=u.attributesToRetrieve,y=c(u,["attributesToRetrieve"]),P=a.map(function(h){return r({indexName:e.indexName,objectID:h},l?{attributesToRetrieve:l}:{})});return e.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:P}},y)}},pr=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/indexes/%s/rules/%s",e.indexName,a)},o)}},Ot=function(e){return function(a){return e.transporter.read({method:j,path:S("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},a)}},gr=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/indexes/%s/synonyms/%s",e.indexName,a)},o)}},mr=function(e){return function(a,o){return d(jt(e)([a],o).then(function(u){return{objectID:u.objectIDs[0],taskID:u.taskIDs[0]}}),function(u,l){return oe(e)(u.taskID,l)})}},jt=function(e){return function(a,o){var u=o||{},l=u.createIfNotExists,y=c(u,["createIfNotExists"]),P=l?Ke.PartialUpdateObject:Ke.PartialUpdateObjectNoCreate;return st(e)(a,P,y)}},vr=function(e){return function(a,o){var u=o||{},l=u.safe,y=u.autoGenerateObjectIDIfNotExist,P=u.batchSize,h=c(u,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),w=function(F,Z,ne,fe){return d(e.transporter.write({method:E,path:S("1/indexes/%s/operation",F),data:{operation:ne,destination:Z}},fe),function(Je,he){return oe(e)(Je.taskID,he)})},O=Math.random().toString(36).substring(7),_="".concat(e.indexName,"_tmp_").concat(O),B=it({appId:e.appId,transporter:e.transporter,indexName:_}),$=[],W=w(e.indexName,_,"copy",r(r({},h),{},{scope:["settings","synonyms","rules"]}));return $.push(W),d((l?W.wait(h):W).then(function(){var F=B(a,r(r({},h),{},{autoGenerateObjectIDIfNotExist:y,batchSize:P}));return $.push(F),l?F.wait(h):F}).then(function(){var F=w(_,e.indexName,"move",h);return $.push(F),l?F.wait(h):F}).then(function(){return Promise.all($)}).then(function(F){var Z=m(F,3),ne=Z[0],fe=Z[1],Je=Z[2];return{objectIDs:fe.objectIDs,taskIDs:[ne.taskID].concat(p(fe.taskIDs),[Je.taskID])}}),function(F,Z){return Promise.all($.map(function(ne){return ne.wait(Z)}))})}},yr=function(e){return function(a,o){return ut(e)(a,r(r({},o),{},{clearExistingRules:!0}))}},br=function(e){return function(a,o){return lt(e)(a,r(r({},o),{},{clearExistingSynonyms:!0}))}},kr=function(e){return function(a,o){return d(it(e)([a],o).then(function(u){return{objectID:u.objectIDs[0],taskID:u.taskIDs[0]}}),function(u,l){return oe(e)(u.taskID,l)})}},it=function(e){return function(a,o){var u=o||{},l=u.autoGenerateObjectIDIfNotExist,y=c(u,["autoGenerateObjectIDIfNotExist"]),P=l?Ke.AddObject:Ke.UpdateObject;if(P===Ke.UpdateObject){var h=!0,w=!1,O=void 0;try{for(var _,B=a[Symbol.iterator]();!(h=(_=B.next()).done);h=!0)if(_.value.objectID===void 0)return d(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch($){w=!0,O=$}finally{try{h||B.return==null||B.return()}finally{if(w)throw O}}}return st(e)(a,P,y)}},Cr=function(e){return function(a,o){return ut(e)([a],o)}},ut=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,y=u.clearExistingRules,P=H(c(u,["forwardToReplicas","clearExistingRules"]));return l&&(P.queryParameters.forwardToReplicas=1),y&&(P.queryParameters.clearExistingRules=1),d(e.transporter.write({method:E,path:S("1/indexes/%s/rules/batch",e.indexName),data:a},P),function(h,w){return oe(e)(h.taskID,w)})}},Nr=function(e){return function(a,o){return lt(e)([a],o)}},lt=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,y=u.clearExistingSynonyms,P=u.replaceExistingSynonyms,h=H(c(u,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return l&&(h.queryParameters.forwardToReplicas=1),(P||y)&&(h.queryParameters.replaceExistingSynonyms=1),d(e.transporter.write({method:E,path:S("1/indexes/%s/synonyms/batch",e.indexName),data:a},h),function(w,O){return oe(e)(w.taskID,O)})}},At=function(e){return function(a,o){return e.transporter.read({method:E,path:S("1/indexes/%s/query",e.indexName),data:{query:a},cacheable:!0},o)}},qt=function(e){return function(a,o,u){return e.transporter.read({method:E,path:S("1/indexes/%s/facets/%s/query",e.indexName,a),data:{facetQuery:o},cacheable:!0},u)}},Kt=function(e){return function(a,o){return e.transporter.read({method:E,path:S("1/indexes/%s/rules/search",e.indexName),data:{query:a}},o)}},zt=function(e){return function(a,o){return e.transporter.read({method:E,path:S("1/indexes/%s/synonyms/search",e.indexName),data:{query:a}},o)}},wr=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,y=H(c(u,["forwardToReplicas"]));return l&&(y.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:ie,path:S("1/indexes/%s/settings",e.indexName),data:a},y),function(P,h){return oe(e)(P.taskID,h)})}},oe=function(e){return function(a,o){return k(function(u){return function(l){return function(y,P){return l.transporter.read({method:j,path:S("1/indexes/%s/task/%s",l.indexName,y.toString())},P)}}(e)(a,o).then(function(l){return l.status!=="published"?u():void 0})})}},Ke={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ct={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Er=1,Pr=2,xr=3;function $t(e,a,o){var u,l={appId:e,apiKey:a,timeouts:{connect:1,read:2,write:30},requester:{send:function(h){return new Promise(function(w){var O=new XMLHttpRequest;O.open(h.method,h.url,!0),Object.keys(h.headers).forEach(function(W){return O.setRequestHeader(W,h.headers[W])});var _,B=function(W,F){return setTimeout(function(){O.abort(),w({status:0,content:F,isTimedOut:!0})},1e3*W)},$=B(h.connectTimeout,"Connection timeout");O.onreadystatechange=function(){O.readyState>O.OPENED&&_===void 0&&(clearTimeout($),_=B(h.responseTimeout,"Socket timeout"))},O.onerror=function(){O.status===0&&(clearTimeout($),clearTimeout(_),w({content:O.responseText||"Network request failed",status:O.status,isTimedOut:!1}))},O.onload=function(){clearTimeout($),clearTimeout(_),w({content:O.responseText,status:O.status,isTimedOut:!1})},O.send(h.data)})}},logger:(u=xr,{debug:function(h,w){return Er>=u&&console.debug(h,w),Promise.resolve()},info:function(h,w){return Pr>=u&&console.info(h,w),Promise.resolve()},error:function(h,w){return console.error(h,w),Promise.resolve()}}),responsesCache:x(),requestsCache:x({serializable:!1}),hostsCache:g({caches:[K({key:"".concat("4.18.0","-").concat(e)}),x()]}),userAgent:Ue("4.18.0").add({segment:"Browser"})},y=r(r({},l),o),P=function(){return function(h){return function(w){var O=w.region||"us",_=b(Q.WithinHeaders,w.appId,w.apiKey),B=Ce(r(r({hosts:[{url:"personalization.".concat(O,".algolia.com")}]},w),{},{headers:r(r(r({},_.headers()),{"content-type":"application/json"}),w.headers),queryParameters:r(r({},_.queryParameters()),w.queryParameters)}));return L({appId:w.appId,transporter:B},w.methods)}(r(r(r({},l),h),{},{methods:{getPersonalizationStrategy:bn,setPersonalizationStrategy:kn}}))}};return function(h){var w=h.appId,O=b(h.authMode!==void 0?h.authMode:Q.WithinHeaders,w,h.apiKey),_=Ce(r(r({hosts:[{url:"".concat(w,"-dsn.algolia.net"),accept:q.Read},{url:"".concat(w,".algolia.net"),accept:q.Write}].concat(z([{url:"".concat(w,"-1.algolianet.com")},{url:"".concat(w,"-2.algolianet.com")},{url:"".concat(w,"-3.algolianet.com")}]))},h),{},{headers:r(r(r({},O.headers()),{"content-type":"application/x-www-form-urlencoded"}),h.headers),queryParameters:r(r({},O.queryParameters()),h.queryParameters)}));return L({transporter:_,appId:w,addAlgoliaAgent:function(B,$){_.userAgent.add({segment:B,version:$})},clearCache:function(){return Promise.all([_.requestsCache.clear(),_.responsesCache.clear()]).then(function(){})}},h.methods)}(r(r({},y),{},{methods:{search:St,searchForFacetValues:Dt,multipleBatch:Mn,multipleGetObjects:Ln,multipleQueries:St,copyIndex:Xe,copySettings:xn,copySynonyms:_n,copyRules:Pn,moveIndex:Bn,listIndices:$n,getLogs:On,listClusters:zn,multipleSearchForFacetValues:Dt,getApiKey:He,addApiKey:Cn,listApiKeys:Kn,updateApiKey:Gn,deleteApiKey:Dn,restoreApiKey:Hn,assignUserID:Nn,assignUserIDs:wn,getUserID:An,searchUserIDs:Vn,listUserIDs:Rn,getTopUserIDs:jn,removeUserID:Fn,hasPendingMappings:qn,clearDictionaryEntries:En,deleteDictionaryEntries:Tn,getDictionarySettings:In,getAppTask:_t,replaceDictionaryEntries:Un,saveDictionaryEntries:Wn,searchDictionaryEntries:Jn,setDictionarySettings:Qn,waitAppTask:qe,customRequest:Sn,initIndex:function(h){return function(w){return We(h)(w,{methods:{batch:Tt,delete:ar,findAnswers:lr,getObject:dr,getObjects:hr,saveObject:kr,saveObjects:it,search:At,searchForFacetValues:qt,waitTask:oe,setSettings:wr,getSettings:Ot,partialUpdateObject:mr,partialUpdateObjects:jt,deleteObject:or,deleteObjects:It,deleteBy:rr,clearObjects:er,browseObjects:Xn,getObjectPosition:fr,findObject:cr,exists:ur,saveSynonym:Nr,saveSynonyms:lt,getSynonym:gr,searchSynonyms:zt,browseSynonyms:Zn,deleteSynonym:ir,clearSynonyms:nr,replaceAllObjects:vr,replaceAllSynonyms:br,searchRules:Kt,getRule:pr,deleteRule:sr,saveRule:Cr,saveRules:ut,replaceAllRules:yr,browseRules:Yn,clearRules:tr}})}},initAnalytics:function(){return function(h){return function(w){var O=w.region||"us",_=b(Q.WithinHeaders,w.appId,w.apiKey),B=Ce(r(r({hosts:[{url:"analytics.".concat(O,".algolia.com")}]},w),{},{headers:r(r(r({},_.headers()),{"content-type":"application/json"}),w.headers),queryParameters:r(r({},_.queryParameters()),w.queryParameters)}));return L({appId:w.appId,transporter:B},w.methods)}(r(r(r({},l),h),{},{methods:{addABTest:pn,getABTest:mn,getABTests:vn,stopABTest:yn,deleteABTest:gn}}))}},initPersonalization:P,initRecommendation:function(){return function(h){return y.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),P()(h)}}}}))}return $t.version="4.18.0",$t})})(fn);var To=fn.exports;const Io=Gr(To),Oo=Io("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),hn=Oo.initIndex("npm-search"),jo=async(t,n=0,i=10)=>{try{const s=zo(t);if(!s)return{response:null,query:t};const r={page:n,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:s.facetFilters?s.facetFilters:void 0},c=await hn.search(s.query,r);return c.hits.sort((m,p)=>m.name===s.query?-1:p.name===s.query?1:0),{response:c,query:t}}catch{return{response:null,query:t}}},Ao=async t=>hn.getObject(t),qo=/\s*(?:[a-z]+)\s*:\s*(?:.(?![a-z]*\s*:))*/gi,Ko=/^((?:(?:[^\s:]+(?![a-z]*\s*:))\s*)*)/i,Xt={author:"owner.name",type:"moduleTypes"};function zo(t){const n=t.match(Ko)?.[0].trim();if(n==null)return;const i=t,s=[];let r;for(;(r=qo.exec(i))!==null;){const c=r[0].split(":");Xt[c[0].trim()]&&s.push(Xt[c[0].trim()]+":"+c[1].trim())}return{query:n,facetFilters:s.join(",")}}const de=t=>(ea("data-v-c472691b"),t=t(),ta(),t),$o={key:0},Ro={class:"result-list"},Bo={class:"pkgName"},Mo={class:"meta"},Lo=["onClick"],Fo=["src","alt"],Uo=de(()=>V("span",{class:"i-icon-park-outline-tag-one"},null,-1)),Ho=["title"],Wo=de(()=>V("span",{class:"i-icon-park-outline-balance-two"},null,-1)),Jo={key:0,class:"description"},Vo={key:1},Qo=de(()=>V("span",{class:"i-icon-park-outline-return"},null,-1)),Go={key:0},Xo=de(()=>V("b",null,"名称: ",-1)),Yo={key:1},Zo=de(()=>V("b",null,"主页: ",-1)),es={key:2},ts=de(()=>V("b",null,"简介: ",-1)),ns={key:3},rs=de(()=>V("b",null,"仓库: ",-1)),as={key:4},os=de(()=>V("b",null,"协议: ",-1)),ss={key:5},is=de(()=>V("b",null,"作者: ",-1)),us={key:7},ls=de(()=>V("b",null,"版本: ",-1)),cs={key:8},ds=de(()=>V("b",null,"默认文件: ",-1)),fs={key:9},hs=de(()=>V("b",null,"文件列表",-1)),ps=de(()=>V("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)),gs=[hs,ps],ms={key:0,flex:"","items-center":""},vs=de(()=>V("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),ys={key:1,flex:"","items-center":""},bs=de(()=>V("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),ks=10,Cs=re({__name:"cdnQuery",setup(t){let n=null;const i=J(!1),s=J(""),r=J(""),c=J(0),m=J([]),p=J(0),K=J(""),g=J(null),x=J(""),b=J([]),k=J(null),d=J([]),z=ue(()=>d.value&&d.value.length?q(d.value):[]);async function L(N=0){if(!s.value){i.value=!1,g.value=null,x.value="",b.value=[],m.value=[],c.value=0,p.value=0,r.value="";return}n&&clearTimeout(n),n=window.setTimeout(async()=>{i.value=!0;const{response:C,query:f}=await jo(s.value,N,ks);if(f===s.value){if(C){const{hits:R,page:U,nbHits:D}=C;m.value=R,p.value=D,c.value=U,r.value="done"}else Zr.warning("搜索失败");i.value=!1}},200)}function S(N){s.value="author:"+N,L(0)}async function Q(N){K.value=N,g.value=null,x.value="",b.value=[],k.value=null,d.value=[];try{g.value=await Ao(N),x.value=g.value.version??"",await H()}catch(C){console.error(C.message)}}async function H(){try{b.value=[],k.value=null,d.value=[],b.value=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${g.value?.name??""}`)).data.versions.map(f=>({label:f,value:f}));const{default:N,files:C}=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${g.value?.name??""}@${x.value}`)).data;k.value=N,d.value=C}catch(N){console.error(N.message)}}function q(N,C){return N.map(f=>{const R=C?`${C}/${f.name}`:`/${f.name}`;return{label:f.name,icon:f.type==="directory"?"Folder":"",isLeaf:f.type!=="directory",fileName:R,children:f.type==="directory"&&f.files?q(f.files,R):void 0}})}return(N,C)=>{const f=ca,R=da,U=fa,D=nn,j=ua,E=Do,ie=ro,Ne=sn,we=un,Ce=ha,Ue=ia,A=bo;return T(),M(me,null,[G(R,null,{default:X(()=>[V("blockquote",null,[V("ul",null,[V("li",null,[se(" 数据来自: "),G(f,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:X(()=>[se(" JSDelivr ")]),_:1})]),V("li",null,[se(" 搜索接口来自: "),G(f,{href:"https://www.algolia.com/",target:"_blank"},{default:X(()=>[se(" Algolia ")]),_:1})])])])]),_:1}),G(U,{level:3},{default:X(()=>[se(" 请输入要获取CDN的库名 ")]),_:1}),G(D,{modelValue:v(s),"onUpdate:modelValue":C[0]||(C[0]=I=>Mt(s)?s.value=I:null),placeholder:"jquery",clearable:"",onChange:C[1]||(C[1]=I=>L(0))},null,8,["modelValue"]),(T(),te(Yr,null,[v(r)==="done"?(T(),M(me,{key:0},[G(j),v(K)?(T(),M(me,{key:1},[G(f,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:C[3]||(C[3]=I=>K.value=null)},{default:X(()=>[Qo,se(" 返回 ")]),_:1}),v(g)?(T(),te(Ue,{key:0,class:"metaDetail"},{default:X(()=>[V("ul",null,[v(g).name?(T(),M("li",Go,[Xo,se(ee(v(g).name),1)])):Y("",!0),v(g).homepage?(T(),M("li",Yo,[Zo,G(f,{href:v(g).homepage,target:"_blank"},{default:X(()=>[se(ee(v(g).homepage),1)]),_:1},8,["href"])])):Y("",!0),v(g).description?(T(),M("li",es,[ts,se(ee(v(g).description),1)])):Y("",!0),v(g).repository?(T(),M("li",ns,[rs,se(ee(v(g).repository.type)+" / ",1),G(f,{href:v(g).repository.url,target:"_blank"},{default:X(()=>[se(ee(v(g).repository.url),1)]),_:1},8,["href"])])):Y("",!0),v(g).license?(T(),M("li",as,[os,se(ee(v(g).license),1)])):Y("",!0),v(g).owner?(T(),M("li",ss,[is,se(ee(v(g).owner.name)+" / ",1),G(f,{href:v(g).owner.link,target:"_blank"},{default:X(()=>[se(ee(v(g).owner.link),1)]),_:1},8,["href"])])):Y("",!0),v(b).length?(T(),te(j,{key:6})):Y("",!0),v(b).length?(T(),M("li",us,[ls,G(we,{modelValue:v(x),"onUpdate:modelValue":C[4]||(C[4]=I=>Mt(x)?x.value=I:null),options:v(b),onChange:H},{default:X(()=>[(T(!0),M(me,null,Oe(v(b),I=>(T(),te(Ne,{key:I.value,value:I.value,label:I.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):Y("",!0),v(k)?(T(),M("li",cs,[ds,G(Ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${v(g).name}@${v(x)}${v(k)}`}},{default:X(()=>[G(f,{href:`https://cdn.jsdelivr.net/npm/${v(g).name}@${v(x)}${v(k)}`,target:"_blank"},{default:X(()=>[se(ee(v(k)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):Y("",!0),v(d)&&v(d).length?(T(),M("li",fs,gs)):Y("",!0)])]),_:1})):Y("",!0),v(g)&&v(d)&&v(d).length?(T(),te(A,{key:1,data:v(z),selectable:!1},{default:X(({data:I})=>[I.isLeaf?(T(),M("div",ms,[vs,G(Ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${v(g).name}@${v(x)}${I.fileName}`}},{default:X(()=>[se(ee(I.label),1)]),_:2},1032,["copyable"])])):(T(),M("div",ys,[bs,G(Ce,null,{default:X(()=>[se(ee(I.label),1)]),_:2},1024)]))]),_:1},8,["data"])):Y("",!0)],64)):(T(),M(me,{key:0},[G(U,{level:4},{default:X(()=>[V("span",null,"共找到 "+ee(v(p))+" 个库",1),v(p)>1e3?(T(),M("span",$o,"，最多展示前 1000 个结果")):Y("",!0)]),_:1}),V("div",Ro,[(T(!0),M(me,null,Oe(v(m),I=>(T(),M("div",{key:I.objectID,class:"result-list-item"},[V("div",Bo,[G(U,{level:4,onClick:pe=>Q(I.objectID)},{default:X(()=>[se(ee(I.name),1)]),_:2},1032,["onClick"])]),V("div",Mo,[I.owner?(T(),M("div",{key:0,class:"owner",onClick:pe=>S(I.owner.name)},[V("img",{src:I.owner.avatar,alt:I.owner.name},null,8,Fo),V("div",null,ee(I.owner.name),1)],8,Lo)):Y("",!0),I.version?(T(),te(E,{key:1},{icon:X(()=>[Uo]),default:X(()=>[V("span",{title:I.version},ee(I.version),9,Ho)]),_:2},1024)):Y("",!0),I.license?(T(),te(E,{key:2},{icon:X(()=>[Wo]),default:X(()=>[se(" "+ee(I.license),1)]),_:2},1024)):Y("",!0)]),I.description?(T(),M("div",Jo,ee(I.description),1)):Y("",!0),I.keywords&&I.keywords.length?(T(),M("div",Vo,[(T(!0),M(me,null,Oe(I.keywords,(pe,ye)=>(T(),te(E,{key:ye},{default:X(()=>[se(ee(pe),1)]),_:2},1024))),128))])):Y("",!0)]))),128))]),G(ie,{layout:"prev,jumper,next",total:v(p)>1e3?1e3:v(p),"hide-on-single-page":!0,onCurrentChange:C[2]||(C[2]=I=>L(I-1))},null,8,["total"])],64))],64)):Y("",!0)],1024))],64)}}});const Rs=na(Cs,[["__scopeId","data-v-c472691b"]]);export{Rs as default};
