import{U as e,E as r,G as a,I as t,H as o,p as s,a as i,o as n,c as d,b as l,J as u,w as m,d as c,r as h}from"./vendor.3a1c4368.js";/* empty css              *//* empty css              */var p=".login-container[data-v-2fdea444] {\n  width: 100%;\n  min-height: 100%;\n  position: relative;\n  padding: 5rem 0 14.4rem;\n}\n.login-container .main[data-v-2fdea444] {\n  min-width: 26rem;\n  width: 36.8rem;\n  margin: 0 auto;\n}\n.login-container .footer[data-v-2fdea444] {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 0 1.6rem;\n  margin: 4.8rem 0 2.4rem;\n  text-align: center;\n  color: #999999;\n}";const{Item:g}=a,{Password:f}=t,v={name:"Login",components:{UserOutlined:e,LockOutlined:r,Form:a,Input:t,Button:o,Item:g,Password:f},watch:{$route:{handler:function(e){const r=e.query;r&&(this.redirect=r.redirect,this.otherQuery=this.getOtherQuery(r))},immediate:!0}},data:()=>({form:{layout:"horizontal",userName:"",password:""},redirect:void 0,otherQuery:{},loading:!1}),methods:{login(){null!=this.form.userName&&null!=this.form.password&&(this.loading=!0,this.$store.dispatch("user/login",{userName:this.form.userName,password:this.form.password}).then((e=>{e?(this.$msg.success("登录成功！"),this.$router.push({path:this.redirect||"/",query:this.otherQuery}),this.loading=!1):this.$msg.error("用户名或密码错误！")})).catch((()=>{this.$msg.error("用户名或密码错误！")})).finally((()=>{this.loading=!1})))},getOtherQuery:e=>Object.keys(e).reduce(((r,a)=>("redirect"!==a&&(r[a]=e[a]),r)),{})}},y=m("data-v-2fdea444");s("data-v-2fdea444");const w={class:"login-container"},_={class:"main"},b=c(" 确定 "),I=l("div",{class:"footer"},[l("div",{class:"copyright"}," Copyright © 2020 ISZY")],-1);i();const O=y(((e,r,a,t,o,s)=>{const i=h("UserOutlined"),m=h("Input"),c=h("Item"),p=h("LockOutlined"),g=h("Password"),f=h("Button"),v=h("Form");return n(),d("div",w,[l("div",_,[l(v,u({layout:e.form.layout,model:e.form},{wrapperCol:{span:24}}),{default:y((()=>[l(c,{required:""},{default:y((()=>[l(m,{value:e.form.userName,"onUpdate:value":r[1]||(r[1]=r=>e.form.userName=r),placeholder:"账户",size:"large"},{prefix:y((()=>[l(i,{style:{color:"rgba(0,0,0,.25)"}})])),_:1},8,["value"])])),_:1}),l(c,{required:""},{default:y((()=>[l(g,{value:e.form.password,"onUpdate:value":r[2]||(r[2]=r=>e.form.password=r),placeholder:"密码",size:"large"},{prefix:y((()=>[l(p,{style:{color:"rgba(0,0,0,.25)"}})])),_:1},8,["value"])])),_:1}),l(c,null,{default:y((()=>[l(f,{type:"primary",block:"",size:"large",onClick:s.login,loading:e.loading},{default:y((()=>[b])),_:1},8,["onClick","loading"])])),_:1})])),_:1},16,["layout","model"])]),I])}));v.render=O,v.__scopeId="data-v-2fdea444";export default v;
