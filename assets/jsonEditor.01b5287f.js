import{_ as e}from"./container.80b8f264.js";import{J as t}from"./jsoneditor.min.4465e496.js";import{b as n,a7 as o,B as i,S as a,a8 as r,a9 as s,x as d,aa as l,ab as c,ac as f,ad as h,p,j as u,ae as m,r as g,c as b,w as v,o as w,k as j,e as E}from"./vendor.6db3f19c.js";/* empty css              */import{I as L}from"./index.9534a88d.js";/* empty css              */var k=L("left",!0,(function(e){return n("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[n("path",{d:"M31 36L19 24L31 12",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])})),y=L("right",!0,(function(e){return n("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[n("path",{d:"M19 12L31 24L19 36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])})),R={exports:{}};!function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){d(o.response,t,n)},o.onerror=function(){},o.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o&&o.global===o?o:void 0,s=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,o){var s=r.URL||r.webkitURL,d=document.createElement("a");t=t||e.name||"download",d.download=t,d.rel="noopener","string"==typeof e?(d.href=e,d.origin===location.origin?a(d):i(d.href)?n(e,t,o):a(d,d.target="_blank")):(d.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(d.href)}),4e4),setTimeout((function(){a(d)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),o);else if(i(e))n(e,o,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){a(s)}))}}:function(e,t,o,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,o);var a="application/octet-stream"===e.type,d=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&d||s)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var f=r.URL||r.webkitURL,h=f.createObjectURL(e);i?i.location=h:location.href=h,i=null,setTimeout((function(){f.revokeObjectURL(h)}),4e4)}});r.saveAs=d.saveAs=d,e.exports=d}()}(R);var x=(e,t)=>{const n=new Blob([e]);R.exports.saveAs(n,t)},P=".editorPanel[data-v-40a56b22] {\n  display: flex;\n  height: 100%;\n}\n@media (max-width: 1024px) {\n.editorPanel[data-v-40a56b22] {\n    height: calc(100% - 3.2rem - 1.2rem);\n}\n}\n.editorPanel .controller[data-v-40a56b22] {\n  height: 100%;\n  width: 10rem;\n  text-align: center;\n}\n.editorPanel .controller .ant-space[data-v-40a56b22] {\n  margin-top: 10rem;\n  width: 80%;\n}\n.editorPanel .controller .ant-space[data-v-40a56b22] .ant-btn {\n  display: flex;\n  align-items: center;\n}\n.editorPanel .controller .ant-space[data-v-40a56b22] .ant-btn .i-icon {\n  font-size: 1.8rem;\n}\n.editorPanel .controller .ant-space[data-v-40a56b22] .ant-btn .i-icon + span, .editorPanel .controller .ant-space[data-v-40a56b22] .ant-btn span + .i-icon {\n  margin-left: 0;\n}\n.editorPanel[data-v-40a56b22] .jsonEditor {\n  height: 100%;\n  width: calc(50% - 5rem);\n}\n.editorPanel[data-v-40a56b22] .jsonEditor .ace-jsoneditor *, .editorPanel[data-v-40a56b22] .jsonEditor textarea.jsoneditor-text *, .editorPanel[data-v-40a56b22] .jsonEditor code, .editorPanel[data-v-40a56b22] .jsonEditor pre {\n  font-family: JetBrains Mono, monospace;\n}\n@media (max-width: 1024px) {\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorLeft {\n    width: 100%;\n}\n}\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorLeft .differentElement {\n  background-color: pink;\n}\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorLeft .differentElement .jsoneditor-field, .editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorLeft .differentElement .jsoneditor-value {\n  color: red;\n}\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorRight .differentElement {\n  background-color: #acee61;\n}\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorRight .differentElement .jsoneditor-field, .editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorRight .differentElement .jsoneditor-value {\n  color: red;\n}\n@media (max-width: 1024px) {\n.noShowMobile[data-v-40a56b22] {\n    display: none !important;\n}\n}\n@media (min-width: 1024px) {\n.showMobile[data-v-40a56b22] {\n    display: none !important;\n}\n}\n@media (max-width: 1024px) {\n.ant-space[data-v-40a56b22] {\n    margin-top: 1.2rem;\n}\n}\n[data-v-40a56b22] .jsoneditor-poweredBy {\n  display: none;\n}";const C={name:"JsonEditor",components:{Container:e,Button:i,Space:a,Checkbox:r,Right:y,Left:k},data:()=>({editorLeft:null,editorRight:null,codeLeft:{Array:[1,2,3],Boolean:!0,Null:null,Number:123,Object:{a:"b",c:"d"},String:"Hello World"},codeRight:{Array:[1,2,3],Boolean:!0,Null:null,Number:123,Object:{a:"b",c:"d"},String:"Hello World"},diff:!0}),mounted(){this.init()},methods:{init(){this.editorLeft=s(new t(this.$refs.jsonEditorLeft,{mode:"code",modes:["code","tree"],onClassName:this.onClassName,onChangeText:e=>{this.codeLeft=JSON.parse(e),this.editorRight.refresh()},autocomplete:{applyTo:["value"],filter:"contain",trigger:"focus",getOptions:(e,t,n,o)=>new Promise(((e,t)=>{const n=this.extractUniqueWords(o.get());n.length>0?e(n):t(new Error("noOptions"))}))}},this.codeLeft)),this.editorRight=s(new t(this.$refs.jsonEditorRight,{mode:"tree",modes:["code","tree"],onClassName:this.onClassName,onChangeText:e=>{this.codeRight=JSON.parse(e),this.editorLeft.refresh()},autocomplete:{applyTo:["value"],filter:"contain",trigger:"focus",getOptions:(e,t,n,o)=>new Promise(((e,t)=>{const n=this.extractUniqueWords(o.get());n.length>0?e(n):t(new Error("noOptions"))}))}},this.codeRight))},copyRight(){this.codeRight=d(this.codeLeft),this.editorRight.update(this.codeRight),this.editorLeft.refresh()},copyLeft(){this.codeLeft=d(this.codeRight),this.editorLeft.update(this.codeLeft),this.editorRight.refresh()},download(){x(this.editorLeft.getText(),"main.json")},changeDiff(){this.editorLeft.refresh(),this.editorRight.refresh()},onClassName({path:e}){const t=l(this.codeLeft,e),n=l(this.codeRight,e);return this.diff?c(t,n)?"":"differentElement":""},extractUniqueWords:e=>f(h(e,(function(e,t){return m(e)?[t]:[t,String(e)]})))},beforeUnmount(){this.editorLeft&&this.editorLeft.destroy(),this.editorRight&&this.editorRight.destroy()}};p("data-v-40a56b22");const S={class:"editorPanel"},O={ref:"jsonEditorLeft",class:"jsonEditor jsonEditorLeft"},B={class:"controller noShowMobile"},M=E("复制 "),A=E(" 复制 "),T=E(" 下载 "),U=E("Diff"),_={ref:"jsonEditorRight",class:"jsonEditor jsonEditorRight noShowMobile"},N=E(" 下载 ");function W(e,t,o,i,a,r){const s=g("Right"),d=g("Button"),l=g("Left"),c=g("Checkbox"),f=g("Space"),h=g("container");return w(),b(h,null,{default:v((()=>[j("div",S,[j("div",O,null,512),j("div",B,[n(f,{direction:"vertical"},{default:v((()=>[n(d,{type:"primary",onClick:r.copyRight,block:""},{default:v((()=>[M,n(s,{theme:"outline"})])),_:1},8,["onClick"]),n(d,{type:"primary",onClick:r.copyLeft,block:""},{default:v((()=>[n(l,{theme:"outline"}),A])),_:1},8,["onClick"]),n(d,{type:"primary",onClick:r.download,block:""},{default:v((()=>[T])),_:1},8,["onClick"]),n(c,{checked:e.diff,"onUpdate:checked":t[0]||(t[0]=t=>e.diff=t),onChange:r.changeDiff},{default:v((()=>[U])),_:1},8,["checked","onChange"])])),_:1})]),j("div",_,null,512)]),n(f,{class:"showMobile"},{default:v((()=>[n(d,{type:"primary",onClick:r.download},{default:v((()=>[N])),_:1},8,["onClick"])])),_:1})])),_:1})}u(),C.render=W,C.__scopeId="data-v-40a56b22";export{C as default};
