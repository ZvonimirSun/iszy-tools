import{j as E,bQ as k,Y as B,B as R,k as c,q as M,x as X,l as S,o as p,c as x,b as l,az as b,y as e,aA as z,b2 as N,b1 as U,a3 as C,a as F,ay as D,bt as P,b6 as T,aH as $,aI as j}from"./vendor-flbquvym.js";import{f as q,i as A}from"./xmlEditor-syLho13E.js";import H from"./fullEditor-6LVV44ir.js";import"./common-WPj835yt.js";import"./ant-design-vue-_jsSmQ7G.js";import"./vanilla-jsoneditor--Y_UqYYL.js";import"./shared/cssFormatter/xmlEditor-1H8VTJYs.js";const Q={class:"formatter-container"},Y=E({__name:"FormatTransformer",props:{transformer:{type:Function,default:k},inputValidationRules:{default:()=>[]},inputLabel:{default:"输入"},inputPlaceholder:{default:"输入..."},inputDefault:{default:""},outputLabel:{default:"输出"}},emits:["format"],setup(d,{emit:o}){const n=d,{transformer:m,inputValidationRules:f,inputLabel:_,outputLabel:v,inputPlaceholder:V,inputDefault:a}=B(n),t=o,u=R(),r=c({input:a.value});M(a,h=>{r.input=h});const i=X(()=>m.value(r.input)),s=c({input:f.value});return S(()=>{t("format",i.value)}),M(i,()=>{t("format",i.value)}),(h,w)=>{const g=z,y=N,I=U;return p(),x("div",Q,[l(I,{ref_key:"ruleFormRef",ref:u,model:e(r),"label-position":"top",rules:e(s)},{default:b(()=>[l(y,{label:e(_),prop:"input"},{default:b(()=>[l(g,{modelValue:e(r).input,"onUpdate:modelValue":w[0]||(w[0]=L=>e(r).input=L),placeholder:e(V),rows:20,type:"textarea"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(y,{label:e(v)},{default:b(()=>[l(g,{"model-value":e(i),rows:20,type:"textarea",readonly:""},null,8,["model-value"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])}}}),G=C(Y,[["__scopeId","data-v-42c74421"]]),J=d=>($("data-v-498cf2a3"),d=d(),j(),d),K={class:"code-container"},O={key:0,flex:"","gap-4":"","flex-col":"","w-full":"","items-center":""},W={flex:"","gap-4":"","items-center":""},Z=J(()=>F("span",null," 缩进大小 ",-1)),ee=E({__name:"xmlEditor",setup(d){const o=c({advancedMode:!1,value:"<hello><world>foo</world><world>bar</world></hello>",formattedValue:""}),n=c({collapseContent:!0,indentValue:2}),m=[{validator:(a,t,u)=>{V(t)?u():u(new Error("请输入正确的XML内容"))},trigger:"change"}];function f(){o.value=o.formattedValue||o.value,o.advancedMode=!o.advancedMode}function _(a){o.formattedValue=a}function v(a){try{return q(a.trim(),n.indentValue,{collapseContent:n.collapseContent})}catch{return""}}function V(a){const t=a.trim();return t?A(t):!0}return(a,t)=>{const u=P,r=T,i=G;return p(),x("div",K,[l(u,{"model-value":e(o).advancedMode,size:"large","inactive-text":"简易模式","active-text":"高级模式",onChange:f},null,8,["model-value"]),e(o).advancedMode?(p(),D(H,{key:1,value:e(o).value,onChange:_},null,8,["value"])):(p(),x("div",O,[F("div",W,[l(u,{modelValue:e(n).collapseContent,"onUpdate:modelValue":t[0]||(t[0]=s=>e(n).collapseContent=s),size:"large","inactive-text":"折叠内容"},null,8,["modelValue"]),Z,l(r,{modelValue:e(n).indentValue,"onUpdate:modelValue":t[1]||(t[1]=s=>e(n).indentValue=s),min:0,max:10,step:1,"step-strictly":!0},null,8,["modelValue"])]),l(i,{"w-full":"","input-label":"你的XML内容","input-placeholder":"在这里粘贴XML内容...","output-label":"格式化后的XML内容","input-default":e(o).value,transformer:v,"input-validation-rules":m,onFormat:t[2]||(t[2]=s=>e(o).formattedValue=s)},null,8,["input-default"])]))])}}}),se=C(ee,[["__scopeId","data-v-498cf2a3"]]);export{se as default};
