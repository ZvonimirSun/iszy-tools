import{k as T,cO as Mo,aa as ot,c7 as _e,v as I,h as ae,x as kt,j as me,u as Ce,R as G,a6 as po,cP as Io,m as r,a9 as qe,ap as Bt,ah as ie,Z as Oo,z as J,aQ as Ao,T as bt,bY as No,ai as Ve,cQ as zo,s as Ot,aO as At,X as Lo,aG as Po,b8 as Wo,A as St,aP as Ne,b2 as Do,bE as $e,aN as Rt,bB as Xe,a3 as Me,be as Fo,ar as Nt,r as Ue,K as C,aE as Y,y as qt,cR as Go,cS as Ko,aK as Ut,bi as Vo,bX as $o,p as jo,t as Yt}from"./index-CReUdWLV.js";import{c as Zt,r as Xt}from"./raf-DVYypkck.js";import{m as ko}from"./memoize-one.esm-BdPwpGay.js";import{c as Bo}from"./castArray-DEQpzWzP.js";import{E as qo}from"./el-empty-BUBql5hX.js";const Uo=()=>{const t=ot().proxy.$props;return T(()=>{const o=(n,s,a)=>({});return t.perfMode?Mo(o):ko(o)})},zt=50,Lt="itemRendered",Pt="scroll",Ke="forward",at="backward",xe="auto",Qt="smart",st="start",ze="center",ct="end",it="horizontal",Jt="vertical",eo="rtl",dt="negative",to="positive-ascending",oo="positive-descending",Yo={[it]:"left",[Jt]:"top"},Zo=20,ut=_e({type:I([Number,Function]),required:!0}),ht=_e({type:Number}),ft=_e({type:Number,default:2}),Xo=_e({type:String,values:["ltr","rtl"],default:"ltr"}),mt=_e({type:Number,default:0}),et=_e({type:Number,required:!0}),no=_e({type:String,values:["horizontal","vertical"],default:Jt}),lo=ae({className:{type:String,default:""},containerElement:{type:I([String,Object]),default:"div"},data:{type:I(Array),default:()=>kt([])},direction:Xo,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:I([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Qo=ae({cache:ft,estimatedItemSize:ht,layout:no,initScrollOffset:mt,total:et,itemSize:ut,...lo}),vt={type:Number,default:6},ro={type:Number,default:0},ao={type:Number,default:2},Ee=ae({columnCache:ft,columnWidth:ut,estimatedColumnWidth:ht,estimatedRowHeight:ht,initScrollLeft:mt,initScrollTop:mt,itemKey:{type:I(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:ft,rowHeight:ut,totalColumn:et,totalRow:et,hScrollbarSize:vt,vScrollbarSize:vt,scrollbarStartGap:ro,scrollbarEndGap:ao,role:String,...lo}),so=ae({alwaysOn:Boolean,class:String,layout:no,total:et,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:vt,startGap:ro,endGap:ao,visible:Boolean}),Ze=(e,t)=>e<t?Ke:at,Wt=e=>e===eo;let Ae=null;function Dt(e=!1){if(Ae===null||e){const t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const n=document.createElement("div"),s=n.style;return s.width="100px",s.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?Ae=oo:(t.scrollLeft=1,t.scrollLeft===0?Ae=dt:Ae=to),document.body.removeChild(t),Ae}return Ae}function Jo({move:e,size:t,bar:o},n){const s={},a=`translate${o.axis}(${e}px)`;return s[o.size]=t,s.transform=a,s.msTransform=a,s.webkitTransform=a,n==="horizontal"?s.height="100%":s.width="100%",s}const Ft=me({name:"ElVirtualScrollBar",props:so,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const o=T(()=>e.startGap+e.endGap),n=Ce("virtual-scrollbar"),s=Ce("scrollbar"),a=G(),c=G();let i=null,h=null;const u=po({isDragging:!1,traveled:0}),d=T(()=>Io[e.layout]),g=T(()=>e.clientSize-r(o)),y=T(()=>({position:"absolute",width:`${it===e.layout?g.value:e.scrollbarSize}px`,height:`${it===e.layout?e.scrollbarSize:g.value}px`,[Yo[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),m=T(()=>{const S=e.ratio,D=e.clientSize;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*D/100;const K=D/3;return Math.floor(Math.min(Math.max(S*D,Zo),K))}),v=T(()=>{if(!Number.isFinite(m.value))return{display:"none"};const S=`${m.value}px`;return Jo({bar:d.value,size:S,move:u.traveled},e.layout)}),l=T(()=>Math.floor(e.clientSize-m.value-r(o))),f=()=>{window.addEventListener("mousemove",H),window.addEventListener("mouseup",E);const S=r(c);S&&(h=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",H,{passive:!0}),S.addEventListener("touchend",E))},w=()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",E),document.onselectstart=h,h=null;const S=r(c);S&&(S.removeEventListener("touchmove",H),S.removeEventListener("touchend",E))},M=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(u.isDragging=!0,u[d.value.axis]=S.currentTarget[d.value.offset]-(S[d.value.client]-S.currentTarget.getBoundingClientRect()[d.value.direction]),t("start-move"),f())},E=()=>{u.isDragging=!1,u[d.value.axis]=0,t("stop-move"),w()},H=S=>{const{isDragging:D}=u;if(!D||!c.value||!a.value)return;const K=u[d.value.axis];if(!K)return;Zt(i);const $=(a.value.getBoundingClientRect()[d.value.direction]-S[d.value.client])*-1,b=c.value[d.value.offset]-K,O=$-b;i=Xt(()=>{u.traveled=Math.max(e.startGap,Math.min(O,l.value)),t("scroll",O,l.value)})},p=S=>{const D=Math.abs(S.target.getBoundingClientRect()[d.value.direction]-S[d.value.client]),K=c.value[d.value.offset]/2,$=D-K;u.traveled=Math.max(0,Math.min($,l.value)),t("scroll",$,l.value)};return qe(()=>e.scrollFrom,S=>{u.isDragging||(u.traveled=Math.ceil(S*l.value))}),Bt(()=>{w()}),()=>ie("div",{role:"presentation",ref:a,class:[n.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:y.value,onMousedown:Oo(p,["stop","prevent"]),onTouchstartPrevent:M},ie("div",{ref:c,class:s.e("thumb"),style:v.value,onMousedown:M},[]))}}),en=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:o,atYStartEdge:n},s)=>{let a=null,c=0,i=0;const h=(d,g)=>{const y=d<=0&&t.value||d>=0&&e.value,m=g<=0&&n.value||g>=0&&o.value;return y&&m};return{hasReachedEdge:h,onWheel:d=>{Zt(a);let g=d.deltaX,y=d.deltaY;Math.abs(g)>Math.abs(y)?y=0:g=0,d.shiftKey&&y!==0&&(g=y,y=0),!(h(c,i)&&h(c+g,i+y))&&(c+=g,i+=y,d.preventDefault(),a=Xt(()=>{s(c,i),c=0,i=0}))}}},co=({name:e,clearCache:t,getColumnPosition:o,getColumnStartIndexForOffset:n,getColumnStopIndexForStartIndex:s,getEstimatedTotalHeight:a,getEstimatedTotalWidth:c,getColumnOffset:i,getRowOffset:h,getRowPosition:u,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:g,initCache:y,injectToInstance:m,validateProps:v})=>me({name:e??"ElVirtualList",props:Ee,emits:[Lt,Pt],setup(l,{emit:f,expose:w,slots:M}){const E=Ce("vl");v(l);const H=ot(),p=G(y(l,H));m==null||m(H,p);const S=G(),D=G(),K=G(),$=G(null),b=G({isScrolling:!1,scrollLeft:J(l.initScrollLeft)?l.initScrollLeft:0,scrollTop:J(l.initScrollTop)?l.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Ke,yAxisScrollDir:Ke}),O=Uo(),F=T(()=>Number.parseInt(`${l.height}`,10)),L=T(()=>Number.parseInt(`${l.width}`,10)),j=T(()=>{const{totalColumn:R,totalRow:x,columnCache:_}=l,{isScrolling:A,xAxisScrollDir:N,scrollLeft:z}=r(b);if(R===0||x===0)return[0,0,0,0];const P=n(l,z,r(p)),W=s(l,P,z,r(p)),k=!A||N===at?Math.max(1,_):1,U=!A||N===Ke?Math.max(1,_):1;return[Math.max(0,P-k),Math.max(0,Math.min(R-1,W+U)),P,W]}),B=T(()=>{const{totalColumn:R,totalRow:x,rowCache:_}=l,{isScrolling:A,yAxisScrollDir:N,scrollTop:z}=r(b);if(R===0||x===0)return[0,0,0,0];const P=d(l,z,r(p)),W=g(l,P,z,r(p)),k=!A||N===at?Math.max(1,_):1,U=!A||N===Ke?Math.max(1,_):1;return[Math.max(0,P-k),Math.max(0,Math.min(x-1,W+U)),P,W]}),V=T(()=>a(l,r(p))),q=T(()=>c(l,r(p))),ve=T(()=>{var R;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:l.direction,height:J(l.height)?`${l.height}px`:l.height,width:J(l.width)?`${l.width}px`:l.width},(R=l.style)!=null?R:{}]}),ge=T(()=>{const R=`${r(q)}px`;return{height:`${r(V)}px`,pointerEvents:r(b).isScrolling?"none":void 0,width:R}}),ee=()=>{const{totalColumn:R,totalRow:x}=l;if(R>0&&x>0){const[W,k,U,re]=r(j),[Z,X,Fe,Mt]=r(B);f(Lt,{columnCacheStart:W,columnCacheEnd:k,rowCacheStart:Z,rowCacheEnd:X,columnVisibleStart:U,columnVisibleEnd:re,rowVisibleStart:Fe,rowVisibleEnd:Mt})}const{scrollLeft:_,scrollTop:A,updateRequested:N,xAxisScrollDir:z,yAxisScrollDir:P}=r(b);f(Pt,{xAxisScrollDir:z,scrollLeft:_,yAxisScrollDir:P,scrollTop:A,updateRequested:N})},ye=R=>{const{clientHeight:x,clientWidth:_,scrollHeight:A,scrollLeft:N,scrollTop:z,scrollWidth:P}=R.currentTarget,W=r(b);if(W.scrollTop===z&&W.scrollLeft===N)return;let k=N;if(Wt(l.direction))switch(Dt()){case dt:k=-N;break;case oo:k=P-_-N;break}b.value={...W,isScrolling:!0,scrollLeft:k,scrollTop:Math.max(0,Math.min(z,A-x)),updateRequested:!0,xAxisScrollDir:Ze(W.scrollLeft,k),yAxisScrollDir:Ze(W.scrollTop,z)},Ve(()=>Ie()),he(),ee()},we=(R,x)=>{const _=r(F),A=(V.value-_)/x*R;te({scrollTop:Math.min(V.value-_,A)})},se=(R,x)=>{const _=r(L),A=(q.value-_)/x*R;te({scrollLeft:Math.min(q.value-_,A)})},{onWheel:le}=en({atXStartEdge:T(()=>b.value.scrollLeft<=0),atXEndEdge:T(()=>b.value.scrollLeft>=q.value-r(L)),atYStartEdge:T(()=>b.value.scrollTop<=0),atYEndEdge:T(()=>b.value.scrollTop>=V.value-r(F))},(R,x)=>{var _,A,N,z;(A=(_=D.value)==null?void 0:_.onMouseUp)==null||A.call(_),(z=(N=K.value)==null?void 0:N.onMouseUp)==null||z.call(N);const P=r(L),W=r(F);te({scrollLeft:Math.min(b.value.scrollLeft+R,q.value-P),scrollTop:Math.min(b.value.scrollTop+x,V.value-W)})});Ao(S,"wheel",le,{passive:!1});const te=({scrollLeft:R=b.value.scrollLeft,scrollTop:x=b.value.scrollTop})=>{R=Math.max(R,0),x=Math.max(x,0);const _=r(b);x===_.scrollTop&&R===_.scrollLeft||(b.value={..._,xAxisScrollDir:Ze(_.scrollLeft,R),yAxisScrollDir:Ze(_.scrollTop,x),scrollLeft:R,scrollTop:x,updateRequested:!0},Ve(()=>Ie()),he(),ee())},ue=(R=0,x=0,_=xe)=>{const A=r(b);x=Math.max(0,Math.min(x,l.totalColumn-1)),R=Math.max(0,Math.min(R,l.totalRow-1));const N=zo(E.namespace.value),z=r(p),P=a(l,z),W=c(l,z);te({scrollLeft:i(l,x,_,A.scrollLeft,z,W>l.width?N:0),scrollTop:h(l,R,_,A.scrollTop,z,P>l.height?N:0)})},pe=(R,x)=>{const{columnWidth:_,direction:A,rowHeight:N}=l,z=O.value(t&&_,t&&N,t&&A),P=`${R},${x}`;if(Po(z,P))return z[P];{const[,W]=o(l,x,r(p)),k=r(p),U=Wt(A),[re,Z]=u(l,R,k),[X]=o(l,x,k);return z[P]={position:"absolute",left:U?void 0:`${W}px`,right:U?`${W}px`:void 0,top:`${Z}px`,height:`${re}px`,width:`${X}px`},z[P]}},Ie=()=>{b.value.isScrolling=!1,Ve(()=>{O.value(-1,null,null)})};bt(()=>{if(!No)return;const{initScrollLeft:R,initScrollTop:x}=l,_=r(S);_&&(J(R)&&(_.scrollLeft=R),J(x)&&(_.scrollTop=x)),ee()});const he=()=>{const{direction:R}=l,{scrollLeft:x,scrollTop:_,updateRequested:A}=r(b),N=r(S);if(A&&N){if(R===eo)switch(Dt()){case dt:{N.scrollLeft=-x;break}case to:{N.scrollLeft=x;break}default:{const{clientWidth:z,scrollWidth:P}=N;N.scrollLeft=P-z-x;break}}else N.scrollLeft=Math.max(0,x);N.scrollTop=Math.max(0,_)}},{resetAfterColumnIndex:Le,resetAfterRowIndex:Pe,resetAfter:We}=H.proxy;w({windowRef:S,innerRef:$,getItemStyleCache:O,scrollTo:te,scrollToItem:ue,states:b,resetAfterColumnIndex:Le,resetAfterRowIndex:Pe,resetAfter:We});const De=()=>{const{scrollbarAlwaysOn:R,scrollbarStartGap:x,scrollbarEndGap:_,totalColumn:A,totalRow:N}=l,z=r(L),P=r(F),W=r(q),k=r(V),{scrollLeft:U,scrollTop:re}=r(b),Z=ie(Ft,{ref:D,alwaysOn:R,startGap:x,endGap:_,class:E.e("horizontal"),clientSize:z,layout:"horizontal",onScroll:se,ratio:z*100/W,scrollFrom:U/(W-z),total:N,visible:!0}),X=ie(Ft,{ref:K,alwaysOn:R,startGap:x,endGap:_,class:E.e("vertical"),clientSize:P,layout:"vertical",onScroll:we,ratio:P*100/k,scrollFrom:re/(k-P),total:A,visible:!0});return{horizontalScrollbar:Z,verticalScrollbar:X}},Q=()=>{var R;const[x,_]=r(j),[A,N]=r(B),{data:z,totalColumn:P,totalRow:W,useIsScrolling:k,itemKey:U}=l,re=[];if(W>0&&P>0)for(let Z=A;Z<=N;Z++)for(let X=x;X<=_;X++){const Fe=U({columnIndex:X,data:z,rowIndex:Z});re.push(ie(Lo,{key:Fe},(R=M.default)==null?void 0:R.call(M,{columnIndex:X,data:z,isScrolling:k?r(b).isScrolling:void 0,style:pe(Z,X),rowIndex:Z})))}return re},oe=()=>{const R=Ot(l.innerElement),x=Q();return[ie(R,{style:r(ge),ref:$},At(R)?x:{default:()=>x})]};return()=>{const R=Ot(l.containerElement),{horizontalScrollbar:x,verticalScrollbar:_}=De(),A=oe();return ie("div",{key:0,class:E.e("wrapper"),role:l.role},[ie(R,{class:l.className,style:r(ve),onScroll:ye,ref:S},At(R)?A:{default:()=>A}),x,_])}}}),tn=co({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:o},n,s,a,c,i)=>{o=Number(o);const h=Math.max(0,e*t-o),u=Math.min(h,n*t),d=Math.max(0,n*t-o+i+t);switch(s==="smart"&&(a>=d-o&&a<=u+o?s=xe:s=ze),s){case st:return u;case ct:return d;case ze:{const g=Math.round(d+(u-d)/2);return g<Math.ceil(o/2)?0:g>h+Math.floor(o/2)?h:g}case xe:default:return a>=d&&a<=u?a:d>u||a<d?d:u}},getRowOffset:({rowHeight:e,height:t,totalRow:o},n,s,a,c,i)=>{t=Number(t);const h=Math.max(0,o*e-t),u=Math.min(h,n*e),d=Math.max(0,n*e-t+i+e);switch(s===Qt&&(a>=d-t&&a<=u+t?s=xe:s=ze),s){case st:return u;case ct:return d;case ze:{const g=Math.round(d+(u-d)/2);return g<Math.ceil(t/2)?0:g>h+Math.floor(t/2)?h:g}case xe:default:return a>=d&&a<=u?a:d>u||a<d?d:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:o},n,s)=>{const a=n*e,c=Math.ceil((o+s-a)/e);return Math.max(0,Math.min(t-1,n+c-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:o},n,s)=>{const a=n*e,c=Math.ceil((o+s-a)/e);return Math.max(0,Math.min(t-1,n+c-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:tt,min:io,floor:uo}=Math,on={column:"columnWidth",row:"rowHeight"},gt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},de=(e,t,o,n)=>{const[s,a,c]=[o[n],e[on[n]],o[gt[n]]];if(t>c){let i=0;if(c>=0){const h=s[c];i=h.offset+h.size}for(let h=c+1;h<=t;h++){const u=a(h);s[h]={offset:i,size:u},i+=u}o[gt[n]]=t}return s[t]},ho=(e,t,o,n,s,a)=>{for(;o<=n;){const c=o+uo((n-o)/2),i=de(e,c,t,a).offset;if(i===s)return c;i<s?o=c+1:n=c-1}return tt(0,o-1)},nn=(e,t,o,n,s)=>{const a=s==="column"?e.totalColumn:e.totalRow;let c=1;for(;o<a&&de(e,o,t,s).offset<n;)o+=c,c*=2;return ho(e,t,uo(o/2),io(o,a-1),n,s)},Gt=(e,t,o,n)=>{const[s,a]=[t[n],t[gt[n]]];return(a>0?s[a].offset:0)>=o?ho(e,t,0,a,o,n):nn(e,t,tt(0,a),o,n)},fo=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:o,row:n})=>{let s=0;if(o>=e&&(o=e-1),o>=0){const i=n[o];s=i.offset+i.size}const c=(e-o-1)*t;return s+c},mo=({totalColumn:e},{column:t,estimatedColumnWidth:o,lastVisitedColumnIndex:n})=>{let s=0;if(n>e&&(n=e-1),n>=0){const i=t[n];s=i.offset+i.size}const c=(e-n-1)*o;return s+c},ln={column:mo,row:fo},Kt=(e,t,o,n,s,a,c)=>{const[i,h]=[a==="row"?e.height:e.width,ln[a]],u=de(e,t,s,a),d=h(e,s),g=tt(0,io(d-i,u.offset)),y=tt(0,u.offset-i+c+u.size);switch(o===Qt&&(n>=y-i&&n<=g+i?o=xe:o=ze),o){case st:return g;case ct:return y;case ze:return Math.round(y+(g-y)/2);case xe:default:return n>=y&&n<=g?n:y>g||n<y?y:g}},rn=co({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,o)=>{const n=de(e,t,o,"column");return[n.size,n.offset]},getRowPosition:(e,t,o)=>{const n=de(e,t,o,"row");return[n.size,n.offset]},getColumnOffset:(e,t,o,n,s,a)=>Kt(e,t,o,n,s,"column",a),getRowOffset:(e,t,o,n,s,a)=>Kt(e,t,o,n,s,"row",a),getColumnStartIndexForOffset:(e,t,o)=>Gt(e,o,t,"column"),getColumnStopIndexForStartIndex:(e,t,o,n)=>{const s=de(e,t,n,"column"),a=o+e.width;let c=s.offset+s.size,i=t;for(;i<e.totalColumn-1&&c<a;)i++,c+=de(e,t,n,"column").size;return i},getEstimatedTotalHeight:fo,getEstimatedTotalWidth:mo,getRowStartIndexForOffset:(e,t,o)=>Gt(e,o,t,"row"),getRowStopIndexForStartIndex:(e,t,o,n)=>{const{totalRow:s,height:a}=e,c=de(e,t,n,"row"),i=o+a;let h=c.size+c.offset,u=t;for(;u<s-1&&h<i;)u++,h+=de(e,u,n,"row").size;return u},injectToInstance:(e,t)=>{const o=({columnIndex:a,rowIndex:c},i)=>{var h,u;i=Wo(i)?!0:i,J(a)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,a-1)),J(c)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,c-1)),(h=e.exposed)==null||h.getItemStyleCache.value(-1,null,null),i&&((u=e.proxy)==null||u.$forceUpdate())},n=(a,c)=>{o({columnIndex:a},c)},s=(a,c)=>{o({rowIndex:a},c)};Object.assign(e.proxy,{resetAfterColumnIndex:n,resetAfterRowIndex:s,resetAfter:o})},initCache:({estimatedColumnWidth:e=zt,estimatedRowHeight:t=zt})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}});var je=(e=>(e.ASC="asc",e.DESC="desc",e))(je||{}),ke=(e=>(e.CENTER="center",e.RIGHT="right",e))(ke||{}),vo=(e=>(e.LEFT="left",e.RIGHT="right",e))(vo||{});const yt={asc:"desc",desc:"asc"},Be=Symbol("placeholder"),an=(e,t,o)=>{var n;const s={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};o||(s.flexShrink=1);const a={...(n=e.style)!=null?n:{},...s,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a};function sn(e,t,o){const n=T(()=>r(t).filter(l=>!l.hidden)),s=T(()=>r(n).filter(l=>l.fixed==="left"||l.fixed===!0)),a=T(()=>r(n).filter(l=>l.fixed==="right")),c=T(()=>r(n).filter(l=>!l.fixed)),i=T(()=>{const l=[];return r(s).forEach(f=>{l.push({...f,placeholderSign:Be})}),r(c).forEach(f=>{l.push(f)}),r(a).forEach(f=>{l.push({...f,placeholderSign:Be})}),l}),h=T(()=>r(s).length||r(a).length),u=T(()=>r(t).reduce((f,w)=>(f[w.key]=an(w,r(o),e.fixed),f),{})),d=T(()=>r(n).reduce((l,f)=>l+f.width,0)),g=l=>r(t).find(f=>f.key===l),y=l=>r(u)[l],m=(l,f)=>{l.width=f};function v(l){var f;const{key:w}=l.currentTarget.dataset;if(!w)return;const{sortState:M,sortBy:E}=e;let H=je.ASC;St(M)?H=yt[M[w]]:H=yt[E.order],(f=e.onColumnSort)==null||f.call(e,{column:g(w),key:w,order:H})}return{columns:t,columnsStyles:u,columnsTotalWidth:d,fixedColumnsOnLeft:s,fixedColumnsOnRight:a,hasFixedColumns:h,mainColumns:i,normalColumns:c,visibleColumns:n,getColumn:g,getColumnStyle:y,updateColumnWidth:m,onColumnSorted:v}}const cn=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,onMaybeEndReached:s})=>{const a=G({scrollLeft:0,scrollTop:0});function c(m){var v,l,f;const{scrollTop:w}=m;(v=t.value)==null||v.scrollTo(m),(l=o.value)==null||l.scrollToTop(w),(f=n.value)==null||f.scrollToTop(w)}function i(m){a.value=m,c(m)}function h(m){a.value.scrollTop=m,c(r(a))}function u(m){var v,l;a.value.scrollLeft=m,(l=(v=t.value)==null?void 0:v.scrollTo)==null||l.call(v,r(a))}function d(m){var v;i(m),(v=e.onScroll)==null||v.call(e,m)}function g({scrollTop:m}){const{scrollTop:v}=r(a);m!==v&&h(m)}function y(m,v="auto"){var l;(l=t.value)==null||l.scrollToRow(m,v)}return qe(()=>r(a).scrollTop,(m,v)=>{m>v&&s()}),{scrollPos:a,scrollTo:i,scrollToLeft:u,scrollToTop:h,scrollToRow:y,onScroll:d,onVerticalScroll:g}},dn=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,tableInstance:s,ns:a,isScrolling:c})=>{const i=ot(),{emit:h}=i,u=Ne(!1),d=G(e.defaultExpandedRowKeys||[]),g=G(-1),y=Ne(null),m=G({}),v=G({}),l=Ne({}),f=Ne({}),w=Ne({}),M=T(()=>J(e.estimatedRowHeight));function E(b){var O;(O=e.onRowsRendered)==null||O.call(e,b),b.rowCacheEnd>r(g)&&(g.value=b.rowCacheEnd)}function H({hovered:b,rowKey:O}){if(c.value)return;s.vnode.el.querySelectorAll(`[rowkey="${String(O)}"]`).forEach(j=>{b?j.classList.add(a.is("hovered")):j.classList.remove(a.is("hovered"))})}function p({expanded:b,rowData:O,rowIndex:F,rowKey:L}){var j,B;const V=[...r(d)],q=V.indexOf(L);b?q===-1&&V.push(L):q>-1&&V.splice(q,1),d.value=V,h("update:expandedRowKeys",V),(j=e.onRowExpand)==null||j.call(e,{expanded:b,rowData:O,rowIndex:F,rowKey:L}),(B=e.onExpandedRowsChange)==null||B.call(e,V)}const S=Do(()=>{var b,O,F,L;u.value=!0,m.value={...r(m),...r(v)},D(r(y),!1),v.value={},y.value=null,(b=t.value)==null||b.forceUpdate(),(O=o.value)==null||O.forceUpdate(),(F=n.value)==null||F.forceUpdate(),(L=i.proxy)==null||L.$forceUpdate(),u.value=!1},0);function D(b,O=!1){r(M)&&[t,o,n].forEach(F=>{const L=r(F);L&&L.resetAfterRowIndex(b,O)})}function K(b,O,F){const L=r(y);(L===null||L>F)&&(y.value=F),v.value[b]=O}function $({rowKey:b,height:O,rowIndex:F},L){L?L===vo.RIGHT?w.value[b]=O:l.value[b]=O:f.value[b]=O;const j=Math.max(...[l,w,f].map(B=>B.value[b]||0));r(m)[b]!==j&&(K(b,j,F),S())}return{expandedRowKeys:d,lastRenderedRowIndex:g,isDynamic:M,isResetting:u,rowHeights:m,resetAfterIndex:D,onRowExpanded:p,onRowHovered:H,onRowsRendered:E,onRowHeightChange:$}},un=(e,{expandedRowKeys:t,lastRenderedRowIndex:o,resetAfterIndex:n})=>{const s=G({}),a=T(()=>{const i={},{data:h,rowKey:u}=e,d=r(t);if(!d||!d.length)return h;const g=[],y=new Set;d.forEach(v=>y.add(v));let m=h.slice();for(m.forEach(v=>i[v[u]]=0);m.length>0;){const v=m.shift();g.push(v),y.has(v[u])&&Array.isArray(v.children)&&v.children.length>0&&(m=[...v.children,...m],v.children.forEach(l=>i[l[u]]=i[v[u]]+1))}return s.value=i,g}),c=T(()=>{const{data:i,expandColumnKey:h}=e;return h?r(a):i});return qe(c,(i,h)=>{i!==h&&(o.value=-1,n(0,!0))}),{data:c,depthMap:s}},hn=(e,t)=>e+t,Qe=e=>$e(e)?e.reduce(hn,0):e,He=(e,t,o={})=>Rt(e)?e(t):e??o,fe=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Xe(e[t])}),e),go=e=>Me(e)?t=>ie(e,t):e,fn=(e,{columnsTotalWidth:t,data:o,fixedColumnsOnLeft:n,fixedColumnsOnRight:s})=>{const a=T(()=>{const{fixed:E,width:H,vScrollbarSize:p}=e,S=H-p;return E?Math.max(Math.round(r(t)),S):S}),c=T(()=>r(a)+e.vScrollbarSize),i=T(()=>{const{height:E=0,maxHeight:H=0,footerHeight:p,hScrollbarSize:S}=e;if(H>0){const D=r(v),K=r(h),b=r(m)+D+K+S;return Math.min(b,H-p)}return E-p}),h=T(()=>{const{rowHeight:E,estimatedRowHeight:H}=e,p=r(o);return J(H)?p.length*H:p.length*E}),u=T(()=>{const{maxHeight:E}=e,H=r(i);if(J(E)&&E>0)return H;const p=r(h)+r(m)+r(v);return Math.min(H,p)}),d=E=>E.width,g=T(()=>Qe(r(n).map(d))),y=T(()=>Qe(r(s).map(d))),m=T(()=>Qe(e.headerHeight)),v=T(()=>{var E;return(((E=e.fixedData)==null?void 0:E.length)||0)*e.rowHeight}),l=T(()=>r(i)-r(m)-r(v)),f=T(()=>{const{style:E={},height:H,width:p}=e;return fe({...E,height:H,width:p})}),w=T(()=>fe({height:e.footerHeight})),M=T(()=>({top:Xe(r(m)),bottom:Xe(e.footerHeight),width:Xe(e.width)}));return{bodyWidth:a,fixedTableHeight:u,mainTableHeight:i,leftTableWidth:g,rightTableWidth:y,headerWidth:c,rowsHeight:h,windowHeight:l,footerHeight:w,emptyStyle:M,rootStyle:f,headerHeight:m}},mn=e=>{const t=G(),o=G(0),n=G(0);let s;return bt(()=>{s=Fo(t,([a])=>{const{width:c,height:i}=a.contentRect,{paddingLeft:h,paddingRight:u,paddingTop:d,paddingBottom:g}=getComputedStyle(a.target),y=Number.parseInt(h)||0,m=Number.parseInt(u)||0,v=Number.parseInt(d)||0,l=Number.parseInt(g)||0;o.value=c-y-m,n.value=i-v-l}).stop}),Bt(()=>{s==null||s()}),qe([o,n],([a,c])=>{var i;(i=e.onResize)==null||i.call(e,{width:a,height:c})}),{sizer:t,width:o,height:n}};function vn(e){const t=G(),o=G(),n=G(),{columns:s,columnsStyles:a,columnsTotalWidth:c,fixedColumnsOnLeft:i,fixedColumnsOnRight:h,hasFixedColumns:u,mainColumns:d,onColumnSorted:g}=sn(e,Nt(e,"columns"),Nt(e,"fixed")),{scrollTo:y,scrollToLeft:m,scrollToTop:v,scrollToRow:l,onScroll:f,onVerticalScroll:w,scrollPos:M}=cn(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,onMaybeEndReached:De}),E=Ce("table-v2"),H=ot(),p=Ne(!1),{expandedRowKeys:S,lastRenderedRowIndex:D,isDynamic:K,isResetting:$,rowHeights:b,resetAfterIndex:O,onRowExpanded:F,onRowHeightChange:L,onRowHovered:j,onRowsRendered:B}=dn(e,{mainTableRef:t,leftTableRef:o,rightTableRef:n,tableInstance:H,ns:E,isScrolling:p}),{data:V,depthMap:q}=un(e,{expandedRowKeys:S,lastRenderedRowIndex:D,resetAfterIndex:O}),{bodyWidth:ve,fixedTableHeight:ge,mainTableHeight:ee,leftTableWidth:ye,rightTableWidth:we,headerWidth:se,rowsHeight:le,windowHeight:te,footerHeight:ue,emptyStyle:pe,rootStyle:Ie,headerHeight:he}=fn(e,{columnsTotalWidth:c,data:V,fixedColumnsOnLeft:i,fixedColumnsOnRight:h}),Le=G(),Pe=T(()=>{const Q=r(V).length===0;return $e(e.fixedData)?e.fixedData.length===0&&Q:Q});function We(Q){const{estimatedRowHeight:oe,rowHeight:be,rowKey:R}=e;return oe?r(b)[r(V)[Q][R]]||oe:be}function De(){const{onEndReached:Q}=e;if(!Q)return;const{scrollTop:oe}=r(M),be=r(le),R=r(te),x=be-(oe+R)+e.hScrollbarSize;r(D)>=0&&be===oe+r(ee)-r(he)&&Q(x)}return qe(()=>e.expandedRowKeys,Q=>S.value=Q,{deep:!0}),{columns:s,containerRef:Le,mainTableRef:t,leftTableRef:o,rightTableRef:n,isDynamic:K,isResetting:$,isScrolling:p,hasFixedColumns:u,columnsStyles:a,columnsTotalWidth:c,data:V,expandedRowKeys:S,depthMap:q,fixedColumnsOnLeft:i,fixedColumnsOnRight:h,mainColumns:d,bodyWidth:ve,emptyStyle:pe,rootStyle:Ie,headerWidth:se,footerHeight:ue,mainTableHeight:ee,fixedTableHeight:ge,leftTableWidth:ye,rightTableWidth:we,showEmpty:Pe,getRowHeight:We,onColumnSorted:g,onRowHovered:j,onRowExpanded:F,onRowsRendered:B,onRowHeightChange:L,scrollTo:y,scrollToLeft:m,scrollToTop:v,scrollToRow:l,onScroll:f,onVerticalScroll:w}}const xt=Symbol("tableV2"),yo=String,Ye={type:I(Array),required:!0},Tt={type:I(Array)},wo={...Tt,required:!0},gn=String,Vt={type:I(Array),default:()=>kt([])},Re={type:Number,required:!0},bo={type:I([String,Number,Symbol]),default:"id"},$t={type:I(Object)},Te=ae({class:String,columns:Ye,columnsStyles:{type:I(Object),required:!0},depth:Number,expandColumnKey:gn,estimatedRowHeight:{...Ee.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:I(Function)},onRowHover:{type:I(Function)},onRowHeightChange:{type:I(Function)},rowData:{type:I(Object),required:!0},rowEventHandlers:{type:I(Object)},rowIndex:{type:Number,required:!0},rowKey:bo,style:{type:I(Object)}}),rt={type:Number,required:!0},Et=ae({class:String,columns:Ye,fixedHeaderData:{type:I(Array)},headerData:{type:I(Array),required:!0},headerHeight:{type:I([Number,Array]),default:50},rowWidth:rt,rowHeight:{type:Number,default:50},height:rt,width:rt}),Je=ae({columns:Ye,data:wo,fixedData:Tt,estimatedRowHeight:Te.estimatedRowHeight,width:Re,height:Re,headerWidth:Re,headerHeight:Et.headerHeight,bodyWidth:Re,rowHeight:Re,cache:Qo.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Ee.scrollbarAlwaysOn,scrollbarStartGap:Ee.scrollbarStartGap,scrollbarEndGap:Ee.scrollbarEndGap,class:yo,style:$t,containerStyle:$t,getRowHeight:{type:I(Function),required:!0},rowKey:Te.rowKey,onRowsRendered:{type:I(Function)},onScroll:{type:I(Function)}}),yn=ae({cache:Je.cache,estimatedRowHeight:Te.estimatedRowHeight,rowKey:bo,headerClass:{type:I([String,Function])},headerProps:{type:I([Object,Function])},headerCellProps:{type:I([Object,Function])},headerHeight:Et.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:I([String,Function])},rowProps:{type:I([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:I([Object,Function])},columns:Ye,data:wo,dataGetter:{type:I(Function)},fixedData:Tt,expandColumnKey:Te.expandColumnKey,expandedRowKeys:Vt,defaultExpandedRowKeys:Vt,class:yo,fixed:Boolean,style:{type:I(Object)},width:Re,height:Re,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Ee.hScrollbarSize,vScrollbarSize:Ee.vScrollbarSize,scrollbarAlwaysOn:so.alwaysOn,sortBy:{type:I(Object),default:()=>({})},sortState:{type:I(Object),default:void 0},onColumnSort:{type:I(Function)},onExpandedRowsChange:{type:I(Function)},onEndReached:{type:I(Function)},onRowExpand:Te.onRowExpand,onScroll:Je.onScroll,onRowsRendered:Je.onRowsRendered,rowEventHandlers:Te.rowEventHandlers}),Ct=(e,{slots:t})=>{var o;const{cellData:n,style:s}=e,a=((o=n==null?void 0:n.toString)==null?void 0:o.call(n))||"",c=Ue(t,"default",e,()=>[a]);return C("div",{class:e.class,title:a,style:s},[c])};Ct.displayName="ElTableV2Cell";Ct.inheritAttrs=!1;const Ht=(e,{slots:t})=>Ue(t,"default",e,()=>{var o,n;return[C("div",{class:e.class,title:(o=e.column)==null?void 0:o.title},[(n=e.column)==null?void 0:n.title])]});Ht.displayName="ElTableV2HeaderCell";Ht.inheritAttrs=!1;const wn=ae({class:String,columns:Ye,columnsStyles:{type:I(Object),required:!0},headerIndex:Number,style:{type:I(Object)}}),bn=me({name:"ElTableV2HeaderRow",props:wn,setup(e,{slots:t}){return()=>{const{columns:o,columnsStyles:n,headerIndex:s,style:a}=e;let c=o.map((i,h)=>t.cell({columns:o,column:i,columnIndex:h,headerIndex:s,style:n[i.key]}));return t.header&&(c=t.header({cells:c.map(i=>$e(i)&&i.length===1?i[0]:i),columns:o,headerIndex:s})),C("div",{class:e.class,style:a,role:"row"},[c])}}}),Sn="ElTableV2Header",Rn=me({name:Sn,props:Et,setup(e,{slots:t,expose:o}){const n=Ce("table-v2"),s=G(),a=T(()=>fe({width:e.width,height:e.height})),c=T(()=>fe({width:e.rowWidth,height:e.height})),i=T(()=>Bo(r(e.headerHeight))),h=g=>{const y=r(s);Ve(()=>{y!=null&&y.scroll&&y.scroll({left:g})})},u=()=>{const g=n.e("fixed-header-row"),{columns:y,fixedHeaderData:m,rowHeight:v}=e;return m==null?void 0:m.map((l,f)=>{var w;const M=fe({height:v,width:"100%"});return(w=t.fixed)==null?void 0:w.call(t,{class:g,columns:y,rowData:l,rowIndex:-(f+1),style:M})})},d=()=>{const g=n.e("dynamic-header-row"),{columns:y}=e;return r(i).map((m,v)=>{var l;const f=fe({width:"100%",height:m});return(l=t.dynamic)==null?void 0:l.call(t,{class:g,columns:y,headerIndex:v,style:f})})};return o({scrollToLeft:h}),()=>{if(!(e.height<=0))return C("div",{ref:s,class:e.class,style:r(a),role:"rowgroup"},[C("div",{style:r(c),class:n.e("header")},[d(),u()])])}}}),xn=e=>{const{isScrolling:t}=qt(xt),o=G(!1),n=G(),s=T(()=>J(e.estimatedRowHeight)&&e.rowIndex>=0),a=(h=!1)=>{const u=r(n);if(!u)return;const{columns:d,onRowHeightChange:g,rowKey:y,rowIndex:m,style:v}=e,{height:l}=u.getBoundingClientRect();o.value=!0,Ve(()=>{if(h||l!==Number.parseInt(v.height)){const f=d[0],w=(f==null?void 0:f.placeholderSign)===Be;g==null||g({rowKey:y,height:l,rowIndex:m},f&&!w&&f.fixed)}})},c=T(()=>{const{rowData:h,rowIndex:u,rowKey:d,onRowHover:g}=e,y=e.rowEventHandlers||{},m={};return Object.entries(y).forEach(([v,l])=>{Rt(l)&&(m[v]=f=>{l({event:f,rowData:h,rowIndex:u,rowKey:d})})}),g&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:v,hovered:l})=>{const f=m[v];m[v]=w=>{g({event:w,hovered:l,rowData:h,rowIndex:u,rowKey:d}),f==null||f(w)}}),m}),i=h=>{const{onRowExpand:u,rowData:d,rowIndex:g,rowKey:y}=e;u==null||u({expanded:h,rowData:d,rowIndex:g,rowKey:y})};return bt(()=>{r(s)&&a(!0)}),{isScrolling:t,measurable:s,measured:o,rowRef:n,eventHandlers:c,onExpand:i}},Tn="ElTableV2TableRow",En=me({name:Tn,props:Te,setup(e,{expose:t,slots:o,attrs:n}){const{eventHandlers:s,isScrolling:a,measurable:c,measured:i,rowRef:h,onExpand:u}=xn(e);return t({onExpand:u}),()=>{const{columns:d,columnsStyles:g,expandColumnKey:y,depth:m,rowData:v,rowIndex:l,style:f}=e;let w=d.map((M,E)=>{const H=$e(v.children)&&v.children.length>0&&M.key===y;return o.cell({column:M,columns:d,columnIndex:E,depth:m,style:g[M.key],rowData:v,rowIndex:l,isScrolling:r(a),expandIconProps:H?{rowData:v,rowIndex:l,onExpand:u}:void 0})});if(o.row&&(w=o.row({cells:w.map(M=>$e(M)&&M.length===1?M[0]:M),style:f,columns:d,depth:m,rowData:v,rowIndex:l,isScrolling:r(a)})),r(c)){const{height:M,...E}=f||{},H=r(i);return C("div",Y({ref:h,class:e.class,style:H?f:E,role:"row"},n,r(s)),[w])}return C("div",Y(n,{ref:h,class:e.class,style:f,role:"row"},r(s)),[w])}}}),Cn=e=>{const{sortOrder:t}=e;return C(Ut,{size:14,class:e.class},{default:()=>[t===je.ASC?C(Go,null,null):C(Ko,null,null)]})},Hn=e=>{const{expanded:t,expandable:o,onExpand:n,style:s,size:a}=e,c={onClick:o?()=>n(!t):void 0,class:e.class};return C(Ut,Y(c,{size:a,style:s}),{default:()=>[C(Vo,null,null)]})},_n="ElTableV2Grid",Mn=e=>{const t=G(),o=G(),n=T(()=>{const{data:l,rowHeight:f,estimatedRowHeight:w}=e;if(!w)return l.length*f}),s=T(()=>{const{fixedData:l,rowHeight:f}=e;return((l==null?void 0:l.length)||0)*f}),a=T(()=>Qe(e.headerHeight)),c=T(()=>{const{height:l}=e;return Math.max(0,l-r(a)-r(s))}),i=T(()=>r(a)+r(s)>0),h=({data:l,rowIndex:f})=>l[f][e.rowKey];function u({rowCacheStart:l,rowCacheEnd:f,rowVisibleStart:w,rowVisibleEnd:M}){var E;(E=e.onRowsRendered)==null||E.call(e,{rowCacheStart:l,rowCacheEnd:f,rowVisibleStart:w,rowVisibleEnd:M})}function d(l,f){var w;(w=o.value)==null||w.resetAfterRowIndex(l,f)}function g(l,f){const w=r(t),M=r(o);St(l)?(w==null||w.scrollToLeft(l.scrollLeft),M==null||M.scrollTo(l)):(w==null||w.scrollToLeft(l),M==null||M.scrollTo({scrollLeft:l,scrollTop:f}))}function y(l){var f;(f=r(o))==null||f.scrollTo({scrollTop:l})}function m(l,f){var w;(w=r(o))==null||w.scrollToItem(l,1,f)}function v(){var l,f;(l=r(o))==null||l.$forceUpdate(),(f=r(t))==null||f.$forceUpdate()}return{bodyRef:o,forceUpdate:v,fixedRowHeight:s,gridHeight:c,hasHeader:i,headerHeight:a,headerRef:t,totalHeight:n,itemKey:h,onItemRendered:u,resetAfterRowIndex:d,scrollTo:g,scrollToTop:y,scrollToRow:m}},_t=me({name:_n,props:Je,setup(e,{slots:t,expose:o}){const{ns:n}=qt(xt),{bodyRef:s,fixedRowHeight:a,gridHeight:c,hasHeader:i,headerRef:h,headerHeight:u,totalHeight:d,forceUpdate:g,itemKey:y,onItemRendered:m,resetAfterRowIndex:v,scrollTo:l,scrollToTop:f,scrollToRow:w}=Mn(e);o({forceUpdate:g,totalHeight:d,scrollTo:l,scrollToTop:f,scrollToRow:w,resetAfterRowIndex:v});const M=()=>e.bodyWidth;return()=>{const{cache:E,columns:H,data:p,fixedData:S,useIsScrolling:D,scrollbarAlwaysOn:K,scrollbarEndGap:$,scrollbarStartGap:b,style:O,rowHeight:F,bodyWidth:L,estimatedRowHeight:j,headerWidth:B,height:V,width:q,getRowHeight:ve,onScroll:ge}=e,ee=J(j),ye=ee?rn:tn,we=r(u);return C("div",{role:"table",class:[n.e("table"),e.class],style:O},[C(ye,{ref:s,data:p,useIsScrolling:D,itemKey:y,columnCache:0,columnWidth:ee?M:L,totalColumn:1,totalRow:p.length,rowCache:E,rowHeight:ee?ve:F,width:q,height:r(c),class:n.e("body"),role:"rowgroup",scrollbarStartGap:b,scrollbarEndGap:$,scrollbarAlwaysOn:K,onScroll:ge,onItemRendered:m,perfMode:!1},{default:se=>{var le;const te=p[se.rowIndex];return(le=t.row)==null?void 0:le.call(t,{...se,columns:H,rowData:te})}}),r(i)&&C(Rn,{ref:h,class:n.e("header-wrapper"),columns:H,headerData:p,headerHeight:e.headerHeight,fixedHeaderData:S,rowWidth:B,rowHeight:F,width:q,height:Math.min(we+r(a),V)},{dynamic:t.header,fixed:t.row})])}}});function pn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const In=(e,{slots:t})=>{const{mainTableRef:o,...n}=e;return C(_t,Y({ref:o},n),pn(t)?t:{default:()=>[t]})};function On(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const An=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:o,...n}=e;return C(_t,Y({ref:o},n),On(t)?t:{default:()=>[t]})};function Nn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const zn=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:o,...n}=e;return C(_t,Y({ref:o},n),Nn(t)?t:{default:()=>[t]})};function Ln(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const Pn=(e,{slots:t})=>{const{columns:o,columnsStyles:n,depthMap:s,expandColumnKey:a,expandedRowKeys:c,estimatedRowHeight:i,hasFixedColumns:h,rowData:u,rowIndex:d,style:g,isScrolling:y,rowProps:m,rowClass:v,rowKey:l,rowEventHandlers:f,ns:w,onRowHovered:M,onRowExpanded:E}=e,H=He(v,{columns:o,rowData:u,rowIndex:d},""),p=He(m,{columns:o,rowData:u,rowIndex:d}),S=u[l],D=s[S]||0,K=!!a,$=d<0,b=[w.e("row"),H,{[w.e(`row-depth-${D}`)]:K&&d>=0,[w.is("expanded")]:K&&c.includes(S),[w.is("fixed")]:!D&&$,[w.is("customized")]:!!t.row}],O=h?M:void 0,F={...p,columns:o,columnsStyles:n,class:b,depth:D,expandColumnKey:a,estimatedRowHeight:$?void 0:i,isScrolling:y,rowIndex:d,rowData:u,rowKey:S,rowEventHandlers:f,style:g};return C(En,Y(F,{onRowExpand:E,onMouseenter:B=>{O==null||O({hovered:!0,rowKey:S,event:B,rowData:u,rowIndex:d})},onMouseleave:B=>{O==null||O({hovered:!1,rowKey:S,event:B,rowData:u,rowIndex:d})},rowkey:S}),Ln(t)?t:{default:()=>[t]})},wt=({columns:e,column:t,columnIndex:o,depth:n,expandIconProps:s,isScrolling:a,rowData:c,rowIndex:i,style:h,expandedRowKeys:u,ns:d,cellProps:g,expandColumnKey:y,indentSize:m,iconSize:v,rowKey:l},{slots:f})=>{const w=fe(h);if(t.placeholderSign===Be)return C("div",{class:d.em("row-cell","placeholder"),style:w},null);const{cellRenderer:M,dataKey:E,dataGetter:H}=t,p=Rt(H)?H({columns:e,column:t,columnIndex:o,rowData:c,rowIndex:i}):$o(c,E??""),S=He(g,{cellData:p,columns:e,column:t,columnIndex:o,rowIndex:i,rowData:c}),D={class:d.e("cell-text"),columns:e,column:t,columnIndex:o,cellData:p,isScrolling:a,rowData:c,rowIndex:i},K=go(M),$=K?K(D):Ue(f,"default",D,()=>[C(Ct,D,null)]),b=[d.e("row-cell"),t.class,t.align===ke.CENTER&&d.is("align-center"),t.align===ke.RIGHT&&d.is("align-right")],O=i>=0&&y&&t.key===y,F=i>=0&&u.includes(c[l]);let L;const j=`margin-inline-start: ${n*m}px;`;return O&&(St(s)?L=C(Hn,Y(s,{class:[d.e("expand-icon"),d.is("expanded",F)],size:v,expanded:F,style:j,expandable:!0}),null):L=C("div",{style:[j,`width: ${v}px; height: ${v}px;`].join(" ")},null)),C("div",Y({class:b,style:w},S,{role:"cell"}),[L,$])};wt.inheritAttrs=!1;function Wn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const Dn=({columns:e,columnsStyles:t,headerIndex:o,style:n,headerClass:s,headerProps:a,ns:c},{slots:i})=>{const h={columns:e,headerIndex:o},u=[c.e("header-row"),He(s,h,""),{[c.is("customized")]:!!i.header}],d={...He(a,h),columnsStyles:t,class:u,columns:e,headerIndex:o,style:n};return C(bn,d,Wn(i)?i:{default:()=>[i]})},jt=(e,{slots:t})=>{const{column:o,ns:n,style:s,onColumnSorted:a}=e,c=fe(s);if(o.placeholderSign===Be)return C("div",{class:n.em("header-row-cell","placeholder"),style:c},null);const{headerCellRenderer:i,headerClass:h,sortable:u}=o,d={...e,class:n.e("header-cell-text")},g=go(i),y=g?g(d):Ue(t,"default",d,()=>[C(Ht,d,null)]),{sortBy:m,sortState:v,headerCellProps:l}=e;let f,w;if(v){const H=v[o.key];f=!!yt[H],w=f?H:je.ASC}else f=o.key===m.key,w=f?m.order:je.ASC;const M=[n.e("header-cell"),He(h,e,""),o.align===ke.CENTER&&n.is("align-center"),o.align===ke.RIGHT&&n.is("align-right"),u&&n.is("sortable")],E={...He(l,e),onClick:o.sortable?a:void 0,class:M,style:c,"data-key":o.key};return C("div",Y(E,{role:"columnheader"}),[y,u&&C(Cn,{class:[n.e("sort-icon"),f&&n.is("sorting")],sortOrder:w},null)])},So=(e,{slots:t})=>{var o;return C("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};So.displayName="ElTableV2Footer";const Ro=(e,{slots:t})=>{const o=Ue(t,"default",{},()=>[C(qo,null,null)]);return C("div",{class:e.class,style:e.style},[o])};Ro.displayName="ElTableV2Empty";const xo=(e,{slots:t})=>{var o;return C("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};xo.displayName="ElTableV2Overlay";function Ge(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Me(e)}const Fn="ElTableV2",Gn=me({name:Fn,props:yn,setup(e,{slots:t,expose:o}){const n=Ce("table-v2"),{columnsStyles:s,fixedColumnsOnLeft:a,fixedColumnsOnRight:c,mainColumns:i,mainTableHeight:h,fixedTableHeight:u,leftTableWidth:d,rightTableWidth:g,data:y,depthMap:m,expandedRowKeys:v,hasFixedColumns:l,mainTableRef:f,leftTableRef:w,rightTableRef:M,isDynamic:E,isResetting:H,isScrolling:p,bodyWidth:S,emptyStyle:D,rootStyle:K,headerWidth:$,footerHeight:b,showEmpty:O,scrollTo:F,scrollToLeft:L,scrollToTop:j,scrollToRow:B,getRowHeight:V,onColumnSorted:q,onRowHeightChange:ve,onRowHovered:ge,onRowExpanded:ee,onRowsRendered:ye,onScroll:we,onVerticalScroll:se}=vn(e);return o({scrollTo:F,scrollToLeft:L,scrollToTop:j,scrollToRow:B}),jo(xt,{ns:n,isResetting:H,isScrolling:p}),()=>{const{cache:le,cellProps:te,estimatedRowHeight:ue,expandColumnKey:pe,fixedData:Ie,headerHeight:he,headerClass:Le,headerProps:Pe,headerCellProps:We,sortBy:De,sortState:Q,rowHeight:oe,rowClass:be,rowEventHandlers:R,rowKey:x,rowProps:_,scrollbarAlwaysOn:A,indentSize:N,iconSize:z,useIsScrolling:P,vScrollbarSize:W,width:k}=e,U=r(y),re={cache:le,class:n.e("main"),columns:r(i),data:U,fixedData:Ie,estimatedRowHeight:ue,bodyWidth:r(S)+W,headerHeight:he,headerWidth:r($),height:r(h),mainTableRef:f,rowKey:x,rowHeight:oe,scrollbarAlwaysOn:A,scrollbarStartGap:2,scrollbarEndGap:W,useIsScrolling:P,width:k,getRowHeight:V,onRowsRendered:ye,onScroll:we},Z=r(d),X=r(u),Fe={cache:le,class:n.e("left"),columns:r(a),data:U,estimatedRowHeight:ue,leftTableRef:w,rowHeight:oe,bodyWidth:Z,headerWidth:Z,headerHeight:he,height:X,rowKey:x,scrollbarAlwaysOn:A,scrollbarStartGap:2,scrollbarEndGap:W,useIsScrolling:P,width:Z,getRowHeight:V,onScroll:se},nt=r(g)+W,To={cache:le,class:n.e("right"),columns:r(c),data:U,estimatedRowHeight:ue,rightTableRef:M,rowHeight:oe,bodyWidth:nt,headerWidth:nt,headerHeight:he,height:X,rowKey:x,scrollbarAlwaysOn:A,scrollbarStartGap:2,scrollbarEndGap:W,width:nt,style:`--${r(n.namespace)}-table-scrollbar-size: ${W}px`,useIsScrolling:P,getRowHeight:V,onScroll:se},Oe=r(s),Eo={ns:n,depthMap:r(m),columnsStyles:Oe,expandColumnKey:pe,expandedRowKeys:r(v),estimatedRowHeight:ue,hasFixedColumns:r(l),rowProps:_,rowClass:be,rowKey:x,rowEventHandlers:R,onRowHovered:ge,onRowExpanded:ee,onRowHeightChange:ve},pt={cellProps:te,expandColumnKey:pe,indentSize:N,iconSize:z,rowKey:x,expandedRowKeys:r(v),ns:n},Co={ns:n,headerClass:Le,headerProps:Pe,columnsStyles:Oe},It={ns:n,sortBy:De,sortState:Q,headerCellProps:We,onColumnSorted:q},ce={row:lt=>C(Pn,Y(lt,Eo),{row:t.row,cell:ne=>{let Se;return t.cell?C(wt,Y(ne,pt,{style:Oe[ne.column.key]}),Ge(Se=t.cell(ne))?Se:{default:()=>[Se]}):C(wt,Y(ne,pt,{style:Oe[ne.column.key]}),null)}}),header:lt=>C(Dn,Y(lt,Co),{header:t.header,cell:ne=>{let Se;return t["header-cell"]?C(jt,Y(ne,It,{style:Oe[ne.column.key]}),Ge(Se=t["header-cell"](ne))?Se:{default:()=>[Se]}):C(jt,Y(ne,It,{style:Oe[ne.column.key]}),null)}})},Ho=[e.class,n.b(),n.e("root"),{[n.is("dynamic")]:r(E)}],_o={class:n.e("footer"),style:r(b)};return C("div",{class:Ho,style:r(K)},[C(In,re,Ge(ce)?ce:{default:()=>[ce]}),C(An,Fe,Ge(ce)?ce:{default:()=>[ce]}),C(zn,To,Ge(ce)?ce:{default:()=>[ce]}),t.footer&&C(So,_o,{default:t.footer}),r(O)&&C(Ro,{class:n.e("empty"),style:r(D)},{default:t.empty}),t.overlay&&C(xo,{class:n.e("overlay")},{default:t.overlay})])}}}),Kn=ae({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:I(Function)}}),Vn=me({name:"ElAutoResizer",props:Kn,setup(e,{slots:t}){const o=Ce("auto-resizer"),{height:n,width:s,sizer:a}=mn(e),c={width:"100%",height:"100%"};return()=>{var i;return C("div",{ref:a,class:o.b(),style:c},[(i=t.default)==null?void 0:i.call(t,{height:n.value,width:s.value})])}}}),Un=Yt(Gn),Yn=Yt(Vn);export{Un as E,vo as F,Yn as a};
