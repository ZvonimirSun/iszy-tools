import{J as A,P as N,am as R,d as D,f as v,O,a as g,F as V,aq as T,K as E,ar as Y,aa as q,T as B,Y as S,h as x,e as K,i as J,as as U,C as H,at as Q,G as Z}from"./index.6b075e9a.js";import{u as ee}from"./useRefs.a2ebad5c.js";var M=A("normal","exception","active","success"),te=A("line","circle","dashboard"),re=A("default","small"),L=function(){return{prefixCls:String,type:N.oneOf(te),percent:Number,format:{type:Function},status:N.oneOf(M),showInfo:{type:Boolean,default:void 0},strokeWidth:Number,strokeLinecap:String,strokeColor:{type:[String,Object],default:void 0},trailColor:String,width:Number,success:{type:Object,default:function(){return{}}},gapDegree:Number,gapPosition:String,size:N.oneOf(re),steps:Number,successPercent:Number,title:String}};function w(r){return!r||r<0?0:r>100?100:r}function z(r){var e=r.success,s=r.successPercent,t=s;return e&&"progress"in e&&(R(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),t=e.progress),e&&"percent"in e&&(t=e.percent),t}var ne=globalThis&&globalThis.__rest||function(r,e){var s={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(s[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(s[t[n]]=r[t[n]]);return s},ae=function(){return O(O({},L()),{prefixCls:String,direction:{type:String}})},se=function(e){var s=[];return Object.keys(e).forEach(function(t){var n=parseFloat(t.replace(/%/g,""));isNaN(n)||s.push({key:n,value:e[t]})}),s=s.sort(function(t,n){return t.key-n.key}),s.map(function(t){var n=t.key,l=t.value;return"".concat(l," ").concat(n,"%")}).join(", ")},oe=function(e,s){var t=e.from,n=t===void 0?T.blue:t,l=e.to,c=l===void 0?T.blue:l,u=e.direction,p=u===void 0?s==="rtl"?"to left":"to right":u,i=ne(e,["from","to","direction"]);if(Object.keys(i).length!==0){var f=se(i);return{backgroundImage:"linear-gradient(".concat(p,", ").concat(f,")")}}return{backgroundImage:"linear-gradient(".concat(p,", ").concat(n,", ").concat(c,")")}},ie=D({name:"Line",props:ae(),setup:function(e,s){var t=s.slots,n=v(function(){var i=e.strokeColor,f=e.direction;return i&&typeof i!="string"?oe(i,f):{background:i}}),l=v(function(){return e.trailColor?{backgroundColor:e.trailColor}:void 0}),c=v(function(){var i=e.percent,f=e.strokeWidth,o=e.strokeLinecap,a=e.size;return O({width:"".concat(w(i),"%"),height:"".concat(f||(a==="small"?6:8),"px"),borderRadius:o==="square"?0:""},n.value)}),u=v(function(){return z(e)}),p=v(function(){var i=e.strokeWidth,f=e.size,o=e.strokeLinecap,a=e.success;return{width:"".concat(w(u.value),"%"),height:"".concat(i||(f==="small"?6:8),"px"),borderRadius:o==="square"?0:"",backgroundColor:a==null?void 0:a.strokeColor}});return function(){var i;return g(V,null,[g("div",{class:"".concat(e.prefixCls,"-outer")},[g("div",{class:"".concat(e.prefixCls,"-inner"),style:l.value},[g("div",{class:"".concat(e.prefixCls,"-bg"),style:c.value},null),u.value!==void 0?g("div",{class:"".concat(e.prefixCls,"-success-bg"),style:p.value},null):null])]),(i=t.default)===null||i===void 0?void 0:i.call(t)])}}}),ce={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},le=function(e){var s=E(null);return Y(function(){var t=Date.now(),n=!1;e.value.forEach(function(l){var c,u=((c=l)===null||c===void 0?void 0:c.$el)||l;if(!!u){n=!0;var p=u.style;p.transitionDuration=".3s, .3s, .3s, .06s",s.value&&t-s.value<100&&(p.transitionDuration="0s, 0s")}}),n&&(s.value=Date.now())}),e},ue={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String},fe=globalThis&&globalThis.__rest||function(r,e){var s={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(s[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(s[t[n]]=r[t[n]]);return s},F=0;function X(r){return+r.replace("%","")}function $(r){return Array.isArray(r)?r:[r]}function G(r,e,s,t){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,l=arguments.length>5?arguments[5]:void 0,c=50-t/2,u=0,p=-c,i=0,f=-2*c;switch(l){case"left":u=-c,p=0,i=2*c,f=0;break;case"right":u=c,p=0,i=-2*c,f=0;break;case"bottom":p=c,f=2*c;break}var o="M 50,50 m ".concat(u,",").concat(p,`
   a `).concat(c,",").concat(c," 0 1 1 ").concat(i,",").concat(-f,`
   a `).concat(c,",").concat(c," 0 1 1 ").concat(-i,",").concat(f),a=Math.PI*2*c,h={stroke:s,strokeDasharray:"".concat(e/100*(a-n),"px ").concat(a,"px"),strokeDashoffset:"-".concat(n/2+r/100*(a-n),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:o,pathStyle:h}}var ge=D({name:"VCCircle",props:q(ue,ce),setup:function(e){F+=1;var s=E(F),t=v(function(){return $(e.percent)}),n=v(function(){return $(e.strokeColor)}),l=ee(),c=B(l,2),u=c[0],p=c[1];le(p);var i=function(){var o=e.prefixCls,a=e.strokeWidth,h=e.strokeLinecap,k=e.gapDegree,d=e.gapPosition,b=0;return t.value.map(function(y,m){var _=n.value[m]||n.value[n.value.length-1],j=Object.prototype.toString.call(_)==="[object Object]"?"url(#".concat(o,"-gradient-").concat(s.value,")"):"",C=G(b,y,_,a,k,d),I=C.pathString,P=C.pathStyle;b+=y;var W={key:m,d:I,stroke:j,"stroke-linecap":h,"stroke-width":a,opacity:y===0?0:1,"fill-opacity":"0",class:"".concat(o,"-circle-path"),style:P};return g("path",S({ref:u(m)},W),null)})};return function(){var f=e.prefixCls,o=e.strokeWidth,a=e.trailWidth,h=e.gapDegree,k=e.gapPosition,d=e.trailColor,b=e.strokeLinecap;e.strokeColor;var y=fe(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),m=G(0,100,d,o,h,k),_=m.pathString,j=m.pathStyle;delete y.percent;var C=n.value.find(function(P){return Object.prototype.toString.call(P)==="[object Object]"}),I={d:_,stroke:d,"stroke-linecap":b,"stroke-width":a||o,"fill-opacity":"0",class:"".concat(f,"-circle-trail"),style:j};return g("svg",S({class:"".concat(f,"-circle"),viewBox:"0 0 100 100"},y),[C&&g("defs",null,[g("linearGradient",{id:"".concat(f,"-gradient-").concat(s.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(C).sort(function(P,W){return X(P)-X(W)}).map(function(P,W){return g("stop",{key:W,offset:P,"stop-color":C[P]},null)})])]),g("path",I,null),i().reverse()])}}});function pe(r){var e=r.percent,s=r.success,t=r.successPercent,n=w(z({success:s,successPercent:t}));return[n,w(w(e)-n)]}function de(r){var e=r.success,s=e===void 0?{}:e,t=r.strokeColor,n=s.strokeColor;return[n||T.green,t||null]}var ve=D({name:"Circle",inheritAttrs:!1,props:L(),setup:function(e,s){var t=s.slots,n=v(function(){if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),l=v(function(){var a=e.width||120;return{width:typeof a=="number"?"".concat(a,"px"):a,height:typeof a=="number"?"".concat(a,"px"):a,fontSize:"".concat(a*.15+6,"px")}}),c=v(function(){return e.strokeWidth||6}),u=v(function(){return e.gapPosition||e.type==="dashboard"&&"bottom"||"top"}),p=v(function(){return pe(e)}),i=v(function(){return Object.prototype.toString.call(e.strokeColor)==="[object Object]"}),f=v(function(){return de({success:e.success,strokeColor:e.strokeColor})}),o=v(function(){var a;return a={},x(a,"".concat(e.prefixCls,"-inner"),!0),x(a,"".concat(e.prefixCls,"-circle-gradient"),i.value),a});return function(){var a;return g("div",{class:o.value,style:l.value},[g(ge,{percent:p.value,strokeWidth:c.value,trailWidth:c.value,strokeColor:f.value,strokeLinecap:e.strokeLinecap,trailColor:e.trailColor,prefixCls:e.prefixCls,gapDegree:n.value,gapPosition:u.value},null),(a=t.default)===null||a===void 0?void 0:a.call(t)])}}}),he=function(){return O(O({},L()),{steps:Number,size:{type:String},strokeColor:String,trailColor:String})},ke=D({name:"Steps",props:he(),setup:function(e,s){var t=s.slots,n=v(function(){return Math.round(e.steps*((e.percent||0)/100))}),l=v(function(){return e.size==="small"?2:14}),c=v(function(){for(var u=e.steps,p=e.strokeWidth,i=p===void 0?8:p,f=e.strokeColor,o=e.trailColor,a=e.prefixCls,h=[],k=0;k<u;k+=1){var d,b=(d={},x(d,"".concat(a,"-steps-item"),!0),x(d,"".concat(a,"-steps-item-active"),k<=n.value-1),d);h.push(g("div",{key:k,class:b,style:{backgroundColor:k<=n.value-1?f:o,width:"".concat(l.value,"px"),height:"".concat(i,"px")}},null))}return h});return function(){var u;return g("div",{class:"".concat(e.prefixCls,"-steps-outer")},[c.value,(u=t.default)===null||u===void 0?void 0:u.call(t)])}}}),me=D({name:"AProgress",props:q(L(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:["format"],setup:function(e,s){var t=s.slots,n=K("progress",e),l=n.prefixCls,c=n.direction;R(e.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var u=v(function(){var o,a=e.type,h=e.showInfo,k=e.size,d=l.value;return o={},x(o,d,!0),x(o,"".concat(d,"-").concat(a==="dashboard"&&"circle"||a),!0),x(o,"".concat(d,"-show-info"),h),x(o,"".concat(d,"-").concat(k),k),x(o,"".concat(d,"-rtl"),c.value==="rtl"),o}),p=v(function(){var o=e.percent,a=o===void 0?0:o,h=z(e);return parseInt(h!==void 0?h.toString():a.toString(),10)}),i=v(function(){var o=e.status;return M.indexOf(o)<0&&p.value>=100?"success":o||"normal"}),f=function(){var a=e.showInfo,h=e.format,k=e.type,d=e.percent,b=e.title,y=z(e);if(!a)return null;var m,_=h||(t==null?void 0:t.format)||function(C){return"".concat(C,"%")},j=k==="line";return h||(t==null?void 0:t.format)||i.value!=="exception"&&i.value!=="success"?m=_(w(d),w(y)):i.value==="exception"?m=j?g(J,null,null):g(U,null,null):i.value==="success"&&(m=j?g(H,null,null):g(Q,null,null)),g("span",{class:"".concat(l.value,"-text"),title:b===void 0&&typeof m=="string"?m:void 0},[m])};return function(){var o=e.type,a=e.steps,h=e.strokeColor,k=e.title,d=f(),b;o==="line"?b=a?g(ke,S(S({},e),{},{strokeColor:typeof h=="string"?h:void 0,prefixCls:l.value,steps:a}),{default:function(){return[d]}}):g(ie,S(S({},e),{},{prefixCls:l.value}),{default:function(){return[d]}}):(o==="circle"||o==="dashboard")&&(b=g(ve,S(S({},e),{},{prefixCls:l.value}),{default:function(){return[d]}}));var y=O(O({},u.value),x({},"".concat(l.value,"-status-").concat(i.value),!0));return g("div",{class:y,title:k},[b])}}}),xe=Z(me);export{xe as _};
