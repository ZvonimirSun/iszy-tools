import{d as $,I as we,f,H as Oe,P as K,K as _,bm as he,a as m,Y as v,g as q,bi as re,S as xe,O as k}from"./index.16919424.js";var ae=Symbol("OverflowContextProviderKey"),Y=$({name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup:function(e,a){var t=a.slots;return we(ae,f(function(){return e.value})),function(){var n;return(n=t.default)===null||n===void 0?void 0:n.call(t)}}}),Ce=function(){return Oe(ae,f(function(){return null}))},_e=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},E=void 0,V=$({name:"Item",props:{prefixCls:String,item:K.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:K.any,invalidate:Boolean},setup:function(e,a){var t=a.slots,n=a.expose,d=f(function(){return e.responsive&&!e.display}),S=_();n({itemNodeRef:S});function s(c){e.registerSize(e.itemKey,c)}return he(function(){s(null)}),function(){var c,I=e.prefixCls,y=e.invalidate,w=e.item,g=e.renderItem,R=e.responsive;e.registerSize,e.itemKey,e.display;var h=e.order,p=e.component,P=p===void 0?"div":p,M=_e(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),N=(c=t.default)===null||c===void 0?void 0:c.call(t),T=g&&w!==E?g(w):N,D;y||(D={opacity:d.value?0:1,height:d.value?0:E,overflowY:d.value?"hidden":E,order:R?h:E,pointerEvents:d.value?"none":E,position:d.value?"absolute":E});var x={};return d.value&&(x["aria-hidden"]=!0),m(re,{disabled:!R,onResize:function(z){var G=z.offsetWidth;s(G)}},{default:function(){return m(P,v(v(v({class:q(!y&&I),style:D},x),M),{},{ref:S}),{default:function(){return[T]}})}})}}}),X=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},Re=$({name:"RawItem",inheritAttrs:!1,props:{component:K.any,title:K.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function}},setup:function(e,a){var t=a.slots,n=a.attrs,d=Ce();return function(){var S;if(!d.value){var s=e.component,c=s===void 0?"div":s,I=X(e,["component"]);return m(c,v(v({},I),n),{default:function(){return[(S=t.default)===null||S===void 0?void 0:S.call(t)]}})}var y=d.value,w=y.className,g=X(y,["className"]),R=n.class,h=X(n,["class"]);return m(Y,{value:null},{default:function(){return[m(V,v(v(v({class:q(w,R)},g),h),e),t)]}})}}}),Ne=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},ue="responsive",le="invalidate";function pe(r){return"+ ".concat(r.length," ...")}var Ie=function(){return{id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:K.any,component:String,itemComponent:K.any,onVisibleChange:Function,ssr:String,onMousedown:Function}},B=$({name:"Overflow",inheritAttrs:!1,props:Ie(),emits:["visibleChange"],setup:function(e,a){var t=a.attrs,n=a.emit,d=f(function(){return e.ssr==="full"}),S=_(null),s=f(function(){return S.value||0}),c=_(new Map),I=_(0),y=_(0),w=_(0),g=_(null),R=_(null),h=f(function(){return R.value===null&&d.value?Number.MAX_SAFE_INTEGER:R.value||0}),p=_(!1),P=f(function(){return"".concat(e.prefixCls,"-item")}),M=f(function(){return Math.max(I.value,y.value)}),N=f(function(){return!!(e.data.length&&e.maxCount===ue)}),T=f(function(){return e.maxCount===le}),D=f(function(){return N.value||typeof e.maxCount=="number"&&e.data.length>e.maxCount}),x=f(function(){var u=e.data;return N.value?S.value===null&&d.value?u=e.data:u=e.data.slice(0,Math.min(e.data.length,s.value/e.itemWidth)):typeof e.maxCount=="number"&&(u=e.data.slice(0,e.maxCount)),u}),j=f(function(){return N.value?e.data.slice(h.value+1):e.data.slice(x.value.length)}),z=function(l,i){var o,C;return typeof e.itemKey=="function"?e.itemKey(l):(C=e.itemKey&&((o=l)===null||o===void 0?void 0:o[e.itemKey]))!==null&&C!==void 0?C:i},G=f(function(){return e.renderItem||function(u){return u}}),W=function(l,i){R.value=l,i||(p.value=l<e.data.length-1,n("visibleChange",l))},ie=function(l,i){S.value=i.clientWidth},J=function(l,i){var o=new Map(c.value);i===null?o.delete(l):o.set(l,i),c.value=o},oe=function(l,i){I.value=y.value,y.value=i},ve=function(l,i){w.value=i},H=function(l){return c.value.get(z(x.value[l],l))};return xe([s,c,y,w,function(){return e.itemKey},x],function(){if(s.value&&M.value&&x.value){var u=w.value,l=x.value.length,i=l-1;if(!l){W(0),g.value=null;return}for(var o=0;o<l;o+=1){var C=H(o);if(C===void 0){W(o-1,!0);break}if(u+=C,i===0&&u<=s.value||o===i-1&&u+H(i)<=s.value){W(i),g.value=null;break}else if(u+M.value>s.value){W(o-1),g.value=u-C-w.value+y.value;break}}e.suffix&&H(0)+w.value>s.value&&(g.value=null)}}),function(){var u=p.value&&!!j.value.length,l=e.itemComponent,i=e.renderRawItem,o=e.renderRawRest,C=e.renderRest,Q=e.prefixCls,fe=Q===void 0?"rc-overflow":Q,Z=e.suffix,ee=e.component,se=ee===void 0?"div":ee,de=e.id,ce=e.onMousedown,me=t.class,ye=t.style,ge=Ne(t,["class","style"]),te={};g.value!==null&&N.value&&(te={position:"absolute",left:"".concat(g.value,"px"),top:0});var A={prefixCls:P.value,responsive:N.value,component:l,invalidate:T.value},be=i?function(O,b){var F=z(O,b);return m(Y,{key:F,value:k(k({},A),{order:b,item:O,itemKey:F,registerSize:J,display:b<=h.value})},{default:function(){return[i(O,b)]}})}:function(O,b){var F=z(O,b);return m(V,v(v({},A),{},{order:b,key:F,item:O,renderItem:G.value,itemKey:F,registerSize:J,display:b<=h.value}),null)},L=function(){return null},ne={order:u?h.value:Number.MAX_SAFE_INTEGER,className:"".concat(P.value," ").concat(P.value,"-rest"),registerSize:oe,display:u};if(o)o&&(L=function(){return m(Y,{value:k(k({},A),ne)},{default:function(){return[o(j.value)]}})});else{var U=C||pe;L=function(){return m(V,v(v({},A),ne),{default:function(){return typeof U=="function"?U(j.value):U}})}}var Se=function(){return m(se,v({id:de,class:q(!T.value&&fe,me),style:ye,onMousedown:ce},ge),{default:function(){return[x.value.map(be),D.value?L():null,Z&&m(V,v(v({},A),{},{order:h.value,class:"".concat(P.value,"-suffix"),registerSize:ve,display:!0,style:te}),{default:function(){return Z}})]}})};return m(re,{disabled:!N.value,onResize:ie},{default:Se})}}});B.Item=Re;B.RESPONSIVE=ue;B.INVALIDATE=le;var Fe=B;export{Fe as O};
