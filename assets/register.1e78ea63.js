import{d as A,r as E,j as g,u as x,b0 as K,o as P,L as U,M as l,a as u,w as o,k as s,b_ as d,b as $,cQ as I,I as q,B as z,bh as S,bi as V,_ as j}from"./index.471dd628.js";/* empty css              *//* empty css               */import{_ as R,F as Z}from"./Form.9c160e05.js";import{_ as L}from"./Password.1bba7c26.js";import"./Col.09f21538.js";import"./responsiveObserve.d53c7fd2.js";import"./useFlexGapSupport.57bd0a05.js";import"./toArray.a705e64c.js";import"./get.bc547d94.js";import"./_baseGet.1142411f.js";import"./toString.4f5575a3.js";import"./_arrayMap.dc1f124f.js";import"./_flatRest.ae8a6a39.js";import"./toInteger.19e5456f.js";import"./toFinite.185a8c00.js";import"./_arrayIncludesWith.40afec22.js";import"./collapseMotion.18ffd1c5.js";import"./EyeOutlined.2f12ad7c.js";const c=m=>(S("data-v-4048c559"),m=m(),V(),m),M={class:"register-container"},Q={class:"main"},T=c(()=>l("span",{class:"i-icon-park-outline-user-business",style:{color:"rgba(0,0,0,.25)"}},null,-1)),G=c(()=>l("span",{class:"i-icon-park-outline-user",style:{color:"rgba(0,0,0,.25)"}},null,-1)),H=c(()=>l("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),J=c(()=>l("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),O=c(()=>l("span",{class:"i-icon-park-outline-phone-telephone",style:{color:"rgba(0,0,0,.25)"}},null,-1)),W=c(()=>l("span",{class:"i-icon-park-outline-mail",style:{color:"rgba(0,0,0,.25)"}},null,-1)),X=A({__name:"register",setup(m){const _=E(),F=g("$axios"),f=g("$msg"),B=x(),r=K({userName:"",nickName:"",password:"",rePassword:"",mobile:"",email:""}),y=E(!1),v={userName:[{required:!0,validator:C,trigger:"blur"}],nickName:[{required:!0,validator:D,trigger:"blur"}],password:[{required:!0,validator:h,trigger:"blur"}],rePassword:[{required:Boolean(r.password),validator:b,trigger:"blur"}]};async function C(t,e=""){const p=/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/;if(e)if(p.test(e)){if(e==="admin")throw new Error("\u7528\u6237\u540D\u7981\u6B62\u4F7F\u7528admin")}else throw new Error("\u7528\u6237\u540D\u75315-16\u4F4D\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u7EC4\u6210\uFF0C\u4E14\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934");else throw new Error("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A")}async function D(t,e=""){if(e){if(e.trim()!==e)throw new Error("\u5F00\u5934\u548C\u7ED3\u5C3E\u4E0D\u80FD\u5305\u542B\u7A7A\u683C");if(e.length>30)throw new Error("\u6635\u79F0\u4E0D\u80FD\u8D85\u8FC730\u5B57\u7B26")}else throw new Error("\u6635\u79F0\u4E0D\u80FD\u4E3A\u7A7A")}async function h(t,e=""){if(e){if(e.length<8)throw new Error("\u5BC6\u7801\u4E0D\u80FD\u5C11\u4E8E8\u4F4D");if(e.length>32)throw new Error("\u5BC6\u7801\u4E0D\u80FD\u591A\u4E8E32\u4F4D");r.rePassword&&_.value.validateFields("rePassword")}else throw new Error("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")}async function b(t,e=""){if(e!==r.password)throw new Error("\u4E24\u6B21\u5BC6\u7801\u5185\u5BB9\u4E0D\u4E00\u81F4")}async function n(){try{await _.value.validateFields();const t=(await F.post(F.$apiBase+"/auth/register",{userName:r.userName,nickName:r.nickName,password:r.password,mobile:r.mobile,email:r.email})).data;t.success?(f.success("\u6CE8\u518C\u6210\u529F\uFF0C\u8BF7\u7B49\u5F85\u7BA1\u7406\u5458\u5BA1\u6838"),await B.push("/")):f.error(`\u6CE8\u518C\u5931\u8D25\uFF0C${t.message}`)}catch{}}return(t,e)=>{const p=q,i=R,w=L,k=z,N=Z;return P(),U("div",M,[l("div",Q,[u(N,I({wrapperCol:{span:24}},{ref_key:"registerForm",ref:_,layout:"horizontal",model:s(r),rules:v}),{default:o(()=>[u(i,{name:"nickName"},{default:o(()=>[u(p,{value:s(r).nickName,"onUpdate:value":e[0]||(e[0]=a=>s(r).nickName=a),placeholder:"\u6635\u79F0",onKeypress:d(n,["enter"])},{prefix:o(()=>[T]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"userName"},{default:o(()=>[u(p,{value:s(r).userName,"onUpdate:value":e[1]||(e[1]=a=>s(r).userName=a),placeholder:"\u7528\u6237\u540D",onKeypress:d(n,["enter"])},{prefix:o(()=>[G]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"password"},{default:o(()=>[u(w,{value:s(r).password,"onUpdate:value":e[2]||(e[2]=a=>s(r).password=a),placeholder:"\u5BC6\u7801",onKeypress:d(n,["enter"])},{prefix:o(()=>[H]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"rePassword"},{default:o(()=>[u(w,{value:s(r).rePassword,"onUpdate:value":e[3]||(e[3]=a=>s(r).rePassword=a),placeholder:"\u518D\u6B21\u8F93\u5165\u5BC6\u7801",onKeypress:d(n,["enter"])},{prefix:o(()=>[J]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"mobile"},{default:o(()=>[u(p,{value:s(r).mobile,"onUpdate:value":e[4]||(e[4]=a=>s(r).mobile=a),placeholder:"\u624B\u673A\u53F7\uFF08\u53EF\u9009\uFF09",onKeypress:d(n,["enter"])},{prefix:o(()=>[O]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"email"},{default:o(()=>[u(p,{value:s(r).email,"onUpdate:value":e[5]||(e[5]=a=>s(r).email=a),placeholder:"\u90AE\u7BB1\uFF08\u53EF\u9009\uFF09",onKeypress:d(n,["enter"])},{prefix:o(()=>[W]),_:1},8,["value","onKeypress"])]),_:1}),u(i,null,{default:o(()=>[u(k,{type:"primary",block:"",loading:s(y),onClick:n},{default:o(()=>[$(" \u6CE8\u518C ")]),_:1},8,["loading"])]),_:1})]),_:1},16,["model"])])])}}});const Ee=j(X,[["__scopeId","data-v-4048c559"]]);export{Ee as default};
