import{f as re,cP as le,c4 as se,cQ as q,cR as Y,c0 as ne,cb as oe,cc as ie,i as ue,C as x,_ as D,F as H,I as J,H as Q,bw as ce,t as d,m as P,v as fe,b8 as M,aa as W,J as A,a0 as N,a1 as Z,u as g,L as T,N as B,ap as k,ab as ve,P as me,ac as de,q as pe,K as V,X as K,T as he,l as be,D as L,bR as F,w as G,bx as ye,aN as U,E as ge,aE as Se,o as we,aF as _e,G as ze,aj as Ee,a3 as Re,R as Pe,a7 as Ce}from"./index-P7-E4CKY.js";import{ae as j}from"./Router-3jNK0l-Z.js";import{h as Le}from"./hasIn-1uz0T_Dn.js";var Ae=1,Te=2;function He(e,t,r,l){var o=r.length,c=o,p=!l;if(e==null)return!c;for(e=Object(e);o--;){var u=r[o];if(p&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<c;){u=r[o];var n=u[0],m=e[n],h=u[1];if(p&&u[2]){if(m===void 0&&!(n in e))return!1}else{var s=new re;if(l)var i=l(m,h,n,e,t,s);if(!(i===void 0?j(h,m,Ae|Te,l,s):i))return!1}}return!0}function ee(e){return e===e&&!le(e)}function Oe(e){for(var t=se(e),r=t.length;r--;){var l=t[r],o=e[l];t[r]=[l,o,ee(o)]}return t}function te(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function Me(e){var t=Oe(e);return t.length==1&&t[0][2]?te(t[0][0],t[0][1]):function(r){return r===e||He(r,e,t)}}var Ne=1,Be=2;function ke(e,t){return q(e)&&ee(t)?te(Y(e),t):function(r){var l=ne(r,e);return l===void 0&&l===t?Le(r,e):j(t,l,Ne|Be)}}function xe(e){return function(t){return t==null?void 0:t[e]}}function De(e){return function(t){return oe(t,e)}}function $e(e){return q(e)?xe(Y(e)):De(e)}function rt(e){return typeof e=="function"?e:e==null?ie:typeof e=="object"?ue(e)?ke(e[0],e[1]):Me(e):$e(e)}const R=4,Ie={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},We=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),$=Symbol("scrollbarContextKey"),Ke=x({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Fe="Thumb",Ge=H({__name:"thumb",props:Ke,setup(e){const t=e,r=J($),l=Q("scrollbar");r||ce(Fe,"can not inject scrollbar context");const o=d(),c=d(),p=d({}),u=d(!1);let n=!1,m=!1,h=pe?document.onselectstart:null;const s=P(()=>Ie[t.vertical?"vertical":"horizontal"]),i=P(()=>We({size:t.size,move:t.move,bar:s.value})),b=P(()=>o.value[s.value.offset]**2/r.wrapElement[s.value.scrollSize]/t.ratio/c.value[s.value.offset]),y=v=>{var w;if(v.stopPropagation(),v.ctrlKey||[1,2].includes(v.button))return;(w=window.getSelection())==null||w.removeAllRanges(),z(v);const E=v.currentTarget;E&&(p.value[s.value.axis]=E[s.value.offset]-(v[s.value.client]-E.getBoundingClientRect()[s.value.direction]))},_=v=>{if(!c.value||!o.value||!r.wrapElement)return;const w=Math.abs(v.target.getBoundingClientRect()[s.value.direction]-v[s.value.client]),E=c.value[s.value.offset]/2,O=(w-E)*100*b.value/o.value[s.value.offset];r.wrapElement[s.value.scroll]=O*r.wrapElement[s.value.scrollSize]/100},z=v=>{v.stopImmediatePropagation(),n=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",f),h=document.onselectstart,document.onselectstart=()=>!1},S=v=>{if(!o.value||!c.value||n===!1)return;const w=p.value[s.value.axis];if(!w)return;const E=(o.value.getBoundingClientRect()[s.value.direction]-v[s.value.client])*-1,O=c.value[s.value.offset]-w,ae=(E-O)*100*b.value/o.value[s.value.offset];r.wrapElement[s.value.scroll]=ae*r.wrapElement[s.value.scrollSize]/100},f=()=>{n=!1,p.value[s.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",f),I(),m&&(u.value=!1)},a=()=>{m=!1,u.value=!!t.size},C=()=>{m=!0,u.value=n};fe(()=>{I(),document.removeEventListener("mouseup",f)});const I=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return M(W(r,"scrollbarElement"),"mousemove",a),M(W(r,"scrollbarElement"),"mouseleave",C),(v,w)=>(A(),N(de,{name:g(l).b("fade"),persisted:""},{default:Z(()=>[me(k("div",{ref_key:"instance",ref:o,class:T([g(l).e("bar"),g(l).is(g(s).key)]),onMousedown:_},[k("div",{ref_key:"thumb",ref:c,class:T(g(l).e("thumb")),style:B(g(i)),onMousedown:y},null,38)],34),[[ve,v.always||u.value]])]),_:1},8,["name"]))}});var X=D(Ge,[["__file","thumb.vue"]]);const Ue=x({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Xe=H({__name:"bar",props:Ue,setup(e,{expose:t}){const r=e,l=J($),o=d(0),c=d(0),p=d(""),u=d(""),n=d(1),m=d(1);return t({handleScroll:i=>{if(i){const b=i.offsetHeight-R,y=i.offsetWidth-R;c.value=i.scrollTop*100/b*n.value,o.value=i.scrollLeft*100/y*m.value}},update:()=>{const i=l==null?void 0:l.wrapElement;if(!i)return;const b=i.offsetHeight-R,y=i.offsetWidth-R,_=b**2/i.scrollHeight,z=y**2/i.scrollWidth,S=Math.max(_,r.minSize),f=Math.max(z,r.minSize);n.value=_/(b-_)/(S/(b-S)),m.value=z/(y-z)/(f/(y-f)),u.value=S+R<b?`${S}px`:"",p.value=f+R<y?`${f}px`:""}}),(i,b)=>(A(),V(he,null,[K(X,{move:o.value,ratio:m.value,size:p.value,always:i.always},null,8,["move","ratio","size","always"]),K(X,{move:c.value,ratio:n.value,size:u.value,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))}});var qe=D(Xe,[["__file","bar.vue"]]);const Ye=x({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:be([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),Je={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(L)},Qe="ElScrollbar",Ze=H({name:Qe}),Ve=H({...Ze,props:Ye,emits:Je,setup(e,{expose:t,emit:r}){const l=e,o=Q("scrollbar");let c,p;const u=d(),n=d(),m=d(),h=d(),s=P(()=>{const a={};return l.height&&(a.height=F(l.height)),l.maxHeight&&(a.maxHeight=F(l.maxHeight)),[l.wrapStyle,a]}),i=P(()=>[l.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!l.native}]),b=P(()=>[o.e("view"),l.viewClass]),y=()=>{var a;n.value&&((a=h.value)==null||a.handleScroll(n.value),r("scroll",{scrollTop:n.value.scrollTop,scrollLeft:n.value.scrollLeft}))};function _(a,C){Pe(a)?n.value.scrollTo(a):L(a)&&L(C)&&n.value.scrollTo(a,C)}const z=a=>{L(a)&&(n.value.scrollTop=a)},S=a=>{L(a)&&(n.value.scrollLeft=a)},f=()=>{var a;(a=h.value)==null||a.update()};return G(()=>l.noresize,a=>{a?(c==null||c(),p==null||p()):({stop:c}=ye(m,f),p=M("resize",f))},{immediate:!0}),G(()=>[l.maxHeight,l.height],()=>{l.native||U(()=>{var a;f(),n.value&&((a=h.value)==null||a.handleScroll(n.value))})}),ge($,Se({scrollbarElement:u,wrapElement:n})),we(()=>{l.native||U(()=>{f()})}),_e(()=>f()),t({wrapRef:n,update:f,scrollTo:_,setScrollTop:z,setScrollLeft:S,handleScroll:y}),(a,C)=>(A(),V("div",{ref_key:"scrollbarRef",ref:u,class:T(g(o).b())},[k("div",{ref_key:"wrapRef",ref:n,class:T(g(i)),style:B(g(s)),onScroll:y},[(A(),N(Ee(a.tag),{id:a.id,ref_key:"resizeRef",ref:m,class:T(g(b)),style:B(a.viewStyle),role:a.role,"aria-label":a.ariaLabel,"aria-orientation":a.ariaOrientation},{default:Z(()=>[ze(a.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),a.native?Re("v-if",!0):(A(),N(qe,{key:0,ref_key:"barRef",ref:h,always:a.always,"min-size":a.minSize},null,8,["always","min-size"]))],2))}});var je=D(Ve,[["__file","scrollbar.vue"]]);const lt=Ce(je);export{Ie as B,lt as E,rt as a,xe as b};
