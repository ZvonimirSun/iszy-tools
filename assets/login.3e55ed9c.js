import{d as C,r as n,cR as I,u as K,cS as S,j as q,m as z,o as E,J as R,K as u,a as t,w as s,b$ as y,b as h,cT as T,I as V,B as $,S as j,T as D,_ as Q}from"./index.bbc49104.js";/* empty css              *//* empty css               */import{_ as U}from"./FormItem.3464d0f1.js";import{_ as J}from"./Password.4eda3fca.js";import{F as L}from"./Form.5160b8fe.js";import"./Col.2e3c8649.js";import"./responsiveObserve.b50b6281.js";import"./useFlexGapSupport.d7f58804.js";import"./toArray.691daed4.js";import"./get.93394aca.js";import"./hasIn.a44f9487.js";import"./toInteger.90e31492.js";import"./toFinite.80e0d582.js";import"./_baseFindIndex.10ef1a58.js";import"./collapseMotion.6b35f1ec.js";import"./EyeOutlined.68921e85.js";import"./_arrayIncludesWith.91d14080.js";const w=a=>(j("data-v-6070680a"),a=a(),D(),a),O={class:"login-container"},P={class:"main"},A=w(()=>u("span",{class:"i-icon-park-outline-user",style:{color:"rgba(0,0,0,.25)"}},null,-1)),G=w(()=>u("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),H={class:"btn-wrapper"},M=C({__name:"login",setup(a){const o=n({userName:"",password:""}),m=n(),f=n({}),i=n(!1),B=I(),v=K(),F=S(),l=q("$msg");z(F,function(r){const e=r.query;e&&(typeof e.redirect=="string"&&(m.value=e.redirect),f.value=k(e))},{immediate:!0});async function p(){if(!navigator.onLine){l.warn("\u5DF2\u79BB\u7EBF\uFF01");return}if(o.value.userName!=null&&o.value.password!=null){i.value=!0;try{await B.dispatch("user/login",{userName:o.value.userName,password:o.value.password}),l.success("\u767B\u5F55\u6210\u529F\uFF01"),v.push({path:m.value||"/",query:f.value})}catch(r){r instanceof Error&&l.error(r.message)}i.value=!1}}function k(r){const{redirect:e,...c}=r;return c}function x(){v.push("/register")}return(r,e)=>{const c=V,_=U,N=J,g=$,b=L;return E(),R("div",O,[u("div",P,[t(b,T({layout:"horizontal",model:o.value},{wrapperCol:{span:24}}),{default:s(()=>[t(_,{required:""},{default:s(()=>[t(c,{value:o.value.userName,"onUpdate:value":e[0]||(e[0]=d=>o.value.userName=d),placeholder:"\u8D26\u6237",size:"large",onKeypress:y(p,["enter"])},{prefix:s(()=>[A]),_:1},8,["value","onKeypress"])]),_:1}),t(_,{required:""},{default:s(()=>[t(N,{value:o.value.password,"onUpdate:value":e[1]||(e[1]=d=>o.value.password=d),placeholder:"\u5BC6\u7801",size:"large",onKeypress:y(p,["enter"])},{prefix:s(()=>[G]),_:1},8,["value","onKeypress"])]),_:1}),t(_,null,{default:s(()=>[u("div",H,[t(g,{type:"primary",block:"",size:"large",loading:i.value,onClick:p},{default:s(()=>[h(" \u767B\u5F55 ")]),_:1},8,["loading"]),t(g,{block:"",size:"large",onClick:x},{default:s(()=>[h(" \u6CE8\u518C ")]),_:1})])]),_:1})]),_:1},16,["model"])])])}}});const me=Q(M,[["__scopeId","data-v-6070680a"]]);export{me as default};
