import"./index-7b458e4d.js";import{n as V,D as u,ab as U,q as C,o as r,r as m,f as l,w as n,g as i,v as o,e as f,z as p,F as z,L as F,s as L,a8 as N,G as d,E as D,H as I,_ as P}from"./index.js";import{E as S}from"./el-space-2b811da9.js";import{E as T}from"./el-upload-faff5e65.js";import"./el-progress-00563754.js";import{_ as W}from"./Title-ec9955d3.js";import"./ResizeObserver.es-0f9f8adb.js";import"./isEqual-62aeb03d.js";import"./vite-8235fac6.js";const A={class:"wrapper"},H=["src"],$=V({__name:"imageBase64",setup(j){const e=u(""),h=U("$axios"),c=u(),s=u({width:"",height:""}),g=C(()=>e.value&&(e.value.startsWith("http://")||e.value.startsWith("https://")));function v(a){const t=new FileReader;return t.onloadend=()=>{e.value=t.result},t.readAsDataURL(a),!1}async function w(){try{await window.navigator.clipboard.writeText(e.value),d.success("复制成功")}catch(a){d.error(a==null?void 0:a.message)}}async function y(){try{const a=await h.get(e.value,{responseType:"blob"}),t=new FileReader;t.onloadend=()=>{e.value=t.result},t.readAsDataURL(a.data)}catch(a){d.error(a==null?void 0:a.message)}}function x(){s.value.height=c.value.naturalHeight+"px",s.value.width=c.value.naturalWidth+"px"}return(a,t)=>{const _=D,B=T,b=S,k=I,E=W;return r(),m("div",A,[l(b,null,{default:n(()=>[l(B,{"file-list":[],"show-file-list":!1,accept:"image/*","before-upload":v},{default:n(()=>[l(_,{type:"primary"},{default:n(()=>[i(" 点击上传图片 ")]),_:1})]),_:1}),o(g)?(r(),f(_,{key:0,onClick:y},{default:n(()=>[i(" 转换为Base64 ")]),_:1})):p("",!0),o(e)?(r(),f(_,{key:1,onClick:w},{default:n(()=>[i(" 复制内容 ")]),_:1})):p("",!0)]),_:1}),l(k,{modelValue:o(e),"onUpdate:modelValue":t[0]||(t[0]=R=>z(e)?e.value=R:null),type:"textarea","allow-clear":"",autosize:{minRows:5,maxRows:10},placeholder:"请输入 图片地址 或 Base64格式的图片"},null,8,["modelValue"]),o(e)?(r(),m(F,{key:0},[l(E,{level:4},{default:n(()=>[i(" 预览 ")]),_:1}),L("img",{ref_key:"imgPreview",ref:c,class:"preview",src:o(e),alt:"preview",style:N({width:o(s).width?o(s).width:"",height:o(s).height?o(s).height:""}),onLoad:x},null,44,H)],64)):p("",!0)])}}});const Z=P($,[["__scopeId","data-v-3ba772c0"]]);export{Z as default};
