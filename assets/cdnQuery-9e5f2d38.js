import{p as ge,q as je,o as K,f as oe,w as G,v as zt,bE as dr,di as lr,x as P,bc as fr,C as Xe,cF as ut,a5 as hr,aT as pr,ac as Me,aN as St,au as ze,F as Z,c$ as ot,cZ as mr,ao as gr,bS as vr,K as he,ai as ct,dj as yr,aR as Ee,$ as dt,a0 as lt,s as F,t as z,z as br,y as me,aS as Ce,A as Y,g as U,a9 as kr,M as fe,N as Be,ak as mt,bB as Nr,ay as Cr,a8 as Ot,W as Ft,an as wr,aJ as Er,as as we,bR as xr,aO as Dr,r as Fe,bK as Tr,B as re,a7 as _r,aZ as Ir,J as Sr,a4 as Or,h as ne,G as Pt,dk as Pr,H as jr,aW as jt,I as Ar,O as qr,P as Kr,d as Rr}from"./index.js";import{E as $r}from"./el-checkbox-f642c5ea.js";import{u as gt,h as At,j as qt,c as Ut,a as Oe,k as Br,l as Lr,P as Kt,C as Mr,T as zr}from"./index-852b4aa9.js";import"./el-tag-1d085a2f.js";import{E as Fr,a as Ur}from"./el-select-96a896ca.js";import"./el-scrollbar-e88d9e52.js";import"./el-popper-66ed4f9c.js";import{E as Hr}from"./el-pagination-b34f0fdb.js";import{E as Wr}from"./el-divider-66993001.js";import"./index-f73fab48.js";import{_ as Jr}from"./Link-377f1bb4.js";import{_ as Qr}from"./Paragraph-cc030132.js";import{_ as Vr}from"./Title-7ddcb60e.js";import{_ as Gr}from"./Text-ce75cca8.js";import"./isEqual-ac423b5b.js";import"./hasIn-c0303111.js";import"./ResizeObserver.es-0f9f8adb.js";import"./index-f0cb3f64.js";import"./strings-98730f23.js";import"./toFinite-0e801d2e.js";import"./isUndefined-aa0326a0.js";const Xr=ge({name:"ElCollapseTransition"}),Yr=ge({...Xr,setup(o){const n=je("collapse-transition"),i=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},u={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){t.dataset.oldOverflow=t.style.overflow,t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){i(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){i(t)},leaveCancelled(t){i(t)}};return(t,d)=>(K(),oe(fr,dr({name:P(n).b()},lr(u)),{default:G(()=>[zt(t.$slots,"default")]),_:3},16,["name"]))}});var Qe=Xe(Yr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);Qe.install=o=>{o.component(Qe.name,Qe)};const Zr=Qe,Pe="$treeNodeId",Rt=function(o,n){!n||n[Pe]||Object.defineProperty(n,Pe,{value:o.id,enumerable:!1,configurable:!1,writable:!1})},vt=function(o,n){return o?n[o]:n[Pe]},ft=(o,n,i)=>{const u=o.value.currentNode;i();const t=o.value.currentNode;u!==t&&n("current-change",t?t.data:null,t)},ht=o=>{let n=!0,i=!0,u=!0;for(let t=0,d=o.length;t<d;t++){const m=o[t];(m.checked!==!0||m.indeterminate)&&(n=!1,m.disabled||(u=!1)),(m.checked!==!1||m.indeterminate)&&(i=!1)}return{all:n,none:i,allWithoutDisable:u,half:!n&&!i}},Ve=function(o){if(o.childNodes.length===0||o.loading)return;const{all:n,none:i,half:u}=ht(o.childNodes);n?(o.checked=!0,o.indeterminate=!1):u?(o.checked=!1,o.indeterminate=!0):i&&(o.checked=!1,o.indeterminate=!1);const t=o.parent;!t||t.level===0||o.store.checkStrictly||Ve(t)},We=function(o,n){const i=o.store.props,u=o.data||{},t=i[n];if(typeof t=="function")return t(u,o);if(typeof t=="string")return u[t];if(typeof t>"u"){const d=u[n];return d===void 0?"":d}};let ea=0;class xe{constructor(n){this.id=ea++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in n)ut(n,i)&&(this[i]=n[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const i=n.props;if(i&&typeof i.isLeaf<"u"){const d=We(this,"isLeaf");typeof d=="boolean"&&(this.isLeafByUser=d)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Rt(this,this.data),!this.data)return;const u=n.defaultExpandedKeys,t=n.key;t&&u&&u.includes(this.key)&&this.expand(null,n.autoExpandParent),t&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||Rt(this,n),this.data=n,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=We(this,"children")||[];for(let u=0,t=i.length;u<t;u++)this.insertChild({data:i[u]})}get label(){return We(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return We(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return n.childNodes[i+1]}return null}get previousSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return i>0?n.childNodes[i-1]:null}return null}contains(n,i=!0){return(this.childNodes||[]).some(u=>u===n||i&&u.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,i,u){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof xe)){if(!u){const t=this.getChildren(!0);t.includes(n.data)||(typeof i>"u"||i<0?t.push(n.data):t.splice(i,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=hr(new xe(n)),n instanceof xe&&n.initialize()}n.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(n):this.childNodes.splice(i,0,n),this.updateLeafState()}insertBefore(n,i){let u;i&&(u=this.childNodes.indexOf(i)),this.insertChild(n,u)}insertAfter(n,i){let u;i&&(u=this.childNodes.indexOf(i),u!==-1&&(u+=1)),this.insertChild(n,u)}removeChild(n){const i=this.getChildren()||[],u=i.indexOf(n.data);u>-1&&i.splice(u,1);const t=this.childNodes.indexOf(n);t>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(n){let i=null;for(let u=0;u<this.childNodes.length;u++)if(this.childNodes[u].data===n){i=this.childNodes[u];break}i&&this.removeChild(i)}expand(n,i){const u=()=>{if(i){let t=this.parent;for(;t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(t=>{t.canFocus=!0})};this.shouldLoadData()?this.loadData(t=>{Array.isArray(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Ve(this),u())}):u()}doCreateChildren(n,i={}){n.forEach(u=>{this.insertChild(Object.assign({data:u},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,i,u,t){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:m,allWithoutDisable:p}=ht(this.childNodes);!this.isLeaf&&!m&&p&&(this.checked=!1,n=!1);const j=()=>{if(i){const v=this.childNodes;for(let g=0,f=v.length;g<f;g++){const R=v[g];t=t||n!==!1;const M=R.disabled?R.checked:t;R.setChecked(M,i,!0,t)}const{half:_,all:C}=ht(v);C||(this.checked=C,this.indeterminate=_)}};if(this.shouldLoadData()){this.loadData(()=>{j(),Ve(this)},{checked:n!==!1});return}else j()}const d=this.parent;!d||d.level===0||u||Ve(d)}getChildren(n=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const u=this.store.props;let t="children";return u&&(t=u.children||"children"),i[t]===void 0&&(i[t]=null),n&&!i[t]&&(i[t]=[]),i[t]}updateChildren(){const n=this.getChildren()||[],i=this.childNodes.map(d=>d.data),u={},t=[];n.forEach((d,m)=>{const p=d[Pe];!!p&&i.findIndex(v=>v[Pe]===p)>=0?u[p]={index:m,data:d}:t.push({index:m,data:d})}),this.store.lazy||i.forEach(d=>{u[d[Pe]]||this.removeChildByData(d)}),t.forEach(({index:d,data:m})=>{this.insertChild({data:m},d)}),this.updateLeafState()}loadData(n,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const u=t=>{this.childNodes=[],this.doCreateChildren(t,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,t)};this.store.load(this,u)}else n&&n.call(this)}}class ta{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const i in n)ut(n,i)&&(this[i]=n[i]);this.nodesMap={}}initialize(){if(this.root=new xe({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const i=this.filterNodeMethod,u=this.lazy,t=function(d){const m=d.root?d.root.childNodes:d.childNodes;if(m.forEach(p=>{p.visible=i.call(p,n,p.data,p),t(p)}),!d.visible&&m.length){let p=!0;p=!m.some(j=>j.visible),d.root?d.root.visible=p===!1:d.visible=p===!1}n&&d.visible&&!d.isLeaf&&!u&&d.expand()};t(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof xe)return n;const i=pr(n)?vt(this.key,n):n;return this.nodesMap[i]||null}insertBefore(n,i){const u=this.getNode(i);u.parent.insertBefore({data:n},u)}insertAfter(n,i){const u=this.getNode(i);u.parent.insertAfter({data:n},u)}remove(n){const i=this.getNode(n);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(n,i){const u=i?this.getNode(i):this.root;u&&u.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],i=this.nodesMap;n.forEach(u=>{const t=i[u];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const i=this.key;!n||!n.data||(i?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(u=>{this.deregisterNode(u)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,i=!1){const u=[],t=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(p=>{(p.checked||i&&p.indeterminate)&&(!n||n&&p.isLeaf)&&u.push(p.data),t(p)})};return t(this),u}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const n=[],i=function(u){(u.root?u.root.childNodes:u.childNodes).forEach(d=>{d.indeterminate&&n.push(d.data),i(d)})};return i(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],i=this.nodesMap;for(const u in i)ut(i,u)&&n.push(i[u]);return n}updateChildren(n,i){const u=this.nodesMap[n];if(!u)return;const t=u.childNodes;for(let d=t.length-1;d>=0;d--){const m=t[d];this.remove(m.data)}for(let d=0,m=i.length;d<m;d++){const p=i[d];this.append(p,u.data)}}_setCheckedKeys(n,i=!1,u){const t=this._getAllNodes().sort((p,j)=>j.level-p.level),d=Object.create(null),m=Object.keys(u);t.forEach(p=>p.setChecked(!1,!1));for(let p=0,j=t.length;p<j;p++){const v=t[p],_=v.data[n].toString();if(!m.includes(_)){v.checked&&!d[_]&&v.setChecked(!1,!1);continue}let g=v.parent;for(;g&&g.level>0;)d[g.data[n]]=!0,g=g.parent;if(v.isLeaf||this.checkStrictly){v.setChecked(!0,!1);continue}if(v.setChecked(!0,!0),i){v.setChecked(!1,!1);const f=function(R){R.childNodes.forEach(E=>{E.isLeaf||E.setChecked(!1,!1),f(E)})};f(v)}}}setCheckedNodes(n,i=!1){const u=this.key,t={};n.forEach(d=>{t[(d||{})[u]]=!0}),this._setCheckedKeys(u,i,t)}setCheckedKeys(n,i=!1){this.defaultCheckedKeys=n;const u=this.key,t={};n.forEach(d=>{t[d]=!0}),this._setCheckedKeys(u,i,t)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(i=>{const u=this.getNode(i);u&&u.expand(null,this.autoExpandParent)})}setChecked(n,i,u){const t=this.getNode(n);t&&t.setChecked(!!i,u)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,i=!0){const u=n[this.key],t=this.nodesMap[u];this.setCurrentNode(t),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,i=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const u=this.getNode(n);u&&(this.setCurrentNode(u),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const na=ge({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(o){const n=je("tree"),i=Me("NodeInstance"),u=Me("RootTree");return()=>{const t=o.node,{data:d,store:m}=t;return o.renderContent?o.renderContent(St,{_self:i,node:t,data:d,store:m}):u.ctx.slots.default?u.ctx.slots.default({node:t,data:d}):St("span",{class:n.be("node","label")},[t.label])}}});var ra=Xe(na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function Ht(o){const n=Me("TreeNodeMap",null),i={treeNodeExpand:u=>{o.node!==u&&o.node.collapse()},children:[]};return n&&n.children.push(i),ze("TreeNodeMap",i),{broadcastExpanded:u=>{if(o.accordion)for(const t of i.children)t.treeNodeExpand(u)}}}const Wt=Symbol("dragEvents");function aa({props:o,ctx:n,el$:i,dropIndicator$:u,store:t}){const d=je("tree"),m=Z({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ze(Wt,{treeNodeDragStart:({event:_,treeNode:C})=>{if(typeof o.allowDrag=="function"&&!o.allowDrag(C.node))return _.preventDefault(),!1;_.dataTransfer.effectAllowed="move";try{_.dataTransfer.setData("text/plain","")}catch{}m.value.draggingNode=C,n.emit("node-drag-start",C.node,_)},treeNodeDragOver:({event:_,treeNode:C})=>{const g=C,f=m.value.dropNode;f&&f.node.id!==g.node.id&&ot(f.$el,d.is("drop-inner"));const R=m.value.draggingNode;if(!R||!g)return;let M=!0,E=!0,J=!0,H=!0;typeof o.allowDrop=="function"&&(M=o.allowDrop(R.node,g.node,"prev"),H=E=o.allowDrop(R.node,g.node,"inner"),J=o.allowDrop(R.node,g.node,"next")),_.dataTransfer.dropEffect=E||M||J?"move":"none",(M||E||J)&&(f==null?void 0:f.node.id)!==g.node.id&&(f&&n.emit("node-drag-leave",R.node,f.node,_),n.emit("node-drag-enter",R.node,g.node,_)),(M||E||J)&&(m.value.dropNode=g),g.node.nextSibling===R.node&&(J=!1),g.node.previousSibling===R.node&&(M=!1),g.node.contains(R.node,!1)&&(E=!1),(R.node===g.node||R.node.contains(g.node))&&(M=!1,E=!1,J=!1);const X=g.$el.querySelector(`.${d.be("node","content")}`).getBoundingClientRect(),W=i.value.getBoundingClientRect();let S;const N=M?E?.25:J?.45:1:-1,B=J?E?.75:M?.55:0:1;let Q=-9999;const T=_.clientY-X.top;T<X.height*N?S="before":T>X.height*B?S="after":E?S="inner":S="none";const O=g.$el.querySelector(`.${d.be("node","expand-icon")}`).getBoundingClientRect(),D=u.value;S==="before"?Q=O.top-W.top:S==="after"&&(Q=O.bottom-W.top),D.style.top=`${Q}px`,D.style.left=`${O.right-W.left}px`,S==="inner"?mr(g.$el,d.is("drop-inner")):ot(g.$el,d.is("drop-inner")),m.value.showDropIndicator=S==="before"||S==="after",m.value.allowDrop=m.value.showDropIndicator||H,m.value.dropType=S,n.emit("node-drag-over",R.node,g.node,_)},treeNodeDragEnd:_=>{const{draggingNode:C,dropType:g,dropNode:f}=m.value;if(_.preventDefault(),_.dataTransfer.dropEffect="move",C&&f){const R={data:C.node.data};g!=="none"&&C.node.remove(),g==="before"?f.node.parent.insertBefore(R,f.node):g==="after"?f.node.parent.insertAfter(R,f.node):g==="inner"&&f.node.insertChild(R),g!=="none"&&t.value.registerNode(R),ot(f.$el,d.is("drop-inner")),n.emit("node-drag-end",C.node,f.node,g,_),g!=="none"&&n.emit("node-drop",C.node,f.node,g,_)}C&&!f&&n.emit("node-drag-end",C.node,null,g,_),m.value.showDropIndicator=!1,m.value.draggingNode=null,m.value.dropNode=null,m.value.allowDrop=!0}}),{dragState:m}}const oa=ge({name:"ElTreeNode",components:{ElCollapseTransition:Zr,ElCheckbox:$r,NodeContent:ra,ElIcon:gr,Loading:vr},props:{node:{type:xe,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(o,n){const i=je("tree"),{broadcastExpanded:u}=Ht(o),t=Me("RootTree"),d=Z(!1),m=Z(!1),p=Z(null),j=Z(null),v=Z(null),_=Me(Wt),C=mt();ze("NodeInstance",C),o.node.expanded&&(d.value=!0,m.value=!0);const g=t.props.props.children||"children";he(()=>{const T=o.node.data[g];return T&&[...T]},()=>{o.node.updateChildren()}),he(()=>o.node.indeterminate,T=>{M(o.node.checked,T)}),he(()=>o.node.checked,T=>{M(T,o.node.indeterminate)}),he(()=>o.node.expanded,T=>{ct(()=>d.value=T),T&&(m.value=!0)});const f=T=>vt(t.props.nodeKey,T.data),R=T=>{const O=o.props.class;if(!O)return{};let D;if(Nr(O)){const{data:de}=T;D=O(de,T)}else D=O;return Cr(D)?{[D]:!0}:D},M=(T,O)=>{(p.value!==T||j.value!==O)&&t.ctx.emit("check-change",o.node.data,T,O),p.value=T,j.value=O},E=T=>{ft(t.store,t.ctx.emit,()=>t.store.value.setCurrentNode(o.node)),t.currentNode.value=o.node,t.props.expandOnClickNode&&H(),t.props.checkOnClickNode&&!o.node.disabled&&X(null,{target:{checked:!o.node.checked}}),t.ctx.emit("node-click",o.node.data,o.node,C,T)},J=T=>{t.instance.vnode.props.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),t.ctx.emit("node-contextmenu",T,o.node.data,o.node,C)},H=()=>{o.node.isLeaf||(d.value?(t.ctx.emit("node-collapse",o.node.data,o.node,C),o.node.collapse()):(o.node.expand(),n.emit("node-expand",o.node.data,o.node,C)))},X=(T,O)=>{o.node.setChecked(O.target.checked,!t.props.checkStrictly),ct(()=>{const D=t.store.value;t.ctx.emit("check",o.node.data,{checkedNodes:D.getCheckedNodes(),checkedKeys:D.getCheckedKeys(),halfCheckedNodes:D.getHalfCheckedNodes(),halfCheckedKeys:D.getHalfCheckedKeys()})})};return{ns:i,node$:v,tree:t,expanded:d,childNodeRendered:m,oldChecked:p,oldIndeterminate:j,getNodeKey:f,getNodeClass:R,handleSelectChange:M,handleClick:E,handleContextMenu:J,handleExpandIconClick:H,handleCheckChange:X,handleChildNodeExpand:(T,O,D)=>{u(O),t.ctx.emit("node-expand",T,O,D)},handleDragStart:T=>{t.props.draggable&&_.treeNodeDragStart({event:T,treeNode:o})},handleDragOver:T=>{T.preventDefault(),t.props.draggable&&_.treeNodeDragOver({event:T,treeNode:{$el:v.value,node:o.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{t.props.draggable&&_.treeNodeDragEnd(T)},CaretRight:yr}}}),sa=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],ia=["aria-expanded"];function ua(o,n,i,u,t,d){const m=Ee("el-icon"),p=Ee("el-checkbox"),j=Ee("loading"),v=Ee("node-content"),_=Ee("el-tree-node"),C=Ee("el-collapse-transition");return dt((K(),F("div",{ref:"node$",class:me([o.ns.b("node"),o.ns.is("expanded",o.expanded),o.ns.is("current",o.node.isCurrent),o.ns.is("hidden",!o.node.visible),o.ns.is("focusable",!o.node.disabled),o.ns.is("checked",!o.node.disabled&&o.node.checked),o.getNodeClass(o.node)]),role:"treeitem",tabindex:"-1","aria-expanded":o.expanded,"aria-disabled":o.node.disabled,"aria-checked":o.node.checked,draggable:o.tree.props.draggable,"data-key":o.getNodeKey(o.node),onClick:n[1]||(n[1]=Ce((...g)=>o.handleClick&&o.handleClick(...g),["stop"])),onContextmenu:n[2]||(n[2]=(...g)=>o.handleContextMenu&&o.handleContextMenu(...g)),onDragstart:n[3]||(n[3]=Ce((...g)=>o.handleDragStart&&o.handleDragStart(...g),["stop"])),onDragover:n[4]||(n[4]=Ce((...g)=>o.handleDragOver&&o.handleDragOver(...g),["stop"])),onDragend:n[5]||(n[5]=Ce((...g)=>o.handleDragEnd&&o.handleDragEnd(...g),["stop"])),onDrop:n[6]||(n[6]=Ce((...g)=>o.handleDrop&&o.handleDrop(...g),["stop"]))},[z("div",{class:me(o.ns.be("node","content")),style:kr({paddingLeft:(o.node.level-1)*o.tree.props.indent+"px"})},[o.tree.props.icon||o.CaretRight?(K(),oe(m,{key:0,class:me([o.ns.be("node","expand-icon"),o.ns.is("leaf",o.node.isLeaf),{expanded:!o.node.isLeaf&&o.expanded}]),onClick:Ce(o.handleExpandIconClick,["stop"])},{default:G(()=>[(K(),oe(br(o.tree.props.icon||o.CaretRight)))]),_:1},8,["class","onClick"])):Y("v-if",!0),o.showCheckbox?(K(),oe(p,{key:1,"model-value":o.node.checked,indeterminate:o.node.indeterminate,disabled:!!o.node.disabled,onClick:n[0]||(n[0]=Ce(()=>{},["stop"])),onChange:o.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Y("v-if",!0),o.node.loading?(K(),oe(m,{key:2,class:me([o.ns.be("node","loading-icon"),o.ns.is("loading")])},{default:G(()=>[U(j)]),_:1},8,["class"])):Y("v-if",!0),U(v,{node:o.node,"render-content":o.renderContent},null,8,["node","render-content"])],6),U(C,null,{default:G(()=>[!o.renderAfterExpand||o.childNodeRendered?dt((K(),F("div",{key:0,class:me(o.ns.be("node","children")),role:"group","aria-expanded":o.expanded},[(K(!0),F(fe,null,Be(o.node.childNodes,g=>(K(),oe(_,{key:o.getNodeKey(g),"render-content":o.renderContent,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,node:g,accordion:o.accordion,props:o.props,onNodeExpand:o.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,ia)),[[lt,o.expanded]]):Y("v-if",!0)]),_:1})],42,sa)),[[lt,o.node.visible]])}var ca=Xe(oa,[["render",ua],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function da({el$:o},n){const i=je("tree"),u=Ot([]),t=Ot([]);Ft(()=>{m()}),wr(()=>{u.value=Array.from(o.value.querySelectorAll("[role=treeitem]")),t.value=Array.from(o.value.querySelectorAll("input[type=checkbox]"))}),he(t,p=>{p.forEach(j=>{j.setAttribute("tabindex","-1")})}),Er(o,"keydown",p=>{const j=p.target;if(!j.className.includes(i.b("node")))return;const v=p.code;u.value=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const _=u.value.indexOf(j);let C;if([we.up,we.down].includes(v)){if(p.preventDefault(),v===we.up){C=_===-1?0:_!==0?_-1:u.value.length-1;const f=C;for(;!n.value.getNode(u.value[C].dataset.key).canFocus;){if(C--,C===f){C=-1;break}C<0&&(C=u.value.length-1)}}else{C=_===-1?0:_<u.value.length-1?_+1:0;const f=C;for(;!n.value.getNode(u.value[C].dataset.key).canFocus;){if(C++,C===f){C=-1;break}C>=u.value.length&&(C=0)}}C!==-1&&u.value[C].focus()}[we.left,we.right].includes(v)&&(p.preventDefault(),j.click());const g=j.querySelector('[type="checkbox"]');[we.enter,we.space].includes(v)&&g&&(p.preventDefault(),g.click())});const m=()=>{var p;u.value=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),t.value=Array.from(o.value.querySelectorAll("input[type=checkbox]"));const j=o.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(j.length){j[0].setAttribute("tabindex","0");return}(p=u.value[0])==null||p.setAttribute("tabindex","0")}}const la=ge({name:"ElTree",components:{ElTreeNode:ca},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:xr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(o,n){const{t:i}=Dr(),u=je("tree"),t=Z(new ta({key:o.nodeKey,data:o.data,lazy:o.lazy,props:o.props,load:o.load,currentNodeKey:o.currentNodeKey,checkStrictly:o.checkStrictly,checkDescendants:o.checkDescendants,defaultCheckedKeys:o.defaultCheckedKeys,defaultExpandedKeys:o.defaultExpandedKeys,autoExpandParent:o.autoExpandParent,defaultExpandAll:o.defaultExpandAll,filterNodeMethod:o.filterNodeMethod}));t.value.initialize();const d=Z(t.value.root),m=Z(null),p=Z(null),j=Z(null),{broadcastExpanded:v}=Ht(o),{dragState:_}=aa({props:o,ctx:n,el$:p,dropIndicator$:j,store:t});da({el$:p},t);const C=Fe(()=>{const{childNodes:I}=d.value;return!I||I.length===0||I.every(({visible:w})=>!w)});he(()=>o.currentNodeKey,I=>{t.value.setCurrentNodeKey(I)}),he(()=>o.defaultCheckedKeys,I=>{t.value.setDefaultCheckedKey(I)}),he(()=>o.defaultExpandedKeys,I=>{t.value.setDefaultExpandedKeys(I)}),he(()=>o.data,I=>{t.value.setData(I)},{deep:!0}),he(()=>o.checkStrictly,I=>{t.value.checkStrictly=I});const g=I=>{if(!o.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");t.value.filter(I)},f=I=>vt(o.nodeKey,I.data),R=I=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const w=t.value.getNode(I);if(!w)return[];const ce=[w.data];let le=w.parent;for(;le&&le!==d.value;)ce.push(le.data),le=le.parent;return ce.reverse()},M=(I,w)=>t.value.getCheckedNodes(I,w),E=I=>t.value.getCheckedKeys(I),J=()=>{const I=t.value.getCurrentNode();return I?I.data:null},H=()=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const I=J();return I?I[o.nodeKey]:null},X=(I,w)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");t.value.setCheckedNodes(I,w)},W=(I,w)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");t.value.setCheckedKeys(I,w)},S=(I,w,ce)=>{t.value.setChecked(I,w,ce)},N=()=>t.value.getHalfCheckedNodes(),B=()=>t.value.getHalfCheckedKeys(),Q=(I,w=!0)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");ft(t,n.emit,()=>t.value.setUserCurrentNode(I,w))},T=(I,w=!0)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");ft(t,n.emit,()=>t.value.setCurrentNodeKey(I,w))},O=I=>t.value.getNode(I),D=I=>{t.value.remove(I)},de=(I,w)=>{t.value.append(I,w)},ve=(I,w)=>{t.value.insertBefore(I,w)},ye=(I,w)=>{t.value.insertAfter(I,w)},pe=(I,w,ce)=>{v(w),n.emit("node-expand",I,w,ce)},Ae=(I,w)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");t.value.updateChildren(I,w)};return ze("RootTree",{ctx:n,props:o,store:t,root:d,currentNode:m,instance:mt()}),ze(Tr,void 0),{ns:u,store:t,root:d,currentNode:m,dragState:_,el$:p,dropIndicator$:j,isEmpty:C,filter:g,getNodeKey:f,getNodePath:R,getCheckedNodes:M,getCheckedKeys:E,getCurrentNode:J,getCurrentKey:H,setCheckedNodes:X,setCheckedKeys:W,setChecked:S,getHalfCheckedNodes:N,getHalfCheckedKeys:B,setCurrentNode:Q,setCurrentKey:T,t:i,getNode:O,remove:D,append:de,insertBefore:ve,insertAfter:ye,handleNodeExpand:pe,updateKeyChildren:Ae}}});function fa(o,n,i,u,t,d){const m=Ee("el-tree-node");return K(),F("div",{ref:"el$",class:me([o.ns.b(),o.ns.is("dragging",!!o.dragState.draggingNode),o.ns.is("drop-not-allow",!o.dragState.allowDrop),o.ns.is("drop-inner",o.dragState.dropType==="inner"),{[o.ns.m("highlight-current")]:o.highlightCurrent}]),role:"tree"},[(K(!0),F(fe,null,Be(o.root.childNodes,p=>(K(),oe(m,{key:o.getNodeKey(p),node:p,props:o.props,accordion:o.accordion,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,"render-content":o.renderContent,onNodeExpand:o.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),o.isEmpty?(K(),F("div",{key:0,class:me(o.ns.e("empty-block"))},[zt(o.$slots,"empty",{},()=>{var p;return[z("span",{class:me(o.ns.e("empty-text"))},re((p=o.emptyText)!=null?p:o.t("el.tree.emptyText")),3)]})],2)):Y("v-if",!0),dt(z("div",{ref:"dropIndicator$",class:me(o.ns.e("drop-indicator"))},null,2),[[lt,o.dragState.showDropIndicator]])],2)}var Ge=Xe(la,[["render",fa],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Ge.install=o=>{o.component(Ge.name,Ge)};const ha=Ge,pa=ha;var st={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},it={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},Ie=[],Se=[];function ma(){var o=document.createElement("div"),n=o.style;"AnimationEvent"in window||(delete st.animationstart.animation,delete it.animationend.animation),"TransitionEvent"in window||(delete st.transitionstart.transition,delete it.transitionend.transition);function i(u,t){for(var d in u)if(u.hasOwnProperty(d)){var m=u[d];for(var p in m)if(p in n){t.push(m[p]);break}}}i(st,Ie),i(it,Se)}typeof window<"u"&&typeof document<"u"&&ma();function $t(o,n,i){o.addEventListener(n,i,!1)}function Bt(o,n,i){o.removeEventListener(n,i,!1)}var ga={startEvents:Ie,addStartEventListener:function(n,i){if(Ie.length===0){setTimeout(i,0);return}Ie.forEach(function(u){$t(n,u,i)})},removeStartEventListener:function(n,i){Ie.length!==0&&Ie.forEach(function(u){Bt(n,u,i)})},endEvents:Se,addEndEventListener:function(n,i){if(Se.length===0){setTimeout(i,0);return}Se.forEach(function(u){$t(n,u,i)})},removeEndEventListener:function(n,i){Se.length!==0&&Se.forEach(function(u){Bt(n,u,i)})}};const Je=ga;var ke;function Lt(o){return!o||o.offsetParent===null}function va(o){var n=(o||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}const ya=ge({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,i){var u=i.slots,t=i.expose,d=mt(),m=gt("",n),p=m.csp,j=m.prefixCls;t({csp:p});var v=null,_=null,C=null,g=!1,f=null,R=!1,M=function(N){if(!R){var B=At(d);!N||N.target!==B||g||X(B)}},E=function(N){!N||N.animationName!=="fadeEffect"||X(N.target)},J=function(){var N=n.insertExtraNode;return N?"".concat(j.value,"-click-animating"):"".concat(j.value,"-click-animating-without-extra-node")},H=function(N,B){var Q=n.insertExtraNode,T=n.disabled;if(!(T||!N||Lt(N)||N.className.indexOf("-leave")>=0)){f=document.createElement("div"),f.className="".concat(j.value,"-click-animating-node");var O=J();if(N.removeAttribute(O),N.setAttribute(O,"true"),ke=ke||document.createElement("style"),B&&B!=="#ffffff"&&B!=="rgb(255, 255, 255)"&&va(B)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(B)&&B!=="transparent"){var D;(D=p.value)!==null&&D!==void 0&&D.nonce&&(ke.nonce=p.value.nonce),f.style.borderColor=B,ke.innerHTML=`
        [`.concat(j.value,"-click-animating-without-extra-node='true']::after, .").concat(j.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(B,`;
        }`),document.body.contains(ke)||document.body.appendChild(ke)}Q&&N.appendChild(f),Je.addStartEventListener(N,M),Je.addEndEventListener(N,E)}},X=function(N){if(!(!N||N===f||!(N instanceof Element))){var B=n.insertExtraNode,Q=J();N.setAttribute(Q,"false"),ke&&(ke.innerHTML=""),B&&f&&N.contains(f)&&N.removeChild(f),Je.removeStartEventListener(N,M),Je.removeEndEventListener(N,E)}},W=function(N){if(!(!N||!N.getAttribute||N.getAttribute("disabled")||N.className.indexOf("disabled")>=0)){var B=function(T){if(!(T.target.tagName==="INPUT"||Lt(T.target))){X(N);var O=getComputedStyle(N).getPropertyValue("border-top-color")||getComputedStyle(N).getPropertyValue("border-color")||getComputedStyle(N).getPropertyValue("background-color");_=setTimeout(function(){return H(N,O)},0),qt.cancel(C),g=!0,C=qt(function(){g=!1},10)}};return N.addEventListener("click",B,!0),{cancel:function(){N.removeEventListener("click",B,!0)}}}};return Ft(function(){ct(function(){var S=At(d);S.nodeType===1&&(v=W(S))})}),_r(function(){v&&v.cancel(),clearTimeout(_),R=!0}),function(){var S;return(S=u.default)===null||S===void 0?void 0:S.call(u)[0]}}});var ba=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}},ka=ge({compatConfig:{MODE:3},name:"ACheckableTag",props:ba(),setup:function(n,i){var u=i.slots,t=i.emit,d=gt("tag",n),m=d.prefixCls,p=function(_){var C=n.checked;t("update:checked",!C),t("change",!C),t("click",_)},j=Fe(function(){var v;return Ut(m.value,(v={},Oe(v,"".concat(m.value,"-checkable"),!0),Oe(v,"".concat(m.value,"-checkable-checked"),n.checked),v))});return function(){var v;return U("span",{class:j.value,onClick:p},[(v=u.default)===null||v===void 0?void 0:v.call(u)])}}});const pt=ka;var Na=new RegExp("^(".concat(Br.join("|"),")(-inverse)?$")),Ca=new RegExp("^(".concat(Lr.join("|"),")$")),wa=function(){return{prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:Kt.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},"onUpdate:visible":Function,icon:Kt.any}},Le=ge({compatConfig:{MODE:3},name:"ATag",props:wa(),slots:["closeIcon","icon"],setup:function(n,i){var u=i.slots,t=i.emit,d=i.attrs,m=gt("tag",n),p=m.prefixCls,j=m.direction,v=Z(!0);Ir(function(){n.visible!==void 0&&(v.value=n.visible)});var _=function(R){R.stopPropagation(),t("update:visible",!1),t("close",R),!R.defaultPrevented&&n.visible===void 0&&(v.value=!1)},C=Fe(function(){var f=n.color;return f?Na.test(f)||Ca.test(f):!1}),g=Fe(function(){var f;return Ut(p.value,(f={},Oe(f,"".concat(p.value,"-").concat(n.color),C.value),Oe(f,"".concat(p.value,"-has-color"),n.color&&!C.value),Oe(f,"".concat(p.value,"-hidden"),!v.value),Oe(f,"".concat(p.value,"-rtl"),j.value==="rtl"),f))});return function(){var f,R,M,E=n.icon,J=E===void 0?(f=u.icon)===null||f===void 0?void 0:f.call(u):E,H=n.color,X=n.closeIcon,W=X===void 0?(R=u.closeIcon)===null||R===void 0?void 0:R.call(u):X,S=n.closable,N=S===void 0?!1:S,B=function(){return N?W?U("span",{class:"".concat(p.value,"-close-icon"),onClick:_},[W]):U(Mr,{class:"".concat(p.value,"-close-icon"),onClick:_},null):null},Q={backgroundColor:H&&!C.value?H:void 0},T=J||null,O=(M=u.default)===null||M===void 0?void 0:M.call(u),D=T?U(fe,null,[T,U("span",null,[O])]):O,de="onClick"in d,ve=U("span",{class:g.value,style:Q},[D,B()]);return de?U(ya,null,{default:function(){return[ve]}}):ve}}});Le.CheckableTag=pt;Le.install=function(o){return o.component(Le.name,Le),o.component(pt.name,pt),o};const Ea=Le;var Jt={exports:{}};/*! algoliasearch.umd.js | 4.20.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(o,n){(function(i,u){o.exports=u()})(Or,function(){function i(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function u(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,s)}return a}function t(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?u(Object(a),!0).forEach(function(s){i(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function d(e,r){if(e==null)return{};var a,s,c=function(b,l){if(b==null)return{};var y,x,k={},q=Object.keys(b);for(x=0;x<q.length;x++)y=q[x],l.indexOf(y)>=0||(k[y]=b[y]);return k}(e,r);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(s=0;s<h.length;s++)a=h[s],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function m(e,r){return function(a){if(Array.isArray(a))return a}(e)||function(a,s){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]"){var c=[],h=!0,b=!1,l=void 0;try{for(var y,x=a[Symbol.iterator]();!(h=(y=x.next()).done)&&(c.push(y.value),!s||c.length!==s);h=!0);}catch(k){b=!0,l=k}finally{try{h||x.return==null||x.return()}finally{if(b)throw l}}return c}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e){return function(r){if(Array.isArray(r)){for(var a=0,s=new Array(r.length);a<r.length;a++)s[a]=r[a];return s}}(e)||function(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function j(e){var r,a="algoliasearch-client-js-".concat(e.key),s=function(){return r===void 0&&(r=e.localStorage||window.localStorage),r},c=function(){return JSON.parse(s().getItem(a)||"{}")},h=function(l){s().setItem(a,JSON.stringify(l))},b=function(){var l=e.timeToLive?1e3*e.timeToLive:null,y=c(),x=Object.fromEntries(Object.entries(y).filter(function(q){return m(q,2)[1].timestamp!==void 0}));if(h(x),l){var k=Object.fromEntries(Object.entries(x).filter(function(q){var A=m(q,2)[1],L=new Date().getTime();return!(A.timestamp+l<L)}));h(k)}};return{get:function(l,y){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){b();var k=JSON.stringify(l);return c()[k]}).then(function(k){return Promise.all([k?k.value:y(),k!==void 0])}).then(function(k){var q=m(k,2),A=q[0],L=q[1];return Promise.all([A,L||x.miss(A)])}).then(function(k){return m(k,1)[0]})},set:function(l,y){return Promise.resolve().then(function(){var x=c();return x[JSON.stringify(l)]={timestamp:new Date().getTime(),value:y},s().setItem(a,JSON.stringify(x)),y})},delete:function(l){return Promise.resolve().then(function(){var y=c();delete y[JSON.stringify(l)],s().setItem(a,JSON.stringify(y))})},clear:function(){return Promise.resolve().then(function(){s().removeItem(a)})}}}function v(e){var r=p(e.caches),a=r.shift();return a===void 0?{get:function(s,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},b=c();return b.then(function(l){return Promise.all([l,h.miss(l)])}).then(function(l){return m(l,1)[0]})},set:function(s,c){return Promise.resolve(c)},delete:function(s){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(s,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return a.get(s,c,h).catch(function(){return v({caches:r}).get(s,c,h)})},set:function(s,c){return a.set(s,c).catch(function(){return v({caches:r}).set(s,c)})},delete:function(s){return a.delete(s).catch(function(){return v({caches:r}).delete(s)})},clear:function(){return a.clear().catch(function(){return v({caches:r}).clear()})}}}function _(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},r={};return{get:function(a,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},h=JSON.stringify(a);if(h in r)return Promise.resolve(e.serializable?JSON.parse(r[h]):r[h]);var b=s(),l=c&&c.miss||function(){return Promise.resolve()};return b.then(function(y){return l(y)}).then(function(){return b})},set:function(a,s){return r[JSON.stringify(a)]=e.serializable?JSON.stringify(s):s,Promise.resolve(s)},delete:function(a){return delete r[JSON.stringify(a)],Promise.resolve()},clear:function(){return r={},Promise.resolve()}}}function C(e,r,a){var s={"x-algolia-api-key":a,"x-algolia-application-id":r};return{headers:function(){return e===J.WithinHeaders?s:{}},queryParameters:function(){return e===J.WithinQueryParameters?s:{}}}}function g(e){var r=0;return e(function a(){return r++,new Promise(function(s){setTimeout(function(){s(e(a))},Math.min(100*r,1e3))})})}function f(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(a,s){return Promise.resolve()};return Object.assign(e,{wait:function(a){return f(e.then(function(s){return Promise.all([r(s,a),s])}).then(function(s){return s[1]}))}})}function R(e){for(var r=e.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1)),s=e[r];e[r]=e[a],e[a]=s}return e}function M(e,r){return r&&Object.keys(r).forEach(function(a){e[a]=r[a](e)}),e}function E(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var c=0;return e.replace(/%s/g,function(){return encodeURIComponent(a[c++])})}var J={WithinQueryParameters:0,WithinHeaders:1};function H(e,r){var a=e||{},s=a.data||{};return Object.keys(a).forEach(function(c){["timeout","headers","queryParameters","data","cacheable"].indexOf(c)===-1&&(s[c]=a[c])}),{data:Object.entries(s).length>0?s:void 0,timeout:a.timeout||r,headers:a.headers||{},queryParameters:a.queryParameters||{},cacheable:a.cacheable}}var X={Read:1,Write:2,Any:3},W=1,S=2,N=3;function B(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W;return t(t({},e),{},{status:r,lastUpdate:Date.now()})}function Q(e){return typeof e=="string"?{protocol:"https",url:e,accept:X.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||X.Any}}var T="DELETE",O="GET",D="POST",de="PUT";function ve(e,r){return Promise.all(r.map(function(a){return e.get(a,function(){return Promise.resolve(B(a))})})).then(function(a){var s=a.filter(function(b){return function(l){return l.status===W||Date.now()-l.lastUpdate>12e4}(b)}),c=a.filter(function(b){return function(l){return l.status===N&&Date.now()-l.lastUpdate<=12e4}(b)}),h=[].concat(p(s),p(c));return{getTimeout:function(b,l){return(c.length===0&&b===0?1:c.length+3+b)*l},statelessHosts:h.length>0?h.map(function(b){return Q(b)}):r}})}function ye(e,r,a,s){var c=[],h=function(A,L){if(!(A.method===O||A.data===void 0&&L.data===void 0)){var $=Array.isArray(A.data)?A.data:t(t({},A.data),L.data);return JSON.stringify($)}}(a,s),b=function(A,L){var $=t(t({},A.headers),L.headers),V={};return Object.keys($).forEach(function(ee){var ie=$[ee];V[ee.toLowerCase()]=ie}),V}(e,s),l=a.method,y=a.method!==O?{}:t(t({},a.data),s.data),x=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),y),s.queryParameters),k=0,q=function A(L,$){var V=L.pop();if(V===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:ce(c)};var ee={data:h,headers:b,method:l,url:I(V,a.path,x),connectTimeout:$(k,e.timeouts.connect),responseTimeout:$(k,s.timeout)},ie=function(ue){var ae={request:ee,response:ue,host:V,triesLeft:L.length};return c.push(ae),ae},Re={onSuccess:function(ue){return function(ae){try{return JSON.parse(ae.content)}catch(Ne){throw function(be,_e){return{name:"DeserializationError",message:be,response:_e}}(Ne.message,ae)}}(ue)},onRetry:function(ue){var ae=ie(ue);return ue.isTimedOut&&k++,Promise.all([e.logger.info("Retryable failure",le(ae)),e.hostsCache.set(V,B(V,ue.isTimedOut?N:S))]).then(function(){return A(L,$)})},onFail:function(ue){throw ie(ue),function(ae,Ne){var be=ae.content,_e=ae.status,$e=be;try{$e=JSON.parse(be).message}catch{}return function(He,at,cr){return{name:"ApiError",message:He,status:at,transporterStackTrace:cr}}($e,_e,Ne)}(ue,ce(c))}};return e.requester.send(ee).then(function(ue){return function(ae,Ne){return function(be){var _e=be.status;return be.isTimedOut||function($e){var He=$e.isTimedOut,at=$e.status;return!He&&~~at==0}(be)||~~(_e/100)!=2&&~~(_e/100)!=4}(ae)?Ne.onRetry(ae):~~(ae.status/100)==2?Ne.onSuccess(ae):Ne.onFail(ae)}(ue,Re)})};return ve(e.hostsCache,r).then(function(A){return q(p(A.statelessHosts).reverse(),A.getTimeout)})}function pe(e){var r=e.hostsCache,a=e.logger,s=e.requester,c=e.requestsCache,h=e.responsesCache,b=e.timeouts,l=e.userAgent,y=e.hosts,x=e.queryParameters,k={hostsCache:r,logger:a,requester:s,requestsCache:c,responsesCache:h,timeouts:b,userAgent:l,headers:e.headers,queryParameters:x,hosts:y.map(function(q){return Q(q)}),read:function(q,A){var L=H(A,k.timeouts.read),$=function(){return ye(k,k.hosts.filter(function(ee){return(ee.accept&X.Read)!=0}),q,L)};if((L.cacheable!==void 0?L.cacheable:q.cacheable)!==!0)return $();var V={request:q,mappedRequestOptions:L,transporter:{queryParameters:k.queryParameters,headers:k.headers}};return k.responsesCache.get(V,function(){return k.requestsCache.get(V,function(){return k.requestsCache.set(V,$()).then(function(ee){return Promise.all([k.requestsCache.delete(V),ee])},function(ee){return Promise.all([k.requestsCache.delete(V),Promise.reject(ee)])}).then(function(ee){var ie=m(ee,2);return ie[0],ie[1]})})},{miss:function(ee){return k.responsesCache.set(V,ee)}})},write:function(q,A){return ye(k,k.hosts.filter(function(L){return(L.accept&X.Write)!=0}),q,H(A,k.timeouts.write))}};return k}function Ae(e){var r={value:"Algolia for JavaScript (".concat(e,")"),add:function(a){var s="; ".concat(a.segment).concat(a.version!==void 0?" (".concat(a.version,")"):"");return r.value.indexOf(s)===-1&&(r.value="".concat(r.value).concat(s)),r}};return r}function I(e,r,a){var s=w(a),c="".concat(e.protocol,"://").concat(e.url,"/").concat(r.charAt(0)==="/"?r.substr(1):r);return s.length&&(c+="?".concat(s)),c}function w(e){return Object.keys(e).map(function(r){return E("%s=%s",r,(a=e[r],Object.prototype.toString.call(a)==="[object Object]"||Object.prototype.toString.call(a)==="[object Array]"?JSON.stringify(e[r]):e[r]));var a}).join("&")}function ce(e){return e.map(function(r){return le(r)})}function le(e){var r=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),r)})})}var Vt=function(e){return function(r,a){return e.transporter.write({method:D,path:"2/abtests",data:r},a)}},Gt=function(e){return function(r,a){return e.transporter.write({method:T,path:E("2/abtests/%s",r)},a)}},Xt=function(e){return function(r,a){return e.transporter.read({method:O,path:E("2/abtests/%s",r)},a)}},Yt=function(e){return function(r){return e.transporter.read({method:O,path:"2/abtests"},r)}},Zt=function(e){return function(r,a){return e.transporter.write({method:D,path:E("2/abtests/%s/stop",r)},a)}},en=function(e){return function(r){return e.transporter.read({method:O,path:"1/strategies/personalization"},r)}},tn=function(e){return function(r,a){return e.transporter.write({method:D,path:"1/strategies/personalization",data:r},a)}};function Ye(e){return function r(a){return e.request(a).then(function(s){if(e.batch!==void 0&&e.batch(s.hits),!e.shouldStop(s))return s.cursor?r({cursor:s.cursor}):r({page:(a.page||0)+1})})}({})}var nn=function(e){return function(r,a){var s=a||{},c=s.queryParameters,h=d(s,["queryParameters"]),b=t({acl:r},c!==void 0?{queryParameters:c}:{});return f(e.transporter.write({method:D,path:"1/keys",data:b},h),function(l,y){return g(function(x){return qe(e)(l.key,y).catch(function(k){if(k.status!==404)throw k;return x()})})})}},rn=function(e){return function(r,a,s){var c=H(s);return c.queryParameters["X-Algolia-User-ID"]=r,e.transporter.write({method:D,path:"1/clusters/mapping",data:{cluster:a}},c)}},an=function(e){return function(r,a,s){return e.transporter.write({method:D,path:"1/clusters/mapping/batch",data:{users:r,cluster:a}},s)}},on=function(e){return function(r,a){return f(e.transporter.write({method:D,path:E("/1/dictionaries/%s/batch",r),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},a),function(s,c){return De(e)(s.taskID,c)})}},Ue=function(e){return function(r,a,s){return f(e.transporter.write({method:D,path:E("1/indexes/%s/operation",r),data:{operation:"copy",destination:a}},s),function(c,h){return Ke(e)(r,{methods:{waitTask:te}}).waitTask(c.taskID,h)})}},sn=function(e){return function(r,a,s){return Ue(e)(r,a,t(t({},s),{},{scope:[rt.Rules]}))}},un=function(e){return function(r,a,s){return Ue(e)(r,a,t(t({},s),{},{scope:[rt.Settings]}))}},cn=function(e){return function(r,a,s){return Ue(e)(r,a,t(t({},s),{},{scope:[rt.Synonyms]}))}},dn=function(e){return function(r,a){return r.method===O?e.transporter.read(r,a):e.transporter.write(r,a)}},ln=function(e){return function(r,a){return f(e.transporter.write({method:T,path:E("1/keys/%s",r)},a),function(s,c){return g(function(h){return qe(e)(r,c).then(h).catch(function(b){if(b.status!==404)throw b})})})}},fn=function(e){return function(r,a,s){var c=a.map(function(h){return{action:"deleteEntry",body:{objectID:h}}});return f(e.transporter.write({method:D,path:E("/1/dictionaries/%s/batch",r),data:{clearExistingDictionaryEntries:!1,requests:c}},s),function(h,b){return De(e)(h.taskID,b)})}},qe=function(e){return function(r,a){return e.transporter.read({method:O,path:E("1/keys/%s",r)},a)}},yt=function(e){return function(r,a){return e.transporter.read({method:O,path:E("1/task/%s",r.toString())},a)}},hn=function(e){return function(r){return e.transporter.read({method:O,path:"/1/dictionaries/*/settings"},r)}},pn=function(e){return function(r){return e.transporter.read({method:O,path:"1/logs"},r)}},mn=function(e){return function(r){return e.transporter.read({method:O,path:"1/clusters/mapping/top"},r)}},gn=function(e){return function(r,a){return e.transporter.read({method:O,path:E("1/clusters/mapping/%s",r)},a)}},vn=function(e){return function(r){var a=r||{},s=a.retrieveMappings,c=d(a,["retrieveMappings"]);return s===!0&&(c.getClusters=!0),e.transporter.read({method:O,path:"1/clusters/mapping/pending"},c)}},Ke=function(e){return function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s={transporter:e.transporter,appId:e.appId,indexName:r};return M(s,a.methods)}},yn=function(e){return function(r){return e.transporter.read({method:O,path:"1/keys"},r)}},bn=function(e){return function(r){return e.transporter.read({method:O,path:"1/clusters"},r)}},kn=function(e){return function(r){return e.transporter.read({method:O,path:"1/indexes"},r)}},Nn=function(e){return function(r){return e.transporter.read({method:O,path:"1/clusters/mapping"},r)}},Cn=function(e){return function(r,a,s){return f(e.transporter.write({method:D,path:E("1/indexes/%s/operation",r),data:{operation:"move",destination:a}},s),function(c,h){return Ke(e)(r,{methods:{waitTask:te}}).waitTask(c.taskID,h)})}},wn=function(e){return function(r,a){return f(e.transporter.write({method:D,path:"1/indexes/*/batch",data:{requests:r}},a),function(s,c){return Promise.all(Object.keys(s.taskID).map(function(h){return Ke(e)(h,{methods:{waitTask:te}}).waitTask(s.taskID[h],c)}))})}},En=function(e){return function(r,a){return e.transporter.read({method:D,path:"1/indexes/*/objects",data:{requests:r}},a)}},bt=function(e){return function(r,a){var s=r.map(function(c){return t(t({},c),{},{params:w(c.params||{})})});return e.transporter.read({method:D,path:"1/indexes/*/queries",data:{requests:s},cacheable:!0},a)}},kt=function(e){return function(r,a){return Promise.all(r.map(function(s){var c=s.params,h=c.facetName,b=c.facetQuery,l=d(c,["facetName","facetQuery"]);return Ke(e)(s.indexName,{methods:{searchForFacetValues:Dt}}).searchForFacetValues(h,b,t(t({},a),l))}))}},xn=function(e){return function(r,a){var s=H(a);return s.queryParameters["X-Algolia-User-ID"]=r,e.transporter.write({method:T,path:"1/clusters/mapping"},s)}},Dn=function(e){return function(r,a,s){var c=a.map(function(h){return{action:"addEntry",body:h}});return f(e.transporter.write({method:D,path:E("/1/dictionaries/%s/batch",r),data:{clearExistingDictionaryEntries:!0,requests:c}},s),function(h,b){return De(e)(h.taskID,b)})}},Tn=function(e){return function(r,a){return f(e.transporter.write({method:D,path:E("1/keys/%s/restore",r)},a),function(s,c){return g(function(h){return qe(e)(r,c).catch(function(b){if(b.status!==404)throw b;return h()})})})}},_n=function(e){return function(r,a,s){var c=a.map(function(h){return{action:"addEntry",body:h}});return f(e.transporter.write({method:D,path:E("/1/dictionaries/%s/batch",r),data:{clearExistingDictionaryEntries:!1,requests:c}},s),function(h,b){return De(e)(h.taskID,b)})}},In=function(e){return function(r,a,s){return e.transporter.read({method:D,path:E("/1/dictionaries/%s/search",r),data:{query:a},cacheable:!0},s)}},Sn=function(e){return function(r,a){return e.transporter.read({method:D,path:"1/clusters/mapping/search",data:{query:r}},a)}},On=function(e){return function(r,a){return f(e.transporter.write({method:de,path:"/1/dictionaries/*/settings",data:r},a),function(s,c){return De(e)(s.taskID,c)})}},Pn=function(e){return function(r,a){var s=Object.assign({},a),c=a||{},h=c.queryParameters,b=d(c,["queryParameters"]),l=h?{queryParameters:h}:{},y=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return f(e.transporter.write({method:de,path:E("1/keys/%s",r),data:l},b),function(x,k){return g(function(q){return qe(e)(r,k).then(function(A){return function(L){return Object.keys(s).filter(function($){return y.indexOf($)!==-1}).every(function($){if(Array.isArray(L[$])&&Array.isArray(s[$])){var V=L[$];return V.length===s[$].length&&V.every(function(ee,ie){return ee===s[$][ie]})}return L[$]===s[$]})}(A)?Promise.resolve():q()})})})}},De=function(e){return function(r,a){return g(function(s){return yt(e)(r,a).then(function(c){return c.status!=="published"?s():void 0})})}},Nt=function(e){return function(r,a){return f(e.transporter.write({method:D,path:E("1/indexes/%s/batch",e.indexName),data:{requests:r}},a),function(s,c){return te(e)(s.taskID,c)})}},jn=function(e){return function(r){return Ye(t(t({shouldStop:function(a){return a.cursor===void 0}},r),{},{request:function(a){return e.transporter.read({method:D,path:E("1/indexes/%s/browse",e.indexName),data:a},r)}}))}},An=function(e){return function(r){var a=t({hitsPerPage:1e3},r);return Ye(t(t({shouldStop:function(s){return s.hits.length<a.hitsPerPage}},a),{},{request:function(s){return Tt(e)("",t(t({},a),s)).then(function(c){return t(t({},c),{},{hits:c.hits.map(function(h){return delete h._highlightResult,h})})})}}))}},qn=function(e){return function(r){var a=t({hitsPerPage:1e3},r);return Ye(t(t({shouldStop:function(s){return s.hits.length<a.hitsPerPage}},a),{},{request:function(s){return _t(e)("",t(t({},a),s)).then(function(c){return t(t({},c),{},{hits:c.hits.map(function(h){return delete h._highlightResult,h})})})}}))}},Ze=function(e){return function(r,a,s){var c=s||{},h=c.batchSize,b=d(c,["batchSize"]),l={taskIDs:[],objectIDs:[]};return f(function y(){var x,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=[];for(x=k;x<r.length&&(q.push(r[x]),q.length!==(h||1e3));x++);return q.length===0?Promise.resolve(l):Nt(e)(q.map(function(A){return{action:a,body:A}}),b).then(function(A){return l.objectIDs=l.objectIDs.concat(A.objectIDs),l.taskIDs.push(A.taskID),x++,y(x)})}(),function(y,x){return Promise.all(y.taskIDs.map(function(k){return te(e)(k,x)}))})}},Kn=function(e){return function(r){return f(e.transporter.write({method:D,path:E("1/indexes/%s/clear",e.indexName)},r),function(a,s){return te(e)(a.taskID,s)})}},Rn=function(e){return function(r){var a=r||{},s=a.forwardToReplicas,c=H(d(a,["forwardToReplicas"]));return s&&(c.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:D,path:E("1/indexes/%s/rules/clear",e.indexName)},c),function(h,b){return te(e)(h.taskID,b)})}},$n=function(e){return function(r){var a=r||{},s=a.forwardToReplicas,c=H(d(a,["forwardToReplicas"]));return s&&(c.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:D,path:E("1/indexes/%s/synonyms/clear",e.indexName)},c),function(h,b){return te(e)(h.taskID,b)})}},Bn=function(e){return function(r,a){return f(e.transporter.write({method:D,path:E("1/indexes/%s/deleteByQuery",e.indexName),data:r},a),function(s,c){return te(e)(s.taskID,c)})}},Ln=function(e){return function(r){return f(e.transporter.write({method:T,path:E("1/indexes/%s",e.indexName)},r),function(a,s){return te(e)(a.taskID,s)})}},Mn=function(e){return function(r,a){return f(Ct(e)([r],a).then(function(s){return{taskID:s.taskIDs[0]}}),function(s,c){return te(e)(s.taskID,c)})}},Ct=function(e){return function(r,a){var s=r.map(function(c){return{objectID:c}});return Ze(e)(s,Te.DeleteObject,a)}},zn=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=H(d(s,["forwardToReplicas"]));return c&&(h.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:T,path:E("1/indexes/%s/rules/%s",e.indexName,r)},h),function(b,l){return te(e)(b.taskID,l)})}},Fn=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=H(d(s,["forwardToReplicas"]));return c&&(h.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:T,path:E("1/indexes/%s/synonyms/%s",e.indexName,r)},h),function(b,l){return te(e)(b.taskID,l)})}},Un=function(e){return function(r){return wt(e)(r).then(function(){return!0}).catch(function(a){if(a.status!==404)throw a;return!1})}},Hn=function(e){return function(r,a,s){return e.transporter.read({method:D,path:E("1/answers/%s/prediction",e.indexName),data:{query:r,queryLanguages:a},cacheable:!0},s)}},Wn=function(e){return function(r,a){var s=a||{},c=s.query,h=s.paginate,b=d(s,["query","paginate"]),l=0;return function y(){return xt(e)(c||"",t(t({},b),{},{page:l})).then(function(x){for(var k=0,q=Object.entries(x.hits);k<q.length;k++){var A=m(q[k],2),L=A[0],$=A[1];if(r($))return{object:$,position:parseInt(L,10),page:l}}if(l++,h===!1||l>=x.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return y()})}()}},Jn=function(e){return function(r,a){return e.transporter.read({method:O,path:E("1/indexes/%s/%s",e.indexName,r)},a)}},Qn=function(){return function(e,r){for(var a=0,s=Object.entries(e.hits);a<s.length;a++){var c=m(s[a],2),h=c[0];if(c[1].objectID===r)return parseInt(h,10)}return-1}},Vn=function(e){return function(r,a){var s=a||{},c=s.attributesToRetrieve,h=d(s,["attributesToRetrieve"]),b=r.map(function(l){return t({indexName:e.indexName,objectID:l},c?{attributesToRetrieve:c}:{})});return e.transporter.read({method:D,path:"1/indexes/*/objects",data:{requests:b}},h)}},Gn=function(e){return function(r,a){return e.transporter.read({method:O,path:E("1/indexes/%s/rules/%s",e.indexName,r)},a)}},wt=function(e){return function(r){return e.transporter.read({method:O,path:E("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},r)}},Xn=function(e){return function(r,a){return e.transporter.read({method:O,path:E("1/indexes/%s/synonyms/%s",e.indexName,r)},a)}},Yn=function(e){return function(r,a){return f(Et(e)([r],a).then(function(s){return{objectID:s.objectIDs[0],taskID:s.taskIDs[0]}}),function(s,c){return te(e)(s.taskID,c)})}},Et=function(e){return function(r,a){var s=a||{},c=s.createIfNotExists,h=d(s,["createIfNotExists"]),b=c?Te.PartialUpdateObject:Te.PartialUpdateObjectNoCreate;return Ze(e)(r,b,h)}},Zn=function(e){return function(r,a){var s=a||{},c=s.safe,h=s.autoGenerateObjectIDIfNotExist,b=s.batchSize,l=d(s,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),y=function($,V,ee,ie){return f(e.transporter.write({method:D,path:E("1/indexes/%s/operation",$),data:{operation:ee,destination:V}},ie),function(Re,ue){return te(e)(Re.taskID,ue)})},x=Math.random().toString(36).substring(7),k="".concat(e.indexName,"_tmp_").concat(x),q=et({appId:e.appId,transporter:e.transporter,indexName:k}),A=[],L=y(e.indexName,k,"copy",t(t({},l),{},{scope:["settings","synonyms","rules"]}));return A.push(L),f((c?L.wait(l):L).then(function(){var $=q(r,t(t({},l),{},{autoGenerateObjectIDIfNotExist:h,batchSize:b}));return A.push($),c?$.wait(l):$}).then(function(){var $=y(k,e.indexName,"move",l);return A.push($),c?$.wait(l):$}).then(function(){return Promise.all(A)}).then(function($){var V=m($,3),ee=V[0],ie=V[1],Re=V[2];return{objectIDs:ie.objectIDs,taskIDs:[ee.taskID].concat(p(ie.taskIDs),[Re.taskID])}}),function($,V){return Promise.all(A.map(function(ee){return ee.wait(V)}))})}},er=function(e){return function(r,a){return tt(e)(r,t(t({},a),{},{clearExistingRules:!0}))}},tr=function(e){return function(r,a){return nt(e)(r,t(t({},a),{},{clearExistingSynonyms:!0}))}},nr=function(e){return function(r,a){return f(et(e)([r],a).then(function(s){return{objectID:s.objectIDs[0],taskID:s.taskIDs[0]}}),function(s,c){return te(e)(s.taskID,c)})}},et=function(e){return function(r,a){var s=a||{},c=s.autoGenerateObjectIDIfNotExist,h=d(s,["autoGenerateObjectIDIfNotExist"]),b=c?Te.AddObject:Te.UpdateObject;if(b===Te.UpdateObject){var l=!0,y=!1,x=void 0;try{for(var k,q=r[Symbol.iterator]();!(l=(k=q.next()).done);l=!0)if(k.value.objectID===void 0)return f(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(A){y=!0,x=A}finally{try{l||q.return==null||q.return()}finally{if(y)throw x}}}return Ze(e)(r,b,h)}},rr=function(e){return function(r,a){return tt(e)([r],a)}},tt=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=s.clearExistingRules,b=H(d(s,["forwardToReplicas","clearExistingRules"]));return c&&(b.queryParameters.forwardToReplicas=1),h&&(b.queryParameters.clearExistingRules=1),f(e.transporter.write({method:D,path:E("1/indexes/%s/rules/batch",e.indexName),data:r},b),function(l,y){return te(e)(l.taskID,y)})}},ar=function(e){return function(r,a){return nt(e)([r],a)}},nt=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=s.clearExistingSynonyms,b=s.replaceExistingSynonyms,l=H(d(s,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return c&&(l.queryParameters.forwardToReplicas=1),(b||h)&&(l.queryParameters.replaceExistingSynonyms=1),f(e.transporter.write({method:D,path:E("1/indexes/%s/synonyms/batch",e.indexName),data:r},l),function(y,x){return te(e)(y.taskID,x)})}},xt=function(e){return function(r,a){return e.transporter.read({method:D,path:E("1/indexes/%s/query",e.indexName),data:{query:r},cacheable:!0},a)}},Dt=function(e){return function(r,a,s){return e.transporter.read({method:D,path:E("1/indexes/%s/facets/%s/query",e.indexName,r),data:{facetQuery:a},cacheable:!0},s)}},Tt=function(e){return function(r,a){return e.transporter.read({method:D,path:E("1/indexes/%s/rules/search",e.indexName),data:{query:r}},a)}},_t=function(e){return function(r,a){return e.transporter.read({method:D,path:E("1/indexes/%s/synonyms/search",e.indexName),data:{query:r}},a)}},or=function(e){return function(r,a){var s=a||{},c=s.forwardToReplicas,h=H(d(s,["forwardToReplicas"]));return c&&(h.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:de,path:E("1/indexes/%s/settings",e.indexName),data:r},h),function(b,l){return te(e)(b.taskID,l)})}},te=function(e){return function(r,a){return g(function(s){return function(c){return function(h,b){return c.transporter.read({method:O,path:E("1/indexes/%s/task/%s",c.indexName,h.toString())},b)}}(e)(r,a).then(function(c){return c.status!=="published"?s():void 0})})}},Te={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},rt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},sr=1,ir=2,ur=3;function It(e,r,a){var s,c={appId:e,apiKey:r,timeouts:{connect:1,read:2,write:30},requester:{send:function(l){return new Promise(function(y){var x=new XMLHttpRequest;x.open(l.method,l.url,!0),Object.keys(l.headers).forEach(function(L){return x.setRequestHeader(L,l.headers[L])});var k,q=function(L,$){return setTimeout(function(){x.abort(),y({status:0,content:$,isTimedOut:!0})},1e3*L)},A=q(l.connectTimeout,"Connection timeout");x.onreadystatechange=function(){x.readyState>x.OPENED&&k===void 0&&(clearTimeout(A),k=q(l.responseTimeout,"Socket timeout"))},x.onerror=function(){x.status===0&&(clearTimeout(A),clearTimeout(k),y({content:x.responseText||"Network request failed",status:x.status,isTimedOut:!1}))},x.onload=function(){clearTimeout(A),clearTimeout(k),y({content:x.responseText,status:x.status,isTimedOut:!1})},x.send(l.data)})}},logger:(s=ur,{debug:function(l,y){return sr>=s&&console.debug(l,y),Promise.resolve()},info:function(l,y){return ir>=s&&console.info(l,y),Promise.resolve()},error:function(l,y){return console.error(l,y),Promise.resolve()}}),responsesCache:_(),requestsCache:_({serializable:!1}),hostsCache:v({caches:[j({key:"".concat("4.20.0","-").concat(e)}),_()]}),userAgent:Ae("4.20.0").add({segment:"Browser"})},h=t(t({},c),a),b=function(){return function(l){return function(y){var x=y.region||"us",k=C(J.WithinHeaders,y.appId,y.apiKey),q=pe(t(t({hosts:[{url:"personalization.".concat(x,".algolia.com")}]},y),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),y.headers),queryParameters:t(t({},k.queryParameters()),y.queryParameters)}));return M({appId:y.appId,transporter:q},y.methods)}(t(t(t({},c),l),{},{methods:{getPersonalizationStrategy:en,setPersonalizationStrategy:tn}}))}};return function(l){var y=l.appId,x=C(l.authMode!==void 0?l.authMode:J.WithinHeaders,y,l.apiKey),k=pe(t(t({hosts:[{url:"".concat(y,"-dsn.algolia.net"),accept:X.Read},{url:"".concat(y,".algolia.net"),accept:X.Write}].concat(R([{url:"".concat(y,"-1.algolianet.com")},{url:"".concat(y,"-2.algolianet.com")},{url:"".concat(y,"-3.algolianet.com")}]))},l),{},{headers:t(t(t({},x.headers()),{"content-type":"application/x-www-form-urlencoded"}),l.headers),queryParameters:t(t({},x.queryParameters()),l.queryParameters)}));return M({transporter:k,appId:y,addAlgoliaAgent:function(q,A){k.userAgent.add({segment:q,version:A})},clearCache:function(){return Promise.all([k.requestsCache.clear(),k.responsesCache.clear()]).then(function(){})}},l.methods)}(t(t({},h),{},{methods:{search:bt,searchForFacetValues:kt,multipleBatch:wn,multipleGetObjects:En,multipleQueries:bt,copyIndex:Ue,copySettings:un,copySynonyms:cn,copyRules:sn,moveIndex:Cn,listIndices:kn,getLogs:pn,listClusters:bn,multipleSearchForFacetValues:kt,getApiKey:qe,addApiKey:nn,listApiKeys:yn,updateApiKey:Pn,deleteApiKey:ln,restoreApiKey:Tn,assignUserID:rn,assignUserIDs:an,getUserID:gn,searchUserIDs:Sn,listUserIDs:Nn,getTopUserIDs:mn,removeUserID:xn,hasPendingMappings:vn,clearDictionaryEntries:on,deleteDictionaryEntries:fn,getDictionarySettings:hn,getAppTask:yt,replaceDictionaryEntries:Dn,saveDictionaryEntries:_n,searchDictionaryEntries:In,setDictionarySettings:On,waitAppTask:De,customRequest:dn,initIndex:function(l){return function(y){return Ke(l)(y,{methods:{batch:Nt,delete:Ln,findAnswers:Hn,getObject:Jn,getObjects:Vn,saveObject:nr,saveObjects:et,search:xt,searchForFacetValues:Dt,waitTask:te,setSettings:or,getSettings:wt,partialUpdateObject:Yn,partialUpdateObjects:Et,deleteObject:Mn,deleteObjects:Ct,deleteBy:Bn,clearObjects:Kn,browseObjects:jn,getObjectPosition:Qn,findObject:Wn,exists:Un,saveSynonym:ar,saveSynonyms:nt,getSynonym:Xn,searchSynonyms:_t,browseSynonyms:qn,deleteSynonym:Fn,clearSynonyms:$n,replaceAllObjects:Zn,replaceAllSynonyms:tr,searchRules:Tt,getRule:Gn,deleteRule:zn,saveRule:rr,saveRules:tt,replaceAllRules:er,browseRules:An,clearRules:Rn}})}},initAnalytics:function(){return function(l){return function(y){var x=y.region||"us",k=C(J.WithinHeaders,y.appId,y.apiKey),q=pe(t(t({hosts:[{url:"analytics.".concat(x,".algolia.com")}]},y),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),y.headers),queryParameters:t(t({},k.queryParameters()),y.queryParameters)}));return M({appId:y.appId,transporter:q},y.methods)}(t(t(t({},c),l),{},{methods:{addABTest:Vt,getABTest:Xt,getABTests:Yt,stopABTest:Zt,deleteABTest:Gt}}))}},initPersonalization:b,initRecommendation:function(){return function(l){return h.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),b()(l)}}}}))}return It.version="4.20.0",It})})(Jt);var xa=Jt.exports;const Da=Sr(xa),Ta=Da("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),Qt=Ta.initIndex("npm-search"),_a=async(o,n=0,i=10)=>{try{const u=Pa(o);if(!u)return{response:null,query:o};const t={page:n,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:u.facetFilters?u.facetFilters:void 0},d=await Qt.search(u.query,t);return d.hits.sort((m,p)=>m.name===u.query?-1:p.name===u.query?1:0),{response:d,query:o}}catch{return{response:null,query:o}}},Ia=async o=>Qt.getObject(o),Sa=/\s*(?:[a-z]+)\s*:\s*(?:.(?![a-z]*\s*:))*/gi,Oa=/^((?:(?:[^\s:]+(?![a-z]*\s*:))\s*)*)/i,Mt={author:"owner.name",type:"moduleTypes"};function Pa(o){var d;const n=(d=o.match(Oa))==null?void 0:d[0].trim();if(n==null)return;const i=o,u=[];let t;for(;(t=Sa.exec(i))!==null;){const m=t[0].split(":");Mt[m[0].trim()]&&u.push(Mt[m[0].trim()]+":"+m[1].trim())}return{query:n,facetFilters:u.join(",")}}const se=o=>(qr("data-v-033bab9d"),o=o(),Kr(),o),ja={key:0},Aa={class:"result-list"},qa={class:"pkgName"},Ka={class:"meta"},Ra=["onClick"],$a=["src","alt"],Ba=se(()=>z("span",{class:"i-icon-park-outline-tag-one"},null,-1)),La=["title"],Ma=se(()=>z("span",{class:"i-icon-park-outline-balance-two"},null,-1)),za={key:0,class:"description"},Fa={key:1},Ua=se(()=>z("span",{class:"i-icon-park-outline-return"},null,-1)),Ha={key:0},Wa=se(()=>z("b",null,"名称: ",-1)),Ja={key:1},Qa=se(()=>z("b",null,"主页: ",-1)),Va={key:2},Ga=se(()=>z("b",null,"简介: ",-1)),Xa={key:3},Ya=se(()=>z("b",null,"仓库: ",-1)),Za={key:4},eo=se(()=>z("b",null,"协议: ",-1)),to={key:5},no=se(()=>z("b",null,"作者: ",-1)),ro={key:7},ao=se(()=>z("b",null,"版本: ",-1)),oo={key:8},so=se(()=>z("b",null,"默认文件: ",-1)),io={key:9},uo=se(()=>z("b",null,"文件列表",-1)),co=se(()=>z("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)),lo=[uo,co],fo={key:0,flex:"","items-center":""},ho=se(()=>z("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),po={key:1,flex:"","items-center":""},mo=se(()=>z("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),go=10,vo=ge({__name:"cdnQuery",setup(o){let n=null;const i=Z(!1),u=Z(""),t=Z(""),d=Z(0),m=Z([]),p=Z(0),j=Z(""),v=Z(null),_=Z(""),C=Z([]),g=Z(null),f=Z([]),R=Fe(()=>f.value&&f.value.length?X(f.value):[]);async function M(W=0){if(!u.value){i.value=!1,v.value=null,_.value="",C.value=[],m.value=[],d.value=0,p.value=0,t.value="";return}n&&clearTimeout(n),n=window.setTimeout(async()=>{i.value=!0;const{response:S,query:N}=await _a(u.value,W,go);if(N===u.value){if(S){const{hits:B,page:Q,nbHits:T}=S;m.value=B,p.value=T,d.value=Q,t.value="done"}else jr.warning("搜索失败");i.value=!1}},200)}function E(W){u.value="author:"+W,M(0)}async function J(W){j.value=W,v.value=null,_.value="",C.value=[],g.value=null,f.value=[];try{v.value=await Ia(W),_.value=v.value.version??"",await H()}catch(S){console.error(S.message)}}async function H(){var W,S;try{C.value=[],g.value=null,f.value=[],C.value=(await jt.get(`https://data.jsdelivr.com/v1/package/npm/${((W=v.value)==null?void 0:W.name)??""}`)).data.versions.map(Q=>({label:Q,value:Q}));const{default:N,files:B}=(await jt.get(`https://data.jsdelivr.com/v1/package/npm/${((S=v.value)==null?void 0:S.name)??""}@${_.value}`)).data;g.value=N,f.value=B}catch(N){console.error(N.message)}}function X(W,S){return W.map(N=>{const B=S?`${S}/${N.name}`:`/${N.name}`;return{label:N.name,icon:N.type==="directory"?"Folder":"",isLeaf:N.type!=="directory",fileName:B,children:N.type==="directory"&&N.files?X(N.files,B):void 0}})}return(W,S)=>{const N=Jr,B=Qr,Q=Vr,T=Ar,O=Wr,D=Ea,de=Hr,ve=Fr,ye=Ur,pe=Gr,Ae=zr,I=pa;return K(),F(fe,null,[U(B,null,{default:G(()=>[z("blockquote",null,[z("ul",null,[z("li",null,[ne(" 数据来自: "),U(N,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:G(()=>[ne(" JSDelivr ")]),_:1})]),z("li",null,[ne(" 搜索接口来自: "),U(N,{href:"https://www.algolia.com/",target:"_blank"},{default:G(()=>[ne(" Algolia ")]),_:1})])])])]),_:1}),U(Q,{level:3},{default:G(()=>[ne(" 请输入要获取CDN的库名 ")]),_:1}),U(T,{modelValue:P(u),"onUpdate:modelValue":S[0]||(S[0]=w=>Pt(u)?u.value=w:null),placeholder:"jquery",clearable:"",onChange:S[1]||(S[1]=w=>M(0))},null,8,["modelValue"]),(K(),oe(Pr,null,[P(t)==="done"?(K(),F(fe,{key:0},[U(O),P(j)?(K(),F(fe,{key:1},[U(N,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:S[3]||(S[3]=w=>j.value=null)},{default:G(()=>[Ua,ne(" 返回 ")]),_:1}),P(v)?(K(),oe(Ae,{key:0,class:"metaDetail"},{default:G(()=>[z("ul",null,[P(v).name?(K(),F("li",Ha,[Wa,ne(re(P(v).name),1)])):Y("",!0),P(v).homepage?(K(),F("li",Ja,[Qa,U(N,{href:P(v).homepage,target:"_blank"},{default:G(()=>[ne(re(P(v).homepage),1)]),_:1},8,["href"])])):Y("",!0),P(v).description?(K(),F("li",Va,[Ga,ne(re(P(v).description),1)])):Y("",!0),P(v).repository?(K(),F("li",Xa,[Ya,ne(re(P(v).repository.type)+" / ",1),U(N,{href:P(v).repository.url,target:"_blank"},{default:G(()=>[ne(re(P(v).repository.url),1)]),_:1},8,["href"])])):Y("",!0),P(v).license?(K(),F("li",Za,[eo,ne(re(P(v).license),1)])):Y("",!0),P(v).owner?(K(),F("li",to,[no,ne(re(P(v).owner.name)+" / ",1),U(N,{href:P(v).owner.link,target:"_blank"},{default:G(()=>[ne(re(P(v).owner.link),1)]),_:1},8,["href"])])):Y("",!0),P(C).length?(K(),oe(O,{key:6})):Y("",!0),P(C).length?(K(),F("li",ro,[ao,U(ye,{modelValue:P(_),"onUpdate:modelValue":S[4]||(S[4]=w=>Pt(_)?_.value=w:null),options:P(C),onChange:H},{default:G(()=>[(K(!0),F(fe,null,Be(P(C),w=>(K(),oe(ve,{key:w.value,value:w.value,label:w.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):Y("",!0),P(g)?(K(),F("li",oo,[so,U(pe,{copyable:{text:`https://cdn.jsdelivr.net/npm/${P(v).name}@${P(_)}${P(g)}`}},{default:G(()=>[U(N,{href:`https://cdn.jsdelivr.net/npm/${P(v).name}@${P(_)}${P(g)}`,target:"_blank"},{default:G(()=>[ne(re(P(g)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):Y("",!0),P(f)&&P(f).length?(K(),F("li",io,lo)):Y("",!0)])]),_:1})):Y("",!0),P(v)&&P(f)&&P(f).length?(K(),oe(I,{key:1,data:P(R),selectable:!1},{default:G(({data:w})=>[w.isLeaf?(K(),F("div",fo,[ho,U(pe,{copyable:{text:`https://cdn.jsdelivr.net/npm/${P(v).name}@${P(_)}${w.fileName}`}},{default:G(()=>[ne(re(w.label),1)]),_:2},1032,["copyable"])])):(K(),F("div",po,[mo,U(pe,null,{default:G(()=>[ne(re(w.label),1)]),_:2},1024)]))]),_:1},8,["data"])):Y("",!0)],64)):(K(),F(fe,{key:0},[U(Q,{level:4},{default:G(()=>[z("span",null,"共找到 "+re(P(p))+" 个库",1),P(p)>1e3?(K(),F("span",ja,"，最多展示前 1000 个结果")):Y("",!0)]),_:1}),z("div",Aa,[(K(!0),F(fe,null,Be(P(m),w=>(K(),F("div",{key:w.objectID,class:"result-list-item"},[z("div",qa,[U(Q,{level:4,onClick:ce=>J(w.objectID)},{default:G(()=>[ne(re(w.name),1)]),_:2},1032,["onClick"])]),z("div",Ka,[w.owner?(K(),F("div",{key:0,class:"owner",onClick:ce=>E(w.owner.name)},[z("img",{src:w.owner.avatar,alt:w.owner.name},null,8,$a),z("div",null,re(w.owner.name),1)],8,Ra)):Y("",!0),w.version?(K(),oe(D,{key:1},{icon:G(()=>[Ba]),default:G(()=>[z("span",{title:w.version},re(w.version),9,La)]),_:2},1024)):Y("",!0),w.license?(K(),oe(D,{key:2},{icon:G(()=>[Ma]),default:G(()=>[ne(" "+re(w.license),1)]),_:2},1024)):Y("",!0)]),w.description?(K(),F("div",za,re(w.description),1)):Y("",!0),w.keywords&&w.keywords.length?(K(),F("div",Fa,[(K(!0),F(fe,null,Be(w.keywords,(ce,le)=>(K(),oe(D,{key:le},{default:G(()=>[ne(re(ce),1)]),_:2},1024))),128))])):Y("",!0)]))),128))]),U(de,{layout:"prev,jumper,next",total:P(p)>1e3?1e3:P(p),"hide-on-single-page":!0,onCurrentChange:S[2]||(S[2]=w=>M(w-1))},null,8,["total"])],64))],64)):Y("",!0)],1024))],64)}}});const Bo=Rr(vo,[["__scopeId","data-v-033bab9d"]]);export{Bo as default};
