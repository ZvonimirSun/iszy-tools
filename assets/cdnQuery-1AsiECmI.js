import{j as Ie,u as Oe,o as q,l as oe,w as H,r as rt,aB as Xn,aC as Yn,m as P,aj as Zn,_ as ze,t as Dt,aD as Ye,a4 as er,A as tr,aE as nr,y as Ee,ag as yt,p as $e,R as G,aF as Xe,aG as rr,aH as ar,aI as or,a7 as de,al as vt,aJ as sr,V as ke,ah as Ze,an as et,F as M,G as L,s as ir,n as he,Z as ye,H as U,K as W,q as ur,X as fe,Y as _e,a8 as xt,aK as dr,aL as lr,a9 as kt,T as cr,a5 as fr,aM as hr,aN as ve,aO as pr,aP as mr,k as Et,aQ as gr,I as ee,aR as yr,aS as vr,L as Z,W as bt,aT as kr,aA as br,aU as Nt,$ as Nr,a0 as Cr}from"./index-BBGb7ztx.js";import{E as wr}from"./el-checkbox-DL9PAFRs.js";/* empty css               */import{s as Dr,E as xr,a as Er}from"./el-select-Dow_X64C.js";import"./el-popper-FxBZeNKL.js";import{E as Ir}from"./el-pagination-Bou5a3jx.js";import{E as Or}from"./el-divider-D8yUorQm.js";import{L as Pr,P as Tr,T as jr,a as Sr,b as qr}from"./Router-u-NDJPc-.js";import{E as Kr}from"./index-xewF16Ru.js";import"./strings-BQ5A9Gdz.js";import"./castArray-DD9_FAvF.js";import"./_baseIteratee-NjpBBnhP.js";import"./index-D61loPXR.js";import"./index-Bvtjfwmg.js";import"./isUndefined-DCTLXrZ8.js";const Ar=Ie({name:"ElCollapseTransition"}),Rr=Ie({...Ar,setup(s){const o=Oe("collapse-transition"),i=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},d={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){i(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){i(t)},leaveCancelled(t){i(t)}};return(t,l)=>(q(),oe(Zn,Xn({name:P(o).b()},Yn(d)),{default:H(()=>[rt(t.$slots,"default")]),_:3},16,["name"]))}});var _r=ze(Rr,[["__file","collapse-transition.vue"]]);const $r=Dt(_r),xe="$treeNodeId",Ct=function(s,o){!o||o[xe]||Object.defineProperty(o,xe,{value:s.id,enumerable:!1,configurable:!1,writable:!1})},at=function(s,o){return s?o[s]:o[xe]},tt=(s,o,i)=>{const d=s.value.currentNode;i();const t=s.value.currentNode;d!==t&&o("current-change",t?t.data:null,t)},nt=s=>{let o=!0,i=!0,d=!0;for(let t=0,l=s.length;t<l;t++){const g=s[t];(g.checked!==!0||g.indeterminate)&&(o=!1,g.disabled||(d=!1)),(g.checked!==!1||g.indeterminate)&&(i=!1)}return{all:o,none:i,allWithoutDisable:d,half:!o&&!i}},Re=function(s){if(s.childNodes.length===0||s.loading)return;const{all:o,none:i,half:d}=nt(s.childNodes);o?(s.checked=!0,s.indeterminate=!1):d?(s.checked=!1,s.indeterminate=!0):i&&(s.checked=!1,s.indeterminate=!1);const t=s.parent;!t||t.level===0||s.store.checkStrictly||Re(t)},Me=function(s,o){const i=s.store.props,d=s.data||{},t=i[o];if(typeof t=="function")return t(d,s);if(typeof t=="string")return d[t];if(typeof t>"u"){const l=d[o];return l===void 0?"":l}};let Br=0;class be{constructor(o){this.id=Br++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in o)Ye(o,i)&&(this[i]=o[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const o=this.store;if(!o)throw new Error("[Node]store is required!");o.registerNode(this);const i=o.props;if(i&&typeof i.isLeaf<"u"){const l=Me(this,"isLeaf");typeof l=="boolean"&&(this.isLeafByUser=l)}if(o.lazy!==!0&&this.data?(this.setData(this.data),o.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&o.lazy&&o.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||Ct(this,this.data),!this.data)return;const d=o.defaultExpandedKeys,t=o.key;t&&d&&d.includes(this.key)&&this.expand(null,o.autoExpandParent),t&&o.currentNodeKey!==void 0&&this.key===o.currentNodeKey&&(o.currentNode=this,o.currentNode.isCurrent=!0),o.lazy&&o._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(o){Array.isArray(o)||Ct(this,o),this.data=o,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=Me(this,"children")||[];for(let d=0,t=i.length;d<t;d++)this.insertChild({data:i[d]})}get label(){return Me(this,"label")}get key(){const o=this.store.key;return this.data?this.data[o]:null}get disabled(){return Me(this,"disabled")}get nextSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return o.childNodes[i+1]}return null}get previousSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return i>0?o.childNodes[i-1]:null}return null}contains(o,i=!0){return(this.childNodes||[]).some(d=>d===o||i&&d.contains(o))}remove(){const o=this.parent;o&&o.removeChild(this)}insertChild(o,i,d){if(!o)throw new Error("InsertChild error: child is required.");if(!(o instanceof be)){if(!d){const t=this.getChildren(!0);t.includes(o.data)||(typeof i>"u"||i<0?t.push(o.data):t.splice(i,0,o.data))}Object.assign(o,{parent:this,store:this.store}),o=er(new be(o)),o instanceof be&&o.initialize()}o.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(o):this.childNodes.splice(i,0,o),this.updateLeafState()}insertBefore(o,i){let d;i&&(d=this.childNodes.indexOf(i)),this.insertChild(o,d)}insertAfter(o,i){let d;i&&(d=this.childNodes.indexOf(i),d!==-1&&(d+=1)),this.insertChild(o,d)}removeChild(o){const i=this.getChildren()||[],d=i.indexOf(o.data);d>-1&&i.splice(d,1);const t=this.childNodes.indexOf(o);t>-1&&(this.store&&this.store.deregisterNode(o),o.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(o){let i=null;for(let d=0;d<this.childNodes.length;d++)if(this.childNodes[d].data===o){i=this.childNodes[d];break}i&&this.removeChild(i)}expand(o,i){const d=()=>{if(i){let t=this.parent;for(;t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,o&&o(),this.childNodes.forEach(t=>{t.canFocus=!0})};this.shouldLoadData()?this.loadData(t=>{Array.isArray(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Re(this),d())}):d()}doCreateChildren(o,i={}){o.forEach(d=>{this.insertChild(Object.assign({data:d},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(o=>{o.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const o=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!o||o.length===0;return}this.isLeaf=!1}setChecked(o,i,d,t){if(this.indeterminate=o==="half",this.checked=o===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:g,allWithoutDisable:b}=nt(this.childNodes);!this.isLeaf&&!g&&b&&(this.checked=!1,o=!1);const K=()=>{if(i){const D=this.childNodes;for(let E=0,v=D.length;E<v;E++){const $=D[E];t=t||o!==!1;const F=$.disabled?$.checked:t;$.setChecked(F,i,!0,t)}const{half:N,all:x}=nt(D);x||(this.checked=x,this.indeterminate=N)}};if(this.shouldLoadData()){this.loadData(()=>{K(),Re(this)},{checked:o!==!1});return}else K()}const l=this.parent;!l||l.level===0||d||Re(l)}getChildren(o=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const d=this.store.props;let t="children";return d&&(t=d.children||"children"),i[t]===void 0&&(i[t]=null),o&&!i[t]&&(i[t]=[]),i[t]}updateChildren(){const o=this.getChildren()||[],i=this.childNodes.map(l=>l.data),d={},t=[];o.forEach((l,g)=>{const b=l[xe];!!b&&i.findIndex(D=>D[xe]===b)>=0?d[b]={index:g,data:l}:t.push({index:g,data:l})}),this.store.lazy||i.forEach(l=>{d[l[xe]]||this.removeChildByData(l)}),t.forEach(({index:l,data:g})=>{this.insertChild({data:g},l)}),this.updateLeafState()}loadData(o,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const d=l=>{this.childNodes=[],this.doCreateChildren(l,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),o&&o.call(this,l)},t=()=>{this.loading=!1};this.store.load(this,d,t)}else o&&o.call(this)}eachNode(o){const i=[this];for(;i.length;){const d=i.shift();i.unshift(...d.childNodes),o(d)}}reInitChecked(){this.store.checkStrictly||Re(this)}}class Lr{constructor(o){this.currentNode=null,this.currentNodeKey=null;for(const i in o)Ye(o,i)&&(this[i]=o[i]);this.nodesMap={}}initialize(){if(this.root=new be({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const o=this.load;o(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(o){const i=this.filterNodeMethod,d=this.lazy,t=function(l){const g=l.root?l.root.childNodes:l.childNodes;if(g.forEach(b=>{b.visible=i.call(b,o,b.data,b),t(b)}),!l.visible&&g.length){let b=!0;b=!g.some(K=>K.visible),l.root?l.root.visible=b===!1:l.visible=b===!1}o&&l.visible&&!l.isLeaf&&(!d||l.loaded)&&l.expand()};t(this)}setData(o){o!==this.root.data?(this.nodesMap={},this.root.setData(o),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(o){if(o instanceof be)return o;const i=tr(o)?at(this.key,o):o;return this.nodesMap[i]||null}insertBefore(o,i){const d=this.getNode(i);d.parent.insertBefore({data:o},d)}insertAfter(o,i){const d=this.getNode(i);d.parent.insertAfter({data:o},d)}remove(o){const i=this.getNode(o);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(o,i){const d=nr(i)?this.root:this.getNode(i);d&&d.insertChild({data:o})}_initDefaultCheckedNodes(){const o=this.defaultCheckedKeys||[],i=this.nodesMap;o.forEach(d=>{const t=i[d];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(o){(this.defaultCheckedKeys||[]).includes(o.key)&&o.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(o){o!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=o,this._initDefaultCheckedNodes())}registerNode(o){const i=this.key;!o||!o.data||(i?o.key!==void 0&&(this.nodesMap[o.key]=o):this.nodesMap[o.id]=o)}deregisterNode(o){!this.key||!o||!o.data||(o.childNodes.forEach(d=>{this.deregisterNode(d)}),delete this.nodesMap[o.key])}getCheckedNodes(o=!1,i=!1){const d=[],t=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(b=>{(b.checked||i&&b.indeterminate)&&(!o||o&&b.isLeaf)&&d.push(b.data),t(b)})};return t(this),d}getCheckedKeys(o=!1){return this.getCheckedNodes(o).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const o=[],i=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(l=>{l.indeterminate&&o.push(l.data),i(l)})};return i(this),o}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(o=>(o||{})[this.key])}_getAllNodes(){const o=[],i=this.nodesMap;for(const d in i)Ye(i,d)&&o.push(i[d]);return o}updateChildren(o,i){const d=this.nodesMap[o];if(!d)return;const t=d.childNodes;for(let l=t.length-1;l>=0;l--){const g=t[l];this.remove(g.data)}for(let l=0,g=i.length;l<g;l++){const b=i[l];this.append(b,d.data)}}_setCheckedKeys(o,i=!1,d){const t=this._getAllNodes().sort((K,D)=>K.level-D.level),l=Object.create(null),g=Object.keys(d);t.forEach(K=>K.setChecked(!1,!1));const b=K=>{K.childNodes.forEach(D=>{var N;l[D.data[o]]=!0,(N=D.childNodes)!=null&&N.length&&b(D)})};for(let K=0,D=t.length;K<D;K++){const N=t[K],x=N.data[o].toString();if(!g.includes(x)){N.checked&&!l[x]&&N.setChecked(!1,!1);continue}if(N.childNodes.length&&b(N),N.isLeaf||this.checkStrictly){N.setChecked(!0,!1);continue}if(N.setChecked(!0,!0),i){N.setChecked(!1,!1);const v=function($){$.childNodes.forEach(w=>{w.isLeaf||w.setChecked(!1,!1),v(w)})};v(N)}}}setCheckedNodes(o,i=!1){const d=this.key,t={};o.forEach(l=>{t[(l||{})[d]]=!0}),this._setCheckedKeys(d,i,t)}setCheckedKeys(o,i=!1){this.defaultCheckedKeys=o;const d=this.key,t={};o.forEach(l=>{t[l]=!0}),this._setCheckedKeys(d,i,t)}setDefaultExpandedKeys(o){o=o||[],this.defaultExpandedKeys=o,o.forEach(i=>{const d=this.getNode(i);d&&d.expand(null,this.autoExpandParent)})}setChecked(o,i,d){const t=this.getNode(o);t&&t.setChecked(!!i,d)}getCurrentNode(){return this.currentNode}setCurrentNode(o){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=o,this.currentNode.isCurrent=!0}setUserCurrentNode(o,i=!0){const d=o[this.key],t=this.nodesMap[d];this.setCurrentNode(t),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(o,i=!0){if(o==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const d=this.getNode(o);d&&(this.setCurrentNode(d),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Fr=Ie({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(s){const o=Oe("tree"),i=Ee("NodeInstance"),d=Ee("RootTree");return()=>{const t=s.node,{data:l,store:g}=t;return s.renderContent?s.renderContent(yt,{_self:i,node:t,data:l,store:g}):rt(d.ctx.slots,"default",{node:t,data:l},()=>[yt("span",{class:o.be("node","label")},[t.label])])}}});var Mr=ze(Fr,[["__file","tree-node-content.vue"]]);function It(s){const o=Ee("TreeNodeMap",null),i={treeNodeExpand:d=>{s.node!==d&&s.node.collapse()},children:[]};return o&&o.children.push(i),$e("TreeNodeMap",i),{broadcastExpanded:d=>{if(s.accordion)for(const t of i.children)t.treeNodeExpand(d)}}}const Ot=Symbol("dragEvents");function zr({props:s,ctx:o,el$:i,dropIndicator$:d,store:t}){const l=Oe("tree"),g=G({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return $e(Ot,{treeNodeDragStart:({event:N,treeNode:x})=>{if(typeof s.allowDrag=="function"&&!s.allowDrag(x.node))return N.preventDefault(),!1;N.dataTransfer.effectAllowed="move";try{N.dataTransfer.setData("text/plain","")}catch{}g.value.draggingNode=x,o.emit("node-drag-start",x.node,N)},treeNodeDragOver:({event:N,treeNode:x})=>{const E=x,v=g.value.dropNode;v&&v.node.id!==E.node.id&&Xe(v.$el,l.is("drop-inner"));const $=g.value.draggingNode;if(!$||!E)return;let F=!0,w=!0,X=!0,J=!0;typeof s.allowDrop=="function"&&(F=s.allowDrop($.node,E.node,"prev"),J=w=s.allowDrop($.node,E.node,"inner"),X=s.allowDrop($.node,E.node,"next")),N.dataTransfer.dropEffect=w||F||X?"move":"none",(F||w||X)&&(v==null?void 0:v.node.id)!==E.node.id&&(v&&o.emit("node-drag-leave",$.node,v.node,N),o.emit("node-drag-enter",$.node,E.node,N)),F||w||X?g.value.dropNode=E:g.value.dropNode=null,E.node.nextSibling===$.node&&(X=!1),E.node.previousSibling===$.node&&(F=!1),E.node.contains($.node,!1)&&(w=!1),($.node===E.node||$.node.contains(E.node))&&(F=!1,w=!1,X=!1);const te=E.$el.querySelector(`.${l.be("node","content")}`).getBoundingClientRect(),V=i.value.getBoundingClientRect();let y;const B=F?w?.25:X?.45:1:-1,re=X?w?.75:F?.55:0:1;let ne=-9999;const O=N.clientY-te.top;O<te.height*B?y="before":O>te.height*re?y="after":w?y="inner":y="none";const T=E.$el.querySelector(`.${l.be("node","expand-icon")}`).getBoundingClientRect(),I=d.value;y==="before"?ne=T.top-V.top:y==="after"&&(ne=T.bottom-V.top),I.style.top=`${ne}px`,I.style.left=`${T.right-V.left}px`,y==="inner"?rr(E.$el,l.is("drop-inner")):Xe(E.$el,l.is("drop-inner")),g.value.showDropIndicator=y==="before"||y==="after",g.value.allowDrop=g.value.showDropIndicator||J,g.value.dropType=y,o.emit("node-drag-over",$.node,E.node,N)},treeNodeDragEnd:N=>{const{draggingNode:x,dropType:E,dropNode:v}=g.value;if(N.preventDefault(),N.dataTransfer&&(N.dataTransfer.dropEffect="move"),x&&v){const $={data:x.node.data};E!=="none"&&x.node.remove(),E==="before"?v.node.parent.insertBefore($,v.node):E==="after"?v.node.parent.insertAfter($,v.node):E==="inner"&&v.node.insertChild($),E!=="none"&&(t.value.registerNode($),t.value.key&&x.node.eachNode(F=>{var w;(w=t.value.nodesMap[F.data[t.value.key]])==null||w.setChecked(F.checked,!t.value.checkStrictly)})),Xe(v.$el,l.is("drop-inner")),o.emit("node-drag-end",x.node,v.node,E,N),E!=="none"&&o.emit("node-drop",x.node,v.node,E,N)}x&&!v&&o.emit("node-drag-end",x.node,null,E,N),g.value.showDropIndicator=!1,g.value.draggingNode=null,g.value.dropNode=null,g.value.allowDrop=!0}}),{dragState:g}}const Hr=Ie({name:"ElTreeNode",components:{ElCollapseTransition:$r,ElCheckbox:wr,NodeContent:Mr,ElIcon:ar,Loading:or},props:{node:{type:be,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(s,o){const i=Oe("tree"),{broadcastExpanded:d}=It(s),t=Ee("RootTree"),l=G(!1),g=G(!1),b=G(null),K=G(null),D=G(null),N=Ee(Ot),x=xt();$e("NodeInstance",x),s.node.expanded&&(l.value=!0,g.value=!0);const E=t.props.props.children||"children";de(()=>{const O=s.node.data[E];return O&&[...O]},()=>{s.node.updateChildren()}),de(()=>s.node.indeterminate,O=>{F(s.node.checked,O)}),de(()=>s.node.checked,O=>{F(O,s.node.indeterminate)}),de(()=>s.node.childNodes.length,()=>s.node.reInitChecked()),de(()=>s.node.expanded,O=>{vt(()=>l.value=O),O&&(g.value=!0)});const v=O=>at(t.props.nodeKey,O.data),$=O=>{const T=s.props.class;if(!T)return{};let I;if(dr(T)){const{data:le}=O;I=T(le,O)}else I=T;return lr(I)?{[I]:!0}:I},F=(O,T)=>{(b.value!==O||K.value!==T)&&t.ctx.emit("check-change",s.node.data,O,T),b.value=O,K.value=T},w=O=>{tt(t.store,t.ctx.emit,()=>t.store.value.setCurrentNode(s.node)),t.currentNode.value=s.node,t.props.expandOnClickNode&&J(),t.props.checkOnClickNode&&!s.node.disabled&&te(null,{target:{checked:!s.node.checked}}),t.ctx.emit("node-click",s.node.data,s.node,x,O)},X=O=>{t.instance.vnode.props.onNodeContextmenu&&(O.stopPropagation(),O.preventDefault()),t.ctx.emit("node-contextmenu",O,s.node.data,s.node,x)},J=()=>{s.node.isLeaf||(l.value?(t.ctx.emit("node-collapse",s.node.data,s.node,x),s.node.collapse()):s.node.expand(()=>{o.emit("node-expand",s.node.data,s.node,x)}))},te=(O,T)=>{s.node.setChecked(T.target.checked,!t.props.checkStrictly),vt(()=>{const I=t.store.value;t.ctx.emit("check",s.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:i,node$:D,tree:t,expanded:l,childNodeRendered:g,oldChecked:b,oldIndeterminate:K,getNodeKey:v,getNodeClass:$,handleSelectChange:F,handleClick:w,handleContextMenu:X,handleExpandIconClick:J,handleCheckChange:te,handleChildNodeExpand:(O,T,I)=>{d(T),t.ctx.emit("node-expand",O,T,I)},handleDragStart:O=>{t.props.draggable&&N.treeNodeDragStart({event:O,treeNode:s})},handleDragOver:O=>{O.preventDefault(),t.props.draggable&&N.treeNodeDragOver({event:O,treeNode:{$el:D.value,node:s.node}})},handleDrop:O=>{O.preventDefault()},handleDragEnd:O=>{t.props.draggable&&N.treeNodeDragEnd(O)},CaretRight:sr}}});function Ur(s,o,i,d,t,l){const g=ke("el-icon"),b=ke("el-checkbox"),K=ke("loading"),D=ke("node-content"),N=ke("el-tree-node"),x=ke("el-collapse-transition");return Ze((q(),M("div",{ref:"node$",class:he([s.ns.b("node"),s.ns.is("expanded",s.expanded),s.ns.is("current",s.node.isCurrent),s.ns.is("hidden",!s.node.visible),s.ns.is("focusable",!s.node.disabled),s.ns.is("checked",!s.node.disabled&&s.node.checked),s.getNodeClass(s.node)]),role:"treeitem",tabindex:"-1","aria-expanded":s.expanded,"aria-disabled":s.node.disabled,"aria-checked":s.node.checked,draggable:s.tree.props.draggable,"data-key":s.getNodeKey(s.node),onClick:ye(s.handleClick,["stop"]),onContextmenu:s.handleContextMenu,onDragstart:ye(s.handleDragStart,["stop"]),onDragover:ye(s.handleDragOver,["stop"]),onDragend:ye(s.handleDragEnd,["stop"]),onDrop:ye(s.handleDrop,["stop"])},[L("div",{class:he(s.ns.be("node","content")),style:ur({paddingLeft:(s.node.level-1)*s.tree.props.indent+"px"})},[s.tree.props.icon||s.CaretRight?(q(),oe(g,{key:0,class:he([s.ns.be("node","expand-icon"),s.ns.is("leaf",s.node.isLeaf),{expanded:!s.node.isLeaf&&s.expanded}]),onClick:ye(s.handleExpandIconClick,["stop"])},{default:H(()=>[(q(),oe(ir(s.tree.props.icon||s.CaretRight)))]),_:1},8,["class","onClick"])):U("v-if",!0),s.showCheckbox?(q(),oe(b,{key:1,"model-value":s.node.checked,indeterminate:s.node.indeterminate,disabled:!!s.node.disabled,onClick:ye(()=>{},["stop"]),onChange:s.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):U("v-if",!0),s.node.loading?(q(),oe(g,{key:2,class:he([s.ns.be("node","loading-icon"),s.ns.is("loading")])},{default:H(()=>[W(K)]),_:1},8,["class"])):U("v-if",!0),W(D,{node:s.node,"render-content":s.renderContent},null,8,["node","render-content"])],6),W(x,null,{default:H(()=>[!s.renderAfterExpand||s.childNodeRendered?Ze((q(),M("div",{key:0,class:he(s.ns.be("node","children")),role:"group","aria-expanded":s.expanded},[(q(!0),M(fe,null,_e(s.node.childNodes,E=>(q(),oe(N,{key:s.getNodeKey(E),"render-content":s.renderContent,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,node:E,accordion:s.accordion,props:s.props,onNodeExpand:s.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[et,s.expanded]]):U("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[et,s.node.visible]])}var Jr=ze(Hr,[["render",Ur],["__file","tree-node.vue"]]);function Qr({el$:s},o){const i=Oe("tree"),d=kt([]),t=kt([]);cr(()=>{g()}),fr(()=>{d.value=Array.from(s.value.querySelectorAll("[role=treeitem]")),t.value=Array.from(s.value.querySelectorAll("input[type=checkbox]"))}),de(t,b=>{b.forEach(K=>{K.setAttribute("tabindex","-1")})}),hr(s,"keydown",b=>{const K=b.target;if(!K.className.includes(i.b("node")))return;const D=b.code;d.value=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const N=d.value.indexOf(K);let x;if([ve.up,ve.down].includes(D)){if(b.preventDefault(),D===ve.up){x=N===-1?0:N!==0?N-1:d.value.length-1;const v=x;for(;!o.value.getNode(d.value[x].dataset.key).canFocus;){if(x--,x===v){x=-1;break}x<0&&(x=d.value.length-1)}}else{x=N===-1?0:N<d.value.length-1?N+1:0;const v=x;for(;!o.value.getNode(d.value[x].dataset.key).canFocus;){if(x++,x===v){x=-1;break}x>=d.value.length&&(x=0)}}x!==-1&&d.value[x].focus()}[ve.left,ve.right].includes(D)&&(b.preventDefault(),K.click());const E=K.querySelector('[type="checkbox"]');[ve.enter,ve.space].includes(D)&&E&&(b.preventDefault(),E.click())});const g=()=>{var b;d.value=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),t.value=Array.from(s.value.querySelectorAll("input[type=checkbox]"));const K=s.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(K.length){K[0].setAttribute("tabindex","0");return}(b=d.value[0])==null||b.setAttribute("tabindex","0")}}const Gr=Ie({name:"ElTree",components:{ElTreeNode:Jr},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:pr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(s,o){const{t:i}=mr(),d=Oe("tree"),t=Ee(Dr,null),l=G(new Lr({key:s.nodeKey,data:s.data,lazy:s.lazy,props:s.props,load:s.load,currentNodeKey:s.currentNodeKey,checkStrictly:s.checkStrictly,checkDescendants:s.checkDescendants,defaultCheckedKeys:s.defaultCheckedKeys,defaultExpandedKeys:s.defaultExpandedKeys,autoExpandParent:s.autoExpandParent,defaultExpandAll:s.defaultExpandAll,filterNodeMethod:s.filterNodeMethod}));l.value.initialize();const g=G(l.value.root),b=G(null),K=G(null),D=G(null),{broadcastExpanded:N}=It(s),{dragState:x}=zr({props:s,ctx:o,el$:K,dropIndicator$:D,store:l});Qr({el$:K},l);const E=Et(()=>{const{childNodes:h}=g.value,R=t?t.hasFilteredOptions!==0:!1;return(!h||h.length===0||h.every(({visible:ue})=>!ue))&&!R});de(()=>s.currentNodeKey,h=>{l.value.setCurrentNodeKey(h)}),de(()=>s.defaultCheckedKeys,h=>{l.value.setDefaultCheckedKey(h)}),de(()=>s.defaultExpandedKeys,h=>{l.value.setDefaultExpandedKeys(h)}),de(()=>s.data,h=>{l.value.setData(h)},{deep:!0}),de(()=>s.checkStrictly,h=>{l.value.checkStrictly=h});const v=h=>{if(!s.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");l.value.filter(h)},$=h=>at(s.nodeKey,h.data),F=h=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const R=l.value.getNode(h);if(!R)return[];const ue=[R.data];let me=R.parent;for(;me&&me!==g.value;)ue.push(me.data),me=me.parent;return ue.reverse()},w=(h,R)=>l.value.getCheckedNodes(h,R),X=h=>l.value.getCheckedKeys(h),J=()=>{const h=l.value.getCurrentNode();return h?h.data:null},te=()=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const h=J();return h?h[s.nodeKey]:null},V=(h,R)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");l.value.setCheckedNodes(h,R)},y=(h,R)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");l.value.setCheckedKeys(h,R)},B=(h,R,ue)=>{l.value.setChecked(h,R,ue)},re=()=>l.value.getHalfCheckedNodes(),ne=()=>l.value.getHalfCheckedKeys(),O=(h,R=!0)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");tt(l,o.emit,()=>{N(h),l.value.setUserCurrentNode(h,R)})},T=(h,R=!0)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");tt(l,o.emit,()=>{N(),l.value.setCurrentNodeKey(h,R)})},I=h=>l.value.getNode(h),le=h=>{l.value.remove(h)},Pe=(h,R)=>{l.value.append(h,R)},Ne=(h,R)=>{l.value.insertBefore(h,R)},ce=(h,R)=>{l.value.insertAfter(h,R)},Te=(h,R,ue)=>{N(R),o.emit("node-expand",h,R,ue)},je=(h,R)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");l.value.updateChildren(h,R)};return $e("RootTree",{ctx:o,props:s,store:l,root:g,currentNode:b,instance:xt()}),$e(gr,void 0),{ns:d,store:l,root:g,currentNode:b,dragState:x,el$:K,dropIndicator$:D,isEmpty:E,filter:v,getNodeKey:$,getNodePath:F,getCheckedNodes:w,getCheckedKeys:X,getCurrentNode:J,getCurrentKey:te,setCheckedNodes:V,setCheckedKeys:y,setChecked:B,getHalfCheckedNodes:re,getHalfCheckedKeys:ne,setCurrentNode:O,setCurrentKey:T,t:i,getNode:I,remove:le,append:Pe,insertBefore:Ne,insertAfter:ce,handleNodeExpand:Te,updateKeyChildren:je}}});function Vr(s,o,i,d,t,l){const g=ke("el-tree-node");return q(),M("div",{ref:"el$",class:he([s.ns.b(),s.ns.is("dragging",!!s.dragState.draggingNode),s.ns.is("drop-not-allow",!s.dragState.allowDrop),s.ns.is("drop-inner",s.dragState.dropType==="inner"),{[s.ns.m("highlight-current")]:s.highlightCurrent}]),role:"tree"},[(q(!0),M(fe,null,_e(s.root.childNodes,b=>(q(),oe(g,{key:s.getNodeKey(b),node:b,props:s.props,accordion:s.accordion,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,"render-content":s.renderContent,onNodeExpand:s.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),s.isEmpty?(q(),M("div",{key:0,class:he(s.ns.e("empty-block"))},[rt(s.$slots,"empty",{},()=>{var b;return[L("span",{class:he(s.ns.e("empty-text"))},ee((b=s.emptyText)!=null?b:s.t("el.tree.emptyText")),3)]})],2)):U("v-if",!0),Ze(L("div",{ref:"dropIndicator$",class:he(s.ns.e("drop-indicator"))},null,2),[[et,s.dragState.showDropIndicator]])],2)}var Wr=ze(Gr,[["render",Vr],["__file","tree.vue"]]);const Xr=Dt(Wr);var Pt={exports:{}};/*! algoliasearch.umd.js | 4.24.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(s,o){(function(i,d){s.exports=d()})(vr,function(){function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,a)}return r}function t(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?d(Object(r),!0).forEach(function(a){i(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function l(e,n){if(e==null)return{};var r,a,u=function(m,c){if(m==null)return{};var p,C,k={},S=Object.keys(m);for(C=0;C<S.length;C++)p=S[C],c.indexOf(p)>=0||(k[p]=m[p]);return k}(e,n);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(a=0;a<f.length;a++)r=f[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}function g(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,a){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var u=[],f=!0,m=!1,c=void 0;try{for(var p,C=r[Symbol.iterator]();!(f=(p=C.next()).done)&&(u.push(p.value),!a||u.length!==a);f=!0);}catch(k){m=!0,c=k}finally{try{f||C.return==null||C.return()}finally{if(m)throw c}}return u}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(e){return function(n){if(Array.isArray(n)){for(var r=0,a=new Array(n.length);r<n.length;r++)a[r]=n[r];return a}}(e)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function K(e){var n,r="algoliasearch-client-js-".concat(e.key),a=function(){return n===void 0&&(n=e.localStorage||window.localStorage),n},u=function(){return JSON.parse(a().getItem(r)||"{}")},f=function(c){a().setItem(r,JSON.stringify(c))},m=function(){var c=e.timeToLive?1e3*e.timeToLive:null,p=u(),C=Object.fromEntries(Object.entries(p).filter(function(S){return g(S,2)[1].timestamp!==void 0}));if(f(C),c){var k=Object.fromEntries(Object.entries(C).filter(function(S){var j=g(S,2)[1],_=new Date().getTime();return!(j.timestamp+c<_)}));f(k)}};return{get:function(c,p){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){m();var k=JSON.stringify(c);return u()[k]}).then(function(k){return Promise.all([k?k.value:p(),k!==void 0])}).then(function(k){var S=g(k,2),j=S[0],_=S[1];return Promise.all([j,_||C.miss(j)])}).then(function(k){return g(k,1)[0]})},set:function(c,p){return Promise.resolve().then(function(){var C=u();return C[JSON.stringify(c)]={timestamp:new Date().getTime(),value:p},a().setItem(r,JSON.stringify(C)),p})},delete:function(c){return Promise.resolve().then(function(){var p=u();delete p[JSON.stringify(c)],a().setItem(r,JSON.stringify(p))})},clear:function(){return Promise.resolve().then(function(){a().removeItem(r)})}}}function D(e){var n=b(e.caches),r=n.shift();return r===void 0?{get:function(a,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},m=u();return m.then(function(c){return Promise.all([c,f.miss(c)])}).then(function(c){return g(c,1)[0]})},set:function(a,u){return Promise.resolve(u)},delete:function(a){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(a,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(a,u,f).catch(function(){return D({caches:n}).get(a,u,f)})},set:function(a,u){return r.set(a,u).catch(function(){return D({caches:n}).set(a,u)})},delete:function(a){return r.delete(a).catch(function(){return D({caches:n}).delete(a)})},clear:function(){return r.clear().catch(function(){return D({caches:n}).clear()})}}}function N(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},n={};return{get:function(r,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},f=JSON.stringify(r);if(f in n)return Promise.resolve(e.serializable?JSON.parse(n[f]):n[f]);var m=a(),c=u&&u.miss||function(){return Promise.resolve()};return m.then(function(p){return c(p)}).then(function(){return m})},set:function(r,a){return n[JSON.stringify(r)]=e.serializable?JSON.stringify(a):a,Promise.resolve(a)},delete:function(r){return delete n[JSON.stringify(r)],Promise.resolve()},clear:function(){return n={},Promise.resolve()}}}function x(e,n,r){var a={"x-algolia-api-key":r,"x-algolia-application-id":n};return{headers:function(){return e===X.WithinHeaders?a:{}},queryParameters:function(){return e===X.WithinQueryParameters?a:{}}}}function E(e){var n=0;return e(function r(){return n++,new Promise(function(a){setTimeout(function(){a(e(r))},Math.min(100*n,1e3))})})}function v(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,a){return Promise.resolve()};return Object.assign(e,{wait:function(r){return v(e.then(function(a){return Promise.all([n(a,r),a])}).then(function(a){return a[1]}))}})}function $(e){for(var n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=e[n];e[n]=e[r],e[r]=a}return e}function F(e,n){return n&&Object.keys(n).forEach(function(r){e[r]=n[r](e)}),e}function w(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var u=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[u++])})}var X={WithinQueryParameters:0,WithinHeaders:1};function J(e,n){var r=e||{},a=r.data||{};return Object.keys(r).forEach(function(u){["timeout","headers","queryParameters","data","cacheable"].indexOf(u)===-1&&(a[u]=r[u])}),{data:Object.entries(a).length>0?a:void 0,timeout:r.timeout||n,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var te={Read:1,Write:2,Any:3},V=1,y=2,B=3;function re(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V;return t(t({},e),{},{status:n,lastUpdate:Date.now()})}function ne(e){return typeof e=="string"?{protocol:"https",url:e,accept:te.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||te.Any}}var O="DELETE",T="GET",I="POST",le="PUT";function Pe(e,n){return Promise.all(n.map(function(r){return e.get(r,function(){return Promise.resolve(re(r))})})).then(function(r){var a=r.filter(function(m){return function(c){return c.status===V||Date.now()-c.lastUpdate>12e4}(m)}),u=r.filter(function(m){return function(c){return c.status===B&&Date.now()-c.lastUpdate<=12e4}(m)}),f=[].concat(b(a),b(u));return{getTimeout:function(m,c){return(u.length===0&&m===0?1:u.length+3+m)*c},statelessHosts:f.length>0?f.map(function(m){return ne(m)}):n}})}function Ne(e,n,r,a){var u=[],f=function(j,_){if(!(j.method===T||j.data===void 0&&_.data===void 0)){var A=Array.isArray(j.data)?j.data:t(t({},j.data),_.data);return JSON.stringify(A)}}(r,a),m=function(j,_){var A=t(t({},j.headers),_.headers),z={};return Object.keys(A).forEach(function(Q){var se=A[Q];z[Q.toLowerCase()]=se}),z}(e,a),c=r.method,p=r.method!==T?{}:t(t({},r.data),a.data),C=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),p),a.queryParameters),k=0,S=function j(_,A){var z=_.pop();if(z===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:R(u)};var Q={data:f,headers:m,method:c,url:je(z,r.path,C),connectTimeout:A(k,e.timeouts.connect),responseTimeout:A(k,a.timeout)},se=function(ie){var ae={request:Q,response:ie,host:z,triesLeft:_.length};return u.push(ae),ae},Ke={onSuccess:function(ie){return function(ae){try{return JSON.parse(ae.content)}catch(ge){throw function(pe,De){return{name:"DeserializationError",message:pe,response:De}}(ge.message,ae)}}(ie)},onRetry:function(ie){var ae=se(ie);return ie.isTimedOut&&k++,Promise.all([e.logger.info("Retryable failure",ue(ae)),e.hostsCache.set(z,re(z,ie.isTimedOut?B:y))]).then(function(){return j(_,A)})},onFail:function(ie){throw se(ie),function(ae,ge){var pe=ae.content,De=ae.status,Ae=pe;try{Ae=JSON.parse(pe).message}catch{}return function(Fe,We,Wn){return{name:"ApiError",message:Fe,status:We,transporterStackTrace:Wn}}(Ae,De,ge)}(ie,R(u))}};return e.requester.send(Q).then(function(ie){return function(ae,ge){return function(pe){var De=pe.status;return pe.isTimedOut||function(Ae){var Fe=Ae.isTimedOut,We=Ae.status;return!Fe&&~~We==0}(pe)||~~(De/100)!=2&&~~(De/100)!=4}(ae)?ge.onRetry(ae):~~(ae.status/100)==2?ge.onSuccess(ae):ge.onFail(ae)}(ie,Ke)})};return Pe(e.hostsCache,n).then(function(j){return S(b(j.statelessHosts).reverse(),j.getTimeout)})}function ce(e){var n=e.hostsCache,r=e.logger,a=e.requester,u=e.requestsCache,f=e.responsesCache,m=e.timeouts,c=e.userAgent,p=e.hosts,C=e.queryParameters,k={hostsCache:n,logger:r,requester:a,requestsCache:u,responsesCache:f,timeouts:m,userAgent:c,headers:e.headers,queryParameters:C,hosts:p.map(function(S){return ne(S)}),read:function(S,j){var _=J(j,k.timeouts.read),A=function(){return Ne(k,k.hosts.filter(function(Q){return(Q.accept&te.Read)!=0}),S,_)};if((_.cacheable!==void 0?_.cacheable:S.cacheable)!==!0)return A();var z={request:S,mappedRequestOptions:_,transporter:{queryParameters:k.queryParameters,headers:k.headers}};return k.responsesCache.get(z,function(){return k.requestsCache.get(z,function(){return k.requestsCache.set(z,A()).then(function(Q){return Promise.all([k.requestsCache.delete(z),Q])},function(Q){return Promise.all([k.requestsCache.delete(z),Promise.reject(Q)])}).then(function(Q){var se=g(Q,2);return se[0],se[1]})})},{miss:function(Q){return k.responsesCache.set(z,Q)}})},write:function(S,j){return Ne(k,k.hosts.filter(function(_){return(_.accept&te.Write)!=0}),S,J(j,k.timeouts.write))}};return k}function Te(e){var n={value:"Algolia for JavaScript (".concat(e,")"),add:function(r){var a="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return n.value.indexOf(a)===-1&&(n.value="".concat(n.value).concat(a)),n}};return n}function je(e,n,r){var a=h(r),u="".concat(e.protocol,"://").concat(e.url,"/").concat(n.charAt(0)==="/"?n.substr(1):n);return a.length&&(u+="?".concat(a)),u}function h(e){return Object.keys(e).map(function(n){return w("%s=%s",n,(r=e[n],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(e[n]):e[n]));var r}).join("&")}function R(e){return e.map(function(n){return ue(n)})}function ue(e){var n=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),n)})})}var me=function(e){return function(n,r){return e.transporter.write({method:I,path:"2/abtests",data:n},r)}},jt=function(e){return function(n,r){return e.transporter.write({method:O,path:w("2/abtests/%s",n)},r)}},St=function(e){return function(n,r){return e.transporter.read({method:T,path:w("2/abtests/%s",n)},r)}},qt=function(e){return function(n){return e.transporter.read({method:T,path:"2/abtests"},n)}},Kt=function(e){return function(n,r){return e.transporter.write({method:I,path:w("2/abtests/%s/stop",n)},r)}},At=function(e){return function(n){return e.transporter.read({method:T,path:"1/strategies/personalization"},n)}},Rt=function(e){return function(n,r){return e.transporter.write({method:I,path:"1/strategies/personalization",data:n},r)}};function He(e){return function n(r){return e.request(r).then(function(a){if(e.batch!==void 0&&e.batch(a.hits),!e.shouldStop(a))return a.cursor?n({cursor:a.cursor}):n({page:(r.page||0)+1})})}({})}var _t=function(e){return function(n,r){var a=r||{},u=a.queryParameters,f=l(a,["queryParameters"]),m=t({acl:n},u!==void 0?{queryParameters:u}:{});return v(e.transporter.write({method:I,path:"1/keys",data:m},f),function(c,p){return E(function(C){return Se(e)(c.key,p).catch(function(k){if(k.status!==404)throw k;return C()})})})}},$t=function(e){return function(n,r,a){var u=J(a);return u.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:I,path:"1/clusters/mapping",data:{cluster:r}},u)}},Bt=function(e){return function(n,r,a){return e.transporter.write({method:I,path:"1/clusters/mapping/batch",data:{users:n,cluster:r}},a)}},Lt=function(e){return function(n,r){return v(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),function(a,u){return Ce(e)(a.taskID,u)})}},Be=function(e){return function(n,r,a){return v(e.transporter.write({method:I,path:w("1/indexes/%s/operation",n),data:{operation:"copy",destination:r}},a),function(u,f){return qe(e)(n,{methods:{waitTask:Y}}).waitTask(u.taskID,f)})}},Ft=function(e){return function(n,r,a){return Be(e)(n,r,t(t({},a),{},{scope:[Ve.Rules]}))}},Mt=function(e){return function(n,r,a){return Be(e)(n,r,t(t({},a),{},{scope:[Ve.Settings]}))}},zt=function(e){return function(n,r,a){return Be(e)(n,r,t(t({},a),{},{scope:[Ve.Synonyms]}))}},Ht=function(e){return function(n,r){return n.method===T?e.transporter.read(n,r):e.transporter.write(n,r)}},Ut=function(e){return function(n,r){return v(e.transporter.write({method:O,path:w("1/keys/%s",n)},r),function(a,u){return E(function(f){return Se(e)(n,u).then(f).catch(function(m){if(m.status!==404)throw m})})})}},Jt=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"deleteEntry",body:{objectID:f}}});return v(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(f,m){return Ce(e)(f.taskID,m)})}},Se=function(e){return function(n,r){return e.transporter.read({method:T,path:w("1/keys/%s",n)},r)}},ot=function(e){return function(n,r){return e.transporter.read({method:T,path:w("1/task/%s",n.toString())},r)}},Qt=function(e){return function(n){return e.transporter.read({method:T,path:"/1/dictionaries/*/settings"},n)}},Gt=function(e){return function(n){return e.transporter.read({method:T,path:"1/logs"},n)}},Vt=function(e){return function(n){return e.transporter.read({method:T,path:"1/clusters/mapping/top"},n)}},Wt=function(e){return function(n,r){return e.transporter.read({method:T,path:w("1/clusters/mapping/%s",n)},r)}},Xt=function(e){return function(n){var r=n||{},a=r.retrieveMappings,u=l(r,["retrieveMappings"]);return a===!0&&(u.getClusters=!0),e.transporter.read({method:T,path:"1/clusters/mapping/pending"},u)}},qe=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={transporter:e.transporter,appId:e.appId,indexName:n};return F(a,r.methods)}},Yt=function(e){return function(n){return e.transporter.read({method:T,path:"1/keys"},n)}},Zt=function(e){return function(n){return e.transporter.read({method:T,path:"1/clusters"},n)}},en=function(e){return function(n){return e.transporter.read({method:T,path:"1/indexes"},n)}},tn=function(e){return function(n){return e.transporter.read({method:T,path:"1/clusters/mapping"},n)}},nn=function(e){return function(n,r,a){return v(e.transporter.write({method:I,path:w("1/indexes/%s/operation",n),data:{operation:"move",destination:r}},a),function(u,f){return qe(e)(n,{methods:{waitTask:Y}}).waitTask(u.taskID,f)})}},rn=function(e){return function(n,r){return v(e.transporter.write({method:I,path:"1/indexes/*/batch",data:{requests:n}},r),function(a,u){return Promise.all(Object.keys(a.taskID).map(function(f){return qe(e)(f,{methods:{waitTask:Y}}).waitTask(a.taskID[f],u)}))})}},an=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:n}},r)}},st=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{params:h(u.params||{})})});return e.transporter.read({method:I,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},r)}},it=function(e){return function(n,r){return Promise.all(n.map(function(a){var u=a.params,f=u.facetName,m=u.facetQuery,c=l(u,["facetName","facetQuery"]);return qe(e)(a.indexName,{methods:{searchForFacetValues:ht}}).searchForFacetValues(f,m,t(t({},r),c))}))}},on=function(e){return function(n,r){var a=J(r);return a.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:O,path:"1/clusters/mapping"},a)}},sn=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"addEntry",body:f}});return v(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:u}},a),function(f,m){return Ce(e)(f.taskID,m)})}},un=function(e){return function(n,r){return v(e.transporter.write({method:I,path:w("1/keys/%s/restore",n)},r),function(a,u){return E(function(f){return Se(e)(n,u).catch(function(m){if(m.status!==404)throw m;return f()})})})}},dn=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"addEntry",body:f}});return v(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(f,m){return Ce(e)(f.taskID,m)})}},ln=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("/1/dictionaries/%s/search",n),data:{query:r},cacheable:!0},a)}},cn=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/clusters/mapping/search",data:{query:n}},r)}},fn=function(e){return function(n,r){return v(e.transporter.write({method:le,path:"/1/dictionaries/*/settings",data:n},r),function(a,u){return Ce(e)(a.taskID,u)})}},hn=function(e){return function(n,r){var a=Object.assign({},r),u=r||{},f=u.queryParameters,m=l(u,["queryParameters"]),c=f?{queryParameters:f}:{},p=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return v(e.transporter.write({method:le,path:w("1/keys/%s",n),data:c},m),function(C,k){return E(function(S){return Se(e)(n,k).then(function(j){return function(_){return Object.keys(a).filter(function(A){return p.indexOf(A)!==-1}).every(function(A){if(Array.isArray(_[A])&&Array.isArray(a[A])){var z=_[A];return z.length===a[A].length&&z.every(function(Q,se){return Q===a[A][se]})}return _[A]===a[A]})}(j)?Promise.resolve():S()})})})}},Ce=function(e){return function(n,r){return E(function(a){return ot(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},ut=function(e){return function(n,r){return v(e.transporter.write({method:I,path:w("1/indexes/%s/batch",e.indexName),data:{requests:n}},r),function(a,u){return Y(e)(a.taskID,u)})}},pn=function(e){return function(n){return He(t(t({shouldStop:function(r){return r.cursor===void 0}},n),{},{request:function(r){return e.transporter.read({method:I,path:w("1/indexes/%s/browse",e.indexName),data:r},n)}}))}},mn=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return He(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return pt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(f){return delete f._highlightResult,f})})})}}))}},gn=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return He(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return mt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(f){return delete f._highlightResult,f})})})}}))}},Ue=function(e){return function(n,r,a){var u=a||{},f=u.batchSize,m=l(u,["batchSize"]),c={taskIDs:[],objectIDs:[]};return v(function p(){var C,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,S=[];for(C=k;C<n.length&&(S.push(n[C]),S.length!==(f||1e3));C++);return S.length===0?Promise.resolve(c):ut(e)(S.map(function(j){return{action:r,body:j}}),m).then(function(j){return c.objectIDs=c.objectIDs.concat(j.objectIDs),c.taskIDs.push(j.taskID),C++,p(C)})}(),function(p,C){return Promise.all(p.taskIDs.map(function(k){return Y(e)(k,C)}))})}},yn=function(e){return function(n){return v(e.transporter.write({method:I,path:w("1/indexes/%s/clear",e.indexName)},n),function(r,a){return Y(e)(r.taskID,a)})}},vn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=J(l(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:I,path:w("1/indexes/%s/rules/clear",e.indexName)},u),function(f,m){return Y(e)(f.taskID,m)})}},kn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=J(l(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:I,path:w("1/indexes/%s/synonyms/clear",e.indexName)},u),function(f,m){return Y(e)(f.taskID,m)})}},bn=function(e){return function(n,r){return v(e.transporter.write({method:I,path:w("1/indexes/%s/deleteByQuery",e.indexName),data:n},r),function(a,u){return Y(e)(a.taskID,u)})}},Nn=function(e){return function(n){return v(e.transporter.write({method:O,path:w("1/indexes/%s",e.indexName)},n),function(r,a){return Y(e)(r.taskID,a)})}},Cn=function(e){return function(n,r){return v(dt(e)([n],r).then(function(a){return{taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},dt=function(e){return function(n,r){var a=n.map(function(u){return{objectID:u}});return Ue(e)(a,we.DeleteObject,r)}},wn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(l(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:O,path:w("1/indexes/%s/rules/%s",e.indexName,n)},f),function(m,c){return Y(e)(m.taskID,c)})}},Dn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(l(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:O,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},f),function(m,c){return Y(e)(m.taskID,c)})}},xn=function(e){return function(n){return lt(e)(n).then(function(){return!0}).catch(function(r){if(r.status!==404)throw r;return!1})}},En=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("1/answers/%s/prediction",e.indexName),data:{query:n,queryLanguages:r},cacheable:!0},a)}},In=function(e){return function(n,r){var a=r||{},u=a.query,f=a.paginate,m=l(a,["query","paginate"]),c=0;return function p(){return ft(e)(u||"",t(t({},m),{},{page:c})).then(function(C){for(var k=0,S=Object.entries(C.hits);k<S.length;k++){var j=g(S[k],2),_=j[0],A=j[1];if(n(A))return{object:A,position:parseInt(_,10),page:c}}if(c++,f===!1||c>=C.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return p()})}()}},On=function(e){return function(n,r){return e.transporter.read({method:T,path:w("1/indexes/%s/%s",e.indexName,n)},r)}},Pn=function(){return function(e,n){for(var r=0,a=Object.entries(e.hits);r<a.length;r++){var u=g(a[r],2),f=u[0];if(u[1].objectID===n)return parseInt(f,10)}return-1}},Tn=function(e){return function(n,r){var a=r||{},u=a.attributesToRetrieve,f=l(a,["attributesToRetrieve"]),m=n.map(function(c){return t({indexName:e.indexName,objectID:c},u?{attributesToRetrieve:u}:{})});return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:m}},f)}},jn=function(e){return function(n,r){return e.transporter.read({method:T,path:w("1/indexes/%s/rules/%s",e.indexName,n)},r)}},lt=function(e){return function(n){return e.transporter.read({method:T,path:w("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},n)}},Sn=function(e){return function(n,r){return e.transporter.read({method:T,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},r)}},qn=function(e){return function(n,r){return v(ct(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},ct=function(e){return function(n,r){var a=r||{},u=a.createIfNotExists,f=l(a,["createIfNotExists"]),m=u?we.PartialUpdateObject:we.PartialUpdateObjectNoCreate;return Ue(e)(n,m,f)}},Kn=function(e){return function(n,r){var a=r||{},u=a.safe,f=a.autoGenerateObjectIDIfNotExist,m=a.batchSize,c=l(a,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),p=function(A,z,Q,se){return v(e.transporter.write({method:I,path:w("1/indexes/%s/operation",A),data:{operation:Q,destination:z}},se),function(Ke,ie){return Y(e)(Ke.taskID,ie)})},C=Math.random().toString(36).substring(7),k="".concat(e.indexName,"_tmp_").concat(C),S=Je({appId:e.appId,transporter:e.transporter,indexName:k}),j=[],_=p(e.indexName,k,"copy",t(t({},c),{},{scope:["settings","synonyms","rules"]}));return j.push(_),v((u?_.wait(c):_).then(function(){var A=S(n,t(t({},c),{},{autoGenerateObjectIDIfNotExist:f,batchSize:m}));return j.push(A),u?A.wait(c):A}).then(function(){var A=p(k,e.indexName,"move",c);return j.push(A),u?A.wait(c):A}).then(function(){return Promise.all(j)}).then(function(A){var z=g(A,3),Q=z[0],se=z[1],Ke=z[2];return{objectIDs:se.objectIDs,taskIDs:[Q.taskID].concat(b(se.taskIDs),[Ke.taskID])}}),function(A,z){return Promise.all(j.map(function(Q){return Q.wait(z)}))})}},An=function(e){return function(n,r){return Qe(e)(n,t(t({},r),{},{clearExistingRules:!0}))}},Rn=function(e){return function(n,r){return Ge(e)(n,t(t({},r),{},{clearExistingSynonyms:!0}))}},_n=function(e){return function(n,r){return v(Je(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},Je=function(e){return function(n,r){var a=r||{},u=a.autoGenerateObjectIDIfNotExist,f=l(a,["autoGenerateObjectIDIfNotExist"]),m=u?we.AddObject:we.UpdateObject;if(m===we.UpdateObject){var c=!0,p=!1,C=void 0;try{for(var k,S=n[Symbol.iterator]();!(c=(k=S.next()).done);c=!0)if(k.value.objectID===void 0)return v(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(j){p=!0,C=j}finally{try{c||S.return==null||S.return()}finally{if(p)throw C}}}return Ue(e)(n,m,f)}},$n=function(e){return function(n,r){return Qe(e)([n],r)}},Qe=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=a.clearExistingRules,m=J(l(a,["forwardToReplicas","clearExistingRules"]));return u&&(m.queryParameters.forwardToReplicas=1),f&&(m.queryParameters.clearExistingRules=1),v(e.transporter.write({method:I,path:w("1/indexes/%s/rules/batch",e.indexName),data:n},m),function(c,p){return Y(e)(c.taskID,p)})}},Bn=function(e){return function(n,r){return Ge(e)([n],r)}},Ge=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=a.clearExistingSynonyms,m=a.replaceExistingSynonyms,c=J(l(a,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return u&&(c.queryParameters.forwardToReplicas=1),(m||f)&&(c.queryParameters.replaceExistingSynonyms=1),v(e.transporter.write({method:I,path:w("1/indexes/%s/synonyms/batch",e.indexName),data:n},c),function(p,C){return Y(e)(p.taskID,C)})}},ft=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/query",e.indexName),data:{query:n},cacheable:!0},r)}},ht=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("1/indexes/%s/facets/%s/query",e.indexName,n),data:{facetQuery:r},cacheable:!0},a)}},pt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/rules/search",e.indexName),data:{query:n}},r)}},mt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/synonyms/search",e.indexName),data:{query:n}},r)}},Ln=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(l(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),v(e.transporter.write({method:le,path:w("1/indexes/%s/settings",e.indexName),data:n},f),function(m,c){return Y(e)(m.taskID,c)})}},Y=function(e){return function(n,r){return E(function(a){return function(u){return function(f,m){return u.transporter.read({method:T,path:w("1/indexes/%s/task/%s",u.indexName,f.toString())},m)}}(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},we={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},Ve={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Fn=1,Mn=2,zn=3,Le=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Hn=function(e){return function(n,r){return Le(e)(n.map(function(a){return t(t({},a),{},{fallbackParameters:{},model:"bought-together"})}),r)}},Un=function(e){return function(n,r){return Le(e)(n.map(function(a){return t(t({},a),{},{model:"related-products"})}),r)}},Jn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-facets",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Qn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-items",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Gn=function(e){return function(n,r){return Le(e)(n.map(function(a){return t(t({},a),{},{model:"looking-similar"})}),r)}},Vn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"recommended-for-you",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}};function gt(e,n,r){var a,u={appId:e,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(c){return new Promise(function(p){var C=new XMLHttpRequest;C.open(c.method,c.url,!0),Object.keys(c.headers).forEach(function(_){return C.setRequestHeader(_,c.headers[_])});var k,S=function(_,A){return setTimeout(function(){C.abort(),p({status:0,content:A,isTimedOut:!0})},1e3*_)},j=S(c.connectTimeout,"Connection timeout");C.onreadystatechange=function(){C.readyState>C.OPENED&&k===void 0&&(clearTimeout(j),k=S(c.responseTimeout,"Socket timeout"))},C.onerror=function(){C.status===0&&(clearTimeout(j),clearTimeout(k),p({content:C.responseText||"Network request failed",status:C.status,isTimedOut:!1}))},C.onload=function(){clearTimeout(j),clearTimeout(k),p({content:C.responseText,status:C.status,isTimedOut:!1})},C.send(c.data)})}},logger:(a=zn,{debug:function(c,p){return Fn>=a&&console.debug(c,p),Promise.resolve()},info:function(c,p){return Mn>=a&&console.info(c,p),Promise.resolve()},error:function(c,p){return console.error(c,p),Promise.resolve()}}),responsesCache:N(),requestsCache:N({serializable:!1}),hostsCache:D({caches:[K({key:"".concat("4.24.0","-").concat(e)}),N()]}),userAgent:Te("4.24.0").add({segment:"Browser"})},f=t(t({},u),r),m=function(){return function(c){return function(p){var C=p.region||"us",k=x(X.WithinHeaders,p.appId,p.apiKey),S=ce(t(t({hosts:[{url:"personalization.".concat(C,".algolia.com")}]},p),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),p.headers),queryParameters:t(t({},k.queryParameters()),p.queryParameters)}));return F({appId:p.appId,transporter:S},p.methods)}(t(t(t({},u),c),{},{methods:{getPersonalizationStrategy:At,setPersonalizationStrategy:Rt}}))}};return function(c){var p=c.appId,C=x(c.authMode!==void 0?c.authMode:X.WithinHeaders,p,c.apiKey),k=ce(t(t({hosts:[{url:"".concat(p,"-dsn.algolia.net"),accept:te.Read},{url:"".concat(p,".algolia.net"),accept:te.Write}].concat($([{url:"".concat(p,"-1.algolianet.com")},{url:"".concat(p,"-2.algolianet.com")},{url:"".concat(p,"-3.algolianet.com")}]))},c),{},{headers:t(t(t({},C.headers()),{"content-type":"application/x-www-form-urlencoded"}),c.headers),queryParameters:t(t({},C.queryParameters()),c.queryParameters)}));return F({transporter:k,appId:p,addAlgoliaAgent:function(S,j){k.userAgent.add({segment:S,version:j})},clearCache:function(){return Promise.all([k.requestsCache.clear(),k.responsesCache.clear()]).then(function(){})}},c.methods)}(t(t({},f),{},{methods:{search:st,searchForFacetValues:it,multipleBatch:rn,multipleGetObjects:an,multipleQueries:st,copyIndex:Be,copySettings:Mt,copySynonyms:zt,copyRules:Ft,moveIndex:nn,listIndices:en,getLogs:Gt,listClusters:Zt,multipleSearchForFacetValues:it,getApiKey:Se,addApiKey:_t,listApiKeys:Yt,updateApiKey:hn,deleteApiKey:Ut,restoreApiKey:un,assignUserID:$t,assignUserIDs:Bt,getUserID:Wt,searchUserIDs:cn,listUserIDs:tn,getTopUserIDs:Vt,removeUserID:on,hasPendingMappings:Xt,clearDictionaryEntries:Lt,deleteDictionaryEntries:Jt,getDictionarySettings:Qt,getAppTask:ot,replaceDictionaryEntries:sn,saveDictionaryEntries:dn,searchDictionaryEntries:ln,setDictionarySettings:fn,waitAppTask:Ce,customRequest:Ht,initIndex:function(c){return function(p){return qe(c)(p,{methods:{batch:ut,delete:Nn,findAnswers:En,getObject:On,getObjects:Tn,saveObject:_n,saveObjects:Je,search:ft,searchForFacetValues:ht,waitTask:Y,setSettings:Ln,getSettings:lt,partialUpdateObject:qn,partialUpdateObjects:ct,deleteObject:Cn,deleteObjects:dt,deleteBy:bn,clearObjects:yn,browseObjects:pn,getObjectPosition:Pn,findObject:In,exists:xn,saveSynonym:Bn,saveSynonyms:Ge,getSynonym:Sn,searchSynonyms:mt,browseSynonyms:gn,deleteSynonym:Dn,clearSynonyms:kn,replaceAllObjects:Kn,replaceAllSynonyms:Rn,searchRules:pt,getRule:jn,deleteRule:wn,saveRule:$n,saveRules:Qe,replaceAllRules:An,browseRules:mn,clearRules:vn}})}},initAnalytics:function(){return function(c){return function(p){var C=p.region||"us",k=x(X.WithinHeaders,p.appId,p.apiKey),S=ce(t(t({hosts:[{url:"analytics.".concat(C,".algolia.com")}]},p),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),p.headers),queryParameters:t(t({},k.queryParameters()),p.queryParameters)}));return F({appId:p.appId,transporter:S},p.methods)}(t(t(t({},u),c),{},{methods:{addABTest:me,getABTest:St,getABTests:qt,stopABTest:Kt,deleteABTest:jt}}))}},initPersonalization:m,initRecommendation:function(){return function(c){return f.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),m()(c)}},getRecommendations:Le,getFrequentlyBoughtTogether:Hn,getLookingSimilar:Gn,getRecommendedForYou:Vn,getRelatedProducts:Un,getTrendingFacets:Jn,getTrendingItems:Qn}}))}return gt.version="4.24.0",gt})})(Pt);var Yr=Pt.exports;const Zr=yr(Yr),ea=Zr("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),Tt=ea.initIndex("npm-search"),ta=async(s,o=0,i=10)=>{try{const d=oa(s);if(!d)return{response:null,query:s};const t={page:o,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:d.facetFilters?d.facetFilters:void 0},l=await Tt.search(d.query,t);return l.hits.sort((g,b)=>g.name===d.query?-1:b.name===d.query?1:0),{response:l,query:s}}catch{return{response:null,query:s}}};async function na(s){return Tt.getObject(s)}const ra=/\s*[a-z]+\s*:\s*(?:.(?![a-z]*\s*:))*/gi,aa=/^((?:[^\s:]+(?!\s*:)\s*)*)/,wt={author:"owner.name",type:"moduleTypes"};function oa(s){var l;const o=(l=s.match(aa))==null?void 0:l[0].trim();if(o==null)return;const i=s,d=[];let t;for(;(t=ra.exec(i))!==null;){const g=t[0].split(":");wt[g[0].trim()]&&d.push(`${wt[g[0].trim()]}:${g[1].trim()}`)}return{query:o,facetFilters:d.join(",")}}const sa={key:0},ia={class:"result-list"},ua={class:"pkgName"},da={class:"meta"},la=["onClick"],ca=["src","alt"],fa=["title"],ha={key:0,class:"description"},pa={key:1,flex:"","gap-2":""},ma={key:0},ga={key:1},ya={key:2},va={key:3},ka={key:4},ba={key:5},Na={key:7},Ca={key:8},wa={key:9},Da={key:0,flex:"","items-center":""},xa={key:1,flex:"","items-center":""},Ea=10,Ia=Ie({__name:"cdnQuery",setup(s){let o=null;const i=G(!1),d=G(""),t=G(""),l=G(0),g=G([]),b=G(0),K=G(""),D=G(),N=G(""),x=G([]),E=G(),v=G([]),$=Et(()=>v.value&&v.value.length?te(v.value):[]);async function F(V=0){if(!d.value){i.value=!1,D.value=null,N.value="",x.value=[],g.value=[],l.value=0,b.value=0,t.value="";return}o&&clearTimeout(o),o=window.setTimeout(async()=>{i.value=!0;const{response:y,query:B}=await ta(d.value,V,Ea);if(B===d.value){if(y){const{hits:re,page:ne,nbHits:O}=y;g.value=re,b.value=O,l.value=ne,t.value="done"}else br.warning("搜索失败");i.value=!1}},200)}function w(V){d.value=`author:${V}`,F(0)}async function X(V){K.value=V,D.value=null,N.value="",x.value=[],E.value=null,v.value=[];try{D.value=await na(V),N.value=D.value.version??"",await J()}catch(y){console.error(y.message)}}async function J(){var V,y;try{x.value=[],E.value=null,v.value=[],x.value=(await Nt.get(`https://data.jsdelivr.com/v1/package/npm/${((V=D.value)==null?void 0:V.name)??""}`)).data.versions.map(ne=>({label:ne,value:ne}));const{default:B,files:re}=(await Nt.get(`https://data.jsdelivr.com/v1/package/npm/${((y=D.value)==null?void 0:y.name)??""}@${N.value}`)).data;E.value=B,v.value=re}catch(B){console.error(B.message)}}function te(V,y){return V.map(B=>{const re=y?`${y}/${B.name}`:`/${B.name}`;return{label:B.name,icon:B.type==="directory"?"Folder":"",isLeaf:B.type!=="directory",fileName:re,children:B.type==="directory"&&B.files?te(B.files,re):void 0}})}return(V,y)=>{const B=Pr,re=Tr,ne=jr,O=Nr,T=Or,I=Kr,le=Ir,Pe=xr,Ne=Er,ce=Sr,Te=qr,je=Xr;return q(),M(fe,null,[W(re,null,{default:H(()=>[L("blockquote",null,[L("ul",null,[L("li",null,[y[6]||(y[6]=Z(" 数据来自: ")),W(B,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:H(()=>y[5]||(y[5]=[Z(" JSDelivr ")])),_:1})]),L("li",null,[y[8]||(y[8]=Z(" 搜索接口来自: ")),W(B,{href:"https://www.algolia.com/",target:"_blank"},{default:H(()=>y[7]||(y[7]=[Z(" Algolia ")])),_:1})])])])]),_:1}),W(ne,{level:3},{default:H(()=>y[9]||(y[9]=[Z(" 请输入要获取CDN的库名 ")])),_:1}),W(O,{modelValue:P(d),"onUpdate:modelValue":y[0]||(y[0]=h=>bt(d)?d.value=h:null),placeholder:"jquery",clearable:"",onChange:y[1]||(y[1]=h=>F(0))},null,8,["modelValue"]),(q(),oe(kr,null,[P(t)==="done"?(q(),M(fe,{key:0},[W(T),P(K)?(q(),M(fe,{key:1},[W(B,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:y[3]||(y[3]=h=>K.value=null)},{default:H(()=>y[12]||(y[12]=[L("span",{class:"i-icon-park-outline-return"},null,-1),Z(" 返回 ")])),_:1}),P(D)?(q(),oe(Te,{key:0,class:"metaDetail"},{default:H(()=>[L("ul",null,[P(D).name?(q(),M("li",ma,[y[13]||(y[13]=L("b",null,"名称: ",-1)),Z(ee(P(D).name),1)])):U("",!0),P(D).homepage?(q(),M("li",ga,[y[14]||(y[14]=L("b",null,"主页: ",-1)),W(B,{href:P(D).homepage,target:"_blank"},{default:H(()=>[Z(ee(P(D).homepage),1)]),_:1},8,["href"])])):U("",!0),P(D).description?(q(),M("li",ya,[y[15]||(y[15]=L("b",null,"简介: ",-1)),Z(ee(P(D).description),1)])):U("",!0),P(D).repository?(q(),M("li",va,[y[16]||(y[16]=L("b",null,"仓库: ",-1)),Z(ee(P(D).repository.type)+" / ",1),W(B,{href:P(D).repository.url,target:"_blank"},{default:H(()=>[Z(ee(P(D).repository.url),1)]),_:1},8,["href"])])):U("",!0),P(D).license?(q(),M("li",ka,[y[17]||(y[17]=L("b",null,"协议: ",-1)),Z(ee(P(D).license),1)])):U("",!0),P(D).owner?(q(),M("li",ba,[y[18]||(y[18]=L("b",null,"作者: ",-1)),Z(ee(P(D).owner.name)+" / ",1),W(B,{href:P(D).owner.link,target:"_blank"},{default:H(()=>[Z(ee(P(D).owner.link),1)]),_:1},8,["href"])])):U("",!0),P(x).length?(q(),oe(T,{key:6})):U("",!0),P(x).length?(q(),M("li",Na,[y[19]||(y[19]=L("b",null,"版本: ",-1)),W(Ne,{modelValue:P(N),"onUpdate:modelValue":y[4]||(y[4]=h=>bt(N)?N.value=h:null),options:P(x),onChange:J},{default:H(()=>[(q(!0),M(fe,null,_e(P(x),h=>(q(),oe(Pe,{key:h.value,value:h.value,label:h.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):U("",!0),P(E)?(q(),M("li",Ca,[y[20]||(y[20]=L("b",null,"默认文件: ",-1)),W(ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${P(D).name}@${P(N)}${P(E)}`}},{default:H(()=>[W(B,{href:`https://cdn.jsdelivr.net/npm/${P(D).name}@${P(N)}${P(E)}`,target:"_blank"},{default:H(()=>[Z(ee(P(E)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):U("",!0),P(v)&&P(v).length?(q(),M("li",wa,y[21]||(y[21]=[L("b",null,"文件列表",-1),L("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)]))):U("",!0)])]),_:1})):U("",!0),P(D)&&P(v)&&P(v).length?(q(),oe(je,{key:1,data:P($),selectable:!1},{default:H(({data:h})=>[h.isLeaf?(q(),M("div",Da,[y[22]||(y[22]=L("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),W(ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${P(D).name}@${P(N)}${h.fileName}`}},{default:H(()=>[Z(ee(h.label),1)]),_:2},1032,["copyable"])])):(q(),M("div",xa,[y[23]||(y[23]=L("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),W(ce,null,{default:H(()=>[Z(ee(h.label),1)]),_:2},1024)]))]),_:1},8,["data"])):U("",!0)],64)):(q(),M(fe,{key:0},[W(ne,{level:4},{default:H(()=>[L("span",null,"共找到 "+ee(P(b))+" 个库",1),P(b)>1e3?(q(),M("span",sa,"，最多展示前 1000 个结果")):U("",!0)]),_:1}),L("div",ia,[(q(!0),M(fe,null,_e(P(g),h=>(q(),M("div",{key:h.objectID,class:"result-list-item"},[L("div",ua,[W(ne,{level:4,onClick:R=>X(h.objectID)},{default:H(()=>[Z(ee(h.name),1)]),_:2},1032,["onClick"])]),L("div",da,[h.owner?(q(),M("div",{key:0,class:"owner",onClick:R=>w(h.owner.name)},[L("img",{src:h.owner.avatar,alt:h.owner.name},null,8,ca),L("div",null,ee(h.owner.name),1)],8,la)):U("",!0),h.version?(q(),oe(I,{key:1,effect:"plain"},{default:H(()=>[y[10]||(y[10]=L("span",{class:"i-icon-park-outline-tag-one"},null,-1)),L("span",{title:h.version},ee(h.version),9,fa)]),_:2},1024)):U("",!0),h.license?(q(),oe(I,{key:2,effect:"plain"},{default:H(()=>[y[11]||(y[11]=L("span",{class:"i-icon-park-outline-balance-two"},null,-1)),Z(ee(h.license),1)]),_:2},1024)):U("",!0)]),h.description?(q(),M("div",ha,ee(h.description),1)):U("",!0),h.keywords&&h.keywords.length?(q(),M("div",pa,[(q(!0),M(fe,null,_e(h.keywords,(R,ue)=>(q(),oe(I,{key:ue,effect:"plain"},{default:H(()=>[Z(ee(R),1)]),_:2},1024))),128))])):U("",!0)]))),128))]),W(le,{layout:"prev,jumper,next",total:P(b)>1e3?1e3:P(b),"hide-on-single-page":!0,onCurrentChange:y[2]||(y[2]=h=>F(h-1))},null,8,["total"])],64))],64)):U("",!0)],1024))],64)}}}),za=Cr(Ia,[["__scopeId","data-v-46ac45f3"]]);export{za as default};
