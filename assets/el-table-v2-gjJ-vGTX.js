import{a8 as ot,n as T,by as po,h as re,bG as Oe,j as p,m as kt,k as be,u as Me,R as $,a4 as Io,bH as Oo,x as n,a7 as pe,ab as Bt,ag as ue,$ as Ao,p as wt,a9 as Pe,o as Q,a_ as No,aF as $e,aH as bt,bv as Xe,a3 as Ae,am as It,l as St,a5 as zo,K as _,al as Fe,aP as Lo,T as Rt,bI as Po,bJ as Do,y as Ot,aI as At,Y as Fo,aD as $o,aG as Wo,bK as Go,I as qt,aB as Y,s as Ue,be as Vo,aN as Ut,bL as Ko,bM as jo,bN as ko,ba as Bo,z as Yt}from"./index-qQsk_k09.js";import{c as qo}from"./castArray-_zs3I2Qj.js";import{c as Zt,r as Xt}from"./raf-De0QvMTm.js";import{m as Uo}from"./memoize-one.esm-BdPwpGay.js";import{E as Yo}from"./el-empty-B1bHywG5.js";const Zo=()=>{const t=ot().proxy.$props;return T(()=>{const o=(l,r,a)=>({});return t.perfMode?po(o):Uo(o)})},Nt=50,zt="itemRendered",Lt="scroll",je="forward",rt="backward",He="auto",Jt="smart",st="start",De="center",ct="end",it="horizontal",Qt="vertical",eo="rtl",dt="negative",to="positive-ascending",oo="positive-descending",Xo={[it]:"left",[Qt]:"top"},Jo=20,ut=Oe({type:p([Number,Function]),required:!0}),ht=Oe({type:Number}),ft=Oe({type:Number,default:2}),Qo=Oe({type:String,values:["ltr","rtl"],default:"ltr"}),mt=Oe({type:Number,default:0}),et=Oe({type:Number,required:!0}),lo=Oe({type:String,values:["horizontal","vertical"],default:Qt}),no=re({className:{type:String,default:""},containerElement:{type:p([String,Object]),default:"div"},data:{type:p(Array),default:()=>kt([])},direction:Qo,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:p([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),el=re({cache:ft,estimatedItemSize:ht,layout:lo,initScrollOffset:mt,total:et,itemSize:ut,...no}),vt={type:Number,default:6},ao={type:Number,default:0},ro={type:Number,default:2},_e=re({columnCache:ft,columnWidth:ut,estimatedColumnWidth:ht,estimatedRowHeight:ht,initScrollLeft:mt,initScrollTop:mt,itemKey:{type:p(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:ft,rowHeight:ut,totalColumn:et,totalRow:et,hScrollbarSize:vt,vScrollbarSize:vt,scrollbarStartGap:ao,scrollbarEndGap:ro,role:String,...no}),so=re({alwaysOn:Boolean,class:String,layout:lo,total:et,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:vt,startGap:ao,endGap:ro,visible:Boolean}),Ze=(e,t)=>e<t?je:rt,Pt=e=>e===eo;let Le=null;function Dt(e=!1){if(Le===null||e){const t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const l=document.createElement("div"),r=l.style;return r.width="100px",r.height="100px",t.appendChild(l),document.body.appendChild(t),t.scrollLeft>0?Le=oo:(t.scrollLeft=1,t.scrollLeft===0?Le=dt:Le=to),document.body.removeChild(t),Le}return Le}function tl({move:e,size:t,bar:o},l){const r={},a=`translate${o.axis}(${e}px)`;return r[o.size]=t,r.transform=a,l==="horizontal"?r.height="100%":r.width="100%",r}const Ft=be({name:"ElVirtualScrollBar",props:so,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const o=T(()=>e.startGap+e.endGap),l=Me("virtual-scrollbar"),r=Me("scrollbar"),a=$(),s=$();let i=null,m=null;const h=Io({isDragging:!1,traveled:0}),d=T(()=>Oo[e.layout]),y=T(()=>e.clientSize-n(o)),w=T(()=>({position:"absolute",width:`${it===e.layout?y.value:e.scrollbarSize}px`,height:`${it===e.layout?e.scrollbarSize:y.value}px`,[Xo[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),v=T(()=>{const R=e.ratio;if(R>=100)return Number.POSITIVE_INFINITY;if(R>=50)return R*y.value/100;const F=y.value/3;return Math.floor(Math.min(Math.max(R*y.value,Jo),F))}),g=T(()=>{if(!Number.isFinite(v.value))return{display:"none"};const R=`${v.value}px`;return tl({bar:d.value,size:R,move:h.traveled},e.layout)}),u=T(()=>Math.ceil(e.clientSize-v.value-n(o))),c=()=>{window.addEventListener("mousemove",M),window.addEventListener("mouseup",H);const R=n(s);R&&(m=document.onselectstart,document.onselectstart=()=>!1,R.addEventListener("touchmove",M,{passive:!0}),R.addEventListener("touchend",H))},f=()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",H),document.onselectstart=m,m=null;const R=n(s);R&&(R.removeEventListener("touchmove",M),R.removeEventListener("touchend",H))},b=R=>{R.stopImmediatePropagation(),!(R.ctrlKey||[1,2].includes(R.button))&&(h.isDragging=!0,h[d.value.axis]=R.currentTarget[d.value.offset]-(R[d.value.client]-R.currentTarget.getBoundingClientRect()[d.value.direction]),t("start-move"),c())},H=()=>{h.isDragging=!1,h[d.value.axis]=0,t("stop-move"),f()},M=R=>{const{isDragging:F}=h;if(!F||!s.value||!a.value)return;const G=h[d.value.axis];if(!G)return;Zt(i);const k=(a.value.getBoundingClientRect()[d.value.direction]-R[d.value.client])*-1,x=s.value[d.value.offset]-G,I=k-x;i=Xt(()=>{h.traveled=Math.max(0,Math.min(I,u.value)),t("scroll",I,u.value)})},A=R=>{const F=Math.abs(R.target.getBoundingClientRect()[d.value.direction]-R[d.value.client]),G=s.value[d.value.offset]/2,k=F-G;h.traveled=Math.max(0,Math.min(k,u.value)),t("scroll",k,u.value)};return pe(()=>e.scrollFrom,R=>{h.isDragging||(h.traveled=Math.ceil(R*u.value))}),Bt(()=>{f()}),()=>ue("div",{role:"presentation",ref:a,class:[l.b(),e.class,(e.alwaysOn||h.isDragging)&&"always-on"],style:w.value,onMousedown:Ao(A,["stop","prevent"]),onTouchstartPrevent:b},ue("div",{ref:s,class:r.e("thumb"),style:g.value,onMousedown:b},[]))}});var ke=(e=>(e.ASC="asc",e.DESC="desc",e))(ke||{}),Be=(e=>(e.CENTER="center",e.RIGHT="right",e))(Be||{}),co=(e=>(e.LEFT="left",e.RIGHT="right",e))(co||{});const yt={asc:"desc",desc:"asc"},qe=Symbol("placeholder"),ol=(e,t,o)=>{var l;const r={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};o||(r.flexShrink=1);const a={...(l=e.style)!=null?l:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a};function ll(e,t,o){const l=T(()=>n(t).map((c,f)=>{var b,H;return{...c,key:(H=(b=c.key)!=null?b:c.dataKey)!=null?H:f}})),r=T(()=>n(l).filter(c=>!c.hidden)),a=T(()=>n(r).filter(c=>c.fixed==="left"||c.fixed===!0)),s=T(()=>n(r).filter(c=>c.fixed==="right")),i=T(()=>n(r).filter(c=>!c.fixed)),m=T(()=>{const c=[];return n(a).forEach(f=>{c.push({...f,placeholderSign:qe})}),n(i).forEach(f=>{c.push(f)}),n(s).forEach(f=>{c.push({...f,placeholderSign:qe})}),c}),h=T(()=>n(a).length||n(s).length),d=T(()=>n(l).reduce((c,f)=>(c[f.key]=ol(f,n(o),e.fixed),c),{})),y=T(()=>n(r).reduce((c,f)=>c+f.width,0)),w=c=>n(l).find(f=>f.key===c),v=c=>n(d)[c],g=(c,f)=>{c.width=f};function u(c){var f;const{key:b}=c.currentTarget.dataset;if(!b)return;const{sortState:H,sortBy:M}=e;let A=ke.ASC;wt(H)?A=yt[H[b]]:A=yt[M.order],(f=e.onColumnSort)==null||f.call(e,{column:w(b),key:b,order:A})}return{columns:l,columnsStyles:d,columnsTotalWidth:y,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,hasFixedColumns:h,mainColumns:m,normalColumns:i,visibleColumns:r,getColumn:w,getColumnStyle:v,updateColumnWidth:g,onColumnSorted:u}}const nl=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:r})=>{const a=$({scrollLeft:0,scrollTop:0});function s(v){var g,u,c;const{scrollTop:f}=v;(g=t.value)==null||g.scrollTo(v),(u=o.value)==null||u.scrollToTop(f),(c=l.value)==null||c.scrollToTop(f)}function i(v){a.value=v,s(v)}function m(v){a.value.scrollTop=v,s(n(a))}function h(v){var g,u;a.value.scrollLeft=v,(u=(g=t.value)==null?void 0:g.scrollTo)==null||u.call(g,n(a))}function d(v){var g;i(v),(g=e.onScroll)==null||g.call(e,v)}function y({scrollTop:v}){const{scrollTop:g}=n(a);v!==g&&m(v)}function w(v,g="auto"){var u;(u=t.value)==null||u.scrollToRow(v,g)}return pe(()=>n(a).scrollTop,(v,g)=>{v>g&&r()}),{scrollPos:a,scrollTo:i,scrollToLeft:h,scrollToTop:m,scrollToRow:w,onScroll:d,onVerticalScroll:y}},al=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:r,ns:a,isScrolling:s})=>{const i=ot(),{emit:m}=i,h=Pe(!1),d=$(e.defaultExpandedRowKeys||[]),y=$(-1),w=Pe(null),v=$({}),g=$({}),u=Pe({}),c=Pe({}),f=Pe({}),b=T(()=>Q(e.estimatedRowHeight));function H(x){var I;(I=e.onRowsRendered)==null||I.call(e,x),x.rowCacheEnd>n(y)&&(y.value=x.rowCacheEnd)}function M({hovered:x,rowKey:I}){if(s.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(I)}"]`).forEach(j=>{x?j.classList.add(a.is("hovered")):j.classList.remove(a.is("hovered"))})}function A({expanded:x,rowData:I,rowIndex:D,rowKey:z}){var j,B;const V=[...n(d)],U=V.indexOf(z);x?U===-1&&V.push(z):U>-1&&V.splice(U,1),d.value=V,m("update:expandedRowKeys",V),(j=e.onRowExpand)==null||j.call(e,{expanded:x,rowData:I,rowIndex:D,rowKey:z}),(B=e.onExpandedRowsChange)==null||B.call(e,V)}const R=No(()=>{var x,I,D,z;h.value=!0,v.value={...n(v),...n(g)},F(n(w),!1),g.value={},w.value=null,(x=t.value)==null||x.forceUpdate(),(I=o.value)==null||I.forceUpdate(),(D=l.value)==null||D.forceUpdate(),(z=i.proxy)==null||z.$forceUpdate(),h.value=!1},0);function F(x,I=!1){n(b)&&[t,o,l].forEach(D=>{const z=n(D);z&&z.resetAfterRowIndex(x,I)})}function G(x,I,D){const z=n(w);(z===null||z>D)&&(w.value=D),g.value[x]=I}function k({rowKey:x,height:I,rowIndex:D},z){z?z===co.RIGHT?f.value[x]=I:u.value[x]=I:c.value[x]=I;const j=Math.max(...[u,f,c].map(B=>B.value[x]||0));n(v)[x]!==j&&(G(x,j,D),R())}return{expandedRowKeys:d,lastRenderedRowIndex:y,isDynamic:b,isResetting:h,rowHeights:v,resetAfterIndex:F,onRowExpanded:A,onRowHovered:M,onRowsRendered:H,onRowHeightChange:k}},rl=(e,{expandedRowKeys:t,lastRenderedRowIndex:o,resetAfterIndex:l})=>{const r=$({}),a=T(()=>{const i={},{data:m,rowKey:h}=e,d=n(t);if(!d||!d.length)return m;const y=[],w=new Set;d.forEach(g=>w.add(g));let v=m.slice();for(v.forEach(g=>i[g[h]]=0);v.length>0;){const g=v.shift();y.push(g),w.has(g[h])&&$e(g.children)&&g.children.length>0&&(v=[...g.children,...v],g.children.forEach(u=>i[u[h]]=i[g[h]]+1))}return r.value=i,y}),s=T(()=>{const{data:i,expandColumnKey:m}=e;return m?n(a):i});return pe(s,(i,m)=>{i!==m&&(o.value=-1,l(0,!0))}),{data:s,depthMap:r}},sl=(e,t)=>e+t,Je=e=>$e(e)?e.reduce(sl,0):e,Ie=(e,t,o={})=>bt(e)?e(t):e??o,we=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Xe(e[t])}),e),io=e=>Ae(e)?t=>ue(e,t):e,cl=(e,{columnsTotalWidth:t,rowsHeight:o,fixedColumnsOnLeft:l,fixedColumnsOnRight:r})=>{const a=T(()=>{const{fixed:f,width:b,vScrollbarSize:H}=e,M=b-H;return f?Math.max(Math.round(n(t)),M):M}),s=T(()=>{const{height:f=0,maxHeight:b=0,footerHeight:H,hScrollbarSize:M}=e;if(b>0){const A=n(w),R=n(o),G=n(y)+A+R+M;return Math.min(G,b-H)}return f-H}),i=T(()=>{const{maxHeight:f}=e,b=n(s);if(Q(f)&&f>0)return b;const H=n(o)+n(y)+n(w);return Math.min(b,H)}),m=f=>f.width,h=T(()=>Je(n(l).map(m))),d=T(()=>Je(n(r).map(m))),y=T(()=>Je(e.headerHeight)),w=T(()=>{var f;return(((f=e.fixedData)==null?void 0:f.length)||0)*e.rowHeight}),v=T(()=>n(s)-n(y)-n(w)),g=T(()=>{const{style:f={},height:b,width:H}=e;return we({...f,height:b,width:H})}),u=T(()=>we({height:e.footerHeight})),c=T(()=>({top:Xe(n(y)),bottom:Xe(e.footerHeight),width:Xe(e.width)}));return{bodyWidth:a,fixedTableHeight:i,mainTableHeight:s,leftTableWidth:h,rightTableWidth:d,windowHeight:v,footerHeight:u,emptyStyle:c,rootStyle:g,headerHeight:y}};function il(e){const t=$(),o=$(),l=$(),{columns:r,columnsStyles:a,columnsTotalWidth:s,fixedColumnsOnLeft:i,fixedColumnsOnRight:m,hasFixedColumns:h,mainColumns:d,onColumnSorted:y}=ll(e,It(e,"columns"),It(e,"fixed")),{scrollTo:w,scrollToLeft:v,scrollToTop:g,scrollToRow:u,onScroll:c,onVerticalScroll:f,scrollPos:b}=nl(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:Ve}),H=Me("table-v2"),M=ot(),A=Pe(!1),{expandedRowKeys:R,lastRenderedRowIndex:F,isDynamic:G,isResetting:k,rowHeights:x,resetAfterIndex:I,onRowExpanded:D,onRowHeightChange:z,onRowHovered:j,onRowsRendered:B}=al(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:M,ns:H,isScrolling:A}),{data:V,depthMap:U}=rl(e,{expandedRowKeys:R,lastRenderedRowIndex:F,resetAfterIndex:I}),ne=T(()=>{const{estimatedRowHeight:q,rowHeight:oe}=e,ie=n(V);return Q(q)?Object.values(n(x)).reduce((S,E)=>S+E,0):ie.length*oe}),{bodyWidth:Se,fixedTableHeight:se,mainTableHeight:ae,leftTableWidth:fe,rightTableWidth:ce,windowHeight:me,footerHeight:Z,emptyStyle:ve,rootStyle:Re,headerHeight:ye}=cl(e,{columnsTotalWidth:s,fixedColumnsOnLeft:i,fixedColumnsOnRight:m,rowsHeight:ne}),Ne=$(),We=T(()=>{const q=n(V).length===0;return $e(e.fixedData)?e.fixedData.length===0&&q:q});function Ge(q){const{estimatedRowHeight:oe,rowHeight:ie,rowKey:S}=e;return oe?n(x)[n(V)[q][S]]||oe:ie}const ge=$(!1);function Ve(){const{onEndReached:q}=e;if(!q)return;const{scrollTop:oe}=n(b),ie=n(ne),S=n(me),E=ie-(oe+S)+e.hScrollbarSize;!ge.value&&n(F)>=0&&ie<=oe+n(ae)-n(ye)?(ge.value=!0,q(E)):ge.value=!1}return pe(()=>n(ne),()=>ge.value=!1),pe(()=>e.expandedRowKeys,q=>R.value=q,{deep:!0}),{columns:r,containerRef:Ne,mainTableRef:t,leftTableRef:o,rightTableRef:l,isDynamic:G,isResetting:k,isScrolling:A,hasFixedColumns:h,columnsStyles:a,columnsTotalWidth:s,data:V,expandedRowKeys:R,depthMap:U,fixedColumnsOnLeft:i,fixedColumnsOnRight:m,mainColumns:d,bodyWidth:Se,emptyStyle:ve,rootStyle:Re,footerHeight:Z,mainTableHeight:ae,fixedTableHeight:se,leftTableWidth:fe,rightTableWidth:ce,showEmpty:We,getRowHeight:Ge,onColumnSorted:y,onRowHovered:j,onRowExpanded:D,onRowsRendered:B,onRowHeightChange:z,scrollTo:w,scrollToLeft:v,scrollToTop:g,scrollToRow:u,onScroll:c,onVerticalScroll:f}}const xt=Symbol("tableV2"),uo="tableV2GridScrollLeft",ho=String,Ye={type:p(Array),required:!0},Tt={type:p(Array)},fo={...Tt,required:!0},dl=String,$t={type:p(Array),default:()=>kt([])},Ee={type:Number,required:!0},mo={type:p([String,Number,Symbol]),default:"id"},Wt={type:p(Object)},Ce=re({class:String,columns:Ye,columnsStyles:{type:p(Object),required:!0},depth:Number,expandColumnKey:dl,estimatedRowHeight:{..._e.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:p(Function)},onRowHover:{type:p(Function)},onRowHeightChange:{type:p(Function)},rowData:{type:p(Object),required:!0},rowEventHandlers:{type:p(Object)},rowIndex:{type:Number,required:!0},rowKey:mo,style:{type:p(Object)}}),at={type:Number,required:!0},Et=re({class:String,columns:Ye,fixedHeaderData:{type:p(Array)},headerData:{type:p(Array),required:!0},headerHeight:{type:p([Number,Array]),default:50},rowWidth:at,rowHeight:{type:Number,default:50},height:at,width:at}),Qe=re({columns:Ye,data:fo,fixedData:Tt,estimatedRowHeight:Ce.estimatedRowHeight,width:Ee,height:Ee,headerWidth:Ee,headerHeight:Et.headerHeight,bodyWidth:Ee,rowHeight:Ee,cache:el.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:_e.scrollbarAlwaysOn,scrollbarStartGap:_e.scrollbarStartGap,scrollbarEndGap:_e.scrollbarEndGap,class:ho,style:Wt,containerStyle:Wt,getRowHeight:{type:p(Function),required:!0},rowKey:Ce.rowKey,onRowsRendered:{type:p(Function)},onScroll:{type:p(Function)}}),ul=re({cache:Qe.cache,estimatedRowHeight:Ce.estimatedRowHeight,rowKey:mo,headerClass:{type:p([String,Function])},headerProps:{type:p([Object,Function])},headerCellProps:{type:p([Object,Function])},headerHeight:Et.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:p([String,Function])},rowProps:{type:p([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:p([Object,Function])},columns:Ye,data:fo,dataGetter:{type:p(Function)},fixedData:Tt,expandColumnKey:Ce.expandColumnKey,expandedRowKeys:$t,defaultExpandedRowKeys:$t,class:ho,fixed:Boolean,style:{type:p(Object)},width:Ee,height:Ee,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:_e.hScrollbarSize,vScrollbarSize:_e.vScrollbarSize,scrollbarAlwaysOn:so.alwaysOn,sortBy:{type:p(Object),default:()=>({})},sortState:{type:p(Object),default:void 0},onColumnSort:{type:p(Function)},onExpandedRowsChange:{type:p(Function)},onEndReached:{type:p(Function)},onRowExpand:Ce.onRowExpand,onScroll:Qe.onScroll,onRowsRendered:Qe.onRowsRendered,rowEventHandlers:Ce.rowEventHandlers}),hl="ElTableV2Header",fl=be({name:hl,props:Et,setup(e,{slots:t,expose:o}){const l=Me("table-v2"),r=St(uo),a=$(),s=T(()=>we({width:e.width,height:e.height})),i=T(()=>we({width:e.rowWidth,height:e.height})),m=T(()=>qo(n(e.headerHeight))),h=w=>{const v=n(a);Fe(()=>{v!=null&&v.scroll&&v.scroll({left:w})})},d=()=>{const w=l.e("fixed-header-row"),{columns:v,fixedHeaderData:g,rowHeight:u}=e;return g==null?void 0:g.map((c,f)=>{var b;const H=we({height:u,width:"100%"});return(b=t.fixed)==null?void 0:b.call(t,{class:w,columns:v,rowData:c,rowIndex:-(f+1),style:H})})},y=()=>{const w=l.e("dynamic-header-row"),{columns:v}=e;return n(m).map((g,u)=>{var c;const f=we({width:"100%",height:g});return(c=t.dynamic)==null?void 0:c.call(t,{class:w,columns:v,headerIndex:u,style:f})})};return zo(()=>{r!=null&&r.value&&h(r.value)}),o({scrollToLeft:h}),()=>{if(!(e.height<=0))return _("div",{ref:a,class:e.class,style:n(s),role:"rowgroup"},[_("div",{style:n(i),class:l.e("header")},[y(),d()])])}}});var ml=fl;const vl=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:o,atYStartEdge:l},r)=>{let a=null,s=0,i=0;const m=(d,y)=>{const w=d<=0&&t.value||d>=0&&e.value,v=y<=0&&l.value||y>=0&&o.value;return w&&v};return{hasReachedEdge:m,onWheel:d=>{Zt(a);let y=d.deltaX,w=d.deltaY;Math.abs(y)>Math.abs(w)?w=0:y=0,d.shiftKey&&w!==0&&(y=w,w=0),!(m(s,i)&&m(s+y,i+w))&&(s+=y,i+=w,d.preventDefault(),a=Xt(()=>{r(s,i),s=0,i=0}))}}},vo=({name:e,clearCache:t,getColumnPosition:o,getColumnStartIndexForOffset:l,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:a,getEstimatedTotalWidth:s,getColumnOffset:i,getRowOffset:m,getRowPosition:h,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:y,initCache:w,injectToInstance:v,validateProps:g})=>be({name:e??"ElVirtualList",props:_e,emits:[zt,Lt],setup(u,{emit:c,expose:f,slots:b}){const H=Me("vl");g(u);const M=ot(),A=$(w(u,M));v==null||v(M,A);const R=$(),F=$(),G=$(),k=$(null),x=$({isScrolling:!1,scrollLeft:Q(u.initScrollLeft)?u.initScrollLeft:0,scrollTop:Q(u.initScrollTop)?u.initScrollTop:0,updateRequested:!1,xAxisScrollDir:je,yAxisScrollDir:je}),I=Zo(),D=T(()=>Number.parseInt(`${u.height}`,10)),z=T(()=>Number.parseInt(`${u.width}`,10)),j=T(()=>{const{totalColumn:S,totalRow:E,columnCache:C}=u,{isScrolling:L,xAxisScrollDir:N,scrollLeft:O}=n(x);if(S===0||E===0)return[0,0,0,0];const P=l(u,O,n(A)),W=r(u,P,O,n(A)),K=!L||N===rt?Math.max(1,C):1,X=!L||N===je?Math.max(1,C):1;return[Math.max(0,P-K),Math.max(0,Math.min(S-1,W+X)),P,W]}),B=T(()=>{const{totalColumn:S,totalRow:E,rowCache:C}=u,{isScrolling:L,yAxisScrollDir:N,scrollTop:O}=n(x);if(S===0||E===0)return[0,0,0,0];const P=d(u,O,n(A)),W=y(u,P,O,n(A)),K=!L||N===rt?Math.max(1,C):1,X=!L||N===je?Math.max(1,C):1;return[Math.max(0,P-K),Math.max(0,Math.min(E-1,W+X)),P,W]}),V=T(()=>a(u,n(A))),U=T(()=>s(u,n(A))),ne=T(()=>{var S;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:Q(u.height)?`${u.height}px`:u.height,width:Q(u.width)?`${u.width}px`:u.width},(S=u.style)!=null?S:{}]}),Se=T(()=>{const S=`${n(U)}px`;return{height:`${n(V)}px`,pointerEvents:n(x).isScrolling?"none":void 0,width:S}}),se=()=>{const{totalColumn:S,totalRow:E}=u;if(S>0&&E>0){const[W,K,X,te]=n(j),[J,ee,xe,lt]=n(B);c(zt,{columnCacheStart:W,columnCacheEnd:K,rowCacheStart:J,rowCacheEnd:ee,columnVisibleStart:X,columnVisibleEnd:te,rowVisibleStart:xe,rowVisibleEnd:lt})}const{scrollLeft:C,scrollTop:L,updateRequested:N,xAxisScrollDir:O,yAxisScrollDir:P}=n(x);c(Lt,{xAxisScrollDir:O,scrollLeft:C,yAxisScrollDir:P,scrollTop:L,updateRequested:N})},ae=S=>{const{clientHeight:E,clientWidth:C,scrollHeight:L,scrollLeft:N,scrollTop:O,scrollWidth:P}=S.currentTarget,W=n(x);if(W.scrollTop===O&&W.scrollLeft===N)return;let K=N;if(Pt(u.direction))switch(Dt()){case dt:K=-N;break;case oo:K=P-C-N;break}x.value={...W,isScrolling:!0,scrollLeft:K,scrollTop:Math.max(0,Math.min(O,L-E)),updateRequested:!0,xAxisScrollDir:Ze(W.scrollLeft,K),yAxisScrollDir:Ze(W.scrollTop,O)},Fe(()=>ye()),Ne(),se()},fe=(S,E)=>{const C=n(D),L=(V.value-C)/E*S;Z({scrollTop:Math.min(V.value-C,L)})},ce=(S,E)=>{const C=n(z),L=(U.value-C)/E*S;Z({scrollLeft:Math.min(U.value-C,L)})},{onWheel:me}=vl({atXStartEdge:T(()=>x.value.scrollLeft<=0),atXEndEdge:T(()=>x.value.scrollLeft>=U.value-n(z)),atYStartEdge:T(()=>x.value.scrollTop<=0),atYEndEdge:T(()=>x.value.scrollTop>=V.value-n(D))},(S,E)=>{var C,L,N,O;(L=(C=F.value)==null?void 0:C.onMouseUp)==null||L.call(C),(O=(N=G.value)==null?void 0:N.onMouseUp)==null||O.call(N);const P=n(z),W=n(D);Z({scrollLeft:Math.min(x.value.scrollLeft+S,U.value-P),scrollTop:Math.min(x.value.scrollTop+E,V.value-W)})});Lo(R,"wheel",me,{passive:!1});const Z=({scrollLeft:S=x.value.scrollLeft,scrollTop:E=x.value.scrollTop})=>{S=Math.max(S,0),E=Math.max(E,0);const C=n(x);E===C.scrollTop&&S===C.scrollLeft||(x.value={...C,xAxisScrollDir:Ze(C.scrollLeft,S),yAxisScrollDir:Ze(C.scrollTop,E),scrollLeft:S,scrollTop:E,updateRequested:!0},Fe(()=>ye()),Ne(),se())},ve=(S=0,E=0,C=He)=>{const L=n(x);E=Math.max(0,Math.min(E,u.totalColumn-1)),S=Math.max(0,Math.min(S,u.totalRow-1));const N=Do(H.namespace.value),O=n(A),P=a(u,O),W=s(u,O);Z({scrollLeft:i(u,E,C,L.scrollLeft,O,W>u.width?N:0),scrollTop:m(u,S,C,L.scrollTop,O,P>u.height?N:0)})},Re=(S,E)=>{const{columnWidth:C,direction:L,rowHeight:N}=u,O=I.value(t&&C,t&&N,t&&L),P=`${S},${E}`;if($o(O,P))return O[P];{const[,W]=o(u,E,n(A)),K=n(A),X=Pt(L),[te,J]=h(u,S,K),[ee]=o(u,E,K);return O[P]={position:"absolute",left:X?void 0:`${W}px`,right:X?`${W}px`:void 0,top:`${J}px`,height:`${te}px`,width:`${ee}px`},O[P]}},ye=()=>{x.value.isScrolling=!1,Fe(()=>{I.value(-1,null,null)})};Rt(()=>{if(!Po)return;const{initScrollLeft:S,initScrollTop:E}=u,C=n(R);C&&(Q(S)&&(C.scrollLeft=S),Q(E)&&(C.scrollTop=E)),se()});const Ne=()=>{const{direction:S}=u,{scrollLeft:E,scrollTop:C,updateRequested:L}=n(x),N=n(R);if(L&&N){if(S===eo)switch(Dt()){case dt:{N.scrollLeft=-E;break}case to:{N.scrollLeft=E;break}default:{const{clientWidth:O,scrollWidth:P}=N;N.scrollLeft=P-O-E;break}}else N.scrollLeft=Math.max(0,E);N.scrollTop=Math.max(0,C)}},{resetAfterColumnIndex:We,resetAfterRowIndex:Ge,resetAfter:ge}=M.proxy;f({windowRef:R,innerRef:k,getItemStyleCache:I,scrollTo:Z,scrollToItem:ve,states:x,resetAfterColumnIndex:We,resetAfterRowIndex:Ge,resetAfter:ge});const Ve=()=>{const{scrollbarAlwaysOn:S,scrollbarStartGap:E,scrollbarEndGap:C,totalColumn:L,totalRow:N}=u,O=n(z),P=n(D),W=n(U),K=n(V),{scrollLeft:X,scrollTop:te}=n(x),J=ue(Ft,{ref:F,alwaysOn:S,startGap:E,endGap:C,class:H.e("horizontal"),clientSize:O,layout:"horizontal",onScroll:ce,ratio:O*100/W,scrollFrom:X/(W-O),total:N,visible:!0}),ee=ue(Ft,{ref:G,alwaysOn:S,startGap:E,endGap:C,class:H.e("vertical"),clientSize:P,layout:"vertical",onScroll:fe,ratio:P*100/K,scrollFrom:te/(K-P),total:L,visible:!0});return{horizontalScrollbar:J,verticalScrollbar:ee}},q=()=>{var S;const[E,C]=n(j),[L,N]=n(B),{data:O,totalColumn:P,totalRow:W,useIsScrolling:K,itemKey:X}=u,te=[];if(W>0&&P>0)for(let J=L;J<=N;J++)for(let ee=E;ee<=C;ee++){const xe=X({columnIndex:ee,data:O,rowIndex:J});te.push(ue(Fo,{key:xe},(S=b.default)==null?void 0:S.call(b,{columnIndex:ee,data:O,isScrolling:K?n(x).isScrolling:void 0,style:Re(J,ee),rowIndex:J})))}return te},oe=()=>{const S=Ot(u.innerElement),E=q();return[ue(S,{style:n(Se),ref:k},At(S)?E:{default:()=>E})]};return()=>{const S=Ot(u.containerElement),{horizontalScrollbar:E,verticalScrollbar:C}=Ve(),L=oe();return ue("div",{key:0,class:H.e("wrapper"),role:u.role},[ue(S,{class:u.className,style:n(ne),onScroll:ae,ref:R},At(S)?L:{default:()=>L}),E,C])}}}),{max:tt,min:yo,floor:go}=Math,yl={column:"columnWidth",row:"rowHeight"},gt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},he=(e,t,o,l)=>{const[r,a,s]=[o[l],e[yl[l]],o[gt[l]]];if(t>s){let i=0;if(s>=0){const m=r[s];i=m.offset+m.size}for(let m=s+1;m<=t;m++){const h=a(m);r[m]={offset:i,size:h},i+=h}o[gt[l]]=t}return r[t]},wo=(e,t,o,l,r,a)=>{for(;o<=l;){const s=o+go((l-o)/2),i=he(e,s,t,a).offset;if(i===r)return s;i<r?o=s+1:l=s-1}return tt(0,o-1)},gl=(e,t,o,l,r)=>{const a=r==="column"?e.totalColumn:e.totalRow;let s=1;for(;o<a&&he(e,o,t,r).offset<l;)o+=s,s*=2;return wo(e,t,go(o/2),yo(o,a-1),l,r)},Gt=(e,t,o,l)=>{const[r,a]=[t[l],t[gt[l]]];return(a>0?r[a].offset:0)>=o?wo(e,t,0,a,o,l):gl(e,t,tt(0,a),o,l)},bo=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:o,row:l})=>{let r=0;if(o>=e&&(o=e-1),o>=0){const i=l[o];r=i.offset+i.size}const s=(e-o-1)*t;return r+s},So=({totalColumn:e},{column:t,estimatedColumnWidth:o,lastVisitedColumnIndex:l})=>{let r=0;if(l>e&&(l=e-1),l>=0){const i=t[l];r=i.offset+i.size}const s=(e-l-1)*o;return r+s},wl={column:So,row:bo},Vt=(e,t,o,l,r,a,s)=>{const[i,m]=[a==="row"?e.height:e.width,wl[a]],h=he(e,t,r,a),d=m(e,r),y=tt(0,yo(d-i,h.offset)),w=tt(0,h.offset-i+s+h.size);switch(o===Jt&&(l>=w-i&&l<=y+i?o=He:o=De),o){case st:return y;case ct:return w;case De:return Math.round(w+(y-w)/2);case He:default:return l>=w&&l<=y?l:w>y||l<w?w:y}},bl=vo({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,o)=>{const l=he(e,t,o,"column");return[l.size,l.offset]},getRowPosition:(e,t,o)=>{const l=he(e,t,o,"row");return[l.size,l.offset]},getColumnOffset:(e,t,o,l,r,a)=>Vt(e,t,o,l,r,"column",a),getRowOffset:(e,t,o,l,r,a)=>Vt(e,t,o,l,r,"row",a),getColumnStartIndexForOffset:(e,t,o)=>Gt(e,o,t,"column"),getColumnStopIndexForStartIndex:(e,t,o,l)=>{const r=he(e,t,l,"column"),a=o+e.width;let s=r.offset+r.size,i=t;for(;i<e.totalColumn-1&&s<a;)i++,s+=he(e,t,l,"column").size;return i},getEstimatedTotalHeight:bo,getEstimatedTotalWidth:So,getRowStartIndexForOffset:(e,t,o)=>Gt(e,o,t,"row"),getRowStopIndexForStartIndex:(e,t,o,l)=>{const{totalRow:r,height:a}=e,s=he(e,t,l,"row"),i=o+a;let m=s.size+s.offset,h=t;for(;h<r-1&&m<i;)h++,m+=he(e,h,l,"row").size;return h},injectToInstance:(e,t)=>{const o=({columnIndex:a,rowIndex:s},i)=>{var m,h;i=Wo(i)?!0:i,Q(a)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,a-1)),Q(s)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,s-1)),(m=e.exposed)==null||m.getItemStyleCache.value(-1,null,null),i&&((h=e.proxy)==null||h.$forceUpdate())},l=(a,s)=>{o({columnIndex:a},s)},r=(a,s)=>{o({rowIndex:a},s)};Object.assign(e.proxy,{resetAfterColumnIndex:l,resetAfterRowIndex:r,resetAfter:o})},initCache:({estimatedColumnWidth:e=Nt,estimatedRowHeight:t=Nt})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Sl=vo({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:o},l,r,a,s,i)=>{o=Number(o);const m=Math.max(0,e*t-o),h=Math.min(m,l*t),d=Math.max(0,l*t-o+i+t);switch(r==="smart"&&(a>=d-o&&a<=h+o?r=He:r=De),r){case st:return h;case ct:return d;case De:{const y=Math.round(d+(h-d)/2);return y<Math.ceil(o/2)?0:y>m+Math.floor(o/2)?m:y}case He:default:return a>=d&&a<=h?a:d>h||a<d?d:h}},getRowOffset:({rowHeight:e,height:t,totalRow:o},l,r,a,s,i)=>{t=Number(t);const m=Math.max(0,o*e-t),h=Math.min(m,l*e),d=Math.max(0,l*e-t+i+e);switch(r===Jt&&(a>=d-t&&a<=h+t?r=He:r=De),r){case st:return h;case ct:return d;case De:{const y=Math.round(d+(h-d)/2);return y<Math.ceil(t/2)?0:y>m+Math.floor(t/2)?m:y}case He:default:return a>=d&&a<=h?a:d>h||a<d?d:h}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:o},l,r)=>{const a=l*e,s=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+s-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:o},l,r)=>{const a=l*e,s=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Rl="ElTableV2Grid",xl=e=>{const t=$(),o=$(),l=$(0),r=T(()=>{const{data:c,rowHeight:f,estimatedRowHeight:b}=e;if(!b)return c.length*f}),a=T(()=>{const{fixedData:c,rowHeight:f}=e;return((c==null?void 0:c.length)||0)*f}),s=T(()=>Je(e.headerHeight)),i=T(()=>{const{height:c}=e;return Math.max(0,c-n(s)-n(a))}),m=T(()=>n(s)+n(a)>0),h=({data:c,rowIndex:f})=>c[f][e.rowKey];function d({rowCacheStart:c,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:H}){var M;(M=e.onRowsRendered)==null||M.call(e,{rowCacheStart:c,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:H})}function y(c,f){var b;(b=o.value)==null||b.resetAfterRowIndex(c,f)}function w(c,f){const b=n(t),H=n(o);wt(c)?(b==null||b.scrollToLeft(c.scrollLeft),l.value=c.scrollLeft,H==null||H.scrollTo(c)):(b==null||b.scrollToLeft(c),l.value=c,H==null||H.scrollTo({scrollLeft:c,scrollTop:f}))}function v(c){var f;(f=n(o))==null||f.scrollTo({scrollTop:c})}function g(c,f){var b;(b=n(o))==null||b.scrollToItem(c,1,f)}function u(){var c,f;(c=n(o))==null||c.$forceUpdate(),(f=n(t))==null||f.$forceUpdate()}return pe(()=>e.bodyWidth,()=>{var c;Q(e.estimatedRowHeight)&&((c=o.value)==null||c.resetAfter({columnIndex:0},!1))}),{bodyRef:o,forceUpdate:u,fixedRowHeight:a,gridHeight:i,hasHeader:m,headerHeight:s,headerRef:t,totalHeight:r,itemKey:h,onItemRendered:d,resetAfterRowIndex:y,scrollTo:w,scrollToTop:v,scrollToRow:g,scrollLeft:l}},Tl=be({name:Rl,props:Qe,setup(e,{slots:t,expose:o}){const{ns:l}=St(xt),{bodyRef:r,fixedRowHeight:a,gridHeight:s,hasHeader:i,headerRef:m,headerHeight:h,totalHeight:d,forceUpdate:y,itemKey:w,onItemRendered:v,resetAfterRowIndex:g,scrollTo:u,scrollToTop:c,scrollToRow:f,scrollLeft:b}=xl(e);qt(uo,b),Go(async()=>{var M;await Fe();const A=(M=r.value)==null?void 0:M.states.scrollTop;A&&c(Math.round(A)+1)}),o({forceUpdate:y,totalHeight:d,scrollTo:u,scrollToTop:c,scrollToRow:f,resetAfterRowIndex:g});const H=()=>e.bodyWidth;return()=>{const{cache:M,columns:A,data:R,fixedData:F,useIsScrolling:G,scrollbarAlwaysOn:k,scrollbarEndGap:x,scrollbarStartGap:I,style:D,rowHeight:z,bodyWidth:j,estimatedRowHeight:B,headerWidth:V,height:U,width:ne,getRowHeight:Se,onScroll:se}=e,ae=Q(B),fe=ae?bl:Sl,ce=n(h);return _("div",{role:"table",class:[l.e("table"),e.class],style:D},[_(fe,{ref:r,data:R,useIsScrolling:G,itemKey:w,columnCache:0,columnWidth:ae?H:j,totalColumn:1,totalRow:R.length,rowCache:M,rowHeight:ae?Se:z,width:ne,height:n(s),class:l.e("body"),role:"rowgroup",scrollbarStartGap:I,scrollbarEndGap:x,scrollbarAlwaysOn:k,onScroll:se,onItemRendered:v,perfMode:!1},{default:me=>{var Z;const ve=R[me.rowIndex];return(Z=t.row)==null?void 0:Z.call(t,{...me,columns:A,rowData:ve})}}),n(i)&&_(ml,{ref:m,class:l.e("header-wrapper"),columns:A,headerData:R,headerHeight:e.headerHeight,fixedHeaderData:F,rowWidth:V,rowHeight:z,width:ne,height:Math.min(ce+n(a),U)},{dynamic:t.header,fixed:t.row})])}}});var Ht=Tl;function El(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ae(e)}const Hl=(e,{slots:t})=>{const{mainTableRef:o,...l}=e;return _(Ht,Y({ref:o},l),El(t)?t:{default:()=>[t]})};var Cl=Hl;function _l(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ae(e)}const Ml=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:o,...l}=e;return _(Ht,Y({ref:o},l),_l(t)?t:{default:()=>[t]})};var pl=Ml;function Il(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ae(e)}const Ol=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:o,...l}=e;return _(Ht,Y({ref:o},l),Il(t)?t:{default:()=>[t]})};var Al=Ol;const Nl=e=>{const{isScrolling:t}=St(xt),o=$(!1),l=$(),r=T(()=>Q(e.estimatedRowHeight)&&e.rowIndex>=0),a=(m=!1)=>{const h=n(l);if(!h)return;const{columns:d,onRowHeightChange:y,rowKey:w,rowIndex:v,style:g}=e,{height:u}=h.getBoundingClientRect();o.value=!0,Fe(()=>{if(m||u!==Number.parseInt(g.height)){const c=d[0],f=(c==null?void 0:c.placeholderSign)===qe;y==null||y({rowKey:w,height:u,rowIndex:v},c&&!f&&c.fixed)}})},s=T(()=>{const{rowData:m,rowIndex:h,rowKey:d,onRowHover:y}=e,w=e.rowEventHandlers||{},v={};return Object.entries(w).forEach(([g,u])=>{bt(u)&&(v[g]=c=>{u({event:c,rowData:m,rowIndex:h,rowKey:d})})}),y&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:g,hovered:u})=>{const c=v[g];v[g]=f=>{y({event:f,hovered:u,rowData:m,rowIndex:h,rowKey:d}),c==null||c(f)}}),v}),i=m=>{const{onRowExpand:h,rowData:d,rowIndex:y,rowKey:w}=e;h==null||h({expanded:m,rowData:d,rowIndex:y,rowKey:w})};return Rt(()=>{n(r)&&a(!0)}),{isScrolling:t,measurable:r,measured:o,rowRef:l,eventHandlers:s,onExpand:i}},zl="ElTableV2TableRow",Ll=be({name:zl,props:Ce,setup(e,{expose:t,slots:o,attrs:l}){const{eventHandlers:r,isScrolling:a,measurable:s,measured:i,rowRef:m,onExpand:h}=Nl(e);return t({onExpand:h}),()=>{const{columns:d,columnsStyles:y,expandColumnKey:w,depth:v,rowData:g,rowIndex:u,style:c}=e;let f=d.map((b,H)=>{const M=$e(g.children)&&g.children.length>0&&b.key===w;return o.cell({column:b,columns:d,columnIndex:H,depth:v,style:y[b.key],rowData:g,rowIndex:u,isScrolling:n(a),expandIconProps:M?{rowData:g,rowIndex:u,onExpand:h}:void 0})});if(o.row&&(f=o.row({cells:f.map(b=>$e(b)&&b.length===1?b[0]:b),style:c,columns:d,depth:v,rowData:g,rowIndex:u,isScrolling:n(a)})),n(s)){const{height:b,...H}=c||{},M=n(i);return _("div",Y({ref:m,class:e.class,style:M?c:H,role:"row"},l,n(r)),[f])}return _("div",Y(l,{ref:m,class:e.class,style:c,role:"row"},n(r)),[f])}}});var Pl=Ll;function Dl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ae(e)}const Fl=(e,{slots:t})=>{const{columns:o,columnsStyles:l,depthMap:r,expandColumnKey:a,expandedRowKeys:s,estimatedRowHeight:i,hasFixedColumns:m,rowData:h,rowIndex:d,style:y,isScrolling:w,rowProps:v,rowClass:g,rowKey:u,rowEventHandlers:c,ns:f,onRowHovered:b,onRowExpanded:H}=e,M=Ie(g,{columns:o,rowData:h,rowIndex:d},""),A=Ie(v,{columns:o,rowData:h,rowIndex:d}),R=h[u],F=r[R]||0,G=!!a,k=d<0,x=[f.e("row"),M,{[f.e(`row-depth-${F}`)]:G&&d>=0,[f.is("expanded")]:G&&s.includes(R),[f.is("fixed")]:!F&&k,[f.is("customized")]:!!t.row}],I=m?b:void 0,D={...A,columns:o,columnsStyles:l,class:x,depth:F,expandColumnKey:a,estimatedRowHeight:k?void 0:i,isScrolling:w,rowIndex:d,rowData:h,rowKey:R,rowEventHandlers:c,style:y};return _(Pl,Y(D,{onRowExpand:H,onMouseenter:B=>{I==null||I({hovered:!0,rowKey:R,event:B,rowData:h,rowIndex:d})},onMouseleave:B=>{I==null||I({hovered:!1,rowKey:R,event:B,rowData:h,rowIndex:d})},rowkey:R}),Dl(t)?t:{default:()=>[t]})};var $l=Fl;const Ct=(e,{slots:t})=>{var o;const{cellData:l,style:r}=e,a=((o=l==null?void 0:l.toString)==null?void 0:o.call(l))||"",s=Ue(t,"default",e,()=>[a]);return _("div",{class:e.class,title:a,style:r},[s])};Ct.displayName="ElTableV2Cell";Ct.inheritAttrs=!1;var Wl=Ct;const Gl=e=>{const{expanded:t,expandable:o,onExpand:l,style:r,size:a}=e,s={onClick:o?()=>l(!t):void 0,class:e.class};return _(Ut,Y(s,{size:a,style:r}),{default:()=>[_(Vo,null,null)]})};var Vl=Gl;const Ro=({columns:e,column:t,columnIndex:o,depth:l,expandIconProps:r,isScrolling:a,rowData:s,rowIndex:i,style:m,expandedRowKeys:h,ns:d,cellProps:y,expandColumnKey:w,indentSize:v,iconSize:g,rowKey:u},{slots:c})=>{const f=we(m);if(t.placeholderSign===qe)return _("div",{class:d.em("row-cell","placeholder"),style:f},null);const{cellRenderer:b,dataKey:H,dataGetter:M}=t,A=bt(M)?M({columns:e,column:t,columnIndex:o,rowData:s,rowIndex:i}):Ko(s,H??""),R=Ie(y,{cellData:A,columns:e,column:t,columnIndex:o,rowIndex:i,rowData:s}),F={class:d.e("cell-text"),columns:e,column:t,columnIndex:o,cellData:A,isScrolling:a,rowData:s,rowIndex:i},G=io(b),k=G?G(F):Ue(c,"default",F,()=>[_(Wl,F,null)]),x=[d.e("row-cell"),t.class,t.align===Be.CENTER&&d.is("align-center"),t.align===Be.RIGHT&&d.is("align-right")],I=i>=0&&w&&t.key===w,D=i>=0&&h.includes(s[u]);let z;const j=`margin-inline-start: ${l*v}px;`;return I&&(wt(r)?z=_(Vl,Y(r,{class:[d.e("expand-icon"),d.is("expanded",D)],size:g,expanded:D,style:j,expandable:!0}),null):z=_("div",{style:[j,`width: ${g}px; height: ${g}px;`].join(" ")},null)),_("div",Y({class:x,style:f},R,{role:"cell"}),[z,k])};Ro.inheritAttrs=!1;var Kt=Ro;const Kl=re({class:String,columns:Ye,columnsStyles:{type:p(Object),required:!0},headerIndex:Number,style:{type:p(Object)}}),jl=be({name:"ElTableV2HeaderRow",props:Kl,setup(e,{slots:t}){return()=>{const{columns:o,columnsStyles:l,headerIndex:r,style:a}=e;let s=o.map((i,m)=>t.cell({columns:o,column:i,columnIndex:m,headerIndex:r,style:l[i.key]}));return t.header&&(s=t.header({cells:s.map(i=>$e(i)&&i.length===1?i[0]:i),columns:o,headerIndex:r})),_("div",{class:e.class,style:a,role:"row"},[s])}}});var kl=jl;function Bl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ae(e)}const ql=({columns:e,columnsStyles:t,headerIndex:o,style:l,headerClass:r,headerProps:a,ns:s},{slots:i})=>{const m={columns:e,headerIndex:o},h=[s.e("header-row"),Ie(r,m,""),{[s.is("customized")]:!!i.header}],d={...Ie(a,m),columnsStyles:t,class:h,columns:e,headerIndex:o,style:l};return _(kl,d,Bl(i)?i:{default:()=>[i]})};var Ul=ql;const _t=(e,{slots:t})=>Ue(t,"default",e,()=>{var o,l;return[_("div",{class:e.class,title:(o=e.column)==null?void 0:o.title},[(l=e.column)==null?void 0:l.title])]});_t.displayName="ElTableV2HeaderCell";_t.inheritAttrs=!1;var Yl=_t;const Zl=e=>{const{sortOrder:t}=e;return _(Ut,{size:14,class:e.class},{default:()=>[t===ke.ASC?_(jo,null,null):_(ko,null,null)]})};var Xl=Zl;const Jl=(e,{slots:t})=>{const{column:o,ns:l,style:r,onColumnSorted:a}=e,s=we(r);if(o.placeholderSign===qe)return _("div",{class:l.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:i,headerClass:m,sortable:h}=o,d={...e,class:l.e("header-cell-text")},y=io(i),w=y?y(d):Ue(t,"default",d,()=>[_(Yl,d,null)]),{sortBy:v,sortState:g,headerCellProps:u}=e;let c,f;if(g){const M=g[o.key];c=!!yt[M],f=c?M:ke.ASC}else c=o.key===v.key,f=c?v.order:ke.ASC;const b=[l.e("header-cell"),Ie(m,e,""),o.align===Be.CENTER&&l.is("align-center"),o.align===Be.RIGHT&&l.is("align-right"),h&&l.is("sortable")],H={...Ie(u,e),onClick:o.sortable?a:void 0,class:b,style:s,"data-key":o.key};return _("div",Y(H,{role:"columnheader"}),[w,h&&_(Xl,{class:[l.e("sort-icon"),c&&l.is("sorting")],sortOrder:f},null)])};var jt=Jl;const xo=(e,{slots:t})=>{var o;return _("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};xo.displayName="ElTableV2Footer";var Ql=xo;const To=(e,{slots:t})=>{const o=Ue(t,"default",{},()=>[_(Yo,null,null)]);return _("div",{class:e.class,style:e.style},[o])};To.displayName="ElTableV2Empty";var en=To;const Eo=(e,{slots:t})=>{var o;return _("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};Eo.displayName="ElTableV2Overlay";var tn=Eo;function Ke(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ae(e)}const on="ElTableV2",ln=be({name:on,props:ul,setup(e,{slots:t,expose:o}){const l=Me("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,mainColumns:i,mainTableHeight:m,fixedTableHeight:h,leftTableWidth:d,rightTableWidth:y,data:w,depthMap:v,expandedRowKeys:g,hasFixedColumns:u,mainTableRef:c,leftTableRef:f,rightTableRef:b,isDynamic:H,isResetting:M,isScrolling:A,bodyWidth:R,emptyStyle:F,rootStyle:G,footerHeight:k,showEmpty:x,scrollTo:I,scrollToLeft:D,scrollToTop:z,scrollToRow:j,getRowHeight:B,onColumnSorted:V,onRowHeightChange:U,onRowHovered:ne,onRowExpanded:Se,onRowsRendered:se,onScroll:ae,onVerticalScroll:fe}=il(e);return o({scrollTo:I,scrollToLeft:D,scrollToTop:z,scrollToRow:j}),qt(xt,{ns:l,isResetting:M,isScrolling:A}),()=>{const{cache:ce,cellProps:me,estimatedRowHeight:Z,expandColumnKey:ve,fixedData:Re,headerHeight:ye,headerClass:Ne,headerProps:We,headerCellProps:Ge,sortBy:ge,sortState:Ve,rowHeight:q,rowClass:oe,rowEventHandlers:ie,rowKey:S,rowProps:E,scrollbarAlwaysOn:C,indentSize:L,iconSize:N,useIsScrolling:O,vScrollbarSize:P,width:W}=e,K=n(w),X={cache:ce,class:l.e("main"),columns:n(i),data:K,fixedData:Re,estimatedRowHeight:Z,bodyWidth:n(R),headerHeight:ye,headerWidth:n(R),height:n(m),mainTableRef:c,rowKey:S,rowHeight:q,scrollbarAlwaysOn:C,scrollbarStartGap:2,scrollbarEndGap:P,useIsScrolling:O,width:W,getRowHeight:B,onRowsRendered:se,onScroll:ae},te=n(d),J=n(h),ee={cache:ce,class:l.e("left"),columns:n(a),data:K,fixedData:Re,estimatedRowHeight:Z,leftTableRef:f,rowHeight:q,bodyWidth:te,headerWidth:te,headerHeight:ye,height:J,rowKey:S,scrollbarAlwaysOn:C,scrollbarStartGap:2,scrollbarEndGap:P,useIsScrolling:O,width:te,getRowHeight:B,onScroll:fe},xe=n(y),lt={cache:ce,class:l.e("right"),columns:n(s),data:K,fixedData:Re,estimatedRowHeight:Z,rightTableRef:b,rowHeight:q,bodyWidth:xe,headerWidth:xe,headerHeight:ye,height:J,rowKey:S,scrollbarAlwaysOn:C,scrollbarStartGap:2,scrollbarEndGap:P,width:xe,style:`--${n(l.namespace)}-table-scrollbar-size: ${P}px`,useIsScrolling:O,getRowHeight:B,onScroll:fe},ze=n(r),Ho={ns:l,depthMap:n(v),columnsStyles:ze,expandColumnKey:ve,expandedRowKeys:n(g),estimatedRowHeight:Z,hasFixedColumns:n(u),rowProps:E,rowClass:oe,rowKey:S,rowEventHandlers:ie,onRowHovered:ne,onRowExpanded:Se,onRowHeightChange:U},Mt={cellProps:me,expandColumnKey:ve,indentSize:L,iconSize:N,rowKey:S,expandedRowKeys:n(g),ns:l},Co={ns:l,headerClass:Ne,headerProps:We,columnsStyles:ze},pt={ns:l,sortBy:ge,sortState:Ve,headerCellProps:Ge,onColumnSorted:V},de={row:nt=>_($l,Y(nt,Ho),{row:t.row,cell:le=>{let Te;return t.cell?_(Kt,Y(le,Mt,{style:ze[le.column.key]}),Ke(Te=t.cell(le))?Te:{default:()=>[Te]}):_(Kt,Y(le,Mt,{style:ze[le.column.key]}),null)}}),header:nt=>_(Ul,Y(nt,Co),{header:t.header,cell:le=>{let Te;return t["header-cell"]?_(jt,Y(le,pt,{style:ze[le.column.key]}),Ke(Te=t["header-cell"](le))?Te:{default:()=>[Te]}):_(jt,Y(le,pt,{style:ze[le.column.key]}),null)}})},_o=[e.class,l.b(),l.e("root"),{[l.is("dynamic")]:n(H)}],Mo={class:l.e("footer"),style:n(k)};return _("div",{class:_o,style:n(G)},[_(Cl,X,Ke(de)?de:{default:()=>[de]}),_(pl,ee,Ke(de)?de:{default:()=>[de]}),_(Al,lt,Ke(de)?de:{default:()=>[de]}),t.footer&&_(Ql,Mo,{default:t.footer}),n(x)&&_(en,{class:l.e("empty"),style:n(F)},{default:t.empty}),t.overlay&&_(tn,{class:l.e("overlay")},{default:t.overlay})])}}});var nn=ln;const an=re({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:p(Function)}}),rn=e=>{const t=$(),o=$(0),l=$(0);let r;return Rt(()=>{r=Bo(t,([a])=>{const{width:s,height:i}=a.contentRect,{paddingLeft:m,paddingRight:h,paddingTop:d,paddingBottom:y}=getComputedStyle(a.target),w=Number.parseInt(m)||0,v=Number.parseInt(h)||0,g=Number.parseInt(d)||0,u=Number.parseInt(y)||0;o.value=s-w-v,l.value=i-g-u}).stop}),Bt(()=>{r==null||r()}),pe([o,l],([a,s])=>{var i;(i=e.onResize)==null||i.call(e,{width:a,height:s})}),{sizer:t,width:o,height:l}},sn=be({name:"ElAutoResizer",props:an,setup(e,{slots:t}){const o=Me("auto-resizer"),{height:l,width:r,sizer:a}=rn(e),s={width:"100%",height:"100%"};return()=>{var i;return _("div",{ref:a,class:o.b(),style:s},[(i=t.default)==null?void 0:i.call(t,{height:l.value,width:r.value})])}}});var cn=sn;const vn=Yt(nn),yn=Yt(cn);export{yn as E,co as F,vn as a};
