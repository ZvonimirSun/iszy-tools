var n=Object.defineProperty,e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,a)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,i=(n,i)=>{for(var r in i||(i={}))t.call(i,r)&&s(n,r,i[r]);if(e)for(var r of e(i))a.call(i,r)&&s(n,r,i[r]);return n};import{_ as r}from"./container.477ada9e.js";import{q as o,n as l,p,a as m,o as b,c as d,w as c,r as x,b as f,F as h,t as g}from"./vendor.3ed8d532.js";/* empty css              *//* empty css              */class u{constructor(n,e){this.x=n.x,this.y=n.y,this.value=e||2,this.previousPosition=null,this.mergedFrom=null}savePosition(){this.previousPosition={x:this.x,y:this.y}}updatePosition(n){this.x=n.x,this.y=n.y}serialize(){return{position:{x:this.x,y:this.y},value:this.value}}}class v{constructor(n,e){this.size=n,this.cells=e?this.fromState(e):this.empty()}empty(){const n=[];for(let e=0;e<this.size;e++){const t=n[e]=[];for(let n=0;n<this.size;n++)t.push(null)}return n}fromState(n){const e=[];for(let t=0;t<this.size;t++){const a=e[t]=[];for(let e=0;e<this.size;e++){const s=n[t][e];a.push(s?new u(s.position,s.value):null)}}return e}randomAvailableCell(){const n=this.availableCells();if(n.length)return n[Math.floor(Math.random()*n.length)]}availableCells(){const n=[];return this.eachCell((function(e,t,a){a||n.push({x:e,y:t})})),n}eachCell(n){for(let e=0;e<this.size;e++)for(let t=0;t<this.size;t++)n(e,t,this.cells[e][t])}cellsAvailable(){return!!this.availableCells().length}cellAvailable(n){return!this.cellOccupied(n)}cellOccupied(n){return!!this.cellContent(n)}cellContent(n){return this.withinBounds(n)?this.cells[n.x][n.y]:null}insertTile(n){this.cells[n.x][n.y]=n}removeTile(n){this.cells[n.x][n.y]=null}withinBounds(n){return n.x>=0&&n.x<this.size&&n.y>=0&&n.y<this.size}serialize(){const n=[];for(let e=0;e<this.size;e++){const t=n[e]=[];for(let n=0;n<this.size;n++)t.push(this.cells[e][n]?this.cells[e][n].serialize():null)}return{size:this.size,cells:n}}}class w{constructor(n){this.events={},this.vue=n,this.map={ArrowUp:0,ArrowRight:1,ArrowDown:2,ArrowLeft:3,KeyK:0,KeyL:1,keyJ:2,keyH:3,KeyW:0,KeyD:1,KeyS:2,KeyA:3},window.navigator.msPointerEnabled?(this.eventTouchstart="MSPointerDown",this.eventTouchmove="MSPointerMove",this.eventTouchend="MSPointerUp"):(this.eventTouchstart="touchstart",this.eventTouchmove="touchmove",this.eventTouchend="touchend"),this.retryButton=this.vue.$refs.retryButton,this.restartButton=this.vue.$refs.restartButton,this.keepPlayingButton=this.vue.$refs.keepPlayingButton,this.gameContainer=this.vue.$refs.gameContainer,this.touchStartClientX=void 0,this.touchStartClientY=void 0,this.listen()}on(n,e){this.events[n]||(this.events[n]=[]),this.events[n].push(e)}emit(n,e){const t=this.events[n];t&&t.forEach((function(n){n(e)}))}listen(){document.addEventListener("keydown",this._keyboardEvent.bind(this)),this.bindButtonPress(this.retryButton,this.restart),this.bindButtonPress(this.restartButton,this.restart),this.bindButtonPress(this.keepPlayingButton,this.keepPlaying),this.gameContainer.addEventListener(this.eventTouchstart,this._touchStartEvent.bind(this)),this.gameContainer.addEventListener("mousedown",this._touchStartEvent.bind(this)),this.gameContainer.addEventListener(this.eventTouchmove,(function(n){n.preventDefault()})),this.gameContainer.addEventListener(this.eventTouchend,this._touchEndEvent.bind(this)),this.gameContainer.addEventListener("mouseup",this._touchEndEvent.bind(this))}restart(n){n.preventDefault(),this.emit("restart")}keepPlaying(n){n.preventDefault(),this.emit("keepPlaying")}bindButtonPress(n,e){n.addEventListener("click",e.bind(this)),n.addEventListener(this.eventTouchend,e.bind(this))}removeButtonPress(n){n.addEventListener("click"),n.addEventListener(this.eventTouchend)}_keyboardEvent(n){const e=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey,t=this.map[n.code];e||void 0!==t&&(n.preventDefault(),this.emit("move",t)),e||"KeyR"!==n.code||this.restart(n)}_touchStartEvent(n){"mousedown"!==n.type&&(!window.navigator.msPointerEnabled&&n.touches.length>1||n.targetTouches.length>1)||(window.navigator.msPointerEnabled||"mousedown"===n.type?(this.touchStartClientX=n.pageX,this.touchStartClientY=n.pageY):(this.touchStartClientX=n.touches[0].clientX,this.touchStartClientY=n.touches[0].clientY),n.preventDefault())}_touchEndEvent(n){if("mouseup"!==n.type&&(!window.navigator.msPointerEnabled&&n.touches.length>0||n.targetTouches.length>0))return;let e,t;window.navigator.msPointerEnabled||"mouseup"===n.type?(e=n.pageX,t=n.pageY):(e=n.changedTouches[0].clientX,t=n.changedTouches[0].clientY);const a=e-this.touchStartClientX,s=Math.abs(a),i=t-this.touchStartClientY,r=Math.abs(i);Math.max(s,r)>10&&this.emit("move",s>r?a>0?1:3:i>0?2:0)}destroy(){document.removeEventListener("keydown",this._keyboardEvent),this.removeButtonPress(this.retryButton),this.removeButtonPress(this.restartButton),this.removeButtonPress(this.keepPlayingButton),this.gameContainer.addEventListener("mousedown"),this.gameContainer.addEventListener("mouseup"),this.gameContainer.addEventListener(this.eventTouchstart),this.gameContainer.addEventListener(this.eventTouchmove),this.gameContainer.addEventListener(this.eventTouchend)}}class y{constructor(n){this.vue=n,this.tileContainer=this.vue.$refs.tileContainer,this.scoreContainer=this.vue.$refs.scoreContainer,this.bestContainer=this.vue.$refs.bestContainer,this.messageContainer=this.vue.$refs.messageContainer,this.score=0}actuate(n,e){const t=this;window.requestAnimationFrame((function(){t.clearContainer(t.tileContainer),n.cells.forEach((function(n){n.forEach((function(n){n&&t.addTile(n)}))})),t.updateScore(e.score),t.updateBestScore(e.bestScore),e.terminated&&(e.over?t.message(!1):e.won&&t.message(!0))}))}continueGame(){this.clearMessage()}clearContainer(n){for(;n.firstChild;)n.removeChild(n.firstChild)}addTile(n){const e=this,t=document.createElement("div"),a=document.createElement("div"),s=n.previousPosition||{x:n.x,y:n.y},i=this.positionClass(s),r=["tile","tile-"+n.value,i];n.value>2048&&r.push("tile-super"),this.applyClasses(t,r),a.classList.add("tile-inner"),a.textContent=n.value,n.previousPosition?window.requestAnimationFrame((function(){r[2]=e.positionClass({x:n.x,y:n.y}),e.applyClasses(t,r)})):n.mergedFrom?(r.push("tile-merged"),this.applyClasses(t,r),n.mergedFrom.forEach((function(n){e.addTile(n)}))):(r.push("tile-new"),this.applyClasses(t,r)),t.appendChild(a),this.tileContainer.appendChild(t)}applyClasses(n,e){n.setAttribute("class",e.join(" "))}normalizePosition(n){return{x:n.x+1,y:n.y+1}}positionClass(n){return"tile-position-"+(n=this.normalizePosition(n)).x+"-"+n.y}updateScore(n){this.clearContainer(this.scoreContainer);const e=n-this.score;if(this.score=n,this.scoreContainer.textContent=this.score,e>0){const n=document.createElement("div");n.classList.add("score-addition"),n.textContent="+"+e,this.scoreContainer.appendChild(n)}}updateBestScore(n){this.bestContainer.textContent=n}message(n){const e=n?"game-won":"game-over",t=n?"你赢啦!":"游戏结束!";this.messageContainer.classList.add(e),this.messageContainer.getElementsByTagName("p")[0].textContent=t}clearMessage(){this.messageContainer.classList.remove("game-won"),this.messageContainer.classList.remove("game-over")}}class k{constructor(n,e){this.vue=e,this.size=n,this.inputManager=new w(e),this.actuator=new y(e),this.startTiles=2,this.inputManager.on("move",this.move.bind(this)),this.inputManager.on("restart",this.restart.bind(this)),this.inputManager.on("keepPlaying",this.keepPlaying.bind(this)),this.setup()}destroy(){}restart(){this.vue.clearGameState(),this.actuator.continueGame(),this.setup()}keepPlaying(){this.keepPlaying=!0,this.actuator.continueGame()}isGameTerminated(){return this.over||this.won&&!this.keepPlaying}setup(){const n=this.vue.gameState;n?(this.grid=new v(n.grid.size,n.grid.cells),this.score=n.score,this.over=n.over,this.won=n.won,this.keepPlaying=n.keepPlaying):(this.grid=new v(this.size),this.score=0,this.over=!1,this.won=!1,this.keepPlaying=!1,this.addStartTiles()),this.actuate()}addStartTiles(){for(let n=0;n<this.startTiles;n++)this.addRandomTile()}addRandomTile(){if(this.grid.cellsAvailable()){const n=Math.random()<.9?2:4,e=new u(this.grid.randomAvailableCell(),n);this.grid.insertTile(e)}}actuate(){this.vue.bestScore<this.score&&this.vue.setBestScore(this.score),this.over?this.vue.clearGameState():this.vue.setGameState(this.serialize()),this.vue.state={grid:this.grid,score:this.score,over:this.over,won:this.won,bestScore:this.vue.bestScore,terminated:this.isGameTerminated()},this.actuator.actuate(this.grid,{score:this.score,over:this.over,won:this.won,bestScore:this.vue.bestScore,terminated:this.isGameTerminated()})}serialize(){return{grid:this.grid.serialize(),score:this.score,over:this.over,won:this.won,keepPlaying:this.keepPlaying}}prepareTiles(){this.grid.eachCell((function(n,e,t){t&&(t.mergedFrom=null,t.savePosition())}))}moveTile(n,e){this.grid.cells[n.x][n.y]=null,this.grid.cells[e.x][e.y]=n,n.updatePosition(e)}move(n){const e=this;if(this.isGameTerminated())return;let t,a;const s=this.getVector(n),i=this.buildTraversals(s);let r=!1;this.prepareTiles(),i.x.forEach((function(n){i.y.forEach((function(i){if(t={x:n,y:i},a=e.grid.cellContent(t),a){const n=e.findFarthestPosition(t,s),i=e.grid.cellContent(n.next);if(i&&i.value===a.value&&!i.mergedFrom){const t=new u(n.next,2*a.value);t.mergedFrom=[a,i],e.grid.insertTile(t),e.grid.removeTile(a),a.updatePosition(n.next),e.score+=t.value,2048===t.value&&(e.won=!0)}else e.moveTile(a,n.farthest);e.positionsEqual(t,a)||(r=!0)}}))})),r&&(this.addRandomTile(),this.movesAvailable()||(this.over=!0),this.actuate())}getVector(n){return{0:{x:0,y:-1},1:{x:1,y:0},2:{x:0,y:1},3:{x:-1,y:0}}[n]}buildTraversals(n){const e={x:[],y:[]};for(let t=0;t<this.size;t++)e.x.push(t),e.y.push(t);return 1===n.x&&(e.x=e.x.reverse()),1===n.y&&(e.y=e.y.reverse()),e}findFarthestPosition(n,e){let t;do{t=n,n={x:t.x+e.x,y:t.y+e.y}}while(this.grid.withinBounds(n)&&this.grid.cellAvailable(n));return{farthest:t,next:n}}movesAvailable(){return this.grid.cellsAvailable()||this.tileMatchesAvailable()}tileMatchesAvailable(){const n=this;let e;for(let t=0;t<this.size;t++)for(let a=0;a<this.size;a++)if(e=this.grid.cellContent({x:t,y:a}),e)for(let s=0;s<4;s++){const i=n.getVector(s),r={x:t+i.x,y:a+i.y},o=n.grid.cellContent(r);if(o&&o.value===e.value)return!0}return!1}positionsEqual(n,e){return n.x===e.x&&n.y===e.y}}var z='@charset "UTF-8";\n@font-face {\n  font-family: "Clear Sans";\n  src: url("/fonts/ClearSans-Light-webfont.eot");\n  src: url("/fonts/ClearSans-Light-webfont.eot?#iefix") format("embedded-opentype"), url("/fonts/ClearSans-Light-webfont.svg#clear_sans_lightregular") format("svg"), url("/fonts/ClearSans-Light-webfont.woff") format("woff");\n  font-weight: 200;\n  font-style: normal;\n}\n@font-face {\n  font-family: "Clear Sans";\n  src: url("/fonts/ClearSans-Regular-webfont.eot");\n  src: url("/fonts/ClearSans-Regular-webfont.eot?#iefix") format("embedded-opentype"), url("/fonts/ClearSans-Regular-webfont.svg#clear_sansregular") format("svg"), url("/fonts/ClearSans-Regular-webfont.woff") format("woff");\n  font-weight: normal;\n  font-style: normal;\n}\n@font-face {\n  font-family: "Clear Sans";\n  src: url("/fonts/ClearSans-Bold-webfont.eot");\n  src: url("/fonts/ClearSans-Bold-webfont.eot?#iefix") format("embedded-opentype"), url("/fonts/ClearSans-Bold-webfont.svg#clear_sansbold") format("svg"), url("/fonts/ClearSans-Bold-webfont.woff") format("woff");\n  font-weight: 700;\n  font-style: normal;\n}\n@-webkit-keyframes move-up-bbe32a60 {\n0% {\n    top: 25px;\n    opacity: 1;\n}\n100% {\n    top: -50px;\n    opacity: 0;\n}\n}\n@-moz-keyframes move-up-bbe32a60 {\n0% {\n    top: 25px;\n    opacity: 1;\n}\n100% {\n    top: -50px;\n    opacity: 0;\n}\n}\n@keyframes move-up-bbe32a60 {\n0% {\n    top: 25px;\n    opacity: 1;\n}\n100% {\n    top: -50px;\n    opacity: 0;\n}\n}\n[data-v-bbe32a60] .panel .scores-container {\n  display: flex;\n  box-sizing: content-box;\n}\n[data-v-bbe32a60] .panel .scores-container * + * {\n  margin-left: 5px;\n}\n[data-v-bbe32a60] .panel .score-container,[data-v-bbe32a60] .panel .best-container {\n  position: relative;\n  display: inline-block;\n  background: #bbada0;\n  padding: 15px 25px;\n  font-size: 25px;\n  height: 25px;\n  line-height: 47px;\n  font-weight: bold;\n  border-radius: 3px;\n  color: white;\n  text-align: center;\n  box-sizing: content-box;\n}\n[data-v-bbe32a60] .panel .score-container:after,[data-v-bbe32a60] .panel .best-container:after {\n  position: absolute;\n  width: 100%;\n  top: 10px;\n  left: 0;\n  text-transform: uppercase;\n  font-size: 13px;\n  line-height: 13px;\n  text-align: center;\n  color: #eee4da;\n  box-sizing: content-box;\n}\n[data-v-bbe32a60] .panel .score-container .score-addition,[data-v-bbe32a60] .panel .best-container .score-addition {\n  position: absolute;\n  right: 30px;\n  color: red;\n  font-size: 25px;\n  line-height: 25px;\n  font-weight: bold;\n  color: rgba(119, 110, 101, 0.9);\n  z-index: 100;\n  box-sizing: content-box;\n  -webkit-animation: move-up-bbe32a60 600ms ease-in;\n  -moz-animation: move-up-bbe32a60 600ms ease-in;\n  animation: move-up-bbe32a60 600ms ease-in;\n  -webkit-animation-fill-mode: both;\n  -moz-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n[data-v-bbe32a60] .panel .score-container:after {\n  content: "分数";\n  box-sizing: content-box;\n}\n[data-v-bbe32a60] .panel .best-container:after {\n  box-sizing: content-box;\n  content: "最高分";\n}\n[data-v-bbe32a60] .panel p {\n  margin-top: 0;\n  margin-bottom: 10px;\n  line-height: 1.65;\n}\n[data-v-bbe32a60] .panel a {\n  color: #776E65;\n  font-weight: bold;\n  text-decoration: underline;\n  cursor: pointer;\n}\n[data-v-bbe32a60] .panel strong.important {\n  text-transform: uppercase;\n}\n[data-v-bbe32a60] .panel hr {\n  border: none;\n  border-bottom: 1px solid #d8d4d0;\n  margin-top: 20px;\n  margin-bottom: 30px;\n}\n[data-v-bbe32a60] .panel .container {\n  font-family: "Clear Sans", "Helvetica Neue", Arial, sans-serif;\n  font-size: 18px;\n  color: #776E65;\n  width: 500px;\n  margin: 0 auto;\n}\n@-webkit-keyframes fade-in-bbe32a60 {\n0% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n@-moz-keyframes fade-in-bbe32a60 {\n0% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n@keyframes fade-in-bbe32a60 {\n0% {\n    opacity: 0;\n}\n100% {\n    opacity: 1;\n}\n}\n[data-v-bbe32a60] .panel .game-container {\n  margin-top: 40px;\n  position: relative;\n  padding: 15px;\n  cursor: default;\n  -webkit-touch-callout: none;\n  -ms-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -ms-touch-action: none;\n  touch-action: none;\n  background: #bbada0;\n  border-radius: 6px;\n  width: 500px;\n  height: 500px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n[data-v-bbe32a60] .panel .game-container .game-message {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(238, 228, 218, 0.5);\n  z-index: 100;\n  text-align: center;\n  -webkit-animation: fade-in-bbe32a60 800ms ease 1200ms;\n  -moz-animation: fade-in-bbe32a60 800ms ease 1200ms;\n  animation: fade-in-bbe32a60 800ms ease 1200ms;\n  -webkit-animation-fill-mode: both;\n  -moz-animation-fill-mode: both;\n  animation-fill-mode: both;\n}\n[data-v-bbe32a60] .panel .game-container .game-message p {\n  font-size: 60px;\n  font-weight: bold;\n  height: 60px;\n  line-height: 60px;\n  margin-top: 222px;\n}\n[data-v-bbe32a60] .panel .game-container .game-message .lower {\n  display: block;\n  margin-top: 59px;\n}\n[data-v-bbe32a60] .panel .game-container .game-message a {\n  display: inline-block;\n  background: #8f7a66;\n  border-radius: 3px;\n  padding: 0 20px;\n  text-decoration: none;\n  color: #f9f6f2;\n  height: 40px;\n  line-height: 42px;\n  margin-left: 9px;\n}\n[data-v-bbe32a60] .panel .game-container .game-message a.keep-playing-button {\n  display: none;\n}\n[data-v-bbe32a60] .panel .game-container .game-message.game-won {\n  background: rgba(237, 194, 46, 0.5);\n  color: #f9f6f2;\n}\n[data-v-bbe32a60] .panel .game-container .game-message.game-won a.keep-playing-button {\n  display: inline-block;\n}\n[data-v-bbe32a60] .panel .game-container .game-message.game-won,[data-v-bbe32a60] .panel .game-container .game-message.game-over {\n  display: block;\n}\n[data-v-bbe32a60] .panel .grid-container {\n  position: absolute;\n  z-index: 1;\n}\n[data-v-bbe32a60] .panel .grid-cell {\n  width: 106.25px;\n  height: 106.25px;\n  margin-right: 15px;\n  margin-bottom: 15px;\n  float: left;\n  border-radius: 3px;\n  background: rgba(238, 228, 218, 0.35);\n}\n[data-v-bbe32a60] .panel .grid-cell:nth-child(4n) {\n  margin-right: 0;\n}\n[data-v-bbe32a60] .panel .grid-cell:nth-last-child(-n+4) {\n  margin-bottom: 0;\n}\n[data-v-bbe32a60] .panel .tile-container {\n  position: absolute;\n  z-index: 2;\n}\n[data-v-bbe32a60] .panel .tile,[data-v-bbe32a60] .panel .tile .tile-inner {\n  width: 107px;\n  height: 107px;\n  line-height: 107px;\n}\n[data-v-bbe32a60] .panel .tile.tile-position-1-1 {\n  -webkit-transform: translate(0px, 0px);\n  -moz-transform: translate(0px, 0px);\n  -ms-transform: translate(0px, 0px);\n  transform: translate(0px, 0px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-1-2 {\n  -webkit-transform: translate(0px, 121px);\n  -moz-transform: translate(0px, 121px);\n  -ms-transform: translate(0px, 121px);\n  transform: translate(0px, 121px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-1-3 {\n  -webkit-transform: translate(0px, 242px);\n  -moz-transform: translate(0px, 242px);\n  -ms-transform: translate(0px, 242px);\n  transform: translate(0px, 242px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-1-4 {\n  -webkit-transform: translate(0px, 363px);\n  -moz-transform: translate(0px, 363px);\n  -ms-transform: translate(0px, 363px);\n  transform: translate(0px, 363px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-2-1 {\n  -webkit-transform: translate(121px, 0px);\n  -moz-transform: translate(121px, 0px);\n  -ms-transform: translate(121px, 0px);\n  transform: translate(121px, 0px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-2-2 {\n  -webkit-transform: translate(121px, 121px);\n  -moz-transform: translate(121px, 121px);\n  -ms-transform: translate(121px, 121px);\n  transform: translate(121px, 121px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-2-3 {\n  -webkit-transform: translate(121px, 242px);\n  -moz-transform: translate(121px, 242px);\n  -ms-transform: translate(121px, 242px);\n  transform: translate(121px, 242px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-2-4 {\n  -webkit-transform: translate(121px, 363px);\n  -moz-transform: translate(121px, 363px);\n  -ms-transform: translate(121px, 363px);\n  transform: translate(121px, 363px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-3-1 {\n  -webkit-transform: translate(242px, 0px);\n  -moz-transform: translate(242px, 0px);\n  -ms-transform: translate(242px, 0px);\n  transform: translate(242px, 0px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-3-2 {\n  -webkit-transform: translate(242px, 121px);\n  -moz-transform: translate(242px, 121px);\n  -ms-transform: translate(242px, 121px);\n  transform: translate(242px, 121px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-3-3 {\n  -webkit-transform: translate(242px, 242px);\n  -moz-transform: translate(242px, 242px);\n  -ms-transform: translate(242px, 242px);\n  transform: translate(242px, 242px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-3-4 {\n  -webkit-transform: translate(242px, 363px);\n  -moz-transform: translate(242px, 363px);\n  -ms-transform: translate(242px, 363px);\n  transform: translate(242px, 363px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-4-1 {\n  -webkit-transform: translate(363px, 0px);\n  -moz-transform: translate(363px, 0px);\n  -ms-transform: translate(363px, 0px);\n  transform: translate(363px, 0px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-4-2 {\n  -webkit-transform: translate(363px, 121px);\n  -moz-transform: translate(363px, 121px);\n  -ms-transform: translate(363px, 121px);\n  transform: translate(363px, 121px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-4-3 {\n  -webkit-transform: translate(363px, 242px);\n  -moz-transform: translate(363px, 242px);\n  -ms-transform: translate(363px, 242px);\n  transform: translate(363px, 242px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-4-4 {\n  -webkit-transform: translate(363px, 363px);\n  -moz-transform: translate(363px, 363px);\n  -ms-transform: translate(363px, 363px);\n  transform: translate(363px, 363px);\n}\n[data-v-bbe32a60] .panel .tile {\n  position: absolute;\n  -webkit-transition: 100ms ease-in-out;\n  -moz-transition: 100ms ease-in-out;\n  transition: 100ms ease-in-out;\n  -webkit-transition-property: -webkit-transform;\n  -moz-transition-property: -moz-transform;\n  transition-property: transform;\n}\n[data-v-bbe32a60] .panel .tile .tile-inner {\n  border-radius: 3px;\n  background: #eee4da;\n  text-align: center;\n  font-weight: bold;\n  z-index: 10;\n  font-size: 55px;\n}\n[data-v-bbe32a60] .panel .tile.tile-2 .tile-inner {\n  background: #eee4da;\n  box-shadow: 0 0 30px 10px rgba(243, 215, 116, max(1 - 4, 0)/7/1.8), inset 0 0 0 1px rgba(255, 255, 255, max(1 - 4, 0)/7/3);\n}\n[data-v-bbe32a60] .panel .tile.tile-4 .tile-inner {\n  background: #eee1c9;\n  box-shadow: 0 0 30px 10px rgba(243, 215, 116, max(2 - 4, 0)/7/1.8), inset 0 0 0 1px rgba(255, 255, 255, max(2 - 4, 0)/7/3);\n}\n[data-v-bbe32a60] .panel .tile.tile-8 .tile-inner {\n  color: #f9f6f2;\n  background: #f3b27a;\n}\n[data-v-bbe32a60] .panel .tile.tile-16 .tile-inner {\n  color: #f9f6f2;\n  background: #f69664;\n}\n[data-v-bbe32a60] .panel .tile.tile-32 .tile-inner {\n  color: #f9f6f2;\n  background: #f77c5f;\n}\n[data-v-bbe32a60] .panel .tile.tile-64 .tile-inner {\n  color: #f9f6f2;\n  background: #f75f3b;\n}\n[data-v-bbe32a60] .panel .tile.tile-128 .tile-inner {\n  color: #f9f6f2;\n  background: #edd073;\n  box-shadow: 0 0 30px 10px rgba(243, 215, 116, max(7 - 4, 0)/7/1.8), inset 0 0 0 1px rgba(255, 255, 255, max(7 - 4, 0)/7/3);\n  font-size: 45px;\n}\n@media screen and (max-width: 520px) {\n[data-v-bbe32a60] .panel .tile.tile-128 .tile-inner {\n    font-size: 25px;\n}\n}\n[data-v-bbe32a60] .panel .tile.tile-256 .tile-inner {\n  color: #f9f6f2;\n  background: #edcc62;\n  box-shadow: 0 0 30px 10px rgba(243, 215, 116, max(8 - 4, 0)/7/1.8), inset 0 0 0 1px rgba(255, 255, 255, max(8 - 4, 0)/7/3);\n  font-size: 45px;\n}\n@media screen and (max-width: 520px) {\n[data-v-bbe32a60] .panel .tile.tile-256 .tile-inner {\n    font-size: 25px;\n}\n}\n[data-v-bbe32a60] .panel .tile.tile-512 .tile-inner {\n  color: #f9f6f2;\n  background: #edc950;\n  box-shadow: 0 0 30px 10px rgba(243, 215, 116, max(9 - 4, 0)/7/1.8), inset 0 0 0 1px rgba(255, 255, 255, max(9 - 4, 0)/7/3);\n  font-size: 45px;\n}\n@media screen and (max-width: 520px) {\n[data-v-bbe32a60] .panel .tile.tile-512 .tile-inner {\n    font-size: 25px;\n}\n}\n[data-v-bbe32a60] .panel .tile.tile-1024 .tile-inner {\n  color: #f9f6f2;\n  background: #edc53f;\n  box-shadow: 0 0 30px 10px rgba(243, 215, 116, max(10 - 4, 0)/7/1.8), inset 0 0 0 1px rgba(255, 255, 255, max(10 - 4, 0)/7/3);\n  font-size: 35px;\n}\n@media screen and (max-width: 520px) {\n[data-v-bbe32a60] .panel .tile.tile-1024 .tile-inner {\n    font-size: 15px;\n}\n}\n[data-v-bbe32a60] .panel .tile.tile-2048 .tile-inner {\n  color: #f9f6f2;\n  background: #edc22e;\n  box-shadow: 0 0 30px 10px rgba(243, 215, 116, max(11 - 4, 0)/7/1.8), inset 0 0 0 1px rgba(255, 255, 255, max(11 - 4, 0)/7/3);\n  font-size: 35px;\n}\n@media screen and (max-width: 520px) {\n[data-v-bbe32a60] .panel .tile.tile-2048 .tile-inner {\n    font-size: 15px;\n}\n}\n[data-v-bbe32a60] .panel .tile.tile-super .tile-inner {\n  color: #f9f6f2;\n  background: #3c3a33;\n  font-size: 30px;\n}\n@media screen and (max-width: 520px) {\n[data-v-bbe32a60] .panel .tile.tile-super .tile-inner {\n    font-size: 10px;\n}\n}\n@-webkit-keyframes appear-bbe32a60 {\n0% {\n    opacity: 0;\n    -webkit-transform: scale(0);\n    -moz-transform: scale(0);\n    -ms-transform: scale(0);\n    transform: scale(0);\n}\n100% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n}\n}\n@-moz-keyframes appear-bbe32a60 {\n0% {\n    opacity: 0;\n    -webkit-transform: scale(0);\n    -moz-transform: scale(0);\n    -ms-transform: scale(0);\n    transform: scale(0);\n}\n100% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n}\n}\n@keyframes appear-bbe32a60 {\n0% {\n    opacity: 0;\n    -webkit-transform: scale(0);\n    -moz-transform: scale(0);\n    -ms-transform: scale(0);\n    transform: scale(0);\n}\n100% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n}\n}\n[data-v-bbe32a60] .panel .tile-new .tile-inner {\n  -webkit-animation: appear-bbe32a60 200ms ease 100ms;\n  -moz-animation: appear-bbe32a60 200ms ease 100ms;\n  animation: appear-bbe32a60 200ms ease 100ms;\n  -webkit-animation-fill-mode: backwards;\n  -moz-animation-fill-mode: backwards;\n  animation-fill-mode: backwards;\n}\n@-webkit-keyframes pop-bbe32a60 {\n0% {\n    -webkit-transform: scale(0);\n    -moz-transform: scale(0);\n    -ms-transform: scale(0);\n    transform: scale(0);\n}\n50% {\n    -webkit-transform: scale(1.2);\n    -moz-transform: scale(1.2);\n    -ms-transform: scale(1.2);\n    transform: scale(1.2);\n}\n100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n}\n}\n@-moz-keyframes pop-bbe32a60 {\n0% {\n    -webkit-transform: scale(0);\n    -moz-transform: scale(0);\n    -ms-transform: scale(0);\n    transform: scale(0);\n}\n50% {\n    -webkit-transform: scale(1.2);\n    -moz-transform: scale(1.2);\n    -ms-transform: scale(1.2);\n    transform: scale(1.2);\n}\n100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n}\n}\n@keyframes pop-bbe32a60 {\n0% {\n    -webkit-transform: scale(0);\n    -moz-transform: scale(0);\n    -ms-transform: scale(0);\n    transform: scale(0);\n}\n50% {\n    -webkit-transform: scale(1.2);\n    -moz-transform: scale(1.2);\n    -ms-transform: scale(1.2);\n    transform: scale(1.2);\n}\n100% {\n    -webkit-transform: scale(1);\n    -moz-transform: scale(1);\n    -ms-transform: scale(1);\n    transform: scale(1);\n}\n}\n[data-v-bbe32a60] .panel .tile-merged .tile-inner {\n  z-index: 20;\n  -webkit-animation: pop-bbe32a60 200ms ease 100ms;\n  -moz-animation: pop-bbe32a60 200ms ease 100ms;\n  animation: pop-bbe32a60 200ms ease 100ms;\n  -webkit-animation-fill-mode: backwards;\n  -moz-animation-fill-mode: backwards;\n  animation-fill-mode: backwards;\n}\n[data-v-bbe32a60] .panel .above-game {\n  width: 100%;\n  display: inline-flex;\n  justify-content: space-between;\n  align-items: center;\n}\n[data-v-bbe32a60] .panel .game-intro {\n  float: left;\n  line-height: 42px;\n  margin-bottom: 0;\n}\n[data-v-bbe32a60] .panel .restart-button {\n  display: inline-block;\n  background: #8f7a66;\n  border-radius: 3px;\n  padding: 0 20px;\n  text-decoration: none;\n  color: #f9f6f2;\n  height: 40px;\n  line-height: 42px;\n  display: block;\n  text-align: center;\n  float: right;\n}\n[data-v-bbe32a60] .panel .game-explanation {\n  margin-top: 50px;\n}\n@media screen and (max-width: 520px) {\n[data-v-bbe32a60] .panel .container {\n    font-size: 15px;\n    width: 280px;\n    margin: 0 auto;\n}\n[data-v-bbe32a60] .panel .score-container,[data-v-bbe32a60] .panel .best-container {\n    margin-top: 0;\n    padding: 15px 10px;\n    min-width: 40px;\n}\n[data-v-bbe32a60] .panel .game-intro {\n    width: 55%;\n    display: block;\n    box-sizing: border-box;\n    line-height: 1.65;\n}\n[data-v-bbe32a60] .panel .restart-button {\n    width: 25%;\n    padding: 0;\n    display: block;\n    box-sizing: border-box;\n    margin-top: 2px;\n}\n[data-v-bbe32a60] .panel .game-container {\n    margin-top: 17px;\n    position: relative;\n    padding: 10px;\n    cursor: default;\n    -webkit-touch-callout: none;\n    -ms-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -ms-touch-action: none;\n    touch-action: none;\n    background: #bbada0;\n    border-radius: 6px;\n    width: 280px;\n    height: 280px;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n}\n[data-v-bbe32a60] .panel .game-container .game-message {\n    display: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background: rgba(238, 228, 218, 0.5);\n    z-index: 100;\n    text-align: center;\n    -webkit-animation: fade-in-bbe32a60 800ms ease 1200ms;\n    -moz-animation: fade-in-bbe32a60 800ms ease 1200ms;\n    animation: fade-in-bbe32a60 800ms ease 1200ms;\n    -webkit-animation-fill-mode: both;\n    -moz-animation-fill-mode: both;\n    animation-fill-mode: both;\n}\n[data-v-bbe32a60] .panel .game-container .game-message p {\n    font-size: 60px;\n    font-weight: bold;\n    height: 60px;\n    line-height: 60px;\n    margin-top: 222px;\n}\n[data-v-bbe32a60] .panel .game-container .game-message .lower {\n    display: block;\n    margin-top: 59px;\n}\n[data-v-bbe32a60] .panel .game-container .game-message a {\n    display: inline-block;\n    background: #8f7a66;\n    border-radius: 3px;\n    padding: 0 20px;\n    text-decoration: none;\n    color: #f9f6f2;\n    height: 40px;\n    line-height: 42px;\n    margin-left: 9px;\n}\n[data-v-bbe32a60] .panel .game-container .game-message a.keep-playing-button {\n    display: none;\n}\n[data-v-bbe32a60] .panel .game-container .game-message.game-won {\n    background: rgba(237, 194, 46, 0.5);\n    color: #f9f6f2;\n}\n[data-v-bbe32a60] .panel .game-container .game-message.game-won a.keep-playing-button {\n    display: inline-block;\n}\n[data-v-bbe32a60] .panel .game-container .game-message.game-won,[data-v-bbe32a60] .panel .game-container .game-message.game-over {\n    display: block;\n}\n[data-v-bbe32a60] .panel .grid-container {\n    position: absolute;\n    z-index: 1;\n}\n[data-v-bbe32a60] .panel .grid-cell {\n    width: 57.5px;\n    height: 57.5px;\n    margin-right: 10px;\n    margin-bottom: 10px;\n    float: left;\n    border-radius: 3px;\n    background: rgba(238, 228, 218, 0.35);\n}\n[data-v-bbe32a60] .panel .grid-cell:nth-child(4n) {\n    margin-right: 0;\n}\n[data-v-bbe32a60] .panel .grid-cell:nth-last-child(-n+4) {\n    margin-bottom: 0;\n}\n[data-v-bbe32a60] .panel .tile-container {\n    position: absolute;\n    z-index: 2;\n}\n[data-v-bbe32a60] .panel .tile,[data-v-bbe32a60] .panel .tile .tile-inner {\n    width: 58px;\n    height: 58px;\n    line-height: 58px;\n}\n[data-v-bbe32a60] .panel .tile.tile-position-1-1 {\n    -webkit-transform: translate(0px, 0px);\n    -moz-transform: translate(0px, 0px);\n    -ms-transform: translate(0px, 0px);\n    transform: translate(0px, 0px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-1-2 {\n    -webkit-transform: translate(0px, 67px);\n    -moz-transform: translate(0px, 67px);\n    -ms-transform: translate(0px, 67px);\n    transform: translate(0px, 67px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-1-3 {\n    -webkit-transform: translate(0px, 135px);\n    -moz-transform: translate(0px, 135px);\n    -ms-transform: translate(0px, 135px);\n    transform: translate(0px, 135px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-1-4 {\n    -webkit-transform: translate(0px, 202px);\n    -moz-transform: translate(0px, 202px);\n    -ms-transform: translate(0px, 202px);\n    transform: translate(0px, 202px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-2-1 {\n    -webkit-transform: translate(67px, 0px);\n    -moz-transform: translate(67px, 0px);\n    -ms-transform: translate(67px, 0px);\n    transform: translate(67px, 0px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-2-2 {\n    -webkit-transform: translate(67px, 67px);\n    -moz-transform: translate(67px, 67px);\n    -ms-transform: translate(67px, 67px);\n    transform: translate(67px, 67px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-2-3 {\n    -webkit-transform: translate(67px, 135px);\n    -moz-transform: translate(67px, 135px);\n    -ms-transform: translate(67px, 135px);\n    transform: translate(67px, 135px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-2-4 {\n    -webkit-transform: translate(67px, 202px);\n    -moz-transform: translate(67px, 202px);\n    -ms-transform: translate(67px, 202px);\n    transform: translate(67px, 202px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-3-1 {\n    -webkit-transform: translate(135px, 0px);\n    -moz-transform: translate(135px, 0px);\n    -ms-transform: translate(135px, 0px);\n    transform: translate(135px, 0px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-3-2 {\n    -webkit-transform: translate(135px, 67px);\n    -moz-transform: translate(135px, 67px);\n    -ms-transform: translate(135px, 67px);\n    transform: translate(135px, 67px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-3-3 {\n    -webkit-transform: translate(135px, 135px);\n    -moz-transform: translate(135px, 135px);\n    -ms-transform: translate(135px, 135px);\n    transform: translate(135px, 135px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-3-4 {\n    -webkit-transform: translate(135px, 202px);\n    -moz-transform: translate(135px, 202px);\n    -ms-transform: translate(135px, 202px);\n    transform: translate(135px, 202px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-4-1 {\n    -webkit-transform: translate(202px, 0px);\n    -moz-transform: translate(202px, 0px);\n    -ms-transform: translate(202px, 0px);\n    transform: translate(202px, 0px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-4-2 {\n    -webkit-transform: translate(202px, 67px);\n    -moz-transform: translate(202px, 67px);\n    -ms-transform: translate(202px, 67px);\n    transform: translate(202px, 67px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-4-3 {\n    -webkit-transform: translate(202px, 135px);\n    -moz-transform: translate(202px, 135px);\n    -ms-transform: translate(202px, 135px);\n    transform: translate(202px, 135px);\n}\n[data-v-bbe32a60] .panel .tile.tile-position-4-4 {\n    -webkit-transform: translate(202px, 202px);\n    -moz-transform: translate(202px, 202px);\n    -ms-transform: translate(202px, 202px);\n    transform: translate(202px, 202px);\n}\n[data-v-bbe32a60] .panel .tile .tile-inner {\n    font-size: 35px;\n}\n[data-v-bbe32a60] .panel .game-message p {\n    font-size: 30px !important;\n    height: 30px !important;\n    line-height: 30px !important;\n    margin-top: 90px !important;\n}\n[data-v-bbe32a60] .panel .game-message .lower {\n    margin-top: 30px !important;\n}\n}';let C;const S={name:"2048",components:{Container:r},data:()=>({state:{}}),computed:i({},o({gameState:n=>n.g2048.gameState,bestScore:n=>n.g2048.bestScore})),mounted(){C=new k(4,this)},methods:i({},l({setBestScore:"g2048/setBestScore",setGameState:"g2048/setGameState",clearGameState:"g2048/clearGameState"})),beforeUnmount(){C.destroy()}},P=c();p("data-v-bbe32a60");const E={class:"panel"},T={class:"container"},B={class:"above-game"},L={class:"scores-container"},A={class:"score-container",ref:"scoreContainer"},M={class:"best-container",ref:"bestContainer"},_={class:"restart-button",ref:"restartButton"},G={class:"game-container",ref:"gameContainer"},F={class:"game-message",ref:"messageContainer"},K=f("p",null,null,-1),j={class:"lower"},R={class:"keep-playing-button",ref:"keepPlayingButton"},D={class:"retry-button",ref:"retryButton"},O={class:"grid-container"},X={class:"tile-container",ref:"tileContainer"};m();const Y=P(((n,e,t,a,s,i)=>{const r=x("container");return b(),d(r,null,{default:P((()=>[f("div",E,[f("div",T,[f("div",B,[f("div",L,[f("div",A,"0",512),f("div",M,"0",512)]),f("a",_,"新游戏",512)]),f("div",G,[f("div",F,[K,f("div",j,[f("a",R,"继续挑战",512),f("a",D,"重新开始",512)])],512),f("div",O,[(b(),d(h,null,g(16,(n=>f("div",{class:"grid-cell",key:n}))),64))]),f("div",X,null,512)],512)])])])),_:1})}));S.render=Y,S.__scopeId="data-v-bbe32a60";export default S;
