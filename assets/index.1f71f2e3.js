import{d as C,aa as I,H as j,bW as E,av as D,bX as A,bJ as x,aK as S,a as s,h as r,Y as w,bt as M,P as k}from"./index.82f4337f.js";import{d as T}from"./debounce.e2258692.js";var V=globalThis&&globalThis.__rest||function(i,n){var a={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(a[t]=i[t]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,t=Object.getOwnPropertySymbols(i);e<t.length;e++)n.indexOf(t[e])<0&&Object.prototype.propertyIsEnumerable.call(i,t[e])&&(a[t[e]]=i[t[e]]);return a},B=function(){return{prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:k.any,delay:Number,indicator:k.any}},d=null;function H(i,n){return!!i&&!!n&&!isNaN(Number(n))}function J(i){var n=i.indicator;d=typeof n=="function"?n:function(){return s(n,null,null)}}var l=C({name:"ASpin",inheritAttrs:!1,props:I(B(),{size:"default",spinning:!0,wrapperClassName:""}),setup:function(){return{originalUpdateSpinning:null,configProvider:j("configProvider",E)}},data:function(){var n=this.spinning,a=this.delay,t=H(n,a);return{sSpinning:n&&!t}},created:function(){this.originalUpdateSpinning=this.updateSpinning,this.debouncifyUpdateSpinning(this.$props)},mounted:function(){this.updateSpinning()},updated:function(){var n=this;D(function(){n.debouncifyUpdateSpinning(),n.updateSpinning()})},beforeUnmount:function(){this.cancelExistingSpin()},methods:{debouncifyUpdateSpinning:function(n){var a=n||this.$props,t=a.delay;t&&(this.cancelExistingSpin(),this.updateSpinning=T(this.originalUpdateSpinning,t))},updateSpinning:function(){var n=this.spinning,a=this.sSpinning;a!==n&&(this.sSpinning=n)},cancelExistingSpin:function(){var n=this.updateSpinning;n&&n.cancel&&n.cancel()},renderIndicator:function(n){var a="".concat(n,"-dot"),t=A(this,"indicator");return t===null?null:(Array.isArray(t)&&(t=t.length===1?t[0]:t),x(t)?S(t,{class:a}):d&&x(d())?S(d(),{class:a}):s("span",{class:"".concat(a," ").concat(n,"-dot-spin")},[s("i",{class:"".concat(n,"-dot-item")},null),s("i",{class:"".concat(n,"-dot-item")},null),s("i",{class:"".concat(n,"-dot-item")},null),s("i",{class:"".concat(n,"-dot-item")},null)]))}},render:function(){var n,a,t,e=this.$props,m=e.size,P=e.prefixCls,h=e.tip,c=h===void 0?(t=(a=this.$slots).tip)===null||t===void 0?void 0:t.call(a):h,z=e.wrapperClassName,g=this.$attrs,v=g.class,R=g.style,_=V(g,["class","style"]),b=this.configProvider,N=b.getPrefixCls,$=b.direction,o=N("spin",P),f=this.sSpinning,O=(n={},r(n,o,!0),r(n,"".concat(o,"-sm"),m==="small"),r(n,"".concat(o,"-lg"),m==="large"),r(n,"".concat(o,"-spinning"),f),r(n,"".concat(o,"-show-text"),!!c),r(n,"".concat(o,"-rtl"),$==="rtl"),r(n,v,!!v),n),y=s("div",w(w({},_),{},{style:R,class:O}),[this.renderIndicator(o),c?s("div",{class:"".concat(o,"-text")},[c]):null]),u=M(this);if(u&&u.length){var p,U=(p={},r(p,"".concat(o,"-container"),!0),r(p,"".concat(o,"-blur"),f),p);return s("div",{class:["".concat(o,"-nested-loading"),z]},[f&&s("div",{key:"loading"},[y]),s("div",{class:U,key:"container"},[u])])}return y}});l.setDefaultIndicator=J;l.install=function(i){return i.component(l.name,l),i};export{l as S};
