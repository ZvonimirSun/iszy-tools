import{S as T,d as U,u as b,cQ as N,T as O,f as R,o as f,L as h,a as e,w as u,b as t,k as o,F as m,c as I,a1 as C,c2 as E,N as M,B as V,_ as j}from"./index.751c57b2.js";import{C as q}from"./index.2542d927.js";import{_ as L}from"./index.8b9b1949.js";import{_ as P}from"./index.2b278e3b.js";import{_ as Q}from"./index.eb1d09a1.js";import"./Checkbox.6d186a20.js";import"./useFlexGapSupport.55f67b56.js";const $=T("main",{persist:!0,state:()=>({_cache:{},clearOfflineCacheTag:!1}),getters:{getData:i=>s=>{if(s)return(i._cache||{})[s]}},actions:{setData({key:i,val:s}={}){i&&(this._cache=this._cache||{},this._cache[i]=s)},clear(){this._cache={}},clearOfflineCache(){console.log("clearOfflineCache"),this.clearOfflineCacheTag=!0}}}),z=U({__name:"index",setup(i){const s=b(),B=N(),l=O(),c=R(()=>l.settings),g=()=>$().clearOfflineCache(),F=()=>l.uploadSettings(),y=()=>l.downloadSettings();async function A(){await F()?E.success("\u540C\u6B65\u6210\u529F"):E.error("\u540C\u6B65\u5931\u8D25")}async function w(){await y()?E.success("\u540C\u6B65\u6210\u529F"):E.error("\u540C\u6B65\u5931\u8D25")}function S(){s.push({path:"/login",query:{redirect:B.fullPath}})}function x(){s.push("/register")}function v(){s.push("/logout")}return(G,n)=>{const r=M,_=V,D=Q,p=P,k=L,d=q;return f(),h(m,null,[e(r,{level:3},{default:u(()=>[t(" \u7528\u6237 ")]),_:1}),e(p,null,{default:u(()=>[o(l)._user.token?(f(),I(_,{key:1,type:"primary",onClick:v},{default:u(()=>[t(" \u767B\u51FA ")]),_:1})):(f(),h(m,{key:0},[e(_,{type:"primary",onClick:S},{default:u(()=>[t(" \u767B\u5F55 ")]),_:1}),e(_,{type:"primary",onClick:x},{default:u(()=>[t(" \u6CE8\u518C ")]),_:1})],64)),e(D,{title:"\u60A8\u662F\u5426\u786E\u5B9A\u8981\u6E05\u7A7A\u672C\u5730\u7F13\u5B58\uFF1F","ok-text":"\u6E05\u7A7A",onConfirm:g},{default:u(()=>[e(_,{danger:""},{default:u(()=>[t(" \u6E05\u7A7A\u672C\u5730\u7F13\u5B58 ")]),_:1})]),_:1})]),_:1}),e(k),o(l)._user.token?(f(),h(m,{key:0},[e(r,{level:3},{default:u(()=>[t(" \u4E91\u7AEF\u540C\u6B65 ")]),_:1}),e(p,null,{default:u(()=>[e(_,{type:"primary",onClick:A},{default:u(()=>[t(" \u540C\u6B65\u5230\u4E91\u7AEF ")]),_:1}),e(_,{type:"primary",onClick:w},{default:u(()=>[t(" \u4ECE\u4E91\u7AEF\u540C\u6B65 ")]),_:1}),e(d,{checked:o(c).autoSync,"onUpdate:checked":n[0]||(n[0]=a=>o(c).autoSync=a)},{default:u(()=>[t(" \u81EA\u52A8\u540C\u6B65 ")]),_:1},8,["checked"])]),_:1}),e(k)],64)):C("",!0),e(r,{level:3},{default:u(()=>[t(" \u5168\u5C40\u8BBE\u7F6E ")]),_:1}),e(r,{level:4},{default:u(()=>[t(" \u8BBF\u95EE\u7EDF\u8BA1 ")]),_:1}),e(p,null,{default:u(()=>[e(d,{checked:o(c).showMost,"onUpdate:checked":n[1]||(n[1]=a=>o(c).showMost=a)},{default:u(()=>[t(" \u6700\u5E38\u8BBF\u95EE ")]),_:1},8,["checked"]),e(d,{checked:o(c).showRecent,"onUpdate:checked":n[2]||(n[2]=a=>o(c).showRecent=a)},{default:u(()=>[t(" \u6700\u8FD1\u8BBF\u95EE ")]),_:1},8,["checked"])]),_:1}),e(r,{level:4},{default:u(()=>[t(" \u5176\u4ED6\u8BBE\u7F6E ")]),_:1}),e(p,null,{default:u(()=>[e(d,{checked:o(c).showSearch,"onUpdate:checked":n[3]||(n[3]=a=>o(c).showSearch=a)},{default:u(()=>[t(" \u663E\u793A\u641C\u7D22 ")]),_:1},8,["checked"]),e(d,{checked:o(c).showType,"onUpdate:checked":n[4]||(n[4]=a=>o(c).showType=a)},{default:u(()=>[t(" \u663E\u793A\u5206\u7C7B ")]),_:1},8,["checked"]),e(d,{checked:o(c).openInNewTab,"onUpdate:checked":n[5]||(n[5]=a=>o(c).openInNewTab=a)},{default:u(()=>[t(" \u65B0\u6807\u7B7E\u9875\u6253\u5F00\u5DE5\u5177 ")]),_:1},8,["checked"])]),_:1}),o(l)._user.token?(f(),h(m,{key:1},[e(k),e(r,{level:3},{default:u(()=>[t(" \u5E94\u7528\u8BBE\u7F6E ")]),_:1}),e(p,null,{default:u(()=>[e(d,{checked:o(l).modules.jsonEditor.syncCloud,"onUpdate:checked":n[6]||(n[6]=a=>o(l).modules.jsonEditor.syncCloud=a)},{default:u(()=>[t(" \u4ECE\u4E91\u7AEF\u83B7\u53D6 ")]),_:1},8,["checked"])]),_:1})],64)):C("",!0)],64)}}});const ee=j(z,[["__scopeId","data-v-c521da5d"]]);export{ee as default};
