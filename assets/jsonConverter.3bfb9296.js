import{_ as G,r as C,j as K,o as Q,L as Y,a as g,w as v,M as r,k as _,l as U,a2 as M,a8 as F,cj as Z,B as q,b as ee,U as te,V as ne}from"./index.5225add7.js";import{_ as oe}from"./index.88ce7c47.js";import{a as L,V as O}from"./ext-beautify.fb179eb9.js";import{w as ae}from"./worker-javascript.a4945fc9.js";var ie={exports:{}};(function(y,w){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,f,R){var h=e("../lib/oop"),m=e("./text_highlight_rules").TextHighlightRules,d=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};h.inherits(d,m),f.JsonHighlightRules=d}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,f,R){var h=e("../range").Range,m=function(){};(function(){this.checkOutdent=function(d,p){return/^\s+$/.test(d)?/^\s*\}/.test(p):!1},this.autoOutdent=function(d,p){var t=d.getLine(p),o=t.match(/^(\s*\})/);if(!o)return 0;var a=o[1].length,l=d.findMatchingBracket({row:p,column:a});if(!l||l.row==p)return 0;var i=this.$getIndent(d.getLine(l.row));d.replace(new h(p,0,p,a-1),i)},this.$getIndent=function(d){return d.match(/^\s*/)[0]}}).call(m.prototype),f.MatchingBraceOutdent=m}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,f,R){var h=e("../../lib/oop"),m=e("../../range").Range,d=e("./fold_mode").FoldMode,p=f.FoldMode=function(t){t&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+t.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+t.end)))};h.inherits(p,d),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(t,o,a){var l=t.getLine(a);if(this.singleLineBlockCommentRe.test(l)&&!this.startRegionRe.test(l)&&!this.tripleStarBlockCommentRe.test(l))return"";var i=this._getFoldWidgetBase(t,o,a);return!i&&this.startRegionRe.test(l)?"start":i},this.getFoldWidgetRange=function(t,o,a,l){var i=t.getLine(a);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(t,i,a);var c=i.match(this.foldingStartMarker);if(c){var s=c.index;if(c[1])return this.openingBracketBlock(t,c[1],a,s);var u=t.getCommentFoldRange(a,s+c[0].length,1);return u&&!u.isMultiLine()&&(l?u=this.getSectionRange(t,a):o!="all"&&(u=null)),u}if(o!=="markbegin"){var c=i.match(this.foldingStopMarker);if(c){var s=c.index+c[0].length;return c[1]?this.closingBracketBlock(t,c[1],a,s):t.getCommentFoldRange(a,s,-1)}}},this.getSectionRange=function(t,o){var a=t.getLine(o),l=a.search(/\S/),i=o,s=a.length;o=o+1;for(var u=o,c=t.getLength();++o<c;){a=t.getLine(o);var b=a.search(/\S/);if(b!==-1){if(l>b)break;var S=this.getFoldWidgetRange(t,"all",o);if(S){if(S.start.row<=i)break;if(S.isMultiLine())o=S.end.row;else if(l==b)break}u=o}}return new m(i,s,u,t.getLine(u).length)},this.getCommentRegionBlock=function(t,o,a){for(var l=o.search(/\s*$/),i=t.getLength(),s=a,u=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,c=1;++a<i;){o=t.getLine(a);var b=u.exec(o);if(!!b&&(b[1]?c--:c++,!c))break}var S=a;if(S>s)return new m(s,l,S,o.length)}}.call(p.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,f,R){var h=e("../lib/oop"),m=e("./text").Mode,d=e("./json_highlight_rules").JsonHighlightRules,p=e("./matching_brace_outdent").MatchingBraceOutdent,t=e("./behaviour/cstyle").CstyleBehaviour,o=e("./folding/cstyle").FoldMode,a=e("../worker/worker_client").WorkerClient,l=function(){this.HighlightRules=d,this.$outdent=new p,this.$behaviour=new t,this.foldingRules=new o};h.inherits(l,m),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(i,s,u){var c=this.$getIndent(s);if(i=="start"){var b=s.match(/^.*[\{\(\[]\s*$/);b&&(c+=u)}return c},this.checkOutdent=function(i,s,u){return this.$outdent.checkOutdent(s,u)},this.autoOutdent=function(i,s,u){this.$outdent.autoOutdent(s,u)},this.createWorker=function(i){var s=new a(["ace"],"ace/mode/json_worker","JsonWorker");return s.attachToDocument(i.getDocument()),s.on("annotate",function(u){i.setAnnotations(u.data)}),s.on("terminate",function(){i.clearAnnotations()}),s},this.$id="ace/mode/json"}.call(l.prototype),f.Mode=l}),function(){ace.require(["ace/mode/json"],function(e){y&&(y.exports=e)})}()})(ie);var se={exports:{}};(function(y,w){(function(){ace.require(["ace/snippets/json"],function(e){y&&(y.exports=e)})})()})(se);const re="/assets/worker-json.e628a930.js";const x=y=>(te("data-v-4d2aad09"),y=y(),ne(),y),le={flex:"","h-full":"","flex-col":""},ce={flex:"","flex-wrap":"","justify-between":"","overflow-auto":"","flex-1":""},ue={class:"codePanel"},de={class:"header"},ge=x(()=>r("span",{class:"i-iszy-jsoneditor-format"},null,-1)),he=x(()=>r("span",{class:"i-icon-park-outline-compression"},null,-1)),pe=x(()=>r("span",{class:"i-icon-park-outline-collapse-text-input"},null,-1)),fe=x(()=>r("span",{class:"i-icon-park-outline-expand-text-input"},null,-1)),me=x(()=>r("span",{class:"i-icon-park-outline-undo"},null,-1)),_e=x(()=>r("span",{class:"i-icon-park-outline-redo"},null,-1)),ve=x(()=>r("span",{class:"i-icon-park-outline-to-top"},null,-1)),ke=x(()=>r("span",{class:"i-icon-park-outline-to-bottom"},null,-1)),xe={class:"ace-container"},ye={class:"footer"},be={class:"codePanel"},Ce={class:"header"},Se=x(()=>r("span",{class:"i-iszy-jsoneditor-format"},null,-1)),Re=x(()=>r("span",{class:"i-icon-park-outline-undo"},null,-1)),Me=x(()=>r("span",{class:"i-icon-park-outline-redo"},null,-1)),je=x(()=>r("span",{class:"i-icon-park-solid-right-one"},null,-1)),Be={class:"ace-container"},we={class:"footer"},Je={__name:"jsonConverter",setup(y){L.config.setModuleUrl("ace/mode/json_worker",re),L.config.setModuleUrl("ace/mode/javascript_worker",ae);const w=L.require("ace/ext/beautify");let e=null,f=null;const R=C(`function main(json) {
  return json
}`),h=C(`{
  "a": 1,
  "b": 2
}`),m=C({row:0,column:0}),d=C({row:0,column:0}),p=C(0),t=C(0),o=C(!1),a=C(!1),l=C(!1),i=C(!1),s=K("$msg");function u(n){e=n,n.getSession().setTabSize(2),n.getSession().setUseSoftTabs(!0),n.setShowPrintMargin(!1),n.selection.on("changeCursor",()=>{m.value=n.selection.getCursor()}),m.value=n.selection.getCursor(),p.value=n.session.getLength()}function c(n){f=n,n.getSession().setTabSize(2),n.getSession().setUseSoftTabs(!0),n.setShowPrintMargin(!1),n.selection.on("changeCursor",()=>{d.value=n.selection.getCursor()}),d.value=n.selection.getCursor(),t.value=n.session.getLength()}function b(){e.session.foldAll()}function S(){e.session.unfold()}function T(){e.gotoLine(0)}function $(){try{h.value=JSON.stringify(JSON.parse(h.value),null,2)}catch{}}function A(){try{h.value=JSON.stringify(JSON.parse(h.value))}catch{}}function I(){w.beautify(f.session)}function W(){e.gotoLine(e.session.getLength())}async function E(){p.value=e.session.getLength(),await F();const n=e.session.getUndoManager();o.value=n.hasUndo(),a.value=n.hasRedo()}async function N(){t.value=f.session.getLength(),await F();const n=f.session.getUndoManager();l.value=n.hasUndo(),i.value=n.hasRedo()}function H(){e.getSession().getUndoManager().undo()}function V(){e.getSession().getUndoManager().redo()}function P(){f.getSession().getUndoManager().undo()}function z(){f.getSession().getUndoManager().redo()}function D(){try{const n=new Function("json",R.value+`
return main(json)`);h.value=JSON.stringify(n(JSON.parse(h.value))),$(),s.success("\u8F6C\u6362\u6210\u529F")}catch(n){s.warn(n.message)}}return(n,B)=>{const X=Z,k=q,j=oe;return Q(),Y("div",le,[g(X,null,{default:v(()=>[ee(" \u5728\u53F3\u4FA7\u8F93\u5165JavaScript\u65B9\u6CD5(main\u65B9\u6CD5\u662F\u5FC5\u987B\u7684)\uFF0C\u7528\u4E8E\u8F6C\u6362\u5DE6\u4FA7\u7684JSON\u6570\u636E\u3002 ")]),_:1}),r("div",ce,[r("div",ue,[r("div",de,[g(k,{type:"primary",title:"\u683C\u5F0F\u5316",onClick:$},{icon:v(()=>[ge]),_:1}),g(k,{type:"primary",title:"\u538B\u7F29",onClick:A},{icon:v(()=>[he]),_:1}),g(j,{type:"vertical"}),g(k,{type:"primary",title:"\u6298\u53E0\u6240\u6709",onClick:b},{icon:v(()=>[pe]),_:1}),g(k,{type:"primary",title:"\u5C55\u5F00\u6240\u6709",onClick:S},{icon:v(()=>[fe]),_:1}),g(j,{type:"vertical"}),g(k,{type:"primary",title:"\u64A4\u9500",disabled:!_(o),onClick:H},{icon:v(()=>[me]),_:1},8,["disabled"]),g(k,{type:"primary",title:"\u91CD\u505A",disabled:!_(a),onClick:V},{icon:v(()=>[_e]),_:1},8,["disabled"]),g(j,{type:"vertical"}),g(k,{type:"primary",title:"\u524D\u5F80\u9876\u90E8",onClick:T},{icon:v(()=>[ve]),_:1}),g(k,{type:"primary",title:"\u524D\u5F80\u5E95\u90E8",onClick:W},{icon:v(()=>[ke]),_:1})]),r("div",xe,[g(_(O),{value:_(h),"onUpdate:value":B[0]||(B[0]=J=>U(h)?h.value=J:null),lang:"json",theme:"textmate",style:{height:"100%"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0},onInit:u,onChange:E},null,8,["value"])]),r("div",ye,[r("span",null,"\u603B\u884C\u6570:\xA0"+M(_(p))+"\xA0\xA0\u884C\u6570:\xA0"+M(_(m).row+1)+"\xA0\xA0\u5217\u6570:\xA0"+M(_(m).column+1),1)])]),r("div",be,[r("div",Ce,[g(k,{type:"primary",title:"\u683C\u5F0F\u5316",onClick:I},{icon:v(()=>[Se]),_:1}),g(j,{type:"vertical"}),g(k,{type:"primary",title:"\u64A4\u9500",disabled:!_(l),onClick:P},{icon:v(()=>[Re]),_:1},8,["disabled"]),g(k,{type:"primary",title:"\u91CD\u505A",disabled:!_(i),onClick:z},{icon:v(()=>[Me]),_:1},8,["disabled"]),g(j,{type:"vertical"}),g(k,{type:"primary",title:"\u8FD0\u884C",onClick:D},{icon:v(()=>[je]),_:1})]),r("div",Be,[g(_(O),{value:_(R),"onUpdate:value":B[1]||(B[1]=J=>U(R)?R.value=J:null),lang:"javascript",theme:"textmate",style:{height:"100%"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0},onInit:c,onChange:N},null,8,["value"])]),r("div",we,[r("span",null,"\u603B\u884C\u6570:\xA0"+M(_(t))+"\xA0\xA0\u884C\u6570:\xA0"+M(_(d).row+1)+"\xA0\xA0\u5217\u6570:\xA0"+M(_(d).column+1),1)])])])])}}},Oe=G(Je,[["__scopeId","data-v-4d2aad09"]]);export{Oe as default};
