import{_ as w,r as v,j as x,o as N,c as k,w as i,a as u,b as d,k as b,B}from"./index.3e475570.js";import{_ as E}from"./index.44983375.js";import"./useFlexGapSupport.38976fbd.js";const h=[16,8,4,2,1],y="0123456789bcdefghjkmnpqrstuvwxyz",g=function(o,n,e){n&e?o[0]=(o[0]+o[1])/2:o[1]=(o[0]+o[1])/2};function S(o,n){if(typeof o=="string"){const s=o.split(",");if(s.length>=2){if(o=parseFloat(s[0]),n=parseFloat(s[1]),isNaN(o)||isNaN(n))throw new Error("Not Supported")}else throw new Error("Not Supported")}let e=1;const t=[],a=[];let r=0,_=0;const c=12;let l="";for(t[0]=-90,t[1]=90,a[0]=-180,a[1]=180;l.length<c;){if(e){const s=(a[0]+a[1])/2;n>s?(_|=h[r],a[0]=s):a[1]=s}else{const s=(t[0]+t[1])/2;o>s?(_|=h[r],t[0]=s):t[1]=s}e=!e,r<4?r++:(l+=y[_],r=0,_=0)}return l}function j(o){let n=1;const e=[],t=[];e[0]=-90,e[1]=90,t[0]=-180,t[1]=180;for(let a=0;a<o.length;a++){const r=o[a],_=y.indexOf(r);for(let c=0;c<5;c++){const l=h[c];g(n?t:e,_,l),n=!n}}return e[2]=(e[0]+e[1])/2,t[2]=(t[0]+t[1])/2,{latitude:e,longitude:t}}const C={__name:"geohash",setup(o){const n=v(""),e=v(""),t=x("$msg");function a(){try{e.value=S(n.value)}catch(c){t.error(`\u7F16\u7801\u5931\u8D25\uFF0C${c.message}`)}}function r(){try{e.value=JSON.stringify(j(n.value))}catch(c){t.error(`\u89E3\u7801\u5931\u8D25\uFF0C${c.message}`)}}function _(){const c=n.value;n.value=e.value,e.value=c}return(c,l)=>{const s=b,p=B,m=E;return N(),k(m,{direction:"vertical",style:{width:"100%"}},{default:i(()=>[u(s,{value:n.value,"onUpdate:value":l[0]||(l[0]=f=>n.value=f),rows:5,placeholder:"\u8BF7\u8F93\u5165\u8981\u8FDB\u884C GeoHash \u7F16\u7801\u6216\u89E3\u7801\u7684\u5B57\u7B26"},null,8,["value"]),u(m,{style:{"flex-wrap":"wrap"}},{default:i(()=>[u(p,{type:"primary",onClick:a},{default:i(()=>[d(" \u7F16\u7801 (Encode) ")]),_:1}),u(p,{onClick:r},{default:i(()=>[d(" \u89E3\u7801 (Decode) ")]),_:1}),u(p,{onClick:_},{default:i(()=>[d(" \u2195\u4EA4\u6362 ")]),_:1})]),_:1}),u(s,{value:e.value,"onUpdate:value":l[1]||(l[1]=f=>e.value=f),rows:5,readonly:"",placeholder:"GeoHash \u7F16\u7801\u6216\u89E3\u7801\u7684\u7ED3\u679C"},null,8,["value"])]),_:1})}}},$=w(C,[["__scopeId","data-v-12b4ae7f"]]);export{$ as default};
