import{d as G,e as J,a as i,P as I,H as ut,K as D,ap as lt,X as mt,Y as H,g as vt,h as C,cu as gt,cv as ft,aa as pt,I as xt,al as at,f as P,M as et,S as ht,O as K,a8 as it}from"./index.82f4337f.js";import{S as yt}from"./index.1f71f2e3.js";import{u as bt,e as _t,P as St}from"./index.6b5a3d7e.js";import{C as Ct,R as It}from"./Col.0248fc1e.js";import{r as nt}from"./responsiveObserve.e6e652ae.js";var wt=function(){return{avatar:I.any,description:I.any,prefixCls:String,title:I.any}},Pt=G({name:"AListItemMeta",props:wt(),displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(t,x){var a=x.slots,d=J("list",t),v=d.prefixCls;return function(){var w,h,n,j,L,c,g="".concat(v.value,"-item-meta"),l=(w=t.title)!==null&&w!==void 0?w:(h=a.title)===null||h===void 0?void 0:h.call(a),s=(n=t.description)!==null&&n!==void 0?n:(j=a.description)===null||j===void 0?void 0:j.call(a),u=(L=t.avatar)!==null&&L!==void 0?L:(c=a.avatar)===null||c===void 0?void 0:c.call(a),y=i("div",{class:"".concat(v.value,"-item-meta-content")},[l&&i("h4",{class:"".concat(v.value,"-item-meta-title")},[l]),s&&i("div",{class:"".concat(v.value,"-item-meta-description")},[s])]);return i("div",{class:g},[u&&i("div",{class:"".concat(v.value,"-item-meta-avatar")},[u]),(l||s)&&y])}}}),rt=Symbol("ListContextKey"),zt=globalThis&&globalThis.__rest||function(o,t){var x={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&t.indexOf(a)<0&&(x[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(o);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(o,a[d])&&(x[a[d]]=o[a[d]]);return x},jt=function(){return{prefixCls:String,extra:I.any,actions:I.array,grid:Object,colStyle:{type:Object,default:void 0}}},Lt=G({name:"AListItem",inheritAttrs:!1,Meta:Pt,props:jt(),slots:["actions","extra"],setup:function(t,x){var a=x.slots,d=x.attrs,v=ut(rt,{grid:D(),itemLayout:D()}),w=v.itemLayout,h=v.grid,n=J("list",t),j=n.prefixCls,L=function(){var l,s=((l=a.default)===null||l===void 0?void 0:l.call(a))||[],u;return s.forEach(function(y){gt(y)&&!ft(y)&&(u=!0)}),u&&s.length>1},c=function(){var l,s,u=(l=t.extra)!==null&&l!==void 0?l:(s=a.extra)===null||s===void 0?void 0:s.call(a);return w.value==="vertical"?!!u:!L()};return function(){var g,l,s,u,y,V=d.class,W=zt(d,["class"]),f=j.value,M=(g=t.extra)!==null&&g!==void 0?g:(l=a.extra)===null||l===void 0?void 0:l.call(a),E=(s=a.default)===null||s===void 0?void 0:s.call(a),p=(u=t.actions)!==null&&u!==void 0?u:lt((y=a.actions)===null||y===void 0?void 0:y.call(a));p=p&&!Array.isArray(p)?[p]:p;var b=p&&p.length>0&&i("ul",{class:"".concat(f,"-item-action"),key:"actions"},[p.map(function(O,F){return i("li",{key:"".concat(f,"-item-action-").concat(F)},[O,F!==p.length-1&&i("em",{class:"".concat(f,"-item-action-split")},null)])})]),N=h.value?"div":"li",B=i(N,H(H({},W),{},{class:vt("".concat(f,"-item"),C({},"".concat(f,"-item-no-flex"),!c()),V)}),{default:function(){return[w.value==="vertical"&&M?[i("div",{class:"".concat(f,"-item-main"),key:"content"},[E,b]),i("div",{class:"".concat(f,"-item-extra"),key:"extra"},[M])]:[E,b,mt(M,{key:"extra"})]]}});return h.value?i(Ct,{flex:1,style:t.colStyle},{default:function(){return[B]}}):B}}}),Mt=function(){return{bordered:{type:Boolean,default:void 0},dataSource:I.array,extra:I.any,grid:{type:Object,default:void 0},itemLayout:String,loading:{type:[Boolean,Object],default:void 0},loadMore:I.any,pagination:{type:[Boolean,Object],default:void 0},prefixCls:String,rowKey:[String,Number,Function],renderItem:Function,size:String,split:{type:Boolean,default:void 0},header:I.any,footer:I.any,locale:{type:Object}}},z=G({name:"AList",Item:Lt,props:pt(Mt(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(t,x){var a=x.slots,d,v;xt(rt,{grid:at(t,"grid"),itemLayout:at(t,"itemLayout")});var w={current:1,total:0},h=J("list",t),n=h.prefixCls,j=h.direction,L=h.renderEmpty,c=P(function(){return t.pagination&&et(t.pagination)==="object"?t.pagination:{}}),g=D((d=c.value.defaultCurrent)!==null&&d!==void 0?d:1),l=D((v=c.value.defaultPageSize)!==null&&v!==void 0?v:10);ht(c,function(){"current"in c.value&&(g.value=c.value.current),"pageSize"in c.value&&(l.value=c.value.pageSize)});var s=[],u=function(r){return function(m,_){g.value=m,l.value=_,c.value[r]&&c.value[r](m,_)}},y=u("onChange"),V=u("onShowSizeChange"),W=function(r){var m;return i("div",{class:"".concat(n.value,"-empty-text")},[((m=t.locale)===null||m===void 0?void 0:m.emptyText)||r("List")])},f=P(function(){return typeof t.loading=="boolean"?{spinning:t.loading}:t.loading}),M=P(function(){return f.value&&f.value.spinning}),E=P(function(){var e="";switch(t.size){case"large":e="lg";break;case"small":e="sm";break}return e}),p=P(function(){var e;return e={},C(e,"".concat(n.value),!0),C(e,"".concat(n.value,"-vertical"),t.itemLayout==="vertical"),C(e,"".concat(n.value,"-").concat(E.value),E.value),C(e,"".concat(n.value,"-split"),t.split),C(e,"".concat(n.value,"-bordered"),t.bordered),C(e,"".concat(n.value,"-loading"),M.value),C(e,"".concat(n.value,"-grid"),!!t.grid),C(e,"".concat(n.value,"-rtl"),j.value==="rtl"),e}),b=P(function(){var e=K(K(K({},w),{total:t.dataSource.length,current:g.value,pageSize:l.value}),t.pagination||{}),r=Math.ceil(e.total/e.pageSize);return e.current>r&&(e.current=r),e}),N=P(function(){var e=it(t.dataSource);return t.pagination&&t.dataSource.length>(b.value.current-1)*b.value.pageSize&&(e=it(t.dataSource).splice((b.value.current-1)*b.value.pageSize,b.value.pageSize)),e}),B=bt(),O=_t(function(){for(var e=0;e<nt.length;e+=1){var r=nt[e];if(B.value[r])return r}}),F=P(function(){if(!!t.grid){var e=O.value&&t.grid[O.value]?t.grid[O.value]:t.grid.column;if(e)return{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}}}),ot=function(r,m){var _,A=(_=t.renderItem)!==null&&_!==void 0?_:a.renderItem;if(!A)return null;var S,k=et(t.rowKey);return k==="function"?S=t.rowKey(r):k==="string"||k==="number"?S=r[t.rowKey]:S=r.key,S||(S="list-item-".concat(m)),s[m]=S,A({item:r,index:m})};return function(){var e,r,m,_,A,S,k,Q=(e=t.loadMore)!==null&&e!==void 0?e:(r=a.loadMore)===null||r===void 0?void 0:r.call(a),X=(m=t.footer)!==null&&m!==void 0?m:(_=a.footer)===null||_===void 0?void 0:_.call(a),U=(A=t.header)!==null&&A!==void 0?A:(S=a.header)===null||S===void 0?void 0:S.call(a),Z=lt((k=a.default)===null||k===void 0?void 0:k.call(a)),st=!!(Q||t.pagination||X),dt=K(K({},p.value),C({},"".concat(n.value,"-something-after-last-item"),st)),$=t.pagination?i("div",{class:"".concat(n.value,"-pagination")},[i(St,H(H({},b.value),{},{onChange:y,onShowSizeChange:V}),null)]):null,Y=M.value&&i("div",{style:{minHeight:"53px"}},null);if(N.value.length>0){s.length=0;var tt=N.value.map(function(T,q){return ot(T,q)}),ct=tt.map(function(T,q){return i("div",{key:s[q],style:F.value},[T])});Y=t.grid?i(It,{gutter:t.grid.gutter},{default:function(){return[ct]}}):i("ul",{class:"".concat(n.value,"-items")},[tt])}else!Z.length&&!M.value&&(Y=W(L.value));var R=b.value.position||"bottom";return i("div",{class:dt},[(R==="top"||R==="both")&&$,U&&i("div",{class:"".concat(n.value,"-header")},[U]),i(yt,f.value,{default:function(){return[Y,Z]}}),X&&i("div",{class:"".concat(n.value,"-footer")},[X]),Q||(R==="bottom"||R==="both")&&$])}}});z.install=function(o){return o.component(z.name,z),o.component(z.Item.name,z.Item),o.component(z.Item.Meta.name,z.Item.Meta),o};var Kt=z;export{Kt as _,Lt as a,Pt as b};
