import{a3 as Q,aL as Y,o as h,c as v,a as d,t as N,y as c,aM as ee,b as u,d as A,aN as K,j as te,a8 as ae,aO as se,B as D,l as ne,aa as B,q as b,r as M,ay as m,w as R,f as F,W as y,F as H,g as W,ax as oe,aP as ie,aQ as ce,aA as re,aR as le,aS as ue,aT as fe,aU as de,aV as me,aG as _e,aH as pe,aW as C,ab as ge,$ as he,aX as ye,aY as ve,a2 as ke,a4 as x,ad as we}from"./vendor-Ru-BxWlB.js";import{u as P,h as T,d as Se,s as Ie,S as Ee,E as q}from"./common-br7fSpCF.js";import"./ant-design-vue-1fGE3reg.js";import"./vanilla-jsoneditor-_koh3yF9.js";const $e={class:"containerAll"},be={class:"containerTitle"},Ne={class:"typeName"},Be={class:"main"},Ce={__name:"container",props:{fullScreenStatus:{type:Boolean,default:!1}},emits:["fullScreen"],setup(t,{emit:a}){const i=a,s=Y();function o(){i("fullScreen")}return(e,_)=>{var p;const r=K;return h(),v("div",{ref:"container",class:A(["containerBase",{"full-screen":t.fullScreenStatus}])},[d("div",$e,[d("div",be,[d("div",Ne,[d("span",null,N(((p=c(s).meta)==null?void 0:p.title)||c(s).name),1),d("span",{class:"i-icon-park-outline-full-screen fullScreen",title:"全屏",onClick:o})])]),d("div",Be,[ee(e.$slots,"default",{},void 0,!0),u(r,{"visibility-height":100})])])],2)}}},xe=Q(Ce,[["__scopeId","data-v-a803953d"]]);async function Pe(t,a="script",i=!1){if(a==="script"){const s=document.getElementsByTagName("script");let o=!1;for(let e=0;e<s.length;e++)o=s[e].src===t,o&&i&&s[e].remove();if(!o||i){const e=document.createElement("script");e.type="text/javascript",e.src=t,e.defer=!0,document.head.appendChild(e)}}else if(a==="style"){const s=document.getElementsByTagName("link");let o=!1;for(let e=0;e<s.length;e++)o=s[e].href===t,o&&i&&s[e].remove();if(!o||i){const e=document.createElement("link");e.rel="stylesheet",e.href=t,document.head.appendChild(e)}}}const S=t=>(_e("data-v-cb89bf6c"),t=t(),pe(),t),Te={class:"global-wrapper"},Ae=S(()=>d("i",{class:"dark:i-icon-park-outline-moon i-icon-park-outline-sun-one"},null,-1)),Ve={class:"header"},Le={key:0,class:"desc"},je={key:1,class:"desc"},ze=S(()=>d("span",{class:"i-icon-park-outline:return"},null,-1)),De={key:0,class:"container"},Me=S(()=>d("a",{href:"https://www.iszy.cc",target:"_blank"}," 随遇而安Blog ",-1)),Re=S(()=>d("br",null,null,-1)),Fe=S(()=>d("a",{href:"https://beian.miit.gov.cn/#/Integrated/recordQuery",target:"_blank"}," 苏ICP备18047890号-2 ",-1)),He=te({__name:"App",setup(t){const a=ae(),{offlineReady:i,needRefresh:s,updateServiceWorker:o}=se(),e=Y(),_=P()._user,r=D(!1),p=D("2021"),I=new Date().getFullYear().toString();I!==p.value&&(p.value+=` - ${I}`);let l=!1;ne(()=>{Pe("https://fonts.cdn.iszy.xyz/css2?family=JetBrains+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Lora:ital,wght@0,400;0,700;1,400;1,700&family=Noto+Serif+SC:wght@300;400;700&display=swap","style"),window.addEventListener("keydown",function(f){r.value&&f.key==="Escape"&&(f.repeat?n():l||(l=!0,setTimeout(()=>{l=!1},3e3),B.info("长按Esc以退出全屏")))},!1)});function n(){r.value&&T("fullScreen")?Se("fullScreen"):!r.value&&!T("fullScreen")&&Ie("fullScreen"),r.value=!r.value,r.value&&B.info("长按Esc以退出全屏")}return b(a,function(){P().setTheme()}),b(i,function(f){f&&B.success("离线使用已准备好~")}),b(s,function(f){f&&ce.confirm("存在新内容，请点击 重载 更新~","更新",{confirmButtonText:"重载",cancelButtonText:"取消",type:"info"}).then(()=>{o()})}),b(()=>e.path,()=>{r.value=T("fullScreen")}),(f,V)=>{const w=re,k=M("router-link"),g=le,E=K,$=M("router-view"),U=xe,G=ue,X=fe,Z=de,O=me;return h(),v("div",Te,[u(O,{locale:c(ie)},{default:m(()=>[u(Z,{class:"main"},{default:m(()=>{var L,j;return[u(w,{type:"primary",class:"dark-mode-trigger",circle:"",onClick:c(P)().toggleTheme},{default:m(()=>[Ae]),_:1},8,["onClick"]),R(u(g,{class:A(["main-header",{"in-tool":((L=c(e).meta)==null?void 0:L.type)==="tool"}])},{default:m(()=>[d("div",Ve,[u(k,{to:"/"},{default:m(()=>[y(" ISZY工具集合 ")]),_:1})]),c(e).path==="/"?(h(),v("div",Le,[y(" 一个轻量的工具集合 "),c(_).profile.nickName?(h(),v(H,{key:0},[y(" · "),u(k,{to:"/settings"},{default:m(()=>[y(N(c(_).profile.nickName),1)]),_:1})],64)):W("",!0)])):(h(),v("div",je,[u(k,{to:"/"},{default:m(()=>[ze,y("返回首页 ")]),_:1}),c(_).profile.nickName?(h(),v(H,{key:0},[y(" · "),u(k,{to:"/settings"},{default:m(()=>[y(N(c(_).profile.nickName),1)]),_:1})],64)):W("",!0)]))]),_:1},8,["class"]),[[F,!c(r)]]),u(G,{class:A(["main-content",{"full-screen":c(r)}])},{default:m(()=>{var z;return[u(E,{"visibility-height":100}),((z=c(e).meta)==null?void 0:z.type)!=="tool"?(h(),v("div",De,[u($)])):(h(),oe(U,{key:1,"full-screen-status":c(r),onFullScreen:n},{default:m(()=>[u($)]),_:1},8,["full-screen-status"]))]}),_:1},8,["class"]),R(u(X,{class:"main-footer"},{default:m(()=>[d("span",null,"© "+N(c(p))+" ",1),Me,Re,Fe]),_:1},512),[[F,!c(r)&&((j=c(e).meta)==null?void 0:j.type)!=="tool"]])]}),_:1})]),_:1},8,["locale"])])}}}),We=Q(He,[["__scopeId","data-v-cb89bf6c"]]),J=new Ee;async function qe(t={}){const a=t.name!=null?t.name:"pinia",i=t.storeName!=null?t.storeName:"keyvaluepairs",s=t.version!=null?t.version:1,o=t.debug,e=C.createInstance({name:a,storeName:s!==1?`${i}_${s}`:i}),_=await e.keys();if(!_.length){if(s!==1){const n=C.createInstance({name:a,storeName:s-1!==1?`${i}_${s-1}`:i});(await n.keys()).length&&s===2&&await Je(n,e),await C.dropInstance({name:a,storeName:s-1!==1?`${i}_${s-1}`:i})}await e.getItem("version")==null&&await e.setItem("version",s)}sessionStorage.clear();const r=[];for(const l of _)r.push((async()=>{const n=await e.getItem(l);n!=null&&sessionStorage.setItem(l,JSON.stringify(n))})());await Promise.all(r);const p=(l,n)=>{const f=sessionStorage.getItem(l);return f!=null?(n&&sessionStorage.removeItem(l),JSON.parse(f)):null},I=(l,n)=>e.setItem(l,ye(n));return l=>{const{store:n,options:{persist:f}}=l;if(!f)return;const V=p(n.$id,!0);n.$patch(ge({},n.$state,V));let w=!0;const k=he(function(){var g,E;J.enqueue(I(n.$id,n.$state).catch($=>{o&&console.log($)})),n.$id==="user"&&((g=n.$state.settings)!=null&&g.autoSync)&&navigator.onLine&&(w?n.$state.syncing?(n.$state.syncing=!1,w=!1):J.enqueue((E=n.uploadSettings)==null?void 0:E.call(n)):w=!0)},100);n.$subscribe(g=>{if(g.storeId==="main"&&!Array.isArray(g.events)&&g.events.key==="clearOfflineCacheTag"){e.clear().then(()=>{window.location.reload()});return}k()},{detached:!0,deep:!0})}}async function Je(t,a){await a.clear();const i=await t.keys();for(const s of i)switch(s){case"g2048":await a.setItem("2048",await t.getItem("g2048"));break;case"imgHosting":await a.setItem("imgHosting",await t.getItem("imgHosting"));break;case"jsonEditor":await a.setItem("jsonEditor",await t.getItem("jsonEditor"));break;case"linuxCommand":await a.setItem("linuxCommand",await t.getItem("linuxCommand"));break;case"tinyEditor":await a.setItem("tinyEditor",await t.getItem("tinyEditor"));break;case"user":{const o=await t.getItem("user");delete o.profile,delete o.token,o.modules.jsonEditor=o.settings.jsonEditor,delete o.settings.jsonEditor,o.version=2,await a.setItem("user",o);break}}await a.setItem("version",2)}const Qe="https://api.iszy.xyz";(async()=>{const t=ve(),a=ke(We);a.config.globalProperties.$axios=x,a.config.globalProperties.$eventBus=q,a.provide("$axios",x),a.provide("$eventBus",q),x.$apiBase=Qe;const i=await qe({name:"iszy_tools",storeName:"state",version:2});t.use(i),a.use(t);const s=(await we(()=>import("./index-kQ1n6Zng.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))).default;a.use(s),a.mount("#app")})();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-kQ1n6Zng.js","assets/vendor-Ru-BxWlB.js","assets/vendor-lgifY5PM.css","assets/common-br7fSpCF.js","assets/ant-design-vue-1fGE3reg.js","assets/ant-design-vue-Wm6vTltt.css","assets/vanilla-jsoneditor-_koh3yF9.js","assets/common-1rkhhbCJ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}