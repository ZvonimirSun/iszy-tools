import{c as P,a as $,C as d}from"./index.390d38e4.js";import{d as B,ao as D,e as E,r as f,p as O,f as C,T as H,a as M,h as K,Y as N}from"./index.471dd628.js";import{_ as T}from"./createForOfIteratorHelper.d03c2dfd.js";const h=B({compatConfig:{MODE:3},name:"ACheckboxGroup",props:P(),setup:function(l,m){var s=m.slots,V=m.emit,G=m.expose,p=D(),y=E("checkbox",l),I=y.prefixCls,w=y.direction,i=f((l.value===void 0?l.defaultValue:l.value)||[]);O(function(){return l.value},function(){i.value=l.value||[]});var v=C(function(){return l.options.map(function(e){return typeof e=="string"||typeof e=="number"?{label:e,value:e}:e})}),g=f(Symbol()),b=f(new Map),S=function(a){b.value.delete(a),g.value=Symbol()},j=function(a,u){b.value.set(a,u),g.value=Symbol()},_=f(new Map);O(g,function(){var e=new Map,a=T(b.value.values()),u;try{for(a.s();!(u=a.n()).done;){var r=u.value;e.set(r,!0)}}catch(t){a.e(t)}finally{a.f()}_.value=e});var A=function(a){var u=i.value.indexOf(a.value),r=N(i.value);u===-1?r.push(a.value):r.splice(u,1),l.value===void 0&&(i.value=r);var t=r.filter(function(n){return _.value.has(n)}).sort(function(n,o){var k=v.value.findIndex(function(x){return x.value===n}),F=v.value.findIndex(function(x){return x.value===o});return k-F});V("update:value",t),V("change",t),p.onFieldChange()};return H($,{cancelValue:S,registerValue:j,toggleOption:A,mergedValue:i,name:C(function(){return l.name}),disabled:C(function(){return l.disabled})}),G({mergedValue:i}),function(){var e,a=l.id,u=a===void 0?p.id.value:a,r=null,t="".concat(I.value,"-group");return v.value&&v.value.length>0&&(r=v.value.map(function(n){var o;return M(d,{prefixCls:I.value,key:n.value.toString(),disabled:"disabled"in n?n.disabled:l.disabled,indeterminate:n.indeterminate,value:n.value,checked:i.value.indexOf(n.value)!==-1,onChange:n.onChange,class:"".concat(t,"-item")},{default:function(){return[n.label===void 0?(o=s.label)===null||o===void 0?void 0:o.call(s,n):n.label]}})})),M("div",{class:[t,K({},"".concat(t,"-rtl"),w.value==="rtl")],id:u},[r||((e=s.default)===null||e===void 0?void 0:e.call(s))])}}});d.Group=h;d.install=function(c){return c.component(d.name,d),c.component(h.name,h),c};
