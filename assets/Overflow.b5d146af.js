import{d as B,aK as he,f as d,j as xe,P as E,r as C,bn as Ce,a as m,y as f,g as q,bj as re,m as _e,p as V}from"./index.d7a1a0f1.js";var ae=Symbol("OverflowContextProviderKey"),Y=B({name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup:function(e,a){var t=a.slots;return he(ae,d(function(){return e.value})),function(){var n;return(n=t.default)===null||n===void 0?void 0:n.call(t)}}}),Re=function(){return xe(ae,d(function(){return null}))},Ne=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},F=void 0;const $=B({name:"Item",props:{prefixCls:String,item:E.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:E.any,invalidate:Boolean},setup:function(e,a){var t=a.slots,n=a.expose,c=d(function(){return e.responsive&&!e.display}),O=C();n({itemNodeRef:O});function h(v){e.registerSize(e.itemKey,v)}return Ce(function(){h(null)}),function(){var v,_=e.prefixCls,R=e.invalidate,g=e.item,b=e.renderItem,y=e.responsive;e.registerSize,e.itemKey,e.display;var I=e.order,w=e.component,T=w===void 0?"div":w,P=Ne(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),D=(v=t.default)===null||v===void 0?void 0:v.call(t),N=b&&g!==F?b(g):D,K;R||(K={opacity:c.value?0:1,height:c.value?0:F,overflowY:c.value?"hidden":F,order:y?I:F,pointerEvents:c.value?"none":F,position:c.value?"absolute":F});var W={};return c.value&&(W["aria-hidden"]=!0),m(re,{disabled:!y,onResize:function(z){var A=z.offsetWidth;h(A)}},{default:function(){return m(T,f(f(f({class:q(!R&&_),style:K},W),P),{},{ref:O}),{default:function(){return[N]}})}})}}});var H=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a};const pe=B({name:"RawItem",inheritAttrs:!1,props:{component:E.any,title:E.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function}},setup:function(e,a){var t=a.slots,n=a.attrs,c=Re();return function(){var O;if(!c.value){var h=e.component,v=h===void 0?"div":h,_=H(e,["component"]);return m(v,f(f({},_),n),{default:function(){return[(O=t.default)===null||O===void 0?void 0:O.call(t)]}})}var R=c.value,g=R.className,b=H(R,["className"]),y=n.class,I=H(n,["class"]);return m(Y,{value:null},{default:function(){return[m($,f(f(f({class:q(g,y)},b),I),e),t)]}})}}});var Ie=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},le="responsive",ue="invalidate";function Pe(r){return"+ ".concat(r.length," ...")}var ze=function(){return{id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:E.any,component:String,itemComponent:E.any,onVisibleChange:Function,ssr:String,onMousedown:Function}},G=B({name:"Overflow",inheritAttrs:!1,props:ze(),emits:["visibleChange"],setup:function(e,a){var t=a.attrs,n=a.emit,c=a.slots,O=d(function(){return e.ssr==="full"}),h=C(null),v=d(function(){return h.value||0}),_=C(new Map),R=C(0),g=C(0),b=C(0),y=C(null),I=C(null),w=d(function(){return I.value===null&&O.value?Number.MAX_SAFE_INTEGER:I.value||0}),T=C(!1),P=d(function(){return"".concat(e.prefixCls,"-item")}),D=d(function(){return Math.max(R.value,g.value)}),N=d(function(){return!!(e.data.length&&e.maxCount===le)}),K=d(function(){return e.maxCount===ue}),W=d(function(){return N.value||typeof e.maxCount=="number"&&e.data.length>e.maxCount}),p=d(function(){var l=e.data;return N.value?h.value===null&&O.value?l=e.data:l=e.data.slice(0,Math.min(e.data.length,v.value/e.itemWidth)):typeof e.maxCount=="number"&&(l=e.data.slice(0,e.maxCount)),l}),z=d(function(){return N.value?e.data.slice(w.value+1):e.data.slice(p.value.length)}),A=function(u,i){var o,x;return typeof e.itemKey=="function"?e.itemKey(u):(x=e.itemKey&&((o=u)===null||o===void 0?void 0:o[e.itemKey]))!==null&&x!==void 0?x:i},ie=d(function(){return e.renderItem||function(l){return l}}),k=function(u,i){I.value=u,i||(T.value=u<e.data.length-1,n("visibleChange",u))},oe=function(u,i){h.value=i.clientWidth},J=function(u,i){var o=new Map(_.value);i===null?o.delete(u):o.set(u,i),_.value=o},ve=function(u,i){R.value=g.value,g.value=i},fe=function(u,i){b.value=i},L=function(u){return _.value.get(A(p.value[u],u))};return _e([v,_,g,b,function(){return e.itemKey},p],function(){if(v.value&&D.value&&p.value){var l=b.value,u=p.value.length,i=u-1;if(!u){k(0),y.value=null;return}for(var o=0;o<u;o+=1){var x=L(o);if(x===void 0){k(o-1,!0);break}if(l+=x,i===0&&l<=v.value||o===i-1&&l+L(i)<=v.value){k(i),y.value=null;break}else if(l+D.value>v.value){k(o-1),y.value=l-x-b.value+g.value;break}}e.suffix&&L(0)+b.value>v.value&&(y.value=null)}}),function(){var l=T.value&&!!z.value.length,u=e.itemComponent,i=e.renderRawItem,o=e.renderRawRest,x=e.renderRest,Q=e.prefixCls,se=Q===void 0?"rc-overflow":Q,Z=e.suffix,ee=e.component,de=ee===void 0?"div":ee,ce=e.id,me=e.onMousedown,ye=t.class,ge=t.style,be=Ie(t,["class","style"]),te={};y.value!==null&&N.value&&(te={position:"absolute",left:"".concat(y.value,"px"),top:0});var M={prefixCls:P.value,responsive:N.value,component:u,invalidate:K.value},we=i?function(S,s){var j=A(S,s);return m(Y,{key:j,value:V(V({},M),{order:s,item:S,itemKey:j,registerSize:J,display:s<=w.value})},{default:function(){return[i(S,s)]}})}:function(S,s){var j=A(S,s);return m($,f(f({},M),{},{order:s,key:j,item:S,renderItem:ie.value,itemKey:j,registerSize:J,display:s<=w.value}),null)},U=function(){return null},ne={order:l?w.value:Number.MAX_SAFE_INTEGER,className:"".concat(P.value," ").concat(P.value,"-rest"),registerSize:ve,display:l};if(o)o&&(U=function(){return m(Y,{value:V(V({},M),ne)},{default:function(){return[o(z.value)]}})});else{var X=x||Pe;U=function(){return m($,f(f({},M),ne),{default:function(){return typeof X=="function"?X(z.value):X}})}}var Se=function(){var s;return m(de,f({id:ce,class:q(!K.value&&se,ye),style:ge,onMousedown:me},be),{default:function(){return[p.value.map(we),W.value?U():null,Z&&m($,f(f({},M),{},{order:w.value,class:"".concat(P.value,"-suffix"),registerSize:fe,display:!0,style:te}),{default:function(){return Z}}),(s=c.default)===null||s===void 0?void 0:s.call(c)]}})};return m(re,{disabled:!N.value,onResize:oe},{default:Se})}}});G.Item=pe;G.RESPONSIVE=le;G.INVALIDATE=ue;const Fe=G;export{Fe as O};
