import{a3 as E,B as h,ay as N,az as p,aF as V,o as k,b as d,y as w,X as y,W as i,a9 as g,aA as B,aB as S}from"./vendor-_H2Zizob.js";const m=[16,8,4,2,1],x="0123456789bcdefghjkmnpqrstuvwxyz",v=function(o,t,e){t&e?o[0]=(o[0]+o[1])/2:o[1]=(o[0]+o[1])/2};function b(o,t){if(typeof o=="string"){const n=o.split(",");if(n.length>=2){if(o=parseFloat(n[0]),t=parseFloat(n[1]),isNaN(o)||isNaN(t))throw new Error("Not Supported")}else throw new Error("Not Supported")}let e=1;const a=[],s=[];let r=0,l=0;const c=12;let u="";for(a[0]=-90,a[1]=90,s[0]=-180,s[1]=180;u.length<c;){if(e){const n=(s[0]+s[1])/2;t>n?(l|=m[r],s[0]=n):s[1]=n}else{const n=(a[0]+a[1])/2;o>n?(l|=m[r],a[0]=n):a[1]=n}e=!e,r<4?r++:(u+=x[l],r=0,l=0)}return u}function C(o){let t=1;const e=[],a=[];e[0]=-90,e[1]=90,a[0]=-180,a[1]=180;for(let s=0;s<o.length;s++){const r=o[s],l=x.indexOf(r);for(let c=0;c<5;c++){const u=m[c];v(t?a:e,l,u),t=!t}}return e[2]=(e[0]+e[1])/2,a[2]=(a[0]+a[1])/2,{latitude:e[2],longitude:a[2]}}const G={__name:"geohash",setup(o){const t=h(""),e=h("");function a(){try{e.value=b(t.value)}catch(l){g.error(`编码失败，${l.message}`)}}function s(){try{const{latitude:l,longitude:c}=C(t.value);e.value=l+","+c}catch(l){g.error(`解码失败，${l.message}`)}}function r(){const l=t.value;t.value=e.value,e.value=l}return(l,c)=>{const u=B,n=S,_=V;return k(),N(_,{direction:"vertical",fill:!0,"w-full":""},{default:p(()=>[d(u,{modelValue:w(t),"onUpdate:modelValue":c[0]||(c[0]=f=>y(t)?t.value=f:null),type:"textarea",rows:5,placeholder:"请输入要进行 GeoHash 编码或解码的字符"},null,8,["modelValue"]),d(_,{style:{"flex-wrap":"wrap"}},{default:p(()=>[d(n,{type:"primary",onClick:a},{default:p(()=>[i(" 编码 (Encode) ")]),_:1}),d(n,{onClick:s},{default:p(()=>[i(" 解码 (Decode) ")]),_:1}),d(n,{onClick:r},{default:p(()=>[i(" ↕交换 ")]),_:1})]),_:1}),d(u,{modelValue:w(e),"onUpdate:modelValue":c[1]||(c[1]=f=>y(e)?e.value=f:null),type:"textarea",rows:5,readonly:"",placeholder:"GeoHash 编码或解码的结果"},null,8,["modelValue"])]),_:1})}}},I=E(G,[["__scopeId","data-v-9e372918"]]);export{I as default};
