import{d as j}from"./dayjs.min-1859de9f.js";import{as as je,C as Ge,cO as Bt,cP as Vt,aR as Se,g as Ce,ak as ie,bF as fa,aO as pa,h as Ve,aW as Ne,j as Te,aT as va,a3 as He,y as q,D as xe,ao as Ye,aU as Ot,k as E,cQ as ma,cR as ha,aY as ba,n as e,cb as ya,a8 as kt,o as T,c as De,w as se,B as Ze,p as y,ax as xt,av as Ee,ac as he,q as dt,s as ve,l as B,m as L,r as ut,t as fe,X as Lt,v as Le,V as ye,at as ga,R as ka,H as ge,I as _e,b as Ke,T as Ie,a as F,bU as wa,a5 as Da,aI as Sa,Y as Ca,aZ as Ma,aw as st,a0 as Wt,cJ as Ut,aK as zt,ap as ot,U as nt,cS as it,aE as wt,a6 as vt,cT as ct,E as ht,bG as Dt,ae as Kt,a7 as Pa}from"./index-bf1b9cab.js";import{E as _a,T as $a}from"./el-popper-51ee63d5.js";import{E as Ta}from"./el-scrollbar-76a3c665.js";import{v as Yt}from"./index-2fe83ad2.js";import{C as St}from"./el-tag-9e3a002b.js";import{i as Va}from"./isEqual-650fac00.js";const Oa=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Xe=i=>!i&&i!==0?[]:Array.isArray(i)?i:[i];var Ht={exports:{}};(function(i,d){(function(n,t){i.exports=t()})(je,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,p=/\d\d/,m=/\d\d?/,S=/\d*[^-_:/,()\s\d]+/,g={},M=function(l){return(l=+l)+(l>68?1900:2e3)},C=function(l){return function(v){this[l]=+v}},A=[/[+-]\d\d:?(\d\d)?|Z/,function(l){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),P=60*x[1]+(+x[2]||0);return P===0?0:x[0]==="+"?-P:P}(l)}],D=function(l){var v=g[l];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(l,v){var x,P=g.meridiem;if(P){for(var c=1;c<=24;c+=1)if(l.indexOf(P(c,0,v))>-1){x=c>12;break}}else x=l===(v?"pm":"PM");return x},o={A:[S,function(l){this.afternoon=h(l,!1)}],a:[S,function(l){this.afternoon=h(l,!0)}],S:[/\d/,function(l){this.milliseconds=100*+l}],SS:[p,function(l){this.milliseconds=10*+l}],SSS:[/\d{3}/,function(l){this.milliseconds=+l}],s:[m,C("seconds")],ss:[m,C("seconds")],m:[m,C("minutes")],mm:[m,C("minutes")],H:[m,C("hours")],h:[m,C("hours")],HH:[m,C("hours")],hh:[m,C("hours")],D:[m,C("day")],DD:[p,C("day")],Do:[S,function(l){var v=g.ordinal,x=l.match(/\d+/);if(this.day=x[0],v)for(var P=1;P<=31;P+=1)v(P).replace(/\[|\]/g,"")===l&&(this.day=P)}],M:[m,C("month")],MM:[p,C("month")],MMM:[S,function(l){var v=D("months"),x=(D("monthsShort")||v.map(function(P){return P.slice(0,3)})).indexOf(l)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[S,function(l){var v=D("months").indexOf(l)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,C("year")],YY:[p,function(l){this.year=M(l)}],YYYY:[/\d{4}/,C("year")],Z:A,ZZ:A};function k(l){var v,x;v=l,x=g&&g.formats;for(var P=(l=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Z,H,ee){var oe=ee&&ee.toUpperCase();return H||x[ee]||n[ee]||x[oe].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(z,te,ce){return te||ce.slice(1)})})).match(t),c=P.length,$=0;$<c;$+=1){var N=P[$],U=o[N],G=U&&U[0],Y=U&&U[1];P[$]=Y?{regex:G,parser:Y}:N.replace(/^\[|\]$/g,"")}return function(Z){for(var H={},ee=0,oe=0;ee<c;ee+=1){var z=P[ee];if(typeof z=="string")oe+=z.length;else{var te=z.regex,ce=z.parser,pe=Z.slice(oe),K=te.exec(pe)[0];ce.call(H,K),Z=Z.replace(K,"")}}return function(I){var u=I.afternoon;if(u!==void 0){var w=I.hours;u?w<12&&(I.hours+=12):w===12&&(I.hours=0),delete I.afternoon}}(H),H}}return function(l,v,x){x.p.customParseFormat=!0,l&&l.parseTwoDigitYear&&(M=l.parseTwoDigitYear);var P=v.prototype,c=P.parse;P.parse=function($){var N=$.date,U=$.utc,G=$.args;this.$u=U;var Y=G[1];if(typeof Y=="string"){var Z=G[2]===!0,H=G[3]===!0,ee=Z||H,oe=G[2];H&&(oe=G[2]),g=this.$locale(),!Z&&oe&&(g=x.Ls[oe]),this.$d=function(pe,K,I){try{if(["x","X"].indexOf(K)>-1)return new Date((K==="X"?1e3:1)*pe);var u=k(K)(pe),w=u.year,R=u.month,s=u.day,_=u.hours,W=u.minutes,X=u.seconds,J=u.milliseconds,de=u.zone,ne=new Date,re=s||(w||R?1:ne.getDate()),le=w||ne.getFullYear(),Pe=0;w&&!R||(Pe=R>0?R-1:ne.getMonth());var be=_||0,Me=W||0,we=X||0,Fe=J||0;return de?new Date(Date.UTC(le,Pe,re,be,Me,we,Fe+60*de.offset*1e3)):I?new Date(Date.UTC(le,Pe,re,be,Me,we,Fe)):new Date(le,Pe,re,be,Me,we,Fe)}catch{return new Date("")}}(N,Y,U),this.init(),oe&&oe!==!0&&(this.$L=this.locale(oe).$L),ee&&N!=this.format(Y)&&(this.$d=new Date("")),g={}}else if(Y instanceof Array)for(var z=Y.length,te=1;te<=z;te+=1){G[1]=Y[te-1];var ce=x.apply(this,G);if(ce.isValid()){this.$d=ce.$d,this.$L=ce.$L,this.init();break}te===z&&(this.$d=new Date(""))}else c.call(this,$)}}})})(Ht);var xa=Ht.exports;const Ya=Ge(xa),It=["hours","minutes","seconds"],Rt="HH:mm:ss",lt="YYYY-MM-DD",Ia={date:lt,dates:lt,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${lt} ${Rt}`,monthrange:"YYYY-MM",daterange:lt,datetimerange:`${lt} ${Rt}`},bt=(i,d)=>[i>0?i-1:void 0,i,i<d?i+1:void 0],jt=i=>Array.from(Array.from({length:i}).keys()),Gt=i=>i.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),qt=i=>i.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),At=function(i,d){const n=Vt(i),t=Vt(d);return n&&t?i.getTime()===d.getTime():!n&&!t?i===d:!1},Et=function(i,d){const n=Se(i),t=Se(d);return n&&t?i.length!==d.length?!1:i.every((p,m)=>At(p,d[m])):!n&&!t?At(i,d):!1},Nt=function(i,d,n){const t=Bt(d)||d==="x"?j(i).locale(n):j(i,d).locale(n);return t.isValid()?t:void 0},Ft=function(i,d,n){return Bt(d)?i:d==="x"?+i:j(i).locale(n).format(d)},yt=(i,d)=>{var n;const t=[],p=d?.();for(let m=0;m<i;m++)t.push((n=p?.includes(m))!=null?n:!1);return t},Zt=Ce({disabledHours:{type:ie(Function)},disabledMinutes:{type:ie(Function)},disabledSeconds:{type:ie(Function)}}),Ra=Ce({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Xt=Ce({id:{type:ie([Array,String])},name:{type:ie([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ie([String,Object]),default:fa},editable:{type:Boolean,default:!0},prefixIcon:{type:ie([String,Object]),default:""},size:pa,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ie(Object),default:()=>({})},modelValue:{type:ie([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ie([Date,Array])},defaultTime:{type:ie([Date,Array])},isRange:{type:Boolean,default:!1},...Zt,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ie([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Aa=["id","name","placeholder","value","disabled","readonly"],Ea=["id","name","placeholder","value","disabled","readonly"],Na=Ve({name:"Picker"}),Fa=Ve({...Na,props:Xt,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(i,{expose:d,emit:n}){const t=i,{lang:p}=Ne(),m=Te("date"),S=Te("input"),g=Te("range"),{form:M,formItem:C}=va(),A=He("ElPopperOptions",{}),D=q(),h=q(),o=q(!1),k=q(!1),l=q(null);let v=!1,x=!1;xe(o,a=>{a?Ye(()=>{a&&(l.value=t.modelValue)}):(ae.value=null,Ye(()=>{P(t.modelValue)}))});const P=(a,r)=>{(r||!Et(a,l.value))&&(n("change",a),t.validateEvent&&C?.validate("change").catch(b=>Ot()))},c=a=>{if(!Et(t.modelValue,a)){let r;Se(a)?r=a.map(b=>Ft(b,t.valueFormat,p.value)):a&&(r=Ft(a,t.valueFormat,p.value)),n("update:modelValue",a&&r,p.value)}},$=a=>{n("keydown",a)},N=E(()=>{if(h.value){const a=Me.value?h.value:h.value.$el;return Array.from(a.querySelectorAll("input"))}return[]}),U=(a,r,b)=>{const V=N.value;V.length&&(!b||b==="min"?(V[0].setSelectionRange(a,r),V[0].focus()):b==="max"&&(V[1].setSelectionRange(a,r),V[1].focus()))},G=()=>{ce(!0,!0),Ye(()=>{x=!1})},Y=(a="",r=!1)=>{r||(x=!0),o.value=r;let b;Se(a)?b=a.map(V=>V.toDate()):b=a&&a.toDate(),ae.value=null,c(b)},Z=()=>{k.value=!0},H=()=>{n("visible-change",!0)},ee=a=>{a?.key===ye.esc&&ce(!0,!0)},oe=()=>{k.value=!1,o.value=!1,x=!1,n("visible-change",!1)},z=()=>{o.value=!0},te=()=>{o.value=!1},ce=(a=!0,r=!1)=>{x=r;const[b,V]=e(N);let ke=b;!a&&Me.value&&(ke=V),ke&&ke.focus()},pe=a=>{t.readonly||u.value||o.value||x||(o.value=!0,n("focus",a))};let K;const I=a=>{const r=async()=>{setTimeout(()=>{var b;K===r&&(!((b=D.value)!=null&&b.isFocusInsideContent()&&!v)&&N.value.filter(V=>V.contains(document.activeElement)).length===0&&(We(),o.value=!1,n("blur",a),t.validateEvent&&C?.validate("blur").catch(V=>Ot())),v=!1)},0)};K=r,r()},u=E(()=>t.disabled||M?.disabled),w=E(()=>{let a;if(ne.value?me.value.getDefaultValue&&(a=me.value.getDefaultValue()):Se(t.modelValue)?a=t.modelValue.map(r=>Nt(r,t.valueFormat,p.value)):a=Nt(t.modelValue,t.valueFormat,p.value),me.value.getRangeAvailableTime){const r=me.value.getRangeAvailableTime(a);Va(r,a)||(a=r,c(Se(a)?a.map(b=>b.toDate()):a.toDate()))}return Se(a)&&a.some(r=>!r)&&(a=[]),a}),R=E(()=>{if(!me.value.panelReady)return"";const a=Oe(w.value);return Se(ae.value)?[ae.value[0]||a&&a[0]||"",ae.value[1]||a&&a[1]||""]:ae.value!==null?ae.value:!_.value&&ne.value||!o.value&&ne.value?"":a?W.value?a.join(", "):a:""}),s=E(()=>t.type.includes("time")),_=E(()=>t.type.startsWith("time")),W=E(()=>t.type==="dates"),X=E(()=>t.prefixIcon||(s.value?ma:ha)),J=q(!1),de=a=>{t.readonly||u.value||J.value&&(a.stopPropagation(),G(),c(null),P(null,!0),J.value=!1,o.value=!1,me.value.handleClear&&me.value.handleClear())},ne=E(()=>{const{modelValue:a}=t;return!a||Se(a)&&!a.filter(Boolean).length}),re=async a=>{var r;t.readonly||u.value||(((r=a.target)==null?void 0:r.tagName)!=="INPUT"||N.value.includes(document.activeElement))&&(o.value=!0)},le=()=>{t.readonly||u.value||!ne.value&&t.clearable&&(J.value=!0)},Pe=()=>{J.value=!1},be=a=>{var r;t.readonly||u.value||(((r=a.touches[0].target)==null?void 0:r.tagName)!=="INPUT"||N.value.includes(document.activeElement))&&(o.value=!0)},Me=E(()=>t.type.includes("range")),we=ba(),Fe=E(()=>{var a,r;return(r=(a=e(D))==null?void 0:a.popperRef)==null?void 0:r.contentRef}),Re=E(()=>{var a;return e(Me)?e(h):(a=e(h))==null?void 0:a.$el});ya(Re,a=>{const r=e(Fe),b=e(Re);r&&(a.target===r||a.composedPath().includes(r))||a.target===b||a.composedPath().includes(b)||(o.value=!1)});const ae=q(null),We=()=>{if(ae.value){const a=$e(R.value);a&&Ue(a)&&(c(Se(a)?a.map(r=>r.toDate()):a.toDate()),ae.value=null)}ae.value===""&&(c(null),P(null),ae.value=null)},$e=a=>a?me.value.parseUserInput(a):null,Oe=a=>a?me.value.formatToString(a):null,Ue=a=>me.value.isValidValue(a),Je=async a=>{if(t.readonly||u.value)return;const{code:r}=a;if($(a),r===ye.esc){o.value===!0&&(o.value=!1,a.preventDefault(),a.stopPropagation());return}if(r===ye.down&&(me.value.handleFocusPicker&&(a.preventDefault(),a.stopPropagation()),o.value===!1&&(o.value=!0,await Ye()),me.value.handleFocusPicker)){me.value.handleFocusPicker();return}if(r===ye.tab){v=!0;return}if(r===ye.enter||r===ye.numpadEnter){(ae.value===null||ae.value===""||Ue($e(R.value)))&&(We(),o.value=!1),a.stopPropagation();return}if(ae.value){a.stopPropagation();return}me.value.handleKeydownInput&&me.value.handleKeydownInput(a)},Qe=a=>{ae.value=a,o.value||(o.value=!0)},ze=a=>{const r=a.target;ae.value?ae.value=[r.value,ae.value[1]]:ae.value=[r.value,null]},Be=a=>{const r=a.target;ae.value?ae.value=[ae.value[0],r.value]:ae.value=[null,r.value]},et=()=>{var a;const r=ae.value,b=$e(r&&r[0]),V=e(w);if(b&&b.isValid()){ae.value=[Oe(b),((a=R.value)==null?void 0:a[1])||null];const ke=[b,V&&(V[1]||null)];Ue(ke)&&(c(ke),ae.value=null)}},tt=()=>{var a;const r=e(ae),b=$e(r&&r[1]),V=e(w);if(b&&b.isValid()){ae.value=[((a=e(R))==null?void 0:a[0])||null,Oe(b)];const ke=[V&&V[0],b];Ue(ke)&&(c(ke),ae.value=null)}},me=q({}),f=a=>{me.value[a[0]]=a[1],me.value.panelReady=!0},O=a=>{n("calendar-change",a)},Q=(a,r,b)=>{n("panel-change",a,r,b)};return kt("EP_PICKER_BASE",{props:t}),d({focus:ce,handleFocusInput:pe,handleBlurInput:I,handleOpen:z,handleClose:te,onPick:Y}),(a,r)=>(T(),De(e(_a),Lt({ref_key:"refPopper",ref:D,visible:o.value,effect:"light",pure:"",trigger:"click"},a.$attrs,{role:"dialog",teleported:"",transition:`${e(m).namespace.value}-zoom-in-top`,"popper-class":[`${e(m).namespace.value}-picker__popper`,a.popperClass],"popper-options":e(A),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Z,onShow:H,onHide:oe}),{default:se(()=>[e(Me)?(T(),B("div",{key:1,ref_key:"inputRef",ref:h,class:y([e(m).b("editor"),e(m).bm("editor",a.type),e(S).e("wrapper"),e(m).is("disabled",e(u)),e(m).is("active",o.value),e(g).b("editor"),e(we)?e(g).bm("editor",e(we)):"",a.$attrs.class]),style:xt(a.$attrs.style),onClick:pe,onMouseenter:le,onMouseleave:Pe,onTouchstart:be,onKeydown:Je},[e(X)?(T(),De(e(he),{key:0,class:y([e(S).e("icon"),e(g).e("icon")]),onMousedown:Ee(re,["prevent"]),onTouchstart:be},{default:se(()=>[(T(),De(dt(e(X))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0),L("input",{id:a.id&&a.id[0],autocomplete:"off",name:a.name&&a.name[0],placeholder:a.startPlaceholder,value:e(R)&&e(R)[0],disabled:e(u),readonly:!a.editable||a.readonly,class:y(e(g).b("input")),onMousedown:re,onInput:ze,onChange:et,onFocus:pe,onBlur:I},null,42,Aa),ut(a.$slots,"range-separator",{},()=>[L("span",{class:y(e(g).b("separator"))},fe(a.rangeSeparator),3)]),L("input",{id:a.id&&a.id[1],autocomplete:"off",name:a.name&&a.name[1],placeholder:a.endPlaceholder,value:e(R)&&e(R)[1],disabled:e(u),readonly:!a.editable||a.readonly,class:y(e(g).b("input")),onMousedown:re,onFocus:pe,onBlur:I,onInput:Be,onChange:tt},null,42,Ea),a.clearIcon?(T(),De(e(he),{key:1,class:y([e(S).e("icon"),e(g).e("close-icon"),{[e(g).e("close-icon--hidden")]:!J.value}]),onClick:de},{default:se(()=>[(T(),De(dt(a.clearIcon)))]),_:1},8,["class"])):ve("v-if",!0)],38)):(T(),De(e(Ze),{key:0,id:a.id,ref_key:"inputRef",ref:h,"container-role":"combobox","model-value":e(R),name:a.name,size:e(we),disabled:e(u),placeholder:a.placeholder,class:y([e(m).b("editor"),e(m).bm("editor",a.type),a.$attrs.class]),style:xt(a.$attrs.style),readonly:!a.editable||a.readonly||e(W)||a.type==="week",label:a.label,tabindex:a.tabindex,"validate-event":!1,onInput:Qe,onFocus:pe,onBlur:I,onKeydown:Je,onChange:We,onMousedown:re,onMouseenter:le,onMouseleave:Pe,onTouchstart:be,onClick:r[0]||(r[0]=Ee(()=>{},["stop"]))},{prefix:se(()=>[e(X)?(T(),De(e(he),{key:0,class:y(e(S).e("icon")),onMousedown:Ee(re,["prevent"]),onTouchstart:be},{default:se(()=>[(T(),De(dt(e(X))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0)]),suffix:se(()=>[J.value&&a.clearIcon?(T(),De(e(he),{key:0,class:y(`${e(S).e("icon")} clear-icon`),onClick:Ee(de,["stop"])},{default:se(()=>[(T(),De(dt(a.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:se(()=>[ut(a.$slots,"default",{visible:o.value,actualVisible:k.value,parsedValue:e(w),format:a.format,unlinkPanels:a.unlinkPanels,type:a.type,defaultValue:a.defaultValue,onPick:Y,onSelectRange:U,onSetPickerOption:f,onCalendarChange:O,onPanelChange:Q,onKeydown:ee,onMousedown:r[1]||(r[1]=Ee(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Ba=Le(Fa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const La=Ce({...Ra,datetimeRole:String,parsedValue:{type:ie(Object)}}),Wa=({getAvailableHours:i,getAvailableMinutes:d,getAvailableSeconds:n})=>{const t=(S,g,M,C)=>{const A={hour:i,minute:d,second:n};let D=S;return["hour","minute","second"].forEach(h=>{if(A[h]){let o;const k=A[h];switch(h){case"minute":{o=k(D.hour(),g,C);break}case"second":{o=k(D.hour(),D.minute(),g,C);break}default:{o=k(g,C);break}}if(o?.length&&!o.includes(D[h]())){const l=M?0:o.length-1;D=D[h](o[l])}}}),D},p={};return{timePickerOptions:p,getAvailableTime:t,onSetOption:([S,g])=>{p[S]=g}}},gt=i=>{const d=(t,p)=>t||p,n=t=>t!==!0;return i.map(d).filter(n)},Jt=(i,d,n)=>({getHoursList:(S,g)=>yt(24,i&&(()=>i?.(S,g))),getMinutesList:(S,g,M)=>yt(60,d&&(()=>d?.(S,g,M))),getSecondsList:(S,g,M,C)=>yt(60,n&&(()=>n?.(S,g,M,C)))}),Ua=(i,d,n)=>{const{getHoursList:t,getMinutesList:p,getSecondsList:m}=Jt(i,d,n);return{getAvailableHours:(C,A)=>gt(t(C,A)),getAvailableMinutes:(C,A,D)=>gt(p(C,A,D)),getAvailableSeconds:(C,A,D,h)=>gt(m(C,A,D,h))}},za=i=>{const d=q(i.parsedValue);return xe(()=>i.visible,n=>{n||(d.value=i.parsedValue)}),d},Ka=Ce({role:{type:String,required:!0},spinnerDate:{type:ie(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ie(String),default:""},...Zt}),Ha=["onClick"],ja=["onMouseenter"],Ga=Ve({__name:"basic-time-spinner",props:Ka,emits:["change","select-range","set-option"],setup(i,{emit:d}){const n=i,t=Te("time"),{getHoursList:p,getMinutesList:m,getSecondsList:S}=Jt(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let g=!1;const M=q(),C=q(),A=q(),D=q(),h={hours:C,minutes:A,seconds:D},o=E(()=>n.showSeconds?It:It.slice(0,2)),k=E(()=>{const{spinnerDate:u}=n,w=u.hour(),R=u.minute(),s=u.second();return{hours:w,minutes:R,seconds:s}}),l=E(()=>{const{hours:u,minutes:w}=e(k);return{hours:p(n.role),minutes:m(u,n.role),seconds:S(u,w,n.role)}}),v=E(()=>{const{hours:u,minutes:w,seconds:R}=e(k);return{hours:bt(u,23),minutes:bt(w,59),seconds:bt(R,59)}}),x=ga(u=>{g=!1,$(u)},200),P=u=>{if(!!!n.amPmMode)return"";const R=n.amPmMode==="A";let s=u<12?" am":" pm";return R&&(s=s.toUpperCase()),s},c=u=>{let w;switch(u){case"hours":w=[0,2];break;case"minutes":w=[3,5];break;case"seconds":w=[6,8];break}const[R,s]=w;d("select-range",R,s),M.value=u},$=u=>{G(u,e(k)[u])},N=()=>{$("hours"),$("minutes"),$("seconds")},U=u=>u.querySelector(`.${t.namespace.value}-scrollbar__wrap`),G=(u,w)=>{if(n.arrowControl)return;const R=e(h[u]);R&&R.$el&&(U(R.$el).scrollTop=Math.max(0,w*Y(u)))},Y=u=>{const w=e(h[u]);return w?.$el.querySelector("li").offsetHeight||0},Z=()=>{ee(1)},H=()=>{ee(-1)},ee=u=>{M.value||c("hours");const w=M.value,R=e(k)[w],s=M.value==="hours"?24:60,_=oe(w,R,u,s);z(w,_),G(w,_),Ye(()=>c(w))},oe=(u,w,R,s)=>{let _=(w+R+s)%s;const W=e(l)[u];for(;W[_]&&_!==w;)_=(_+R+s)%s;return _},z=(u,w)=>{if(e(l)[u][w])return;const{hours:_,minutes:W,seconds:X}=e(k);let J;switch(u){case"hours":J=n.spinnerDate.hour(w).minute(W).second(X);break;case"minutes":J=n.spinnerDate.hour(_).minute(w).second(X);break;case"seconds":J=n.spinnerDate.hour(_).minute(W).second(w);break}d("change",J)},te=(u,{value:w,disabled:R})=>{R||(z(u,w),c(u),G(u,w))},ce=u=>{g=!0,x(u);const w=Math.min(Math.round((U(e(h[u]).$el).scrollTop-(pe(u)*.5-10)/Y(u)+3)/Y(u)),u==="hours"?23:59);z(u,w)},pe=u=>e(h[u]).$el.offsetHeight,K=()=>{const u=w=>{const R=e(h[w]);R&&R.$el&&(U(R.$el).onscroll=()=>{ce(w)})};u("hours"),u("minutes"),u("seconds")};ka(()=>{Ye(()=>{!n.arrowControl&&K(),N(),n.role==="start"&&c("hours")})});const I=(u,w)=>{h[w].value=u};return d("set-option",[`${n.role}_scrollDown`,ee]),d("set-option",[`${n.role}_emitSelectRange`,c]),xe(()=>n.spinnerDate,()=>{g||N()}),(u,w)=>(T(),B("div",{class:y([e(t).b("spinner"),{"has-seconds":u.showSeconds}])},[u.arrowControl?ve("v-if",!0):(T(!0),B(ge,{key:0},_e(e(o),R=>(T(),De(e(Ta),{key:R,ref_for:!0,ref:s=>I(s,R),class:y(e(t).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(t).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:s=>c(R),onMousemove:s=>$(R)},{default:se(()=>[(T(!0),B(ge,null,_e(e(l)[R],(s,_)=>(T(),B("li",{key:_,class:y([e(t).be("spinner","item"),e(t).is("active",_===e(k)[R]),e(t).is("disabled",s)]),onClick:W=>te(R,{value:_,disabled:s})},[R==="hours"?(T(),B(ge,{key:0},[Ke(fe(("0"+(u.amPmMode?_%12||12:_)).slice(-2))+fe(P(_)),1)],64)):(T(),B(ge,{key:1},[Ke(fe(("0"+_).slice(-2)),1)],64))],10,Ha))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),u.arrowControl?(T(!0),B(ge,{key:1},_e(e(o),R=>(T(),B("div",{key:R,class:y([e(t).be("spinner","wrapper"),e(t).is("arrow")]),onMouseenter:s=>c(R)},[Ie((T(),De(e(he),{class:y(["arrow-up",e(t).be("spinner","arrow")])},{default:se(()=>[F(e(wa))]),_:1},8,["class"])),[[e(Yt),H]]),Ie((T(),De(e(he),{class:y(["arrow-down",e(t).be("spinner","arrow")])},{default:se(()=>[F(e(Da))]),_:1},8,["class"])),[[e(Yt),Z]]),L("ul",{class:y(e(t).be("spinner","list"))},[(T(!0),B(ge,null,_e(e(v)[R],(s,_)=>(T(),B("li",{key:_,class:y([e(t).be("spinner","item"),e(t).is("active",s===e(k)[R]),e(t).is("disabled",e(l)[R][s])])},[typeof s=="number"?(T(),B(ge,{key:0},[R==="hours"?(T(),B(ge,{key:0},[Ke(fe(("0"+(u.amPmMode?s%12||12:s)).slice(-2))+fe(P(s)),1)],64)):(T(),B(ge,{key:1},[Ke(fe(("0"+s).slice(-2)),1)],64))],64)):ve("v-if",!0)],2))),128))],2)],42,ja))),128)):ve("v-if",!0)],2))}});var qa=Le(Ga,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Za=Ve({__name:"panel-time-pick",props:La,emits:["pick","select-range","set-picker-option"],setup(i,{emit:d}){const n=i,t=He("EP_PICKER_BASE"),{arrowControl:p,disabledHours:m,disabledMinutes:S,disabledSeconds:g,defaultValue:M}=t.props,{getAvailableHours:C,getAvailableMinutes:A,getAvailableSeconds:D}=Ua(m,S,g),h=Te("time"),{t:o,lang:k}=Ne(),l=q([0,2]),v=za(n),x=E(()=>Sa(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),P=E(()=>n.format.includes("ss")),c=E(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),$=I=>{const u=j(I).locale(k.value),w=te(u);return u.isSame(w)},N=()=>{d("pick",v.value,!1)},U=(I=!1,u=!1)=>{u||d("pick",n.parsedValue,I)},G=I=>{if(!n.visible)return;const u=te(I).millisecond(0);d("pick",u,!0)},Y=(I,u)=>{d("select-range",I,u),l.value=[I,u]},Z=I=>{const u=[0,3].concat(P.value?[6]:[]),w=["hours","minutes"].concat(P.value?["seconds"]:[]),s=(u.indexOf(l.value[0])+I+u.length)%u.length;ee.start_emitSelectRange(w[s])},H=I=>{const u=I.code,{left:w,right:R,up:s,down:_}=ye;if([w,R].includes(u)){Z(u===w?-1:1),I.preventDefault();return}if([s,_].includes(u)){const W=u===s?-1:1;ee.start_scrollDown(W),I.preventDefault();return}},{timePickerOptions:ee,onSetOption:oe,getAvailableTime:z}=Wa({getAvailableHours:C,getAvailableMinutes:A,getAvailableSeconds:D}),te=I=>z(I,n.datetimeRole||"",!0),ce=I=>I?j(I,n.format).locale(k.value):null,pe=I=>I?I.format(n.format):null,K=()=>j(M).locale(k.value);return d("set-picker-option",["isValidValue",$]),d("set-picker-option",["formatToString",pe]),d("set-picker-option",["parseUserInput",ce]),d("set-picker-option",["handleKeydownInput",H]),d("set-picker-option",["getRangeAvailableTime",te]),d("set-picker-option",["getDefaultValue",K]),(I,u)=>(T(),De(Ca,{name:e(x)},{default:se(()=>[I.actualVisible||I.visible?(T(),B("div",{key:0,class:y(e(h).b("panel"))},[L("div",{class:y([e(h).be("panel","content"),{"has-seconds":e(P)}])},[F(qa,{ref:"spinner",role:I.datetimeRole||"start","arrow-control":e(p),"show-seconds":e(P),"am-pm-mode":e(c),"spinner-date":I.parsedValue,"disabled-hours":e(m),"disabled-minutes":e(S),"disabled-seconds":e(g),onChange:G,onSetOption:e(oe),onSelectRange:Y},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),L("div",{class:y(e(h).be("panel","footer"))},[L("button",{type:"button",class:y([e(h).be("panel","btn"),"cancel"]),onClick:N},fe(e(o)("el.datepicker.cancel")),3),L("button",{type:"button",class:y([e(h).be("panel","btn"),"confirm"]),onClick:u[0]||(u[0]=w=>U())},fe(e(o)("el.datepicker.confirm")),3)],2)],2)):ve("v-if",!0)]),_:1},8,["name"]))}});var Ct=Le(Za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),Qt={exports:{}};(function(i,d){(function(n,t){i.exports=t()})(je,function(){return function(n,t,p){var m=t.prototype,S=function(D){return D&&(D.indexOf?D:D.s)},g=function(D,h,o,k,l){var v=D.name?D:D.$locale(),x=S(v[h]),P=S(v[o]),c=x||P.map(function(N){return N.slice(0,k)});if(!l)return c;var $=v.weekStart;return c.map(function(N,U){return c[(U+($||0))%7]})},M=function(){return p.Ls[p.locale()]},C=function(D,h){return D.formats[h]||function(o){return o.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,l,v){return l||v.slice(1)})}(D.formats[h.toUpperCase()])},A=function(){var D=this;return{months:function(h){return h?h.format("MMMM"):g(D,"months")},monthsShort:function(h){return h?h.format("MMM"):g(D,"monthsShort","months",3)},firstDayOfWeek:function(){return D.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):g(D,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):g(D,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):g(D,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return C(D.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};m.localeData=function(){return A.bind(this)()},p.localeData=function(){var D=M();return{firstDayOfWeek:function(){return D.weekStart||0},weekdays:function(){return p.weekdays()},weekdaysShort:function(){return p.weekdaysShort()},weekdaysMin:function(){return p.weekdaysMin()},months:function(){return p.months()},monthsShort:function(){return p.monthsShort()},longDateFormat:function(h){return C(D,h)},meridiem:D.meridiem,ordinal:D.ordinal}},p.months=function(){return g(M(),"months")},p.monthsShort=function(){return g(M(),"monthsShort","months",3)},p.weekdays=function(D){return g(M(),"weekdays",null,null,D)},p.weekdaysShort=function(D){return g(M(),"weekdaysShort","weekdays",3,D)},p.weekdaysMin=function(D){return g(M(),"weekdaysMin","weekdays",2,D)}}})})(Qt);var Xa=Qt.exports;const Ja=Ge(Xa);var ea={exports:{}};(function(i,d){(function(n,t){i.exports=t()})(je,function(){return function(n,t){var p=t.prototype,m=p.format;p.format=function(S){var g=this,M=this.$locale();if(!this.isValid())return m.bind(this)(S);var C=this.$utils(),A=(S||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(D){switch(D){case"Q":return Math.ceil((g.$M+1)/3);case"Do":return M.ordinal(g.$D);case"gggg":return g.weekYear();case"GGGG":return g.isoWeekYear();case"wo":return M.ordinal(g.week(),"W");case"w":case"ww":return C.s(g.week(),D==="w"?1:2,"0");case"W":case"WW":return C.s(g.isoWeek(),D==="W"?1:2,"0");case"k":case"kk":return C.s(String(g.$H===0?24:g.$H),D==="k"?1:2,"0");case"X":return Math.floor(g.$d.getTime()/1e3);case"x":return g.$d.getTime();case"z":return"["+g.offsetName()+"]";case"zzz":return"["+g.offsetName("long")+"]";default:return D}});return m.bind(this)(A)}}})})(ea);var Qa=ea.exports;const en=Ge(Qa);var ta={exports:{}};(function(i,d){(function(n,t){i.exports=t()})(je,function(){var n="week",t="year";return function(p,m,S){var g=m.prototype;g.week=function(M){if(M===void 0&&(M=null),M!==null)return this.add(7*(M-this.week()),"day");var C=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var A=S(this).startOf(t).add(1,t).date(C),D=S(this).endOf(n);if(A.isBefore(D))return 1}var h=S(this).startOf(t).date(C).startOf(n).subtract(1,"millisecond"),o=this.diff(h,n,!0);return o<0?S(this).startOf("week").week():Math.ceil(o)},g.weeks=function(M){return M===void 0&&(M=null),this.week(M)}}})})(ta);var tn=ta.exports;const an=Ge(tn);var aa={exports:{}};(function(i,d){(function(n,t){i.exports=t()})(je,function(){return function(n,t){t.prototype.weekYear=function(){var p=this.month(),m=this.week(),S=this.year();return m===1&&p===11?S+1:p===0&&m>=52?S-1:S}}})})(aa);var nn=aa.exports;const ln=Ge(nn);var na={exports:{}};(function(i,d){(function(n,t){i.exports=t()})(je,function(){return function(n,t,p){t.prototype.dayOfYear=function(m){var S=Math.round((p(this).startOf("day")-p(this).startOf("year"))/864e5)+1;return m==null?S:this.add(m-S,"day")}}})})(na);var sn=na.exports;const on=Ge(sn);var la={exports:{}};(function(i,d){(function(n,t){i.exports=t()})(je,function(){return function(n,t){t.prototype.isSameOrAfter=function(p,m){return this.isSame(p,m)||this.isAfter(p,m)}}})})(la);var rn=la.exports;const un=Ge(rn);var sa={exports:{}};(function(i,d){(function(n,t){i.exports=t()})(je,function(){return function(n,t){t.prototype.isSameOrBefore=function(p,m){return this.isSame(p,m)||this.isBefore(p,m)}}})})(sa);var cn=sa.exports;const dn=Ge(cn),$t=Symbol(),fn=Ce({...Xt,type:{type:ie(String),default:"date"}}),pn=["date","dates","year","month","week","range"],Tt=Ce({disabledDate:{type:ie(Function)},date:{type:ie(Object),required:!0},minDate:{type:ie(Object)},maxDate:{type:ie(Object)},parsedValue:{type:ie([Object,Array])},rangeState:{type:ie(Object),default:()=>({endDate:null,selecting:!1})}}),oa=Ce({type:{type:ie(String),required:!0,values:Oa}}),ra=Ce({unlinkPanels:Boolean,parsedValue:{type:ie(Array)}}),ua=i=>({type:String,values:pn,default:i}),vn=Ce({...oa,parsedValue:{type:ie([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),mn=Ce({...Tt,cellClassName:{type:ie(Function)},showWeekNumber:Boolean,selectionMode:ua("date")}),Mt=i=>{if(!Se(i))return!1;const[d,n]=i;return j.isDayjs(d)&&j.isDayjs(n)&&d.isSameOrBefore(n)},ia=(i,{lang:d,unit:n,unlinkPanels:t})=>{let p;if(Se(i)){let[m,S]=i.map(g=>j(g).locale(d));return t||(S=m.add(1,n)),[m,S]}else i?p=j(i):p=j();return p=p.locale(d),[p,p.add(1,n)]},hn=(i,d,{columnIndexOffset:n,startDate:t,nextEndDate:p,now:m,unit:S,relativeDateGetter:g,setCellMetadata:M,setRowMetadata:C})=>{for(let A=0;A<i.row;A++){const D=d[A];for(let h=0;h<i.column;h++){let o=D[h+n];o||(o={row:A,column:h,type:"normal",inRange:!1,start:!1,end:!1});const k=A*i.column+h,l=g(k);o.dayjs=l,o.date=l.toDate(),o.timestamp=l.valueOf(),o.type="normal",o.inRange=!!(t&&l.isSameOrAfter(t,S)&&p&&l.isSameOrBefore(p,S))||!!(t&&l.isSameOrBefore(t,S)&&p&&l.isSameOrAfter(p,S)),t?.isSameOrAfter(p)?(o.start=!!p&&l.isSame(p,S),o.end=t&&l.isSame(t,S)):(o.start=!!t&&l.isSame(t,S),o.end=!!p&&l.isSame(p,S)),l.isSame(m,S)&&(o.type="today"),M?.(o,{rowIndex:A,columnIndex:h}),D[h+n]=o}C?.(D)}},bn=Ce({cell:{type:ie(Object)}});var yn=Ve({name:"ElDatePickerCell",props:bn,setup(i){const d=Te("date-table-cell"),{slots:n}=He($t);return()=>{const{cell:t}=i;if(n.default){const p=n.default(t).filter(m=>m.patchFlag!==-2&&m.type.toString()!=="Symbol(Comment)");if(p.length)return p}return F("div",{class:d.b()},[F("span",{class:d.e("text")},[t?.text])])}}});const gn=["aria-label","onMousedown"],kn={key:0,scope:"col"},wn=["aria-label"],Dn=["aria-current","aria-selected","tabindex"],Sn=Ve({__name:"basic-date-table",props:mn,emits:["changerange","pick","select"],setup(i,{expose:d,emit:n}){const t=i,p=Te("date-table"),{t:m,lang:S}=Ne(),g=q(),M=q(),C=q(),A=q(),D=q([[],[],[],[],[],[]]);let h=!1;const o=t.date.$locale().weekStart||7,k=t.date.locale("en").localeData().weekdaysShort().map(s=>s.toLowerCase()),l=E(()=>o>3?7-o:-o),v=E(()=>{const s=t.date.startOf("month");return s.subtract(s.day()||7,"day")}),x=E(()=>k.concat(k).slice(o,o+7)),P=E(()=>Ma(Y.value).some(s=>s.isCurrent)),c=E(()=>{const s=t.date.startOf("month"),_=s.day()||7,W=s.daysInMonth(),X=s.subtract(1,"month").daysInMonth();return{startOfMonthDay:_,dateCountOfMonth:W,dateCountOfLastMonth:X}}),$=E(()=>t.selectionMode==="dates"?Xe(t.parsedValue):[]),N=(s,{count:_,rowIndex:W,columnIndex:X})=>{const{startOfMonthDay:J,dateCountOfMonth:de,dateCountOfLastMonth:ne}=e(c),re=e(l);if(W>=0&&W<=1){const le=J+re<0?7+J+re:J+re;if(X+W*7>=le)return s.text=_,!0;s.text=ne-(le-X%7)+1+W*7,s.type="prev-month"}else return _<=de?s.text=_:(s.text=_-de,s.type="next-month"),!0;return!1},U=(s,{columnIndex:_,rowIndex:W},X)=>{const{disabledDate:J,cellClassName:de}=t,ne=e($),re=N(s,{count:X,rowIndex:W,columnIndex:_}),le=s.dayjs.toDate();return s.selected=ne.find(Pe=>Pe.valueOf()===s.dayjs.valueOf()),s.isSelected=!!s.selected,s.isCurrent=ee(s),s.disabled=J?.(le),s.customClass=de?.(le),re},G=s=>{if(t.selectionMode==="week"){const[_,W]=t.showWeekNumber?[1,7]:[0,6],X=R(s[_+1]);s[_].inRange=X,s[_].start=X,s[W].inRange=X,s[W].end=X}},Y=E(()=>{const{minDate:s,maxDate:_,rangeState:W,showWeekNumber:X}=t,J=l.value,de=D.value,ne="day";let re=1;if(X)for(let le=0;le<6;le++)de[le][0]||(de[le][0]={type:"week",text:v.value.add(le*7+1,ne).week()});return hn({row:6,column:7},de,{startDate:s,columnIndexOffset:X?1:0,nextEndDate:W.endDate||_||W.selecting&&s||null,now:j().locale(e(S)).startOf(ne),unit:ne,relativeDateGetter:le=>v.value.add(le-J,ne),setCellMetadata:(...le)=>{U(...le,re)&&(re+=1)},setRowMetadata:G}),de});xe(()=>t.date,async()=>{var s,_;(s=g.value)!=null&&s.contains(document.activeElement)&&(await Ye(),(_=M.value)==null||_.focus())});const Z=async()=>{var s;(s=M.value)==null||s.focus()},H=(s="")=>["normal","today"].includes(s),ee=s=>t.selectionMode==="date"&&H(s.type)&&oe(s,t.parsedValue),oe=(s,_)=>_?j(_).locale(S.value).isSame(t.date.date(Number(s.text)),"day"):!1,z=s=>{const _=[];return H(s.type)&&!s.disabled?(_.push("available"),s.type==="today"&&_.push("today")):_.push(s.type),ee(s)&&_.push("current"),s.inRange&&(H(s.type)||t.selectionMode==="week")&&(_.push("in-range"),s.start&&_.push("start-date"),s.end&&_.push("end-date")),s.disabled&&_.push("disabled"),s.selected&&_.push("selected"),s.customClass&&_.push(s.customClass),_.join(" ")},te=(s,_)=>{const W=s*7+(_-(t.showWeekNumber?1:0))-l.value;return v.value.add(W,"day")},ce=s=>{var _;if(!t.rangeState.selecting)return;let W=s.target;if(W.tagName==="SPAN"&&(W=(_=W.parentNode)==null?void 0:_.parentNode),W.tagName==="DIV"&&(W=W.parentNode),W.tagName!=="TD")return;const X=W.parentNode.rowIndex-1,J=W.cellIndex;Y.value[X][J].disabled||(X!==C.value||J!==A.value)&&(C.value=X,A.value=J,n("changerange",{selecting:!0,endDate:te(X,J)}))},pe=s=>!P.value&&s?.text===1&&s.type==="normal"||s.isCurrent,K=s=>{h||P.value||t.selectionMode!=="date"||w(s,!0)},I=s=>{s.target.closest("td")&&(h=!0)},u=s=>{s.target.closest("td")&&(h=!1)},w=(s,_=!1)=>{const W=s.target.closest("td");if(!W)return;const X=W.parentNode.rowIndex-1,J=W.cellIndex,de=Y.value[X][J];if(de.disabled||de.type==="week")return;const ne=te(X,J);if(t.selectionMode==="range")!t.rangeState.selecting||!t.minDate?(n("pick",{minDate:ne,maxDate:null}),n("select",!0)):(ne>=t.minDate?n("pick",{minDate:t.minDate,maxDate:ne}):n("pick",{minDate:ne,maxDate:t.minDate}),n("select",!1));else if(t.selectionMode==="date")n("pick",ne,_);else if(t.selectionMode==="week"){const re=ne.week(),le=`${ne.year()}w${re}`;n("pick",{year:ne.year(),week:re,value:le,date:ne.startOf("week")})}else if(t.selectionMode==="dates"){const re=de.selected?Xe(t.parsedValue).filter(le=>le?.valueOf()!==ne.valueOf()):Xe(t.parsedValue).concat([ne]);n("pick",re)}},R=s=>{if(t.selectionMode!=="week")return!1;let _=t.date.startOf("day");if(s.type==="prev-month"&&(_=_.subtract(1,"month")),s.type==="next-month"&&(_=_.add(1,"month")),_=_.date(Number.parseInt(s.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const W=(t.parsedValue.day()-o+7)%7-1;return t.parsedValue.subtract(W,"day").isSame(_,"day")}return!1};return d({focus:Z}),(s,_)=>(T(),B("table",{role:"grid","aria-label":e(m)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:y([e(p).b(),{"is-week-mode":s.selectionMode==="week"}]),onClick:w,onMousemove:ce,onMousedown:Ee(I,["prevent"]),onMouseup:u},[L("tbody",{ref_key:"tbodyRef",ref:g},[L("tr",null,[s.showWeekNumber?(T(),B("th",kn,fe(e(m)("el.datepicker.week")),1)):ve("v-if",!0),(T(!0),B(ge,null,_e(e(x),(W,X)=>(T(),B("th",{key:X,scope:"col","aria-label":e(m)("el.datepicker.weeksFull."+W)},fe(e(m)("el.datepicker.weeks."+W)),9,wn))),128))]),(T(!0),B(ge,null,_e(e(Y),(W,X)=>(T(),B("tr",{key:X,class:y([e(p).e("row"),{current:R(W[1])}])},[(T(!0),B(ge,null,_e(W,(J,de)=>(T(),B("td",{key:`${X}.${de}`,ref_for:!0,ref:ne=>pe(J)&&(M.value=ne),class:y(z(J)),"aria-current":J.isCurrent?"date":void 0,"aria-selected":J.isCurrent,tabindex:pe(J)?0:-1,onFocus:K},[F(e(yn),{cell:J},null,8,["cell"])],42,Dn))),128))],2))),128))],512)],42,gn))}});var Pt=Le(Sn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Cn=Ce({...Tt,selectionMode:ua("month")}),Mn=["aria-label"],Pn=["aria-selected","aria-label","tabindex","onKeydown"],_n={class:"cell"},$n=Ve({__name:"basic-month-table",props:Cn,emits:["changerange","pick","select"],setup(i,{expose:d,emit:n}){const t=i,p=($,N,U)=>{const G=j().locale(U).startOf("month").month(N).year($),Y=G.daysInMonth();return jt(Y).map(Z=>G.add(Z,"day").toDate())},m=Te("month-table"),{t:S,lang:g}=Ne(),M=q(),C=q(),A=q(t.date.locale("en").localeData().monthsShort().map($=>$.toLowerCase())),D=q([[],[],[]]),h=q(),o=q(),k=E(()=>{var $,N;const U=D.value,G=j().locale(g.value).startOf("month");for(let Y=0;Y<3;Y++){const Z=U[Y];for(let H=0;H<4;H++){const ee=Z[H]||(Z[H]={row:Y,column:H,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});ee.type="normal";const oe=Y*4+H,z=t.date.startOf("year").month(oe),te=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate||null;ee.inRange=!!(t.minDate&&z.isSameOrAfter(t.minDate,"month")&&te&&z.isSameOrBefore(te,"month"))||!!(t.minDate&&z.isSameOrBefore(t.minDate,"month")&&te&&z.isSameOrAfter(te,"month")),($=t.minDate)!=null&&$.isSameOrAfter(te)?(ee.start=!!(te&&z.isSame(te,"month")),ee.end=t.minDate&&z.isSame(t.minDate,"month")):(ee.start=!!(t.minDate&&z.isSame(t.minDate,"month")),ee.end=!!(te&&z.isSame(te,"month"))),G.isSame(z)&&(ee.type="today"),ee.text=oe,ee.disabled=((N=t.disabledDate)==null?void 0:N.call(t,z.toDate()))||!1}}return U}),l=()=>{var $;($=C.value)==null||$.focus()},v=$=>{const N={},U=t.date.year(),G=new Date,Y=$.text;return N.disabled=t.disabledDate?p(U,Y,g.value).every(t.disabledDate):!1,N.current=Xe(t.parsedValue).findIndex(Z=>j.isDayjs(Z)&&Z.year()===U&&Z.month()===Y)>=0,N.today=G.getFullYear()===U&&G.getMonth()===Y,$.inRange&&(N["in-range"]=!0,$.start&&(N["start-date"]=!0),$.end&&(N["end-date"]=!0)),N},x=$=>{const N=t.date.year(),U=$.text;return Xe(t.date).findIndex(G=>G.year()===N&&G.month()===U)>=0},P=$=>{var N;if(!t.rangeState.selecting)return;let U=$.target;if(U.tagName==="A"&&(U=(N=U.parentNode)==null?void 0:N.parentNode),U.tagName==="DIV"&&(U=U.parentNode),U.tagName!=="TD")return;const G=U.parentNode.rowIndex,Y=U.cellIndex;k.value[G][Y].disabled||(G!==h.value||Y!==o.value)&&(h.value=G,o.value=Y,n("changerange",{selecting:!0,endDate:t.date.startOf("year").month(G*4+Y)}))},c=$=>{var N;const U=(N=$.target)==null?void 0:N.closest("td");if(U?.tagName!=="TD"||Wt(U,"disabled"))return;const G=U.cellIndex,Z=U.parentNode.rowIndex*4+G,H=t.date.startOf("year").month(Z);t.selectionMode==="range"?t.rangeState.selecting?(t.minDate&&H>=t.minDate?n("pick",{minDate:t.minDate,maxDate:H}):n("pick",{minDate:H,maxDate:t.minDate}),n("select",!1)):(n("pick",{minDate:H,maxDate:null}),n("select",!0)):n("pick",Z)};return xe(()=>t.date,async()=>{var $,N;($=M.value)!=null&&$.contains(document.activeElement)&&(await Ye(),(N=C.value)==null||N.focus())}),d({focus:l}),($,N)=>(T(),B("table",{role:"grid","aria-label":e(S)("el.datepicker.monthTablePrompt"),class:y(e(m).b()),onClick:c,onMousemove:P},[L("tbody",{ref_key:"tbodyRef",ref:M},[(T(!0),B(ge,null,_e(e(k),(U,G)=>(T(),B("tr",{key:G},[(T(!0),B(ge,null,_e(U,(Y,Z)=>(T(),B("td",{key:Z,ref_for:!0,ref:H=>x(Y)&&(C.value=H),class:y(v(Y)),"aria-selected":`${x(Y)}`,"aria-label":e(S)(`el.datepicker.month${+Y.text+1}`),tabindex:x(Y)?0:-1,onKeydown:[st(Ee(c,["prevent","stop"]),["space"]),st(Ee(c,["prevent","stop"]),["enter"])]},[L("div",null,[L("span",_n,fe(e(S)("el.datepicker.months."+A.value[Y.text])),1)])],42,Pn))),128))]))),128))],512)],42,Mn))}});var _t=Le($n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Tn,disabledDate:Vn,parsedValue:On}=Tt,xn=Ce({date:Tn,disabledDate:Vn,parsedValue:On}),Yn=["aria-label"],In=["aria-selected","tabindex","onKeydown"],Rn={class:"cell"},An={key:1},En=Ve({__name:"basic-year-table",props:xn,emits:["pick"],setup(i,{expose:d,emit:n}){const t=i,p=(l,v)=>{const x=j(String(l)).locale(v).startOf("year"),c=x.endOf("year").dayOfYear();return jt(c).map($=>x.add($,"day").toDate())},m=Te("year-table"),{t:S,lang:g}=Ne(),M=q(),C=q(),A=E(()=>Math.floor(t.date.year()/10)*10),D=()=>{var l;(l=C.value)==null||l.focus()},h=l=>{const v={},x=j().locale(g.value);return v.disabled=t.disabledDate?p(l,g.value).every(t.disabledDate):!1,v.current=Xe(t.parsedValue).findIndex(P=>P.year()===l)>=0,v.today=x.year()===l,v},o=l=>l===A.value&&t.date.year()<A.value&&t.date.year()>A.value+9||Xe(t.date).findIndex(v=>v.year()===l)>=0,k=l=>{const x=l.target.closest("td");if(x&&x.textContent){if(Wt(x,"disabled"))return;const P=x.textContent||x.innerText;n("pick",Number(P))}};return xe(()=>t.date,async()=>{var l,v;(l=M.value)!=null&&l.contains(document.activeElement)&&(await Ye(),(v=C.value)==null||v.focus())}),d({focus:D}),(l,v)=>(T(),B("table",{role:"grid","aria-label":e(S)("el.datepicker.yearTablePrompt"),class:y(e(m).b()),onClick:k},[L("tbody",{ref_key:"tbodyRef",ref:M},[(T(),B(ge,null,_e(3,(x,P)=>L("tr",{key:P},[(T(),B(ge,null,_e(4,(c,$)=>(T(),B(ge,{key:P+"_"+$},[P*4+$<10?(T(),B("td",{key:0,ref_for:!0,ref:N=>o(e(A)+P*4+$)&&(C.value=N),class:y(["available",h(e(A)+P*4+$)]),"aria-selected":`${o(e(A)+P*4+$)}`,tabindex:o(e(A)+P*4+$)?0:-1,onKeydown:[st(Ee(k,["prevent","stop"]),["space"]),st(Ee(k,["prevent","stop"]),["enter"])]},[L("span",Rn,fe(e(A)+P*4+$),1)],42,In)):(T(),B("td",An))],64))),64))])),64))],512)],10,Yn))}});var Nn=Le(En,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Fn=["onClick"],Bn=["aria-label"],Ln=["aria-label"],Wn=["aria-label"],Un=["aria-label"],zn=Ve({__name:"panel-date-pick",props:vn,emits:["pick","set-picker-option","panel-change"],setup(i,{emit:d}){const n=i,t=(f,O,Q)=>!0,p=Te("picker-panel"),m=Te("date-picker"),S=Ut(),g=zt(),{t:M,lang:C}=Ne(),A=He("EP_PICKER_BASE"),D=He($a),{shortcuts:h,disabledDate:o,cellClassName:k,defaultTime:l,arrowControl:v}=A.props,x=ot(A.props,"defaultValue"),P=q(),c=q(j().locale(C.value)),$=q(!1),N=E(()=>j(l).locale(C.value)),U=E(()=>c.value.month()),G=E(()=>c.value.year()),Y=q([]),Z=q(null),H=q(null),ee=f=>Y.value.length>0?t(f,Y.value,n.format||"HH:mm:ss"):!0,oe=f=>l&&!be.value&&!$.value?N.value.year(f.year()).month(f.month()).date(f.date()):J.value?f.millisecond(0):f.startOf("day"),z=(f,...O)=>{if(!f)d("pick",f,...O);else if(Se(f)){const Q=f.map(oe);d("pick",Q,...O)}else d("pick",oe(f),...O);Z.value=null,H.value=null,$.value=!1},te=(f,O)=>{if(w.value==="date"){f=f;let Q=n.parsedValue?n.parsedValue.year(f.year()).month(f.month()).date(f.date()):f;ee(Q)||(Q=Y.value[0][0].year(f.year()).month(f.month()).date(f.date())),c.value=Q,z(Q,J.value||O)}else w.value==="week"?z(f.date):w.value==="dates"&&z(f,!0)},ce=f=>{const O=f?"add":"subtract";c.value=c.value[O](1,"month"),me("month")},pe=f=>{const O=c.value,Q=f?"add":"subtract";c.value=K.value==="year"?O[Q](10,"year"):O[Q](1,"year"),me("year")},K=q("date"),I=E(()=>{const f=M("el.datepicker.year");if(K.value==="year"){const O=Math.floor(G.value/10)*10;return f?`${O} ${f} - ${O+9} ${f}`:`${O} - ${O+9}`}return`${G.value} ${f}`}),u=f=>{const O=Dt(f.value)?f.value():f.value;if(O){z(j(O).locale(C.value));return}f.onClick&&f.onClick({attrs:S,slots:g,emit:d})},w=E(()=>{const{type:f}=n;return["week","month","year","dates"].includes(f)?f:"date"}),R=E(()=>w.value==="date"?K.value:w.value),s=E(()=>!!h.length),_=async f=>{c.value=c.value.startOf("month").month(f),w.value==="month"?z(c.value,!1):(K.value="date",["month","year","date","week"].includes(w.value)&&(z(c.value,!0),await Ye(),Be())),me("month")},W=async f=>{w.value==="year"?(c.value=c.value.startOf("year").year(f),z(c.value,!1)):(c.value=c.value.year(f),K.value="month",["month","year","date","week"].includes(w.value)&&(z(c.value,!0),await Ye(),Be())),me("year")},X=async f=>{K.value=f,await Ye(),Be()},J=E(()=>n.type==="datetime"||n.type==="datetimerange"),de=E(()=>J.value||w.value==="dates"),ne=()=>{if(w.value==="dates")z(n.parsedValue);else{let f=n.parsedValue;if(!f){const O=j(l).locale(C.value),Q=ze();f=O.year(Q.year()).month(Q.month()).date(Q.date())}c.value=f,z(f)}},re=()=>{const O=j().locale(C.value).toDate();$.value=!0,(!o||!o(O))&&ee(O)&&(c.value=j().locale(C.value),z(c.value))},le=E(()=>qt(n.format)),Pe=E(()=>Gt(n.format)),be=E(()=>{if(H.value)return H.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||c.value).format(le.value)}),Me=E(()=>{if(Z.value)return Z.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||c.value).format(Pe.value)}),we=q(!1),Fe=()=>{we.value=!0},Re=()=>{we.value=!1},ae=f=>({hour:f.hour(),minute:f.minute(),second:f.second(),year:f.year(),month:f.month(),date:f.date()}),We=(f,O,Q)=>{const{hour:a,minute:r,second:b}=ae(f),V=n.parsedValue?n.parsedValue.hour(a).minute(r).second(b):f;c.value=V,z(c.value,!0),Q||(we.value=O)},$e=f=>{const O=j(f,le.value).locale(C.value);if(O.isValid()&&ee(O)){const{year:Q,month:a,date:r}=ae(c.value);c.value=O.year(Q).month(a).date(r),H.value=null,we.value=!1,z(c.value,!0)}},Oe=f=>{const O=j(f,Pe.value).locale(C.value);if(O.isValid()){if(o&&o(O.toDate()))return;const{hour:Q,minute:a,second:r}=ae(c.value);c.value=O.hour(Q).minute(a).second(r),Z.value=null,z(c.value,!0)}},Ue=f=>j.isDayjs(f)&&f.isValid()&&(o?!o(f.toDate()):!0),Je=f=>w.value==="dates"?f.map(O=>O.format(n.format)):f.format(n.format),Qe=f=>j(f,n.format).locale(C.value),ze=()=>{const f=j(x.value).locale(C.value);if(!x.value){const O=N.value;return j().hour(O.hour()).minute(O.minute()).second(O.second()).locale(C.value)}return f},Be=async()=>{var f;["week","month","year","date"].includes(w.value)&&((f=P.value)==null||f.focus(),w.value==="week"&&tt(ye.down))},et=f=>{const{code:O}=f;[ye.up,ye.down,ye.left,ye.right,ye.home,ye.end,ye.pageUp,ye.pageDown].includes(O)&&(tt(O),f.stopPropagation(),f.preventDefault()),[ye.enter,ye.space,ye.numpadEnter].includes(O)&&Z.value===null&&H.value===null&&(f.preventDefault(),z(c.value,!1))},tt=f=>{var O;const{up:Q,down:a,left:r,right:b,home:V,end:ke,pageUp:qe,pageDown:at}=ye,da={year:{[Q]:-4,[a]:4,[r]:-1,[b]:1,offset:(ue,Ae)=>ue.setFullYear(ue.getFullYear()+Ae)},month:{[Q]:-4,[a]:4,[r]:-1,[b]:1,offset:(ue,Ae)=>ue.setMonth(ue.getMonth()+Ae)},week:{[Q]:-1,[a]:1,[r]:-1,[b]:1,offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae*7)},date:{[Q]:-7,[a]:7,[r]:-1,[b]:1,[V]:ue=>-ue.getDay(),[ke]:ue=>-ue.getDay()+6,[qe]:ue=>-new Date(ue.getFullYear(),ue.getMonth(),0).getDate(),[at]:ue=>new Date(ue.getFullYear(),ue.getMonth()+1,0).getDate(),offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae)}},rt=c.value.toDate();for(;Math.abs(c.value.diff(rt,"year",!0))<1;){const ue=da[R.value];if(!ue)return;if(ue.offset(rt,Dt(ue[f])?ue[f](rt):(O=ue[f])!=null?O:0),o&&o(rt))break;const Ae=j(rt).locale(C.value);c.value=Ae,d("pick",Ae,!0);break}},me=f=>{d("panel-change",c.value.toDate(),f,K.value)};return xe(()=>w.value,f=>{if(["month","year"].includes(f)){K.value=f;return}K.value="date"},{immediate:!0}),xe(()=>K.value,()=>{D?.updatePopper()}),xe(()=>x.value,f=>{f&&(c.value=ze())},{immediate:!0}),xe(()=>n.parsedValue,f=>{if(f){if(w.value==="dates"||Array.isArray(f))return;c.value=f}else c.value=ze()},{immediate:!0}),d("set-picker-option",["isValidValue",Ue]),d("set-picker-option",["formatToString",Je]),d("set-picker-option",["parseUserInput",Qe]),d("set-picker-option",["handleFocusPicker",Be]),(f,O)=>(T(),B("div",{class:y([e(p).b(),e(m).b(),{"has-sidebar":f.$slots.sidebar||e(s),"has-time":e(J)}])},[L("div",{class:y(e(p).e("body-wrapper"))},[ut(f.$slots,"sidebar",{class:y(e(p).e("sidebar"))}),e(s)?(T(),B("div",{key:0,class:y(e(p).e("sidebar"))},[(T(!0),B(ge,null,_e(e(h),(Q,a)=>(T(),B("button",{key:a,type:"button",class:y(e(p).e("shortcut")),onClick:r=>u(Q)},fe(Q.text),11,Fn))),128))],2)):ve("v-if",!0),L("div",{class:y(e(p).e("body"))},[e(J)?(T(),B("div",{key:0,class:y(e(m).e("time-header"))},[L("span",{class:y(e(m).e("editor-wrap"))},[F(e(Ze),{placeholder:e(M)("el.datepicker.selectDate"),"model-value":e(Me),size:"small","validate-event":!1,onInput:O[0]||(O[0]=Q=>Z.value=Q),onChange:Oe},null,8,["placeholder","model-value"])],2),Ie((T(),B("span",{class:y(e(m).e("editor-wrap"))},[F(e(Ze),{placeholder:e(M)("el.datepicker.selectTime"),"model-value":e(be),size:"small","validate-event":!1,onFocus:Fe,onInput:O[1]||(O[1]=Q=>H.value=Q),onChange:$e},null,8,["placeholder","model-value"]),F(e(Ct),{visible:we.value,format:e(le),"time-arrow-control":e(v),"parsed-value":c.value,onPick:We},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(St),Re]])],2)):ve("v-if",!0),Ie(L("div",{class:y([e(m).e("header"),(K.value==="year"||K.value==="month")&&e(m).e("header--bordered")])},[L("span",{class:y(e(m).e("prev-btn"))},[L("button",{type:"button","aria-label":e(M)("el.datepicker.prevYear"),class:y(["d-arrow-left",e(p).e("icon-btn")]),onClick:O[2]||(O[2]=Q=>pe(!1))},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],10,Bn),Ie(L("button",{type:"button","aria-label":e(M)("el.datepicker.prevMonth"),class:y([e(p).e("icon-btn"),"arrow-left"]),onClick:O[3]||(O[3]=Q=>ce(!1))},[F(e(he),null,{default:se(()=>[F(e(wt))]),_:1})],10,Ln),[[nt,K.value==="date"]])],2),L("span",{role:"button",class:y(e(m).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:O[4]||(O[4]=st(Q=>X("year"),["enter"])),onClick:O[5]||(O[5]=Q=>X("year"))},fe(e(I)),35),Ie(L("span",{role:"button","aria-live":"polite",tabindex:"0",class:y([e(m).e("header-label"),{active:K.value==="month"}]),onKeydown:O[6]||(O[6]=st(Q=>X("month"),["enter"])),onClick:O[7]||(O[7]=Q=>X("month"))},fe(e(M)(`el.datepicker.month${e(U)+1}`)),35),[[nt,K.value==="date"]]),L("span",{class:y(e(m).e("next-btn"))},[Ie(L("button",{type:"button","aria-label":e(M)("el.datepicker.nextMonth"),class:y([e(p).e("icon-btn"),"arrow-right"]),onClick:O[8]||(O[8]=Q=>ce(!0))},[F(e(he),null,{default:se(()=>[F(e(vt))]),_:1})],10,Wn),[[nt,K.value==="date"]]),L("button",{type:"button","aria-label":e(M)("el.datepicker.nextYear"),class:y([e(p).e("icon-btn"),"d-arrow-right"]),onClick:O[9]||(O[9]=Q=>pe(!0))},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],10,Un)],2)],2),[[nt,K.value!=="time"]]),L("div",{class:y(e(p).e("content")),onKeydown:et},[K.value==="date"?(T(),De(Pt,{key:0,ref_key:"currentViewRef",ref:P,"selection-mode":e(w),date:c.value,"parsed-value":f.parsedValue,"disabled-date":e(o),"cell-class-name":e(k),onPick:te},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ve("v-if",!0),K.value==="year"?(T(),De(Nn,{key:1,ref_key:"currentViewRef",ref:P,date:c.value,"disabled-date":e(o),"parsed-value":f.parsedValue,onPick:W},null,8,["date","disabled-date","parsed-value"])):ve("v-if",!0),K.value==="month"?(T(),De(_t,{key:2,ref_key:"currentViewRef",ref:P,date:c.value,"parsed-value":f.parsedValue,"disabled-date":e(o),onPick:_},null,8,["date","parsed-value","disabled-date"])):ve("v-if",!0)],34)],2)],2),Ie(L("div",{class:y(e(p).e("footer"))},[Ie(F(e(ht),{text:"",size:"small",class:y(e(p).e("link-btn")),onClick:re},{default:se(()=>[Ke(fe(e(M)("el.datepicker.now")),1)]),_:1},8,["class"]),[[nt,e(w)!=="dates"]]),F(e(ht),{plain:"",size:"small",class:y(e(p).e("link-btn")),onClick:ne},{default:se(()=>[Ke(fe(e(M)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[nt,e(de)&&K.value==="date"]])],2))}});var Kn=Le(zn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Hn=Ce({...oa,...ra}),jn=i=>{const{emit:d}=Kt(),n=Ut(),t=zt();return m=>{const S=Dt(m.value)?m.value():m.value;if(S){d("pick",[j(S[0]).locale(i.value),j(S[1]).locale(i.value)]);return}m.onClick&&m.onClick({attrs:n,slots:t,emit:d})}},ca=(i,{defaultValue:d,leftDate:n,rightDate:t,unit:p,onParsedValueChanged:m})=>{const{emit:S}=Kt(),{pickerNs:g}=He($t),M=Te("date-range-picker"),{t:C,lang:A}=Ne(),D=jn(A),h=q(),o=q(),k=q({endDate:null,selecting:!1}),l=c=>{k.value=c},v=(c=!1)=>{const $=e(h),N=e(o);Mt([$,N])&&S("pick",[$,N],c)},x=c=>{k.value.selecting=c,c||(k.value.endDate=null)},P=()=>{const[c,$]=ia(e(d),{lang:e(A),unit:p,unlinkPanels:i.unlinkPanels});h.value=void 0,o.value=void 0,n.value=c,t.value=$};return xe(d,c=>{c&&P()},{immediate:!0}),xe(()=>i.parsedValue,c=>{if(Se(c)&&c.length===2){const[$,N]=c;h.value=$,n.value=$,o.value=N,m(e(h),e(o))}else P()},{immediate:!0}),{minDate:h,maxDate:o,rangeState:k,lang:A,ppNs:g,drpNs:M,handleChangeRange:l,handleRangeConfirm:v,handleShortcutClick:D,onSelect:x,t:C}},Gn=["onClick"],qn=["disabled"],Zn=["disabled"],Xn=["disabled"],Jn=["disabled"],ft="month",Qn=Ve({__name:"panel-date-range",props:Hn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(i,{emit:d}){const n=i,t=He("EP_PICKER_BASE"),{disabledDate:p,cellClassName:m,format:S,defaultTime:g,arrowControl:M,clearable:C}=t.props,A=ot(t.props,"shortcuts"),D=ot(t.props,"defaultValue"),{lang:h}=Ne(),o=q(j().locale(h.value)),k=q(j().locale(h.value).add(1,ft)),{minDate:l,maxDate:v,rangeState:x,ppNs:P,drpNs:c,handleChangeRange:$,handleRangeConfirm:N,handleShortcutClick:U,onSelect:G,t:Y}=ca(n,{defaultValue:D,leftDate:o,rightDate:k,unit:ft,onParsedValueChanged:a}),Z=q({min:null,max:null}),H=q({min:null,max:null}),ee=E(()=>`${o.value.year()} ${Y("el.datepicker.year")} ${Y(`el.datepicker.month${o.value.month()+1}`)}`),oe=E(()=>`${k.value.year()} ${Y("el.datepicker.year")} ${Y(`el.datepicker.month${k.value.month()+1}`)}`),z=E(()=>o.value.year()),te=E(()=>o.value.month()),ce=E(()=>k.value.year()),pe=E(()=>k.value.month()),K=E(()=>!!A.value.length),I=E(()=>Z.value.min!==null?Z.value.min:l.value?l.value.format(_.value):""),u=E(()=>Z.value.max!==null?Z.value.max:v.value||l.value?(v.value||l.value).format(_.value):""),w=E(()=>H.value.min!==null?H.value.min:l.value?l.value.format(s.value):""),R=E(()=>H.value.max!==null?H.value.max:v.value||l.value?(v.value||l.value).format(s.value):""),s=E(()=>qt(S)),_=E(()=>Gt(S)),W=()=>{o.value=o.value.subtract(1,"year"),n.unlinkPanels||(k.value=o.value.add(1,"month")),be("year")},X=()=>{o.value=o.value.subtract(1,"month"),n.unlinkPanels||(k.value=o.value.add(1,"month")),be("month")},J=()=>{n.unlinkPanels?k.value=k.value.add(1,"year"):(o.value=o.value.add(1,"year"),k.value=o.value.add(1,"month")),be("year")},de=()=>{n.unlinkPanels?k.value=k.value.add(1,"month"):(o.value=o.value.add(1,"month"),k.value=o.value.add(1,"month")),be("month")},ne=()=>{o.value=o.value.add(1,"year"),be("year")},re=()=>{o.value=o.value.add(1,"month"),be("month")},le=()=>{k.value=k.value.subtract(1,"year"),be("year")},Pe=()=>{k.value=k.value.subtract(1,"month"),be("month")},be=r=>{d("panel-change",[o.value.toDate(),k.value.toDate()],r)},Me=E(()=>{const r=(te.value+1)%12,b=te.value+1>=12?1:0;return n.unlinkPanels&&new Date(z.value+b,r)<new Date(ce.value,pe.value)}),we=E(()=>n.unlinkPanels&&ce.value*12+pe.value-(z.value*12+te.value+1)>=12),Fe=E(()=>!(l.value&&v.value&&!x.value.selecting&&Mt([l.value,v.value]))),Re=E(()=>n.type==="datetime"||n.type==="datetimerange"),ae=(r,b)=>{if(r)return g?j(g[b]||g).locale(h.value).year(r.year()).month(r.month()).date(r.date()):r},We=(r,b=!0)=>{const V=r.minDate,ke=r.maxDate,qe=ae(V,0),at=ae(ke,1);v.value===at&&l.value===qe||(d("calendar-change",[V.toDate(),ke&&ke.toDate()]),v.value=at,l.value=qe,!(!b||Re.value)&&N())},$e=q(!1),Oe=q(!1),Ue=()=>{$e.value=!1},Je=()=>{Oe.value=!1},Qe=(r,b)=>{Z.value[b]=r;const V=j(r,_.value).locale(h.value);if(V.isValid()){if(p&&p(V.toDate()))return;b==="min"?(o.value=V,l.value=(l.value||o.value).year(V.year()).month(V.month()).date(V.date()),n.unlinkPanels||(k.value=V.add(1,"month"),v.value=l.value.add(1,"month"))):(k.value=V,v.value=(v.value||k.value).year(V.year()).month(V.month()).date(V.date()),n.unlinkPanels||(o.value=V.subtract(1,"month"),l.value=v.value.subtract(1,"month")))}},ze=(r,b)=>{Z.value[b]=null},Be=(r,b)=>{H.value[b]=r;const V=j(r,s.value).locale(h.value);V.isValid()&&(b==="min"?($e.value=!0,l.value=(l.value||o.value).hour(V.hour()).minute(V.minute()).second(V.second()),(!v.value||v.value.isBefore(l.value))&&(v.value=l.value)):(Oe.value=!0,v.value=(v.value||k.value).hour(V.hour()).minute(V.minute()).second(V.second()),k.value=v.value,v.value&&v.value.isBefore(l.value)&&(l.value=v.value)))},et=(r,b)=>{H.value[b]=null,b==="min"?(o.value=l.value,$e.value=!1):(k.value=v.value,Oe.value=!1)},tt=(r,b,V)=>{H.value.min||(r&&(o.value=r,l.value=(l.value||o.value).hour(r.hour()).minute(r.minute()).second(r.second())),V||($e.value=b),(!v.value||v.value.isBefore(l.value))&&(v.value=l.value,k.value=r))},me=(r,b,V)=>{H.value.max||(r&&(k.value=r,v.value=(v.value||k.value).hour(r.hour()).minute(r.minute()).second(r.second())),V||(Oe.value=b),v.value&&v.value.isBefore(l.value)&&(l.value=v.value))},f=()=>{o.value=ia(e(D),{lang:e(h),unit:"month",unlinkPanels:n.unlinkPanels})[0],k.value=o.value.add(1,"month"),d("pick",null)},O=r=>Se(r)?r.map(b=>b.format(S)):r.format(S),Q=r=>Se(r)?r.map(b=>j(b,S).locale(h.value)):j(r,S).locale(h.value);function a(r,b){if(n.unlinkPanels&&b){const V=r?.year()||0,ke=r?.month()||0,qe=b.year(),at=b.month();k.value=V===qe&&ke===at?b.add(1,ft):b}else k.value=o.value.add(1,ft),b&&(k.value=k.value.hour(b.hour()).minute(b.minute()).second(b.second()))}return d("set-picker-option",["isValidValue",Mt]),d("set-picker-option",["parseUserInput",Q]),d("set-picker-option",["formatToString",O]),d("set-picker-option",["handleClear",f]),(r,b)=>(T(),B("div",{class:y([e(P).b(),e(c).b(),{"has-sidebar":r.$slots.sidebar||e(K),"has-time":e(Re)}])},[L("div",{class:y(e(P).e("body-wrapper"))},[ut(r.$slots,"sidebar",{class:y(e(P).e("sidebar"))}),e(K)?(T(),B("div",{key:0,class:y(e(P).e("sidebar"))},[(T(!0),B(ge,null,_e(e(A),(V,ke)=>(T(),B("button",{key:ke,type:"button",class:y(e(P).e("shortcut")),onClick:qe=>e(U)(V)},fe(V.text),11,Gn))),128))],2)):ve("v-if",!0),L("div",{class:y(e(P).e("body"))},[e(Re)?(T(),B("div",{key:0,class:y(e(c).e("time-header"))},[L("span",{class:y(e(c).e("editors-wrap"))},[L("span",{class:y(e(c).e("time-picker-wrap"))},[F(e(Ze),{size:"small",disabled:e(x).selecting,placeholder:e(Y)("el.datepicker.startDate"),class:y(e(c).e("editor")),"model-value":e(I),"validate-event":!1,onInput:b[0]||(b[0]=V=>Qe(V,"min")),onChange:b[1]||(b[1]=V=>ze(V,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ie((T(),B("span",{class:y(e(c).e("time-picker-wrap"))},[F(e(Ze),{size:"small",class:y(e(c).e("editor")),disabled:e(x).selecting,placeholder:e(Y)("el.datepicker.startTime"),"model-value":e(w),"validate-event":!1,onFocus:b[2]||(b[2]=V=>$e.value=!0),onInput:b[3]||(b[3]=V=>Be(V,"min")),onChange:b[4]||(b[4]=V=>et(V,"min"))},null,8,["class","disabled","placeholder","model-value"]),F(e(Ct),{visible:$e.value,format:e(s),"datetime-role":"start","time-arrow-control":e(M),"parsed-value":o.value,onPick:tt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(St),Ue]])],2),L("span",null,[F(e(he),null,{default:se(()=>[F(e(vt))]),_:1})]),L("span",{class:y([e(c).e("editors-wrap"),"is-right"])},[L("span",{class:y(e(c).e("time-picker-wrap"))},[F(e(Ze),{size:"small",class:y(e(c).e("editor")),disabled:e(x).selecting,placeholder:e(Y)("el.datepicker.endDate"),"model-value":e(u),readonly:!e(l),"validate-event":!1,onInput:b[5]||(b[5]=V=>Qe(V,"max")),onChange:b[6]||(b[6]=V=>ze(V,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ie((T(),B("span",{class:y(e(c).e("time-picker-wrap"))},[F(e(Ze),{size:"small",class:y(e(c).e("editor")),disabled:e(x).selecting,placeholder:e(Y)("el.datepicker.endTime"),"model-value":e(R),readonly:!e(l),"validate-event":!1,onFocus:b[7]||(b[7]=V=>e(l)&&(Oe.value=!0)),onInput:b[8]||(b[8]=V=>Be(V,"max")),onChange:b[9]||(b[9]=V=>et(V,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),F(e(Ct),{"datetime-role":"end",visible:Oe.value,format:e(s),"time-arrow-control":e(M),"parsed-value":k.value,onPick:me},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(St),Je]])],2)],2)):ve("v-if",!0),L("div",{class:y([[e(P).e("content"),e(c).e("content")],"is-left"])},[L("div",{class:y(e(c).e("header"))},[L("button",{type:"button",class:y([e(P).e("icon-btn"),"d-arrow-left"]),onClick:W},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],2),L("button",{type:"button",class:y([e(P).e("icon-btn"),"arrow-left"]),onClick:X},[F(e(he),null,{default:se(()=>[F(e(wt))]),_:1})],2),r.unlinkPanels?(T(),B("button",{key:0,type:"button",disabled:!e(we),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(we)}],"d-arrow-right"]),onClick:ne},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],10,qn)):ve("v-if",!0),r.unlinkPanels?(T(),B("button",{key:1,type:"button",disabled:!e(Me),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-right"]),onClick:re},[F(e(he),null,{default:se(()=>[F(e(vt))]),_:1})],10,Zn)):ve("v-if",!0),L("div",null,fe(e(ee)),1)],2),F(Pt,{"selection-mode":"range",date:o.value,"min-date":e(l),"max-date":e(v),"range-state":e(x),"disabled-date":e(p),"cell-class-name":e(m),onChangerange:e($),onPick:We,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),L("div",{class:y([[e(P).e("content"),e(c).e("content")],"is-right"])},[L("div",{class:y(e(c).e("header"))},[r.unlinkPanels?(T(),B("button",{key:0,type:"button",disabled:!e(we),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(we)}],"d-arrow-left"]),onClick:le},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],10,Xn)):ve("v-if",!0),r.unlinkPanels?(T(),B("button",{key:1,type:"button",disabled:!e(Me),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-left"]),onClick:Pe},[F(e(he),null,{default:se(()=>[F(e(wt))]),_:1})],10,Jn)):ve("v-if",!0),L("button",{type:"button",class:y([e(P).e("icon-btn"),"d-arrow-right"]),onClick:J},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],2),L("button",{type:"button",class:y([e(P).e("icon-btn"),"arrow-right"]),onClick:de},[F(e(he),null,{default:se(()=>[F(e(vt))]),_:1})],2),L("div",null,fe(e(oe)),1)],2),F(Pt,{"selection-mode":"range",date:k.value,"min-date":e(l),"max-date":e(v),"range-state":e(x),"disabled-date":e(p),"cell-class-name":e(m),onChangerange:e($),onPick:We,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(Re)?(T(),B("div",{key:0,class:y(e(P).e("footer"))},[e(C)?(T(),De(e(ht),{key:0,text:"",size:"small",class:y(e(P).e("link-btn")),onClick:f},{default:se(()=>[Ke(fe(e(Y)("el.datepicker.clear")),1)]),_:1},8,["class"])):ve("v-if",!0),F(e(ht),{plain:"",size:"small",class:y(e(P).e("link-btn")),disabled:e(Fe),onClick:b[10]||(b[10]=V=>e(N)(!1))},{default:se(()=>[Ke(fe(e(Y)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ve("v-if",!0)],2))}});var el=Le(Qn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const tl=Ce({...ra}),al=["pick","set-picker-option"],nl=({unlinkPanels:i,leftDate:d,rightDate:n})=>{const{t}=Ne(),p=()=>{d.value=d.value.subtract(1,"year"),i.value||(n.value=n.value.subtract(1,"year"))},m=()=>{i.value||(d.value=d.value.add(1,"year")),n.value=n.value.add(1,"year")},S=()=>{d.value=d.value.add(1,"year")},g=()=>{n.value=n.value.subtract(1,"year")},M=E(()=>`${d.value.year()} ${t("el.datepicker.year")}`),C=E(()=>`${n.value.year()} ${t("el.datepicker.year")}`),A=E(()=>d.value.year()),D=E(()=>n.value.year()===d.value.year()?d.value.year()+1:n.value.year());return{leftPrevYear:p,rightNextYear:m,leftNextYear:S,rightPrevYear:g,leftLabel:M,rightLabel:C,leftYear:A,rightYear:D}},ll=["onClick"],sl=["disabled"],ol=["disabled"],pt="year",rl=Ve({name:"DatePickerMonthRange"}),ul=Ve({...rl,props:tl,emits:al,setup(i,{emit:d}){const n=i,{lang:t}=Ne(),p=He("EP_PICKER_BASE"),{shortcuts:m,disabledDate:S,format:g}=p.props,M=ot(p.props,"defaultValue"),C=q(j().locale(t.value)),A=q(j().locale(t.value).add(1,pt)),{minDate:D,maxDate:h,rangeState:o,ppNs:k,drpNs:l,handleChangeRange:v,handleRangeConfirm:x,handleShortcutClick:P,onSelect:c}=ca(n,{defaultValue:M,leftDate:C,rightDate:A,unit:pt,onParsedValueChanged:pe}),$=E(()=>!!m.length),{leftPrevYear:N,rightNextYear:U,leftNextYear:G,rightPrevYear:Y,leftLabel:Z,rightLabel:H,leftYear:ee,rightYear:oe}=nl({unlinkPanels:ot(n,"unlinkPanels"),leftDate:C,rightDate:A}),z=E(()=>n.unlinkPanels&&oe.value>ee.value+1),te=(K,I=!0)=>{const u=K.minDate,w=K.maxDate;h.value===w&&D.value===u||(h.value=w,D.value=u,I&&x())},ce=K=>K.map(I=>I.format(g));function pe(K,I){if(n.unlinkPanels&&I){const u=K?.year()||0,w=I.year();A.value=u===w?I.add(1,pt):I}else A.value=C.value.add(1,pt)}return d("set-picker-option",["formatToString",ce]),(K,I)=>(T(),B("div",{class:y([e(k).b(),e(l).b(),{"has-sidebar":!!K.$slots.sidebar||e($)}])},[L("div",{class:y(e(k).e("body-wrapper"))},[ut(K.$slots,"sidebar",{class:y(e(k).e("sidebar"))}),e($)?(T(),B("div",{key:0,class:y(e(k).e("sidebar"))},[(T(!0),B(ge,null,_e(e(m),(u,w)=>(T(),B("button",{key:w,type:"button",class:y(e(k).e("shortcut")),onClick:R=>e(P)(u)},fe(u.text),11,ll))),128))],2)):ve("v-if",!0),L("div",{class:y(e(k).e("body"))},[L("div",{class:y([[e(k).e("content"),e(l).e("content")],"is-left"])},[L("div",{class:y(e(l).e("header"))},[L("button",{type:"button",class:y([e(k).e("icon-btn"),"d-arrow-left"]),onClick:I[0]||(I[0]=(...u)=>e(N)&&e(N)(...u))},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],2),K.unlinkPanels?(T(),B("button",{key:0,type:"button",disabled:!e(z),class:y([[e(k).e("icon-btn"),{[e(k).is("disabled")]:!e(z)}],"d-arrow-right"]),onClick:I[1]||(I[1]=(...u)=>e(G)&&e(G)(...u))},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],10,sl)):ve("v-if",!0),L("div",null,fe(e(Z)),1)],2),F(_t,{"selection-mode":"range",date:C.value,"min-date":e(D),"max-date":e(h),"range-state":e(o),"disabled-date":e(S),onChangerange:e(v),onPick:te,onSelect:e(c)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),L("div",{class:y([[e(k).e("content"),e(l).e("content")],"is-right"])},[L("div",{class:y(e(l).e("header"))},[K.unlinkPanels?(T(),B("button",{key:0,type:"button",disabled:!e(z),class:y([[e(k).e("icon-btn"),{"is-disabled":!e(z)}],"d-arrow-left"]),onClick:I[2]||(I[2]=(...u)=>e(Y)&&e(Y)(...u))},[F(e(he),null,{default:se(()=>[F(e(it))]),_:1})],10,ol)):ve("v-if",!0),L("button",{type:"button",class:y([e(k).e("icon-btn"),"d-arrow-right"]),onClick:I[3]||(I[3]=(...u)=>e(U)&&e(U)(...u))},[F(e(he),null,{default:se(()=>[F(e(ct))]),_:1})],2),L("div",null,fe(e(H)),1)],2),F(_t,{"selection-mode":"range",date:A.value,"min-date":e(D),"max-date":e(h),"range-state":e(o),"disabled-date":e(S),onChangerange:e(v),onPick:te,onSelect:e(c)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var il=Le(ul,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const cl=function(i){switch(i){case"daterange":case"datetimerange":return el;case"monthrange":return il;default:return Kn}};j.extend(Ja);j.extend(en);j.extend(Ya);j.extend(an);j.extend(ln);j.extend(on);j.extend(un);j.extend(dn);var dl=Ve({name:"ElDatePicker",install:null,props:fn,emits:["update:modelValue"],setup(i,{expose:d,emit:n,slots:t}){const p=Te("picker-panel");kt("ElPopperOptions",Pa(ot(i,"popperOptions"))),kt($t,{slots:t,pickerNs:p});const m=q();d({focus:(M=!0)=>{var C;(C=m.value)==null||C.focus(M)},handleOpen:()=>{var M;(M=m.value)==null||M.handleOpen()},handleClose:()=>{var M;(M=m.value)==null||M.handleClose()}});const g=M=>{n("update:modelValue",M)};return()=>{var M;const C=(M=i.format)!=null?M:Ia[i.type]||lt,A=cl(i.type);return F(Ba,Lt(i,{format:C,type:i.type,ref:m,"onUpdate:modelValue":g}),{default:D=>F(A,D,null),"range-separator":t["range-separator"]})}}});const mt=dl;mt.install=i=>{i.component(mt.name,mt)};const gl=mt;export{gl as E};
