import{_ as Ye,a as Te,u as je,g as ie,o as K,w as Q,r as gt,ar as fr,as as hr,j as S,a6 as pr,l as $t,at as st,au as it,av as Je,aw as ut,ax as Le,U as mr,ay as Ve,az as Ft,aA as gr,f as yr,aB as St,aa as dt,i as Fe,a5 as qt,A as ze,I as X,aC as ot,aD as vr,K as xe,a7 as ct,ad as lt,v as M,x as U,C as Z,y as V,k as br,h as me,P as ke,n as kr,N as pe,O as $e,aE as Nr,aF as Cr,X as fe,aG as wr,Y as zt,J as xr,V as Dr,aH as Er,aI as Ir,aJ as Ne,z as re,aK as Pr,d as We,aL as Or,c as ft,ab as Tr,aM as jr,aN as Sr,D as ne,M as At,L as qr,aO as Ar,aq as Kr,aP as Kt,Q as _r}from"./index-BlWpl0PI.js";import{E as Rr}from"./el-checkbox-DlsprtpE.js";import{E as Br}from"./el-text-4ZOw02Kd.js";/* empty css               */import{a as Lr,E as $r}from"./el-select-Dnucx4zD.js";import"./el-popper-B6oRMNpE.js";import{E as Fr}from"./el-pagination-47bDwVNA.js";import{E as zr}from"./el-divider-CH2DV50M.js";import{L as Ur,P as Mr,T as Hr,a as Jr,b as Wr}from"./Router-_BrM51wu.js";import{E as Gr}from"./index-Dntp9FFP.js";import"./omit-DVMu8Jof.js";import"./last-D-rYfuUG.js";import"./strings-CS2RxFgL.js";import"./castArray-CFfKrZT2.js";import"./_baseIteratee-4QWUGdPJ.js";import"./clamp-BpFor7V6.js";import"./index-CHacJSIl.js";import"./index-CMq4uf5n.js";import"./index-CdoZwzKi.js";const Qr=Te({name:"ElCollapseTransition"}),Vr=Te({...Qr,setup(s){const o=je("collapse-transition"),i=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},d={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){i(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){i(e)},leaveCancelled(e){i(e)}};return(e,c)=>(K(),ie(pr,fr({name:S(o).b()},hr(d)),{default:Q(()=>[gt(e.$slots,"default")]),_:3},16,["name"]))}});var Yr=Ye(Vr,[["__file","collapse-transition.vue"]]);const Xr=$t(Yr),Oe="$treeNodeId",_t=function(s,o){!o||o[Oe]||Object.defineProperty(o,Oe,{value:s.id,enumerable:!1,configurable:!1,writable:!1})},yt=(s,o)=>o?.[s||Oe],ht=(s,o,i)=>{const d=s.value.currentNode;i();const e=s.value.currentNode;d!==e&&o("current-change",e?e.data:null,e)},pt=s=>{let o=!0,i=!0,d=!0;for(let e=0,c=s.length;e<c;e++){const p=s[e];(p.checked!==!0||p.indeterminate)&&(o=!1,p.disabled||(d=!1)),(p.checked!==!1||p.indeterminate)&&(i=!1)}return{all:o,none:i,allWithoutDisable:d,half:!o&&!i}},Be=function(s){if(s.childNodes.length===0||s.loading)return;const{all:o,none:i,half:d}=pt(s.childNodes);o?(s.checked=!0,s.indeterminate=!1):d?(s.checked=!1,s.indeterminate=!0):i&&(s.checked=!1,s.indeterminate=!1);const e=s.parent;!e||e.level===0||s.store.checkStrictly||Be(e)},Ge=function(s,o){const i=s.store.props,d=s.data||{},e=i[o];if(Ve(e))return e(d,s);if(Ft(e))return d[e];if(Le(e)){const c=d[o];return Le(c)?"":c}},mt=function(s,o){s.forEach(i=>{i.canFocus=o,mt(i.childNodes,o)})};let Zr=0;class De{constructor(o){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=Zr++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in o)st(o,i)&&(this[i]=o[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var o;const i=this.store;if(!i)throw new Error("[Node]store is required!");i.registerNode(this);const d=i.props;if(d&&typeof d.isLeaf<"u"){const p=Ge(this,"isLeaf");it(p)&&(this.isLeafByUser=p)}if(i.lazy!==!0&&this.data?(this.setData(this.data),i.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&i.lazy&&i.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Je(this.data)||_t(this,this.data),!this.data)return;const e=i.defaultExpandedKeys,c=i.key;c&&!ut(this.key)&&e&&e.includes(this.key)&&this.expand(null,i.autoExpandParent),c&&i.currentNodeKey!==void 0&&this.key===i.currentNodeKey&&(i.currentNode&&(i.currentNode.isCurrent=!1),i.currentNode=this,i.currentNode.isCurrent=!0),i.lazy&&i._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((o=this.parent)==null?void 0:o.expanded)===!0)&&(this.canFocus=!0)}setData(o){Je(o)||_t(this,o),this.data=o,this.childNodes=[];let i;this.level===0&&Je(this.data)?i=this.data:i=Ge(this,"children")||[];for(let d=0,e=i.length;d<e;d++)this.insertChild({data:i[d]})}get label(){return Ge(this,"label")}get key(){const o=this.store.key;return this.data?this.data[o]:null}get disabled(){return Ge(this,"disabled")}get nextSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return o.childNodes[i+1]}return null}get previousSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return i>0?o.childNodes[i-1]:null}return null}contains(o,i=!0){return(this.childNodes||[]).some(d=>d===o||i&&d.contains(o))}remove(){const o=this.parent;o&&o.removeChild(this)}insertChild(o,i,d){if(!o)throw new Error("InsertChild error: child is required.");if(!(o instanceof De)){if(!d){const e=this.getChildren(!0);e?.includes(o.data)||(Le(i)||i<0?e?.push(o.data):e?.splice(i,0,o.data))}Object.assign(o,{parent:this,store:this.store}),o=mr(new De(o)),o instanceof De&&o.initialize()}o.level=this.level+1,Le(i)||i<0?this.childNodes.push(o):this.childNodes.splice(i,0,o),this.updateLeafState()}insertBefore(o,i){let d;i&&(d=this.childNodes.indexOf(i)),this.insertChild(o,d)}insertAfter(o,i){let d;i&&(d=this.childNodes.indexOf(i),d!==-1&&(d+=1)),this.insertChild(o,d)}removeChild(o){const i=this.getChildren()||[],d=i.indexOf(o.data);d>-1&&i.splice(d,1);const e=this.childNodes.indexOf(o);e>-1&&(this.store&&this.store.deregisterNode(o),o.parent=null,this.childNodes.splice(e,1)),this.updateLeafState()}removeChildByData(o){const i=this.childNodes.find(d=>d.data===o);i&&this.removeChild(i)}expand(o,i){const d=()=>{if(i){let e=this.parent;for(;e&&e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,o&&o(),mt(this.childNodes,!0)};this.shouldLoadData()?this.loadData(e=>{Je(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Be(this),d())}):d()}doCreateChildren(o,i={}){o.forEach(d=>{this.insertChild(Object.assign({data:d},i),void 0,!0)})}collapse(){this.expanded=!1,mt(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const o=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!o||o.length===0;return}this.isLeaf=!1}setChecked(o,i,d,e){if(this.indeterminate=o==="half",this.checked=o===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:p,allWithoutDisable:x}=pt(this.childNodes);!this.isLeaf&&!p&&x&&(this.checked=!1,o=!1);const A=()=>{if(i){const v=this.childNodes;for(let j=0,b=v.length;j<b;j++){const L=v[j];e=e||o!==!1;const B=L.disabled?L.checked:e;L.setChecked(B,i,!0,e)}const{half:k,all:D}=pt(v);D||(this.checked=D,this.indeterminate=k)}};if(this.shouldLoadData()){this.loadData(()=>{A(),Be(this)},{checked:o!==!1});return}else A()}const c=this.parent;!c||c.level===0||d||Be(c)}getChildren(o=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const d=this.store.props;let e="children";return d&&(e=d.children||"children"),Le(i[e])&&(i[e]=null),o&&!i[e]&&(i[e]=[]),i[e]}updateChildren(){const o=this.getChildren()||[],i=this.childNodes.map(c=>c.data),d={},e=[];o.forEach((c,p)=>{const x=c[Oe];!!x&&i.some(v=>v?.[Oe]===x)?d[x]={index:p,data:c}:e.push({index:p,data:c})}),this.store.lazy||i.forEach(c=>{d[c?.[Oe]]||this.removeChildByData(c)}),e.forEach(({index:c,data:p})=>{this.insertChild({data:p},c)}),this.updateLeafState()}loadData(o,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const d=c=>{this.childNodes=[],this.doCreateChildren(c,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),o&&o.call(this,c)},e=()=>{this.loading=!1};this.store.load(this,d,e)}else o&&o.call(this)}eachNode(o){const i=[this];for(;i.length;){const d=i.shift();i.unshift(...d.childNodes),o(d)}}reInitChecked(){this.store.checkStrictly||Be(this)}}class ea{constructor(o){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const i in o)st(o,i)&&(this[i]=o[i]);this.nodesMap={}}initialize(){if(this.root=new De({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const o=this.load;o(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()},gr)}else this._initDefaultCheckedNodes()}filter(o){const i=this.filterNodeMethod,d=this.lazy,e=async function(c){const p=c.root?c.root.childNodes:c.childNodes;for(const[x,A]of p.entries())A.visible=!!i?.call(A,o,A.data,A),x%80===0&&x>0&&await dt(),await e(A);if(!c.visible&&p.length){let x=!0;x=!p.some(A=>A.visible),c.root?c.root.visible=x===!1:c.visible=x===!1}o&&c.visible&&!c.isLeaf&&(!d||c.loaded)&&c.expand()};e(this)}setData(o){o!==this.root.data?(this.nodesMap={},this.root.setData(o),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(o){if(o instanceof De)return o;const i=yr(o)?yt(this.key,o):o;return this.nodesMap[i]||null}insertBefore(o,i){var d;const e=this.getNode(i);(d=e.parent)==null||d.insertBefore({data:o},e)}insertAfter(o,i){var d;const e=this.getNode(i);(d=e.parent)==null||d.insertAfter({data:o},e)}remove(o){const i=this.getNode(o);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(o,i){const d=St(i)?this.root:this.getNode(i);d&&d.insertChild({data:o})}_initDefaultCheckedNodes(){const o=this.defaultCheckedKeys||[],i=this.nodesMap;o.forEach(d=>{const e=i[d];e&&e.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(o){const i=this.defaultCheckedKeys||[];!ut(o.key)&&i.includes(o.key)&&o.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(o){o!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=o,this._initDefaultCheckedNodes())}registerNode(o){const i=this.key;if(!(!o||!o.data))if(!i)this.nodesMap[o.id]=o;else{const d=o.key;ut(d)||(this.nodesMap[d]=o)}}deregisterNode(o){!this.key||!o||!o.data||(o.childNodes.forEach(d=>{this.deregisterNode(d)}),delete this.nodesMap[o.key])}getCheckedNodes(o=!1,i=!1){const d=[],e=function(c){(c.root?c.root.childNodes:c.childNodes).forEach(x=>{(x.checked||i&&x.indeterminate)&&(!o||o&&x.isLeaf)&&d.push(x.data),e(x)})};return e(this),d}getCheckedKeys(o=!1){return this.getCheckedNodes(o).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const o=[],i=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(c=>{c.indeterminate&&o.push(c.data),i(c)})};return i(this),o}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(o=>(o||{})[this.key])}_getAllNodes(){const o=[],i=this.nodesMap;for(const d in i)st(i,d)&&o.push(i[d]);return o}updateChildren(o,i){const d=this.nodesMap[o];if(!d)return;const e=d.childNodes;for(let c=e.length-1;c>=0;c--){const p=e[c];this.remove(p.data)}for(let c=0,p=i.length;c<p;c++){const x=i[c];this.append(x,d.data)}}_setCheckedKeys(o,i=!1,d){const e=this._getAllNodes().sort((A,v)=>A.level-v.level),c=Object.create(null),p=Object.keys(d);e.forEach(A=>A.setChecked(!1,!1));const x=A=>{A.childNodes.forEach(v=>{var k;c[v.data[o]]=!0,(k=v.childNodes)!=null&&k.length&&x(v)})};for(let A=0,v=e.length;A<v;A++){const k=e[A],D=k.data[o].toString();if(!p.includes(D)){k.checked&&!c[D]&&k.setChecked(!1,!1);continue}if(k.childNodes.length&&x(k),k.isLeaf||this.checkStrictly){k.setChecked(!0,!1);continue}if(k.setChecked(!0,!0),i){k.setChecked(!1,!1);const b=function(L){L.childNodes.forEach(N=>{N.isLeaf||N.setChecked(!1,!1),b(N)})};b(k)}}}setCheckedNodes(o,i=!1){const d=this.key,e={};o.forEach(c=>{e[(c||{})[d]]=!0}),this._setCheckedKeys(d,i,e)}setCheckedKeys(o,i=!1){this.defaultCheckedKeys=o;const d=this.key,e={};o.forEach(c=>{e[c]=!0}),this._setCheckedKeys(d,i,e)}setDefaultExpandedKeys(o){o=o||[],this.defaultExpandedKeys=o,o.forEach(i=>{const d=this.getNode(i);d&&d.expand(null,this.autoExpandParent)})}setChecked(o,i,d){const e=this.getNode(o);e&&e.setChecked(!!i,d)}getCurrentNode(){return this.currentNode}setCurrentNode(o){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=o,this.currentNode.isCurrent=!0}setUserCurrentNode(o,i=!0){var d;const e=o[this.key],c=this.nodesMap[e];this.setCurrentNode(c),i&&this.currentNode&&this.currentNode.level>1&&((d=this.currentNode.parent)==null||d.expand(null,!0))}setCurrentNodeKey(o,i=!0){var d;if(this.currentNodeKey=o,St(o)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const e=this.getNode(o);e&&(this.setCurrentNode(e),i&&this.currentNode&&this.currentNode.level>1&&((d=this.currentNode.parent)==null||d.expand(null,!0)))}}const vt="RootTree",Ut="NodeInstance",Rt="TreeNodeMap",ta=Te({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(s){const o=je("tree"),i=Fe(Ut),d=Fe(vt);return()=>{const e=s.node,{data:c,store:p}=e;return s.renderContent?s.renderContent(qt,{_self:i,node:e,data:c,store:p}):gt(d.ctx.slots,"default",{node:e,data:c},()=>[qt(Br,{tag:"span",truncated:!0,class:o.be("node","label")},()=>[e.label])])}}});var na=Ye(ta,[["__file","tree-node-content.vue"]]);function Mt(s){const o=Fe(Rt,null),i={treeNodeExpand:d=>{var e;s.node!==d&&((e=s.node)==null||e.collapse())},children:[]};return o&&o.children.push(i),ze(Rt,i),{broadcastExpanded:d=>{if(s.accordion)for(const e of i.children)e.treeNodeExpand(d)}}}const Ht=Symbol("dragEvents");function ra({props:s,ctx:o,el$:i,dropIndicator$:d,store:e}){const c=je("tree"),p=X({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ze(Ht,{treeNodeDragStart:({event:k,treeNode:D})=>{if(k.dataTransfer){if(Ve(s.allowDrag)&&!s.allowDrag(D.node))return k.preventDefault(),!1;k.dataTransfer.effectAllowed="move";try{k.dataTransfer.setData("text/plain","")}catch{}p.value.draggingNode=D,o.emit("node-drag-start",D.node,k)}},treeNodeDragOver:({event:k,treeNode:D})=>{if(!k.dataTransfer)return;const j=D,b=p.value.dropNode;b&&b.node.id!==j.node.id&&ot(b.$el,c.is("drop-inner"));const L=p.value.draggingNode;if(!L||!j)return;let B=!0,N=!0,W=!0,H=!0;Ve(s.allowDrop)&&(B=s.allowDrop(L.node,j.node,"prev"),H=N=s.allowDrop(L.node,j.node,"inner"),W=s.allowDrop(L.node,j.node,"next")),k.dataTransfer.dropEffect=N||B||W?"move":"none",(B||N||W)&&b?.node.id!==j.node.id&&(b&&o.emit("node-drag-leave",L.node,b.node,k),o.emit("node-drag-enter",L.node,j.node,k)),B||N||W?p.value.dropNode=j:p.value.dropNode=null,j.node.nextSibling===L.node&&(W=!1),j.node.previousSibling===L.node&&(B=!1),j.node.contains(L.node,!1)&&(N=!1),(L.node===j.node||L.node.contains(j.node))&&(B=!1,N=!1,W=!1);const ee=j.$el,G=ee.querySelector(`.${c.be("node","content")}`).getBoundingClientRect(),w=i.value.getBoundingClientRect(),z=i.value.scrollTop;let Y;const de=B?N?.25:W?.45:1:Number.NEGATIVE_INFINITY,T=W?N?.75:B?.55:0:Number.POSITIVE_INFINITY;let I=-9999;const P=k.clientY-G.top;P<G.height*de?Y="before":P>G.height*T?Y="after":N?Y="inner":Y="none";const se=ee.querySelector(`.${c.be("node","expand-icon")}`).getBoundingClientRect(),ge=d.value;Y==="before"?I=se.top-w.top+z:Y==="after"&&(I=se.bottom-w.top+z),ge.style.top=`${I}px`,ge.style.left=`${se.right-w.left}px`,Y==="inner"?vr(ee,c.is("drop-inner")):ot(ee,c.is("drop-inner")),p.value.showDropIndicator=Y==="before"||Y==="after",p.value.allowDrop=p.value.showDropIndicator||H,p.value.dropType=Y,o.emit("node-drag-over",L.node,j.node,k)},treeNodeDragEnd:k=>{var D,j;const{draggingNode:b,dropType:L,dropNode:B}=p.value;if(k.preventDefault(),k.dataTransfer&&(k.dataTransfer.dropEffect="move"),b?.node.data&&B){const N={data:b.node.data};L!=="none"&&b.node.remove(),L==="before"?(D=B.node.parent)==null||D.insertBefore(N,B.node):L==="after"?(j=B.node.parent)==null||j.insertAfter(N,B.node):L==="inner"&&B.node.insertChild(N),L!=="none"&&(e.value.registerNode(N),e.value.key&&b.node.eachNode(W=>{var H;(H=e.value.nodesMap[W.data[e.value.key]])==null||H.setChecked(W.checked,!e.value.checkStrictly)})),ot(B.$el,c.is("drop-inner")),o.emit("node-drag-end",b.node,B.node,L,k),L!=="none"&&o.emit("node-drop",b.node,B.node,L,k)}b&&!B&&o.emit("node-drag-end",b.node,null,L,k),p.value.showDropIndicator=!1,p.value.draggingNode=null,p.value.dropNode=null,p.value.allowDrop=!0}}),{dragState:p}}const aa=Te({name:"ElTreeNode",components:{ElCollapseTransition:Xr,ElCheckbox:Rr,NodeContent:na,ElIcon:Cr,Loading:Nr},props:{node:{type:De,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(s,o){const i=je("tree"),{broadcastExpanded:d}=Mt(s),e=Fe(vt),c=X(!1),p=X(!1),x=X(),A=X(),v=X(),k=Fe(Ht),D=zt();ze(Ut,D),s.node.expanded&&(c.value=!0,p.value=!0);const j=e.props.props.children||"children";fe(()=>{var T;const I=(T=s.node.data)==null?void 0:T[j];return I&&[...I]},()=>{s.node.updateChildren()}),fe(()=>s.node.indeterminate,T=>{B(s.node.checked,T)}),fe(()=>s.node.checked,T=>{B(T,s.node.indeterminate)}),fe(()=>s.node.childNodes.length,()=>s.node.reInitChecked()),fe(()=>s.node.expanded,T=>{dt(()=>c.value=T),T&&(p.value=!0)});const b=T=>yt(e.props.nodeKey,T.data),L=T=>{const I=s.props.class;if(!I)return{};let P;if(Ve(I)){const{data:se}=T;P=I(se,T)}else P=I;return Ft(P)?{[P]:!0}:P},B=(T,I)=>{(x.value!==T||A.value!==I)&&e.ctx.emit("check-change",s.node.data,T,I),x.value=T,A.value=I},N=T=>{ht(e.store,e.ctx.emit,()=>{var I;if((I=e?.props)==null?void 0:I.nodeKey){const se=b(s.node);e.store.value.setCurrentNodeKey(se)}else e.store.value.setCurrentNode(s.node)}),e.currentNode.value=s.node,e.props.expandOnClickNode&&H(),(e.props.checkOnClickNode||s.node.isLeaf&&e.props.checkOnClickLeaf&&s.showCheckbox)&&!s.node.disabled&&ee(!s.node.checked),e.ctx.emit("node-click",s.node.data,s.node,D,T)},W=T=>{var I;(I=e.instance.vnode.props)!=null&&I.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),e.ctx.emit("node-contextmenu",T,s.node.data,s.node,D)},H=()=>{s.node.isLeaf||(c.value?(e.ctx.emit("node-collapse",s.node.data,s.node,D),s.node.collapse()):s.node.expand(()=>{o.emit("node-expand",s.node.data,s.node,D)}))},ee=T=>{s.node.setChecked(T,!e?.props.checkStrictly),dt(()=>{const I=e.store.value;e.ctx.emit("check",s.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:i,node$:v,tree:e,expanded:c,childNodeRendered:p,oldChecked:x,oldIndeterminate:A,getNodeKey:b,getNodeClass:L,handleSelectChange:B,handleClick:N,handleContextMenu:W,handleExpandIconClick:H,handleCheckChange:ee,handleChildNodeExpand:(T,I,P)=>{d(I),e.ctx.emit("node-expand",T,I,P)},handleDragStart:T=>{e.props.draggable&&k.treeNodeDragStart({event:T,treeNode:s})},handleDragOver:T=>{T.preventDefault(),e.props.draggable&&k.treeNodeDragOver({event:T,treeNode:{$el:v.value,node:s.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{e.props.draggable&&k.treeNodeDragEnd(T)},CaretRight:wr}}});function oa(s,o,i,d,e,c){const p=xe("el-icon"),x=xe("el-checkbox"),A=xe("loading"),v=xe("node-content"),k=xe("el-tree-node"),D=xe("el-collapse-transition");return ct((K(),M("div",{ref:"node$",class:me([s.ns.b("node"),s.ns.is("expanded",s.expanded),s.ns.is("current",s.node.isCurrent),s.ns.is("hidden",!s.node.visible),s.ns.is("focusable",!s.node.disabled),s.ns.is("checked",!s.node.disabled&&s.node.checked),s.getNodeClass(s.node)]),role:"treeitem",tabindex:"-1","aria-expanded":s.expanded,"aria-disabled":s.node.disabled,"aria-checked":s.node.checked,draggable:s.tree.props.draggable,"data-key":s.getNodeKey(s.node),onClick:ke(s.handleClick,["stop"]),onContextmenu:s.handleContextMenu,onDragstart:ke(s.handleDragStart,["stop"]),onDragover:ke(s.handleDragOver,["stop"]),onDragend:ke(s.handleDragEnd,["stop"]),onDrop:ke(s.handleDrop,["stop"])},[U("div",{class:me(s.ns.be("node","content")),style:kr({paddingLeft:(s.node.level-1)*s.tree.props.indent+"px"})},[s.tree.props.icon||s.CaretRight?(K(),ie(p,{key:0,class:me([s.ns.be("node","expand-icon"),s.ns.is("leaf",s.node.isLeaf),{expanded:!s.node.isLeaf&&s.expanded}]),onClick:ke(s.handleExpandIconClick,["stop"])},{default:Q(()=>[(K(),ie(br(s.tree.props.icon||s.CaretRight)))]),_:1},8,["class","onClick"])):V("v-if",!0),s.showCheckbox?(K(),ie(x,{key:1,"model-value":s.node.checked,indeterminate:s.node.indeterminate,disabled:!!s.node.disabled,onClick:ke(()=>{},["stop"]),onChange:s.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):V("v-if",!0),s.node.loading?(K(),ie(p,{key:2,class:me([s.ns.be("node","loading-icon"),s.ns.is("loading")])},{default:Q(()=>[Z(A)]),_:1},8,["class"])):V("v-if",!0),Z(v,{node:s.node,"render-content":s.renderContent},null,8,["node","render-content"])],6),Z(D,null,{default:Q(()=>[!s.renderAfterExpand||s.childNodeRendered?ct((K(),M("div",{key:0,class:me(s.ns.be("node","children")),role:"group","aria-expanded":s.expanded,onClick:ke(()=>{},["stop"])},[(K(!0),M(pe,null,$e(s.node.childNodes,j=>(K(),ie(k,{key:s.getNodeKey(j),"render-content":s.renderContent,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,node:j,accordion:s.accordion,props:s.props,onNodeExpand:s.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[lt,s.expanded]]):V("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[lt,s.node.visible]])}var sa=Ye(aa,[["render",oa],["__file","tree-node.vue"]]);function ia({el$:s},o){const i=je("tree");xr(()=>{c()}),Dr(()=>{Array.from(s.value.querySelectorAll("input[type=checkbox]")).forEach(x=>{x.setAttribute("tabindex","-1")})});function d(p,x){var A,v;const k=o.value.getNode(p[x].dataset.key);return k.canFocus&&k.visible&&(((A=k.parent)==null?void 0:A.expanded)||((v=k.parent)==null?void 0:v.level)===0)}Er(s,"keydown",p=>{const x=p.target;if(!x.className.includes(i.b("node")))return;const A=Ir(p),v=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),k=v.indexOf(x);let D;if([Ne.up,Ne.down].includes(A)){if(p.preventDefault(),A===Ne.up){D=k===-1?0:k!==0?k-1:v.length-1;const b=D;for(;!d(v,D);){if(D--,D===b){D=-1;break}D<0&&(D=v.length-1)}}else{D=k===-1?0:k<v.length-1?k+1:0;const b=D;for(;!d(v,D);){if(D++,D===b){D=-1;break}D>=v.length&&(D=0)}}D!==-1&&v[D].focus()}[Ne.left,Ne.right].includes(A)&&(p.preventDefault(),x.click());const j=x.querySelector('[type="checkbox"]');[Ne.enter,Ne.numpadEnter,Ne.space].includes(A)&&j&&(p.preventDefault(),j.click())});const c=()=>{var p;if(!s.value)return;const x=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));Array.from(s.value.querySelectorAll("input[type=checkbox]")).forEach(k=>{k.setAttribute("tabindex","-1")});const v=s.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(v.length){v[0].setAttribute("tabindex","0");return}(p=x[0])==null||p.setAttribute("tabindex","0")}}const ua={"check-change":(s,o,i)=>s&&it(o)&&it(i),"current-change":(s,o)=>!0,"node-click":(s,o,i,d)=>s&&o&&d instanceof Event,"node-contextmenu":(s,o,i,d)=>s instanceof Event&&o&&i,"node-collapse":(s,o,i)=>s&&o,"node-expand":(s,o,i)=>s&&o,check:(s,o)=>s&&o,"node-drag-start":(s,o)=>s&&o,"node-drag-end":(s,o,i,d)=>s&&d,"node-drop":(s,o,i,d)=>s&&o&&d,"node-drag-leave":(s,o,i)=>s&&o&&i,"node-drag-enter":(s,o,i)=>s&&o&&i,"node-drag-over":(s,o,i)=>s&&o&&i},da=Te({name:"ElTree",components:{ElTreeNode:sa},props:{data:{type:We(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:We(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:We(Function)},allowDrop:{type:We(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Pr}},emits:ua,setup(s,o){const{t:i}=Or(),d=je("tree"),e=X(new ea({key:s.nodeKey,data:s.data,lazy:s.lazy,props:s.props,load:s.load,currentNodeKey:s.currentNodeKey,checkStrictly:s.checkStrictly,checkDescendants:s.checkDescendants,defaultCheckedKeys:s.defaultCheckedKeys,defaultExpandedKeys:s.defaultExpandedKeys,autoExpandParent:s.autoExpandParent,defaultExpandAll:s.defaultExpandAll,filterNodeMethod:s.filterNodeMethod}));e.value.initialize();const c=X(e.value.root),p=X(null),x=X(null),A=X(null),{broadcastExpanded:v}=Mt(s),{dragState:k}=ra({props:s,ctx:o,el$:x,dropIndicator$:A,store:e});ia({el$:x},e);const D=zt(),j=ft(()=>{let C=D?.parent;for(;C;){if(C.type.name==="ElTreeSelect")return!0;C=C.parent}return!1}),b=ft(()=>{const{childNodes:C}=c.value;return(!C||C.length===0||C.every(({visible:F})=>!F))&&!j.value});fe(()=>s.currentNodeKey,C=>{e.value.setCurrentNodeKey(C??null)}),fe(()=>s.defaultCheckedKeys,(C,F)=>{Tr(C,F)||e.value.setDefaultCheckedKey(C??[])}),fe(()=>s.defaultExpandedKeys,C=>{e.value.setDefaultExpandedKeys(C??[])}),fe(()=>s.data,C=>{e.value.setData(C)},{deep:!0}),fe(()=>s.checkStrictly,C=>{e.value.checkStrictly=C});const L=C=>{if(!s.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");e.value.filter(C)},B=C=>yt(s.nodeKey,C.data),N=C=>{if(!s.nodeKey)throw new Error(`[Tree] nodeKey is required in ${C}`)},W=C=>{N("getNodePath");const F=e.value.getNode(C);if(!F)return[];const ve=[F.data];let Ce=F.parent;for(;Ce&&Ce!==c.value;)ve.push(Ce.data),Ce=Ce.parent;return ve.reverse()},H=(C,F)=>e.value.getCheckedNodes(C,F),ee=C=>e.value.getCheckedKeys(C),G=()=>{const C=e.value.getCurrentNode();return C?C.data:null},w=()=>{N("getCurrentKey");const C=G();return C?C[s.nodeKey]:null},z=(C,F)=>{N("setCheckedNodes"),e.value.setCheckedNodes(C,F)},Y=(C,F)=>{N("setCheckedKeys"),e.value.setCheckedKeys(C,F)},de=(C,F,ve)=>{e.value.setChecked(C,F,ve)},T=()=>e.value.getHalfCheckedNodes(),I=()=>e.value.getHalfCheckedKeys(),P=(C,F=!0)=>{N("setCurrentNode"),ht(e,o.emit,()=>{v(C),e.value.setUserCurrentNode(C,F)})},se=(C=null,F=!0)=>{N("setCurrentKey"),ht(e,o.emit,()=>{v(),e.value.setCurrentNodeKey(C,F)})},ge=C=>e.value.getNode(C),Ee=C=>{e.value.remove(C)},ce=(C,F)=>{e.value.append(C,F)},Se=(C,F)=>{e.value.insertBefore(C,F)},qe=(C,F)=>{e.value.insertAfter(C,F)},_=(C,F,ve)=>{v(F),o.emit("node-expand",C,F,ve)},ye=(C,F)=>{N("updateKeyChild"),e.value.updateChildren(C,F)};return ze(vt,{ctx:o,props:s,store:e,root:c,currentNode:p,instance:D}),ze(jr,void 0),{ns:d,store:e,root:c,currentNode:p,dragState:k,el$:x,dropIndicator$:A,isEmpty:b,filter:L,getNodeKey:B,getNodePath:W,getCheckedNodes:H,getCheckedKeys:ee,getCurrentNode:G,getCurrentKey:w,setCheckedNodes:z,setCheckedKeys:Y,setChecked:de,getHalfCheckedNodes:T,getHalfCheckedKeys:I,setCurrentNode:P,setCurrentKey:se,t:i,getNode:ge,remove:Ee,append:ce,insertBefore:Se,insertAfter:qe,handleNodeExpand:_,updateKeyChildren:ye}}});function ca(s,o,i,d,e,c){const p=xe("el-tree-node");return K(),M("div",{ref:"el$",class:me([s.ns.b(),s.ns.is("dragging",!!s.dragState.draggingNode),s.ns.is("drop-not-allow",!s.dragState.allowDrop),s.ns.is("drop-inner",s.dragState.dropType==="inner"),{[s.ns.m("highlight-current")]:s.highlightCurrent}]),role:"tree"},[(K(!0),M(pe,null,$e(s.root.childNodes,x=>(K(),ie(p,{key:s.getNodeKey(x),node:x,props:s.props,accordion:s.accordion,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,"render-content":s.renderContent,onNodeExpand:s.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),s.isEmpty?(K(),M("div",{key:0,class:me(s.ns.e("empty-block"))},[gt(s.$slots,"empty",{},()=>{var x;return[U("span",{class:me(s.ns.e("empty-text"))},re((x=s.emptyText)!=null?x:s.t("el.tree.emptyText")),3)]})],2)):V("v-if",!0),ct(U("div",{ref:"dropIndicator$",class:me(s.ns.e("drop-indicator"))},null,2),[[lt,s.dragState.showDropIndicator]])],2)}var la=Ye(da,[["render",ca],["__file","tree.vue"]]);const fa=$t(la);var Qe={exports:{}};var ha=Qe.exports,Bt;function pa(){return Bt||(Bt=1,function(s,o){(function(i,d){s.exports=d()})(ha,function(){function i(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function d(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,a)}return r}function e(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?d(Object(r),!0).forEach(function(a){i(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function c(t,n){if(t==null)return{};var r,a,u=function(m,g){if(m==null)return{};var f,h,y={},E=Object.keys(m);for(h=0;h<E.length;h++)f=E[h],g.indexOf(f)>=0||(y[f]=m[f]);return y}(t,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(u[r]=t[r])}return u}function p(t,n){return function(r){if(Array.isArray(r))return r}(t)||function(r,a){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var u=[],l=!0,m=!1,g=void 0;try{for(var f,h=r[Symbol.iterator]();!(l=(f=h.next()).done)&&(u.push(f.value),!a||u.length!==a);l=!0);}catch(y){m=!0,g=y}finally{try{l||h.return==null||h.return()}finally{if(m)throw g}}return u}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(t){return function(n){if(Array.isArray(n)){for(var r=0,a=new Array(n.length);r<n.length;r++)a[r]=n[r];return a}}(t)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(t){var n,r="algoliasearch-client-js-".concat(t.key),a=function(){return n===void 0&&(n=t.localStorage||window.localStorage),n},u=function(){return JSON.parse(a().getItem(r)||"{}")},l=function(g){a().setItem(r,JSON.stringify(g))},m=function(){var g=t.timeToLive?1e3*t.timeToLive:null,f=u(),h=Object.fromEntries(Object.entries(f).filter(function(E){return p(E,2)[1].timestamp!==void 0}));if(l(h),g){var y=Object.fromEntries(Object.entries(h).filter(function(E){var O=p(E,2)[1],R=new Date().getTime();return!(O.timestamp+g<R)}));l(y)}};return{get:function(g,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){m();var y=JSON.stringify(g);return u()[y]}).then(function(y){return Promise.all([y?y.value:f(),y!==void 0])}).then(function(y){var E=p(y,2),O=E[0],R=E[1];return Promise.all([O,R||h.miss(O)])}).then(function(y){return p(y,1)[0]})},set:function(g,f){return Promise.resolve().then(function(){var h=u();return h[JSON.stringify(g)]={timestamp:new Date().getTime(),value:f},a().setItem(r,JSON.stringify(h)),f})},delete:function(g){return Promise.resolve().then(function(){var f=u();delete f[JSON.stringify(g)],a().setItem(r,JSON.stringify(f))})},clear:function(){return Promise.resolve().then(function(){a().removeItem(r)})}}}function v(t){var n=x(t.caches),r=n.shift();return r===void 0?{get:function(a,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},m=u();return m.then(function(g){return Promise.all([g,l.miss(g)])}).then(function(g){return p(g,1)[0]})},set:function(a,u){return Promise.resolve(u)},delete:function(a){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(a,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(a,u,l).catch(function(){return v({caches:n}).get(a,u,l)})},set:function(a,u){return r.set(a,u).catch(function(){return v({caches:n}).set(a,u)})},delete:function(a){return r.delete(a).catch(function(){return v({caches:n}).delete(a)})},clear:function(){return r.clear().catch(function(){return v({caches:n}).clear()})}}}function k(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},n={};return{get:function(r,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},l=JSON.stringify(r);if(l in n)return Promise.resolve(t.serializable?JSON.parse(n[l]):n[l]);var m=a(),g=u&&u.miss||function(){return Promise.resolve()};return m.then(function(f){return g(f)}).then(function(){return m})},set:function(r,a){return n[JSON.stringify(r)]=t.serializable?JSON.stringify(a):a,Promise.resolve(a)},delete:function(r){return delete n[JSON.stringify(r)],Promise.resolve()},clear:function(){return n={},Promise.resolve()}}}function D(t,n,r){var a={"x-algolia-api-key":r,"x-algolia-application-id":n};return{headers:function(){return t===W.WithinHeaders?a:{}},queryParameters:function(){return t===W.WithinQueryParameters?a:{}}}}function j(t){var n=0;return t(function r(){return n++,new Promise(function(a){setTimeout(function(){a(t(r))},Math.min(100*n,1e3))})})}function b(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,a){return Promise.resolve()};return Object.assign(t,{wait:function(r){return b(t.then(function(a){return Promise.all([n(a,r),a])}).then(function(a){return a[1]}))}})}function L(t){for(var n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=t[n];t[n]=t[r],t[r]=a}return t}function B(t,n){return n&&Object.keys(n).forEach(function(r){t[r]=n[r](t)}),t}function N(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var u=0;return t.replace(/%s/g,function(){return encodeURIComponent(r[u++])})}var W={WithinQueryParameters:0,WithinHeaders:1};function H(t,n){var r=t||{},a=r.data||{};return Object.keys(r).forEach(function(u){["timeout","headers","queryParameters","data","cacheable"].indexOf(u)===-1&&(a[u]=r[u])}),{data:Object.entries(a).length>0?a:void 0,timeout:r.timeout||n,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var ee={Read:1,Write:2,Any:3},G=1,w=2,z=3;function Y(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G;return e(e({},t),{},{status:n,lastUpdate:Date.now()})}function de(t){return typeof t=="string"?{protocol:"https",url:t,accept:ee.Any}:{protocol:t.protocol||"https",url:t.url,accept:t.accept||ee.Any}}var T="DELETE",I="GET",P="POST",se="PUT";function ge(t,n){return Promise.all(n.map(function(r){return t.get(r,function(){return Promise.resolve(Y(r))})})).then(function(r){var a=r.filter(function(m){return function(g){return g.status===G||Date.now()-g.lastUpdate>12e4}(m)}),u=r.filter(function(m){return function(g){return g.status===z&&Date.now()-g.lastUpdate<=12e4}(m)}),l=[].concat(x(a),x(u));return{getTimeout:function(m,g){return(u.length===0&&m===0?1:u.length+3+m)*g},statelessHosts:l.length>0?l.map(function(m){return de(m)}):n}})}function Ee(t,n,r,a){var u=[],l=function(O,R){if(!(O.method===I||O.data===void 0&&R.data===void 0)){var q=Array.isArray(O.data)?O.data:e(e({},O.data),R.data);return JSON.stringify(q)}}(r,a),m=function(O,R){var q=e(e({},O.headers),R.headers),$={};return Object.keys(q).forEach(function(J){var ae=q[J];$[J.toLowerCase()]=ae}),$}(t,a),g=r.method,f=r.method!==I?{}:e(e({},r.data),a.data),h=e(e(e({"x-algolia-agent":t.userAgent.value},t.queryParameters),f),a.queryParameters),y=0,E=function O(R,q){var $=R.pop();if($===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:ye(u)};var J={data:l,headers:m,method:g,url:qe($,r.path,h),connectTimeout:q(y,t.timeouts.connect),responseTimeout:q(y,a.timeout)},ae=function(ue){var oe={request:J,response:ue,host:$,triesLeft:R.length};return u.push(oe),oe},_e={onSuccess:function(ue){return function(oe){try{return JSON.parse(oe.content)}catch(we){throw function(be,Pe){return{name:"DeserializationError",message:be,response:Pe}}(we.message,oe)}}(ue)},onRetry:function(ue){var oe=ae(ue);return ue.isTimedOut&&y++,Promise.all([t.logger.info("Retryable failure",C(oe)),t.hostsCache.set($,Y($,ue.isTimedOut?z:w))]).then(function(){return O(R,q)})},onFail:function(ue){throw ae(ue),function(oe,we){var be=oe.content,Pe=oe.status,Re=be;try{Re=JSON.parse(be).message}catch{}return function(He,at,lr){return{name:"ApiError",message:He,status:at,transporterStackTrace:lr}}(Re,Pe,we)}(ue,ye(u))}};return t.requester.send(J).then(function(ue){return function(oe,we){return function(be){var Pe=be.status;return be.isTimedOut||function(Re){var He=Re.isTimedOut,at=Re.status;return!He&&~~at==0}(be)||~~(Pe/100)!=2&&~~(Pe/100)!=4}(oe)?we.onRetry(oe):~~(oe.status/100)==2?we.onSuccess(oe):we.onFail(oe)}(ue,_e)})};return ge(t.hostsCache,n).then(function(O){return E(x(O.statelessHosts).reverse(),O.getTimeout)})}function ce(t){var n=t.hostsCache,r=t.logger,a=t.requester,u=t.requestsCache,l=t.responsesCache,m=t.timeouts,g=t.userAgent,f=t.hosts,h=t.queryParameters,y={hostsCache:n,logger:r,requester:a,requestsCache:u,responsesCache:l,timeouts:m,userAgent:g,headers:t.headers,queryParameters:h,hosts:f.map(function(E){return de(E)}),read:function(E,O){var R=H(O,y.timeouts.read),q=function(){return Ee(y,y.hosts.filter(function(J){return(J.accept&ee.Read)!=0}),E,R)};if((R.cacheable!==void 0?R.cacheable:E.cacheable)!==!0)return q();var $={request:E,mappedRequestOptions:R,transporter:{queryParameters:y.queryParameters,headers:y.headers}};return y.responsesCache.get($,function(){return y.requestsCache.get($,function(){return y.requestsCache.set($,q()).then(function(J){return Promise.all([y.requestsCache.delete($),J])},function(J){return Promise.all([y.requestsCache.delete($),Promise.reject(J)])}).then(function(J){var ae=p(J,2);return ae[0],ae[1]})})},{miss:function(J){return y.responsesCache.set($,J)}})},write:function(E,O){return Ee(y,y.hosts.filter(function(R){return(R.accept&ee.Write)!=0}),E,H(O,y.timeouts.write))}};return y}function Se(t){var n={value:"Algolia for JavaScript (".concat(t,")"),add:function(r){var a="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return n.value.indexOf(a)===-1&&(n.value="".concat(n.value).concat(a)),n}};return n}function qe(t,n,r){var a=_(r),u="".concat(t.protocol,"://").concat(t.url,"/").concat(n.charAt(0)==="/"?n.substr(1):n);return a.length&&(u+="?".concat(a)),u}function _(t){return Object.keys(t).map(function(n){return N("%s=%s",n,(r=t[n],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(t[n]):t[n]));var r}).join("&")}function ye(t){return t.map(function(n){return C(n)})}function C(t){var n=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return e(e({},t),{},{request:e(e({},t.request),{},{headers:e(e({},t.request.headers),n)})})}var F=function(t){return function(n,r){return t.transporter.write({method:P,path:"2/abtests",data:n},r)}},ve=function(t){return function(n,r){return t.transporter.write({method:T,path:N("2/abtests/%s",n)},r)}},Ce=function(t){return function(n,r){return t.transporter.read({method:I,path:N("2/abtests/%s",n)},r)}},Wt=function(t){return function(n){return t.transporter.read({method:I,path:"2/abtests"},n)}},Gt=function(t){return function(n,r){return t.transporter.write({method:P,path:N("2/abtests/%s/stop",n)},r)}},Qt=function(t){return function(n){return t.transporter.read({method:I,path:"1/strategies/personalization"},n)}},Vt=function(t){return function(n,r){return t.transporter.write({method:P,path:"1/strategies/personalization",data:n},r)}};function Xe(t){return function n(r){return t.request(r).then(function(a){if(t.batch!==void 0&&t.batch(a.hits),!t.shouldStop(a))return a.cursor?n({cursor:a.cursor}):n({page:(r.page||0)+1})})}({})}var Yt=function(t){return function(n,r){var a=r||{},u=a.queryParameters,l=c(a,["queryParameters"]),m=e({acl:n},u!==void 0?{queryParameters:u}:{});return b(t.transporter.write({method:P,path:"1/keys",data:m},l),function(g,f){return j(function(h){return Ae(t)(g.key,f).catch(function(y){if(y.status!==404)throw y;return h()})})})}},Xt=function(t){return function(n,r,a){var u=H(a);return u.queryParameters["X-Algolia-User-ID"]=n,t.transporter.write({method:P,path:"1/clusters/mapping",data:{cluster:r}},u)}},Zt=function(t){return function(n,r,a){return t.transporter.write({method:P,path:"1/clusters/mapping/batch",data:{users:n,cluster:r}},a)}},en=function(t){return function(n,r){return b(t.transporter.write({method:P,path:N("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),function(a,u){return Ie(t)(a.taskID,u)})}},Ue=function(t){return function(n,r,a){return b(t.transporter.write({method:P,path:N("1/indexes/%s/operation",n),data:{operation:"copy",destination:r}},a),function(u,l){return Ke(t)(n,{methods:{waitTask:te}}).waitTask(u.taskID,l)})}},tn=function(t){return function(n,r,a){return Ue(t)(n,r,e(e({},a),{},{scope:[rt.Rules]}))}},nn=function(t){return function(n,r,a){return Ue(t)(n,r,e(e({},a),{},{scope:[rt.Settings]}))}},rn=function(t){return function(n,r,a){return Ue(t)(n,r,e(e({},a),{},{scope:[rt.Synonyms]}))}},an=function(t){return function(n,r){return n.method===I?t.transporter.read(n,r):t.transporter.write(n,r)}},on=function(t){return function(n,r){return b(t.transporter.write({method:T,path:N("1/keys/%s",n)},r),function(a,u){return j(function(l){return Ae(t)(n,u).then(l).catch(function(m){if(m.status!==404)throw m})})})}},sn=function(t){return function(n,r,a){var u=r.map(function(l){return{action:"deleteEntry",body:{objectID:l}}});return b(t.transporter.write({method:P,path:N("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(l,m){return Ie(t)(l.taskID,m)})}},Ae=function(t){return function(n,r){return t.transporter.read({method:I,path:N("1/keys/%s",n)},r)}},bt=function(t){return function(n,r){return t.transporter.read({method:I,path:N("1/task/%s",n.toString())},r)}},un=function(t){return function(n){return t.transporter.read({method:I,path:"/1/dictionaries/*/settings"},n)}},dn=function(t){return function(n){return t.transporter.read({method:I,path:"1/logs"},n)}},cn=function(t){return function(n){return t.transporter.read({method:I,path:"1/clusters/mapping/top"},n)}},ln=function(t){return function(n,r){return t.transporter.read({method:I,path:N("1/clusters/mapping/%s",n)},r)}},fn=function(t){return function(n){var r=n||{},a=r.retrieveMappings,u=c(r,["retrieveMappings"]);return a===!0&&(u.getClusters=!0),t.transporter.read({method:I,path:"1/clusters/mapping/pending"},u)}},Ke=function(t){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={transporter:t.transporter,appId:t.appId,indexName:n};return B(a,r.methods)}},hn=function(t){return function(n){return t.transporter.read({method:I,path:"1/keys"},n)}},pn=function(t){return function(n){return t.transporter.read({method:I,path:"1/clusters"},n)}},mn=function(t){return function(n){return t.transporter.read({method:I,path:"1/indexes"},n)}},gn=function(t){return function(n){return t.transporter.read({method:I,path:"1/clusters/mapping"},n)}},yn=function(t){return function(n,r,a){return b(t.transporter.write({method:P,path:N("1/indexes/%s/operation",n),data:{operation:"move",destination:r}},a),function(u,l){return Ke(t)(n,{methods:{waitTask:te}}).waitTask(u.taskID,l)})}},vn=function(t){return function(n,r){return b(t.transporter.write({method:P,path:"1/indexes/*/batch",data:{requests:n}},r),function(a,u){return Promise.all(Object.keys(a.taskID).map(function(l){return Ke(t)(l,{methods:{waitTask:te}}).waitTask(a.taskID[l],u)}))})}},bn=function(t){return function(n,r){return t.transporter.read({method:P,path:"1/indexes/*/objects",data:{requests:n}},r)}},kt=function(t){return function(n,r){var a=n.map(function(u){return e(e({},u),{},{params:_(u.params||{})})});return t.transporter.read({method:P,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},r)}},Nt=function(t){return function(n,r){return Promise.all(n.map(function(a){var u=a.params,l=u.facetName,m=u.facetQuery,g=c(u,["facetName","facetQuery"]);return Ke(t)(a.indexName,{methods:{searchForFacetValues:Pt}}).searchForFacetValues(l,m,e(e({},r),g))}))}},kn=function(t){return function(n,r){var a=H(r);return a.queryParameters["X-Algolia-User-ID"]=n,t.transporter.write({method:T,path:"1/clusters/mapping"},a)}},Nn=function(t){return function(n,r,a){var u=r.map(function(l){return{action:"addEntry",body:l}});return b(t.transporter.write({method:P,path:N("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:u}},a),function(l,m){return Ie(t)(l.taskID,m)})}},Cn=function(t){return function(n,r){return b(t.transporter.write({method:P,path:N("1/keys/%s/restore",n)},r),function(a,u){return j(function(l){return Ae(t)(n,u).catch(function(m){if(m.status!==404)throw m;return l()})})})}},wn=function(t){return function(n,r,a){var u=r.map(function(l){return{action:"addEntry",body:l}});return b(t.transporter.write({method:P,path:N("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(l,m){return Ie(t)(l.taskID,m)})}},xn=function(t){return function(n,r,a){return t.transporter.read({method:P,path:N("/1/dictionaries/%s/search",n),data:{query:r},cacheable:!0},a)}},Dn=function(t){return function(n,r){return t.transporter.read({method:P,path:"1/clusters/mapping/search",data:{query:n}},r)}},En=function(t){return function(n,r){return b(t.transporter.write({method:se,path:"/1/dictionaries/*/settings",data:n},r),function(a,u){return Ie(t)(a.taskID,u)})}},In=function(t){return function(n,r){var a=Object.assign({},r),u=r||{},l=u.queryParameters,m=c(u,["queryParameters"]),g=l?{queryParameters:l}:{},f=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return b(t.transporter.write({method:se,path:N("1/keys/%s",n),data:g},m),function(h,y){return j(function(E){return Ae(t)(n,y).then(function(O){return function(R){return Object.keys(a).filter(function(q){return f.indexOf(q)!==-1}).every(function(q){if(Array.isArray(R[q])&&Array.isArray(a[q])){var $=R[q];return $.length===a[q].length&&$.every(function(J,ae){return J===a[q][ae]})}return R[q]===a[q]})}(O)?Promise.resolve():E()})})})}},Ie=function(t){return function(n,r){return j(function(a){return bt(t)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},Ct=function(t){return function(n,r){return b(t.transporter.write({method:P,path:N("1/indexes/%s/batch",t.indexName),data:{requests:n}},r),function(a,u){return te(t)(a.taskID,u)})}},Pn=function(t){return function(n){return Xe(e(e({shouldStop:function(r){return r.cursor===void 0}},n),{},{request:function(r){return t.transporter.read({method:P,path:N("1/indexes/%s/browse",t.indexName),data:r},n)}}))}},On=function(t){return function(n){var r=e({hitsPerPage:1e3},n);return Xe(e(e({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return Ot(t)("",e(e({},r),a)).then(function(u){return e(e({},u),{},{hits:u.hits.map(function(l){return delete l._highlightResult,l})})})}}))}},Tn=function(t){return function(n){var r=e({hitsPerPage:1e3},n);return Xe(e(e({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return Tt(t)("",e(e({},r),a)).then(function(u){return e(e({},u),{},{hits:u.hits.map(function(l){return delete l._highlightResult,l})})})}}))}},Ze=function(t){return function(n,r,a){var u=a||{},l=u.batchSize,m=c(u,["batchSize"]),g={taskIDs:[],objectIDs:[]};return b(function f(){var h,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,E=[];for(h=y;h<n.length&&(E.push(n[h]),E.length!==(l||1e3));h++);return E.length===0?Promise.resolve(g):Ct(t)(E.map(function(O){return{action:r,body:O}}),m).then(function(O){return g.objectIDs=g.objectIDs.concat(O.objectIDs),g.taskIDs.push(O.taskID),h++,f(h)})}(),function(f,h){return Promise.all(f.taskIDs.map(function(y){return te(t)(y,h)}))})}},jn=function(t){return function(n){return b(t.transporter.write({method:P,path:N("1/indexes/%s/clear",t.indexName)},n),function(r,a){return te(t)(r.taskID,a)})}},Sn=function(t){return function(n){var r=n||{},a=r.forwardToReplicas,u=H(c(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:P,path:N("1/indexes/%s/rules/clear",t.indexName)},u),function(l,m){return te(t)(l.taskID,m)})}},qn=function(t){return function(n){var r=n||{},a=r.forwardToReplicas,u=H(c(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:P,path:N("1/indexes/%s/synonyms/clear",t.indexName)},u),function(l,m){return te(t)(l.taskID,m)})}},An=function(t){return function(n,r){return b(t.transporter.write({method:P,path:N("1/indexes/%s/deleteByQuery",t.indexName),data:n},r),function(a,u){return te(t)(a.taskID,u)})}},wt=function(t){return function(n){return b(t.transporter.write({method:T,path:N("1/indexes/%s",t.indexName)},n),function(r,a){return te(t)(r.taskID,a)})}},Kn=function(t){return function(n,r){return b(xt(t)([n],r).then(function(a){return{taskID:a.taskIDs[0]}}),function(a,u){return te(t)(a.taskID,u)})}},xt=function(t){return function(n,r){var a=n.map(function(u){return{objectID:u}});return Ze(t)(a,le.DeleteObject,r)}},_n=function(t){return function(n,r){var a=r||{},u=a.forwardToReplicas,l=H(c(a,["forwardToReplicas"]));return u&&(l.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:T,path:N("1/indexes/%s/rules/%s",t.indexName,n)},l),function(m,g){return te(t)(m.taskID,g)})}},Rn=function(t){return function(n,r){var a=r||{},u=a.forwardToReplicas,l=H(c(a,["forwardToReplicas"]));return u&&(l.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:T,path:N("1/indexes/%s/synonyms/%s",t.indexName,n)},l),function(m,g){return te(t)(m.taskID,g)})}},Bn=function(t){return function(n){return Dt(t)(n).then(function(){return!0}).catch(function(r){if(r.status!==404)throw r;return!1})}},Ln=function(t){return function(n,r,a){return t.transporter.read({method:P,path:N("1/answers/%s/prediction",t.indexName),data:{query:n,queryLanguages:r},cacheable:!0},a)}},$n=function(t){return function(n,r){var a=r||{},u=a.query,l=a.paginate,m=c(a,["query","paginate"]),g=0;return function f(){return It(t)(u||"",e(e({},m),{},{page:g})).then(function(h){for(var y=0,E=Object.entries(h.hits);y<E.length;y++){var O=p(E[y],2),R=O[0],q=O[1];if(n(q))return{object:q,position:parseInt(R,10),page:g}}if(g++,l===!1||g>=h.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return f()})}()}},Fn=function(t){return function(n,r){return t.transporter.read({method:I,path:N("1/indexes/%s/%s",t.indexName,n)},r)}},zn=function(){return function(t,n){for(var r=0,a=Object.entries(t.hits);r<a.length;r++){var u=p(a[r],2),l=u[0];if(u[1].objectID===n)return parseInt(l,10)}return-1}},Un=function(t){return function(n,r){var a=r||{},u=a.attributesToRetrieve,l=c(a,["attributesToRetrieve"]),m=n.map(function(g){return e({indexName:t.indexName,objectID:g},u?{attributesToRetrieve:u}:{})});return t.transporter.read({method:P,path:"1/indexes/*/objects",data:{requests:m}},l)}},Mn=function(t){return function(n,r){return t.transporter.read({method:I,path:N("1/indexes/%s/rules/%s",t.indexName,n)},r)}},Dt=function(t){return function(n){return t.transporter.read({method:I,path:N("1/indexes/%s/settings",t.indexName),data:{getVersion:2}},n)}},Hn=function(t){return function(n,r){return t.transporter.read({method:I,path:N("1/indexes/%s/synonyms/%s",t.indexName,n)},r)}},Jn=function(t){return function(n,r){return b(Et(t)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return te(t)(a.taskID,u)})}},Et=function(t){return function(n,r){var a=r||{},u=a.createIfNotExists,l=c(a,["createIfNotExists"]),m=u?le.PartialUpdateObject:le.PartialUpdateObjectNoCreate;return Ze(t)(n,m,l)}},Wn=function(t){return function(n,r){var a=r||{},u=a.safe,l=a.autoGenerateObjectIDIfNotExist,m=a.batchSize,g=c(a,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),f=function(q,$,J,ae){return b(t.transporter.write({method:P,path:N("1/indexes/%s/operation",q),data:{operation:J,destination:$}},ae),function(_e,ue){return te(t)(_e.taskID,ue)})},h=Math.random().toString(36).substring(7),y="".concat(t.indexName,"_tmp_").concat(h),E=et({appId:t.appId,transporter:t.transporter,indexName:y}),O=[],R=f(t.indexName,y,"copy",e(e({},g),{},{scope:["settings","synonyms","rules"]}));return O.push(R),b((u?R.wait(g):R).then(function(){var q=E(n,e(e({},g),{},{autoGenerateObjectIDIfNotExist:l,batchSize:m}));return O.push(q),u?q.wait(g):q}).then(function(){var q=f(y,t.indexName,"move",g);return O.push(q),u?q.wait(g):q}).then(function(){return Promise.all(O)}).then(function(q){var $=p(q,3),J=$[0],ae=$[1],_e=$[2];return{objectIDs:ae.objectIDs,taskIDs:[J.taskID].concat(x(ae.taskIDs),[_e.taskID])}}).catch(function(q){return wt({appId:t.appId,transporter:t.transporter,indexName:y})().catch(function(){}).then(function(){throw q})}),function(q,$){return Promise.all(O.map(function(J){return J.wait($)}))})}},Gn=function(t){return function(n,r){return tt(t)(n,e(e({},r),{},{clearExistingRules:!0}))}},Qn=function(t){return function(n,r){return nt(t)(n,e(e({},r),{},{clearExistingSynonyms:!0}))}},Vn=function(t){return function(n,r){return b(et(t)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return te(t)(a.taskID,u)})}},et=function(t){return function(n,r){var a=r||{},u=a.autoGenerateObjectIDIfNotExist,l=c(a,["autoGenerateObjectIDIfNotExist"]),m=u?le.AddObject:le.UpdateObject;if(m===le.UpdateObject){var g=!0,f=!1,h=void 0;try{for(var y,E=n[Symbol.iterator]();!(g=(y=E.next()).done);g=!0)if(y.value.objectID===void 0)return b(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(O){f=!0,h=O}finally{try{g||E.return==null||E.return()}finally{if(f)throw h}}}return Ze(t)(n,m,l)}},Yn=function(t){return function(n,r){return tt(t)([n],r)}},tt=function(t){return function(n,r){var a=r||{},u=a.forwardToReplicas,l=a.clearExistingRules,m=H(c(a,["forwardToReplicas","clearExistingRules"]));return u&&(m.queryParameters.forwardToReplicas=1),l&&(m.queryParameters.clearExistingRules=1),b(t.transporter.write({method:P,path:N("1/indexes/%s/rules/batch",t.indexName),data:n},m),function(g,f){return te(t)(g.taskID,f)})}},Xn=function(t){return function(n,r){return nt(t)([n],r)}},nt=function(t){return function(n,r){var a=r||{},u=a.forwardToReplicas,l=a.clearExistingSynonyms,m=a.replaceExistingSynonyms,g=H(c(a,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return u&&(g.queryParameters.forwardToReplicas=1),(m||l)&&(g.queryParameters.replaceExistingSynonyms=1),b(t.transporter.write({method:P,path:N("1/indexes/%s/synonyms/batch",t.indexName),data:n},g),function(f,h){return te(t)(f.taskID,h)})}},It=function(t){return function(n,r){return t.transporter.read({method:P,path:N("1/indexes/%s/query",t.indexName),data:{query:n},cacheable:!0},r)}},Pt=function(t){return function(n,r,a){return t.transporter.read({method:P,path:N("1/indexes/%s/facets/%s/query",t.indexName,n),data:{facetQuery:r},cacheable:!0},a)}},Ot=function(t){return function(n,r){return t.transporter.read({method:P,path:N("1/indexes/%s/rules/search",t.indexName),data:{query:n}},r)}},Tt=function(t){return function(n,r){return t.transporter.read({method:P,path:N("1/indexes/%s/synonyms/search",t.indexName),data:{query:n}},r)}},Zn=function(t){return function(n,r){var a=r||{},u=a.forwardToReplicas,l=H(c(a,["forwardToReplicas"]));return u&&(l.queryParameters.forwardToReplicas=1),b(t.transporter.write({method:se,path:N("1/indexes/%s/settings",t.indexName),data:n},l),function(m,g){return te(t)(m.taskID,g)})}},te=function(t){return function(n,r){return j(function(a){return function(u){return function(l,m){return u.transporter.read({method:I,path:N("1/indexes/%s/task/%s",u.indexName,l.toString())},m)}}(t)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},le={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject"},rt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},er=1,tr=2,nr=3,Me=function(t){return function(n,r){var a=n.map(function(u){return e(e({},u),{},{threshold:u.threshold||0})});return t.transporter.read({method:P,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},rr=function(t){return function(n,r){return Me(t)(n.map(function(a){return e(e({},a),{},{fallbackParameters:{},model:"bought-together"})}),r)}},ar=function(t){return function(n,r){return Me(t)(n.map(function(a){return e(e({},a),{},{model:"related-products"})}),r)}},or=function(t){return function(n,r){var a=n.map(function(u){return e(e({},u),{},{model:"trending-facets",threshold:u.threshold||0})});return t.transporter.read({method:P,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},sr=function(t){return function(n,r){var a=n.map(function(u){return e(e({},u),{},{model:"trending-items",threshold:u.threshold||0})});return t.transporter.read({method:P,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},ir=function(t){return function(n,r){return Me(t)(n.map(function(a){return e(e({},a),{},{model:"looking-similar"})}),r)}},ur=function(t){return function(n,r){var a=n.map(function(u){return e(e({},u),{},{model:"recommended-for-you",threshold:u.threshold||0})});return t.transporter.read({method:P,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}};function dr(t,n){return function(r,a){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=a||{},l=u.autoGenerateObjectIDIfNotExist,m=u.watch,g=c(u,["autoGenerateObjectIDIfNotExist","watch"]),f=l?le.AddObject:le.UpdateObject;return n.push({indexName:t,pushTaskPayload:{action:f,records:r},watch:m},g)}}function cr(t,n){return function(r,a){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=a||{},l=u.createIfNotExists,m=u.watch,g=c(u,["createIfNotExists","watch"]),f=l?le.PartialUpdateObject:le.PartialUpdateObjectNoCreate;return n.push({indexName:t,pushTaskPayload:{action:f,records:r},watch:m},g)}}function he(t){return{name:"TransformationConfigurationError",message:t}}function jt(t,n,r){var a,u,l={appId:t,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(f){return new Promise(function(h){var y=new XMLHttpRequest;y.open(f.method,f.url,!0),Object.keys(f.headers).forEach(function(q){return y.setRequestHeader(q,f.headers[q])});var E,O=function(q,$){return setTimeout(function(){y.abort(),h({status:0,content:$,isTimedOut:!0})},1e3*q)},R=O(f.connectTimeout,"Connection timeout");y.onreadystatechange=function(){y.readyState>y.OPENED&&E===void 0&&(clearTimeout(R),E=O(f.responseTimeout,"Socket timeout"))},y.onerror=function(){y.status===0&&(clearTimeout(R),clearTimeout(E),h({content:y.responseText||"Network request failed",status:y.status,isTimedOut:!1}))},y.onload=function(){clearTimeout(R),clearTimeout(E),h({content:y.responseText,status:y.status,isTimedOut:!1})},y.send(f.data)})}},logger:(a=nr,{debug:function(f,h){return er>=a&&console.debug(f,h),Promise.resolve()},info:function(f,h){return tr>=a&&console.info(f,h),Promise.resolve()},error:function(f,h){return console.error(f,h),Promise.resolve()}}),responsesCache:k(),requestsCache:k({serializable:!1}),hostsCache:v({caches:[A({key:"".concat("4.25.3","-").concat(t)}),k()]}),userAgent:Se("4.25.3").add({segment:"Browser"})},m=e(e({},l),r),g=function(){return function(f){return function(h){var y=h.region||"us",E=D(W.WithinHeaders,h.appId,h.apiKey),O=ce(e(e({hosts:[{url:"personalization.".concat(y,".algolia.com")}]},h),{},{headers:e(e(e({},E.headers()),{"content-type":"application/json"}),h.headers),queryParameters:e(e({},E.queryParameters()),h.queryParameters)}));return B({appId:h.appId,transporter:O},h.methods)}(e(e(e({},l),f),{},{methods:{getPersonalizationStrategy:Qt,setPersonalizationStrategy:Vt}}))}};if(r&&r.transformation){if(!r.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");u=function(f){if(!f||!f.transformation||!f.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");if(f.transformation.region!=="eu"&&f.transformation.region!=="us")throw he("`region` is required and must be one of the following: eu, us");var h=f.appId,y=D(W.WithinHeaders,h,f.apiKey),E=ce(e(e({hosts:[{url:"data.".concat(f.transformation.region,".algolia.com"),accept:ee.ReadWrite,protocol:"https"}]},f),{},{headers:e(e(e({},y.headers()),{"content-type":"text/plain"}),f.headers),queryParameters:e(e({},y.queryParameters()),f.queryParameters)}));return{transporter:E,appId:h,addAlgoliaAgent:function(O,R){E.userAgent.add({segment:O,version:R}),E.userAgent.add({segment:"Ingestion",version:R}),E.userAgent.add({segment:"Ingestion via Algoliasearch"})},clearCache:function(){return Promise.all([E.requestsCache.clear(),E.responsesCache.clear()]).then(function(){})},push:function(O,R){var q=O.indexName,$=O.pushTaskPayload,J=O.watch;if(!q)throw he("Parameter `indexName` is required when calling `push`.");if(!$)throw he("Parameter `pushTaskPayload` is required when calling `push`.");if(!$.action)throw he("Parameter `pushTaskPayload.action` is required when calling `push`.");if(!$.records)throw he("Parameter `pushTaskPayload.records` is required when calling `push`.");var ae=R||{queryParameters:{}};return E.write({method:P,path:N("1/push/%s",q),data:$},e(e({},ae),{},{queryParameters:e(e({},ae.queryParameters),{},{watch:J!==void 0})}))}}}(e(e({},r),l))}return function(f){var h=f.appId,y=D(f.authMode!==void 0?f.authMode:W.WithinHeaders,h,f.apiKey),E=ce(e(e({hosts:[{url:"".concat(h,"-dsn.algolia.net"),accept:ee.Read},{url:"".concat(h,".algolia.net"),accept:ee.Write}].concat(L([{url:"".concat(h,"-1.algolianet.com")},{url:"".concat(h,"-2.algolianet.com")},{url:"".concat(h,"-3.algolianet.com")}]))},f),{},{headers:e(e(e({},y.headers()),{"content-type":"application/x-www-form-urlencoded"}),f.headers),queryParameters:e(e({},y.queryParameters()),f.queryParameters)}));return B({transporter:E,appId:h,addAlgoliaAgent:function(O,R){E.userAgent.add({segment:O,version:R})},clearCache:function(){return Promise.all([E.requestsCache.clear(),E.responsesCache.clear()]).then(function(){})}},f.methods)}(e(e({},m),{},{methods:{search:kt,searchForFacetValues:Nt,multipleBatch:vn,multipleGetObjects:bn,multipleQueries:kt,copyIndex:Ue,copySettings:nn,copySynonyms:rn,copyRules:tn,moveIndex:yn,listIndices:mn,getLogs:dn,listClusters:pn,multipleSearchForFacetValues:Nt,getApiKey:Ae,addApiKey:Yt,listApiKeys:hn,updateApiKey:In,deleteApiKey:on,restoreApiKey:Cn,assignUserID:Xt,assignUserIDs:Zt,getUserID:ln,searchUserIDs:Dn,listUserIDs:gn,getTopUserIDs:cn,removeUserID:kn,hasPendingMappings:fn,clearDictionaryEntries:en,deleteDictionaryEntries:sn,getDictionarySettings:un,getAppTask:bt,replaceDictionaryEntries:Nn,saveDictionaryEntries:wn,searchDictionaryEntries:xn,setDictionarySettings:En,waitAppTask:Ie,customRequest:an,initIndex:function(f){return function(h){return e(e({},Ke(f)(h,{methods:{batch:Ct,delete:wt,findAnswers:Ln,getObject:Fn,getObjects:Un,saveObject:Vn,saveObjects:et,search:It,searchForFacetValues:Pt,waitTask:te,setSettings:Zn,getSettings:Dt,partialUpdateObject:Jn,partialUpdateObjects:Et,deleteObject:Kn,deleteObjects:xt,deleteBy:An,clearObjects:jn,browseObjects:Pn,getObjectPosition:zn,findObject:$n,exists:Bn,saveSynonym:Xn,saveSynonyms:nt,getSynonym:Hn,searchSynonyms:Tt,browseSynonyms:Tn,deleteSynonym:Rn,clearSynonyms:qn,replaceAllObjects:Wn,replaceAllSynonyms:Qn,searchRules:Ot,getRule:Mn,deleteRule:_n,saveRule:Yn,saveRules:tt,replaceAllRules:Gn,browseRules:On,clearRules:Sn}})),{},{saveObjectsWithTransformation:dr(h,u),partialUpdateObjectsWithTransformation:cr(h,u)})}},initAnalytics:function(){return function(f){return function(h){var y=h.region||"us",E=D(W.WithinHeaders,h.appId,h.apiKey),O=ce(e(e({hosts:[{url:"analytics.".concat(y,".algolia.com")}]},h),{},{headers:e(e(e({},E.headers()),{"content-type":"application/json"}),h.headers),queryParameters:e(e({},E.queryParameters()),h.queryParameters)}));return B({appId:h.appId,transporter:O},h.methods)}(e(e(e({},l),f),{},{methods:{addABTest:F,getABTest:Ce,getABTests:Wt,stopABTest:Gt,deleteABTest:ve}}))}},initPersonalization:g,initRecommendation:function(){return function(f){return m.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),g()(f)}},getRecommendations:Me,getFrequentlyBoughtTogether:rr,getLookingSimilar:ir,getRecommendedForYou:ur,getRelatedProducts:ar,getTrendingFacets:or,getTrendingItems:sr}}))}return jt.version="4.25.3",jt})}(Qe)),Qe.exports}var ma=pa();const ga=Sr(ma),ya=ga("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),Jt=ya.initIndex("npm-search"),va=async(s,o=0,i=10)=>{try{const d=Ca(s);if(!d)return{response:null,query:s};const e={page:o,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:d.facetFilters?d.facetFilters:void 0},c=await Jt.search(d.query,e);return c.hits.sort((p,x)=>p.name===d.query?-1:x.name===d.query?1:0),{response:c,query:s}}catch{return{response:null,query:s}}};async function ba(s){return Jt.getObject(s)}const ka=/\s*[a-z]+\s*:\s*(?:.(?![a-z]*\s*:))*/gi,Na=/^((?:[^\s:]+(?!\s*:)\s*)*)/,Lt={author:"owner.name",type:"moduleTypes"};function Ca(s){const o=s.match(Na)?.[0].trim();if(o==null)return;const i=s,d=[];let e;for(;(e=ka.exec(i))!==null;){const c=e[0].split(":");Lt[c[0].trim()]&&d.push(`${Lt[c[0].trim()]}:${c[1].trim()}`)}return{query:o,facetFilters:d.join(",")}}const wa={key:0},xa={class:"result-list"},Da={class:"pkgName"},Ea={class:"meta"},Ia=["onClick"],Pa=["src","alt"],Oa=["title"],Ta={key:0,class:"description"},ja={key:1,flex:"","gap-2":""},Sa={key:0},qa={key:1},Aa={key:2},Ka={key:3},_a={key:4},Ra={key:5},Ba={key:7},La={key:8},$a={key:9},Fa={key:0,flex:"","items-center":""},za={key:1,flex:"","items-center":""},Ua=10,Ma=Te({__name:"cdnQuery",setup(s){let o=null;const i=X(!1),d=X(""),e=X(""),c=X(0),p=X([]),x=X(0),A=X(""),v=X(),k=X(""),D=X([]),j=X(),b=X([]),L=ft(()=>b.value&&b.value.length?ee(b.value):[]);async function B(G=0){if(!d.value){i.value=!1,v.value=null,k.value="",D.value=[],p.value=[],c.value=0,x.value=0,e.value="";return}o&&clearTimeout(o),o=window.setTimeout(async()=>{i.value=!0;const{response:w,query:z}=await va(d.value,G,Ua);if(z===d.value){if(w){const{hits:Y,page:de,nbHits:T}=w;p.value=Y,x.value=T,c.value=de,e.value="done"}else Kr.warning("");i.value=!1}},200)}function N(G){d.value=`author:${G}`,B(0)}async function W(G){A.value=G,v.value=null,k.value="",D.value=[],j.value=null,b.value=[];try{v.value=await ba(G),k.value=v.value.version??"",await H()}catch(w){console.error(w.message)}}async function H(){try{D.value=[],j.value=null,b.value=[],D.value=(await Kt.get(`https://data.jsdelivr.com/v1/package/npm/${v.value?.name??""}`)).data.versions.map(z=>({label:z,value:z}));const{default:G,files:w}=(await Kt.get(`https://data.jsdelivr.com/v1/package/npm/${v.value?.name??""}@${k.value}`)).data;j.value=G,b.value=w}catch(G){console.error(G.message)}}function ee(G,w){return G.map(z=>{const Y=w?`${w}/${z.name}`:`/${z.name}`;return{label:z.name,icon:z.type==="directory"?"Folder":"",isLeaf:z.type!=="directory",fileName:Y,children:z.type==="directory"&&z.files?ee(z.files,Y):void 0}})}return(G,w)=>{const z=Ur,Y=Mr,de=Hr,T=qr,I=zr,P=Gr,se=Fr,ge=$r,Ee=Lr,ce=Wr,Se=Jr,qe=fa;return K(),M(pe,null,[Z(Y,null,{default:Q(()=>[U("blockquote",null,[U("ul",null,[U("li",null,[w[6]||(w[6]=ne(" : ",-1)),Z(z,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:Q(()=>[...w[5]||(w[5]=[ne(" JSDelivr ",-1)])]),_:1})]),U("li",null,[w[8]||(w[8]=ne(" : ",-1)),Z(z,{href:"https://www.algolia.com/",target:"_blank"},{default:Q(()=>[...w[7]||(w[7]=[ne(" Algolia ",-1)])]),_:1})])])])]),_:1}),Z(de,{level:3},{default:Q(()=>[...w[9]||(w[9]=[ne(" CDN ",-1)])]),_:1}),Z(T,{modelValue:S(d),"onUpdate:modelValue":w[0]||(w[0]=_=>At(d)?d.value=_:null),placeholder:"jquery",clearable:"",onChange:w[1]||(w[1]=_=>B(0))},null,8,["modelValue"]),(K(),ie(Ar,null,[S(e)==="done"?(K(),M(pe,{key:0},[Z(I),S(A)?(K(),M(pe,{key:1},[Z(z,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:w[3]||(w[3]=_=>A.value=null)},{default:Q(()=>[...w[12]||(w[12]=[U("span",{class:"i-icon-park-outline-return"},null,-1),ne("  ",-1)])]),_:1}),S(v)?(K(),ie(Se,{key:0,class:"metaDetail"},{default:Q(()=>[U("ul",null,[S(v).name?(K(),M("li",Sa,[w[13]||(w[13]=U("b",null,": ",-1)),ne(re(S(v).name),1)])):V("",!0),S(v).homepage?(K(),M("li",qa,[w[14]||(w[14]=U("b",null,": ",-1)),Z(z,{href:S(v).homepage,target:"_blank"},{default:Q(()=>[ne(re(S(v).homepage),1)]),_:1},8,["href"])])):V("",!0),S(v).description?(K(),M("li",Aa,[w[15]||(w[15]=U("b",null,": ",-1)),ne(re(S(v).description),1)])):V("",!0),S(v).repository?(K(),M("li",Ka,[w[16]||(w[16]=U("b",null,": ",-1)),ne(re(S(v).repository.type)+" / ",1),Z(z,{href:S(v).repository.url,target:"_blank"},{default:Q(()=>[ne(re(S(v).repository.url),1)]),_:1},8,["href"])])):V("",!0),S(v).license?(K(),M("li",_a,[w[17]||(w[17]=U("b",null,": ",-1)),ne(re(S(v).license),1)])):V("",!0),S(v).owner?(K(),M("li",Ra,[w[18]||(w[18]=U("b",null,": ",-1)),ne(re(S(v).owner.name)+" / ",1),Z(z,{href:S(v).owner.link,target:"_blank"},{default:Q(()=>[ne(re(S(v).owner.link),1)]),_:1},8,["href"])])):V("",!0),S(D).length?(K(),ie(I,{key:6})):V("",!0),S(D).length?(K(),M("li",Ba,[w[19]||(w[19]=U("b",null,": ",-1)),Z(Ee,{modelValue:S(k),"onUpdate:modelValue":w[4]||(w[4]=_=>At(k)?k.value=_:null),options:S(D),onChange:H},{default:Q(()=>[(K(!0),M(pe,null,$e(S(D),_=>(K(),ie(ge,{key:_.value,value:_.value,label:_.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):V("",!0),S(j)?(K(),M("li",La,[w[20]||(w[20]=U("b",null,": ",-1)),Z(ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(v).name}@${S(k)}${S(j)}`}},{default:Q(()=>[Z(z,{href:`https://cdn.jsdelivr.net/npm/${S(v).name}@${S(k)}${S(j)}`,target:"_blank"},{default:Q(()=>[ne(re(S(j)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):V("",!0),S(b)&&S(b).length?(K(),M("li",$a,[...w[21]||(w[21]=[U("b",null,"",-1),U("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)])])):V("",!0)])]),_:1})):V("",!0),S(v)&&S(b)&&S(b).length?(K(),ie(qe,{key:1,data:S(L),selectable:!1},{default:Q(({data:_})=>[_.isLeaf?(K(),M("div",Fa,[w[22]||(w[22]=U("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),Z(ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(v).name}@${S(k)}${_.fileName}`}},{default:Q(()=>[ne(re(_.label),1)]),_:2},1032,["copyable"])])):(K(),M("div",za,[w[23]||(w[23]=U("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),Z(ce,null,{default:Q(()=>[ne(re(_.label),1)]),_:2},1024)]))]),_:1},8,["data"])):V("",!0)],64)):(K(),M(pe,{key:0},[Z(de,{level:4},{default:Q(()=>[U("span",null," "+re(S(x))+" ",1),S(x)>1e3?(K(),M("span",wa," 1000 ")):V("",!0)]),_:1}),U("div",xa,[(K(!0),M(pe,null,$e(S(p),_=>(K(),M("div",{key:_.objectID,class:"result-list-item"},[U("div",Da,[Z(de,{level:4,onClick:ye=>W(_.objectID)},{default:Q(()=>[ne(re(_.name),1)]),_:2},1032,["onClick"])]),U("div",Ea,[_.owner?(K(),M("div",{key:0,class:"owner",onClick:ye=>N(_.owner.name)},[U("img",{src:_.owner.avatar,alt:_.owner.name},null,8,Pa),U("div",null,re(_.owner.name),1)],8,Ia)):V("",!0),_.version?(K(),ie(P,{key:1,effect:"plain"},{default:Q(()=>[w[10]||(w[10]=U("span",{class:"i-icon-park-outline-tag-one"},null,-1)),U("span",{title:_.version},re(_.version),9,Oa)]),_:2},1024)):V("",!0),_.license?(K(),ie(P,{key:2,effect:"plain"},{default:Q(()=>[w[11]||(w[11]=U("span",{class:"i-icon-park-outline-balance-two"},null,-1)),ne(re(_.license),1)]),_:2},1024)):V("",!0)]),_.description?(K(),M("div",Ta,re(_.description),1)):V("",!0),_.keywords&&_.keywords.length?(K(),M("div",ja,[(K(!0),M(pe,null,$e(_.keywords,(ye,C)=>(K(),ie(P,{key:C,effect:"plain"},{default:Q(()=>[ne(re(ye),1)]),_:2},1024))),128))])):V("",!0)]))),128))]),Z(se,{layout:"prev,jumper,next",total:S(x)>1e3?1e3:S(x),"hide-on-single-page":!0,onCurrentChange:w[2]||(w[2]=_=>B(_-1))},null,8,["total"])],64))],64)):V("",!0)],1024))],64)}}}),lo=_r(Ma,[["__scopeId","data-v-ead9b880"]]);export{lo as default};
