import{j as b,aw as x,J as T,k as N,m as l,r as j,aD as I,H as V,P as M,av as P,bl as G,Q as H,V as $,o as g,F as C,l as w,w as t,L as o,I as F,K as e,G as E,X as J,N as q,a2 as K}from"./index-B64UzQ7O.js";import{E as L}from"./el-checkbox-DY96hLlt.js";import{E as Q,a as X}from"./el-radio-group-ChWmdaMp.js";/* empty css                 */import{E as z}from"./el-divider-BgDs0RYf.js";import{E as W}from"./el-space-C8juaj_X.js";import{E as Y}from"./el-popover-DATSWt0l.js";import"./el-popper-BdJY1EqL.js";import{u as Z,T as ee}from"./Router-C0aDl8pN.js";import"./index-chG_rj5Z.js";import"./isUndefined-DCTLXrZ8.js";const te=b({inheritAttrs:!1,__name:"HaveAccess",props:{auth:{type:[Boolean,Object],default:!1},link:{default:""}},setup(u){const a=u,p=x(),k=Z(),d=T(),m=N(()=>a.auth?typeof a.auth=="boolean"?p.logged:p.checkAccess(a.auth):a.link?p.checkAccess(k.getAuth(a.link)):!0);function n(){a.link&&d.push(a.link)}return(_,y)=>l(m)?j(_.$slots,"default",I({key:0},_.$attrs,{goto:n})):V("",!0)}}),oe=M("main",{persist:!0,state:()=>({_cache:{},clearOfflineCacheTag:!1}),getters:{getData:u=>a=>{if(a)return(u._cache||{})[a]}},actions:{setData({key:u,val:a}={}){u&&(this._cache=this._cache||{},this._cache[u]=a)},clear(){this._cache={}},clearOfflineCache(){console.log("clearOfflineCache"),this.clearOfflineCacheTag=!0}}}),le={key:1,flex:"","items-center":"","gap-4":""},ae={flex:"","flex-wrap":"","items-start":"","gap-4":"","text-7":"",class:"settings-container"},ne={class:"settings-wrapper"},se={key:0,class:"settings-wrapper"},re=b({__name:"settings",setup(u){const a=T(),p=P(),k=G(),d=x(),m=H(),n=N(()=>m.general),_=()=>oe().clearOfflineCache();function y(){a.push({path:"/login",query:{redirect:p.fullPath}})}function O(){a.push("/register")}function A(){a.push("/logout")}return(ue,r)=>{const i=ee,c=q,U=$("router-link"),B=te,S=Y,h=W,R=z,v=Q,D=X,f=L;return g(),C(J,null,[l(d).logged?(g(),w(i,{key:0,level:3},{default:t(()=>[o(F(l(d).profile.nickName)+" 欢迎你~ ",1)]),_:1})):V("",!0),l(d).logged?(g(),C("div",le,[e(c,{type:"primary",onClick:A},{default:t(()=>[o(" 登出 ")]),_:1}),e(U,{to:"/personalCenter"},{default:t(()=>[e(c,null,{default:t(()=>[o(" 个人中心 ")]),_:1})]),_:1}),e(B,{link:"/userManager"},{default:t(({goto:s})=>[e(c,{onClick:s},{default:t(()=>[o(" 用户权限中心 ")]),_:2},1032,["onClick"])]),_:1}),e(S,{title:"您是否确定要清空本地缓存？","confirm-button-text":"清空",onConfirm:_},{reference:t(()=>[e(c,{type:"danger",plain:""},{default:t(()=>[o(" 清空本地缓存 ")]),_:1})]),_:1})])):(g(),w(h,{key:2,"mt-4":""},{default:t(()=>[e(c,{type:"primary",onClick:y},{default:t(()=>[o(" 登录 ")]),_:1}),e(c,{onClick:O},{default:t(()=>[o(" 注册 ")]),_:1}),e(S,{title:"您是否确定要清空本地缓存？","confirm-button-text":"清空",onConfirm:_},{reference:t(()=>[e(c,{type:"danger",plain:""},{default:t(()=>[o(" 清空本地缓存 ")]),_:1})]),_:1})]),_:1})),e(R),E("div",ae,[E("div",ne,[e(i,{level:4},{default:t(()=>[o(" 全局设置 ")]),_:1}),e(i,{level:5},{default:t(()=>[o(" 外观 ")]),_:1}),e(h,null,{default:t(()=>[e(D,{"model-value":l(n).theme.mode,onChange:l(k).setTheme},{default:t(()=>[e(v,{value:"auto",label:"跟随系统"}),e(v,{value:"light",label:"浅色"}),e(v,{value:"dark",label:"深色"})]),_:1},8,["model-value","onChange"])]),_:1}),e(i,{level:5},{default:t(()=>[o(" 访问统计 ")]),_:1}),e(h,null,{default:t(()=>[e(f,{modelValue:l(n).showMost,"onUpdate:modelValue":r[0]||(r[0]=s=>l(n).showMost=s)},{default:t(()=>[o(" 最常访问 ")]),_:1},8,["modelValue"]),e(f,{modelValue:l(n).showRecent,"onUpdate:modelValue":r[1]||(r[1]=s=>l(n).showRecent=s)},{default:t(()=>[o(" 最近访问 ")]),_:1},8,["modelValue"])]),_:1}),e(i,{level:5},{default:t(()=>[o(" 其他设置 ")]),_:1}),e(h,null,{default:t(()=>[e(f,{modelValue:l(n).showSearch,"onUpdate:modelValue":r[2]||(r[2]=s=>l(n).showSearch=s)},{default:t(()=>[o(" 显示搜索 ")]),_:1},8,["modelValue"]),e(f,{modelValue:l(n).showType,"onUpdate:modelValue":r[3]||(r[3]=s=>l(n).showType=s)},{default:t(()=>[o(" 显示分类 ")]),_:1},8,["modelValue"]),e(f,{modelValue:l(n).openInNewTab,"onUpdate:modelValue":r[4]||(r[4]=s=>l(n).openInNewTab=s)},{default:t(()=>[o(" 新标签页打开工具 ")]),_:1},8,["modelValue"])]),_:1})]),l(d).logged?(g(),C("div",se,[e(i,{level:4},{default:t(()=>[o(" 应用设置 ")]),_:1}),e(i,{level:5},{default:t(()=>[o(" JSON 编辑器 ")]),_:1}),e(h,null,{default:t(()=>[e(f,{modelValue:l(m).modules.jsonEditor.syncCloud,"onUpdate:modelValue":r[5]||(r[5]=s=>l(m).modules.jsonEditor.syncCloud=s)},{default:t(()=>[o(" 从云端获取 ")]),_:1},8,["modelValue"])]),_:1})])):V("",!0)])],64)}}}),Ce=K(re,[["__scopeId","data-v-328055a3"]]);export{Ce as default};
