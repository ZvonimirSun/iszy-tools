import{E as x,H as Y,t,m as Z,n as ee,o as te,a7 as ae,p as oe,q as Q,r as re,j as K,u as ne,h as M,v as se,w as le,x as ie,y as ce,z as de,A as ge,B as me,k as X,K as pe,M as fe,N as ue,a8 as he,O as ke,P as be,Q as ye,J as T,I as Ne,C as P,a9 as we,aa as Ce}from"./index-Cqq15VW-.js";import{k as ve,R as xe,by as I,T as Me,a6 as Be,a7 as Se,E as Oe,r as _e,a0 as Ke}from"./index-DdH6q6SV.js";const De="#e5c07b",$="#e06c75",Ee="#56b6c2",Ie="#ffffff",_="#abb2bf",H="#7d8799",Ae="#61afef",Le="#98c379",j="#d19a66",Te="#c678dd",He="#21252b",q="#2c313a",F="#282c34",A="#353a42",Re="#3E4451",U="#528bff",V=x.theme({"&":{color:_,backgroundColor:F},".cm-content":{caretColor:U},".cm-cursor, .cm-dropCursor":{borderLeftColor:U},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Re},".cm-panels":{backgroundColor:He,color:_},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:F,color:H,border:"none"},".cm-activeLineGutter":{backgroundColor:q},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:A},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:A,borderBottomColor:A},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:q,color:_}}},{dark:!0}),W=Y.define([{tag:t.keyword,color:Te},{tag:[t.name,t.deleted,t.character,t.propertyName,t.macroName],color:$},{tag:[t.function(t.variableName),t.labelName],color:Ae},{tag:[t.color,t.constant(t.name),t.standard(t.name)],color:j},{tag:[t.definition(t.name),t.separator],color:_},{tag:[t.typeName,t.className,t.number,t.changed,t.annotation,t.modifier,t.self,t.namespace],color:De},{tag:[t.operator,t.operatorKeyword,t.url,t.escape,t.regexp,t.link,t.special(t.string)],color:Ee},{tag:[t.meta,t.comment],color:H},{tag:t.strong,fontWeight:"bold"},{tag:t.emphasis,fontStyle:"italic"},{tag:t.strikethrough,textDecoration:"line-through"},{tag:t.link,color:H,textDecoration:"underline"},{tag:t.heading,fontWeight:"bold",color:$},{tag:[t.atom,t.bool,t.special(t.variableName)],color:j},{tag:[t.processingInstruction,t.string,t.inserted],color:Le},{tag:t.invalid,color:Ie}]),Ge=[Z(),ee(),te(),ae(),oe(),Q(),re(),K.allowMultipleSelections.of(!0),ne(),M(T,{fallback:!0}),se(),le(),ie(),ce(),de(),ge(),me(),X.of([...pe,...fe,...ue,...he,...ke,...be,...ye])],Pe={"Control character":"控制字符","Selection deleted":"删除所选内容","Folded lines":"折叠行","Unfolded lines":"展开行",to:"至","folded code":"折叠的代码",unfold:"展开","Fold line":"折叠行","Unfold line":"展开行","Go to line":"跳转至行",go:"确定",Find:"查找",Replace:"替换",next:"下一个",previous:"上一个",all:"全部","match case":"匹配大小写","by word":"按单词",replace:"替换","replace all":"全部替换",close:"关闭","current match":"当前匹配项","replaced $ matches":"替换了 $ 个匹配项","replaced match on line $":"替换了行 $ 的匹配项","on line":"在行",Completions:"自动完成",Diagnostics:"诊断","No diagnostics":"无诊断信息"},$e={extensions:[Ge,K.phrases.of(Pe),X.of([Ne]),Q()]},je=ve({__name:"EditorMini",props:{inputDefault:{default:""},plugin:{default:void 0},placeholder:{default:""},readonly:{type:Boolean,default:!1}},emits:["change"],setup(d,{expose:a,emit:o}){const n=d,s=o;a({getView:y,setInput:b});const i=xe();let l;const c=new P,p=new P,g=[$e.extensions,n.plugin?n.plugin.miniExtensions||n.plugin.extensions:[],x.updateListener.of(E),c.of(I().isDark?V:x.theme({},{dark:!1})),p.of(I().isDark?M(W,{fallback:!0}):M(T))];n.placeholder&&g.push(we(n.placeholder)),n.readonly&&g.push(K.readOnly.of(!0)),Me(()=>{l=new x({state:K.create({extensions:g,doc:n.inputDefault}),parent:i.value})}),Be(()=>{l?.destroy()}),Se(()=>I().isDark,m=>{l.dispatch({effects:[c.reconfigure(m?V:x.theme({},{dark:!1})),p.reconfigure(m?M(W,{fallback:!0}):M(T))]})});function E(m){m.docChanged&&s("change",m.state.doc.toString())}function b(m){l.dispatch({changes:{from:0,to:l.state.doc.length,insert:m}})}function y(){return l}return(m,ze)=>(_e(),Oe("div",{ref_key:"editor",ref:i,class:"editor","w-full":""},null,512))}}),Ye=Ke(je,[["__scopeId","data-v-7d53199f"]]);let qe=0;class k{constructor(a,o,n){this.set=a,this.base=o,this.modified=n,this.id=qe++}static define(a){if(a?.base)throw new Error("Can not derive from a modified tag");let o=new k([],null,[]);if(o.set.push(o),a)for(let n of a.set)o.set.push(n);return o}static defineModifier(){let a=new D;return o=>o.modified.indexOf(a)>-1?o:D.get(o.base||o,o.modified.concat(a).sort((n,s)=>n.id-s.id))}}let Fe=0;class D{constructor(){this.instances=[],this.id=Fe++}static get(a,o){if(!o.length)return a;let n=o[0].instances.find(c=>c.base==a&&Ue(o,c.modified));if(n)return n;let s=[],i=new k(s,a,o);for(let c of o)c.instances.push(i);let l=Ve(o);for(let c of a.set)if(!c.modified.length)for(let p of l)s.push(D.get(c,p));return i}}function Ue(d,a){return d.length==a.length&&d.every((o,n)=>o==a[n])}function Ve(d){let a=[[]];for(let o=0;o<d.length;o++)for(let n=0,s=a.length;n<s;n++)a.push(a[n].concat(d[o]));return a.sort((o,n)=>n.length-o.length)}function Ze(d){let a=Object.create(null);for(let o in d){let n=d[o];Array.isArray(n)||(n=[n]);for(let s of o.split(" "))if(s){let i=[],l=2,c=s;for(let b=0;;){if(c=="..."&&b>0&&b+3==s.length){l=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!y)throw new RangeError("Invalid path: "+s);if(i.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),b+=y[0].length,b==s.length)break;let m=s[b++];if(b==s.length&&m=="!"){l=0;break}if(m!="/")throw new RangeError("Invalid path: "+s);c=s.slice(b)}let p=i.length-1,g=i[p];if(!g)throw new RangeError("Invalid path: "+s);let E=new R(n,l,p>0?i.slice(0,p):null);a[g]=E.sort(a[g])}}return We.add(a)}const We=new Ce;class R{constructor(a,o,n,s){this.tags=a,this.mode=o,this.context=n,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(a){return!a||a.depth<this.depth?(this.next=a,this):(a.next=this.sort(a.next),a)}get depth(){return this.context?this.context.length:0}}R.empty=new R([],2,null);function Je(d,a){let o=Object.create(null);for(let i of d)if(!Array.isArray(i.tag))o[i.tag.id]=i.class;else for(let l of i.tag)o[l.id]=i.class;let{scope:n,all:s=null}={};return{style:i=>{let l=s;for(let c of i)for(let p of c.set){let g=o[p.id];if(g){l=l?l+" "+g:g;break}}return l},scope:n}}const e=k.define,B=e(),N=e(),J=e(N),z=e(N),w=e(),S=e(w),L=e(w),h=e(),C=e(h),f=e(),u=e(),G=e(),v=e(G),O=e(),r={comment:B,lineComment:e(B),blockComment:e(B),docComment:e(B),name:N,variableName:e(N),typeName:J,tagName:e(J),propertyName:z,attributeName:e(z),className:e(N),labelName:e(N),namespace:e(N),macroName:e(N),literal:w,string:S,docString:e(S),character:e(S),attributeValue:e(S),number:L,integer:e(L),float:e(L),bool:e(w),regexp:e(w),escape:e(w),color:e(w),url:e(w),keyword:f,self:e(f),null:e(f),atom:e(f),unit:e(f),modifier:e(f),operatorKeyword:e(f),controlKeyword:e(f),definitionKeyword:e(f),moduleKeyword:e(f),operator:u,derefOperator:e(u),arithmeticOperator:e(u),logicOperator:e(u),bitwiseOperator:e(u),compareOperator:e(u),updateOperator:e(u),definitionOperator:e(u),typeOperator:e(u),controlOperator:e(u),punctuation:G,separator:e(G),bracket:v,angleBracket:e(v),squareBracket:e(v),paren:e(v),brace:e(v),content:h,heading:C,heading1:e(C),heading2:e(C),heading3:e(C),heading4:e(C),heading5:e(C),heading6:e(C),contentSeparator:e(h),list:e(h),quote:e(h),emphasis:e(h),strong:e(h),link:e(h),monospace:e(h),strikethrough:e(h),inserted:e(),deleted:e(),changed:e(),invalid:e(),meta:O,documentMeta:e(O),annotation:e(O),processingInstruction:e(O),definition:k.defineModifier(),constant:k.defineModifier(),function:k.defineModifier(),standard:k.defineModifier(),local:k.defineModifier(),special:k.defineModifier()};Je([{tag:r.link,class:"tok-link"},{tag:r.heading,class:"tok-heading"},{tag:r.emphasis,class:"tok-emphasis"},{tag:r.strong,class:"tok-strong"},{tag:r.keyword,class:"tok-keyword"},{tag:r.atom,class:"tok-atom"},{tag:r.bool,class:"tok-bool"},{tag:r.url,class:"tok-url"},{tag:r.labelName,class:"tok-labelName"},{tag:r.inserted,class:"tok-inserted"},{tag:r.deleted,class:"tok-deleted"},{tag:r.literal,class:"tok-literal"},{tag:r.string,class:"tok-string"},{tag:r.number,class:"tok-number"},{tag:[r.regexp,r.escape,r.special(r.string)],class:"tok-string2"},{tag:r.variableName,class:"tok-variableName"},{tag:r.local(r.variableName),class:"tok-variableName tok-local"},{tag:r.definition(r.variableName),class:"tok-variableName tok-definition"},{tag:r.special(r.variableName),class:"tok-variableName2"},{tag:r.definition(r.propertyName),class:"tok-propertyName tok-definition"},{tag:r.typeName,class:"tok-typeName"},{tag:r.namespace,class:"tok-namespace"},{tag:r.className,class:"tok-className"},{tag:r.macroName,class:"tok-macroName"},{tag:r.propertyName,class:"tok-propertyName"},{tag:r.operator,class:"tok-operator"},{tag:r.comment,class:"tok-comment"},{tag:r.meta,class:"tok-meta"},{tag:r.invalid,class:"tok-invalid"},{tag:r.punctuation,class:"tok-punctuation"}]);export{Ye as _,Ze as s,r as t};
