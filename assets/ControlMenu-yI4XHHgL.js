import{a3 as d,c as m,w as _,a as i,b as r,az as l,a9 as g,aB as x,o as J,W as c,aQ as n,f as h}from"./vendor-_H2Zizob.js";import{J as s,M as k}from"./common-SrknxvFl.js";import{a as v}from"./@turf/turf-IP3gYYuh.js";import"./ant-design-vue-XKeTVi1e.js";import"./vanilla-jsoneditor--Y_UqYYL.js";const w={class:"controlMenu"},B={__name:"ControlMenu",setup(C){function f(e){if(e.target.files.length){const t=e.target.files[0],o=new FileReader;o.onload=()=>{if(o.result&&typeof o.result=="string")try{const a=JSON.parse(o.result);s.emit("updateEditor",a),s.emit("updateGeojsonLayer",a)}catch{}},o.readAsText(t)}e.target.value=""}function u(){s.emit("getGeoJson",function(e){e?k(JSON.stringify(e),"exportFile.geojson"):g.warning("无可导出数据")})}function p(){s.emit("getGeoJson",function(e){if(e){const t=v(e);t<1e6?n.alert(`面积: ${t.toFixed(2)} 平方米`,"信息"):t<1e8?n.alert(`面积: ${(t/1e4).toFixed(2)} 公顷`,"信息"):n.alert(`面积: ${(t/1e6).toFixed(2)} 平方千米`,"信息")}})}return(e,t)=>{const o=x;return J(),m("div",w,[_(i("input",{ref:"uploader",type:"file",accept:".json,.JSON,.geojson,.GEOJSON",onChange:f},null,544),[[h,!1]]),r(o,{onClick:t[0]||(t[0]=a=>e.$refs.uploader.click())},{default:l(()=>[c(" 打开 ")]),_:1}),r(o,{onClick:u},{default:l(()=>[c(" 保存 ")]),_:1}),i("i",{class:"i-icon-park-outline-info",onClick:p})])}}},G=d(B,[["__scopeId","data-v-e86f5c0b"]]);export{G as default};
