import{d as k,r as C,j as p,f as R,o as u,L as i,a as s,w as o,b as r,k as n,c as m,a1 as c,l as b,F as E,M as N,B as U,m as $,N as A,_ as D}from"./index.5225add7.js";import{_ as V}from"./index.11b29ebb.js";import{_ as L}from"./index.7d09dcb3.js";import"./index.de41a683.js";import"./useFlexGapSupport.08dd27fd.js";import"./FormItem.2fec0685.js";import"./Col.6da9c2a9.js";import"./responsiveObserve.b8aa4967.js";import"./toArray.1be0410b.js";import"./get.af123360.js";import"./hasIn.47b3f0c3.js";import"./toInteger.b3f7ff85.js";import"./toFinite.f1c80f15.js";import"./_baseFindIndex.10ef1a58.js";import"./collapseMotion.450b64d3.js";import"./EyeOutlined.8276209c.js";import"./index.d07449c7.js";import"./Form.3121af8c.js";import"./_arrayIncludesWith.91d14080.js";import"./useRefs.d9c2ee5a.js";const T={class:"wrapper"},j=["src"],W=k({__name:"imageBase64",setup(z){const e=C(""),_=p("$msg"),d=p("$axios"),f=R(()=>e.value&&(e.value.startsWith("http://")||e.value.startsWith("https://")));function v(t){const a=new FileReader;return a.onloadend=()=>{e.value=a.result},a.readAsDataURL(t),!1}async function g(){try{await window.navigator.clipboard.writeText(e.value),_.success("\u590D\u5236\u6210\u529F")}catch(t){_.error(t==null?void 0:t.message)}}async function y(){try{const t=await d.get(e.value,{responseType:"blob"}),a=new FileReader;a.onloadend=()=>{e.value=a.result},a.readAsDataURL(t.data)}catch(t){_.error(t==null?void 0:t.message)}}return(t,a)=>{const l=U,B=L,w=V,F=$,x=A;return u(),i("div",T,[s(w,null,{default:o(()=>[s(B,{"file-list":[],"show-upload-list":!1,accept:"image/*","before-upload":v},{default:o(()=>[s(l,{type:"primary"},{default:o(()=>[r(" \u70B9\u51FB\u4E0A\u4F20\u56FE\u7247 ")]),_:1})]),_:1}),n(f)?(u(),m(l,{key:0,onClick:y},{default:o(()=>[r(" \u8F6C\u6362\u4E3ABase64 ")]),_:1})):c("",!0),n(e)?(u(),m(l,{key:1,onClick:g},{default:o(()=>[r(" \u590D\u5236\u5185\u5BB9 ")]),_:1})):c("",!0)]),_:1}),s(F,{value:n(e),"onUpdate:value":a[0]||(a[0]=h=>b(e)?e.value=h:null),"allow-clear":"","auto-size":{minRows:5,maxRows:10},placeholder:"\u8BF7\u8F93\u5165 \u56FE\u7247\u5730\u5740 \u6216 Base64\u683C\u5F0F\u7684\u56FE\u7247"},null,8,["value"]),n(e)?(u(),i(E,{key:0},[s(x,{level:4},{default:o(()=>[r(" \u9884\u89C8 ")]),_:1}),N("img",{class:"preview",src:n(e),alt:"preview"},null,8,j)],64)):c("",!0)])}}});const ue=D(W,[["__scopeId","data-v-57008570"]]);export{ue as default};
