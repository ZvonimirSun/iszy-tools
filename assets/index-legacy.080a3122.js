!function(){var e=document.createElement("style");e.innerHTML='@charset "UTF-8";@font-face{font-family:"Clear Sans";src:url(/assets/ClearSans-Light-webfont.77ef51b0.eot);src:url(/assets/ClearSans-Light-webfont.77ef51b0.eot?#iefix) format("embedded-opentype"),url(/assets/ClearSans-Light-webfont.5080487c.svg#clear_sans_lightregular) format("svg"),url(/assets/ClearSans-Light-webfont.465697ff.woff) format("woff");font-weight:200;font-style:normal}@font-face{font-family:"Clear Sans";src:url(/assets/ClearSans-Regular-webfont.4d1fe136.eot);src:url(/assets/ClearSans-Regular-webfont.4d1fe136.eot?#iefix) format("embedded-opentype"),url(/assets/ClearSans-Regular-webfont.5d7fbc7a.svg#clear_sansregular) format("svg"),url(/assets/ClearSans-Regular-webfont.8c94cd2f.woff) format("woff");font-weight:normal;font-style:normal}@font-face{font-family:"Clear Sans";src:url(/assets/ClearSans-Bold-webfont.820a4c29.eot);src:url(/assets/ClearSans-Bold-webfont.820a4c29.eot?#iefix) format("embedded-opentype"),url(/assets/ClearSans-Bold-webfont.a669c919.svg#clear_sansbold) format("svg"),url(/assets/ClearSans-Bold-webfont.b16e36cc.woff) format("woff");font-weight:700;font-style:normal}@-webkit-keyframes move-up-0c46a597{0%{top:2.5rem;opacity:1}to{top:-5rem;opacity:0}}@-moz-keyframes move-up-0c46a597{0%{top:2.5rem;opacity:1}to{top:-5rem;opacity:0}}@keyframes move-up-0c46a597{0%{top:2.5rem;opacity:1}to{top:-5rem;opacity:0}}[data-v-0c46a597] .panel .scores-container{display:flex;box-sizing:content-box}[data-v-0c46a597] .panel .scores-container *+*{margin-left:.5rem}[data-v-0c46a597] .panel .score-container,[data-v-0c46a597] .panel .best-container{position:relative;display:inline-block;background:#bbada0;padding:1.5rem 2.5rem;font-size:2.5rem;height:2.5rem;line-height:4.7rem;font-weight:bold;border-radius:.3rem;color:#fff;text-align:center;box-sizing:content-box}[data-v-0c46a597] .panel .score-container:after,[data-v-0c46a597] .panel .best-container:after{position:absolute;width:100%;top:1rem;left:0;text-transform:uppercase;font-size:1.3rem;line-height:1.3rem;text-align:center;color:#eee4da;box-sizing:content-box}[data-v-0c46a597] .panel .score-container .score-addition,[data-v-0c46a597] .panel .best-container .score-addition{position:absolute;right:3rem;color:red;font-size:2.5rem;line-height:2.5rem;font-weight:bold;color:#776e65e6;z-index:100;box-sizing:content-box;-webkit-animation:move-up-0c46a597 .6s ease-in;-moz-animation:move-up-0c46a597 .6s ease-in;animation:move-up-0c46a597 .6s ease-in;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;animation-fill-mode:both}[data-v-0c46a597] .panel .score-container:after{content:"\\5206\\6570";box-sizing:content-box}[data-v-0c46a597] .panel .best-container:after{box-sizing:content-box;content:"\\6700\\9ad8\\5206"}[data-v-0c46a597] .panel p{margin-top:0;margin-bottom:1rem;line-height:1.65}[data-v-0c46a597] .panel a{color:#776e65;font-weight:bold;text-decoration:underline;cursor:pointer}[data-v-0c46a597] .panel strong.important{text-transform:uppercase}[data-v-0c46a597] .panel hr{border:none;border-bottom:.1rem solid #d8d4d0;margin-top:2rem;margin-bottom:3rem}[data-v-0c46a597] .panel .container{font-family:"Clear Sans","Helvetica Neue",Arial,sans-serif;font-size:1.8rem;color:#776e65;width:50rem;margin:0 auto}@-webkit-keyframes fade-in-0c46a597{0%{opacity:0}to{opacity:1}}@-moz-keyframes fade-in-0c46a597{0%{opacity:0}to{opacity:1}}@keyframes fade-in-0c46a597{0%{opacity:0}to{opacity:1}}[data-v-0c46a597] .panel .game-container{margin-top:4rem;position:relative;padding:1.5rem;cursor:default;-webkit-touch-callout:none;-ms-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-ms-touch-action:none;touch-action:none;background:#bbada0;border-radius:.6rem;width:50rem;height:50rem;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}[data-v-0c46a597] .panel .game-container .game-message{display:none;position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(238,228,218,.5);z-index:100;text-align:center;-webkit-animation:fade-in-0c46a597 .8s ease 1.2s;-moz-animation:fade-in-0c46a597 .8s ease 1.2s;animation:fade-in-0c46a597 .8s ease 1.2s;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;animation-fill-mode:both}[data-v-0c46a597] .panel .game-container .game-message p{font-size:6rem;font-weight:bold;height:6rem;line-height:6rem;margin-top:22.2rem}[data-v-0c46a597] .panel .game-container .game-message .lower{display:block;margin-top:5.9rem}[data-v-0c46a597] .panel .game-container .game-message a{display:inline-block;background:#8f7a66;border-radius:.3rem;padding:0 2rem;text-decoration:none;color:#f9f6f2;height:4rem;line-height:4.2rem;margin-left:.9rem}[data-v-0c46a597] .panel .game-container .game-message a.keep-playing-button{display:none}[data-v-0c46a597] .panel .game-container .game-message.game-won{background:rgba(237,194,46,.5);color:#f9f6f2}[data-v-0c46a597] .panel .game-container .game-message.game-won a.keep-playing-button{display:inline-block}[data-v-0c46a597] .panel .game-container .game-message.game-won,[data-v-0c46a597] .panel .game-container .game-message.game-over{display:block}[data-v-0c46a597] .panel .grid-container{position:absolute;z-index:1}[data-v-0c46a597] .panel .grid-cell{width:10.625rem;height:10.625rem;margin-right:1.5rem;margin-bottom:1.5rem;float:left;border-radius:.3rem;background:rgba(238,228,218,.35)}[data-v-0c46a597] .panel .grid-cell:nth-child(4n){margin-right:0}[data-v-0c46a597] .panel .grid-cell:nth-last-child(-n+4){margin-bottom:0}[data-v-0c46a597] .panel .tile-container{position:absolute;z-index:2}[data-v-0c46a597] .panel .tile,[data-v-0c46a597] .panel .tile .tile-inner{width:11rem;height:11rem;line-height:11rem}[data-v-0c46a597] .panel .tile.tile-position-1-1{-webkit-transform:translate(0rem,0rem);-moz-transform:translate(0rem,0rem);-ms-transform:translate(0rem,0rem);transform:translate(0)}[data-v-0c46a597] .panel .tile.tile-position-1-2{-webkit-transform:translate(0rem,12rem);-moz-transform:translate(0rem,12rem);-ms-transform:translate(0rem,12rem);transform:translateY(12rem)}[data-v-0c46a597] .panel .tile.tile-position-1-3{-webkit-transform:translate(0rem,24rem);-moz-transform:translate(0rem,24rem);-ms-transform:translate(0rem,24rem);transform:translateY(24rem)}[data-v-0c46a597] .panel .tile.tile-position-1-4{-webkit-transform:translate(0rem,36rem);-moz-transform:translate(0rem,36rem);-ms-transform:translate(0rem,36rem);transform:translateY(36rem)}[data-v-0c46a597] .panel .tile.tile-position-2-1{-webkit-transform:translate(12rem,0rem);-moz-transform:translate(12rem,0rem);-ms-transform:translate(12rem,0rem);transform:translate(12rem)}[data-v-0c46a597] .panel .tile.tile-position-2-2{-webkit-transform:translate(12rem,12rem);-moz-transform:translate(12rem,12rem);-ms-transform:translate(12rem,12rem);transform:translate(12rem,12rem)}[data-v-0c46a597] .panel .tile.tile-position-2-3{-webkit-transform:translate(12rem,24rem);-moz-transform:translate(12rem,24rem);-ms-transform:translate(12rem,24rem);transform:translate(12rem,24rem)}[data-v-0c46a597] .panel .tile.tile-position-2-4{-webkit-transform:translate(12rem,36rem);-moz-transform:translate(12rem,36rem);-ms-transform:translate(12rem,36rem);transform:translate(12rem,36rem)}[data-v-0c46a597] .panel .tile.tile-position-3-1{-webkit-transform:translate(24rem,0rem);-moz-transform:translate(24rem,0rem);-ms-transform:translate(24rem,0rem);transform:translate(24rem)}[data-v-0c46a597] .panel .tile.tile-position-3-2{-webkit-transform:translate(24rem,12rem);-moz-transform:translate(24rem,12rem);-ms-transform:translate(24rem,12rem);transform:translate(24rem,12rem)}[data-v-0c46a597] .panel .tile.tile-position-3-3{-webkit-transform:translate(24rem,24rem);-moz-transform:translate(24rem,24rem);-ms-transform:translate(24rem,24rem);transform:translate(24rem,24rem)}[data-v-0c46a597] .panel .tile.tile-position-3-4{-webkit-transform:translate(24rem,36rem);-moz-transform:translate(24rem,36rem);-ms-transform:translate(24rem,36rem);transform:translate(24rem,36rem)}[data-v-0c46a597] .panel .tile.tile-position-4-1{-webkit-transform:translate(36rem,0rem);-moz-transform:translate(36rem,0rem);-ms-transform:translate(36rem,0rem);transform:translate(36rem)}[data-v-0c46a597] .panel .tile.tile-position-4-2{-webkit-transform:translate(36rem,12rem);-moz-transform:translate(36rem,12rem);-ms-transform:translate(36rem,12rem);transform:translate(36rem,12rem)}[data-v-0c46a597] .panel .tile.tile-position-4-3{-webkit-transform:translate(36rem,24rem);-moz-transform:translate(36rem,24rem);-ms-transform:translate(36rem,24rem);transform:translate(36rem,24rem)}[data-v-0c46a597] .panel .tile.tile-position-4-4{-webkit-transform:translate(36rem,36rem);-moz-transform:translate(36rem,36rem);-ms-transform:translate(36rem,36rem);transform:translate(36rem,36rem)}[data-v-0c46a597] .panel .tile{position:absolute;-webkit-transition:.1s ease-in-out;-moz-transition:.1s ease-in-out;transition:.1s ease-in-out;-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;transition-property:transform}[data-v-0c46a597] .panel .tile .tile-inner{border-radius:.3rem;background:#eee4da;text-align:center;font-weight:bold;z-index:10;font-size:5.5rem}[data-v-0c46a597] .panel .tile.tile-2 .tile-inner{background:#eee4da;box-shadow:0 0 3rem 1rem rgba(243,215,116,max(1 - 4,0)/7/1.8),inset 0 0 0 .1rem rgba(255,255,255,max(1 - 4,0)/7/3)}[data-v-0c46a597] .panel .tile.tile-4 .tile-inner{background:#eee1c9;box-shadow:0 0 3rem 1rem rgba(243,215,116,max(2 - 4,0)/7/1.8),inset 0 0 0 .1rem rgba(255,255,255,max(2 - 4,0)/7/3)}[data-v-0c46a597] .panel .tile.tile-8 .tile-inner{color:#f9f6f2;background:#f3b27a}[data-v-0c46a597] .panel .tile.tile-16 .tile-inner{color:#f9f6f2;background:#f69664}[data-v-0c46a597] .panel .tile.tile-32 .tile-inner{color:#f9f6f2;background:#f77c5f}[data-v-0c46a597] .panel .tile.tile-64 .tile-inner{color:#f9f6f2;background:#f75f3b}[data-v-0c46a597] .panel .tile.tile-128 .tile-inner{color:#f9f6f2;background:#edd073;box-shadow:0 0 3rem 1rem rgba(243,215,116,max(7 - 4,0)/7/1.8),inset 0 0 0 .1rem rgba(255,255,255,max(7 - 4,0)/7/3);font-size:4.5rem}@media screen and (max-width: 52rem){[data-v-0c46a597] .panel .tile.tile-128 .tile-inner{font-size:2.5rem}}[data-v-0c46a597] .panel .tile.tile-256 .tile-inner{color:#f9f6f2;background:#edcc62;box-shadow:0 0 3rem 1rem rgba(243,215,116,max(8 - 4,0)/7/1.8),inset 0 0 0 .1rem rgba(255,255,255,max(8 - 4,0)/7/3);font-size:4.5rem}@media screen and (max-width: 52rem){[data-v-0c46a597] .panel .tile.tile-256 .tile-inner{font-size:2.5rem}}[data-v-0c46a597] .panel .tile.tile-512 .tile-inner{color:#f9f6f2;background:#edc950;box-shadow:0 0 3rem 1rem rgba(243,215,116,max(9 - 4,0)/7/1.8),inset 0 0 0 .1rem rgba(255,255,255,max(9 - 4,0)/7/3);font-size:4.5rem}@media screen and (max-width: 52rem){[data-v-0c46a597] .panel .tile.tile-512 .tile-inner{font-size:2.5rem}}[data-v-0c46a597] .panel .tile.tile-1024 .tile-inner{color:#f9f6f2;background:#edc53f;box-shadow:0 0 3rem 1rem rgba(243,215,116,max(10 - 4,0)/7/1.8),inset 0 0 0 .1rem rgba(255,255,255,max(10 - 4,0)/7/3);font-size:3.5rem}@media screen and (max-width: 52rem){[data-v-0c46a597] .panel .tile.tile-1024 .tile-inner{font-size:1.5rem}}[data-v-0c46a597] .panel .tile.tile-2048 .tile-inner{color:#f9f6f2;background:#edc22e;box-shadow:0 0 3rem 1rem rgba(243,215,116,max(11 - 4,0)/7/1.8),inset 0 0 0 .1rem rgba(255,255,255,max(11 - 4,0)/7/3);font-size:3.5rem}@media screen and (max-width: 52rem){[data-v-0c46a597] .panel .tile.tile-2048 .tile-inner{font-size:1.5rem}}[data-v-0c46a597] .panel .tile.tile-super .tile-inner{color:#f9f6f2;background:#3c3a33;font-size:3rem}@media screen and (max-width: 52rem){[data-v-0c46a597] .panel .tile.tile-super .tile-inner{font-size:1rem}}@-webkit-keyframes appear-0c46a597{0%{opacity:0;-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}to{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}@-moz-keyframes appear-0c46a597{0%{opacity:0;-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}to{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}@keyframes appear-0c46a597{0%{opacity:0;-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}to{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}[data-v-0c46a597] .panel .tile-new .tile-inner{-webkit-animation:appear-0c46a597 .2s ease .1s;-moz-animation:appear-0c46a597 .2s ease .1s;animation:appear-0c46a597 .2s ease .1s;-webkit-animation-fill-mode:backwards;-moz-animation-fill-mode:backwards;animation-fill-mode:backwards}@-webkit-keyframes pop-0c46a597{0%{-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}@-moz-keyframes pop-0c46a597{0%{-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}@keyframes pop-0c46a597{0%{-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2)}to{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}[data-v-0c46a597] .panel .tile-merged .tile-inner{z-index:20;-webkit-animation:pop-0c46a597 .2s ease .1s;-moz-animation:pop-0c46a597 .2s ease .1s;animation:pop-0c46a597 .2s ease .1s;-webkit-animation-fill-mode:backwards;-moz-animation-fill-mode:backwards;animation-fill-mode:backwards}[data-v-0c46a597] .panel .above-game{width:100%;display:inline-flex;justify-content:space-between;align-items:center}[data-v-0c46a597] .panel .game-intro{float:left;line-height:4.2rem;margin-bottom:0}[data-v-0c46a597] .panel .restart-button{display:inline-block;background:#8f7a66;border-radius:.3rem;padding:0 2rem;text-decoration:none;color:#f9f6f2;height:4rem;line-height:4.2rem;display:block;text-align:center;float:right}[data-v-0c46a597] .panel .game-explanation{margin-top:5rem}@media screen and (max-width: 52rem){[data-v-0c46a597] .panel .container{font-size:1.5rem;width:28rem;margin:0 auto}[data-v-0c46a597] .panel .score-container,[data-v-0c46a597] .panel .best-container{margin-top:0;padding:1.5rem 1rem;min-width:4rem}[data-v-0c46a597] .panel .game-intro{width:55%;display:block;box-sizing:border-box;line-height:1.65}[data-v-0c46a597] .panel .restart-button{width:25%;padding:0;display:block;box-sizing:border-box;margin-top:.2rem}[data-v-0c46a597] .panel .game-container{margin-top:1.7rem;position:relative;padding:1rem;cursor:default;-webkit-touch-callout:none;-ms-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-ms-touch-action:none;touch-action:none;background:#bbada0;border-radius:.6rem;width:28rem;height:28rem;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}[data-v-0c46a597] .panel .game-container .game-message{display:none;position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(238,228,218,.5);z-index:100;text-align:center;-webkit-animation:fade-in-0c46a597 .8s ease 1.2s;-moz-animation:fade-in-0c46a597 .8s ease 1.2s;animation:fade-in-0c46a597 .8s ease 1.2s;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;animation-fill-mode:both}[data-v-0c46a597] .panel .game-container .game-message p{font-size:6rem;font-weight:bold;height:6rem;line-height:6rem;margin-top:22.2rem}[data-v-0c46a597] .panel .game-container .game-message .lower{display:block;margin-top:5.9rem}[data-v-0c46a597] .panel .game-container .game-message a{display:inline-block;background:#8f7a66;border-radius:.3rem;padding:0 2rem;text-decoration:none;color:#f9f6f2;height:4rem;line-height:4.2rem;margin-left:.9rem}[data-v-0c46a597] .panel .game-container .game-message a.keep-playing-button{display:none}[data-v-0c46a597] .panel .game-container .game-message.game-won{background:rgba(237,194,46,.5);color:#f9f6f2}[data-v-0c46a597] .panel .game-container .game-message.game-won a.keep-playing-button{display:inline-block}[data-v-0c46a597] .panel .game-container .game-message.game-won,[data-v-0c46a597] .panel .game-container .game-message.game-over{display:block}[data-v-0c46a597] .panel .grid-container{position:absolute;z-index:1}[data-v-0c46a597] .panel .grid-cell{width:5.75rem;height:5.75rem;margin-right:1rem;margin-bottom:1rem;float:left;border-radius:.3rem;background:rgba(238,228,218,.35)}[data-v-0c46a597] .panel .grid-cell:nth-child(4n){margin-right:0}[data-v-0c46a597] .panel .grid-cell:nth-last-child(-n+4){margin-bottom:0}[data-v-0c46a597] .panel .tile-container{position:absolute;z-index:2}[data-v-0c46a597] .panel .tile,[data-v-0c46a597] .panel .tile .tile-inner{width:6rem;height:6rem;line-height:6rem}[data-v-0c46a597] .panel .tile.tile-position-1-1{-webkit-transform:translate(0rem,0rem);-moz-transform:translate(0rem,0rem);-ms-transform:translate(0rem,0rem);transform:translate(0)}[data-v-0c46a597] .panel .tile.tile-position-1-2{-webkit-transform:translate(0rem,6rem);-moz-transform:translate(0rem,6rem);-ms-transform:translate(0rem,6rem);transform:translateY(6rem)}[data-v-0c46a597] .panel .tile.tile-position-1-3{-webkit-transform:translate(0rem,13rem);-moz-transform:translate(0rem,13rem);-ms-transform:translate(0rem,13rem);transform:translateY(13rem)}[data-v-0c46a597] .panel .tile.tile-position-1-4{-webkit-transform:translate(0rem,20rem);-moz-transform:translate(0rem,20rem);-ms-transform:translate(0rem,20rem);transform:translateY(20rem)}[data-v-0c46a597] .panel .tile.tile-position-2-1{-webkit-transform:translate(6rem,0rem);-moz-transform:translate(6rem,0rem);-ms-transform:translate(6rem,0rem);transform:translate(6rem)}[data-v-0c46a597] .panel .tile.tile-position-2-2{-webkit-transform:translate(6rem,6rem);-moz-transform:translate(6rem,6rem);-ms-transform:translate(6rem,6rem);transform:translate(6rem,6rem)}[data-v-0c46a597] .panel .tile.tile-position-2-3{-webkit-transform:translate(6rem,13rem);-moz-transform:translate(6rem,13rem);-ms-transform:translate(6rem,13rem);transform:translate(6rem,13rem)}[data-v-0c46a597] .panel .tile.tile-position-2-4{-webkit-transform:translate(6rem,20rem);-moz-transform:translate(6rem,20rem);-ms-transform:translate(6rem,20rem);transform:translate(6rem,20rem)}[data-v-0c46a597] .panel .tile.tile-position-3-1{-webkit-transform:translate(13rem,0rem);-moz-transform:translate(13rem,0rem);-ms-transform:translate(13rem,0rem);transform:translate(13rem)}[data-v-0c46a597] .panel .tile.tile-position-3-2{-webkit-transform:translate(13rem,6rem);-moz-transform:translate(13rem,6rem);-ms-transform:translate(13rem,6rem);transform:translate(13rem,6rem)}[data-v-0c46a597] .panel .tile.tile-position-3-3{-webkit-transform:translate(13rem,13rem);-moz-transform:translate(13rem,13rem);-ms-transform:translate(13rem,13rem);transform:translate(13rem,13rem)}[data-v-0c46a597] .panel .tile.tile-position-3-4{-webkit-transform:translate(13rem,20rem);-moz-transform:translate(13rem,20rem);-ms-transform:translate(13rem,20rem);transform:translate(13rem,20rem)}[data-v-0c46a597] .panel .tile.tile-position-4-1{-webkit-transform:translate(20rem,0rem);-moz-transform:translate(20rem,0rem);-ms-transform:translate(20rem,0rem);transform:translate(20rem)}[data-v-0c46a597] .panel .tile.tile-position-4-2{-webkit-transform:translate(20rem,6rem);-moz-transform:translate(20rem,6rem);-ms-transform:translate(20rem,6rem);transform:translate(20rem,6rem)}[data-v-0c46a597] .panel .tile.tile-position-4-3{-webkit-transform:translate(20rem,13rem);-moz-transform:translate(20rem,13rem);-ms-transform:translate(20rem,13rem);transform:translate(20rem,13rem)}[data-v-0c46a597] .panel .tile.tile-position-4-4{-webkit-transform:translate(20rem,20rem);-moz-transform:translate(20rem,20rem);-ms-transform:translate(20rem,20rem);transform:translate(20rem,20rem)}[data-v-0c46a597] .panel .tile .tile-inner{font-size:3.5rem}[data-v-0c46a597] .panel .game-message p{font-size:3rem!important;height:3rem!important;line-height:3rem!important;margin-top:9rem!important}[data-v-0c46a597] .panel .game-message .lower{margin-top:3rem!important}}\n',document.head.appendChild(e),System.register(["./container-legacy.24f6b2b0.js","./vendor-legacy.e29cad23.js","./index-legacy.c3a455d8.js"],(function(e){"use strict";var t,a,r,n,s,i,o,m,l,c,d,f;return{setters:[function(e){t=e._},function(e){a=e.s,r=e.p,n=e.a,s=e.r,i=e.c,o=e.w,m=e.o,l=e.d,c=e.v,d=e.E,f=e.F},function(){}],execute:function(){class h{constructor(e,t){this.x=e.x,this.y=e.y,this.value=t||2,this.previousPosition=null,this.mergedFrom=null}savePosition(){this.previousPosition={x:this.x,y:this.y}}updatePosition(e){this.x=e.x,this.y=e.y}serialize(){return{position:{x:this.x,y:this.y},value:this.value}}}class p{constructor(e,t){this.size=e,this.cells=t?this.fromState(t):this.empty()}empty(){const e=[];for(let t=0;t<this.size;t++){const a=e[t]=[];for(let e=0;e<this.size;e++)a.push(null)}return e}fromState(e){const t=[];for(let a=0;a<this.size;a++){const r=t[a]=[];for(let t=0;t<this.size;t++){const n=e[a][t];r.push(n?new h(n.position,n.value):null)}}return t}randomAvailableCell(){const e=this.availableCells();if(e.length)return e[Math.floor(Math.random()*e.length)]}availableCells(){const e=[];return this.eachCell((function(t,a,r){r||e.push({x:t,y:a})})),e}eachCell(e){for(let t=0;t<this.size;t++)for(let a=0;a<this.size;a++)e(t,a,this.cells[t][a])}cellsAvailable(){return!!this.availableCells().length}cellAvailable(e){return!this.cellOccupied(e)}cellOccupied(e){return!!this.cellContent(e)}cellContent(e){return this.withinBounds(e)?this.cells[e.x][e.y]:null}insertTile(e){this.cells[e.x][e.y]=e}removeTile(e){this.cells[e.x][e.y]=null}withinBounds(e){return e.x>=0&&e.x<this.size&&e.y>=0&&e.y<this.size}serialize(){const e=[];for(let t=0;t<this.size;t++){const a=e[t]=[];for(let e=0;e<this.size;e++)a.push(this.cells[t][e]?this.cells[t][e].serialize():null)}return{size:this.size,cells:e}}}class g{constructor(e){this.events={},this.vue=e,this.map={ArrowUp:0,ArrowRight:1,ArrowDown:2,ArrowLeft:3,KeyK:0,KeyL:1,keyJ:2,keyH:3,KeyW:0,KeyD:1,KeyS:2,KeyA:3},window.navigator.msPointerEnabled?(this.eventTouchstart="MSPointerDown",this.eventTouchmove="MSPointerMove",this.eventTouchend="MSPointerUp"):(this.eventTouchstart="touchstart",this.eventTouchmove="touchmove",this.eventTouchend="touchend"),this.retryButton=this.vue.$refs.retryButton,this.restartButton=this.vue.$refs.restartButton,this.keepPlayingButton=this.vue.$refs.keepPlayingButton,this.gameContainer=this.vue.$refs.gameContainer,this.touchStartClientX=void 0,this.touchStartClientY=void 0,this.listen()}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}emit(e,t){const a=this.events[e];a&&a.forEach((function(e){e(t)}))}listen(){document.addEventListener("keydown",this._keyboardEvent.bind(this)),this.bindButtonPress(this.retryButton,this.restart),this.bindButtonPress(this.restartButton,this.restart),this.bindButtonPress(this.keepPlayingButton,this.keepPlaying),this.gameContainer.addEventListener(this.eventTouchstart,this._touchStartEvent.bind(this)),this.gameContainer.addEventListener("mousedown",this._touchStartEvent.bind(this)),this.gameContainer.addEventListener(this.eventTouchmove,(function(e){e.preventDefault()})),this.gameContainer.addEventListener(this.eventTouchend,this._touchEndEvent.bind(this)),this.gameContainer.addEventListener("mouseup",this._touchEndEvent.bind(this))}restart(e){e.preventDefault(),this.emit("restart")}keepPlaying(e){e.preventDefault(),this.emit("keepPlaying")}bindButtonPress(e,t){e.addEventListener("click",t.bind(this)),e.addEventListener(this.eventTouchend,t.bind(this))}removeButtonPress(e){e.addEventListener("click"),e.addEventListener(this.eventTouchend)}_keyboardEvent(e){const t=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey,a=this.map[e.code];t||void 0!==a&&(e.preventDefault(),this.emit("move",a)),t||"KeyR"!==e.code||this.restart(e)}_touchStartEvent(e){"mousedown"!==e.type&&(!window.navigator.msPointerEnabled&&e.touches.length>1||e.targetTouches.length>1)||(window.navigator.msPointerEnabled||"mousedown"===e.type?(this.touchStartClientX=e.pageX,this.touchStartClientY=e.pageY):(this.touchStartClientX=e.touches[0].clientX,this.touchStartClientY=e.touches[0].clientY),e.preventDefault())}_touchEndEvent(e){if("mouseup"!==e.type&&(!window.navigator.msPointerEnabled&&e.touches.length>0||e.targetTouches.length>0))return;let t,a;window.navigator.msPointerEnabled||"mouseup"===e.type?(t=e.pageX,a=e.pageY):(t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY);const r=t-this.touchStartClientX,n=Math.abs(r),s=a-this.touchStartClientY,i=Math.abs(s);Math.max(n,i)>10&&this.emit("move",n>i?r>0?1:3:s>0?2:0)}destroy(){document.removeEventListener("keydown",this._keyboardEvent),this.removeButtonPress(this.retryButton),this.removeButtonPress(this.restartButton),this.removeButtonPress(this.keepPlayingButton),this.gameContainer.addEventListener("mousedown"),this.gameContainer.addEventListener("mouseup"),this.gameContainer.addEventListener(this.eventTouchstart),this.gameContainer.addEventListener(this.eventTouchmove),this.gameContainer.addEventListener(this.eventTouchend)}}class u{constructor(e){this.vue=e,this.tileContainer=this.vue.$refs.tileContainer,this.scoreContainer=this.vue.$refs.scoreContainer,this.bestContainer=this.vue.$refs.bestContainer,this.messageContainer=this.vue.$refs.messageContainer,this.score=0}actuate(e,t){const a=this;window.requestAnimationFrame((function(){a.clearContainer(a.tileContainer),e.cells.forEach((function(e){e.forEach((function(e){e&&a.addTile(e)}))})),a.updateScore(t.score),a.updateBestScore(t.bestScore),t.terminated&&(t.over?a.message(!1):t.won&&a.message(!0))}))}continueGame(){this.clearMessage()}clearContainer(e){for(;e.firstChild;)e.removeChild(e.firstChild)}addTile(e){const t=this,a=document.createElement("div"),r=document.createElement("div"),n=e.previousPosition||{x:e.x,y:e.y},s=this.positionClass(n),i=["tile","tile-"+e.value,s];e.value>2048&&i.push("tile-super"),this.applyClasses(a,i),r.classList.add("tile-inner"),r.textContent=e.value,e.previousPosition?window.requestAnimationFrame((function(){i[2]=t.positionClass({x:e.x,y:e.y}),t.applyClasses(a,i)})):e.mergedFrom?(i.push("tile-merged"),this.applyClasses(a,i),e.mergedFrom.forEach((function(e){t.addTile(e)}))):(i.push("tile-new"),this.applyClasses(a,i)),a.appendChild(r),this.tileContainer.appendChild(a)}applyClasses(e,t){e.setAttribute("class",t.join(" "))}normalizePosition(e){return{x:e.x+1,y:e.y+1}}positionClass(e){return"tile-position-"+(e=this.normalizePosition(e)).x+"-"+e.y}updateScore(e){this.clearContainer(this.scoreContainer);const t=e-this.score;if(this.score=e,this.scoreContainer.textContent=this.score,t>0){const e=document.createElement("div");e.classList.add("score-addition"),e.textContent="+"+t,this.scoreContainer.appendChild(e)}}updateBestScore(e){this.bestContainer.textContent=e}message(e){const t=e?"game-won":"game-over",a=e?"你赢啦!":"游戏结束!";this.messageContainer.classList.add(t),this.messageContainer.getElementsByTagName("p")[0].textContent=a}clearMessage(){this.messageContainer.classList.remove("game-won"),this.messageContainer.classList.remove("game-over")}}class b{constructor(e,t){this.vue=t,this.size=e,this.inputManager=new g(t),this.actuator=new u(t),this.startTiles=2,this.inputManager.on("move",this.move.bind(this)),this.inputManager.on("restart",this.restart.bind(this)),this.inputManager.on("keepPlaying",this.keepPlaying.bind(this)),this.setup()}destroy(){}restart(){this.vue.clearGameState(),this.actuator.continueGame(),this.setup()}keepPlaying(){this.keepPlaying=!0,this.actuator.continueGame()}isGameTerminated(){return this.over||this.won&&!this.keepPlaying}setup(){const e=this.vue.gameState;e?(this.grid=new p(e.grid.size,e.grid.cells),this.score=e.score,this.over=e.over,this.won=e.won,this.keepPlaying=e.keepPlaying):(this.grid=new p(this.size),this.score=0,this.over=!1,this.won=!1,this.keepPlaying=!1,this.addStartTiles()),this.actuate()}addStartTiles(){for(let e=0;e<this.startTiles;e++)this.addRandomTile()}addRandomTile(){if(this.grid.cellsAvailable()){const e=Math.random()<.9?2:4,t=new h(this.grid.randomAvailableCell(),e);this.grid.insertTile(t)}}actuate(){this.vue.bestScore<this.score&&this.vue.setBestScore(this.score),this.over?this.vue.clearGameState():this.vue.setGameState(this.serialize()),this.vue.state={grid:this.grid,score:this.score,over:this.over,won:this.won,bestScore:this.vue.bestScore,terminated:this.isGameTerminated()},this.actuator.actuate(this.grid,{score:this.score,over:this.over,won:this.won,bestScore:this.vue.bestScore,terminated:this.isGameTerminated()})}serialize(){return{grid:this.grid.serialize(),score:this.score,over:this.over,won:this.won,keepPlaying:this.keepPlaying}}prepareTiles(){this.grid.eachCell((function(e,t,a){a&&(a.mergedFrom=null,a.savePosition())}))}moveTile(e,t){this.grid.cells[e.x][e.y]=null,this.grid.cells[t.x][t.y]=e,e.updatePosition(t)}move(e){const t=this;if(this.isGameTerminated())return;let a,r;const n=this.getVector(e),s=this.buildTraversals(n);let i=!1;this.prepareTiles(),s.x.forEach((function(e){s.y.forEach((function(s){if(a={x:e,y:s},r=t.grid.cellContent(a),r){const e=t.findFarthestPosition(a,n),s=t.grid.cellContent(e.next);if(s&&s.value===r.value&&!s.mergedFrom){const a=new h(e.next,2*r.value);a.mergedFrom=[r,s],t.grid.insertTile(a),t.grid.removeTile(r),r.updatePosition(e.next),t.score+=a.value,2048===a.value&&(t.won=!0)}else t.moveTile(r,e.farthest);t.positionsEqual(a,r)||(i=!0)}}))})),i&&(this.addRandomTile(),this.movesAvailable()||(this.over=!0),this.actuate())}getVector(e){return{0:{x:0,y:-1},1:{x:1,y:0},2:{x:0,y:1},3:{x:-1,y:0}}[e]}buildTraversals(e){const t={x:[],y:[]};for(let a=0;a<this.size;a++)t.x.push(a),t.y.push(a);return 1===e.x&&(t.x=t.x.reverse()),1===e.y&&(t.y=t.y.reverse()),t}findFarthestPosition(e,t){let a;do{a=e,e={x:a.x+t.x,y:a.y+t.y}}while(this.grid.withinBounds(e)&&this.grid.cellAvailable(e));return{farthest:a,next:e}}movesAvailable(){return this.grid.cellsAvailable()||this.tileMatchesAvailable()}tileMatchesAvailable(){const e=this;let t;for(let a=0;a<this.size;a++)for(let r=0;r<this.size;r++)if(t=this.grid.cellContent({x:a,y:r}),t)for(let n=0;n<4;n++){const s=e.getVector(n),i={x:a+s.x,y:r+s.y},o=e.grid.cellContent(i);if(o&&o.value===t.value)return!0}return!1}positionsEqual(e,t){return e.x===t.x&&e.y===t.y}}const{mapActions:v,mapState:w}=a("g2048");let y;const k=e("default",{name:"2048",components:{Container:t},data:()=>({state:{}}),computed:{...w({gameState:e=>e.gameState,bestScore:e=>e.bestScore})},mounted(){y=new b(4,this)},methods:{...v(["setBestScore","setGameState","clearGameState"])},beforeUnmount(){y.destroy()}});r("data-v-0c46a597");const z={class:"panel"},x={class:"container"},C={class:"above-game"},S={class:"scores-container"},E={class:"score-container",ref:"scoreContainer"},P={class:"best-container",ref:"bestContainer"},T={class:"restart-button",ref:"restartButton"},B={class:"game-container",ref:"gameContainer"},L={class:"game-message",ref:"messageContainer"},A=l("p",null,null,-1),M={class:"lower"},_={class:"keep-playing-button",ref:"keepPlayingButton"},Y={class:"retry-button",ref:"retryButton"},F={class:"grid-container"},G={class:"tile-container",ref:"tileContainer"};n(),k.render=function(e,t,a,r,n,h){const p=s("container");return m(),i(p,null,{default:o((()=>[l("div",z,[l("div",x,[l("div",C,[l("div",S,[l("div",E,"0",512),l("div",P,"0",512)]),l("a",T,"新游戏",512)]),l("div",B,[l("div",L,[A,l("div",M,[l("a",_,"继续挑战",512),l("a",Y,"重新开始",512)])],512),l("div",F,[(m(),c(f,null,d(16,(e=>l("div",{class:"grid-cell",key:e}))),64))]),l("div",G,null,512)],512)])])])),_:1})},k.__scopeId="data-v-0c46a597"}}}))}();
