import{a as d,I as l,v as t,C as _,a7 as h,w as m,j as o,o as r,bk as v,M as w,L as x,D as y,z as g,aQ as k,aq as V}from"./index-5f28A1cg.js";import{v as C}from"./el-loading-D5cmMSea.js";const D={"h-full":"","w-full":"",flex:"","flex-col":""},M={key:1,class:"i-icon-park-outline-search","cursor-pointer":""},q={"flex-1":"","overflow-auto":""},S=d({__name:"whois",setup(z){const s=l(!1),e=l(""),i=l();async function c(){if(e.value){s.value=!0;try{const n=(await k.get(`https://cors.iszy.xyz/https://www.iana.org/whois?q=${e.value}`)).data,a=new DOMParser().parseFromString(n,"text/html");i.value=a.querySelector("#results + pre")?.innerHTML}catch{V.error("查询失败")}s.value=!1}}return(n,a)=>{const u=x,p=C;return r(),t("div",D,[_(u,{modelValue:o(e),"onUpdate:modelValue":a[0]||(a[0]=f=>w(e)?e.value=f:null),placeholder:"输入域名查询",onKeyup:v(c,["enter"])},{suffix:m(()=>[o(s)?(r(),t("span",M)):(r(),t("span",{key:0,class:"i-icon-park-outline-search","cursor-pointer":"",onClick:c}))]),_:1},8,["modelValue"]),h((r(),t("pre",q,[y(g(o(i)),1)])),[[p,o(s)]])])}}});export{S as default};
