import{a8 as ot,n as E,by as Io,h as ce,bG as pe,j as p,m as Bt,k as we,u as Ce,R as $,a4 as Oo,bH as Ao,x as n,a7 as _e,ab as qt,ag as ue,$ as zo,p as wt,a9 as Ne,o as Q,a_ as No,aF as We,aH as bt,bv as Xe,a3 as Ie,am as Ot,l as St,a5 as Lo,K as _,al as je,aP as Wo,T as Rt,bI as Po,bJ as Do,y as At,aI as zt,Y as Fo,aD as $o,aG as Go,I as Ut,aB as Z,s as Ue,be as Vo,aN as Yt,bK as Ko,bL as jo,bM as ko,ba as Bo,z as Zt}from"./index-D2wiBBrc.js";import{c as qo}from"./castArray-CYH9HJEJ.js";import{c as Xt,r as Jt}from"./raf-C1HmfcYk.js";import{m as Uo}from"./memoize-one.esm-BdPwpGay.js";import{E as Yo}from"./el-empty-91JV7Db-.js";const Zo=()=>{const t=ot().proxy.$props;return E(()=>{const o=(l,a,r)=>({});return t.perfMode?Io(o):Uo(o)})},Nt=50,Lt="itemRendered",Wt="scroll",Ke="forward",at="backward",Te="auto",Qt="smart",st="start",Le="center",ct="end",it="horizontal",eo="vertical",to="rtl",dt="negative",oo="positive-ascending",lo="positive-descending",Xo={[it]:"left",[eo]:"top"},Jo=20,ut=pe({type:p([Number,Function]),required:!0}),ht=pe({type:Number}),ft=pe({type:Number,default:2}),Qo=pe({type:String,values:["ltr","rtl"],default:"ltr"}),mt=pe({type:Number,default:0}),et=pe({type:Number,required:!0}),no=pe({type:String,values:["horizontal","vertical"],default:eo}),ro=ce({className:{type:String,default:""},containerElement:{type:p([String,Object]),default:"div"},data:{type:p(Array),default:()=>Bt([])},direction:Qo,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:p([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),el=ce({cache:ft,estimatedItemSize:ht,layout:no,initScrollOffset:mt,total:et,itemSize:ut,...ro}),vt={type:Number,default:6},ao={type:Number,default:0},so={type:Number,default:2},He=ce({columnCache:ft,columnWidth:ut,estimatedColumnWidth:ht,estimatedRowHeight:ht,initScrollLeft:mt,initScrollTop:mt,itemKey:{type:p(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:ft,rowHeight:ut,totalColumn:et,totalRow:et,hScrollbarSize:vt,vScrollbarSize:vt,scrollbarStartGap:ao,scrollbarEndGap:so,role:String,...ro}),co=ce({alwaysOn:Boolean,class:String,layout:no,total:et,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:vt,startGap:ao,endGap:so,visible:Boolean}),Ze=(e,t)=>e<t?Ke:at,Pt=e=>e===to;let ze=null;function Dt(e=!1){if(ze===null||e){const t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const l=document.createElement("div"),a=l.style;return a.width="100px",a.height="100px",t.appendChild(l),document.body.appendChild(t),t.scrollLeft>0?ze=lo:(t.scrollLeft=1,t.scrollLeft===0?ze=dt:ze=oo),document.body.removeChild(t),ze}return ze}function tl({move:e,size:t,bar:o},l){const a={},r=`translate${o.axis}(${e}px)`;return a[o.size]=t,a.transform=r,l==="horizontal"?a.height="100%":a.width="100%",a}const Ft=we({name:"ElVirtualScrollBar",props:co,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const o=E(()=>e.startGap+e.endGap),l=Ce("virtual-scrollbar"),a=Ce("scrollbar"),r=$(),s=$();let c=null,m=null;const h=Oo({isDragging:!1,traveled:0}),d=E(()=>Ao[e.layout]),w=E(()=>e.clientSize-n(o)),y=E(()=>({position:"absolute",width:`${it===e.layout?w.value:e.scrollbarSize}px`,height:`${it===e.layout?e.scrollbarSize:w.value}px`,[Xo[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),v=E(()=>{const R=e.ratio,D=e.clientSize;if(R>=100)return Number.POSITIVE_INFINITY;if(R>=50)return R*D/100;const G=D/3;return Math.floor(Math.min(Math.max(R*D,Jo),G))}),g=E(()=>{if(!Number.isFinite(v.value))return{display:"none"};const R=`${v.value}px`;return tl({bar:d.value,size:R,move:h.traveled},e.layout)}),u=E(()=>Math.floor(e.clientSize-v.value-n(o))),i=()=>{window.addEventListener("mousemove",M),window.addEventListener("mouseup",H);const R=n(s);R&&(m=document.onselectstart,document.onselectstart=()=>!1,R.addEventListener("touchmove",M,{passive:!0}),R.addEventListener("touchend",H))},f=()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",H),document.onselectstart=m,m=null;const R=n(s);R&&(R.removeEventListener("touchmove",M),R.removeEventListener("touchend",H))},b=R=>{R.stopImmediatePropagation(),!(R.ctrlKey||[1,2].includes(R.button))&&(h.isDragging=!0,h[d.value.axis]=R.currentTarget[d.value.offset]-(R[d.value.client]-R.currentTarget.getBoundingClientRect()[d.value.direction]),t("start-move"),i())},H=()=>{h.isDragging=!1,h[d.value.axis]=0,t("stop-move"),f()},M=R=>{const{isDragging:D}=h;if(!D||!s.value||!r.value)return;const G=h[d.value.axis];if(!G)return;Xt(c);const K=(r.value.getBoundingClientRect()[d.value.direction]-R[d.value.client])*-1,x=s.value[d.value.offset]-G,I=K-x;c=Jt(()=>{h.traveled=Math.max(e.startGap,Math.min(I,u.value)),t("scroll",I,u.value)})},O=R=>{const D=Math.abs(R.target.getBoundingClientRect()[d.value.direction]-R[d.value.client]),G=s.value[d.value.offset]/2,K=D-G;h.traveled=Math.max(0,Math.min(K,u.value)),t("scroll",K,u.value)};return _e(()=>e.scrollFrom,R=>{h.isDragging||(h.traveled=Math.ceil(R*u.value))}),qt(()=>{f()}),()=>ue("div",{role:"presentation",ref:r,class:[l.b(),e.class,(e.alwaysOn||h.isDragging)&&"always-on"],style:y.value,onMousedown:zo(O,["stop","prevent"]),onTouchstartPrevent:b},ue("div",{ref:s,class:a.e("thumb"),style:g.value,onMousedown:b},[]))}});var ke=(e=>(e.ASC="asc",e.DESC="desc",e))(ke||{}),Be=(e=>(e.CENTER="center",e.RIGHT="right",e))(Be||{}),io=(e=>(e.LEFT="left",e.RIGHT="right",e))(io||{});const gt={asc:"desc",desc:"asc"},qe=Symbol("placeholder"),ol=(e,t,o)=>{var l;const a={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};o||(a.flexShrink=1);const r={...(l=e.style)!=null?l:{},...a,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(r.maxWidth=e.maxWidth),e.minWidth&&(r.minWidth=e.minWidth)),r};function ll(e,t,o){const l=E(()=>n(t).map((i,f)=>{var b,H;return{...i,key:(H=(b=i.key)!=null?b:i.dataKey)!=null?H:f}})),a=E(()=>n(l).filter(i=>!i.hidden)),r=E(()=>n(a).filter(i=>i.fixed==="left"||i.fixed===!0)),s=E(()=>n(a).filter(i=>i.fixed==="right")),c=E(()=>n(a).filter(i=>!i.fixed)),m=E(()=>{const i=[];return n(r).forEach(f=>{i.push({...f,placeholderSign:qe})}),n(c).forEach(f=>{i.push(f)}),n(s).forEach(f=>{i.push({...f,placeholderSign:qe})}),i}),h=E(()=>n(r).length||n(s).length),d=E(()=>n(l).reduce((i,f)=>(i[f.key]=ol(f,n(o),e.fixed),i),{})),w=E(()=>n(a).reduce((i,f)=>i+f.width,0)),y=i=>n(l).find(f=>f.key===i),v=i=>n(d)[i],g=(i,f)=>{i.width=f};function u(i){var f;const{key:b}=i.currentTarget.dataset;if(!b)return;const{sortState:H,sortBy:M}=e;let O=ke.ASC;wt(H)?O=gt[H[b]]:O=gt[M.order],(f=e.onColumnSort)==null||f.call(e,{column:y(b),key:b,order:O})}return{columns:l,columnsStyles:d,columnsTotalWidth:w,fixedColumnsOnLeft:r,fixedColumnsOnRight:s,hasFixedColumns:h,mainColumns:m,normalColumns:c,visibleColumns:a,getColumn:y,getColumnStyle:v,updateColumnWidth:g,onColumnSorted:u}}const nl=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:a})=>{const r=$({scrollLeft:0,scrollTop:0});function s(v){var g,u,i;const{scrollTop:f}=v;(g=t.value)==null||g.scrollTo(v),(u=o.value)==null||u.scrollToTop(f),(i=l.value)==null||i.scrollToTop(f)}function c(v){r.value=v,s(v)}function m(v){r.value.scrollTop=v,s(n(r))}function h(v){var g,u;r.value.scrollLeft=v,(u=(g=t.value)==null?void 0:g.scrollTo)==null||u.call(g,n(r))}function d(v){var g;c(v),(g=e.onScroll)==null||g.call(e,v)}function w({scrollTop:v}){const{scrollTop:g}=n(r);v!==g&&m(v)}function y(v,g="auto"){var u;(u=t.value)==null||u.scrollToRow(v,g)}return _e(()=>n(r).scrollTop,(v,g)=>{v>g&&a()}),{scrollPos:r,scrollTo:c,scrollToLeft:h,scrollToTop:m,scrollToRow:y,onScroll:d,onVerticalScroll:w}},rl=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:a,ns:r,isScrolling:s})=>{const c=ot(),{emit:m}=c,h=Ne(!1),d=$(e.defaultExpandedRowKeys||[]),w=$(-1),y=Ne(null),v=$({}),g=$({}),u=Ne({}),i=Ne({}),f=Ne({}),b=E(()=>Q(e.estimatedRowHeight));function H(x){var I;(I=e.onRowsRendered)==null||I.call(e,x),x.rowCacheEnd>n(w)&&(w.value=x.rowCacheEnd)}function M({hovered:x,rowKey:I}){if(s.value)return;a.vnode.el.querySelectorAll(`[rowkey="${String(I)}"]`).forEach(j=>{x?j.classList.add(r.is("hovered")):j.classList.remove(r.is("hovered"))})}function O({expanded:x,rowData:I,rowIndex:F,rowKey:L}){var j,B;const V=[...n(d)],U=V.indexOf(L);x?U===-1&&V.push(L):U>-1&&V.splice(U,1),d.value=V,m("update:expandedRowKeys",V),(j=e.onRowExpand)==null||j.call(e,{expanded:x,rowData:I,rowIndex:F,rowKey:L}),(B=e.onExpandedRowsChange)==null||B.call(e,V)}const R=No(()=>{var x,I,F,L;h.value=!0,v.value={...n(v),...n(g)},D(n(y),!1),g.value={},y.value=null,(x=t.value)==null||x.forceUpdate(),(I=o.value)==null||I.forceUpdate(),(F=l.value)==null||F.forceUpdate(),(L=c.proxy)==null||L.$forceUpdate(),h.value=!1},0);function D(x,I=!1){n(b)&&[t,o,l].forEach(F=>{const L=n(F);L&&L.resetAfterRowIndex(x,I)})}function G(x,I,F){const L=n(y);(L===null||L>F)&&(y.value=F),g.value[x]=I}function K({rowKey:x,height:I,rowIndex:F},L){L?L===io.RIGHT?f.value[x]=I:u.value[x]=I:i.value[x]=I;const j=Math.max(...[u,f,i].map(B=>B.value[x]||0));n(v)[x]!==j&&(G(x,j,F),R())}return{expandedRowKeys:d,lastRenderedRowIndex:w,isDynamic:b,isResetting:h,rowHeights:v,resetAfterIndex:D,onRowExpanded:O,onRowHovered:M,onRowsRendered:H,onRowHeightChange:K}},al=(e,{expandedRowKeys:t,lastRenderedRowIndex:o,resetAfterIndex:l})=>{const a=$({}),r=E(()=>{const c={},{data:m,rowKey:h}=e,d=n(t);if(!d||!d.length)return m;const w=[],y=new Set;d.forEach(g=>y.add(g));let v=m.slice();for(v.forEach(g=>c[g[h]]=0);v.length>0;){const g=v.shift();w.push(g),y.has(g[h])&&We(g.children)&&g.children.length>0&&(v=[...g.children,...v],g.children.forEach(u=>c[u[h]]=c[g[h]]+1))}return a.value=c,w}),s=E(()=>{const{data:c,expandColumnKey:m}=e;return m?n(r):c});return _e(s,(c,m)=>{c!==m&&(o.value=-1,l(0,!0))}),{data:s,depthMap:a}},sl=(e,t)=>e+t,Je=e=>We(e)?e.reduce(sl,0):e,Me=(e,t,o={})=>bt(e)?e(t):e??o,ye=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Xe(e[t])}),e),uo=e=>Ie(e)?t=>ue(e,t):e,cl=(e,{columnsTotalWidth:t,rowsHeight:o,fixedColumnsOnLeft:l,fixedColumnsOnRight:a})=>{const r=E(()=>{const{fixed:b,width:H,vScrollbarSize:M}=e,O=H-M;return b?Math.max(Math.round(n(t)),O):O}),s=E(()=>n(r)+e.vScrollbarSize),c=E(()=>{const{height:b=0,maxHeight:H=0,footerHeight:M,hScrollbarSize:O}=e;if(H>0){const R=n(v),D=n(o),K=n(y)+R+D+O;return Math.min(K,H-M)}return b-M}),m=E(()=>{const{maxHeight:b}=e,H=n(c);if(Q(b)&&b>0)return H;const M=n(o)+n(y)+n(v);return Math.min(H,M)}),h=b=>b.width,d=E(()=>Je(n(l).map(h))),w=E(()=>Je(n(a).map(h))),y=E(()=>Je(e.headerHeight)),v=E(()=>{var b;return(((b=e.fixedData)==null?void 0:b.length)||0)*e.rowHeight}),g=E(()=>n(c)-n(y)-n(v)),u=E(()=>{const{style:b={},height:H,width:M}=e;return ye({...b,height:H,width:M})}),i=E(()=>ye({height:e.footerHeight})),f=E(()=>({top:Xe(n(y)),bottom:Xe(e.footerHeight),width:Xe(e.width)}));return{bodyWidth:r,fixedTableHeight:m,mainTableHeight:c,leftTableWidth:d,rightTableWidth:w,headerWidth:s,windowHeight:g,footerHeight:i,emptyStyle:f,rootStyle:u,headerHeight:y}};function il(e){const t=$(),o=$(),l=$(),{columns:a,columnsStyles:r,columnsTotalWidth:s,fixedColumnsOnLeft:c,fixedColumnsOnRight:m,hasFixedColumns:h,mainColumns:d,onColumnSorted:w}=ll(e,Ot(e,"columns"),Ot(e,"fixed")),{scrollTo:y,scrollToLeft:v,scrollToTop:g,scrollToRow:u,onScroll:i,onVerticalScroll:f,scrollPos:b}=nl(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:$e}),H=Ce("table-v2"),M=ot(),O=Ne(!1),{expandedRowKeys:R,lastRenderedRowIndex:D,isDynamic:G,isResetting:K,rowHeights:x,resetAfterIndex:I,onRowExpanded:F,onRowHeightChange:L,onRowHovered:j,onRowsRendered:B}=rl(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:M,ns:H,isScrolling:O}),{data:V,depthMap:U}=al(e,{expandedRowKeys:R,lastRenderedRowIndex:D,resetAfterIndex:I}),oe=E(()=>{const{estimatedRowHeight:q,rowHeight:ae}=e,T=n(V);return Q(q)?Object.values(n(x)).reduce((S,C)=>S+C,0):T.length*ae}),{bodyWidth:be,fixedTableHeight:ie,mainTableHeight:le,leftTableWidth:Se,rightTableWidth:fe,headerWidth:ne,windowHeight:ee,footerHeight:re,emptyStyle:Oe,rootStyle:me,headerHeight:ve}=cl(e,{columnsTotalWidth:s,fixedColumnsOnLeft:c,fixedColumnsOnRight:m,rowsHeight:oe}),Pe=$(),De=E(()=>{const q=n(V).length===0;return We(e.fixedData)?e.fixedData.length===0&&q:q});function Fe(q){const{estimatedRowHeight:ae,rowHeight:T,rowKey:S}=e;return ae?n(x)[n(V)[q][S]]||ae:T}const ge=$(!1);function $e(){const{onEndReached:q}=e;if(!q)return;const{scrollTop:ae}=n(b),T=n(oe),S=n(ee),C=T-(ae+S)+e.hScrollbarSize;!ge.value&&n(D)>=0&&T<=ae+n(le)-n(ve)?(ge.value=!0,q(C)):ge.value=!1}return _e(()=>n(oe),()=>ge.value=!1),_e(()=>e.expandedRowKeys,q=>R.value=q,{deep:!0}),{columns:a,containerRef:Pe,mainTableRef:t,leftTableRef:o,rightTableRef:l,isDynamic:G,isResetting:K,isScrolling:O,hasFixedColumns:h,columnsStyles:r,columnsTotalWidth:s,data:V,expandedRowKeys:R,depthMap:U,fixedColumnsOnLeft:c,fixedColumnsOnRight:m,mainColumns:d,bodyWidth:be,emptyStyle:Oe,rootStyle:me,headerWidth:ne,footerHeight:re,mainTableHeight:le,fixedTableHeight:ie,leftTableWidth:Se,rightTableWidth:fe,showEmpty:De,getRowHeight:Fe,onColumnSorted:w,onRowHovered:j,onRowExpanded:F,onRowsRendered:B,onRowHeightChange:L,scrollTo:y,scrollToLeft:v,scrollToTop:g,scrollToRow:u,onScroll:i,onVerticalScroll:f}}const xt=Symbol("tableV2"),ho=String,Ye={type:p(Array),required:!0},Tt={type:p(Array)},fo={...Tt,required:!0},dl=String,$t={type:p(Array),default:()=>Bt([])},xe={type:Number,required:!0},mo={type:p([String,Number,Symbol]),default:"id"},Gt={type:p(Object)},Ee=ce({class:String,columns:Ye,columnsStyles:{type:p(Object),required:!0},depth:Number,expandColumnKey:dl,estimatedRowHeight:{...He.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:p(Function)},onRowHover:{type:p(Function)},onRowHeightChange:{type:p(Function)},rowData:{type:p(Object),required:!0},rowEventHandlers:{type:p(Object)},rowIndex:{type:Number,required:!0},rowKey:mo,style:{type:p(Object)}}),rt={type:Number,required:!0},Et=ce({class:String,columns:Ye,fixedHeaderData:{type:p(Array)},headerData:{type:p(Array),required:!0},headerHeight:{type:p([Number,Array]),default:50},rowWidth:rt,rowHeight:{type:Number,default:50},height:rt,width:rt}),Qe=ce({columns:Ye,data:fo,fixedData:Tt,estimatedRowHeight:Ee.estimatedRowHeight,width:xe,height:xe,headerWidth:xe,headerHeight:Et.headerHeight,bodyWidth:xe,rowHeight:xe,cache:el.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:He.scrollbarAlwaysOn,scrollbarStartGap:He.scrollbarStartGap,scrollbarEndGap:He.scrollbarEndGap,class:ho,style:Gt,containerStyle:Gt,getRowHeight:{type:p(Function),required:!0},rowKey:Ee.rowKey,onRowsRendered:{type:p(Function)},onScroll:{type:p(Function)}}),ul=ce({cache:Qe.cache,estimatedRowHeight:Ee.estimatedRowHeight,rowKey:mo,headerClass:{type:p([String,Function])},headerProps:{type:p([Object,Function])},headerCellProps:{type:p([Object,Function])},headerHeight:Et.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:p([String,Function])},rowProps:{type:p([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:p([Object,Function])},columns:Ye,data:fo,dataGetter:{type:p(Function)},fixedData:Tt,expandColumnKey:Ee.expandColumnKey,expandedRowKeys:$t,defaultExpandedRowKeys:$t,class:ho,fixed:Boolean,style:{type:p(Object)},width:xe,height:xe,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:He.hScrollbarSize,vScrollbarSize:He.vScrollbarSize,scrollbarAlwaysOn:co.alwaysOn,sortBy:{type:p(Object),default:()=>({})},sortState:{type:p(Object),default:void 0},onColumnSort:{type:p(Function)},onExpandedRowsChange:{type:p(Function)},onEndReached:{type:p(Function)},onRowExpand:Ee.onRowExpand,onScroll:Qe.onScroll,onRowsRendered:Qe.onRowsRendered,rowEventHandlers:Ee.rowEventHandlers}),hl="ElTableV2Header",fl=we({name:hl,props:Et,setup(e,{slots:t,expose:o}){const l=Ce("table-v2"),a=St("tableV2GridScrollLeft"),r=$(),s=E(()=>ye({width:e.width,height:e.height})),c=E(()=>ye({width:e.rowWidth,height:e.height})),m=E(()=>qo(n(e.headerHeight))),h=y=>{const v=n(r);je(()=>{v!=null&&v.scroll&&v.scroll({left:y})})},d=()=>{const y=l.e("fixed-header-row"),{columns:v,fixedHeaderData:g,rowHeight:u}=e;return g==null?void 0:g.map((i,f)=>{var b;const H=ye({height:u,width:"100%"});return(b=t.fixed)==null?void 0:b.call(t,{class:y,columns:v,rowData:i,rowIndex:-(f+1),style:H})})},w=()=>{const y=l.e("dynamic-header-row"),{columns:v}=e;return n(m).map((g,u)=>{var i;const f=ye({width:"100%",height:g});return(i=t.dynamic)==null?void 0:i.call(t,{class:y,columns:v,headerIndex:u,style:f})})};return Lo(()=>{a!=null&&a.value&&h(a.value)}),o({scrollToLeft:h}),()=>{if(!(e.height<=0))return _("div",{ref:r,class:e.class,style:n(s),role:"rowgroup"},[_("div",{style:n(c),class:l.e("header")},[w(),d()])])}}});var ml=fl;const vl=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:o,atYStartEdge:l},a)=>{let r=null,s=0,c=0;const m=(d,w)=>{const y=d<=0&&t.value||d>=0&&e.value,v=w<=0&&l.value||w>=0&&o.value;return y&&v};return{hasReachedEdge:m,onWheel:d=>{Xt(r);let w=d.deltaX,y=d.deltaY;Math.abs(w)>Math.abs(y)?y=0:w=0,d.shiftKey&&y!==0&&(w=y,y=0),!(m(s,c)&&m(s+w,c+y))&&(s+=w,c+=y,d.preventDefault(),r=Jt(()=>{a(s,c),s=0,c=0}))}}},vo=({name:e,clearCache:t,getColumnPosition:o,getColumnStartIndexForOffset:l,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:r,getEstimatedTotalWidth:s,getColumnOffset:c,getRowOffset:m,getRowPosition:h,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:w,initCache:y,injectToInstance:v,validateProps:g})=>we({name:e??"ElVirtualList",props:He,emits:[Lt,Wt],setup(u,{emit:i,expose:f,slots:b}){const H=Ce("vl");g(u);const M=ot(),O=$(y(u,M));v==null||v(M,O);const R=$(),D=$(),G=$(),K=$(null),x=$({isScrolling:!1,scrollLeft:Q(u.initScrollLeft)?u.initScrollLeft:0,scrollTop:Q(u.initScrollTop)?u.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Ke,yAxisScrollDir:Ke}),I=Zo(),F=E(()=>Number.parseInt(`${u.height}`,10)),L=E(()=>Number.parseInt(`${u.width}`,10)),j=E(()=>{const{totalColumn:T,totalRow:S,columnCache:C}=u,{isScrolling:A,xAxisScrollDir:z,scrollLeft:N}=n(x);if(T===0||S===0)return[0,0,0,0];const W=l(u,N,n(O)),P=a(u,W,N,n(O)),k=!A||z===at?Math.max(1,C):1,Y=!A||z===Ke?Math.max(1,C):1;return[Math.max(0,W-k),Math.max(0,Math.min(T-1,P+Y)),W,P]}),B=E(()=>{const{totalColumn:T,totalRow:S,rowCache:C}=u,{isScrolling:A,yAxisScrollDir:z,scrollTop:N}=n(x);if(T===0||S===0)return[0,0,0,0];const W=d(u,N,n(O)),P=w(u,W,N,n(O)),k=!A||z===at?Math.max(1,C):1,Y=!A||z===Ke?Math.max(1,C):1;return[Math.max(0,W-k),Math.max(0,Math.min(S-1,P+Y)),W,P]}),V=E(()=>r(u,n(O))),U=E(()=>s(u,n(O))),oe=E(()=>{var T;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:Q(u.height)?`${u.height}px`:u.height,width:Q(u.width)?`${u.width}px`:u.width},(T=u.style)!=null?T:{}]}),be=E(()=>{const T=`${n(U)}px`;return{height:`${n(V)}px`,pointerEvents:n(x).isScrolling?"none":void 0,width:T}}),ie=()=>{const{totalColumn:T,totalRow:S}=u;if(T>0&&S>0){const[P,k,Y,se]=n(j),[X,J,Ge,Mt]=n(B);i(Lt,{columnCacheStart:P,columnCacheEnd:k,rowCacheStart:X,rowCacheEnd:J,columnVisibleStart:Y,columnVisibleEnd:se,rowVisibleStart:Ge,rowVisibleEnd:Mt})}const{scrollLeft:C,scrollTop:A,updateRequested:z,xAxisScrollDir:N,yAxisScrollDir:W}=n(x);i(Wt,{xAxisScrollDir:N,scrollLeft:C,yAxisScrollDir:W,scrollTop:A,updateRequested:z})},le=T=>{const{clientHeight:S,clientWidth:C,scrollHeight:A,scrollLeft:z,scrollTop:N,scrollWidth:W}=T.currentTarget,P=n(x);if(P.scrollTop===N&&P.scrollLeft===z)return;let k=z;if(Pt(u.direction))switch(Dt()){case dt:k=-z;break;case lo:k=W-C-z;break}x.value={...P,isScrolling:!0,scrollLeft:k,scrollTop:Math.max(0,Math.min(N,A-S)),updateRequested:!0,xAxisScrollDir:Ze(P.scrollLeft,k),yAxisScrollDir:Ze(P.scrollTop,N)},je(()=>me()),ve(),ie()},Se=(T,S)=>{const C=n(F),A=(V.value-C)/S*T;ee({scrollTop:Math.min(V.value-C,A)})},fe=(T,S)=>{const C=n(L),A=(U.value-C)/S*T;ee({scrollLeft:Math.min(U.value-C,A)})},{onWheel:ne}=vl({atXStartEdge:E(()=>x.value.scrollLeft<=0),atXEndEdge:E(()=>x.value.scrollLeft>=U.value-n(L)),atYStartEdge:E(()=>x.value.scrollTop<=0),atYEndEdge:E(()=>x.value.scrollTop>=V.value-n(F))},(T,S)=>{var C,A,z,N;(A=(C=D.value)==null?void 0:C.onMouseUp)==null||A.call(C),(N=(z=G.value)==null?void 0:z.onMouseUp)==null||N.call(z);const W=n(L),P=n(F);ee({scrollLeft:Math.min(x.value.scrollLeft+T,U.value-W),scrollTop:Math.min(x.value.scrollTop+S,V.value-P)})});Wo(R,"wheel",ne,{passive:!1});const ee=({scrollLeft:T=x.value.scrollLeft,scrollTop:S=x.value.scrollTop})=>{T=Math.max(T,0),S=Math.max(S,0);const C=n(x);S===C.scrollTop&&T===C.scrollLeft||(x.value={...C,xAxisScrollDir:Ze(C.scrollLeft,T),yAxisScrollDir:Ze(C.scrollTop,S),scrollLeft:T,scrollTop:S,updateRequested:!0},je(()=>me()),ve(),ie())},re=(T=0,S=0,C=Te)=>{const A=n(x);S=Math.max(0,Math.min(S,u.totalColumn-1)),T=Math.max(0,Math.min(T,u.totalRow-1));const z=Do(H.namespace.value),N=n(O),W=r(u,N),P=s(u,N);ee({scrollLeft:c(u,S,C,A.scrollLeft,N,P>u.width?z:0),scrollTop:m(u,T,C,A.scrollTop,N,W>u.height?z:0)})},Oe=(T,S)=>{const{columnWidth:C,direction:A,rowHeight:z}=u,N=I.value(t&&C,t&&z,t&&A),W=`${T},${S}`;if($o(N,W))return N[W];{const[,P]=o(u,S,n(O)),k=n(O),Y=Pt(A),[se,X]=h(u,T,k),[J]=o(u,S,k);return N[W]={position:"absolute",left:Y?void 0:`${P}px`,right:Y?`${P}px`:void 0,top:`${X}px`,height:`${se}px`,width:`${J}px`},N[W]}},me=()=>{x.value.isScrolling=!1,je(()=>{I.value(-1,null,null)})};Rt(()=>{if(!Po)return;const{initScrollLeft:T,initScrollTop:S}=u,C=n(R);C&&(Q(T)&&(C.scrollLeft=T),Q(S)&&(C.scrollTop=S)),ie()});const ve=()=>{const{direction:T}=u,{scrollLeft:S,scrollTop:C,updateRequested:A}=n(x),z=n(R);if(A&&z){if(T===to)switch(Dt()){case dt:{z.scrollLeft=-S;break}case oo:{z.scrollLeft=S;break}default:{const{clientWidth:N,scrollWidth:W}=z;z.scrollLeft=W-N-S;break}}else z.scrollLeft=Math.max(0,S);z.scrollTop=Math.max(0,C)}},{resetAfterColumnIndex:Pe,resetAfterRowIndex:De,resetAfter:Fe}=M.proxy;f({windowRef:R,innerRef:K,getItemStyleCache:I,scrollTo:ee,scrollToItem:re,states:x,resetAfterColumnIndex:Pe,resetAfterRowIndex:De,resetAfter:Fe});const ge=()=>{const{scrollbarAlwaysOn:T,scrollbarStartGap:S,scrollbarEndGap:C,totalColumn:A,totalRow:z}=u,N=n(L),W=n(F),P=n(U),k=n(V),{scrollLeft:Y,scrollTop:se}=n(x),X=ue(Ft,{ref:D,alwaysOn:T,startGap:S,endGap:C,class:H.e("horizontal"),clientSize:N,layout:"horizontal",onScroll:fe,ratio:N*100/P,scrollFrom:Y/(P-N),total:z,visible:!0}),J=ue(Ft,{ref:G,alwaysOn:T,startGap:S,endGap:C,class:H.e("vertical"),clientSize:W,layout:"vertical",onScroll:Se,ratio:W*100/k,scrollFrom:se/(k-W),total:A,visible:!0});return{horizontalScrollbar:X,verticalScrollbar:J}},$e=()=>{var T;const[S,C]=n(j),[A,z]=n(B),{data:N,totalColumn:W,totalRow:P,useIsScrolling:k,itemKey:Y}=u,se=[];if(P>0&&W>0)for(let X=A;X<=z;X++)for(let J=S;J<=C;J++){const Ge=Y({columnIndex:J,data:N,rowIndex:X});se.push(ue(Fo,{key:Ge},(T=b.default)==null?void 0:T.call(b,{columnIndex:J,data:N,isScrolling:k?n(x).isScrolling:void 0,style:Oe(X,J),rowIndex:X})))}return se},q=()=>{const T=At(u.innerElement),S=$e();return[ue(T,{style:n(be),ref:K},zt(T)?S:{default:()=>S})]};return()=>{const T=At(u.containerElement),{horizontalScrollbar:S,verticalScrollbar:C}=ge(),A=q();return ue("div",{key:0,class:H.e("wrapper"),role:u.role},[ue(T,{class:u.className,style:n(oe),onScroll:le,ref:R},zt(T)?A:{default:()=>A}),S,C])}}}),{max:tt,min:go,floor:yo}=Math,gl={column:"columnWidth",row:"rowHeight"},yt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},he=(e,t,o,l)=>{const[a,r,s]=[o[l],e[gl[l]],o[yt[l]]];if(t>s){let c=0;if(s>=0){const m=a[s];c=m.offset+m.size}for(let m=s+1;m<=t;m++){const h=r(m);a[m]={offset:c,size:h},c+=h}o[yt[l]]=t}return a[t]},wo=(e,t,o,l,a,r)=>{for(;o<=l;){const s=o+yo((l-o)/2),c=he(e,s,t,r).offset;if(c===a)return s;c<a?o=s+1:l=s-1}return tt(0,o-1)},yl=(e,t,o,l,a)=>{const r=a==="column"?e.totalColumn:e.totalRow;let s=1;for(;o<r&&he(e,o,t,a).offset<l;)o+=s,s*=2;return wo(e,t,yo(o/2),go(o,r-1),l,a)},Vt=(e,t,o,l)=>{const[a,r]=[t[l],t[yt[l]]];return(r>0?a[r].offset:0)>=o?wo(e,t,0,r,o,l):yl(e,t,tt(0,r),o,l)},bo=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:o,row:l})=>{let a=0;if(o>=e&&(o=e-1),o>=0){const c=l[o];a=c.offset+c.size}const s=(e-o-1)*t;return a+s},So=({totalColumn:e},{column:t,estimatedColumnWidth:o,lastVisitedColumnIndex:l})=>{let a=0;if(l>e&&(l=e-1),l>=0){const c=t[l];a=c.offset+c.size}const s=(e-l-1)*o;return a+s},wl={column:So,row:bo},Kt=(e,t,o,l,a,r,s)=>{const[c,m]=[r==="row"?e.height:e.width,wl[r]],h=he(e,t,a,r),d=m(e,a),w=tt(0,go(d-c,h.offset)),y=tt(0,h.offset-c+s+h.size);switch(o===Qt&&(l>=y-c&&l<=w+c?o=Te:o=Le),o){case st:return w;case ct:return y;case Le:return Math.round(y+(w-y)/2);case Te:default:return l>=y&&l<=w?l:y>w||l<y?y:w}},bl=vo({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,o)=>{const l=he(e,t,o,"column");return[l.size,l.offset]},getRowPosition:(e,t,o)=>{const l=he(e,t,o,"row");return[l.size,l.offset]},getColumnOffset:(e,t,o,l,a,r)=>Kt(e,t,o,l,a,"column",r),getRowOffset:(e,t,o,l,a,r)=>Kt(e,t,o,l,a,"row",r),getColumnStartIndexForOffset:(e,t,o)=>Vt(e,o,t,"column"),getColumnStopIndexForStartIndex:(e,t,o,l)=>{const a=he(e,t,l,"column"),r=o+e.width;let s=a.offset+a.size,c=t;for(;c<e.totalColumn-1&&s<r;)c++,s+=he(e,t,l,"column").size;return c},getEstimatedTotalHeight:bo,getEstimatedTotalWidth:So,getRowStartIndexForOffset:(e,t,o)=>Vt(e,o,t,"row"),getRowStopIndexForStartIndex:(e,t,o,l)=>{const{totalRow:a,height:r}=e,s=he(e,t,l,"row"),c=o+r;let m=s.size+s.offset,h=t;for(;h<a-1&&m<c;)h++,m+=he(e,h,l,"row").size;return h},injectToInstance:(e,t)=>{const o=({columnIndex:r,rowIndex:s},c)=>{var m,h;c=Go(c)?!0:c,Q(r)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,r-1)),Q(s)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,s-1)),(m=e.exposed)==null||m.getItemStyleCache.value(-1,null,null),c&&((h=e.proxy)==null||h.$forceUpdate())},l=(r,s)=>{o({columnIndex:r},s)},a=(r,s)=>{o({rowIndex:r},s)};Object.assign(e.proxy,{resetAfterColumnIndex:l,resetAfterRowIndex:a,resetAfter:o})},initCache:({estimatedColumnWidth:e=Nt,estimatedRowHeight:t=Nt})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Sl=vo({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:o},l,a,r,s,c)=>{o=Number(o);const m=Math.max(0,e*t-o),h=Math.min(m,l*t),d=Math.max(0,l*t-o+c+t);switch(a==="smart"&&(r>=d-o&&r<=h+o?a=Te:a=Le),a){case st:return h;case ct:return d;case Le:{const w=Math.round(d+(h-d)/2);return w<Math.ceil(o/2)?0:w>m+Math.floor(o/2)?m:w}case Te:default:return r>=d&&r<=h?r:d>h||r<d?d:h}},getRowOffset:({rowHeight:e,height:t,totalRow:o},l,a,r,s,c)=>{t=Number(t);const m=Math.max(0,o*e-t),h=Math.min(m,l*e),d=Math.max(0,l*e-t+c+e);switch(a===Qt&&(r>=d-t&&r<=h+t?a=Te:a=Le),a){case st:return h;case ct:return d;case Le:{const w=Math.round(d+(h-d)/2);return w<Math.ceil(t/2)?0:w>m+Math.floor(t/2)?m:w}case Te:default:return r>=d&&r<=h?r:d>h||r<d?d:h}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:o},l,a)=>{const r=l*e,s=Math.ceil((o+a-r)/e);return Math.max(0,Math.min(t-1,l+s-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:o},l,a)=>{const r=l*e,s=Math.ceil((o+a-r)/e);return Math.max(0,Math.min(t-1,l+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Rl="ElTableV2Grid",xl=e=>{const t=$(),o=$(),l=$(0),a=E(()=>{const{data:i,rowHeight:f,estimatedRowHeight:b}=e;if(!b)return i.length*f}),r=E(()=>{const{fixedData:i,rowHeight:f}=e;return((i==null?void 0:i.length)||0)*f}),s=E(()=>Je(e.headerHeight)),c=E(()=>{const{height:i}=e;return Math.max(0,i-n(s)-n(r))}),m=E(()=>n(s)+n(r)>0),h=({data:i,rowIndex:f})=>i[f][e.rowKey];function d({rowCacheStart:i,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:H}){var M;(M=e.onRowsRendered)==null||M.call(e,{rowCacheStart:i,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:H})}function w(i,f){var b;(b=o.value)==null||b.resetAfterRowIndex(i,f)}function y(i,f){const b=n(t),H=n(o);wt(i)?(b==null||b.scrollToLeft(i.scrollLeft),l.value=i.scrollLeft,H==null||H.scrollTo(i)):(b==null||b.scrollToLeft(i),l.value=i,H==null||H.scrollTo({scrollLeft:i,scrollTop:f}))}function v(i){var f;(f=n(o))==null||f.scrollTo({scrollTop:i})}function g(i,f){var b;(b=n(o))==null||b.scrollToItem(i,1,f)}function u(){var i,f;(i=n(o))==null||i.$forceUpdate(),(f=n(t))==null||f.$forceUpdate()}return _e(()=>e.bodyWidth,()=>{var i;Q(e.estimatedRowHeight)&&((i=o.value)==null||i.resetAfter({columnIndex:0},!1))}),{bodyRef:o,forceUpdate:u,fixedRowHeight:r,gridHeight:c,hasHeader:m,headerHeight:s,headerRef:t,totalHeight:a,itemKey:h,onItemRendered:d,resetAfterRowIndex:w,scrollTo:y,scrollToTop:v,scrollToRow:g,scrollLeft:l}},Tl=we({name:Rl,props:Qe,setup(e,{slots:t,expose:o}){const{ns:l}=St(xt),{bodyRef:a,fixedRowHeight:r,gridHeight:s,hasHeader:c,headerRef:m,headerHeight:h,totalHeight:d,forceUpdate:w,itemKey:y,onItemRendered:v,resetAfterRowIndex:g,scrollTo:u,scrollToTop:i,scrollToRow:f,scrollLeft:b}=xl(e);Ut("tableV2GridScrollLeft",b),o({forceUpdate:w,totalHeight:d,scrollTo:u,scrollToTop:i,scrollToRow:f,resetAfterRowIndex:g});const H=()=>e.bodyWidth;return()=>{const{cache:M,columns:O,data:R,fixedData:D,useIsScrolling:G,scrollbarAlwaysOn:K,scrollbarEndGap:x,scrollbarStartGap:I,style:F,rowHeight:L,bodyWidth:j,estimatedRowHeight:B,headerWidth:V,height:U,width:oe,getRowHeight:be,onScroll:ie}=e,le=Q(B),Se=le?bl:Sl,fe=n(h);return _("div",{role:"table",class:[l.e("table"),e.class],style:F},[_(Se,{ref:a,data:R,useIsScrolling:G,itemKey:y,columnCache:0,columnWidth:le?H:j,totalColumn:1,totalRow:R.length,rowCache:M,rowHeight:le?be:L,width:oe,height:n(s),class:l.e("body"),role:"rowgroup",scrollbarStartGap:I,scrollbarEndGap:x,scrollbarAlwaysOn:K,onScroll:ie,onItemRendered:v,perfMode:!1},{default:ne=>{var ee;const re=R[ne.rowIndex];return(ee=t.row)==null?void 0:ee.call(t,{...ne,columns:O,rowData:re})}}),n(c)&&_(ml,{ref:m,class:l.e("header-wrapper"),columns:O,headerData:R,headerHeight:e.headerHeight,fixedHeaderData:D,rowWidth:V,rowHeight:L,width:oe,height:Math.min(fe+n(r),U)},{dynamic:t.header,fixed:t.row})])}}});var Ht=Tl;function El(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ie(e)}const Hl=(e,{slots:t})=>{const{mainTableRef:o,...l}=e;return _(Ht,Z({ref:o},l),El(t)?t:{default:()=>[t]})};var Cl=Hl;function _l(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ie(e)}const Ml=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:o,...l}=e;return _(Ht,Z({ref:o},l),_l(t)?t:{default:()=>[t]})};var pl=Ml;function Il(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ie(e)}const Ol=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:o,...l}=e;return _(Ht,Z({ref:o},l),Il(t)?t:{default:()=>[t]})};var Al=Ol;const zl=e=>{const{isScrolling:t}=St(xt),o=$(!1),l=$(),a=E(()=>Q(e.estimatedRowHeight)&&e.rowIndex>=0),r=(m=!1)=>{const h=n(l);if(!h)return;const{columns:d,onRowHeightChange:w,rowKey:y,rowIndex:v,style:g}=e,{height:u}=h.getBoundingClientRect();o.value=!0,je(()=>{if(m||u!==Number.parseInt(g.height)){const i=d[0],f=(i==null?void 0:i.placeholderSign)===qe;w==null||w({rowKey:y,height:u,rowIndex:v},i&&!f&&i.fixed)}})},s=E(()=>{const{rowData:m,rowIndex:h,rowKey:d,onRowHover:w}=e,y=e.rowEventHandlers||{},v={};return Object.entries(y).forEach(([g,u])=>{bt(u)&&(v[g]=i=>{u({event:i,rowData:m,rowIndex:h,rowKey:d})})}),w&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:g,hovered:u})=>{const i=v[g];v[g]=f=>{w({event:f,hovered:u,rowData:m,rowIndex:h,rowKey:d}),i==null||i(f)}}),v}),c=m=>{const{onRowExpand:h,rowData:d,rowIndex:w,rowKey:y}=e;h==null||h({expanded:m,rowData:d,rowIndex:w,rowKey:y})};return Rt(()=>{n(a)&&r(!0)}),{isScrolling:t,measurable:a,measured:o,rowRef:l,eventHandlers:s,onExpand:c}},Nl="ElTableV2TableRow",Ll=we({name:Nl,props:Ee,setup(e,{expose:t,slots:o,attrs:l}){const{eventHandlers:a,isScrolling:r,measurable:s,measured:c,rowRef:m,onExpand:h}=zl(e);return t({onExpand:h}),()=>{const{columns:d,columnsStyles:w,expandColumnKey:y,depth:v,rowData:g,rowIndex:u,style:i}=e;let f=d.map((b,H)=>{const M=We(g.children)&&g.children.length>0&&b.key===y;return o.cell({column:b,columns:d,columnIndex:H,depth:v,style:w[b.key],rowData:g,rowIndex:u,isScrolling:n(r),expandIconProps:M?{rowData:g,rowIndex:u,onExpand:h}:void 0})});if(o.row&&(f=o.row({cells:f.map(b=>We(b)&&b.length===1?b[0]:b),style:i,columns:d,depth:v,rowData:g,rowIndex:u,isScrolling:n(r)})),n(s)){const{height:b,...H}=i||{},M=n(c);return _("div",Z({ref:m,class:e.class,style:M?i:H,role:"row"},l,n(a)),[f])}return _("div",Z(l,{ref:m,class:e.class,style:i,role:"row"},n(a)),[f])}}});var Wl=Ll;function Pl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ie(e)}const Dl=(e,{slots:t})=>{const{columns:o,columnsStyles:l,depthMap:a,expandColumnKey:r,expandedRowKeys:s,estimatedRowHeight:c,hasFixedColumns:m,rowData:h,rowIndex:d,style:w,isScrolling:y,rowProps:v,rowClass:g,rowKey:u,rowEventHandlers:i,ns:f,onRowHovered:b,onRowExpanded:H}=e,M=Me(g,{columns:o,rowData:h,rowIndex:d},""),O=Me(v,{columns:o,rowData:h,rowIndex:d}),R=h[u],D=a[R]||0,G=!!r,K=d<0,x=[f.e("row"),M,{[f.e(`row-depth-${D}`)]:G&&d>=0,[f.is("expanded")]:G&&s.includes(R),[f.is("fixed")]:!D&&K,[f.is("customized")]:!!t.row}],I=m?b:void 0,F={...O,columns:o,columnsStyles:l,class:x,depth:D,expandColumnKey:r,estimatedRowHeight:K?void 0:c,isScrolling:y,rowIndex:d,rowData:h,rowKey:R,rowEventHandlers:i,style:w};return _(Wl,Z(F,{onRowExpand:H,onMouseenter:B=>{I==null||I({hovered:!0,rowKey:R,event:B,rowData:h,rowIndex:d})},onMouseleave:B=>{I==null||I({hovered:!1,rowKey:R,event:B,rowData:h,rowIndex:d})},rowkey:R}),Pl(t)?t:{default:()=>[t]})};var Fl=Dl;const Ct=(e,{slots:t})=>{var o;const{cellData:l,style:a}=e,r=((o=l==null?void 0:l.toString)==null?void 0:o.call(l))||"",s=Ue(t,"default",e,()=>[r]);return _("div",{class:e.class,title:r,style:a},[s])};Ct.displayName="ElTableV2Cell";Ct.inheritAttrs=!1;var $l=Ct;const Gl=e=>{const{expanded:t,expandable:o,onExpand:l,style:a,size:r}=e,s={onClick:o?()=>l(!t):void 0,class:e.class};return _(Yt,Z(s,{size:r,style:a}),{default:()=>[_(Vo,null,null)]})};var Vl=Gl;const Ro=({columns:e,column:t,columnIndex:o,depth:l,expandIconProps:a,isScrolling:r,rowData:s,rowIndex:c,style:m,expandedRowKeys:h,ns:d,cellProps:w,expandColumnKey:y,indentSize:v,iconSize:g,rowKey:u},{slots:i})=>{const f=ye(m);if(t.placeholderSign===qe)return _("div",{class:d.em("row-cell","placeholder"),style:f},null);const{cellRenderer:b,dataKey:H,dataGetter:M}=t,O=bt(M)?M({columns:e,column:t,columnIndex:o,rowData:s,rowIndex:c}):Ko(s,H??""),R=Me(w,{cellData:O,columns:e,column:t,columnIndex:o,rowIndex:c,rowData:s}),D={class:d.e("cell-text"),columns:e,column:t,columnIndex:o,cellData:O,isScrolling:r,rowData:s,rowIndex:c},G=uo(b),K=G?G(D):Ue(i,"default",D,()=>[_($l,D,null)]),x=[d.e("row-cell"),t.class,t.align===Be.CENTER&&d.is("align-center"),t.align===Be.RIGHT&&d.is("align-right")],I=c>=0&&y&&t.key===y,F=c>=0&&h.includes(s[u]);let L;const j=`margin-inline-start: ${l*v}px;`;return I&&(wt(a)?L=_(Vl,Z(a,{class:[d.e("expand-icon"),d.is("expanded",F)],size:g,expanded:F,style:j,expandable:!0}),null):L=_("div",{style:[j,`width: ${g}px; height: ${g}px;`].join(" ")},null)),_("div",Z({class:x,style:f},R,{role:"cell"}),[L,K])};Ro.inheritAttrs=!1;var jt=Ro;const Kl=ce({class:String,columns:Ye,columnsStyles:{type:p(Object),required:!0},headerIndex:Number,style:{type:p(Object)}}),jl=we({name:"ElTableV2HeaderRow",props:Kl,setup(e,{slots:t}){return()=>{const{columns:o,columnsStyles:l,headerIndex:a,style:r}=e;let s=o.map((c,m)=>t.cell({columns:o,column:c,columnIndex:m,headerIndex:a,style:l[c.key]}));return t.header&&(s=t.header({cells:s.map(c=>We(c)&&c.length===1?c[0]:c),columns:o,headerIndex:a})),_("div",{class:e.class,style:r,role:"row"},[s])}}});var kl=jl;function Bl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ie(e)}const ql=({columns:e,columnsStyles:t,headerIndex:o,style:l,headerClass:a,headerProps:r,ns:s},{slots:c})=>{const m={columns:e,headerIndex:o},h=[s.e("header-row"),Me(a,m,""),{[s.is("customized")]:!!c.header}],d={...Me(r,m),columnsStyles:t,class:h,columns:e,headerIndex:o,style:l};return _(kl,d,Bl(c)?c:{default:()=>[c]})};var Ul=ql;const _t=(e,{slots:t})=>Ue(t,"default",e,()=>{var o,l;return[_("div",{class:e.class,title:(o=e.column)==null?void 0:o.title},[(l=e.column)==null?void 0:l.title])]});_t.displayName="ElTableV2HeaderCell";_t.inheritAttrs=!1;var Yl=_t;const Zl=e=>{const{sortOrder:t}=e;return _(Yt,{size:14,class:e.class},{default:()=>[t===ke.ASC?_(jo,null,null):_(ko,null,null)]})};var Xl=Zl;const Jl=(e,{slots:t})=>{const{column:o,ns:l,style:a,onColumnSorted:r}=e,s=ye(a);if(o.placeholderSign===qe)return _("div",{class:l.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:c,headerClass:m,sortable:h}=o,d={...e,class:l.e("header-cell-text")},w=uo(c),y=w?w(d):Ue(t,"default",d,()=>[_(Yl,d,null)]),{sortBy:v,sortState:g,headerCellProps:u}=e;let i,f;if(g){const M=g[o.key];i=!!gt[M],f=i?M:ke.ASC}else i=o.key===v.key,f=i?v.order:ke.ASC;const b=[l.e("header-cell"),Me(m,e,""),o.align===Be.CENTER&&l.is("align-center"),o.align===Be.RIGHT&&l.is("align-right"),h&&l.is("sortable")],H={...Me(u,e),onClick:o.sortable?r:void 0,class:b,style:s,"data-key":o.key};return _("div",Z(H,{role:"columnheader"}),[y,h&&_(Xl,{class:[l.e("sort-icon"),i&&l.is("sorting")],sortOrder:f},null)])};var kt=Jl;const xo=(e,{slots:t})=>{var o;return _("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};xo.displayName="ElTableV2Footer";var Ql=xo;const To=(e,{slots:t})=>{const o=Ue(t,"default",{},()=>[_(Yo,null,null)]);return _("div",{class:e.class,style:e.style},[o])};To.displayName="ElTableV2Empty";var en=To;const Eo=(e,{slots:t})=>{var o;return _("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};Eo.displayName="ElTableV2Overlay";var tn=Eo;function Ve(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ie(e)}const on="ElTableV2",ln=we({name:on,props:ul,setup(e,{slots:t,expose:o}){const l=Ce("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:r,fixedColumnsOnRight:s,mainColumns:c,mainTableHeight:m,fixedTableHeight:h,leftTableWidth:d,rightTableWidth:w,data:y,depthMap:v,expandedRowKeys:g,hasFixedColumns:u,mainTableRef:i,leftTableRef:f,rightTableRef:b,isDynamic:H,isResetting:M,isScrolling:O,bodyWidth:R,emptyStyle:D,rootStyle:G,headerWidth:K,footerHeight:x,showEmpty:I,scrollTo:F,scrollToLeft:L,scrollToTop:j,scrollToRow:B,getRowHeight:V,onColumnSorted:U,onRowHeightChange:oe,onRowHovered:be,onRowExpanded:ie,onRowsRendered:le,onScroll:Se,onVerticalScroll:fe}=il(e);return o({scrollTo:F,scrollToLeft:L,scrollToTop:j,scrollToRow:B}),Ut(xt,{ns:l,isResetting:M,isScrolling:O}),()=>{const{cache:ne,cellProps:ee,estimatedRowHeight:re,expandColumnKey:Oe,fixedData:me,headerHeight:ve,headerClass:Pe,headerProps:De,headerCellProps:Fe,sortBy:ge,sortState:$e,rowHeight:q,rowClass:ae,rowEventHandlers:T,rowKey:S,rowProps:C,scrollbarAlwaysOn:A,indentSize:z,iconSize:N,useIsScrolling:W,vScrollbarSize:P,width:k}=e,Y=n(y),se={cache:ne,class:l.e("main"),columns:n(c),data:Y,fixedData:me,estimatedRowHeight:re,bodyWidth:n(R)+P,headerHeight:ve,headerWidth:n(K),height:n(m),mainTableRef:i,rowKey:S,rowHeight:q,scrollbarAlwaysOn:A,scrollbarStartGap:2,scrollbarEndGap:P,useIsScrolling:W,width:k,getRowHeight:V,onRowsRendered:le,onScroll:Se},X=n(d),J=n(h),Ge={cache:ne,class:l.e("left"),columns:n(r),data:Y,fixedData:me,estimatedRowHeight:re,leftTableRef:f,rowHeight:q,bodyWidth:X,headerWidth:X,headerHeight:ve,height:J,rowKey:S,scrollbarAlwaysOn:A,scrollbarStartGap:2,scrollbarEndGap:P,useIsScrolling:W,width:X,getRowHeight:V,onScroll:fe},lt=n(w)+P,Ho={cache:ne,class:l.e("right"),columns:n(s),data:Y,fixedData:me,estimatedRowHeight:re,rightTableRef:b,rowHeight:q,bodyWidth:lt,headerWidth:lt,headerHeight:ve,height:J,rowKey:S,scrollbarAlwaysOn:A,scrollbarStartGap:2,scrollbarEndGap:P,width:lt,style:`--${n(l.namespace)}-table-scrollbar-size: ${P}px`,useIsScrolling:W,getRowHeight:V,onScroll:fe},Ae=n(a),Co={ns:l,depthMap:n(v),columnsStyles:Ae,expandColumnKey:Oe,expandedRowKeys:n(g),estimatedRowHeight:re,hasFixedColumns:n(u),rowProps:C,rowClass:ae,rowKey:S,rowEventHandlers:T,onRowHovered:be,onRowExpanded:ie,onRowHeightChange:oe},pt={cellProps:ee,expandColumnKey:Oe,indentSize:z,iconSize:N,rowKey:S,expandedRowKeys:n(g),ns:l},_o={ns:l,headerClass:Pe,headerProps:De,columnsStyles:Ae},It={ns:l,sortBy:ge,sortState:$e,headerCellProps:Fe,onColumnSorted:U},de={row:nt=>_(Fl,Z(nt,Co),{row:t.row,cell:te=>{let Re;return t.cell?_(jt,Z(te,pt,{style:Ae[te.column.key]}),Ve(Re=t.cell(te))?Re:{default:()=>[Re]}):_(jt,Z(te,pt,{style:Ae[te.column.key]}),null)}}),header:nt=>_(Ul,Z(nt,_o),{header:t.header,cell:te=>{let Re;return t["header-cell"]?_(kt,Z(te,It,{style:Ae[te.column.key]}),Ve(Re=t["header-cell"](te))?Re:{default:()=>[Re]}):_(kt,Z(te,It,{style:Ae[te.column.key]}),null)}})},Mo=[e.class,l.b(),l.e("root"),{[l.is("dynamic")]:n(H)}],po={class:l.e("footer"),style:n(x)};return _("div",{class:Mo,style:n(G)},[_(Cl,se,Ve(de)?de:{default:()=>[de]}),_(pl,Ge,Ve(de)?de:{default:()=>[de]}),_(Al,Ho,Ve(de)?de:{default:()=>[de]}),t.footer&&_(Ql,po,{default:t.footer}),n(I)&&_(en,{class:l.e("empty"),style:n(D)},{default:t.empty}),t.overlay&&_(tn,{class:l.e("overlay")},{default:t.overlay})])}}});var nn=ln;const rn=ce({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:p(Function)}}),an=e=>{const t=$(),o=$(0),l=$(0);let a;return Rt(()=>{a=Bo(t,([r])=>{const{width:s,height:c}=r.contentRect,{paddingLeft:m,paddingRight:h,paddingTop:d,paddingBottom:w}=getComputedStyle(r.target),y=Number.parseInt(m)||0,v=Number.parseInt(h)||0,g=Number.parseInt(d)||0,u=Number.parseInt(w)||0;o.value=s-y-v,l.value=c-g-u}).stop}),qt(()=>{a==null||a()}),_e([o,l],([r,s])=>{var c;(c=e.onResize)==null||c.call(e,{width:r,height:s})}),{sizer:t,width:o,height:l}},sn=we({name:"ElAutoResizer",props:rn,setup(e,{slots:t}){const o=Ce("auto-resizer"),{height:l,width:a,sizer:r}=an(e),s={width:"100%",height:"100%"};return()=>{var c;return _("div",{ref:r,class:o.b(),style:s},[(c=t.default)==null?void 0:c.call(t,{height:l.value,width:a.value})])}}});var cn=sn;const vn=Zt(nn),gn=Zt(cn);export{gn as E,io as F,vn as a};
