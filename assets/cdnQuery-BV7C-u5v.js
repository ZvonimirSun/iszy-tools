import{_ as Qe,k as Oe,u as Pe,q as ae,r as A,w as W,s as ft,aB as cr,aC as fr,x as S,ah as hr,z as At,aD as at,aE as pr,aF as He,aG as ot,aH as Be,a4 as mr,aI as Ge,aJ as _t,aK as gr,p as yr,aL as It,al as st,l as Ie,ag as Ot,I as Le,R as V,aM as rt,aN as vr,V as Ne,ai as it,an as ut,E as z,F as U,K as Y,G,y as br,v as me,$ as ye,t as kr,Y as pe,Z as $e,aO as Nr,aP as Cr,a7 as fe,aQ as wr,a8 as Rt,T as xr,a5 as Dr,aR as Er,aS as ve,H as te,aT as Ir,j as Me,aU as Or,n as Bt,aV as Pr,aW as Tr,N as ee,X as Pt,W as jr,aX as Sr,aA as qr,aY as Tt,a0 as Kr}from"./index-1Gxk3gC0.js";import{E as Ar}from"./el-checkbox-CCSuYr3F.js";import{E as _r}from"./el-text-CtTtgGmk.js";/* empty css               */import{s as Rr,a as Br,E as $r}from"./el-select-CYigT38h.js";import"./el-popper-DjvKtvrr.js";import{E as Lr}from"./el-pagination-DNMKDV6S.js";import{E as Fr}from"./el-divider-B-_2Oh2X.js";import{i as Ur,L as zr,P as Hr,T as Mr,a as Jr,b as Wr}from"./Router-CiqySeZu.js";import{E as Gr}from"./index-Bpqh6KRo.js";import"./strings-Dmi5H2Ef.js";import"./castArray-DBVHyqGx.js";import"./_baseIteratee-Bq0P7U2O.js";import"./index-D_yFxWID.js";import"./index-CkJlwJox.js";import"./index-MINv3kSx.js";const Qr=Oe({name:"ElCollapseTransition"}),Vr=Oe({...Qr,setup(o){const s=Pe("collapse-transition"),i=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},d={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){i(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){i(t)},leaveCancelled(t){i(t)}};return(t,l)=>(A(),ae(hr,cr({name:S(s).b()},fr(d)),{default:W(()=>[ft(t.$slots,"default")]),_:3},16,["name"]))}});var Yr=Qe(Vr,[["__file","collapse-transition.vue"]]);const Xr=At(Yr),Ee="$treeNodeId",jt=function(o,s){!s||s[Ee]||Object.defineProperty(s,Ee,{value:o.id,enumerable:!1,configurable:!1,writable:!1})},ht=(o,s)=>s?.[o||Ee],dt=(o,s,i)=>{const d=o.value.currentNode;i();const t=o.value.currentNode;d!==t&&s("current-change",t?t.data:null,t)},lt=o=>{let s=!0,i=!0,d=!0;for(let t=0,l=o.length;t<l;t++){const p=o[t];(p.checked!==!0||p.indeterminate)&&(s=!1,p.disabled||(d=!1)),(p.checked!==!1||p.indeterminate)&&(i=!1)}return{all:s,none:i,allWithoutDisable:d,half:!s&&!i}},Re=function(o){if(o.childNodes.length===0||o.loading)return;const{all:s,none:i,half:d}=lt(o.childNodes);s?(o.checked=!0,o.indeterminate=!1):d?(o.checked=!1,o.indeterminate=!0):i&&(o.checked=!1,o.indeterminate=!1);const t=o.parent;!t||t.level===0||o.store.checkStrictly||Re(t)},Je=function(o,s){const i=o.store.props,d=o.data||{},t=i[s];if(Ge(t))return t(d,o);if(_t(t))return d[t];if(Be(t)){const l=d[s];return Be(l)?"":l}},ct=function(o,s){o.forEach(i=>{i.canFocus=s,ct(i.childNodes,s)})};let Zr=0;class Ce{constructor(s){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=Zr++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in s)at(s,i)&&(this[i]=s[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var s;const i=this.store;if(!i)throw new Error("[Node]store is required!");i.registerNode(this);const d=i.props;if(d&&typeof d.isLeaf<"u"){const p=Je(this,"isLeaf");pr(p)&&(this.isLeafByUser=p)}if(i.lazy!==!0&&this.data?(this.setData(this.data),i.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&i.lazy&&i.defaultExpandAll&&!this.isLeafByUser&&this.expand(),He(this.data)||jt(this,this.data),!this.data)return;const t=i.defaultExpandedKeys,l=i.key;l&&!ot(this.key)&&t&&t.includes(this.key)&&this.expand(null,i.autoExpandParent),l&&i.currentNodeKey!==void 0&&this.key===i.currentNodeKey&&(i.currentNode=this,i.currentNode.isCurrent=!0),i.lazy&&i._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((s=this.parent)==null?void 0:s.expanded)===!0)&&(this.canFocus=!0)}setData(s){He(s)||jt(this,s),this.data=s,this.childNodes=[];let i;this.level===0&&He(this.data)?i=this.data:i=Je(this,"children")||[];for(let d=0,t=i.length;d<t;d++)this.insertChild({data:i[d]})}get label(){return Je(this,"label")}get key(){const s=this.store.key;return this.data?this.data[s]:null}get disabled(){return Je(this,"disabled")}get nextSibling(){const s=this.parent;if(s){const i=s.childNodes.indexOf(this);if(i>-1)return s.childNodes[i+1]}return null}get previousSibling(){const s=this.parent;if(s){const i=s.childNodes.indexOf(this);if(i>-1)return i>0?s.childNodes[i-1]:null}return null}contains(s,i=!0){return(this.childNodes||[]).some(d=>d===s||i&&d.contains(s))}remove(){const s=this.parent;s&&s.removeChild(this)}insertChild(s,i,d){if(!s)throw new Error("InsertChild error: child is required.");if(!(s instanceof Ce)){if(!d){const t=this.getChildren(!0);t?.includes(s.data)||(Be(i)||i<0?t?.push(s.data):t?.splice(i,0,s.data))}Object.assign(s,{parent:this,store:this.store}),s=mr(new Ce(s)),s instanceof Ce&&s.initialize()}s.level=this.level+1,Be(i)||i<0?this.childNodes.push(s):this.childNodes.splice(i,0,s),this.updateLeafState()}insertBefore(s,i){let d;i&&(d=this.childNodes.indexOf(i)),this.insertChild(s,d)}insertAfter(s,i){let d;i&&(d=this.childNodes.indexOf(i),d!==-1&&(d+=1)),this.insertChild(s,d)}removeChild(s){const i=this.getChildren()||[],d=i.indexOf(s.data);d>-1&&i.splice(d,1);const t=this.childNodes.indexOf(s);t>-1&&(this.store&&this.store.deregisterNode(s),s.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(s){let i=null;for(let d=0;d<this.childNodes.length;d++)if(this.childNodes[d].data===s){i=this.childNodes[d];break}i&&this.removeChild(i)}expand(s,i){const d=()=>{if(i){let t=this.parent;for(;t&&t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,s&&s(),ct(this.childNodes,!0)};this.shouldLoadData()?this.loadData(t=>{He(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Re(this),d())}):d()}doCreateChildren(s,i={}){s.forEach(d=>{this.insertChild(Object.assign({data:d},i),void 0,!0)})}collapse(){this.expanded=!1,ct(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const s=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!s||s.length===0;return}this.isLeaf=!1}setChecked(s,i,d,t){if(this.indeterminate=s==="half",this.checked=s===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:p,allWithoutDisable:x}=lt(this.childNodes);!this.isLeaf&&!p&&x&&(this.checked=!1,s=!1);const q=()=>{if(i){const N=this.childNodes;for(let j=0,k=N.length;j<k;j++){const L=N[j];t=t||s!==!1;const B=L.disabled?L.checked:t;L.setChecked(B,i,!0,t)}const{half:b,all:E}=lt(N);E||(this.checked=E,this.indeterminate=b)}};if(this.shouldLoadData()){this.loadData(()=>{q(),Re(this)},{checked:s!==!1});return}else q()}const l=this.parent;!l||l.level===0||d||Re(l)}getChildren(s=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const d=this.store.props;let t="children";return d&&(t=d.children||"children"),Be(i[t])&&(i[t]=null),s&&!i[t]&&(i[t]=[]),i[t]}updateChildren(){const s=this.getChildren()||[],i=this.childNodes.map(l=>l.data),d={},t=[];s.forEach((l,p)=>{const x=l[Ee];!!x&&i.findIndex(N=>N?.[Ee]===x)>=0?d[x]={index:p,data:l}:t.push({index:p,data:l})}),this.store.lazy||i.forEach(l=>{d[l?.[Ee]]||this.removeChildByData(l)}),t.forEach(({index:l,data:p})=>{this.insertChild({data:p},l)}),this.updateLeafState()}loadData(s,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const d=l=>{this.childNodes=[],this.doCreateChildren(l,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),s&&s.call(this,l)},t=()=>{this.loading=!1};this.store.load(this,d,t)}else s&&s.call(this)}eachNode(s){const i=[this];for(;i.length;){const d=i.shift();i.unshift(...d.childNodes),s(d)}}reInitChecked(){this.store.checkStrictly||Re(this)}}class ea{constructor(s){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const i in s)at(s,i)&&(this[i]=s[i]);this.nodesMap={}}initialize(){if(this.root=new Ce({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const s=this.load;s(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()},gr)}else this._initDefaultCheckedNodes()}filter(s){const i=this.filterNodeMethod,d=this.lazy,t=async function(l){const p=l.root?l.root.childNodes:l.childNodes;for(const[x,q]of p.entries())q.visible=!!i?.call(q,s,q.data,q),x%80===0&&x>0&&await st(),await t(q);if(!l.visible&&p.length){let x=!0;x=!p.some(q=>q.visible),l.root?l.root.visible=x===!1:l.visible=x===!1}s&&l.visible&&!l.isLeaf&&(!d||l.loaded)&&l.expand()};t(this)}setData(s){s!==this.root.data?(this.nodesMap={},this.root.setData(s),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(s){if(s instanceof Ce)return s;const i=yr(s)?ht(this.key,s):s;return this.nodesMap[i]||null}insertBefore(s,i){var d;const t=this.getNode(i);(d=t.parent)==null||d.insertBefore({data:s},t)}insertAfter(s,i){var d;const t=this.getNode(i);(d=t.parent)==null||d.insertAfter({data:s},t)}remove(s){const i=this.getNode(s);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(s,i){const d=It(i)?this.root:this.getNode(i);d&&d.insertChild({data:s})}_initDefaultCheckedNodes(){const s=this.defaultCheckedKeys||[],i=this.nodesMap;s.forEach(d=>{const t=i[d];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(s){const i=this.defaultCheckedKeys||[];!ot(s.key)&&i.includes(s.key)&&s.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(s){s!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=s,this._initDefaultCheckedNodes())}registerNode(s){const i=this.key;if(!(!s||!s.data))if(!i)this.nodesMap[s.id]=s;else{const d=s.key;ot(d)||(this.nodesMap[d]=s)}}deregisterNode(s){!this.key||!s||!s.data||(s.childNodes.forEach(d=>{this.deregisterNode(d)}),delete this.nodesMap[s.key])}getCheckedNodes(s=!1,i=!1){const d=[],t=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(x=>{(x.checked||i&&x.indeterminate)&&(!s||s&&x.isLeaf)&&d.push(x.data),t(x)})};return t(this),d}getCheckedKeys(s=!1){return this.getCheckedNodes(s).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const s=[],i=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(l=>{l.indeterminate&&s.push(l.data),i(l)})};return i(this),s}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(s=>(s||{})[this.key])}_getAllNodes(){const s=[],i=this.nodesMap;for(const d in i)at(i,d)&&s.push(i[d]);return s}updateChildren(s,i){const d=this.nodesMap[s];if(!d)return;const t=d.childNodes;for(let l=t.length-1;l>=0;l--){const p=t[l];this.remove(p.data)}for(let l=0,p=i.length;l<p;l++){const x=i[l];this.append(x,d.data)}}_setCheckedKeys(s,i=!1,d){const t=this._getAllNodes().sort((q,N)=>q.level-N.level),l=Object.create(null),p=Object.keys(d);t.forEach(q=>q.setChecked(!1,!1));const x=q=>{q.childNodes.forEach(N=>{var b;l[N.data[s]]=!0,(b=N.childNodes)!=null&&b.length&&x(N)})};for(let q=0,N=t.length;q<N;q++){const b=t[q],E=b.data[s].toString();if(!p.includes(E)){b.checked&&!l[E]&&b.setChecked(!1,!1);continue}if(b.childNodes.length&&x(b),b.isLeaf||this.checkStrictly){b.setChecked(!0,!1);continue}if(b.setChecked(!0,!0),i){b.setChecked(!1,!1);const k=function(L){L.childNodes.forEach(w=>{w.isLeaf||w.setChecked(!1,!1),k(w)})};k(b)}}}setCheckedNodes(s,i=!1){const d=this.key,t={};s.forEach(l=>{t[(l||{})[d]]=!0}),this._setCheckedKeys(d,i,t)}setCheckedKeys(s,i=!1){this.defaultCheckedKeys=s;const d=this.key,t={};s.forEach(l=>{t[l]=!0}),this._setCheckedKeys(d,i,t)}setDefaultExpandedKeys(s){s=s||[],this.defaultExpandedKeys=s,s.forEach(i=>{const d=this.getNode(i);d&&d.expand(null,this.autoExpandParent)})}setChecked(s,i,d){const t=this.getNode(s);t&&t.setChecked(!!i,d)}getCurrentNode(){return this.currentNode}setCurrentNode(s){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=s,this.currentNode.isCurrent=!0}setUserCurrentNode(s,i=!0){var d;const t=s[this.key],l=this.nodesMap[t];this.setCurrentNode(l),i&&this.currentNode&&this.currentNode.level>1&&((d=this.currentNode.parent)==null||d.expand(null,!0))}setCurrentNodeKey(s,i=!0){var d;if(this.currentNodeKey=s,It(s)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const t=this.getNode(s);t&&(this.setCurrentNode(t),i&&this.currentNode&&this.currentNode.level>1&&((d=this.currentNode.parent)==null||d.expand(null,!0)))}}const pt="RootTree",$t="NodeInstance",St="TreeNodeMap",ta=Oe({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(o){const s=Pe("tree"),i=Ie($t),d=Ie(pt);return()=>{const t=o.node,{data:l,store:p}=t;return o.renderContent?o.renderContent(Ot,{_self:i,node:t,data:l,store:p}):ft(d.ctx.slots,"default",{node:t,data:l},()=>[Ot(_r,{tag:"span",truncated:!0,class:s.be("node","label")},()=>[t.label])])}}});var na=Qe(ta,[["__file","tree-node-content.vue"]]);function Lt(o){const s=Ie(St,null),i={treeNodeExpand:d=>{var t;o.node!==d&&((t=o.node)==null||t.collapse())},children:[]};return s&&s.children.push(i),Le(St,i),{broadcastExpanded:d=>{if(o.accordion)for(const t of i.children)t.treeNodeExpand(d)}}}const Ft=Symbol("dragEvents");function ra({props:o,ctx:s,el$:i,dropIndicator$:d,store:t}){const l=Pe("tree"),p=V({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Le(Ft,{treeNodeDragStart:({event:b,treeNode:E})=>{if(b.dataTransfer){if(Ge(o.allowDrag)&&!o.allowDrag(E.node))return b.preventDefault(),!1;b.dataTransfer.effectAllowed="move";try{b.dataTransfer.setData("text/plain","")}catch{}p.value.draggingNode=E,s.emit("node-drag-start",E.node,b)}},treeNodeDragOver:({event:b,treeNode:E})=>{if(!b.dataTransfer)return;const j=E,k=p.value.dropNode;k&&k.node.id!==j.node.id&&rt(k.$el,l.is("drop-inner"));const L=p.value.draggingNode;if(!L||!j)return;let B=!0,w=!0,J=!0,H=!0;Ge(o.allowDrop)&&(B=o.allowDrop(L.node,j.node,"prev"),H=w=o.allowDrop(L.node,j.node,"inner"),J=o.allowDrop(L.node,j.node,"next")),b.dataTransfer.dropEffect=w||B||J?"move":"none",(B||w||J)&&k?.node.id!==j.node.id&&(k&&s.emit("node-drag-leave",L.node,k.node,b),s.emit("node-drag-enter",L.node,j.node,b)),B||w||J?p.value.dropNode=j:p.value.dropNode=null,j.node.nextSibling===L.node&&(J=!1),j.node.previousSibling===L.node&&(B=!1),j.node.contains(L.node,!1)&&(w=!1),(L.node===j.node||L.node.contains(j.node))&&(B=!1,w=!1,J=!1);const X=j.$el,Q=X.querySelector(`.${l.be("node","content")}`).getBoundingClientRect(),C=i.value.getBoundingClientRect();let R;const oe=B?w?.25:J?.45:1:-1,ue=J?w?.75:B?.55:0:1;let P=-9999;const O=b.clientY-Q.top;O<Q.height*oe?R="before":O>Q.height*ue?R="after":w?R="inner":R="none";const I=X.querySelector(`.${l.be("node","expand-icon")}`).getBoundingClientRect(),se=d.value;R==="before"?P=I.top-C.top:R==="after"&&(P=I.bottom-C.top),se.style.top=`${P}px`,se.style.left=`${I.right-C.left}px`,R==="inner"?vr(X,l.is("drop-inner")):rt(X,l.is("drop-inner")),p.value.showDropIndicator=R==="before"||R==="after",p.value.allowDrop=p.value.showDropIndicator||H,p.value.dropType=R,s.emit("node-drag-over",L.node,j.node,b)},treeNodeDragEnd:b=>{var E,j;const{draggingNode:k,dropType:L,dropNode:B}=p.value;if(b.preventDefault(),b.dataTransfer&&(b.dataTransfer.dropEffect="move"),k?.node.data&&B){const w={data:k.node.data};L!=="none"&&k.node.remove(),L==="before"?(E=B.node.parent)==null||E.insertBefore(w,B.node):L==="after"?(j=B.node.parent)==null||j.insertAfter(w,B.node):L==="inner"&&B.node.insertChild(w),L!=="none"&&(t.value.registerNode(w),t.value.key&&k.node.eachNode(J=>{var H;(H=t.value.nodesMap[J.data[t.value.key]])==null||H.setChecked(J.checked,!t.value.checkStrictly)})),rt(B.$el,l.is("drop-inner")),s.emit("node-drag-end",k.node,B.node,L,b),L!=="none"&&s.emit("node-drop",k.node,B.node,L,b)}k&&!B&&s.emit("node-drag-end",k.node,null,L,b),p.value.showDropIndicator=!1,p.value.draggingNode=null,p.value.dropNode=null,p.value.allowDrop=!0}}),{dragState:p}}const aa=Oe({name:"ElTreeNode",components:{ElCollapseTransition:Xr,ElCheckbox:Ar,NodeContent:na,ElIcon:Cr,Loading:Nr},props:{node:{type:Ce,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(o,s){const i=Pe("tree"),{broadcastExpanded:d}=Lt(o),t=Ie(pt),l=V(!1),p=V(!1),x=V(),q=V(),N=V(),b=Ie(Ft),E=Rt();Le($t,E),o.node.expanded&&(l.value=!0,p.value=!0);const j=t.props.props.children||"children";fe(()=>{var P;const O=(P=o.node.data)==null?void 0:P[j];return O&&[...O]},()=>{o.node.updateChildren()}),fe(()=>o.node.indeterminate,P=>{B(o.node.checked,P)}),fe(()=>o.node.checked,P=>{B(P,o.node.indeterminate)}),fe(()=>o.node.childNodes.length,()=>o.node.reInitChecked()),fe(()=>o.node.expanded,P=>{st(()=>l.value=P),P&&(p.value=!0)});const k=P=>ht(t.props.nodeKey,P.data),L=P=>{const O=o.props.class;if(!O)return{};let I;if(Ge(O)){const{data:se}=P;I=O(se,P)}else I=O;return _t(I)?{[I]:!0}:I},B=(P,O)=>{(x.value!==P||q.value!==O)&&t.ctx.emit("check-change",o.node.data,P,O),x.value=P,q.value=O},w=P=>{dt(t.store,t.ctx.emit,()=>{var O;if((O=t?.props)==null?void 0:O.nodeKey){const se=k(o.node);t.store.value.setCurrentNodeKey(se)}else t.store.value.setCurrentNode(o.node)}),t.currentNode.value=o.node,t.props.expandOnClickNode&&H(),(t.props.checkOnClickNode||o.node.isLeaf&&t.props.checkOnClickLeaf&&o.showCheckbox)&&!o.node.disabled&&X(!o.node.checked),t.ctx.emit("node-click",o.node.data,o.node,E,P)},J=P=>{var O;(O=t.instance.vnode.props)!=null&&O.onNodeContextmenu&&(P.stopPropagation(),P.preventDefault()),t.ctx.emit("node-contextmenu",P,o.node.data,o.node,E)},H=()=>{o.node.isLeaf||(l.value?(t.ctx.emit("node-collapse",o.node.data,o.node,E),o.node.collapse()):o.node.expand(()=>{s.emit("node-expand",o.node.data,o.node,E)}))},X=P=>{o.node.setChecked(P,!t?.props.checkStrictly),st(()=>{const O=t.store.value;t.ctx.emit("check",o.node.data,{checkedNodes:O.getCheckedNodes(),checkedKeys:O.getCheckedKeys(),halfCheckedNodes:O.getHalfCheckedNodes(),halfCheckedKeys:O.getHalfCheckedKeys()})})};return{ns:i,node$:N,tree:t,expanded:l,childNodeRendered:p,oldChecked:x,oldIndeterminate:q,getNodeKey:k,getNodeClass:L,handleSelectChange:B,handleClick:w,handleContextMenu:J,handleExpandIconClick:H,handleCheckChange:X,handleChildNodeExpand:(P,O,I)=>{d(O),t.ctx.emit("node-expand",P,O,I)},handleDragStart:P=>{t.props.draggable&&b.treeNodeDragStart({event:P,treeNode:o})},handleDragOver:P=>{P.preventDefault(),t.props.draggable&&b.treeNodeDragOver({event:P,treeNode:{$el:N.value,node:o.node}})},handleDrop:P=>{P.preventDefault()},handleDragEnd:P=>{t.props.draggable&&b.treeNodeDragEnd(P)},CaretRight:wr}}});function oa(o,s,i,d,t,l){const p=Ne("el-icon"),x=Ne("el-checkbox"),q=Ne("loading"),N=Ne("node-content"),b=Ne("el-tree-node"),E=Ne("el-collapse-transition");return it((A(),z("div",{ref:"node$",class:me([o.ns.b("node"),o.ns.is("expanded",o.expanded),o.ns.is("current",o.node.isCurrent),o.ns.is("hidden",!o.node.visible),o.ns.is("focusable",!o.node.disabled),o.ns.is("checked",!o.node.disabled&&o.node.checked),o.getNodeClass(o.node)]),role:"treeitem",tabindex:"-1","aria-expanded":o.expanded,"aria-disabled":o.node.disabled,"aria-checked":o.node.checked,draggable:o.tree.props.draggable,"data-key":o.getNodeKey(o.node),onClick:ye(o.handleClick,["stop"]),onContextmenu:o.handleContextMenu,onDragstart:ye(o.handleDragStart,["stop"]),onDragover:ye(o.handleDragOver,["stop"]),onDragend:ye(o.handleDragEnd,["stop"]),onDrop:ye(o.handleDrop,["stop"])},[U("div",{class:me(o.ns.be("node","content")),style:kr({paddingLeft:(o.node.level-1)*o.tree.props.indent+"px"})},[o.tree.props.icon||o.CaretRight?(A(),ae(p,{key:0,class:me([o.ns.be("node","expand-icon"),o.ns.is("leaf",o.node.isLeaf),{expanded:!o.node.isLeaf&&o.expanded}]),onClick:ye(o.handleExpandIconClick,["stop"])},{default:W(()=>[(A(),ae(br(o.tree.props.icon||o.CaretRight)))]),_:1},8,["class","onClick"])):G("v-if",!0),o.showCheckbox?(A(),ae(x,{key:1,"model-value":o.node.checked,indeterminate:o.node.indeterminate,disabled:!!o.node.disabled,onClick:ye(()=>{},["stop"]),onChange:o.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):G("v-if",!0),o.node.loading?(A(),ae(p,{key:2,class:me([o.ns.be("node","loading-icon"),o.ns.is("loading")])},{default:W(()=>[Y(q)]),_:1},8,["class"])):G("v-if",!0),Y(N,{node:o.node,"render-content":o.renderContent},null,8,["node","render-content"])],6),Y(E,null,{default:W(()=>[!o.renderAfterExpand||o.childNodeRendered?it((A(),z("div",{key:0,class:me(o.ns.be("node","children")),role:"group","aria-expanded":o.expanded,onClick:ye(()=>{},["stop"])},[(A(!0),z(pe,null,$e(o.node.childNodes,j=>(A(),ae(b,{key:o.getNodeKey(j),"render-content":o.renderContent,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,node:j,accordion:o.accordion,props:o.props,onNodeExpand:o.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[ut,o.expanded]]):G("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[ut,o.node.visible]])}var sa=Qe(aa,[["render",oa],["__file","tree-node.vue"]]);function ia({el$:o},s){const i=Pe("tree");xr(()=>{l()}),Dr(()=>{Array.from(o.value.querySelectorAll("input[type=checkbox]")).forEach(x=>{x.setAttribute("tabindex","-1")})});function d(p,x){var q,N;const b=s.value.getNode(p[x].dataset.key);return b.canFocus&&b.visible&&(((q=b.parent)==null?void 0:q.expanded)||((N=b.parent)==null?void 0:N.level)===0)}Er(o,"keydown",p=>{const x=p.target;if(!x.className.includes(i.b("node")))return;const q=p.code,N=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),b=N.indexOf(x);let E;if([ve.up,ve.down].includes(q)){if(p.preventDefault(),q===ve.up){E=b===-1?0:b!==0?b-1:N.length-1;const k=E;for(;!d(N,E);){if(E--,E===k){E=-1;break}E<0&&(E=N.length-1)}}else{E=b===-1?0:b<N.length-1?b+1:0;const k=E;for(;!d(N,E);){if(E++,E===k){E=-1;break}E>=N.length&&(E=0)}}E!==-1&&N[E].focus()}[ve.left,ve.right].includes(q)&&(p.preventDefault(),x.click());const j=x.querySelector('[type="checkbox"]');[ve.enter,ve.numpadEnter,ve.space].includes(q)&&j&&(p.preventDefault(),j.click())});const l=()=>{var p;if(!o.value)return;const x=Array.from(o.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));Array.from(o.value.querySelectorAll("input[type=checkbox]")).forEach(b=>{b.setAttribute("tabindex","-1")});const N=o.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(N.length){N[0].setAttribute("tabindex","0");return}(p=x[0])==null||p.setAttribute("tabindex","0")}}const ua=Oe({name:"ElTree",components:{ElTreeNode:sa},props:{data:{type:Me(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:Me(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:Me(Function)},allowDrop:{type:Me(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ir}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(o,s){const{t:i}=Or(),d=Pe("tree"),t=Ie(Rr,null),l=V(new ea({key:o.nodeKey,data:o.data,lazy:o.lazy,props:o.props,load:o.load,currentNodeKey:o.currentNodeKey,checkStrictly:o.checkStrictly,checkDescendants:o.checkDescendants,defaultCheckedKeys:o.defaultCheckedKeys,defaultExpandedKeys:o.defaultExpandedKeys,autoExpandParent:o.autoExpandParent,defaultExpandAll:o.defaultExpandAll,filterNodeMethod:o.filterNodeMethod}));l.value.initialize();const p=V(l.value.root),x=V(null),q=V(null),N=V(null),{broadcastExpanded:b}=Lt(o),{dragState:E}=ra({props:o,ctx:s,el$:q,dropIndicator$:N,store:l});ia({el$:q},l);const j=Bt(()=>{const{childNodes:f}=p.value,$=t?t.hasFilteredOptions!==0:!1;return(!f||f.length===0||f.every(({visible:de})=>!de))&&!$});fe(()=>o.currentNodeKey,f=>{l.value.setCurrentNodeKey(f??null)}),fe(()=>o.defaultCheckedKeys,(f,$)=>{Ur(f,$)||l.value.setDefaultCheckedKey(f??[])}),fe(()=>o.defaultExpandedKeys,f=>{l.value.setDefaultExpandedKeys(f??[])}),fe(()=>o.data,f=>{l.value.setData(f)},{deep:!0}),fe(()=>o.checkStrictly,f=>{l.value.checkStrictly=f});const k=f=>{if(!o.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");l.value.filter(f)},L=f=>ht(o.nodeKey,f.data),B=f=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const $=l.value.getNode(f);if(!$)return[];const de=[$.data];let be=$.parent;for(;be&&be!==p.value;)de.push(be.data),be=be.parent;return de.reverse()},w=(f,$)=>l.value.getCheckedNodes(f,$),J=f=>l.value.getCheckedKeys(f),H=()=>{const f=l.value.getCurrentNode();return f?f.data:null},X=()=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const f=H();return f?f[o.nodeKey]:null},Q=(f,$)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");l.value.setCheckedNodes(f,$)},C=(f,$)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");l.value.setCheckedKeys(f,$)},R=(f,$,de)=>{l.value.setChecked(f,$,de)},oe=()=>l.value.getHalfCheckedNodes(),ue=()=>l.value.getHalfCheckedKeys(),P=(f,$=!0)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");dt(l,s.emit,()=>{b(f),l.value.setUserCurrentNode(f,$)})},O=(f,$=!0)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");dt(l,s.emit,()=>{b(),l.value.setCurrentNodeKey(f??null,$)})},I=f=>l.value.getNode(f),se=f=>{l.value.remove(f)},Te=(f,$)=>{l.value.append(f,$)},we=(f,$)=>{l.value.insertBefore(f,$)},le=(f,$)=>{l.value.insertAfter(f,$)},je=(f,$,de)=>{b($),s.emit("node-expand",f,$,de)},Se=(f,$)=>{if(!o.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");l.value.updateChildren(f,$)};return Le(pt,{ctx:s,props:o,store:l,root:p,currentNode:x,instance:Rt()}),Le(Pr,void 0),{ns:d,store:l,root:p,currentNode:x,dragState:E,el$:q,dropIndicator$:N,isEmpty:j,filter:k,getNodeKey:L,getNodePath:B,getCheckedNodes:w,getCheckedKeys:J,getCurrentNode:H,getCurrentKey:X,setCheckedNodes:Q,setCheckedKeys:C,setChecked:R,getHalfCheckedNodes:oe,getHalfCheckedKeys:ue,setCurrentNode:P,setCurrentKey:O,t:i,getNode:I,remove:se,append:Te,insertBefore:we,insertAfter:le,handleNodeExpand:je,updateKeyChildren:Se}}});function da(o,s,i,d,t,l){const p=Ne("el-tree-node");return A(),z("div",{ref:"el$",class:me([o.ns.b(),o.ns.is("dragging",!!o.dragState.draggingNode),o.ns.is("drop-not-allow",!o.dragState.allowDrop),o.ns.is("drop-inner",o.dragState.dropType==="inner"),{[o.ns.m("highlight-current")]:o.highlightCurrent}]),role:"tree"},[(A(!0),z(pe,null,$e(o.root.childNodes,x=>(A(),ae(p,{key:o.getNodeKey(x),node:x,props:o.props,accordion:o.accordion,"render-after-expand":o.renderAfterExpand,"show-checkbox":o.showCheckbox,"render-content":o.renderContent,onNodeExpand:o.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),o.isEmpty?(A(),z("div",{key:0,class:me(o.ns.e("empty-block"))},[ft(o.$slots,"empty",{},()=>{var x;return[U("span",{class:me(o.ns.e("empty-text"))},te((x=o.emptyText)!=null?x:o.t("el.tree.emptyText")),3)]})],2)):G("v-if",!0),it(U("div",{ref:"dropIndicator$",class:me(o.ns.e("drop-indicator"))},null,2),[[ut,o.dragState.showDropIndicator]])],2)}var la=Qe(ua,[["render",da],["__file","tree.vue"]]);const ca=At(la);var We={exports:{}};/*! algoliasearch.umd.js | 4.25.2 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */var fa=We.exports,qt;function ha(){return qt||(qt=1,function(o,s){(function(i,d){o.exports=d()})(fa,function(){function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,a)}return r}function t(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?d(Object(r),!0).forEach(function(a){i(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function l(e,n){if(e==null)return{};var r,a,u=function(g,y){if(g==null)return{};var h,m,v={},D=Object.keys(g);for(m=0;m<D.length;m++)h=D[m],y.indexOf(h)>=0||(v[h]=g[h]);return v}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}function p(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,a){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var u=[],c=!0,g=!1,y=void 0;try{for(var h,m=r[Symbol.iterator]();!(c=(h=m.next()).done)&&(u.push(h.value),!a||u.length!==a);c=!0);}catch(v){g=!0,y=v}finally{try{c||m.return==null||m.return()}finally{if(g)throw y}}return u}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(e){return function(n){if(Array.isArray(n)){for(var r=0,a=new Array(n.length);r<n.length;r++)a[r]=n[r];return a}}(e)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(e){var n,r="algoliasearch-client-js-".concat(e.key),a=function(){return n===void 0&&(n=e.localStorage||window.localStorage),n},u=function(){return JSON.parse(a().getItem(r)||"{}")},c=function(y){a().setItem(r,JSON.stringify(y))},g=function(){var y=e.timeToLive?1e3*e.timeToLive:null,h=u(),m=Object.fromEntries(Object.entries(h).filter(function(D){return p(D,2)[1].timestamp!==void 0}));if(c(m),y){var v=Object.fromEntries(Object.entries(m).filter(function(D){var T=p(D,2)[1],_=new Date().getTime();return!(T.timestamp+y<_)}));c(v)}};return{get:function(y,h){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){g();var v=JSON.stringify(y);return u()[v]}).then(function(v){return Promise.all([v?v.value:h(),v!==void 0])}).then(function(v){var D=p(v,2),T=D[0],_=D[1];return Promise.all([T,_||m.miss(T)])}).then(function(v){return p(v,1)[0]})},set:function(y,h){return Promise.resolve().then(function(){var m=u();return m[JSON.stringify(y)]={timestamp:new Date().getTime(),value:h},a().setItem(r,JSON.stringify(m)),h})},delete:function(y){return Promise.resolve().then(function(){var h=u();delete h[JSON.stringify(y)],a().setItem(r,JSON.stringify(h))})},clear:function(){return Promise.resolve().then(function(){a().removeItem(r)})}}}function N(e){var n=x(e.caches),r=n.shift();return r===void 0?{get:function(a,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},g=u();return g.then(function(y){return Promise.all([y,c.miss(y)])}).then(function(y){return p(y,1)[0]})},set:function(a,u){return Promise.resolve(u)},delete:function(a){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(a,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(a,u,c).catch(function(){return N({caches:n}).get(a,u,c)})},set:function(a,u){return r.set(a,u).catch(function(){return N({caches:n}).set(a,u)})},delete:function(a){return r.delete(a).catch(function(){return N({caches:n}).delete(a)})},clear:function(){return r.clear().catch(function(){return N({caches:n}).clear()})}}}function b(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},n={};return{get:function(r,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},c=JSON.stringify(r);if(c in n)return Promise.resolve(e.serializable?JSON.parse(n[c]):n[c]);var g=a(),y=u&&u.miss||function(){return Promise.resolve()};return g.then(function(h){return y(h)}).then(function(){return g})},set:function(r,a){return n[JSON.stringify(r)]=e.serializable?JSON.stringify(a):a,Promise.resolve(a)},delete:function(r){return delete n[JSON.stringify(r)],Promise.resolve()},clear:function(){return n={},Promise.resolve()}}}function E(e,n,r){var a={"x-algolia-api-key":r,"x-algolia-application-id":n};return{headers:function(){return e===J.WithinHeaders?a:{}},queryParameters:function(){return e===J.WithinQueryParameters?a:{}}}}function j(e){var n=0;return e(function r(){return n++,new Promise(function(a){setTimeout(function(){a(e(r))},Math.min(100*n,1e3))})})}function k(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,a){return Promise.resolve()};return Object.assign(e,{wait:function(r){return k(e.then(function(a){return Promise.all([n(a,r),a])}).then(function(a){return a[1]}))}})}function L(e){for(var n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=e[n];e[n]=e[r],e[r]=a}return e}function B(e,n){return n&&Object.keys(n).forEach(function(r){e[r]=n[r](e)}),e}function w(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var u=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[u++])})}var J={WithinQueryParameters:0,WithinHeaders:1};function H(e,n){var r=e||{},a=r.data||{};return Object.keys(r).forEach(function(u){["timeout","headers","queryParameters","data","cacheable"].indexOf(u)===-1&&(a[u]=r[u])}),{data:Object.entries(a).length>0?a:void 0,timeout:r.timeout||n,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var X={Read:1,Write:2,Any:3},Q=1,C=2,R=3;function oe(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q;return t(t({},e),{},{status:n,lastUpdate:Date.now()})}function ue(e){return typeof e=="string"?{protocol:"https",url:e,accept:X.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||X.Any}}var P="DELETE",O="GET",I="POST",se="PUT";function Te(e,n){return Promise.all(n.map(function(r){return e.get(r,function(){return Promise.resolve(oe(r))})})).then(function(r){var a=r.filter(function(g){return function(y){return y.status===Q||Date.now()-y.lastUpdate>12e4}(g)}),u=r.filter(function(g){return function(y){return y.status===R&&Date.now()-y.lastUpdate<=12e4}(g)}),c=[].concat(x(a),x(u));return{getTimeout:function(g,y){return(u.length===0&&g===0?1:u.length+3+g)*y},statelessHosts:c.length>0?c.map(function(g){return ue(g)}):n}})}function we(e,n,r,a){var u=[],c=function(T,_){if(!(T.method===O||T.data===void 0&&_.data===void 0)){var K=Array.isArray(T.data)?T.data:t(t({},T.data),_.data);return JSON.stringify(K)}}(r,a),g=function(T,_){var K=t(t({},T.headers),_.headers),F={};return Object.keys(K).forEach(function(M){var ne=K[M];F[M.toLowerCase()]=ne}),F}(e,a),y=r.method,h=r.method!==O?{}:t(t({},r.data),a.data),m=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),h),a.queryParameters),v=0,D=function T(_,K){var F=_.pop();if(F===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:$(u)};var M={data:c,headers:g,method:y,url:Se(F,r.path,m),connectTimeout:K(v,e.timeouts.connect),responseTimeout:K(v,a.timeout)},ne=function(ie){var re={request:M,response:ie,host:F,triesLeft:_.length};return u.push(re),re},Ae={onSuccess:function(ie){return function(re){try{return JSON.parse(re.content)}catch(ke){throw function(ge,De){return{name:"DeserializationError",message:ge,response:De}}(ke.message,re)}}(ie)},onRetry:function(ie){var re=ne(ie);return ie.isTimedOut&&v++,Promise.all([e.logger.info("Retryable failure",de(re)),e.hostsCache.set(F,oe(F,ie.isTimedOut?R:C))]).then(function(){return T(_,K)})},onFail:function(ie){throw ne(ie),function(re,ke){var ge=re.content,De=re.status,_e=ge;try{_e=JSON.parse(ge).message}catch{}return function(ze,nt,lr){return{name:"ApiError",message:ze,status:nt,transporterStackTrace:lr}}(_e,De,ke)}(ie,$(u))}};return e.requester.send(M).then(function(ie){return function(re,ke){return function(ge){var De=ge.status;return ge.isTimedOut||function(_e){var ze=_e.isTimedOut,nt=_e.status;return!ze&&~~nt==0}(ge)||~~(De/100)!=2&&~~(De/100)!=4}(re)?ke.onRetry(re):~~(re.status/100)==2?ke.onSuccess(re):ke.onFail(re)}(ie,Ae)})};return Te(e.hostsCache,n).then(function(T){return D(x(T.statelessHosts).reverse(),T.getTimeout)})}function le(e){var n=e.hostsCache,r=e.logger,a=e.requester,u=e.requestsCache,c=e.responsesCache,g=e.timeouts,y=e.userAgent,h=e.hosts,m=e.queryParameters,v={hostsCache:n,logger:r,requester:a,requestsCache:u,responsesCache:c,timeouts:g,userAgent:y,headers:e.headers,queryParameters:m,hosts:h.map(function(D){return ue(D)}),read:function(D,T){var _=H(T,v.timeouts.read),K=function(){return we(v,v.hosts.filter(function(M){return(M.accept&X.Read)!=0}),D,_)};if((_.cacheable!==void 0?_.cacheable:D.cacheable)!==!0)return K();var F={request:D,mappedRequestOptions:_,transporter:{queryParameters:v.queryParameters,headers:v.headers}};return v.responsesCache.get(F,function(){return v.requestsCache.get(F,function(){return v.requestsCache.set(F,K()).then(function(M){return Promise.all([v.requestsCache.delete(F),M])},function(M){return Promise.all([v.requestsCache.delete(F),Promise.reject(M)])}).then(function(M){var ne=p(M,2);return ne[0],ne[1]})})},{miss:function(M){return v.responsesCache.set(F,M)}})},write:function(D,T){return we(v,v.hosts.filter(function(_){return(_.accept&X.Write)!=0}),D,H(T,v.timeouts.write))}};return v}function je(e){var n={value:"Algolia for JavaScript (".concat(e,")"),add:function(r){var a="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return n.value.indexOf(a)===-1&&(n.value="".concat(n.value).concat(a)),n}};return n}function Se(e,n,r){var a=f(r),u="".concat(e.protocol,"://").concat(e.url,"/").concat(n.charAt(0)==="/"?n.substr(1):n);return a.length&&(u+="?".concat(a)),u}function f(e){return Object.keys(e).map(function(n){return w("%s=%s",n,(r=e[n],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(e[n]):e[n]));var r}).join("&")}function $(e){return e.map(function(n){return de(n)})}function de(e){var n=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),n)})})}var be=function(e){return function(n,r){return e.transporter.write({method:I,path:"2/abtests",data:n},r)}},zt=function(e){return function(n,r){return e.transporter.write({method:P,path:w("2/abtests/%s",n)},r)}},Ht=function(e){return function(n,r){return e.transporter.read({method:O,path:w("2/abtests/%s",n)},r)}},Mt=function(e){return function(n){return e.transporter.read({method:O,path:"2/abtests"},n)}},Jt=function(e){return function(n,r){return e.transporter.write({method:I,path:w("2/abtests/%s/stop",n)},r)}},Wt=function(e){return function(n){return e.transporter.read({method:O,path:"1/strategies/personalization"},n)}},Gt=function(e){return function(n,r){return e.transporter.write({method:I,path:"1/strategies/personalization",data:n},r)}};function Ve(e){return function n(r){return e.request(r).then(function(a){if(e.batch!==void 0&&e.batch(a.hits),!e.shouldStop(a))return a.cursor?n({cursor:a.cursor}):n({page:(r.page||0)+1})})}({})}var Qt=function(e){return function(n,r){var a=r||{},u=a.queryParameters,c=l(a,["queryParameters"]),g=t({acl:n},u!==void 0?{queryParameters:u}:{});return k(e.transporter.write({method:I,path:"1/keys",data:g},c),function(y,h){return j(function(m){return qe(e)(y.key,h).catch(function(v){if(v.status!==404)throw v;return m()})})})}},Vt=function(e){return function(n,r,a){var u=H(a);return u.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:I,path:"1/clusters/mapping",data:{cluster:r}},u)}},Yt=function(e){return function(n,r,a){return e.transporter.write({method:I,path:"1/clusters/mapping/batch",data:{users:n,cluster:r}},a)}},Xt=function(e){return function(n,r){return k(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),function(a,u){return xe(e)(a.taskID,u)})}},Fe=function(e){return function(n,r,a){return k(e.transporter.write({method:I,path:w("1/indexes/%s/operation",n),data:{operation:"copy",destination:r}},a),function(u,c){return Ke(e)(n,{methods:{waitTask:Z}}).waitTask(u.taskID,c)})}},Zt=function(e){return function(n,r,a){return Fe(e)(n,r,t(t({},a),{},{scope:[tt.Rules]}))}},en=function(e){return function(n,r,a){return Fe(e)(n,r,t(t({},a),{},{scope:[tt.Settings]}))}},tn=function(e){return function(n,r,a){return Fe(e)(n,r,t(t({},a),{},{scope:[tt.Synonyms]}))}},nn=function(e){return function(n,r){return n.method===O?e.transporter.read(n,r):e.transporter.write(n,r)}},rn=function(e){return function(n,r){return k(e.transporter.write({method:P,path:w("1/keys/%s",n)},r),function(a,u){return j(function(c){return qe(e)(n,u).then(c).catch(function(g){if(g.status!==404)throw g})})})}},an=function(e){return function(n,r,a){var u=r.map(function(c){return{action:"deleteEntry",body:{objectID:c}}});return k(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(c,g){return xe(e)(c.taskID,g)})}},qe=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/keys/%s",n)},r)}},mt=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/task/%s",n.toString())},r)}},on=function(e){return function(n){return e.transporter.read({method:O,path:"/1/dictionaries/*/settings"},n)}},sn=function(e){return function(n){return e.transporter.read({method:O,path:"1/logs"},n)}},un=function(e){return function(n){return e.transporter.read({method:O,path:"1/clusters/mapping/top"},n)}},dn=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/clusters/mapping/%s",n)},r)}},ln=function(e){return function(n){var r=n||{},a=r.retrieveMappings,u=l(r,["retrieveMappings"]);return a===!0&&(u.getClusters=!0),e.transporter.read({method:O,path:"1/clusters/mapping/pending"},u)}},Ke=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={transporter:e.transporter,appId:e.appId,indexName:n};return B(a,r.methods)}},cn=function(e){return function(n){return e.transporter.read({method:O,path:"1/keys"},n)}},fn=function(e){return function(n){return e.transporter.read({method:O,path:"1/clusters"},n)}},hn=function(e){return function(n){return e.transporter.read({method:O,path:"1/indexes"},n)}},pn=function(e){return function(n){return e.transporter.read({method:O,path:"1/clusters/mapping"},n)}},mn=function(e){return function(n,r,a){return k(e.transporter.write({method:I,path:w("1/indexes/%s/operation",n),data:{operation:"move",destination:r}},a),function(u,c){return Ke(e)(n,{methods:{waitTask:Z}}).waitTask(u.taskID,c)})}},gn=function(e){return function(n,r){return k(e.transporter.write({method:I,path:"1/indexes/*/batch",data:{requests:n}},r),function(a,u){return Promise.all(Object.keys(a.taskID).map(function(c){return Ke(e)(c,{methods:{waitTask:Z}}).waitTask(a.taskID[c],u)}))})}},yn=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:n}},r)}},gt=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{params:f(u.params||{})})});return e.transporter.read({method:I,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},r)}},yt=function(e){return function(n,r){return Promise.all(n.map(function(a){var u=a.params,c=u.facetName,g=u.facetQuery,y=l(u,["facetName","facetQuery"]);return Ke(e)(a.indexName,{methods:{searchForFacetValues:wt}}).searchForFacetValues(c,g,t(t({},r),y))}))}},vn=function(e){return function(n,r){var a=H(r);return a.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:P,path:"1/clusters/mapping"},a)}},bn=function(e){return function(n,r,a){var u=r.map(function(c){return{action:"addEntry",body:c}});return k(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:u}},a),function(c,g){return xe(e)(c.taskID,g)})}},kn=function(e){return function(n,r){return k(e.transporter.write({method:I,path:w("1/keys/%s/restore",n)},r),function(a,u){return j(function(c){return qe(e)(n,u).catch(function(g){if(g.status!==404)throw g;return c()})})})}},Nn=function(e){return function(n,r,a){var u=r.map(function(c){return{action:"addEntry",body:c}});return k(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(c,g){return xe(e)(c.taskID,g)})}},Cn=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("/1/dictionaries/%s/search",n),data:{query:r},cacheable:!0},a)}},wn=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/clusters/mapping/search",data:{query:n}},r)}},xn=function(e){return function(n,r){return k(e.transporter.write({method:se,path:"/1/dictionaries/*/settings",data:n},r),function(a,u){return xe(e)(a.taskID,u)})}},Dn=function(e){return function(n,r){var a=Object.assign({},r),u=r||{},c=u.queryParameters,g=l(u,["queryParameters"]),y=c?{queryParameters:c}:{},h=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return k(e.transporter.write({method:se,path:w("1/keys/%s",n),data:y},g),function(m,v){return j(function(D){return qe(e)(n,v).then(function(T){return function(_){return Object.keys(a).filter(function(K){return h.indexOf(K)!==-1}).every(function(K){if(Array.isArray(_[K])&&Array.isArray(a[K])){var F=_[K];return F.length===a[K].length&&F.every(function(M,ne){return M===a[K][ne]})}return _[K]===a[K]})}(T)?Promise.resolve():D()})})})}},xe=function(e){return function(n,r){return j(function(a){return mt(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},vt=function(e){return function(n,r){return k(e.transporter.write({method:I,path:w("1/indexes/%s/batch",e.indexName),data:{requests:n}},r),function(a,u){return Z(e)(a.taskID,u)})}},En=function(e){return function(n){return Ve(t(t({shouldStop:function(r){return r.cursor===void 0}},n),{},{request:function(r){return e.transporter.read({method:I,path:w("1/indexes/%s/browse",e.indexName),data:r},n)}}))}},In=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Ve(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return xt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(c){return delete c._highlightResult,c})})})}}))}},On=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Ve(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return Dt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(c){return delete c._highlightResult,c})})})}}))}},Ye=function(e){return function(n,r,a){var u=a||{},c=u.batchSize,g=l(u,["batchSize"]),y={taskIDs:[],objectIDs:[]};return k(function h(){var m,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=[];for(m=v;m<n.length&&(D.push(n[m]),D.length!==(c||1e3));m++);return D.length===0?Promise.resolve(y):vt(e)(D.map(function(T){return{action:r,body:T}}),g).then(function(T){return y.objectIDs=y.objectIDs.concat(T.objectIDs),y.taskIDs.push(T.taskID),m++,h(m)})}(),function(h,m){return Promise.all(h.taskIDs.map(function(v){return Z(e)(v,m)}))})}},Pn=function(e){return function(n){return k(e.transporter.write({method:I,path:w("1/indexes/%s/clear",e.indexName)},n),function(r,a){return Z(e)(r.taskID,a)})}},Tn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=H(l(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:I,path:w("1/indexes/%s/rules/clear",e.indexName)},u),function(c,g){return Z(e)(c.taskID,g)})}},jn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=H(l(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:I,path:w("1/indexes/%s/synonyms/clear",e.indexName)},u),function(c,g){return Z(e)(c.taskID,g)})}},Sn=function(e){return function(n,r){return k(e.transporter.write({method:I,path:w("1/indexes/%s/deleteByQuery",e.indexName),data:n},r),function(a,u){return Z(e)(a.taskID,u)})}},qn=function(e){return function(n){return k(e.transporter.write({method:P,path:w("1/indexes/%s",e.indexName)},n),function(r,a){return Z(e)(r.taskID,a)})}},Kn=function(e){return function(n,r){return k(bt(e)([n],r).then(function(a){return{taskID:a.taskIDs[0]}}),function(a,u){return Z(e)(a.taskID,u)})}},bt=function(e){return function(n,r){var a=n.map(function(u){return{objectID:u}});return Ye(e)(a,ce.DeleteObject,r)}},An=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=H(l(a,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:P,path:w("1/indexes/%s/rules/%s",e.indexName,n)},c),function(g,y){return Z(e)(g.taskID,y)})}},_n=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=H(l(a,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:P,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},c),function(g,y){return Z(e)(g.taskID,y)})}},Rn=function(e){return function(n){return kt(e)(n).then(function(){return!0}).catch(function(r){if(r.status!==404)throw r;return!1})}},Bn=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("1/answers/%s/prediction",e.indexName),data:{query:n,queryLanguages:r},cacheable:!0},a)}},$n=function(e){return function(n,r){var a=r||{},u=a.query,c=a.paginate,g=l(a,["query","paginate"]),y=0;return function h(){return Ct(e)(u||"",t(t({},g),{},{page:y})).then(function(m){for(var v=0,D=Object.entries(m.hits);v<D.length;v++){var T=p(D[v],2),_=T[0],K=T[1];if(n(K))return{object:K,position:parseInt(_,10),page:y}}if(y++,c===!1||y>=m.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return h()})}()}},Ln=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/indexes/%s/%s",e.indexName,n)},r)}},Fn=function(){return function(e,n){for(var r=0,a=Object.entries(e.hits);r<a.length;r++){var u=p(a[r],2),c=u[0];if(u[1].objectID===n)return parseInt(c,10)}return-1}},Un=function(e){return function(n,r){var a=r||{},u=a.attributesToRetrieve,c=l(a,["attributesToRetrieve"]),g=n.map(function(y){return t({indexName:e.indexName,objectID:y},u?{attributesToRetrieve:u}:{})});return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:g}},c)}},zn=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/indexes/%s/rules/%s",e.indexName,n)},r)}},kt=function(e){return function(n){return e.transporter.read({method:O,path:w("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},n)}},Hn=function(e){return function(n,r){return e.transporter.read({method:O,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},r)}},Mn=function(e){return function(n,r){return k(Nt(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Z(e)(a.taskID,u)})}},Nt=function(e){return function(n,r){var a=r||{},u=a.createIfNotExists,c=l(a,["createIfNotExists"]),g=u?ce.PartialUpdateObject:ce.PartialUpdateObjectNoCreate;return Ye(e)(n,g,c)}},Jn=function(e){return function(n,r){var a=r||{},u=a.safe,c=a.autoGenerateObjectIDIfNotExist,g=a.batchSize,y=l(a,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),h=function(K,F,M,ne){return k(e.transporter.write({method:I,path:w("1/indexes/%s/operation",K),data:{operation:M,destination:F}},ne),function(Ae,ie){return Z(e)(Ae.taskID,ie)})},m=Math.random().toString(36).substring(7),v="".concat(e.indexName,"_tmp_").concat(m),D=Xe({appId:e.appId,transporter:e.transporter,indexName:v}),T=[],_=h(e.indexName,v,"copy",t(t({},y),{},{scope:["settings","synonyms","rules"]}));return T.push(_),k((u?_.wait(y):_).then(function(){var K=D(n,t(t({},y),{},{autoGenerateObjectIDIfNotExist:c,batchSize:g}));return T.push(K),u?K.wait(y):K}).then(function(){var K=h(v,e.indexName,"move",y);return T.push(K),u?K.wait(y):K}).then(function(){return Promise.all(T)}).then(function(K){var F=p(K,3),M=F[0],ne=F[1],Ae=F[2];return{objectIDs:ne.objectIDs,taskIDs:[M.taskID].concat(x(ne.taskIDs),[Ae.taskID])}}),function(K,F){return Promise.all(T.map(function(M){return M.wait(F)}))})}},Wn=function(e){return function(n,r){return Ze(e)(n,t(t({},r),{},{clearExistingRules:!0}))}},Gn=function(e){return function(n,r){return et(e)(n,t(t({},r),{},{clearExistingSynonyms:!0}))}},Qn=function(e){return function(n,r){return k(Xe(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Z(e)(a.taskID,u)})}},Xe=function(e){return function(n,r){var a=r||{},u=a.autoGenerateObjectIDIfNotExist,c=l(a,["autoGenerateObjectIDIfNotExist"]),g=u?ce.AddObject:ce.UpdateObject;if(g===ce.UpdateObject){var y=!0,h=!1,m=void 0;try{for(var v,D=n[Symbol.iterator]();!(y=(v=D.next()).done);y=!0)if(v.value.objectID===void 0)return k(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(T){h=!0,m=T}finally{try{y||D.return==null||D.return()}finally{if(h)throw m}}}return Ye(e)(n,g,c)}},Vn=function(e){return function(n,r){return Ze(e)([n],r)}},Ze=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=a.clearExistingRules,g=H(l(a,["forwardToReplicas","clearExistingRules"]));return u&&(g.queryParameters.forwardToReplicas=1),c&&(g.queryParameters.clearExistingRules=1),k(e.transporter.write({method:I,path:w("1/indexes/%s/rules/batch",e.indexName),data:n},g),function(y,h){return Z(e)(y.taskID,h)})}},Yn=function(e){return function(n,r){return et(e)([n],r)}},et=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=a.clearExistingSynonyms,g=a.replaceExistingSynonyms,y=H(l(a,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return u&&(y.queryParameters.forwardToReplicas=1),(g||c)&&(y.queryParameters.replaceExistingSynonyms=1),k(e.transporter.write({method:I,path:w("1/indexes/%s/synonyms/batch",e.indexName),data:n},y),function(h,m){return Z(e)(h.taskID,m)})}},Ct=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/query",e.indexName),data:{query:n},cacheable:!0},r)}},wt=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("1/indexes/%s/facets/%s/query",e.indexName,n),data:{facetQuery:r},cacheable:!0},a)}},xt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/rules/search",e.indexName),data:{query:n}},r)}},Dt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/synonyms/search",e.indexName),data:{query:n}},r)}},Xn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,c=H(l(a,["forwardToReplicas"]));return u&&(c.queryParameters.forwardToReplicas=1),k(e.transporter.write({method:se,path:w("1/indexes/%s/settings",e.indexName),data:n},c),function(g,y){return Z(e)(g.taskID,y)})}},Z=function(e){return function(n,r){return j(function(a){return function(u){return function(c,g){return u.transporter.read({method:O,path:w("1/indexes/%s/task/%s",u.indexName,c.toString())},g)}}(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},ce={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject"},tt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Zn=1,er=2,tr=3,Ue=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},nr=function(e){return function(n,r){return Ue(e)(n.map(function(a){return t(t({},a),{},{fallbackParameters:{},model:"bought-together"})}),r)}},rr=function(e){return function(n,r){return Ue(e)(n.map(function(a){return t(t({},a),{},{model:"related-products"})}),r)}},ar=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-facets",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},or=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-items",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},sr=function(e){return function(n,r){return Ue(e)(n.map(function(a){return t(t({},a),{},{model:"looking-similar"})}),r)}},ir=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"recommended-for-you",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}};function ur(e,n){return function(r,a){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=a||{},c=u.autoGenerateObjectIDIfNotExist,g=u.watch,y=l(u,["autoGenerateObjectIDIfNotExist","watch"]),h=c?ce.AddObject:ce.UpdateObject;return n.push({indexName:e,pushTaskPayload:{action:h,records:r},watch:g},y)}}function dr(e,n){return function(r,a){if(!n)throw he("`options.transformation.region` must be provided at client instantiation before calling this method.");var u=a||{},c=u.createIfNotExists,g=u.watch,y=l(u,["createIfNotExists","watch"]),h=c?ce.PartialUpdateObject:ce.PartialUpdateObjectNoCreate;return n.push({indexName:e,pushTaskPayload:{action:h,records:r},watch:g},y)}}function he(e){return{name:"TransformationConfigurationError",message:e}}function Et(e,n,r){var a,u,c={appId:e,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(h){return new Promise(function(m){var v=new XMLHttpRequest;v.open(h.method,h.url,!0),Object.keys(h.headers).forEach(function(K){return v.setRequestHeader(K,h.headers[K])});var D,T=function(K,F){return setTimeout(function(){v.abort(),m({status:0,content:F,isTimedOut:!0})},1e3*K)},_=T(h.connectTimeout,"Connection timeout");v.onreadystatechange=function(){v.readyState>v.OPENED&&D===void 0&&(clearTimeout(_),D=T(h.responseTimeout,"Socket timeout"))},v.onerror=function(){v.status===0&&(clearTimeout(_),clearTimeout(D),m({content:v.responseText||"Network request failed",status:v.status,isTimedOut:!1}))},v.onload=function(){clearTimeout(_),clearTimeout(D),m({content:v.responseText,status:v.status,isTimedOut:!1})},v.send(h.data)})}},logger:(a=tr,{debug:function(h,m){return Zn>=a&&console.debug(h,m),Promise.resolve()},info:function(h,m){return er>=a&&console.info(h,m),Promise.resolve()},error:function(h,m){return console.error(h,m),Promise.resolve()}}),responsesCache:b(),requestsCache:b({serializable:!1}),hostsCache:N({caches:[q({key:"".concat("4.25.2","-").concat(e)}),b()]}),userAgent:je("4.25.2").add({segment:"Browser"})},g=t(t({},c),r),y=function(){return function(h){return function(m){var v=m.region||"us",D=E(J.WithinHeaders,m.appId,m.apiKey),T=le(t(t({hosts:[{url:"personalization.".concat(v,".algolia.com")}]},m),{},{headers:t(t(t({},D.headers()),{"content-type":"application/json"}),m.headers),queryParameters:t(t({},D.queryParameters()),m.queryParameters)}));return B({appId:m.appId,transporter:T},m.methods)}(t(t(t({},c),h),{},{methods:{getPersonalizationStrategy:Wt,setPersonalizationStrategy:Gt}}))}};if(r&&r.transformation){if(!r.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");u=function(h){if(!h||!h.transformation||!h.transformation.region)throw he("`region` must be provided when leveraging the transformation pipeline");if(h.transformation.region!=="eu"&&h.transformation.region!=="us")throw he("`region` is required and must be one of the following: eu, us");var m=h.appId,v=E(J.WithinHeaders,m,h.apiKey),D=le(t(t({hosts:[{url:"data.".concat(h.transformation.region,".algolia.com"),accept:X.ReadWrite,protocol:"https"}]},h),{},{headers:t(t(t({},v.headers()),{"content-type":"text/plain"}),h.headers),queryParameters:t(t({},v.queryParameters()),h.queryParameters)}));return{transporter:D,appId:m,addAlgoliaAgent:function(T,_){D.userAgent.add({segment:T,version:_}),D.userAgent.add({segment:"Ingestion",version:_}),D.userAgent.add({segment:"Ingestion via Algoliasearch"})},clearCache:function(){return Promise.all([D.requestsCache.clear(),D.responsesCache.clear()]).then(function(){})},push:function(T,_){var K=T.indexName,F=T.pushTaskPayload,M=T.watch;if(!K)throw he("Parameter `indexName` is required when calling `push`.");if(!F)throw he("Parameter `pushTaskPayload` is required when calling `push`.");if(!F.action)throw he("Parameter `pushTaskPayload.action` is required when calling `push`.");if(!F.records)throw he("Parameter `pushTaskPayload.records` is required when calling `push`.");var ne=_||{queryParameters:{}};return D.write({method:I,path:w("1/push/%s",K),data:F},t(t({},ne),{},{queryParameters:t(t({},ne.queryParameters),{},{watch:M!==void 0})}))}}}(t(t({},r),c))}return function(h){var m=h.appId,v=E(h.authMode!==void 0?h.authMode:J.WithinHeaders,m,h.apiKey),D=le(t(t({hosts:[{url:"".concat(m,"-dsn.algolia.net"),accept:X.Read},{url:"".concat(m,".algolia.net"),accept:X.Write}].concat(L([{url:"".concat(m,"-1.algolianet.com")},{url:"".concat(m,"-2.algolianet.com")},{url:"".concat(m,"-3.algolianet.com")}]))},h),{},{headers:t(t(t({},v.headers()),{"content-type":"application/x-www-form-urlencoded"}),h.headers),queryParameters:t(t({},v.queryParameters()),h.queryParameters)}));return B({transporter:D,appId:m,addAlgoliaAgent:function(T,_){D.userAgent.add({segment:T,version:_})},clearCache:function(){return Promise.all([D.requestsCache.clear(),D.responsesCache.clear()]).then(function(){})}},h.methods)}(t(t({},g),{},{methods:{search:gt,searchForFacetValues:yt,multipleBatch:gn,multipleGetObjects:yn,multipleQueries:gt,copyIndex:Fe,copySettings:en,copySynonyms:tn,copyRules:Zt,moveIndex:mn,listIndices:hn,getLogs:sn,listClusters:fn,multipleSearchForFacetValues:yt,getApiKey:qe,addApiKey:Qt,listApiKeys:cn,updateApiKey:Dn,deleteApiKey:rn,restoreApiKey:kn,assignUserID:Vt,assignUserIDs:Yt,getUserID:dn,searchUserIDs:wn,listUserIDs:pn,getTopUserIDs:un,removeUserID:vn,hasPendingMappings:ln,clearDictionaryEntries:Xt,deleteDictionaryEntries:an,getDictionarySettings:on,getAppTask:mt,replaceDictionaryEntries:bn,saveDictionaryEntries:Nn,searchDictionaryEntries:Cn,setDictionarySettings:xn,waitAppTask:xe,customRequest:nn,initIndex:function(h){return function(m){return t(t({},Ke(h)(m,{methods:{batch:vt,delete:qn,findAnswers:Bn,getObject:Ln,getObjects:Un,saveObject:Qn,saveObjects:Xe,search:Ct,searchForFacetValues:wt,waitTask:Z,setSettings:Xn,getSettings:kt,partialUpdateObject:Mn,partialUpdateObjects:Nt,deleteObject:Kn,deleteObjects:bt,deleteBy:Sn,clearObjects:Pn,browseObjects:En,getObjectPosition:Fn,findObject:$n,exists:Rn,saveSynonym:Yn,saveSynonyms:et,getSynonym:Hn,searchSynonyms:Dt,browseSynonyms:On,deleteSynonym:_n,clearSynonyms:jn,replaceAllObjects:Jn,replaceAllSynonyms:Gn,searchRules:xt,getRule:zn,deleteRule:An,saveRule:Vn,saveRules:Ze,replaceAllRules:Wn,browseRules:In,clearRules:Tn}})),{},{saveObjectsWithTransformation:ur(m,u),partialUpdateObjectsWithTransformation:dr(m,u)})}},initAnalytics:function(){return function(h){return function(m){var v=m.region||"us",D=E(J.WithinHeaders,m.appId,m.apiKey),T=le(t(t({hosts:[{url:"analytics.".concat(v,".algolia.com")}]},m),{},{headers:t(t(t({},D.headers()),{"content-type":"application/json"}),m.headers),queryParameters:t(t({},D.queryParameters()),m.queryParameters)}));return B({appId:m.appId,transporter:T},m.methods)}(t(t(t({},c),h),{},{methods:{addABTest:be,getABTest:Ht,getABTests:Mt,stopABTest:Jt,deleteABTest:zt}}))}},initPersonalization:y,initRecommendation:function(){return function(h){return g.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),y()(h)}},getRecommendations:Ue,getFrequentlyBoughtTogether:nr,getLookingSimilar:sr,getRecommendedForYou:ir,getRelatedProducts:rr,getTrendingFacets:ar,getTrendingItems:or}}))}return Et.version="4.25.2",Et})}(We)),We.exports}var pa=ha();const ma=Tr(pa),ga=ma("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),Ut=ga.initIndex("npm-search"),ya=async(o,s=0,i=10)=>{try{const d=Na(o);if(!d)return{response:null,query:o};const t={page:s,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:d.facetFilters?d.facetFilters:void 0},l=await Ut.search(d.query,t);return l.hits.sort((p,x)=>p.name===d.query?-1:x.name===d.query?1:0),{response:l,query:o}}catch{return{response:null,query:o}}};async function va(o){return Ut.getObject(o)}const ba=/\s*[a-z]+\s*:\s*(?:.(?![a-z]*\s*:))*/gi,ka=/^((?:[^\s:]+(?!\s*:)\s*)*)/,Kt={author:"owner.name",type:"moduleTypes"};function Na(o){const s=o.match(ka)?.[0].trim();if(s==null)return;const i=o,d=[];let t;for(;(t=ba.exec(i))!==null;){const l=t[0].split(":");Kt[l[0].trim()]&&d.push(`${Kt[l[0].trim()]}:${l[1].trim()}`)}return{query:s,facetFilters:d.join(",")}}const Ca={key:0},wa={class:"result-list"},xa={class:"pkgName"},Da={class:"meta"},Ea=["onClick"],Ia=["src","alt"],Oa=["title"],Pa={key:0,class:"description"},Ta={key:1,flex:"","gap-2":""},ja={key:0},Sa={key:1},qa={key:2},Ka={key:3},Aa={key:4},_a={key:5},Ra={key:7},Ba={key:8},$a={key:9},La={key:0,flex:"","items-center":""},Fa={key:1,flex:"","items-center":""},Ua=10,za=Oe({__name:"cdnQuery",setup(o){let s=null;const i=V(!1),d=V(""),t=V(""),l=V(0),p=V([]),x=V(0),q=V(""),N=V(),b=V(""),E=V([]),j=V(),k=V([]),L=Bt(()=>k.value&&k.value.length?X(k.value):[]);async function B(Q=0){if(!d.value){i.value=!1,N.value=null,b.value="",E.value=[],p.value=[],l.value=0,x.value=0,t.value="";return}s&&clearTimeout(s),s=window.setTimeout(async()=>{i.value=!0;const{response:C,query:R}=await ya(d.value,Q,Ua);if(R===d.value){if(C){const{hits:oe,page:ue,nbHits:P}=C;p.value=oe,x.value=P,l.value=ue,t.value="done"}else qr.warning("搜索失败");i.value=!1}},200)}function w(Q){d.value=`author:${Q}`,B(0)}async function J(Q){q.value=Q,N.value=null,b.value="",E.value=[],j.value=null,k.value=[];try{N.value=await va(Q),b.value=N.value.version??"",await H()}catch(C){console.error(C.message)}}async function H(){try{E.value=[],j.value=null,k.value=[],E.value=(await Tt.get(`https://data.jsdelivr.com/v1/package/npm/${N.value?.name??""}`)).data.versions.map(R=>({label:R,value:R}));const{default:Q,files:C}=(await Tt.get(`https://data.jsdelivr.com/v1/package/npm/${N.value?.name??""}@${b.value}`)).data;j.value=Q,k.value=C}catch(Q){console.error(Q.message)}}function X(Q,C){return Q.map(R=>{const oe=C?`${C}/${R.name}`:`/${R.name}`;return{label:R.name,icon:R.type==="directory"?"Folder":"",isLeaf:R.type!=="directory",fileName:oe,children:R.type==="directory"&&R.files?X(R.files,oe):void 0}})}return(Q,C)=>{const R=zr,oe=Hr,ue=Mr,P=jr,O=Fr,I=Gr,se=Lr,Te=$r,we=Br,le=Wr,je=Jr,Se=ca;return A(),z(pe,null,[Y(oe,null,{default:W(()=>[U("blockquote",null,[U("ul",null,[U("li",null,[C[6]||(C[6]=ee(" 数据来自: ",-1)),Y(R,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:W(()=>[...C[5]||(C[5]=[ee(" JSDelivr ",-1)])]),_:1})]),U("li",null,[C[8]||(C[8]=ee(" 搜索接口来自: ",-1)),Y(R,{href:"https://www.algolia.com/",target:"_blank"},{default:W(()=>[...C[7]||(C[7]=[ee(" Algolia ",-1)])]),_:1})])])])]),_:1}),Y(ue,{level:3},{default:W(()=>[...C[9]||(C[9]=[ee(" 请输入要获取CDN的库名 ",-1)])]),_:1}),Y(P,{modelValue:S(d),"onUpdate:modelValue":C[0]||(C[0]=f=>Pt(d)?d.value=f:null),placeholder:"jquery",clearable:"",onChange:C[1]||(C[1]=f=>B(0))},null,8,["modelValue"]),(A(),ae(Sr,null,[S(t)==="done"?(A(),z(pe,{key:0},[Y(O),S(q)?(A(),z(pe,{key:1},[Y(R,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:C[3]||(C[3]=f=>q.value=null)},{default:W(()=>[...C[12]||(C[12]=[U("span",{class:"i-icon-park-outline-return"},null,-1),ee(" 返回 ",-1)])]),_:1}),S(N)?(A(),ae(je,{key:0,class:"metaDetail"},{default:W(()=>[U("ul",null,[S(N).name?(A(),z("li",ja,[C[13]||(C[13]=U("b",null,"名称: ",-1)),ee(te(S(N).name),1)])):G("",!0),S(N).homepage?(A(),z("li",Sa,[C[14]||(C[14]=U("b",null,"主页: ",-1)),Y(R,{href:S(N).homepage,target:"_blank"},{default:W(()=>[ee(te(S(N).homepage),1)]),_:1},8,["href"])])):G("",!0),S(N).description?(A(),z("li",qa,[C[15]||(C[15]=U("b",null,"简介: ",-1)),ee(te(S(N).description),1)])):G("",!0),S(N).repository?(A(),z("li",Ka,[C[16]||(C[16]=U("b",null,"仓库: ",-1)),ee(te(S(N).repository.type)+" / ",1),Y(R,{href:S(N).repository.url,target:"_blank"},{default:W(()=>[ee(te(S(N).repository.url),1)]),_:1},8,["href"])])):G("",!0),S(N).license?(A(),z("li",Aa,[C[17]||(C[17]=U("b",null,"协议: ",-1)),ee(te(S(N).license),1)])):G("",!0),S(N).owner?(A(),z("li",_a,[C[18]||(C[18]=U("b",null,"作者: ",-1)),ee(te(S(N).owner.name)+" / ",1),Y(R,{href:S(N).owner.link,target:"_blank"},{default:W(()=>[ee(te(S(N).owner.link),1)]),_:1},8,["href"])])):G("",!0),S(E).length?(A(),ae(O,{key:6})):G("",!0),S(E).length?(A(),z("li",Ra,[C[19]||(C[19]=U("b",null,"版本: ",-1)),Y(we,{modelValue:S(b),"onUpdate:modelValue":C[4]||(C[4]=f=>Pt(b)?b.value=f:null),options:S(E),onChange:H},{default:W(()=>[(A(!0),z(pe,null,$e(S(E),f=>(A(),ae(Te,{key:f.value,value:f.value,label:f.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):G("",!0),S(j)?(A(),z("li",Ba,[C[20]||(C[20]=U("b",null,"默认文件: ",-1)),Y(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(N).name}@${S(b)}${S(j)}`}},{default:W(()=>[Y(R,{href:`https://cdn.jsdelivr.net/npm/${S(N).name}@${S(b)}${S(j)}`,target:"_blank"},{default:W(()=>[ee(te(S(j)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):G("",!0),S(k)&&S(k).length?(A(),z("li",$a,[...C[21]||(C[21]=[U("b",null,"文件列表",-1),U("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)])])):G("",!0)])]),_:1})):G("",!0),S(N)&&S(k)&&S(k).length?(A(),ae(Se,{key:1,data:S(L),selectable:!1},{default:W(({data:f})=>[f.isLeaf?(A(),z("div",La,[C[22]||(C[22]=U("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),Y(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${S(N).name}@${S(b)}${f.fileName}`}},{default:W(()=>[ee(te(f.label),1)]),_:2},1032,["copyable"])])):(A(),z("div",Fa,[C[23]||(C[23]=U("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),Y(le,null,{default:W(()=>[ee(te(f.label),1)]),_:2},1024)]))]),_:1},8,["data"])):G("",!0)],64)):(A(),z(pe,{key:0},[Y(ue,{level:4},{default:W(()=>[U("span",null,"共找到 "+te(S(x))+" 个库",1),S(x)>1e3?(A(),z("span",Ca,"，最多展示前 1000 个结果")):G("",!0)]),_:1}),U("div",wa,[(A(!0),z(pe,null,$e(S(p),f=>(A(),z("div",{key:f.objectID,class:"result-list-item"},[U("div",xa,[Y(ue,{level:4,onClick:$=>J(f.objectID)},{default:W(()=>[ee(te(f.name),1)]),_:2},1032,["onClick"])]),U("div",Da,[f.owner?(A(),z("div",{key:0,class:"owner",onClick:$=>w(f.owner.name)},[U("img",{src:f.owner.avatar,alt:f.owner.name},null,8,Ia),U("div",null,te(f.owner.name),1)],8,Ea)):G("",!0),f.version?(A(),ae(I,{key:1,effect:"plain"},{default:W(()=>[C[10]||(C[10]=U("span",{class:"i-icon-park-outline-tag-one"},null,-1)),U("span",{title:f.version},te(f.version),9,Oa)]),_:2},1024)):G("",!0),f.license?(A(),ae(I,{key:2,effect:"plain"},{default:W(()=>[C[11]||(C[11]=U("span",{class:"i-icon-park-outline-balance-two"},null,-1)),ee(te(f.license),1)]),_:2},1024)):G("",!0)]),f.description?(A(),z("div",Pa,te(f.description),1)):G("",!0),f.keywords&&f.keywords.length?(A(),z("div",Ta,[(A(!0),z(pe,null,$e(f.keywords,($,de)=>(A(),ae(I,{key:de,effect:"plain"},{default:W(()=>[ee(te($),1)]),_:2},1024))),128))])):G("",!0)]))),128))]),Y(se,{layout:"prev,jumper,next",total:S(x)>1e3?1e3:S(x),"hide-on-single-page":!0,onCurrentChange:C[2]||(C[2]=f=>B(f-1))},null,8,["total"])],64))],64)):G("",!0)],1024))],64)}}}),so=Kr(za,[["__scopeId","data-v-ead9b880"]]);export{so as default};
