import{k as d,R as l,E as a,r as o,K as _,ai as h,w as m,x as r,by as w,X as v,W as x,N as y,H as g,aY as k,aA as V}from"./index-1Gxk3gC0.js";import{v as E}from"./el-loading-DCTgaVOn.js";const C={"h-full":"","w-full":"",flex:"","flex-col":""},D={key:1,class:"i-icon-park-outline-search","cursor-pointer":""},K={"flex-1":"","overflow-auto":""},q=d({__name:"whois",setup(M){const s=l(!1),e=l(""),i=l();async function c(){if(e.value){s.value=!0;try{const n=(await k.get(`https://cors.iszy.xyz/https://www.iana.org/whois?q=${e.value}`)).data,t=new DOMParser().parseFromString(n,"text/html");i.value=t.querySelector("#results + pre")?.innerHTML}catch{V.error("查询失败")}s.value=!1}}return(n,t)=>{const u=x,p=E;return o(),a("div",C,[_(u,{modelValue:r(e),"onUpdate:modelValue":t[0]||(t[0]=f=>v(e)?e.value=f:null),placeholder:"输入域名查询",onKeyup:w(c,["enter"])},{suffix:m(()=>[r(s)?(o(),a("span",D)):(o(),a("span",{key:0,class:"i-icon-park-outline-search","cursor-pointer":"",onClick:c}))]),_:1},8,["modelValue"]),h((o(),a("pre",K,[y(g(r(i)),1)])),[[p,r(s)]])])}}});export{q as default};
