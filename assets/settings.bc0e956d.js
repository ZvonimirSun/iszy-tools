import{_ as H,j as R,cR as V,k,o as l,m as C,a as t,w as r,q as p,F as f,a2 as I,by as g,p as b,c as i,n as $,b as u,cn as K,$ as D,B as L}from"./index.990579d2.js";import{T as P,_ as j}from"./index.8e372758.js";/* empty css               *//* empty css              */import{_ as z}from"./index.4f7cd61e.js";import{_ as E}from"./index.8029ec85.js";import{R as G}from"./index.4c0fa904.js";import{_ as M}from"./index.c9f9090a.js";import{u as w}from"./index.9ec0b1c2.js";import{d as O}from"./debounce.a7fcd29b.js";import{_ as J}from"./FormItem.8e404dcb.js";import{_ as Q}from"./Password.ef5aa21f.js";import{F as W}from"./Form.d603feaa.js";import"./index.17d0caa7.js";import"./Menu.364e55c3.js";import"./shallowequal.77d306ea.js";import"./_arrayIncludesWith.91d14080.js";import"./_baseFindIndex.10ef1a58.js";import"./Overflow.35062da9.js";import"./collapseMotion.8976f0e9.js";import"./useState.5c6984dc.js";import"./useRefs.8b079d5c.js";import"./hasIn.48d0e63a.js";import"./isMobile.6491fde5.js";import"./useFlexGapSupport.e8901a29.js";import"./Checkbox.d8f19b31.js";import"./Col.061f35a6.js";import"./responsiveObserve.37d831e2.js";import"./toArray.50178d7b.js";import"./get.7858eace.js";import"./toInteger.49ec7feb.js";import"./toFinite.46929150.js";import"./EyeOutlined.63de4511.js";const{mapGetters:X,mapActions:Y}=R("imgHosting"),Z={name:"ImgHostingSettings",data:()=>({uploaders:w,currentUploader:"aliyun",currentConfig:[],currentCommonConfig:{renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0,customCopyContent:"$url"},radioStyle:{display:"flex",height:"32px",lineHeight:"32px"},customContent:"$url"}),computed:{...X(["config","uploader","commonConfig"])},mounted(){this.uploader&&(this.currentUploader=this.uploader),this.changeUploader(),this.currentCommonConfig=V(this.currentCommonConfig,k(this.commonConfig||{})),this.currentCommonConfig.customCopyContent!=="$url"&&this.currentCommonConfig.customCopyContent!=="![]($url)"&&(this.customContent=this.currentCommonConfig.customCopyContent)},methods:{...Y(["saveConfig","saveCommonConfig","importConfig"]),changeUploader(){this.currentConfig=k(w[this.currentUploader].config(this.config(this.currentUploader)))},save(){const e={};for(const o of this.currentConfig){if(o.required&&(o.default==null||o.default==="")){this.$msg.warn("\u5FC5\u586B\u9879\u672A\u586B\u5199\u5B8C\u6574");return}e[o.name]=o.default}this.saveConfig({uploader:this.currentUploader,config:e}),this.$msg.success("\u4FDD\u5B58\u6210\u529F")},handler(){this.$refs.file.click()},updateConfig:O(function(){this.saveCommonConfig(this.currentCommonConfig)},100),updateCustomCopyContent(e){this.currentCommonConfig.customCopyContent=e,this.updateConfig()}}},x=u(" \u901A\u7528\u914D\u7F6E "),ee={class:"commonConfigPanel"},oe=u(" \u94FE\u63A5\u590D\u5236\u683C\u5F0F "),te=u(" \u6807\u51C6"),ne=u(" MarkDown"),re=u(" \u81EA\u5B9A\u4E49"),ae=u(" \u56FE\u5E8A\u8BBE\u7F6E "),se={class:"configPanel"},le={class:"configTable"},ue={class:"configOperator"},ie=u(" \u4FDD\u5B58 ");function pe(e,o,me,ce,de,s){const m=I,h=M,c=J,y=K,d=G,v=D,S=E,B=z,T=Q,q=W,N=L,A=j,F=P;return l(),C(f,null,[t(m,{level:4},{default:r(()=>[x]),_:1}),p("div",ee,[t(c,{label:"\u65F6\u95F4\u6233\u91CD\u547D\u540D"},{default:r(()=>[t(h,{checked:e.currentCommonConfig.renameTimeStamp,"onUpdate:checked":o[0]||(o[0]=n=>e.currentCommonConfig.renameTimeStamp=n),onChange:s.updateConfig},null,8,["checked","onChange"])]),_:1}),t(c,{label:"\u4E0A\u4F20\u540E\u81EA\u52A8\u590D\u5236URL"},{default:r(()=>[t(h,{checked:e.currentCommonConfig.copyUrlAfterUpload,"onUpdate:checked":o[1]||(o[1]=n=>e.currentCommonConfig.copyUrlAfterUpload=n),onChange:s.updateConfig},null,8,["checked","onChange"])]),_:1}),t(m,{level:5},{default:r(()=>[oe]),_:1}),t(S,null,{default:r(()=>[t(d,{style:g(e.radioStyle),checked:e.currentCommonConfig.customCopyContent==="$url",onChange:o[2]||(o[2]=n=>s.updateCustomCopyContent("$url"))},{default:r(()=>[te,t(y,{code:"",content:"$url"})]),_:1},8,["style","checked"]),t(d,{style:g(e.radioStyle),checked:e.currentCommonConfig.customCopyContent==="![]($url)",onChange:o[3]||(o[3]=n=>s.updateCustomCopyContent("![]($url)"))},{default:r(()=>[ne,t(y,{code:"",content:"![]($url)"})]),_:1},8,["style","checked"]),t(d,{style:g(e.radioStyle),checked:e.currentCommonConfig.customCopyContent===e.customContent,onChange:o[6]||(o[6]=n=>s.updateCustomCopyContent(e.customContent))},{default:r(()=>[re,t(v,{value:e.customContent,"onUpdate:value":o[4]||(o[4]=n=>e.customContent=n),style:{width:"100px","margin-left":"10px"},onChange:o[5]||(o[5]=n=>s.updateCustomCopyContent(n.target.value))},null,8,["value"])]),_:1},8,["style","checked"])]),_:1})]),t(B),t(m,{level:4},{default:r(()=>[ae]),_:1}),t(F,{activeKey:e.currentUploader,"onUpdate:activeKey":o[7]||(o[7]=n=>e.currentUploader=n),type:"card",onChange:s.changeUploader},{default:r(()=>[(l(!0),C(f,null,b(e.uploaders,(n,U)=>(l(),i(A,{key:U,tab:n.name},{default:r(()=>[p("div",se,[p("div",le,[e.currentUploader===U?(l(),i(q,{key:0,layout:"vertical"},{default:r(()=>[(l(!0),C(f,null,b(e.currentConfig,a=>(l(),i(c,{key:a.name,label:a.label,required:a.required},{default:r(()=>[a.type==="input"?(l(),i(v,{key:0,value:a.default,"onUpdate:value":_=>a.default=_,"allow-clear":"",placeholder:a.hint},null,8,["value","onUpdate:value","placeholder"])):a.type==="password"?(l(),i(T,{key:1,value:a.default,"onUpdate:value":_=>a.default=_,"allow-clear":"",placeholder:a.hint},null,8,["value","onUpdate:value","placeholder"])):$("",!0)]),_:2},1032,["label","required"]))),128))]),_:2},1024)):$("",!0)]),p("div",ue,[t(N,{type:"primary",onClick:s.save},{default:r(()=>[ie]),_:1},8,["onClick"])])])]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey","onChange"])],64)}var Je=H(Z,[["render",pe],["__scopeId","data-v-1e867a53"]]);export{Je as default};
