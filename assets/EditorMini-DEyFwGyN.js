import{C as r,H as T,t as e,a as G,h as H,b as F,c as I,f as $,d as _,e as A,E as l,g as U,s as n,m as W,n as j,o as O,r as P,p as R,q as V,u as q,k as v,v as z,w as J,x as Q,y as X,z as Y,A as Z,B as ee,j as m,i as oe,a7 as ae,L as h}from"./index-C84Rz0Ii.js";import{j as te,R as re,bl as i,T as ne,a6 as ce,a7 as le,o as se,F as ie,a0 as de}from"./index-DZyj1-Eq.js";const me="#e5c07b",b="#e06c75",pe="#56b6c2",ge="#ffffff",c="#abb2bf",p="#7d8799",ue="#61afef",fe="#98c379",k="#d19a66",he="#c678dd",be="#21252b",y="#2c313a",C="#282c34",d="#353a42",ke="#3E4451",x="#528bff",w=r.theme({"&":{color:c,backgroundColor:C},".cm-content":{caretColor:x},".cm-cursor, .cm-dropCursor":{borderLeftColor:x},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:ke},".cm-panels":{backgroundColor:be,color:c},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:C,color:p,border:"none"},".cm-activeLineGutter":{backgroundColor:y},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:d},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:d,borderBottomColor:d},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:y,color:c}}},{dark:!0}),B=T.define([{tag:e.keyword,color:he},{tag:[e.name,e.deleted,e.character,e.propertyName,e.macroName],color:b},{tag:[e.function(e.variableName),e.labelName],color:ue},{tag:[e.color,e.constant(e.name),e.standard(e.name)],color:k},{tag:[e.definition(e.name),e.separator],color:c},{tag:[e.typeName,e.className,e.number,e.changed,e.annotation,e.modifier,e.self,e.namespace],color:me},{tag:[e.operator,e.operatorKeyword,e.url,e.escape,e.regexp,e.link,e.special(e.string)],color:pe},{tag:[e.meta,e.comment],color:p},{tag:e.strong,fontWeight:"bold"},{tag:e.emphasis,fontStyle:"italic"},{tag:e.strikethrough,textDecoration:"line-through"},{tag:e.link,color:p,textDecoration:"underline"},{tag:e.heading,fontWeight:"bold",color:b},{tag:[e.atom,e.bool,e.special(e.variableName)],color:k},{tag:[e.processingInstruction,e.string,e.inserted],color:fe},{tag:e.invalid,color:ge}]),ye=[G(),H(),F(),I(),$(),_(),A(),l.allowMultipleSelections.of(!0),U(),n(m,{fallback:!0}),W(),j(),O(),P(),R(),V(),q(),v.of([...z,...J,...Q,...X,...Y,...Z,...ee])],Ce={"Control character":"控制字符","Selection deleted":"删除所选内容","Folded lines":"折叠行","Unfolded lines":"展开行",to:"至","folded code":"折叠的代码",unfold:"展开","Fold line":"折叠行","Unfold line":"展开行","Go to line":"跳转至行",go:"确定",Find:"查找",Replace:"替换",next:"下一个",previous:"上一个",all:"全部","match case":"匹配大小写","by word":"按单词",replace:"替换","replace all":"全部替换",close:"关闭","current match":"当前匹配项","replaced $ matches":"替换了 $ 个匹配项","replaced match on line $":"替换了行 $ 的匹配项","on line":"在行",Completions:"自动完成",Diagnostics:"诊断","No diagnostics":"无诊断信息"},xe={extensions:[ye,l.phrases.of(Ce),v.of([oe]),_()]},we=te({__name:"EditorMini",props:{inputDefault:{default:""},plugin:{default:void 0},placeholder:{default:""},readonly:{type:Boolean,default:!1}},emits:["change"],setup(S,{expose:D,emit:L}){const t=S,M=L;D({getView:E,setInput:K});const g=re();let o;const u=new h,f=new h,s=[xe.extensions,t.plugin?t.plugin.miniExtensions||t.plugin.extensions:[],r.updateListener.of(N),u.of(i().isDark?w:r.theme({},{dark:!1})),f.of(i().isDark?n(B,{fallback:!0}):n(m))];t.placeholder&&s.push(ae(t.placeholder)),t.readonly&&s.push(l.readOnly.of(!0)),ne(()=>{o=new r({state:l.create({extensions:s,doc:t.inputDefault}),parent:g.value})}),ce(()=>{o==null||o.destroy()}),le(()=>i().isDark,a=>{o.dispatch({effects:[u.reconfigure(a?w:r.theme({},{dark:!1})),f.reconfigure(a?n(B,{fallback:!0}):n(m))]})});function N(a){a.docChanged&&M("change",a.state.doc.toString())}function K(a){o.dispatch({changes:{from:0,to:o.state.doc.length,insert:a}})}function E(){return o}return(a,Be)=>(se(),ie("div",{ref_key:"editor",ref:g,class:"editor","w-full":""},null,512))}}),Se=de(we,[["__scopeId","data-v-ed07c96e"]]);export{Se as _};
