var K=Object.defineProperty,H=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var b=(e,o,n)=>o in e?K(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,u=(e,o)=>{for(var n in o||(o={}))x.call(o,n)&&b(e,n,o[n]);if(U)for(var n of U(o))E.call(o,n)&&b(e,n,o[n]);return e},k=(e,o)=>H(e,L(o));import{q as G,aa as T,a4 as w,a5 as I,a6 as O,ad as R,T as z,ae as J,i as S,r as t,o as d,c as f,f as r,w as s,a as c,x as g,a0 as j,u as i,A as B,p as M,b as Q,y as W}from"./vendor.db920537.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import{u as P}from"./index.a3ea5dc6.js";import{_ as X}from"./index.4a396bc3.js";const{TabPane:Y}=T,{Item:Z}=w,{Password:ee}=I,{mapGetters:oe,mapState:ne,mapActions:ae}=G("imgHosting"),te={name:"settings",components:{Tabs:T,TabPane:Y,Form:w,Item:Z,Input:I,Password:ee,Button:O,Switch:R,Typography:z,Divider:J},data:()=>({uploaders:P,currentUploader:"aliyun",currentConfig:[],currentCommonConfig:{renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0}}),computed:u(u({},oe(["config"])),ne(["uploader","commonConfig"])),mounted(){this.uploader&&(this.currentUploader=this.uploader),this.changeUploader(),this.currentCommonConfig=S(this.commonConfig||{})},methods:k(u({},ae(["saveConfig","saveCommonConfig","importConfig"])),{changeUploader(){this.currentConfig=S(P[this.currentUploader].config(this.config(this.currentUploader)))},save(){const e={};for(const o of this.currentConfig){if(o.required&&(o.default==null||o.default==="")){this.$msg.warn("\u5FC5\u586B\u9879\u672A\u586B\u5199\u5B8C\u6574");return}e[o.name]=o.default}this.saveConfig({uploader:this.currentUploader,config:e}),this.$msg.success("\u4FDD\u5B58\u6210\u529F")},handler(){this.$refs.file.click()}})},$=e=>(M("data-v-02c8fcaa"),e=e(),Q(),e),re=$(()=>c("h4",null,"\u901A\u7528\u914D\u7F6E",-1)),se={class:"commonConfigPanel"},le=$(()=>c("h4",null,"\u56FE\u5E8A\u8BBE\u7F6E",-1)),de={class:"configPanel"},ce={class:"configTable"},ie={class:"configOperator"},ue=W("\u4FDD\u5B58");function pe(e,o,n,me,fe,h){const _=t("Typography"),C=t("Switch"),p=t("Item"),v=t("Form"),q=t("Divider"),A=t("Input"),N=t("Password"),D=t("Button"),F=t("TabPane"),V=t("Tabs");return d(),f(g,null,[r(_,null,{default:s(()=>[re]),_:1}),c("div",se,[r(v,{layout:"inline"},{default:s(()=>[r(p,{label:"\u65F6\u95F4\u6233\u91CD\u547D\u540D"},{default:s(()=>[r(C,{checked:e.currentCommonConfig.renameTimeStamp,"onUpdate:checked":o[0]||(o[0]=l=>e.currentCommonConfig.renameTimeStamp=l),onChange:o[1]||(o[1]=l=>e.saveCommonConfig(e.currentCommonConfig))},null,8,["checked"])]),_:1}),r(p,{label:"\u4E0A\u4F20\u540E\u81EA\u52A8\u590D\u5236URL"},{default:s(()=>[r(C,{checked:e.currentCommonConfig.copyUrlAfterUpload,"onUpdate:checked":o[2]||(o[2]=l=>e.currentCommonConfig.copyUrlAfterUpload=l),onChange:o[3]||(o[3]=l=>e.saveCommonConfig(e.currentCommonConfig))},null,8,["checked"])]),_:1})]),_:1})]),r(q),r(_,null,{default:s(()=>[le]),_:1}),r(V,{activeKey:e.currentUploader,"onUpdate:activeKey":o[4]||(o[4]=l=>e.currentUploader=l),type:"card",onChange:h.changeUploader},{default:s(()=>[(d(!0),f(g,null,j(e.uploaders,(l,y)=>(d(),i(F,{key:y,tab:l.name},{default:s(()=>[c("div",de,[c("div",ce,[e.currentUploader===y?(d(),i(v,{key:0,layout:"vertical"},{default:s(()=>[(d(!0),f(g,null,j(e.currentConfig,a=>(d(),i(p,{key:a.name,label:a.label,required:a.required},{default:s(()=>[a.type==="input"?(d(),i(A,{key:0,value:a.default,"onUpdate:value":m=>a.default=m,"allow-clear":"",placeholder:a.hint},null,8,["value","onUpdate:value","placeholder"])):a.type==="password"?(d(),i(N,{key:1,value:a.default,"onUpdate:value":m=>a.default=m,"allow-clear":"",placeholder:a.hint},null,8,["value","onUpdate:value","placeholder"])):B("",!0)]),_:2},1032,["label","required"]))),128))]),_:2},1024)):B("",!0)]),c("div",ie,[r(D,{type:"primary",onClick:h.save},{default:s(()=>[ue]),_:1},8,["onClick"])])])]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey","onChange"])],64)}var Te=X(te,[["render",pe],["__scopeId","data-v-02c8fcaa"]]);export{Te as default};
