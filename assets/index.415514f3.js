import{Y as v,Z as w,_ as u,$ as c,a0 as I,a as t,o as k,g as N,f as l,e as s,a1 as $,w as r,p as b,j,a2 as p,h as x}from"./vendor.23168bc2.js";/* empty css               *//* empty css              */import{_ as B}from"./index.eccc5496.js";const{Item:C}=u,{Password:K}=c,Q={name:"Login",components:{User:v,Lock:w,Form:u,Input:c,Button:I,Item:C,Password:K},watch:{$route:{handler:function(e){const o=e.query;o&&(this.redirect=o.redirect,this.otherQuery=this.getOtherQuery(o))},immediate:!0}},data:()=>({form:{layout:"horizontal",userName:"",password:""},redirect:void 0,otherQuery:{},loading:!1}),methods:{login(){this.form.userName!=null&&this.form.password!=null&&(this.loading=!0,this.$store.dispatch("user/login",{userName:this.form.userName,password:this.form.password}).then(e=>{e?(this.$msg.success("\u767B\u5F55\u6210\u529F\uFF01"),this.$router.push({path:this.redirect||"/",query:this.otherQuery})):this.$msg.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF\uFF01")}).catch(()=>{this.$msg.error("\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF\uFF01")}).finally(()=>{this.loading=!1}))},getOtherQuery(e){return Object.keys(e).reduce((o,a)=>(a!=="redirect"&&(o[a]=e[a]),o),{})}}},U=e=>(b("data-v-3052b3ad"),e=e(),j(),e),q={class:"login-container"},z={class:"main"},L=x(" \u786E\u5B9A "),P=U(()=>l("div",{class:"footer"},[l("div",{class:"copyright"}," Copyright \xA9 2020 ISZY")],-1));function S(e,o,a,F,O,n){const m=t("User"),h=t("Input"),i=t("Item"),_=t("Lock"),f=t("Password"),g=t("Button"),y=t("Form");return k(),N("div",q,[l("div",z,[s(y,$({layout:e.form.layout,model:e.form},{wrapperCol:{span:24}}),{default:r(()=>[s(i,{required:""},{default:r(()=>[s(h,{value:e.form.userName,"onUpdate:value":o[0]||(o[0]=d=>e.form.userName=d),placeholder:"\u8D26\u6237",size:"large",onKeypress:p(n.login,["enter"])},{prefix:r(()=>[s(m,{theme:"outline",style:{color:"rgba(0,0,0,.25)"}})]),_:1},8,["value","onKeypress"])]),_:1}),s(i,{required:""},{default:r(()=>[s(f,{value:e.form.password,"onUpdate:value":o[1]||(o[1]=d=>e.form.password=d),placeholder:"\u5BC6\u7801",size:"large",onKeypress:p(n.login,["enter"])},{prefix:r(()=>[s(_,{theme:"outline",style:{color:"rgba(0,0,0,.25)"}})]),_:1},8,["value","onKeypress"])]),_:1}),s(i,null,{default:r(()=>[s(g,{type:"primary",block:"",size:"large",onClick:n.login,loading:e.loading},{default:r(()=>[L]),_:1},8,["onClick","loading"])]),_:1})]),_:1},16,["layout","model"])]),P])}var T=B(Q,[["render",S],["__scopeId","data-v-3052b3ad"]]);export{T as default};
