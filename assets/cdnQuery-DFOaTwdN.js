import{j as Oe,u as Pe,o as S,l as oe,w as H,r as at,aD as Yn,aE as Zn,m as O,al as er,_ as He,t as xt,aF as Ze,a6 as tr,A as nr,aG as rr,y as Ie,ai as vt,p as Be,R as V,aH as Ye,aI as ar,aJ as or,aK as sr,a9 as ce,an as kt,aL as ir,V as be,aj as et,ap as tt,F as M,G as L,s as ur,n as pe,Z as ve,H as U,K as W,q as dr,X as he,Y as $e,aa as Et,aM as cr,aN as lr,ab as bt,T as fr,a7 as hr,aO as pr,aP as ke,aQ as mr,aR as gr,k as It,aS as yr,I as ee,aT as vr,aU as kr,L as Z,W as Nt,aV as br,aC as Nr,aW as Ct,$ as Cr,a0 as wr,a1 as Dr,a2 as xr}from"./index-B64UzQ7O.js";import{E as Er}from"./el-checkbox-DY96hLlt.js";/* empty css               */import{s as Ir,E as Or,a as Pr}from"./el-select-DJpUoPud.js";import"./el-popper-BdJY1EqL.js";import{E as Tr}from"./el-pagination-dfWSFhpT.js";import{E as jr}from"./el-divider-BgDs0RYf.js";import{L as Sr,P as _r,T as qr,a as Kr,b as Ar}from"./Router-C0aDl8pN.js";import{E as Rr}from"./index-D8EXOWEK.js";import"./strings-DT960cQm.js";import"./castArray-0GIcrlWO.js";import"./_baseIteratee-w-aZALqf.js";import"./index-C78kZw_K.js";import"./index-chG_rj5Z.js";import"./isUndefined-DCTLXrZ8.js";const $r=Oe({name:"ElCollapseTransition"}),Br=Oe({...$r,setup(s){const o=Pe("collapse-transition"),i=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},d={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){i(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){i(t)},leaveCancelled(t){i(t)}};return(t,c)=>(S(),oe(er,Yn({name:O(o).b()},Zn(d)),{default:H(()=>[at(t.$slots,"default")]),_:3},16,["name"]))}});var Lr=He(Br,[["__file","collapse-transition.vue"]]);const Fr=xt(Lr),Ee="$treeNodeId",wt=function(s,o){!o||o[Ee]||Object.defineProperty(o,Ee,{value:s.id,enumerable:!1,configurable:!1,writable:!1})},ot=function(s,o){return s?o[s]:o[Ee]},nt=(s,o,i)=>{const d=s.value.currentNode;i();const t=s.value.currentNode;d!==t&&o("current-change",t?t.data:null,t)},rt=s=>{let o=!0,i=!0,d=!0;for(let t=0,c=s.length;t<c;t++){const g=s[t];(g.checked!==!0||g.indeterminate)&&(o=!1,g.disabled||(d=!1)),(g.checked!==!1||g.indeterminate)&&(i=!1)}return{all:o,none:i,allWithoutDisable:d,half:!o&&!i}},Re=function(s){if(s.childNodes.length===0||s.loading)return;const{all:o,none:i,half:d}=rt(s.childNodes);o?(s.checked=!0,s.indeterminate=!1):d?(s.checked=!1,s.indeterminate=!0):i&&(s.checked=!1,s.indeterminate=!1);const t=s.parent;!t||t.level===0||s.store.checkStrictly||Re(t)},ze=function(s,o){const i=s.store.props,d=s.data||{},t=i[o];if(typeof t=="function")return t(d,s);if(typeof t=="string")return d[t];if(typeof t>"u"){const c=d[o];return c===void 0?"":c}};let Mr=0;class Ne{constructor(o){this.id=Mr++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in o)Ze(o,i)&&(this[i]=o[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const o=this.store;if(!o)throw new Error("[Node]store is required!");o.registerNode(this);const i=o.props;if(i&&typeof i.isLeaf<"u"){const c=ze(this,"isLeaf");typeof c=="boolean"&&(this.isLeafByUser=c)}if(o.lazy!==!0&&this.data?(this.setData(this.data),o.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&o.lazy&&o.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||wt(this,this.data),!this.data)return;const d=o.defaultExpandedKeys,t=o.key;t&&d&&d.includes(this.key)&&this.expand(null,o.autoExpandParent),t&&o.currentNodeKey!==void 0&&this.key===o.currentNodeKey&&(o.currentNode=this,o.currentNode.isCurrent=!0),o.lazy&&o._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(o){Array.isArray(o)||wt(this,o),this.data=o,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=ze(this,"children")||[];for(let d=0,t=i.length;d<t;d++)this.insertChild({data:i[d]})}get label(){return ze(this,"label")}get key(){const o=this.store.key;return this.data?this.data[o]:null}get disabled(){return ze(this,"disabled")}get nextSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return o.childNodes[i+1]}return null}get previousSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return i>0?o.childNodes[i-1]:null}return null}contains(o,i=!0){return(this.childNodes||[]).some(d=>d===o||i&&d.contains(o))}remove(){const o=this.parent;o&&o.removeChild(this)}insertChild(o,i,d){if(!o)throw new Error("InsertChild error: child is required.");if(!(o instanceof Ne)){if(!d){const t=this.getChildren(!0);t.includes(o.data)||(typeof i>"u"||i<0?t.push(o.data):t.splice(i,0,o.data))}Object.assign(o,{parent:this,store:this.store}),o=tr(new Ne(o)),o instanceof Ne&&o.initialize()}o.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(o):this.childNodes.splice(i,0,o),this.updateLeafState()}insertBefore(o,i){let d;i&&(d=this.childNodes.indexOf(i)),this.insertChild(o,d)}insertAfter(o,i){let d;i&&(d=this.childNodes.indexOf(i),d!==-1&&(d+=1)),this.insertChild(o,d)}removeChild(o){const i=this.getChildren()||[],d=i.indexOf(o.data);d>-1&&i.splice(d,1);const t=this.childNodes.indexOf(o);t>-1&&(this.store&&this.store.deregisterNode(o),o.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(o){let i=null;for(let d=0;d<this.childNodes.length;d++)if(this.childNodes[d].data===o){i=this.childNodes[d];break}i&&this.removeChild(i)}expand(o,i){const d=()=>{if(i){let t=this.parent;for(;t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,o&&o(),this.childNodes.forEach(t=>{t.canFocus=!0})};this.shouldLoadData()?this.loadData(t=>{Array.isArray(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Re(this),d())}):d()}doCreateChildren(o,i={}){o.forEach(d=>{this.insertChild(Object.assign({data:d},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(o=>{o.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const o=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!o||o.length===0;return}this.isLeaf=!1}setChecked(o,i,d,t){if(this.indeterminate=o==="half",this.checked=o===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:g,allWithoutDisable:k}=rt(this.childNodes);!this.isLeaf&&!g&&k&&(this.checked=!1,o=!1);const _=()=>{if(i){const w=this.childNodes;for(let x=0,y=w.length;x<y;x++){const $=w[x];t=t||o!==!1;const F=$.disabled?$.checked:t;$.setChecked(F,i,!0,t)}const{half:b,all:D}=rt(w);D||(this.checked=D,this.indeterminate=b)}};if(this.shouldLoadData()){this.loadData(()=>{_(),Re(this)},{checked:o!==!1});return}else _()}const c=this.parent;!c||c.level===0||d||Re(c)}getChildren(o=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const d=this.store.props;let t="children";return d&&(t=d.children||"children"),i[t]===void 0&&(i[t]=null),o&&!i[t]&&(i[t]=[]),i[t]}updateChildren(){const o=this.getChildren()||[],i=this.childNodes.map(c=>c.data),d={},t=[];o.forEach((c,g)=>{const k=c[Ee];!!k&&i.findIndex(w=>w[Ee]===k)>=0?d[k]={index:g,data:c}:t.push({index:g,data:c})}),this.store.lazy||i.forEach(c=>{d[c[Ee]]||this.removeChildByData(c)}),t.forEach(({index:c,data:g})=>{this.insertChild({data:g},c)}),this.updateLeafState()}loadData(o,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const d=c=>{this.childNodes=[],this.doCreateChildren(c,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),o&&o.call(this,c)},t=()=>{this.loading=!1};this.store.load(this,d,t)}else o&&o.call(this)}eachNode(o){const i=[this];for(;i.length;){const d=i.shift();i.unshift(...d.childNodes),o(d)}}reInitChecked(){this.store.checkStrictly||Re(this)}}class zr{constructor(o){this.currentNode=null,this.currentNodeKey=null;for(const i in o)Ze(o,i)&&(this[i]=o[i]);this.nodesMap={}}initialize(){if(this.root=new Ne({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const o=this.load;o(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(o){const i=this.filterNodeMethod,d=this.lazy,t=function(c){const g=c.root?c.root.childNodes:c.childNodes;if(g.forEach(k=>{k.visible=i.call(k,o,k.data,k),t(k)}),!c.visible&&g.length){let k=!0;k=!g.some(_=>_.visible),c.root?c.root.visible=k===!1:c.visible=k===!1}o&&c.visible&&!c.isLeaf&&(!d||c.loaded)&&c.expand()};t(this)}setData(o){o!==this.root.data?(this.nodesMap={},this.root.setData(o),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(o){if(o instanceof Ne)return o;const i=nr(o)?ot(this.key,o):o;return this.nodesMap[i]||null}insertBefore(o,i){const d=this.getNode(i);d.parent.insertBefore({data:o},d)}insertAfter(o,i){const d=this.getNode(i);d.parent.insertAfter({data:o},d)}remove(o){const i=this.getNode(o);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(o,i){const d=rr(i)?this.root:this.getNode(i);d&&d.insertChild({data:o})}_initDefaultCheckedNodes(){const o=this.defaultCheckedKeys||[],i=this.nodesMap;o.forEach(d=>{const t=i[d];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(o){(this.defaultCheckedKeys||[]).includes(o.key)&&o.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(o){o!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=o,this._initDefaultCheckedNodes())}registerNode(o){const i=this.key;!o||!o.data||(i?o.key!==void 0&&(this.nodesMap[o.key]=o):this.nodesMap[o.id]=o)}deregisterNode(o){!this.key||!o||!o.data||(o.childNodes.forEach(d=>{this.deregisterNode(d)}),delete this.nodesMap[o.key])}getCheckedNodes(o=!1,i=!1){const d=[],t=function(c){(c.root?c.root.childNodes:c.childNodes).forEach(k=>{(k.checked||i&&k.indeterminate)&&(!o||o&&k.isLeaf)&&d.push(k.data),t(k)})};return t(this),d}getCheckedKeys(o=!1){return this.getCheckedNodes(o).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const o=[],i=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(c=>{c.indeterminate&&o.push(c.data),i(c)})};return i(this),o}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(o=>(o||{})[this.key])}_getAllNodes(){const o=[],i=this.nodesMap;for(const d in i)Ze(i,d)&&o.push(i[d]);return o}updateChildren(o,i){const d=this.nodesMap[o];if(!d)return;const t=d.childNodes;for(let c=t.length-1;c>=0;c--){const g=t[c];this.remove(g.data)}for(let c=0,g=i.length;c<g;c++){const k=i[c];this.append(k,d.data)}}_setCheckedKeys(o,i=!1,d){const t=this._getAllNodes().sort((_,w)=>_.level-w.level),c=Object.create(null),g=Object.keys(d);t.forEach(_=>_.setChecked(!1,!1));const k=_=>{_.childNodes.forEach(w=>{var b;c[w.data[o]]=!0,(b=w.childNodes)!=null&&b.length&&k(w)})};for(let _=0,w=t.length;_<w;_++){const b=t[_],D=b.data[o].toString();if(!g.includes(D)){b.checked&&!c[D]&&b.setChecked(!1,!1);continue}if(b.childNodes.length&&k(b),b.isLeaf||this.checkStrictly){b.setChecked(!0,!1);continue}if(b.setChecked(!0,!0),i){b.setChecked(!1,!1);const y=function($){$.childNodes.forEach(C=>{C.isLeaf||C.setChecked(!1,!1),y(C)})};y(b)}}}setCheckedNodes(o,i=!1){const d=this.key,t={};o.forEach(c=>{t[(c||{})[d]]=!0}),this._setCheckedKeys(d,i,t)}setCheckedKeys(o,i=!1){this.defaultCheckedKeys=o;const d=this.key,t={};o.forEach(c=>{t[c]=!0}),this._setCheckedKeys(d,i,t)}setDefaultExpandedKeys(o){o=o||[],this.defaultExpandedKeys=o,o.forEach(i=>{const d=this.getNode(i);d&&d.expand(null,this.autoExpandParent)})}setChecked(o,i,d){const t=this.getNode(o);t&&t.setChecked(!!i,d)}getCurrentNode(){return this.currentNode}setCurrentNode(o){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=o,this.currentNode.isCurrent=!0}setUserCurrentNode(o,i=!0){const d=o[this.key],t=this.nodesMap[d];this.setCurrentNode(t),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(o,i=!0){if(o==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const d=this.getNode(o);d&&(this.setCurrentNode(d),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Hr=Oe({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(s){const o=Pe("tree"),i=Ie("NodeInstance"),d=Ie("RootTree");return()=>{const t=s.node,{data:c,store:g}=t;return s.renderContent?s.renderContent(vt,{_self:i,node:t,data:c,store:g}):at(d.ctx.slots,"default",{node:t,data:c},()=>[vt("span",{class:o.be("node","label")},[t.label])])}}});var Ur=He(Hr,[["__file","tree-node-content.vue"]]);function Ot(s){const o=Ie("TreeNodeMap",null),i={treeNodeExpand:d=>{s.node!==d&&s.node.collapse()},children:[]};return o&&o.children.push(i),Be("TreeNodeMap",i),{broadcastExpanded:d=>{if(s.accordion)for(const t of i.children)t.treeNodeExpand(d)}}}const Pt=Symbol("dragEvents");function Jr({props:s,ctx:o,el$:i,dropIndicator$:d,store:t}){const c=Pe("tree"),g=V({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Be(Pt,{treeNodeDragStart:({event:b,treeNode:D})=>{if(typeof s.allowDrag=="function"&&!s.allowDrag(D.node))return b.preventDefault(),!1;b.dataTransfer.effectAllowed="move";try{b.dataTransfer.setData("text/plain","")}catch{}g.value.draggingNode=D,o.emit("node-drag-start",D.node,b)},treeNodeDragOver:({event:b,treeNode:D})=>{const x=D,y=g.value.dropNode;y&&y.node.id!==x.node.id&&Ye(y.$el,c.is("drop-inner"));const $=g.value.draggingNode;if(!$||!x)return;let F=!0,C=!0,X=!0,J=!0;typeof s.allowDrop=="function"&&(F=s.allowDrop($.node,x.node,"prev"),J=C=s.allowDrop($.node,x.node,"inner"),X=s.allowDrop($.node,x.node,"next")),b.dataTransfer.dropEffect=C||F||X?"move":"none",(F||C||X)&&(y==null?void 0:y.node.id)!==x.node.id&&(y&&o.emit("node-drag-leave",$.node,y.node,b),o.emit("node-drag-enter",$.node,x.node,b)),F||C||X?g.value.dropNode=x:g.value.dropNode=null,x.node.nextSibling===$.node&&(X=!1),x.node.previousSibling===$.node&&(F=!1),x.node.contains($.node,!1)&&(C=!1),($.node===x.node||$.node.contains(x.node))&&(F=!1,C=!1,X=!1);const te=x.$el.querySelector(`.${c.be("node","content")}`).getBoundingClientRect(),G=i.value.getBoundingClientRect();let K;const B=F?C?.25:X?.45:1:-1,re=X?C?.75:F?.55:0:1;let ne=-9999;const I=b.clientY-te.top;I<te.height*B?K="before":I>te.height*re?K="after":C?K="inner":K="none";const P=x.$el.querySelector(`.${c.be("node","expand-icon")}`).getBoundingClientRect(),E=d.value;K==="before"?ne=P.top-G.top:K==="after"&&(ne=P.bottom-G.top),E.style.top=`${ne}px`,E.style.left=`${P.right-G.left}px`,K==="inner"?ar(x.$el,c.is("drop-inner")):Ye(x.$el,c.is("drop-inner")),g.value.showDropIndicator=K==="before"||K==="after",g.value.allowDrop=g.value.showDropIndicator||J,g.value.dropType=K,o.emit("node-drag-over",$.node,x.node,b)},treeNodeDragEnd:b=>{const{draggingNode:D,dropType:x,dropNode:y}=g.value;if(b.preventDefault(),b.dataTransfer&&(b.dataTransfer.dropEffect="move"),D&&y){const $={data:D.node.data};x!=="none"&&D.node.remove(),x==="before"?y.node.parent.insertBefore($,y.node):x==="after"?y.node.parent.insertAfter($,y.node):x==="inner"&&y.node.insertChild($),x!=="none"&&(t.value.registerNode($),t.value.key&&D.node.eachNode(F=>{var C;(C=t.value.nodesMap[F.data[t.value.key]])==null||C.setChecked(F.checked,!t.value.checkStrictly)})),Ye(y.$el,c.is("drop-inner")),o.emit("node-drag-end",D.node,y.node,x,b),x!=="none"&&o.emit("node-drop",D.node,y.node,x,b)}D&&!y&&o.emit("node-drag-end",D.node,null,x,b),g.value.showDropIndicator=!1,g.value.draggingNode=null,g.value.dropNode=null,g.value.allowDrop=!0}}),{dragState:g}}const Qr=Oe({name:"ElTreeNode",components:{ElCollapseTransition:Fr,ElCheckbox:Er,NodeContent:Ur,ElIcon:or,Loading:sr},props:{node:{type:Ne,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(s,o){const i=Pe("tree"),{broadcastExpanded:d}=Ot(s),t=Ie("RootTree"),c=V(!1),g=V(!1),k=V(null),_=V(null),w=V(null),b=Ie(Pt),D=Et();Be("NodeInstance",D),s.node.expanded&&(c.value=!0,g.value=!0);const x=t.props.props.children||"children";ce(()=>{const I=s.node.data[x];return I&&[...I]},()=>{s.node.updateChildren()}),ce(()=>s.node.indeterminate,I=>{F(s.node.checked,I)}),ce(()=>s.node.checked,I=>{F(I,s.node.indeterminate)}),ce(()=>s.node.childNodes.length,()=>s.node.reInitChecked()),ce(()=>s.node.expanded,I=>{kt(()=>c.value=I),I&&(g.value=!0)});const y=I=>ot(t.props.nodeKey,I.data),$=I=>{const P=s.props.class;if(!P)return{};let E;if(cr(P)){const{data:le}=I;E=P(le,I)}else E=P;return lr(E)?{[E]:!0}:E},F=(I,P)=>{(k.value!==I||_.value!==P)&&t.ctx.emit("check-change",s.node.data,I,P),k.value=I,_.value=P},C=I=>{nt(t.store,t.ctx.emit,()=>t.store.value.setCurrentNode(s.node)),t.currentNode.value=s.node,t.props.expandOnClickNode&&J(),t.props.checkOnClickNode&&!s.node.disabled&&te(null,{target:{checked:!s.node.checked}}),t.ctx.emit("node-click",s.node.data,s.node,D,I)},X=I=>{t.instance.vnode.props.onNodeContextmenu&&(I.stopPropagation(),I.preventDefault()),t.ctx.emit("node-contextmenu",I,s.node.data,s.node,D)},J=()=>{s.node.isLeaf||(c.value?(t.ctx.emit("node-collapse",s.node.data,s.node,D),s.node.collapse()):(s.node.expand(),o.emit("node-expand",s.node.data,s.node,D)))},te=(I,P)=>{s.node.setChecked(P.target.checked,!t.props.checkStrictly),kt(()=>{const E=t.store.value;t.ctx.emit("check",s.node.data,{checkedNodes:E.getCheckedNodes(),checkedKeys:E.getCheckedKeys(),halfCheckedNodes:E.getHalfCheckedNodes(),halfCheckedKeys:E.getHalfCheckedKeys()})})};return{ns:i,node$:w,tree:t,expanded:c,childNodeRendered:g,oldChecked:k,oldIndeterminate:_,getNodeKey:y,getNodeClass:$,handleSelectChange:F,handleClick:C,handleContextMenu:X,handleExpandIconClick:J,handleCheckChange:te,handleChildNodeExpand:(I,P,E)=>{d(P),t.ctx.emit("node-expand",I,P,E)},handleDragStart:I=>{t.props.draggable&&b.treeNodeDragStart({event:I,treeNode:s})},handleDragOver:I=>{I.preventDefault(),t.props.draggable&&b.treeNodeDragOver({event:I,treeNode:{$el:w.value,node:s.node}})},handleDrop:I=>{I.preventDefault()},handleDragEnd:I=>{t.props.draggable&&b.treeNodeDragEnd(I)},CaretRight:ir}}});function Vr(s,o,i,d,t,c){const g=be("el-icon"),k=be("el-checkbox"),_=be("loading"),w=be("node-content"),b=be("el-tree-node"),D=be("el-collapse-transition");return et((S(),M("div",{ref:"node$",class:pe([s.ns.b("node"),s.ns.is("expanded",s.expanded),s.ns.is("current",s.node.isCurrent),s.ns.is("hidden",!s.node.visible),s.ns.is("focusable",!s.node.disabled),s.ns.is("checked",!s.node.disabled&&s.node.checked),s.getNodeClass(s.node)]),role:"treeitem",tabindex:"-1","aria-expanded":s.expanded,"aria-disabled":s.node.disabled,"aria-checked":s.node.checked,draggable:s.tree.props.draggable,"data-key":s.getNodeKey(s.node),onClick:ve(s.handleClick,["stop"]),onContextmenu:s.handleContextMenu,onDragstart:ve(s.handleDragStart,["stop"]),onDragover:ve(s.handleDragOver,["stop"]),onDragend:ve(s.handleDragEnd,["stop"]),onDrop:ve(s.handleDrop,["stop"])},[L("div",{class:pe(s.ns.be("node","content")),style:dr({paddingLeft:(s.node.level-1)*s.tree.props.indent+"px"})},[s.tree.props.icon||s.CaretRight?(S(),oe(g,{key:0,class:pe([s.ns.be("node","expand-icon"),s.ns.is("leaf",s.node.isLeaf),{expanded:!s.node.isLeaf&&s.expanded}]),onClick:ve(s.handleExpandIconClick,["stop"])},{default:H(()=>[(S(),oe(ur(s.tree.props.icon||s.CaretRight)))]),_:1},8,["class","onClick"])):U("v-if",!0),s.showCheckbox?(S(),oe(k,{key:1,"model-value":s.node.checked,indeterminate:s.node.indeterminate,disabled:!!s.node.disabled,onClick:ve(()=>{},["stop"]),onChange:s.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):U("v-if",!0),s.node.loading?(S(),oe(g,{key:2,class:pe([s.ns.be("node","loading-icon"),s.ns.is("loading")])},{default:H(()=>[W(_)]),_:1},8,["class"])):U("v-if",!0),W(w,{node:s.node,"render-content":s.renderContent},null,8,["node","render-content"])],6),W(D,null,{default:H(()=>[!s.renderAfterExpand||s.childNodeRendered?et((S(),M("div",{key:0,class:pe(s.ns.be("node","children")),role:"group","aria-expanded":s.expanded},[(S(!0),M(he,null,$e(s.node.childNodes,x=>(S(),oe(b,{key:s.getNodeKey(x),"render-content":s.renderContent,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,node:x,accordion:s.accordion,props:s.props,onNodeExpand:s.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[tt,s.expanded]]):U("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[tt,s.node.visible]])}var Gr=He(Qr,[["render",Vr],["__file","tree-node.vue"]]);function Wr({el$:s},o){const i=Pe("tree"),d=bt([]),t=bt([]);fr(()=>{g()}),hr(()=>{d.value=Array.from(s.value.querySelectorAll("[role=treeitem]")),t.value=Array.from(s.value.querySelectorAll("input[type=checkbox]"))}),ce(t,k=>{k.forEach(_=>{_.setAttribute("tabindex","-1")})}),pr(s,"keydown",k=>{const _=k.target;if(!_.className.includes(i.b("node")))return;const w=k.code;d.value=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const b=d.value.indexOf(_);let D;if([ke.up,ke.down].includes(w)){if(k.preventDefault(),w===ke.up){D=b===-1?0:b!==0?b-1:d.value.length-1;const y=D;for(;!o.value.getNode(d.value[D].dataset.key).canFocus;){if(D--,D===y){D=-1;break}D<0&&(D=d.value.length-1)}}else{D=b===-1?0:b<d.value.length-1?b+1:0;const y=D;for(;!o.value.getNode(d.value[D].dataset.key).canFocus;){if(D++,D===y){D=-1;break}D>=d.value.length&&(D=0)}}D!==-1&&d.value[D].focus()}[ke.left,ke.right].includes(w)&&(k.preventDefault(),_.click());const x=_.querySelector('[type="checkbox"]');[ke.enter,ke.space].includes(w)&&x&&(k.preventDefault(),x.click())});const g=()=>{var k;d.value=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),t.value=Array.from(s.value.querySelectorAll("input[type=checkbox]"));const _=s.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(_.length){_[0].setAttribute("tabindex","0");return}(k=d.value[0])==null||k.setAttribute("tabindex","0")}}const Xr=Oe({name:"ElTree",components:{ElTreeNode:Gr},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:mr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(s,o){const{t:i}=gr(),d=Pe("tree"),t=Ie(Ir,null),c=V(new zr({key:s.nodeKey,data:s.data,lazy:s.lazy,props:s.props,load:s.load,currentNodeKey:s.currentNodeKey,checkStrictly:s.checkStrictly,checkDescendants:s.checkDescendants,defaultCheckedKeys:s.defaultCheckedKeys,defaultExpandedKeys:s.defaultExpandedKeys,autoExpandParent:s.autoExpandParent,defaultExpandAll:s.defaultExpandAll,filterNodeMethod:s.filterNodeMethod}));c.value.initialize();const g=V(c.value.root),k=V(null),_=V(null),w=V(null),{broadcastExpanded:b}=Ot(s),{dragState:D}=Jr({props:s,ctx:o,el$:_,dropIndicator$:w,store:c});Wr({el$:_},c);const x=It(()=>{const{childNodes:h}=g.value,A=t?t.hasFilteredOptions!==0:!1;return(!h||h.length===0||h.every(({visible:de})=>!de))&&!A});ce(()=>s.currentNodeKey,h=>{c.value.setCurrentNodeKey(h)}),ce(()=>s.defaultCheckedKeys,h=>{c.value.setDefaultCheckedKey(h)}),ce(()=>s.defaultExpandedKeys,h=>{c.value.setDefaultExpandedKeys(h)}),ce(()=>s.data,h=>{c.value.setData(h)},{deep:!0}),ce(()=>s.checkStrictly,h=>{c.value.checkStrictly=h});const y=h=>{if(!s.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");c.value.filter(h)},$=h=>ot(s.nodeKey,h.data),F=h=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const A=c.value.getNode(h);if(!A)return[];const de=[A.data];let ge=A.parent;for(;ge&&ge!==g.value;)de.push(ge.data),ge=ge.parent;return de.reverse()},C=(h,A)=>c.value.getCheckedNodes(h,A),X=h=>c.value.getCheckedKeys(h),J=()=>{const h=c.value.getCurrentNode();return h?h.data:null},te=()=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const h=J();return h?h[s.nodeKey]:null},G=(h,A)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");c.value.setCheckedNodes(h,A)},K=(h,A)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");c.value.setCheckedKeys(h,A)},B=(h,A,de)=>{c.value.setChecked(h,A,de)},re=()=>c.value.getHalfCheckedNodes(),ne=()=>c.value.getHalfCheckedKeys(),I=(h,A=!0)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");nt(c,o.emit,()=>{b(h),c.value.setUserCurrentNode(h,A)})},P=(h,A=!0)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");nt(c,o.emit,()=>{b(),c.value.setCurrentNodeKey(h,A)})},E=h=>c.value.getNode(h),le=h=>{c.value.remove(h)},Te=(h,A)=>{c.value.append(h,A)},Ce=(h,A)=>{c.value.insertBefore(h,A)},fe=(h,A)=>{c.value.insertAfter(h,A)},je=(h,A,de)=>{b(A),o.emit("node-expand",h,A,de)},Se=(h,A)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");c.value.updateChildren(h,A)};return Be("RootTree",{ctx:o,props:s,store:c,root:g,currentNode:k,instance:Et()}),Be(yr,void 0),{ns:d,store:c,root:g,currentNode:k,dragState:D,el$:_,dropIndicator$:w,isEmpty:x,filter:y,getNodeKey:$,getNodePath:F,getCheckedNodes:C,getCheckedKeys:X,getCurrentNode:J,getCurrentKey:te,setCheckedNodes:G,setCheckedKeys:K,setChecked:B,getHalfCheckedNodes:re,getHalfCheckedKeys:ne,setCurrentNode:I,setCurrentKey:P,t:i,getNode:E,remove:le,append:Te,insertBefore:Ce,insertAfter:fe,handleNodeExpand:je,updateKeyChildren:Se}}});function Yr(s,o,i,d,t,c){const g=be("el-tree-node");return S(),M("div",{ref:"el$",class:pe([s.ns.b(),s.ns.is("dragging",!!s.dragState.draggingNode),s.ns.is("drop-not-allow",!s.dragState.allowDrop),s.ns.is("drop-inner",s.dragState.dropType==="inner"),{[s.ns.m("highlight-current")]:s.highlightCurrent}]),role:"tree"},[(S(!0),M(he,null,$e(s.root.childNodes,k=>(S(),oe(g,{key:s.getNodeKey(k),node:k,props:s.props,accordion:s.accordion,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,"render-content":s.renderContent,onNodeExpand:s.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),s.isEmpty?(S(),M("div",{key:0,class:pe(s.ns.e("empty-block"))},[at(s.$slots,"empty",{},()=>{var k;return[L("span",{class:pe(s.ns.e("empty-text"))},ee((k=s.emptyText)!=null?k:s.t("el.tree.emptyText")),3)]})],2)):U("v-if",!0),et(L("div",{ref:"dropIndicator$",class:pe(s.ns.e("drop-indicator"))},null,2),[[tt,s.dragState.showDropIndicator]])],2)}var Zr=He(Xr,[["render",Yr],["__file","tree.vue"]]);const ea=xt(Zr);var Tt={exports:{}};/*! algoliasearch.umd.js | 4.24.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(s,o){(function(i,d){s.exports=d()})(kr,function(){function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function d(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,a)}return r}function t(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?d(Object(r),!0).forEach(function(a){i(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function c(e,n){if(e==null)return{};var r,a,u=function(m,l){if(m==null)return{};var p,N,v={},j=Object.keys(m);for(N=0;N<j.length;N++)p=j[N],l.indexOf(p)>=0||(v[p]=m[p]);return v}(e,n);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(a=0;a<f.length;a++)r=f[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}function g(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,a){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var u=[],f=!0,m=!1,l=void 0;try{for(var p,N=r[Symbol.iterator]();!(f=(p=N.next()).done)&&(u.push(p.value),!a||u.length!==a);f=!0);}catch(v){m=!0,l=v}finally{try{f||N.return==null||N.return()}finally{if(m)throw l}}return u}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e){return function(n){if(Array.isArray(n)){for(var r=0,a=new Array(n.length);r<n.length;r++)a[r]=n[r];return a}}(e)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e){var n,r="algoliasearch-client-js-".concat(e.key),a=function(){return n===void 0&&(n=e.localStorage||window.localStorage),n},u=function(){return JSON.parse(a().getItem(r)||"{}")},f=function(l){a().setItem(r,JSON.stringify(l))},m=function(){var l=e.timeToLive?1e3*e.timeToLive:null,p=u(),N=Object.fromEntries(Object.entries(p).filter(function(j){return g(j,2)[1].timestamp!==void 0}));if(f(N),l){var v=Object.fromEntries(Object.entries(N).filter(function(j){var T=g(j,2)[1],R=new Date().getTime();return!(T.timestamp+l<R)}));f(v)}};return{get:function(l,p){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){m();var v=JSON.stringify(l);return u()[v]}).then(function(v){return Promise.all([v?v.value:p(),v!==void 0])}).then(function(v){var j=g(v,2),T=j[0],R=j[1];return Promise.all([T,R||N.miss(T)])}).then(function(v){return g(v,1)[0]})},set:function(l,p){return Promise.resolve().then(function(){var N=u();return N[JSON.stringify(l)]={timestamp:new Date().getTime(),value:p},a().setItem(r,JSON.stringify(N)),p})},delete:function(l){return Promise.resolve().then(function(){var p=u();delete p[JSON.stringify(l)],a().setItem(r,JSON.stringify(p))})},clear:function(){return Promise.resolve().then(function(){a().removeItem(r)})}}}function w(e){var n=k(e.caches),r=n.shift();return r===void 0?{get:function(a,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},m=u();return m.then(function(l){return Promise.all([l,f.miss(l)])}).then(function(l){return g(l,1)[0]})},set:function(a,u){return Promise.resolve(u)},delete:function(a){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(a,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(a,u,f).catch(function(){return w({caches:n}).get(a,u,f)})},set:function(a,u){return r.set(a,u).catch(function(){return w({caches:n}).set(a,u)})},delete:function(a){return r.delete(a).catch(function(){return w({caches:n}).delete(a)})},clear:function(){return r.clear().catch(function(){return w({caches:n}).clear()})}}}function b(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},n={};return{get:function(r,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},f=JSON.stringify(r);if(f in n)return Promise.resolve(e.serializable?JSON.parse(n[f]):n[f]);var m=a(),l=u&&u.miss||function(){return Promise.resolve()};return m.then(function(p){return l(p)}).then(function(){return m})},set:function(r,a){return n[JSON.stringify(r)]=e.serializable?JSON.stringify(a):a,Promise.resolve(a)},delete:function(r){return delete n[JSON.stringify(r)],Promise.resolve()},clear:function(){return n={},Promise.resolve()}}}function D(e,n,r){var a={"x-algolia-api-key":r,"x-algolia-application-id":n};return{headers:function(){return e===X.WithinHeaders?a:{}},queryParameters:function(){return e===X.WithinQueryParameters?a:{}}}}function x(e){var n=0;return e(function r(){return n++,new Promise(function(a){setTimeout(function(){a(e(r))},Math.min(100*n,1e3))})})}function y(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,a){return Promise.resolve()};return Object.assign(e,{wait:function(r){return y(e.then(function(a){return Promise.all([n(a,r),a])}).then(function(a){return a[1]}))}})}function $(e){for(var n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=e[n];e[n]=e[r],e[r]=a}return e}function F(e,n){return n&&Object.keys(n).forEach(function(r){e[r]=n[r](e)}),e}function C(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var u=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[u++])})}var X={WithinQueryParameters:0,WithinHeaders:1};function J(e,n){var r=e||{},a=r.data||{};return Object.keys(r).forEach(function(u){["timeout","headers","queryParameters","data","cacheable"].indexOf(u)===-1&&(a[u]=r[u])}),{data:Object.entries(a).length>0?a:void 0,timeout:r.timeout||n,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var te={Read:1,Write:2,Any:3},G=1,K=2,B=3;function re(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G;return t(t({},e),{},{status:n,lastUpdate:Date.now()})}function ne(e){return typeof e=="string"?{protocol:"https",url:e,accept:te.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||te.Any}}var I="DELETE",P="GET",E="POST",le="PUT";function Te(e,n){return Promise.all(n.map(function(r){return e.get(r,function(){return Promise.resolve(re(r))})})).then(function(r){var a=r.filter(function(m){return function(l){return l.status===G||Date.now()-l.lastUpdate>12e4}(m)}),u=r.filter(function(m){return function(l){return l.status===B&&Date.now()-l.lastUpdate<=12e4}(m)}),f=[].concat(k(a),k(u));return{getTimeout:function(m,l){return(u.length===0&&m===0?1:u.length+3+m)*l},statelessHosts:f.length>0?f.map(function(m){return ne(m)}):n}})}function Ce(e,n,r,a){var u=[],f=function(T,R){if(!(T.method===P||T.data===void 0&&R.data===void 0)){var q=Array.isArray(T.data)?T.data:t(t({},T.data),R.data);return JSON.stringify(q)}}(r,a),m=function(T,R){var q=t(t({},T.headers),R.headers),z={};return Object.keys(q).forEach(function(Q){var ie=q[Q];z[Q.toLowerCase()]=ie}),z}(e,a),l=r.method,p=r.method!==P?{}:t(t({},r.data),a.data),N=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),p),a.queryParameters),v=0,j=function T(R,q){var z=R.pop();if(z===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:A(u)};var Q={data:f,headers:m,method:l,url:Se(z,r.path,N),connectTimeout:q(v,e.timeouts.connect),responseTimeout:q(v,a.timeout)},ie=function(ue){var ae={request:Q,response:ue,host:z,triesLeft:R.length};return u.push(ae),ae},Ke={onSuccess:function(ue){return function(ae){try{return JSON.parse(ae.content)}catch(ye){throw function(me,xe){return{name:"DeserializationError",message:me,response:xe}}(ye.message,ae)}}(ue)},onRetry:function(ue){var ae=ie(ue);return ue.isTimedOut&&v++,Promise.all([e.logger.info("Retryable failure",de(ae)),e.hostsCache.set(z,re(z,ue.isTimedOut?B:K))]).then(function(){return T(R,q)})},onFail:function(ue){throw ie(ue),function(ae,ye){var me=ae.content,xe=ae.status,Ae=me;try{Ae=JSON.parse(me).message}catch{}return function(Me,Xe,Xn){return{name:"ApiError",message:Me,status:Xe,transporterStackTrace:Xn}}(Ae,xe,ye)}(ue,A(u))}};return e.requester.send(Q).then(function(ue){return function(ae,ye){return function(me){var xe=me.status;return me.isTimedOut||function(Ae){var Me=Ae.isTimedOut,Xe=Ae.status;return!Me&&~~Xe==0}(me)||~~(xe/100)!=2&&~~(xe/100)!=4}(ae)?ye.onRetry(ae):~~(ae.status/100)==2?ye.onSuccess(ae):ye.onFail(ae)}(ue,Ke)})};return Te(e.hostsCache,n).then(function(T){return j(k(T.statelessHosts).reverse(),T.getTimeout)})}function fe(e){var n=e.hostsCache,r=e.logger,a=e.requester,u=e.requestsCache,f=e.responsesCache,m=e.timeouts,l=e.userAgent,p=e.hosts,N=e.queryParameters,v={hostsCache:n,logger:r,requester:a,requestsCache:u,responsesCache:f,timeouts:m,userAgent:l,headers:e.headers,queryParameters:N,hosts:p.map(function(j){return ne(j)}),read:function(j,T){var R=J(T,v.timeouts.read),q=function(){return Ce(v,v.hosts.filter(function(Q){return(Q.accept&te.Read)!=0}),j,R)};if((R.cacheable!==void 0?R.cacheable:j.cacheable)!==!0)return q();var z={request:j,mappedRequestOptions:R,transporter:{queryParameters:v.queryParameters,headers:v.headers}};return v.responsesCache.get(z,function(){return v.requestsCache.get(z,function(){return v.requestsCache.set(z,q()).then(function(Q){return Promise.all([v.requestsCache.delete(z),Q])},function(Q){return Promise.all([v.requestsCache.delete(z),Promise.reject(Q)])}).then(function(Q){var ie=g(Q,2);return ie[0],ie[1]})})},{miss:function(Q){return v.responsesCache.set(z,Q)}})},write:function(j,T){return Ce(v,v.hosts.filter(function(R){return(R.accept&te.Write)!=0}),j,J(T,v.timeouts.write))}};return v}function je(e){var n={value:"Algolia for JavaScript (".concat(e,")"),add:function(r){var a="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return n.value.indexOf(a)===-1&&(n.value="".concat(n.value).concat(a)),n}};return n}function Se(e,n,r){var a=h(r),u="".concat(e.protocol,"://").concat(e.url,"/").concat(n.charAt(0)==="/"?n.substr(1):n);return a.length&&(u+="?".concat(a)),u}function h(e){return Object.keys(e).map(function(n){return C("%s=%s",n,(r=e[n],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(e[n]):e[n]));var r}).join("&")}function A(e){return e.map(function(n){return de(n)})}function de(e){var n=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),n)})})}var ge=function(e){return function(n,r){return e.transporter.write({method:E,path:"2/abtests",data:n},r)}},St=function(e){return function(n,r){return e.transporter.write({method:I,path:C("2/abtests/%s",n)},r)}},_t=function(e){return function(n,r){return e.transporter.read({method:P,path:C("2/abtests/%s",n)},r)}},qt=function(e){return function(n){return e.transporter.read({method:P,path:"2/abtests"},n)}},Kt=function(e){return function(n,r){return e.transporter.write({method:E,path:C("2/abtests/%s/stop",n)},r)}},At=function(e){return function(n){return e.transporter.read({method:P,path:"1/strategies/personalization"},n)}},Rt=function(e){return function(n,r){return e.transporter.write({method:E,path:"1/strategies/personalization",data:n},r)}};function Ue(e){return function n(r){return e.request(r).then(function(a){if(e.batch!==void 0&&e.batch(a.hits),!e.shouldStop(a))return a.cursor?n({cursor:a.cursor}):n({page:(r.page||0)+1})})}({})}var $t=function(e){return function(n,r){var a=r||{},u=a.queryParameters,f=c(a,["queryParameters"]),m=t({acl:n},u!==void 0?{queryParameters:u}:{});return y(e.transporter.write({method:E,path:"1/keys",data:m},f),function(l,p){return x(function(N){return _e(e)(l.key,p).catch(function(v){if(v.status!==404)throw v;return N()})})})}},Bt=function(e){return function(n,r,a){var u=J(a);return u.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:E,path:"1/clusters/mapping",data:{cluster:r}},u)}},Lt=function(e){return function(n,r,a){return e.transporter.write({method:E,path:"1/clusters/mapping/batch",data:{users:n,cluster:r}},a)}},Ft=function(e){return function(n,r){return y(e.transporter.write({method:E,path:C("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),function(a,u){return we(e)(a.taskID,u)})}},Le=function(e){return function(n,r,a){return y(e.transporter.write({method:E,path:C("1/indexes/%s/operation",n),data:{operation:"copy",destination:r}},a),function(u,f){return qe(e)(n,{methods:{waitTask:Y}}).waitTask(u.taskID,f)})}},Mt=function(e){return function(n,r,a){return Le(e)(n,r,t(t({},a),{},{scope:[We.Rules]}))}},zt=function(e){return function(n,r,a){return Le(e)(n,r,t(t({},a),{},{scope:[We.Settings]}))}},Ht=function(e){return function(n,r,a){return Le(e)(n,r,t(t({},a),{},{scope:[We.Synonyms]}))}},Ut=function(e){return function(n,r){return n.method===P?e.transporter.read(n,r):e.transporter.write(n,r)}},Jt=function(e){return function(n,r){return y(e.transporter.write({method:I,path:C("1/keys/%s",n)},r),function(a,u){return x(function(f){return _e(e)(n,u).then(f).catch(function(m){if(m.status!==404)throw m})})})}},Qt=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"deleteEntry",body:{objectID:f}}});return y(e.transporter.write({method:E,path:C("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(f,m){return we(e)(f.taskID,m)})}},_e=function(e){return function(n,r){return e.transporter.read({method:P,path:C("1/keys/%s",n)},r)}},st=function(e){return function(n,r){return e.transporter.read({method:P,path:C("1/task/%s",n.toString())},r)}},Vt=function(e){return function(n){return e.transporter.read({method:P,path:"/1/dictionaries/*/settings"},n)}},Gt=function(e){return function(n){return e.transporter.read({method:P,path:"1/logs"},n)}},Wt=function(e){return function(n){return e.transporter.read({method:P,path:"1/clusters/mapping/top"},n)}},Xt=function(e){return function(n,r){return e.transporter.read({method:P,path:C("1/clusters/mapping/%s",n)},r)}},Yt=function(e){return function(n){var r=n||{},a=r.retrieveMappings,u=c(r,["retrieveMappings"]);return a===!0&&(u.getClusters=!0),e.transporter.read({method:P,path:"1/clusters/mapping/pending"},u)}},qe=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={transporter:e.transporter,appId:e.appId,indexName:n};return F(a,r.methods)}},Zt=function(e){return function(n){return e.transporter.read({method:P,path:"1/keys"},n)}},en=function(e){return function(n){return e.transporter.read({method:P,path:"1/clusters"},n)}},tn=function(e){return function(n){return e.transporter.read({method:P,path:"1/indexes"},n)}},nn=function(e){return function(n){return e.transporter.read({method:P,path:"1/clusters/mapping"},n)}},rn=function(e){return function(n,r,a){return y(e.transporter.write({method:E,path:C("1/indexes/%s/operation",n),data:{operation:"move",destination:r}},a),function(u,f){return qe(e)(n,{methods:{waitTask:Y}}).waitTask(u.taskID,f)})}},an=function(e){return function(n,r){return y(e.transporter.write({method:E,path:"1/indexes/*/batch",data:{requests:n}},r),function(a,u){return Promise.all(Object.keys(a.taskID).map(function(f){return qe(e)(f,{methods:{waitTask:Y}}).waitTask(a.taskID[f],u)}))})}},on=function(e){return function(n,r){return e.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:n}},r)}},it=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{params:h(u.params||{})})});return e.transporter.read({method:E,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},r)}},ut=function(e){return function(n,r){return Promise.all(n.map(function(a){var u=a.params,f=u.facetName,m=u.facetQuery,l=c(u,["facetName","facetQuery"]);return qe(e)(a.indexName,{methods:{searchForFacetValues:pt}}).searchForFacetValues(f,m,t(t({},r),l))}))}},sn=function(e){return function(n,r){var a=J(r);return a.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:I,path:"1/clusters/mapping"},a)}},un=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"addEntry",body:f}});return y(e.transporter.write({method:E,path:C("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:u}},a),function(f,m){return we(e)(f.taskID,m)})}},dn=function(e){return function(n,r){return y(e.transporter.write({method:E,path:C("1/keys/%s/restore",n)},r),function(a,u){return x(function(f){return _e(e)(n,u).catch(function(m){if(m.status!==404)throw m;return f()})})})}},cn=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"addEntry",body:f}});return y(e.transporter.write({method:E,path:C("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(f,m){return we(e)(f.taskID,m)})}},ln=function(e){return function(n,r,a){return e.transporter.read({method:E,path:C("/1/dictionaries/%s/search",n),data:{query:r},cacheable:!0},a)}},fn=function(e){return function(n,r){return e.transporter.read({method:E,path:"1/clusters/mapping/search",data:{query:n}},r)}},hn=function(e){return function(n,r){return y(e.transporter.write({method:le,path:"/1/dictionaries/*/settings",data:n},r),function(a,u){return we(e)(a.taskID,u)})}},pn=function(e){return function(n,r){var a=Object.assign({},r),u=r||{},f=u.queryParameters,m=c(u,["queryParameters"]),l=f?{queryParameters:f}:{},p=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return y(e.transporter.write({method:le,path:C("1/keys/%s",n),data:l},m),function(N,v){return x(function(j){return _e(e)(n,v).then(function(T){return function(R){return Object.keys(a).filter(function(q){return p.indexOf(q)!==-1}).every(function(q){if(Array.isArray(R[q])&&Array.isArray(a[q])){var z=R[q];return z.length===a[q].length&&z.every(function(Q,ie){return Q===a[q][ie]})}return R[q]===a[q]})}(T)?Promise.resolve():j()})})})}},we=function(e){return function(n,r){return x(function(a){return st(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},dt=function(e){return function(n,r){return y(e.transporter.write({method:E,path:C("1/indexes/%s/batch",e.indexName),data:{requests:n}},r),function(a,u){return Y(e)(a.taskID,u)})}},mn=function(e){return function(n){return Ue(t(t({shouldStop:function(r){return r.cursor===void 0}},n),{},{request:function(r){return e.transporter.read({method:E,path:C("1/indexes/%s/browse",e.indexName),data:r},n)}}))}},gn=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Ue(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return mt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(f){return delete f._highlightResult,f})})})}}))}},yn=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Ue(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return gt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(f){return delete f._highlightResult,f})})})}}))}},Je=function(e){return function(n,r,a){var u=a||{},f=u.batchSize,m=c(u,["batchSize"]),l={taskIDs:[],objectIDs:[]};return y(function p(){var N,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=[];for(N=v;N<n.length&&(j.push(n[N]),j.length!==(f||1e3));N++);return j.length===0?Promise.resolve(l):dt(e)(j.map(function(T){return{action:r,body:T}}),m).then(function(T){return l.objectIDs=l.objectIDs.concat(T.objectIDs),l.taskIDs.push(T.taskID),N++,p(N)})}(),function(p,N){return Promise.all(p.taskIDs.map(function(v){return Y(e)(v,N)}))})}},vn=function(e){return function(n){return y(e.transporter.write({method:E,path:C("1/indexes/%s/clear",e.indexName)},n),function(r,a){return Y(e)(r.taskID,a)})}},kn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=J(c(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:E,path:C("1/indexes/%s/rules/clear",e.indexName)},u),function(f,m){return Y(e)(f.taskID,m)})}},bn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=J(c(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:E,path:C("1/indexes/%s/synonyms/clear",e.indexName)},u),function(f,m){return Y(e)(f.taskID,m)})}},Nn=function(e){return function(n,r){return y(e.transporter.write({method:E,path:C("1/indexes/%s/deleteByQuery",e.indexName),data:n},r),function(a,u){return Y(e)(a.taskID,u)})}},Cn=function(e){return function(n){return y(e.transporter.write({method:I,path:C("1/indexes/%s",e.indexName)},n),function(r,a){return Y(e)(r.taskID,a)})}},wn=function(e){return function(n,r){return y(ct(e)([n],r).then(function(a){return{taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},ct=function(e){return function(n,r){var a=n.map(function(u){return{objectID:u}});return Je(e)(a,De.DeleteObject,r)}},Dn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(c(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:I,path:C("1/indexes/%s/rules/%s",e.indexName,n)},f),function(m,l){return Y(e)(m.taskID,l)})}},xn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(c(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:I,path:C("1/indexes/%s/synonyms/%s",e.indexName,n)},f),function(m,l){return Y(e)(m.taskID,l)})}},En=function(e){return function(n){return lt(e)(n).then(function(){return!0}).catch(function(r){if(r.status!==404)throw r;return!1})}},In=function(e){return function(n,r,a){return e.transporter.read({method:E,path:C("1/answers/%s/prediction",e.indexName),data:{query:n,queryLanguages:r},cacheable:!0},a)}},On=function(e){return function(n,r){var a=r||{},u=a.query,f=a.paginate,m=c(a,["query","paginate"]),l=0;return function p(){return ht(e)(u||"",t(t({},m),{},{page:l})).then(function(N){for(var v=0,j=Object.entries(N.hits);v<j.length;v++){var T=g(j[v],2),R=T[0],q=T[1];if(n(q))return{object:q,position:parseInt(R,10),page:l}}if(l++,f===!1||l>=N.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return p()})}()}},Pn=function(e){return function(n,r){return e.transporter.read({method:P,path:C("1/indexes/%s/%s",e.indexName,n)},r)}},Tn=function(){return function(e,n){for(var r=0,a=Object.entries(e.hits);r<a.length;r++){var u=g(a[r],2),f=u[0];if(u[1].objectID===n)return parseInt(f,10)}return-1}},jn=function(e){return function(n,r){var a=r||{},u=a.attributesToRetrieve,f=c(a,["attributesToRetrieve"]),m=n.map(function(l){return t({indexName:e.indexName,objectID:l},u?{attributesToRetrieve:u}:{})});return e.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:m}},f)}},Sn=function(e){return function(n,r){return e.transporter.read({method:P,path:C("1/indexes/%s/rules/%s",e.indexName,n)},r)}},lt=function(e){return function(n){return e.transporter.read({method:P,path:C("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},n)}},_n=function(e){return function(n,r){return e.transporter.read({method:P,path:C("1/indexes/%s/synonyms/%s",e.indexName,n)},r)}},qn=function(e){return function(n,r){return y(ft(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},ft=function(e){return function(n,r){var a=r||{},u=a.createIfNotExists,f=c(a,["createIfNotExists"]),m=u?De.PartialUpdateObject:De.PartialUpdateObjectNoCreate;return Je(e)(n,m,f)}},Kn=function(e){return function(n,r){var a=r||{},u=a.safe,f=a.autoGenerateObjectIDIfNotExist,m=a.batchSize,l=c(a,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),p=function(q,z,Q,ie){return y(e.transporter.write({method:E,path:C("1/indexes/%s/operation",q),data:{operation:Q,destination:z}},ie),function(Ke,ue){return Y(e)(Ke.taskID,ue)})},N=Math.random().toString(36).substring(7),v="".concat(e.indexName,"_tmp_").concat(N),j=Qe({appId:e.appId,transporter:e.transporter,indexName:v}),T=[],R=p(e.indexName,v,"copy",t(t({},l),{},{scope:["settings","synonyms","rules"]}));return T.push(R),y((u?R.wait(l):R).then(function(){var q=j(n,t(t({},l),{},{autoGenerateObjectIDIfNotExist:f,batchSize:m}));return T.push(q),u?q.wait(l):q}).then(function(){var q=p(v,e.indexName,"move",l);return T.push(q),u?q.wait(l):q}).then(function(){return Promise.all(T)}).then(function(q){var z=g(q,3),Q=z[0],ie=z[1],Ke=z[2];return{objectIDs:ie.objectIDs,taskIDs:[Q.taskID].concat(k(ie.taskIDs),[Ke.taskID])}}),function(q,z){return Promise.all(T.map(function(Q){return Q.wait(z)}))})}},An=function(e){return function(n,r){return Ve(e)(n,t(t({},r),{},{clearExistingRules:!0}))}},Rn=function(e){return function(n,r){return Ge(e)(n,t(t({},r),{},{clearExistingSynonyms:!0}))}},$n=function(e){return function(n,r){return y(Qe(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},Qe=function(e){return function(n,r){var a=r||{},u=a.autoGenerateObjectIDIfNotExist,f=c(a,["autoGenerateObjectIDIfNotExist"]),m=u?De.AddObject:De.UpdateObject;if(m===De.UpdateObject){var l=!0,p=!1,N=void 0;try{for(var v,j=n[Symbol.iterator]();!(l=(v=j.next()).done);l=!0)if(v.value.objectID===void 0)return y(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(T){p=!0,N=T}finally{try{l||j.return==null||j.return()}finally{if(p)throw N}}}return Je(e)(n,m,f)}},Bn=function(e){return function(n,r){return Ve(e)([n],r)}},Ve=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=a.clearExistingRules,m=J(c(a,["forwardToReplicas","clearExistingRules"]));return u&&(m.queryParameters.forwardToReplicas=1),f&&(m.queryParameters.clearExistingRules=1),y(e.transporter.write({method:E,path:C("1/indexes/%s/rules/batch",e.indexName),data:n},m),function(l,p){return Y(e)(l.taskID,p)})}},Ln=function(e){return function(n,r){return Ge(e)([n],r)}},Ge=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=a.clearExistingSynonyms,m=a.replaceExistingSynonyms,l=J(c(a,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return u&&(l.queryParameters.forwardToReplicas=1),(m||f)&&(l.queryParameters.replaceExistingSynonyms=1),y(e.transporter.write({method:E,path:C("1/indexes/%s/synonyms/batch",e.indexName),data:n},l),function(p,N){return Y(e)(p.taskID,N)})}},ht=function(e){return function(n,r){return e.transporter.read({method:E,path:C("1/indexes/%s/query",e.indexName),data:{query:n},cacheable:!0},r)}},pt=function(e){return function(n,r,a){return e.transporter.read({method:E,path:C("1/indexes/%s/facets/%s/query",e.indexName,n),data:{facetQuery:r},cacheable:!0},a)}},mt=function(e){return function(n,r){return e.transporter.read({method:E,path:C("1/indexes/%s/rules/search",e.indexName),data:{query:n}},r)}},gt=function(e){return function(n,r){return e.transporter.read({method:E,path:C("1/indexes/%s/synonyms/search",e.indexName),data:{query:n}},r)}},Fn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(c(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),y(e.transporter.write({method:le,path:C("1/indexes/%s/settings",e.indexName),data:n},f),function(m,l){return Y(e)(m.taskID,l)})}},Y=function(e){return function(n,r){return x(function(a){return function(u){return function(f,m){return u.transporter.read({method:P,path:C("1/indexes/%s/task/%s",u.indexName,f.toString())},m)}}(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},De={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},We={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Mn=1,zn=2,Hn=3,Fe=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{threshold:u.threshold||0})});return e.transporter.read({method:E,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Un=function(e){return function(n,r){return Fe(e)(n.map(function(a){return t(t({},a),{},{fallbackParameters:{},model:"bought-together"})}),r)}},Jn=function(e){return function(n,r){return Fe(e)(n.map(function(a){return t(t({},a),{},{model:"related-products"})}),r)}},Qn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-facets",threshold:u.threshold||0})});return e.transporter.read({method:E,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Vn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-items",threshold:u.threshold||0})});return e.transporter.read({method:E,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Gn=function(e){return function(n,r){return Fe(e)(n.map(function(a){return t(t({},a),{},{model:"looking-similar"})}),r)}},Wn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"recommended-for-you",threshold:u.threshold||0})});return e.transporter.read({method:E,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}};function yt(e,n,r){var a,u={appId:e,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(l){return new Promise(function(p){var N=new XMLHttpRequest;N.open(l.method,l.url,!0),Object.keys(l.headers).forEach(function(R){return N.setRequestHeader(R,l.headers[R])});var v,j=function(R,q){return setTimeout(function(){N.abort(),p({status:0,content:q,isTimedOut:!0})},1e3*R)},T=j(l.connectTimeout,"Connection timeout");N.onreadystatechange=function(){N.readyState>N.OPENED&&v===void 0&&(clearTimeout(T),v=j(l.responseTimeout,"Socket timeout"))},N.onerror=function(){N.status===0&&(clearTimeout(T),clearTimeout(v),p({content:N.responseText||"Network request failed",status:N.status,isTimedOut:!1}))},N.onload=function(){clearTimeout(T),clearTimeout(v),p({content:N.responseText,status:N.status,isTimedOut:!1})},N.send(l.data)})}},logger:(a=Hn,{debug:function(l,p){return Mn>=a&&console.debug(l,p),Promise.resolve()},info:function(l,p){return zn>=a&&console.info(l,p),Promise.resolve()},error:function(l,p){return console.error(l,p),Promise.resolve()}}),responsesCache:b(),requestsCache:b({serializable:!1}),hostsCache:w({caches:[_({key:"".concat("4.24.0","-").concat(e)}),b()]}),userAgent:je("4.24.0").add({segment:"Browser"})},f=t(t({},u),r),m=function(){return function(l){return function(p){var N=p.region||"us",v=D(X.WithinHeaders,p.appId,p.apiKey),j=fe(t(t({hosts:[{url:"personalization.".concat(N,".algolia.com")}]},p),{},{headers:t(t(t({},v.headers()),{"content-type":"application/json"}),p.headers),queryParameters:t(t({},v.queryParameters()),p.queryParameters)}));return F({appId:p.appId,transporter:j},p.methods)}(t(t(t({},u),l),{},{methods:{getPersonalizationStrategy:At,setPersonalizationStrategy:Rt}}))}};return function(l){var p=l.appId,N=D(l.authMode!==void 0?l.authMode:X.WithinHeaders,p,l.apiKey),v=fe(t(t({hosts:[{url:"".concat(p,"-dsn.algolia.net"),accept:te.Read},{url:"".concat(p,".algolia.net"),accept:te.Write}].concat($([{url:"".concat(p,"-1.algolianet.com")},{url:"".concat(p,"-2.algolianet.com")},{url:"".concat(p,"-3.algolianet.com")}]))},l),{},{headers:t(t(t({},N.headers()),{"content-type":"application/x-www-form-urlencoded"}),l.headers),queryParameters:t(t({},N.queryParameters()),l.queryParameters)}));return F({transporter:v,appId:p,addAlgoliaAgent:function(j,T){v.userAgent.add({segment:j,version:T})},clearCache:function(){return Promise.all([v.requestsCache.clear(),v.responsesCache.clear()]).then(function(){})}},l.methods)}(t(t({},f),{},{methods:{search:it,searchForFacetValues:ut,multipleBatch:an,multipleGetObjects:on,multipleQueries:it,copyIndex:Le,copySettings:zt,copySynonyms:Ht,copyRules:Mt,moveIndex:rn,listIndices:tn,getLogs:Gt,listClusters:en,multipleSearchForFacetValues:ut,getApiKey:_e,addApiKey:$t,listApiKeys:Zt,updateApiKey:pn,deleteApiKey:Jt,restoreApiKey:dn,assignUserID:Bt,assignUserIDs:Lt,getUserID:Xt,searchUserIDs:fn,listUserIDs:nn,getTopUserIDs:Wt,removeUserID:sn,hasPendingMappings:Yt,clearDictionaryEntries:Ft,deleteDictionaryEntries:Qt,getDictionarySettings:Vt,getAppTask:st,replaceDictionaryEntries:un,saveDictionaryEntries:cn,searchDictionaryEntries:ln,setDictionarySettings:hn,waitAppTask:we,customRequest:Ut,initIndex:function(l){return function(p){return qe(l)(p,{methods:{batch:dt,delete:Cn,findAnswers:In,getObject:Pn,getObjects:jn,saveObject:$n,saveObjects:Qe,search:ht,searchForFacetValues:pt,waitTask:Y,setSettings:Fn,getSettings:lt,partialUpdateObject:qn,partialUpdateObjects:ft,deleteObject:wn,deleteObjects:ct,deleteBy:Nn,clearObjects:vn,browseObjects:mn,getObjectPosition:Tn,findObject:On,exists:En,saveSynonym:Ln,saveSynonyms:Ge,getSynonym:_n,searchSynonyms:gt,browseSynonyms:yn,deleteSynonym:xn,clearSynonyms:bn,replaceAllObjects:Kn,replaceAllSynonyms:Rn,searchRules:mt,getRule:Sn,deleteRule:Dn,saveRule:Bn,saveRules:Ve,replaceAllRules:An,browseRules:gn,clearRules:kn}})}},initAnalytics:function(){return function(l){return function(p){var N=p.region||"us",v=D(X.WithinHeaders,p.appId,p.apiKey),j=fe(t(t({hosts:[{url:"analytics.".concat(N,".algolia.com")}]},p),{},{headers:t(t(t({},v.headers()),{"content-type":"application/json"}),p.headers),queryParameters:t(t({},v.queryParameters()),p.queryParameters)}));return F({appId:p.appId,transporter:j},p.methods)}(t(t(t({},u),l),{},{methods:{addABTest:ge,getABTest:_t,getABTests:qt,stopABTest:Kt,deleteABTest:St}}))}},initPersonalization:m,initRecommendation:function(){return function(l){return f.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),m()(l)}},getRecommendations:Fe,getFrequentlyBoughtTogether:Un,getLookingSimilar:Gn,getRecommendedForYou:Wn,getRelatedProducts:Jn,getTrendingFacets:Qn,getTrendingItems:Vn}}))}return yt.version="4.24.0",yt})})(Tt);var ta=Tt.exports;const na=vr(ta),ra=na("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),jt=ra.initIndex("npm-search"),aa=async(s,o=0,i=10)=>{try{const d=ua(s);if(!d)return{response:null,query:s};const t={page:o,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:d.facetFilters?d.facetFilters:void 0},c=await jt.search(d.query,t);return c.hits.sort((g,k)=>g.name===d.query?-1:k.name===d.query?1:0),{response:c,query:s}}catch{return{response:null,query:s}}};async function oa(s){return jt.getObject(s)}const sa=/\s*[a-z]+\s*:\s*(?:.(?![a-z]*\s*:))*/gi,ia=/^((?:[^\s:]+(?!\s*:)\s*)*)/,Dt={author:"owner.name",type:"moduleTypes"};function ua(s){var c;const o=(c=s.match(ia))==null?void 0:c[0].trim();if(o==null)return;const i=s,d=[];let t;for(;(t=sa.exec(i))!==null;){const g=t[0].split(":");Dt[g[0].trim()]&&d.push(`${Dt[g[0].trim()]}:${g[1].trim()}`)}return{query:o,facetFilters:d.join(",")}}const se=s=>(wr("data-v-46ac45f3"),s=s(),Dr(),s),da={key:0},ca={class:"result-list"},la={class:"pkgName"},fa={class:"meta"},ha=["onClick"],pa=["src","alt"],ma=se(()=>L("span",{class:"i-icon-park-outline-tag-one"},null,-1)),ga=["title"],ya=se(()=>L("span",{class:"i-icon-park-outline-balance-two"},null,-1)),va={key:0,class:"description"},ka={key:1,flex:"","gap-2":""},ba=se(()=>L("span",{class:"i-icon-park-outline-return"},null,-1)),Na={key:0},Ca=se(()=>L("b",null,"名称: ",-1)),wa={key:1},Da=se(()=>L("b",null,"主页: ",-1)),xa={key:2},Ea=se(()=>L("b",null,"简介: ",-1)),Ia={key:3},Oa=se(()=>L("b",null,"仓库: ",-1)),Pa={key:4},Ta=se(()=>L("b",null,"协议: ",-1)),ja={key:5},Sa=se(()=>L("b",null,"作者: ",-1)),_a={key:7},qa=se(()=>L("b",null,"版本: ",-1)),Ka={key:8},Aa=se(()=>L("b",null,"默认文件: ",-1)),Ra={key:9},$a=se(()=>L("b",null,"文件列表",-1)),Ba=se(()=>L("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)),La=[$a,Ba],Fa={key:0,flex:"","items-center":""},Ma=se(()=>L("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),za={key:1,flex:"","items-center":""},Ha=se(()=>L("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),Ua=10,Ja=Oe({__name:"cdnQuery",setup(s){let o=null;const i=V(!1),d=V(""),t=V(""),c=V(0),g=V([]),k=V(0),_=V(""),w=V(),b=V(""),D=V([]),x=V(),y=V([]),$=It(()=>y.value&&y.value.length?te(y.value):[]);async function F(G=0){if(!d.value){i.value=!1,w.value=null,b.value="",D.value=[],g.value=[],c.value=0,k.value=0,t.value="";return}o&&clearTimeout(o),o=window.setTimeout(async()=>{i.value=!0;const{response:K,query:B}=await aa(d.value,G,Ua);if(B===d.value){if(K){const{hits:re,page:ne,nbHits:I}=K;g.value=re,k.value=I,c.value=ne,t.value="done"}else Nr.warning("搜索失败");i.value=!1}},200)}function C(G){d.value=`author:${G}`,F(0)}async function X(G){_.value=G,w.value=null,b.value="",D.value=[],x.value=null,y.value=[];try{w.value=await oa(G),b.value=w.value.version??"",await J()}catch(K){console.error(K.message)}}async function J(){var G,K;try{D.value=[],x.value=null,y.value=[],D.value=(await Ct.get(`https://data.jsdelivr.com/v1/package/npm/${((G=w.value)==null?void 0:G.name)??""}`)).data.versions.map(ne=>({label:ne,value:ne}));const{default:B,files:re}=(await Ct.get(`https://data.jsdelivr.com/v1/package/npm/${((K=w.value)==null?void 0:K.name)??""}@${b.value}`)).data;x.value=B,y.value=re}catch(B){console.error(B.message)}}function te(G,K){return G.map(B=>{const re=K?`${K}/${B.name}`:`/${B.name}`;return{label:B.name,icon:B.type==="directory"?"Folder":"",isLeaf:B.type!=="directory",fileName:re,children:B.type==="directory"&&B.files?te(B.files,re):void 0}})}return(G,K)=>{const B=Sr,re=_r,ne=qr,I=Cr,P=jr,E=Rr,le=Tr,Te=Or,Ce=Pr,fe=Kr,je=Ar,Se=ea;return S(),M(he,null,[W(re,null,{default:H(()=>[L("blockquote",null,[L("ul",null,[L("li",null,[Z(" 数据来自: "),W(B,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:H(()=>[Z(" JSDelivr ")]),_:1})]),L("li",null,[Z(" 搜索接口来自: "),W(B,{href:"https://www.algolia.com/",target:"_blank"},{default:H(()=>[Z(" Algolia ")]),_:1})])])])]),_:1}),W(ne,{level:3},{default:H(()=>[Z(" 请输入要获取CDN的库名 ")]),_:1}),W(I,{modelValue:O(d),"onUpdate:modelValue":K[0]||(K[0]=h=>Nt(d)?d.value=h:null),placeholder:"jquery",clearable:"",onChange:K[1]||(K[1]=h=>F(0))},null,8,["modelValue"]),(S(),oe(br,null,[O(t)==="done"?(S(),M(he,{key:0},[W(P),O(_)?(S(),M(he,{key:1},[W(B,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:K[3]||(K[3]=h=>_.value=null)},{default:H(()=>[ba,Z(" 返回 ")]),_:1}),O(w)?(S(),oe(je,{key:0,class:"metaDetail"},{default:H(()=>[L("ul",null,[O(w).name?(S(),M("li",Na,[Ca,Z(ee(O(w).name),1)])):U("",!0),O(w).homepage?(S(),M("li",wa,[Da,W(B,{href:O(w).homepage,target:"_blank"},{default:H(()=>[Z(ee(O(w).homepage),1)]),_:1},8,["href"])])):U("",!0),O(w).description?(S(),M("li",xa,[Ea,Z(ee(O(w).description),1)])):U("",!0),O(w).repository?(S(),M("li",Ia,[Oa,Z(ee(O(w).repository.type)+" / ",1),W(B,{href:O(w).repository.url,target:"_blank"},{default:H(()=>[Z(ee(O(w).repository.url),1)]),_:1},8,["href"])])):U("",!0),O(w).license?(S(),M("li",Pa,[Ta,Z(ee(O(w).license),1)])):U("",!0),O(w).owner?(S(),M("li",ja,[Sa,Z(ee(O(w).owner.name)+" / ",1),W(B,{href:O(w).owner.link,target:"_blank"},{default:H(()=>[Z(ee(O(w).owner.link),1)]),_:1},8,["href"])])):U("",!0),O(D).length?(S(),oe(P,{key:6})):U("",!0),O(D).length?(S(),M("li",_a,[qa,W(Ce,{modelValue:O(b),"onUpdate:modelValue":K[4]||(K[4]=h=>Nt(b)?b.value=h:null),options:O(D),onChange:J},{default:H(()=>[(S(!0),M(he,null,$e(O(D),h=>(S(),oe(Te,{key:h.value,value:h.value,label:h.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):U("",!0),O(x)?(S(),M("li",Ka,[Aa,W(fe,{copyable:{text:`https://cdn.jsdelivr.net/npm/${O(w).name}@${O(b)}${O(x)}`}},{default:H(()=>[W(B,{href:`https://cdn.jsdelivr.net/npm/${O(w).name}@${O(b)}${O(x)}`,target:"_blank"},{default:H(()=>[Z(ee(O(x)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):U("",!0),O(y)&&O(y).length?(S(),M("li",Ra,La)):U("",!0)])]),_:1})):U("",!0),O(w)&&O(y)&&O(y).length?(S(),oe(Se,{key:1,data:O($),selectable:!1},{default:H(({data:h})=>[h.isLeaf?(S(),M("div",Fa,[Ma,W(fe,{copyable:{text:`https://cdn.jsdelivr.net/npm/${O(w).name}@${O(b)}${h.fileName}`}},{default:H(()=>[Z(ee(h.label),1)]),_:2},1032,["copyable"])])):(S(),M("div",za,[Ha,W(fe,null,{default:H(()=>[Z(ee(h.label),1)]),_:2},1024)]))]),_:1},8,["data"])):U("",!0)],64)):(S(),M(he,{key:0},[W(ne,{level:4},{default:H(()=>[L("span",null,"共找到 "+ee(O(k))+" 个库",1),O(k)>1e3?(S(),M("span",da,"，最多展示前 1000 个结果")):U("",!0)]),_:1}),L("div",ca,[(S(!0),M(he,null,$e(O(g),h=>(S(),M("div",{key:h.objectID,class:"result-list-item"},[L("div",la,[W(ne,{level:4,onClick:A=>X(h.objectID)},{default:H(()=>[Z(ee(h.name),1)]),_:2},1032,["onClick"])]),L("div",fa,[h.owner?(S(),M("div",{key:0,class:"owner",onClick:A=>C(h.owner.name)},[L("img",{src:h.owner.avatar,alt:h.owner.name},null,8,pa),L("div",null,ee(h.owner.name),1)],8,ha)):U("",!0),h.version?(S(),oe(E,{key:1,effect:"plain"},{default:H(()=>[ma,L("span",{title:h.version},ee(h.version),9,ga)]),_:2},1024)):U("",!0),h.license?(S(),oe(E,{key:2,effect:"plain"},{default:H(()=>[ya,Z(ee(h.license),1)]),_:2},1024)):U("",!0)]),h.description?(S(),M("div",va,ee(h.description),1)):U("",!0),h.keywords&&h.keywords.length?(S(),M("div",ka,[(S(!0),M(he,null,$e(h.keywords,(A,de)=>(S(),oe(E,{key:de,effect:"plain"},{default:H(()=>[Z(ee(A),1)]),_:2},1024))),128))])):U("",!0)]))),128))]),W(le,{layout:"prev,jumper,next",total:O(k)>1e3?1e3:O(k),"hide-on-single-page":!0,onCurrentChange:K[2]||(K[2]=h=>F(h-1))},null,8,["total"])],64))],64)):U("",!0)],1024))],64)}}}),uo=xr(Ja,[["__scopeId","data-v-46ac45f3"]]);export{uo as default};
