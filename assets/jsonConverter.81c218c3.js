import{_ as N,K as x,H as P,o as K,m as X,a as h,w as v,q as s,aC as A,y as M,av as H,a1 as G,B as Q,b as q,bz as ee,bA as te}from"./index.6b075e9a.js";import{_ as ae}from"./index.930a66b8.js";import{a as S,V as L}from"./ext-beautify.9239b4b8.js";import{w as ne}from"./worker-javascript.a591d127.js";var oe={exports:{}};(function(C,z){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,p,E){var g=e("../lib/oop"),k=e("./text_highlight_rules").TextHighlightRules,u=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};g.inherits(u,k),p.JsonHighlightRules=u}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,p,E){var g=e("../range").Range,k=function(){};(function(){this.checkOutdent=function(u,m){return/^\s+$/.test(u)?/^\s*\}/.test(m):!1},this.autoOutdent=function(u,m){var t=u.getLine(m),n=t.match(/^(\s*\})/);if(!n)return 0;var o=n[1].length,l=u.findMatchingBracket({row:m,column:o});if(!l||l.row==m)return 0;var i=this.$getIndent(u.getLine(l.row));u.replace(new g(m,0,m,o-1),i)},this.$getIndent=function(u){return u.match(/^\s*/)[0]}}).call(k.prototype),p.MatchingBraceOutdent=k}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,p,E){var g=e("../../lib/oop"),k=e("../../range").Range,u=e("./fold_mode").FoldMode,m=p.FoldMode=function(t){t&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+t.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+t.end)))};g.inherits(m,u),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(t,n,o){var l=t.getLine(o);if(this.singleLineBlockCommentRe.test(l)&&!this.startRegionRe.test(l)&&!this.tripleStarBlockCommentRe.test(l))return"";var i=this._getFoldWidgetBase(t,n,o);return!i&&this.startRegionRe.test(l)?"start":i},this.getFoldWidgetRange=function(t,n,o,l){var i=t.getLine(o);if(this.startRegionRe.test(i))return this.getCommentRegionBlock(t,i,o);var c=i.match(this.foldingStartMarker);if(c){var r=c.index;if(c[1])return this.openingBracketBlock(t,c[1],o,r);var d=t.getCommentFoldRange(o,r+c[0].length,1);return d&&!d.isMultiLine()&&(l?d=this.getSectionRange(t,o):n!="all"&&(d=null)),d}if(n!=="markbegin"){var c=i.match(this.foldingStopMarker);if(c){var r=c.index+c[0].length;return c[1]?this.closingBracketBlock(t,c[1],o,r):t.getCommentFoldRange(o,r,-1)}}},this.getSectionRange=function(t,n){var o=t.getLine(n),l=o.search(/\S/),i=n,r=o.length;n=n+1;for(var d=n,c=t.getLength();++n<c;){o=t.getLine(n);var b=o.search(/\S/);if(b!==-1){if(l>b)break;var _=this.getFoldWidgetRange(t,"all",n);if(_){if(_.start.row<=i)break;if(_.isMultiLine())n=_.end.row;else if(l==b)break}d=n}}return new k(i,r,d,t.getLine(d).length)},this.getCommentRegionBlock=function(t,n,o){for(var l=n.search(/\s*$/),i=t.getLength(),r=o,d=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,c=1;++o<i;){n=t.getLine(o);var b=d.exec(n);if(!!b&&(b[1]?c--:c++,!c))break}var _=o;if(_>r)return new k(r,l,_,n.length)}}.call(m.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,p,E){var g=e("../lib/oop"),k=e("./text").Mode,u=e("./json_highlight_rules").JsonHighlightRules,m=e("./matching_brace_outdent").MatchingBraceOutdent,t=e("./behaviour/cstyle").CstyleBehaviour,n=e("./folding/cstyle").FoldMode,o=e("../worker/worker_client").WorkerClient,l=function(){this.HighlightRules=u,this.$outdent=new m,this.$behaviour=new t,this.foldingRules=new n};g.inherits(l,k),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(i,r,d){var c=this.$getIndent(r);if(i=="start"){var b=r.match(/^.*[\{\(\[]\s*$/);b&&(c+=d)}return c},this.checkOutdent=function(i,r,d){return this.$outdent.checkOutdent(r,d)},this.autoOutdent=function(i,r,d){this.$outdent.autoOutdent(r,d)},this.createWorker=function(i){var r=new o(["ace"],"ace/mode/json_worker","JsonWorker");return r.attachToDocument(i.getDocument()),r.on("annotate",function(d){i.setAnnotations(d.data)}),r.on("terminate",function(){i.clearAnnotations()}),r},this.$id="ace/mode/json"}.call(l.prototype),p.Mode=l}),function(){ace.require(["ace/mode/json"],function(e){C&&(C.exports=e)})}()})(oe);var ie={exports:{}};(function(C,z){(function(){ace.require(["ace/snippets/json"],function(e){C&&(C.exports=e)})})()})(ie);var re="/assets/worker-json.cb5449bc.js";const w=C=>(ee("data-v-40cee1aa"),C=C(),te(),C),se={flex:"","h-full":"","flex-col":""},le=q(" \u5728\u53F3\u4FA7\u8F93\u5165JavaScript\u65B9\u6CD5(main\u65B9\u6CD5\u662F\u5FC5\u987B\u7684)\uFF0C\u7528\u4E8E\u8F6C\u6362\u5DE6\u4FA7\u7684JSON\u6570\u636E\u3002 "),ce={flex:"","flex-wrap":"","justify-between":"","overflow-auto":"","flex-1":""},de={class:"codePanel"},ue={class:"header"},he=w(()=>s("span",{class:"i-icon-park-outline-indent-right"},null,-1)),ge=w(()=>s("span",{class:"i-icon-park-outline-compression"},null,-1)),me=w(()=>s("span",{class:"i-icon-park-outline-collapse-text-input"},null,-1)),pe=w(()=>s("span",{class:"i-icon-park-outline-expand-text-input"},null,-1)),ke=w(()=>s("span",{class:"i-icon-park-outline-undo"},null,-1)),ve=w(()=>s("span",{class:"i-icon-park-outline-redo"},null,-1)),fe=w(()=>s("span",{class:"i-icon-park-outline-to-top"},null,-1)),we=w(()=>s("span",{class:"i-icon-park-outline-to-bottom"},null,-1)),Ce={class:"ace-container"},be={class:"footer"},xe={class:"codePanel"},_e={class:"header"},Ee=w(()=>s("span",{class:"i-icon-park-outline-indent-right"},null,-1)),Me=w(()=>s("span",{class:"i-icon-park-outline-undo"},null,-1)),ye=w(()=>s("span",{class:"i-icon-park-outline-redo"},null,-1)),Re=w(()=>s("span",{class:"i-icon-park-solid-right-one"},null,-1)),ze={class:"ace-container"},je={class:"footer"},Se={__name:"jsonConverter",setup(C){S.config.setModuleUrl("ace/mode/json_worker",re),S.config.setModuleUrl("ace/mode/javascript_worker",ne);const z=S.require("ace/ext/beautify");let e=null,p=null;const E=x(`function main(json) {
  return json
}`),g=x(`{
  "a": 1,
  "b": 2
}`),k=x({row:0,column:0}),u=x({row:0,column:0}),m=x(0),t=x(0),n=x(!1),o=x(!1),l=x(!1),i=x(!1),r=P("$msg");function d(a){e=a,a.getSession().setTabSize(2),a.getSession().setUseSoftTabs(!0),a.setShowPrintMargin(!1),a.selection.on("changeCursor",()=>{k.value=a.selection.getCursor()}),k.value=a.selection.getCursor(),m.value=a.session.getLength()}function c(a){p=a,a.getSession().setTabSize(2),a.getSession().setUseSoftTabs(!0),a.setShowPrintMargin(!1),a.selection.on("changeCursor",()=>{u.value=a.selection.getCursor()}),u.value=a.selection.getCursor(),t.value=a.session.getLength()}function b(){e.session.foldAll()}function _(){e.session.unfold()}function I(){e.gotoLine(0)}function B(){try{g.value=JSON.stringify(JSON.parse(g.value),null,2)}catch{}}function J(){try{g.value=JSON.stringify(JSON.parse(g.value))}catch{}}function $(){z.beautify(p.session)}function D(){e.gotoLine(e.session.getLength())}async function F(){m.value=e.session.getLength(),await H();const a=e.session.getUndoManager();n.value=a.hasUndo(),o.value=a.hasRedo()}async function U(){t.value=p.session.getLength(),await H();const a=p.session.getUndoManager();l.value=a.hasUndo(),i.value=a.hasRedo()}function V(){e.getSession().getUndoManager().undo()}function O(){e.getSession().getUndoManager().redo()}function Y(){p.getSession().getUndoManager().undo()}function Z(){p.getSession().getUndoManager().redo()}function T(){try{const a=new Function("json",E.value+`
return main(json)`);g.value=JSON.stringify(a(JSON.parse(g.value))),B(),r.success("\u8F6C\u6362\u6210\u529F")}catch(a){r.warn(a.message)}}return(a,R)=>{const W=G,f=Q,y=ae;return K(),X("div",se,[h(W,null,{default:v(()=>[le]),_:1}),s("div",ce,[s("div",de,[s("div",ue,[h(f,{type:"primary",title:"\u683C\u5F0F\u5316",onClick:B},{icon:v(()=>[he]),_:1}),h(f,{type:"primary",title:"\u538B\u7F29",onClick:J},{icon:v(()=>[ge]),_:1}),h(y,{type:"vertical"}),h(f,{type:"primary",title:"\u6298\u53E0\u6240\u6709",onClick:b},{icon:v(()=>[me]),_:1}),h(f,{type:"primary",title:"\u5C55\u5F00\u6240\u6709",onClick:_},{icon:v(()=>[pe]),_:1}),h(y,{type:"vertical"}),h(f,{type:"primary",title:"\u64A4\u9500",disabled:!n.value,onClick:V},{icon:v(()=>[ke]),_:1},8,["disabled"]),h(f,{type:"primary",title:"\u91CD\u505A",disabled:!o.value,onClick:O},{icon:v(()=>[ve]),_:1},8,["disabled"]),h(y,{type:"vertical"}),h(f,{type:"primary",title:"\u524D\u5F80\u9876\u90E8",onClick:I},{icon:v(()=>[fe]),_:1}),h(f,{type:"primary",title:"\u524D\u5F80\u5E95\u90E8",onClick:D},{icon:v(()=>[we]),_:1})]),s("div",Ce,[h(A(L),{value:g.value,"onUpdate:value":R[0]||(R[0]=j=>g.value=j),lang:"json",theme:"textmate",style:{height:"100%"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0},onInit:d,onChange:F},null,8,["value"])]),s("div",be,[s("span",null,"\u603B\u884C\u6570:\xA0"+M(m.value)+"\xA0\xA0\u884C\u6570:\xA0"+M(k.value.row+1)+"\xA0\xA0\u5217\u6570:\xA0"+M(k.value.column+1),1)])]),s("div",xe,[s("div",_e,[h(f,{type:"primary",title:"\u683C\u5F0F\u5316",onClick:$},{icon:v(()=>[Ee]),_:1}),h(y,{type:"vertical"}),h(f,{type:"primary",title:"\u64A4\u9500",disabled:!l.value,onClick:Y},{icon:v(()=>[Me]),_:1},8,["disabled"]),h(f,{type:"primary",title:"\u91CD\u505A",disabled:!i.value,onClick:Z},{icon:v(()=>[ye]),_:1},8,["disabled"]),h(y,{type:"vertical"}),h(f,{type:"primary",title:"\u8FD0\u884C",onClick:T},{icon:v(()=>[Re]),_:1})]),s("div",ze,[h(A(L),{value:E.value,"onUpdate:value":R[1]||(R[1]=j=>E.value=j),lang:"javascript",theme:"textmate",style:{height:"100%"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0},onInit:c,onChange:U},null,8,["value"])]),s("div",je,[s("span",null,"\u603B\u884C\u6570:\xA0"+M(t.value)+"\xA0\xA0\u884C\u6570:\xA0"+M(u.value.row+1)+"\xA0\xA0\u5217\u6570:\xA0"+M(u.value.column+1),1)])])])])}}};var Ie=N(Se,[["__scopeId","data-v-40cee1aa"]]);export{Ie as default};
