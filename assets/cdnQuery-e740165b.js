import{g as Ae,ad as Ge,h as se,aW as xe,k as ue,o as I,l as L,t as ee,c as ne,w as X,q as Ct,n as v,ac as Nt,v as Ce,a3 as Be,ak as Xt,al as Yt,b6 as Zt,j as ve,y as J,D as ge,a as G,H as me,I as Oe,p as re,m as V,B as en,ag as tn,s as Y,cS as xr,d3 as $t,cT as _r,aw as Sr,ae as rt,a8 as Fe,aU as Dr,aa as be,aJ as Te,aE as Tr,a6 as Ir,x as Or,cq as pt,a7 as jr,am as Ar,$ as dt,Z as qr,bR as Kr,ao as gt,d4 as zr,aq as Ie,T as mt,U as vt,av as Se,ax as $r,bG as Rr,ab as Mr,az as Rt,R as nn,aD as Lr,aS as Br,V as De,bL as Fr,r as Ur,a9 as Hr,C as Wr,as as Jr,b as oe,z as Mt,d5 as Vr,A as Qr,b1 as Lt,J as Gr,K as Xr,_ as Yr}from"./index-987af965.js";import{E as Zr}from"./el-checkbox-5f66fa46.js";import{u as wt,h as Bt,j as Ft,c as rn,a as Me,k as ea,l as ta,P as Ut,C as na,T as ra}from"./index-ff3ebede.js";import"./el-tag-87c06a5a.js";import{E as an,a as on}from"./el-select-00c29c29.js";import"./el-scrollbar-912fff13.js";import"./el-popper-619c65bd.js";import{E as aa}from"./el-divider-e45dd89e.js";import{i as oa}from"./isEqual-58f37f02.js";import"./index-11edbd32.js";import{_ as sa}from"./index-b7d05f23.js";import{_ as ia}from"./Link-bbe5a802.js";import{_ as ua}from"./Paragraph-a175297c.js";import{_ as la}from"./Title-4a6a1aca.js";import{_ as ca}from"./Text-2dd3703e.js";import"./ResizeObserver.es-0f9f8adb.js";import"./strings-0e257eac.js";const sn=Symbol("elPaginationKey"),da=Ae({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ge}}),fa={click:t=>t instanceof MouseEvent},ha=["disabled","aria-label","aria-disabled"],pa={key:0},ga=se({name:"ElPaginationPrev"}),ma=se({...ga,props:da,emits:fa,setup(t){const n=t,{t:s}=xe(),u=ue(()=>n.disabled||n.currentPage<=1);return(r,c)=>(I(),L("button",{type:"button",class:"btn-prev",disabled:v(u),"aria-label":r.prevText||v(s)("el.pagination.prev"),"aria-disabled":v(u),onClick:c[0]||(c[0]=m=>r.$emit("click",m))},[r.prevText?(I(),L("span",pa,ee(r.prevText),1)):(I(),ne(v(Nt),{key:1},{default:X(()=>[(I(),ne(Ct(r.prevIcon)))]),_:1}))],8,ha))}});var va=Ce(ma,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const ya=Ae({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ge}}),ba=["disabled","aria-label","aria-disabled"],ka={key:0},Ca=se({name:"ElPaginationNext"}),Na=se({...Ca,props:ya,emits:["click"],setup(t){const n=t,{t:s}=xe(),u=ue(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(r,c)=>(I(),L("button",{type:"button",class:"btn-next",disabled:v(u),"aria-label":r.nextText||v(s)("el.pagination.next"),"aria-disabled":v(u),onClick:c[0]||(c[0]=m=>r.$emit("click",m))},[r.nextText?(I(),L("span",ka,ee(r.nextText),1)):(I(),ne(v(Nt),{key:1},{default:X(()=>[(I(),ne(Ct(r.nextIcon)))]),_:1}))],8,ba))}});var wa=Ce(Na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Et=()=>Be(sn,{}),Ea=Ae({pageSize:{type:Number,required:!0},pageSizes:{type:Xt(Array),default:()=>Yt([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:Zt}}),Pa=se({name:"ElPaginationSizes"}),xa=se({...Pa,props:Ea,emits:["page-size-change"],setup(t,{emit:n}){const s=t,{t:u}=xe(),r=ve("pagination"),c=Et(),m=J(s.pageSize);ge(()=>s.pageSizes,(g,x)=>{if(!oa(g,x)&&Array.isArray(g)){const b=g.includes(s.pageSize)?s.pageSize:s.pageSizes[0];n("page-size-change",b)}}),ge(()=>s.pageSize,g=>{m.value=g});const p=ue(()=>s.pageSizes);function K(g){var x;g!==m.value&&(m.value=g,(x=c.handleSizeChange)==null||x.call(c,Number(g)))}return(g,x)=>(I(),L("span",{class:re(v(r).e("sizes"))},[G(v(on),{"model-value":m.value,disabled:g.disabled,"popper-class":g.popperClass,size:g.size,"validate-event":!1,onChange:K},{default:X(()=>[(I(!0),L(me,null,Oe(v(p),b=>(I(),ne(v(an),{key:b,value:b,label:b+v(u)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var _a=Ce(xa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const Sa=Ae({size:{type:String,values:Zt}}),Da=["disabled"],Ta=se({name:"ElPaginationJumper"}),Ia=se({...Ta,props:Sa,setup(t){const{t:n}=xe(),s=ve("pagination"),{pageCount:u,disabled:r,currentPage:c,changeEvent:m}=Et(),p=J(),K=ue(()=>{var b;return(b=p.value)!=null?b:c?.value});function g(b){p.value=b?+b:""}function x(b){b=Math.trunc(+b),m?.(b),p.value=void 0}return(b,k)=>(I(),L("span",{class:re(v(s).e("jump")),disabled:v(r)},[V("span",{class:re([v(s).e("goto")])},ee(v(n)("el.pagination.goto")),3),G(v(en),{size:b.size,class:re([v(s).e("editor"),v(s).is("in-pagination")]),min:1,max:v(u),disabled:v(r),"model-value":v(K),"validate-event":!1,label:v(n)("el.pagination.page"),type:"number","onUpdate:modelValue":g,onChange:x},null,8,["size","class","max","disabled","model-value","label"]),V("span",{class:re([v(s).e("classifier")])},ee(v(n)("el.pagination.pageClassifier")),3)],10,Da))}});var Oa=Ce(Ia,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const ja=Ae({total:{type:Number,default:1e3}}),Aa=["disabled"],qa=se({name:"ElPaginationTotal"}),Ka=se({...qa,props:ja,setup(t){const{t:n}=xe(),s=ve("pagination"),{disabled:u}=Et();return(r,c)=>(I(),L("span",{class:re(v(s).e("total")),disabled:v(u)},ee(v(n)("el.pagination.total",{total:r.total})),11,Aa))}});var za=Ce(Ka,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const $a=Ae({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Ra=["onKeyup"],Ma=["aria-current","aria-label","tabindex"],La=["tabindex","aria-label"],Ba=["aria-current","aria-label","tabindex"],Fa=["tabindex","aria-label"],Ua=["aria-current","aria-label","tabindex"],Ha=se({name:"ElPaginationPager"}),Wa=se({...Ha,props:$a,emits:["change"],setup(t,{emit:n}){const s=t,u=ve("pager"),r=ve("icon"),{t:c}=xe(),m=J(!1),p=J(!1),K=J(!1),g=J(!1),x=J(!1),b=J(!1),k=ue(()=>{const N=s.pagerCount,C=(N-1)/2,f=Number(s.currentPage),R=Number(s.pageCount);let U=!1,D=!1;R>N&&(f>N-C&&(U=!0),f<R-C&&(D=!0));const j=[];if(U&&!D){const E=R-(N-2);for(let ie=E;ie<R;ie++)j.push(ie)}else if(!U&&D)for(let E=2;E<N;E++)j.push(E);else if(U&&D){const E=Math.floor(N/2)-1;for(let ie=f-E;ie<=f+E;ie++)j.push(ie)}else for(let E=2;E<R;E++)j.push(E);return j}),d=ue(()=>["more","btn-quickprev",r.b(),u.is("disabled",s.disabled)]),z=ue(()=>["more","btn-quicknext",r.b(),u.is("disabled",s.disabled)]),B=ue(()=>s.disabled?-1:0);tn(()=>{const N=(s.pagerCount-1)/2;m.value=!1,p.value=!1,s.pageCount>s.pagerCount&&(s.currentPage>s.pagerCount-N&&(m.value=!0),s.currentPage<s.pageCount-N&&(p.value=!0))});function S(N=!1){s.disabled||(N?K.value=!0:g.value=!0)}function Q(N=!1){N?x.value=!0:b.value=!0}function H(N){const C=N.target;if(C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("number")){const f=Number(C.textContent);f!==s.currentPage&&n("change",f)}else C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("more")&&q(N)}function q(N){const C=N.target;if(C.tagName.toLowerCase()==="ul"||s.disabled)return;let f=Number(C.textContent);const R=s.pageCount,U=s.currentPage,D=s.pagerCount-2;C.className.includes("more")&&(C.className.includes("quickprev")?f=U-D:C.className.includes("quicknext")&&(f=U+D)),Number.isNaN(+f)||(f<1&&(f=1),f>R&&(f=R)),f!==U&&n("change",f)}return(N,C)=>(I(),L("ul",{class:re(v(u).b()),onClick:q,onKeyup:Sr(H,["enter"])},[N.pageCount>0?(I(),L("li",{key:0,class:re([[v(u).is("active",N.currentPage===1),v(u).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===1,"aria-label":v(c)("el.pagination.currentPage",{pager:1}),tabindex:v(B)}," 1 ",10,Ma)):Y("v-if",!0),m.value?(I(),L("li",{key:1,class:re(v(d)),tabindex:v(B),"aria-label":v(c)("el.pagination.prevPages",{pager:N.pagerCount-2}),onMouseenter:C[0]||(C[0]=f=>S(!0)),onMouseleave:C[1]||(C[1]=f=>K.value=!1),onFocus:C[2]||(C[2]=f=>Q(!0)),onBlur:C[3]||(C[3]=f=>x.value=!1)},[(K.value||x.value)&&!N.disabled?(I(),ne(v(xr),{key:0})):(I(),ne(v($t),{key:1}))],42,La)):Y("v-if",!0),(I(!0),L(me,null,Oe(v(k),f=>(I(),L("li",{key:f,class:re([[v(u).is("active",N.currentPage===f),v(u).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===f,"aria-label":v(c)("el.pagination.currentPage",{pager:f}),tabindex:v(B)},ee(f),11,Ba))),128)),p.value?(I(),L("li",{key:2,class:re(v(z)),tabindex:v(B),"aria-label":v(c)("el.pagination.nextPages",{pager:N.pagerCount-2}),onMouseenter:C[4]||(C[4]=f=>S()),onMouseleave:C[5]||(C[5]=f=>g.value=!1),onFocus:C[6]||(C[6]=f=>Q()),onBlur:C[7]||(C[7]=f=>b.value=!1)},[(g.value||b.value)&&!N.disabled?(I(),ne(v(_r),{key:0})):(I(),ne(v($t),{key:1}))],42,Fa)):Y("v-if",!0),N.pageCount>1?(I(),L("li",{key:3,class:re([[v(u).is("active",N.currentPage===N.pageCount),v(u).is("disabled",N.disabled)],"number"]),"aria-current":N.currentPage===N.pageCount,"aria-label":v(c)("el.pagination.currentPage",{pager:N.pageCount}),tabindex:v(B)},ee(N.pageCount),11,Ua)):Y("v-if",!0)],42,Ra))}});var Ja=Ce(Wa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const ce=t=>typeof t!="number",Va=Ae({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Te(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Xt(Array),default:()=>Yt([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ge,default:()=>Tr},nextText:{type:String,default:""},nextIcon:{type:Ge,default:()=>Ir},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Qa={"update:current-page":t=>Te(t),"update:page-size":t=>Te(t),"size-change":t=>Te(t),"current-change":t=>Te(t),"prev-click":t=>Te(t),"next-click":t=>Te(t)},Ht="ElPagination";var Ga=se({name:Ht,props:Va,emits:Qa,setup(t,{emit:n,slots:s}){const{t:u}=xe(),r=ve("pagination"),c=rt().vnode.props||{},m="onUpdate:currentPage"in c||"onUpdate:current-page"in c||"onCurrentChange"in c,p="onUpdate:pageSize"in c||"onUpdate:page-size"in c||"onSizeChange"in c,K=ue(()=>{if(ce(t.total)&&ce(t.pageCount)||!ce(t.currentPage)&&!m)return!1;if(t.layout.includes("sizes")){if(ce(t.pageCount)){if(!ce(t.total)&&!ce(t.pageSize)&&!p)return!1}else if(!p)return!1}return!0}),g=J(ce(t.defaultPageSize)?10:t.defaultPageSize),x=J(ce(t.defaultCurrentPage)?1:t.defaultCurrentPage),b=ue({get(){return ce(t.pageSize)?g.value:t.pageSize},set(q){ce(t.pageSize)&&(g.value=q),p&&(n("update:page-size",q),n("size-change",q))}}),k=ue(()=>{let q=0;return ce(t.pageCount)?ce(t.total)||(q=Math.max(1,Math.ceil(t.total/b.value))):q=t.pageCount,q}),d=ue({get(){return ce(t.currentPage)?x.value:t.currentPage},set(q){let N=q;q<1?N=1:q>k.value&&(N=k.value),ce(t.currentPage)&&(x.value=N),m&&(n("update:current-page",N),n("current-change",N))}});ge(k,q=>{d.value>q&&(d.value=q)});function z(q){d.value=q}function B(q){b.value=q;const N=k.value;d.value>N&&(d.value=N)}function S(){t.disabled||(d.value-=1,n("prev-click",d.value))}function Q(){t.disabled||(d.value+=1,n("next-click",d.value))}function H(q,N){q&&(q.props||(q.props={}),q.props.class=[q.props.class,N].join(" "))}return Fe(sn,{pageCount:k,disabled:ue(()=>t.disabled),currentPage:d,changeEvent:z,handleSizeChange:B}),()=>{var q,N;if(!K.value)return Dr(Ht,u("el.pagination.deprecationWarning")),null;if(!t.layout||t.hideOnSinglePage&&k.value<=1)return null;const C=[],f=[],R=be("div",{class:r.e("rightwrapper")},f),U={prev:be(va,{disabled:t.disabled,currentPage:d.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:S}),jumper:be(Oa,{size:t.small?"small":"default"}),pager:be(Ja,{currentPage:d.value,pageCount:k.value,pagerCount:t.pagerCount,onChange:z,disabled:t.disabled}),next:be(wa,{disabled:t.disabled,currentPage:d.value,pageCount:k.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:Q}),sizes:be(_a,{pageSize:b.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,size:t.small?"small":"default"}),slot:(N=(q=s?.default)==null?void 0:q.call(s))!=null?N:null,total:be(za,{total:ce(t.total)?0:t.total})},D=t.layout.split(",").map(E=>E.trim());let j=!1;return D.forEach(E=>{if(E==="->"){j=!0;return}j?f.push(U[E]):C.push(U[E])}),H(C[0],r.is("first")),H(C[C.length-1],r.is("last")),j&&f.length>0&&(H(f[0],r.is("first")),H(f[f.length-1],r.is("last")),C.push(R)),be("div",{class:[r.b(),r.is("background",t.background),{[r.m("small")]:t.small}]},C)}}});const Xa=Or(Ga),Le="$treeNodeId",Wt=function(t,n){!n||n[Le]||Object.defineProperty(n,Le,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Pt=function(t,n){return t?n[t]:n[Le]},yt=(t,n,s)=>{const u=t.value.currentNode;s();const r=t.value.currentNode;u!==r&&n("current-change",r?r.data:null,r)},bt=t=>{let n=!0,s=!0,u=!0;for(let r=0,c=t.length;r<c;r++){const m=t[r];(m.checked!==!0||m.indeterminate)&&(n=!1,m.disabled||(u=!1)),(m.checked!==!1||m.indeterminate)&&(s=!1)}return{all:n,none:s,allWithoutDisable:u,half:!n&&!s}},tt=function(t){if(t.childNodes.length===0||t.loading)return;const{all:n,none:s,half:u}=bt(t.childNodes);n?(t.checked=!0,t.indeterminate=!1):u?(t.checked=!1,t.indeterminate=!0):s&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||tt(r)},Ze=function(t,n){const s=t.store.props,u=t.data||{},r=s[n];if(typeof r=="function")return r(u,t);if(typeof r=="string")return u[r];if(typeof r>"u"){const c=u[n];return c===void 0?"":c}};let Ya=0;class je{constructor(n){this.id=Ya++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const s in n)pt(n,s)&&(this[s]=n[s]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const s=n.props;if(s&&typeof s.isLeaf<"u"){const c=Ze(this,"isLeaf");typeof c=="boolean"&&(this.isLeafByUser=c)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Wt(this,this.data),!this.data)return;const u=n.defaultExpandedKeys,r=n.key;r&&u&&u.includes(this.key)&&this.expand(null,n.autoExpandParent),r&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||Wt(this,n),this.data=n,this.childNodes=[];let s;this.level===0&&Array.isArray(this.data)?s=this.data:s=Ze(this,"children")||[];for(let u=0,r=s.length;u<r;u++)this.insertChild({data:s[u]})}get label(){return Ze(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return Ze(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const s=n.childNodes.indexOf(this);if(s>-1)return n.childNodes[s+1]}return null}get previousSibling(){const n=this.parent;if(n){const s=n.childNodes.indexOf(this);if(s>-1)return s>0?n.childNodes[s-1]:null}return null}contains(n,s=!0){return(this.childNodes||[]).some(u=>u===n||s&&u.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,s,u){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof je)){if(!u){const r=this.getChildren(!0);r.includes(n.data)||(typeof s>"u"||s<0?r.push(n.data):r.splice(s,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=jr(new je(n)),n instanceof je&&n.initialize()}n.level=this.level+1,typeof s>"u"||s<0?this.childNodes.push(n):this.childNodes.splice(s,0,n),this.updateLeafState()}insertBefore(n,s){let u;s&&(u=this.childNodes.indexOf(s)),this.insertChild(n,u)}insertAfter(n,s){let u;s&&(u=this.childNodes.indexOf(s),u!==-1&&(u+=1)),this.insertChild(n,u)}removeChild(n){const s=this.getChildren()||[],u=s.indexOf(n.data);u>-1&&s.splice(u,1);const r=this.childNodes.indexOf(n);r>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(n){let s=null;for(let u=0;u<this.childNodes.length;u++)if(this.childNodes[u].data===n){s=this.childNodes[u];break}s&&this.removeChild(s)}expand(n,s){const u=()=>{if(s){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||tt(this),u())}):u()}doCreateChildren(n,s={}){n.forEach(u=>{this.insertChild(Object.assign({data:u},s),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,s,u,r){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:m,allWithoutDisable:p}=bt(this.childNodes);!this.isLeaf&&!m&&p&&(this.checked=!1,n=!1);const K=()=>{if(s){const g=this.childNodes;for(let k=0,d=g.length;k<d;k++){const z=g[k];r=r||n!==!1;const B=z.disabled?z.checked:r;z.setChecked(B,s,!0,r)}const{half:x,all:b}=bt(g);b||(this.checked=b,this.indeterminate=x)}};if(this.shouldLoadData()){this.loadData(()=>{K(),tt(this)},{checked:n!==!1});return}else K()}const c=this.parent;!c||c.level===0||u||tt(c)}getChildren(n=!1){if(this.level===0)return this.data;const s=this.data;if(!s)return null;const u=this.store.props;let r="children";return u&&(r=u.children||"children"),s[r]===void 0&&(s[r]=null),n&&!s[r]&&(s[r]=[]),s[r]}updateChildren(){const n=this.getChildren()||[],s=this.childNodes.map(c=>c.data),u={},r=[];n.forEach((c,m)=>{const p=c[Le];!!p&&s.findIndex(g=>g[Le]===p)>=0?u[p]={index:m,data:c}:r.push({index:m,data:c})}),this.store.lazy||s.forEach(c=>{u[c[Le]]||this.removeChildByData(c)}),r.forEach(({index:c,data:m})=>{this.insertChild({data:m},c)}),this.updateLeafState()}loadData(n,s={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(s).length)){this.loading=!0;const u=r=>{this.childNodes=[],this.doCreateChildren(r,s),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,r)};this.store.load(this,u)}else n&&n.call(this)}}class Za{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const s in n)pt(n,s)&&(this[s]=n[s]);this.nodesMap={}}initialize(){if(this.root=new je({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,s=>{this.root.doCreateChildren(s),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const s=this.filterNodeMethod,u=this.lazy,r=function(c){const m=c.root?c.root.childNodes:c.childNodes;if(m.forEach(p=>{p.visible=s.call(p,n,p.data,p),r(p)}),!c.visible&&m.length){let p=!0;p=!m.some(K=>K.visible),c.root?c.root.visible=p===!1:c.visible=p===!1}n&&c.visible&&!c.isLeaf&&!u&&c.expand()};r(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof je)return n;const s=Ar(n)?Pt(this.key,n):n;return this.nodesMap[s]||null}insertBefore(n,s){const u=this.getNode(s);u.parent.insertBefore({data:n},u)}insertAfter(n,s){const u=this.getNode(s);u.parent.insertAfter({data:n},u)}remove(n){const s=this.getNode(n);s&&s.parent&&(s===this.currentNode&&(this.currentNode=null),s.parent.removeChild(s))}append(n,s){const u=s?this.getNode(s):this.root;u&&u.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],s=this.nodesMap;n.forEach(u=>{const r=s[u];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const s=this.key;!n||!n.data||(s?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(u=>{this.deregisterNode(u)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,s=!1){const u=[],r=function(c){(c.root?c.root.childNodes:c.childNodes).forEach(p=>{(p.checked||s&&p.indeterminate)&&(!n||n&&p.isLeaf)&&u.push(p.data),r(p)})};return r(this),u}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(s=>(s||{})[this.key])}getHalfCheckedNodes(){const n=[],s=function(u){(u.root?u.root.childNodes:u.childNodes).forEach(c=>{c.indeterminate&&n.push(c.data),s(c)})};return s(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],s=this.nodesMap;for(const u in s)pt(s,u)&&n.push(s[u]);return n}updateChildren(n,s){const u=this.nodesMap[n];if(!u)return;const r=u.childNodes;for(let c=r.length-1;c>=0;c--){const m=r[c];this.remove(m.data)}for(let c=0,m=s.length;c<m;c++){const p=s[c];this.append(p,u.data)}}_setCheckedKeys(n,s=!1,u){const r=this._getAllNodes().sort((p,K)=>K.level-p.level),c=Object.create(null),m=Object.keys(u);r.forEach(p=>p.setChecked(!1,!1));for(let p=0,K=r.length;p<K;p++){const g=r[p],x=g.data[n].toString();if(!m.includes(x)){g.checked&&!c[x]&&g.setChecked(!1,!1);continue}let k=g.parent;for(;k&&k.level>0;)c[k.data[n]]=!0,k=k.parent;if(g.isLeaf||this.checkStrictly){g.setChecked(!0,!1);continue}if(g.setChecked(!0,!0),s){g.setChecked(!1,!1);const d=function(z){z.childNodes.forEach(S=>{S.isLeaf||S.setChecked(!1,!1),d(S)})};d(g)}}}setCheckedNodes(n,s=!1){const u=this.key,r={};n.forEach(c=>{r[(c||{})[u]]=!0}),this._setCheckedKeys(u,s,r)}setCheckedKeys(n,s=!1){this.defaultCheckedKeys=n;const u=this.key,r={};n.forEach(c=>{r[c]=!0}),this._setCheckedKeys(u,s,r)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(s=>{const u=this.getNode(s);u&&u.expand(null,this.autoExpandParent)})}setChecked(n,s,u){const r=this.getNode(n);r&&r.setChecked(!!s,u)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const s=this.currentNode;s&&(s.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,s=!0){const u=n[this.key],r=this.nodesMap[u];this.setCurrentNode(r),s&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,s=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const u=this.getNode(n);u&&(this.setCurrentNode(u),s&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const eo=se({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const n=ve("tree"),s=Be("NodeInstance"),u=Be("RootTree");return()=>{const r=t.node,{data:c,store:m}=r;return t.renderContent?t.renderContent(be,{_self:s,node:r,data:c,store:m}):u.ctx.slots.default?u.ctx.slots.default({node:r,data:c}):be("span",{class:n.be("node","label")},[r.label])}}});var to=Ce(eo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function un(t){const n=Be("TreeNodeMap",null),s={treeNodeExpand:u=>{t.node!==u&&t.node.collapse()},children:[]};return n&&n.children.push(s),Fe("TreeNodeMap",s),{broadcastExpanded:u=>{if(t.accordion)for(const r of s.children)r.treeNodeExpand(u)}}}const ln=Symbol("dragEvents");function no({props:t,ctx:n,el$:s,dropIndicator$:u,store:r}){const c=ve("tree"),m=J({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Fe(ln,{treeNodeDragStart:({event:x,treeNode:b})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(b.node))return x.preventDefault(),!1;x.dataTransfer.effectAllowed="move";try{x.dataTransfer.setData("text/plain","")}catch{}m.value.draggingNode=b,n.emit("node-drag-start",b.node,x)},treeNodeDragOver:({event:x,treeNode:b})=>{const k=b,d=m.value.dropNode;d&&d.node.id!==k.node.id&&dt(d.$el,c.is("drop-inner"));const z=m.value.draggingNode;if(!z||!k)return;let B=!0,S=!0,Q=!0,H=!0;typeof t.allowDrop=="function"&&(B=t.allowDrop(z.node,k.node,"prev"),H=S=t.allowDrop(z.node,k.node,"inner"),Q=t.allowDrop(z.node,k.node,"next")),x.dataTransfer.dropEffect=S||B||Q?"move":"none",(B||S||Q)&&d?.node.id!==k.node.id&&(d&&n.emit("node-drag-leave",z.node,d.node,x),n.emit("node-drag-enter",z.node,k.node,x)),(B||S||Q)&&(m.value.dropNode=k),k.node.nextSibling===z.node&&(Q=!1),k.node.previousSibling===z.node&&(B=!1),k.node.contains(z.node,!1)&&(S=!1),(z.node===k.node||z.node.contains(k.node))&&(B=!1,S=!1,Q=!1);const q=k.$el.getBoundingClientRect(),N=s.value.getBoundingClientRect();let C;const f=B?S?.25:Q?.45:1:-1,R=Q?S?.75:B?.55:0:1;let U=-9999;const D=x.clientY-q.top;D<q.height*f?C="before":D>q.height*R?C="after":S?C="inner":C="none";const j=k.$el.querySelector(`.${c.be("node","expand-icon")}`).getBoundingClientRect(),E=u.value;C==="before"?U=j.top-N.top:C==="after"&&(U=j.bottom-N.top),E.style.top=`${U}px`,E.style.left=`${j.right-N.left}px`,C==="inner"?qr(k.$el,c.is("drop-inner")):dt(k.$el,c.is("drop-inner")),m.value.showDropIndicator=C==="before"||C==="after",m.value.allowDrop=m.value.showDropIndicator||H,m.value.dropType=C,n.emit("node-drag-over",z.node,k.node,x)},treeNodeDragEnd:x=>{const{draggingNode:b,dropType:k,dropNode:d}=m.value;if(x.preventDefault(),x.dataTransfer.dropEffect="move",b&&d){const z={data:b.node.data};k!=="none"&&b.node.remove(),k==="before"?d.node.parent.insertBefore(z,d.node):k==="after"?d.node.parent.insertAfter(z,d.node):k==="inner"&&d.node.insertChild(z),k!=="none"&&r.value.registerNode(z),dt(d.$el,c.is("drop-inner")),n.emit("node-drag-end",b.node,d.node,k,x),k!=="none"&&n.emit("node-drop",b.node,d.node,k,x)}b&&!d&&n.emit("node-drag-end",b.node,null,k,x),m.value.showDropIndicator=!1,m.value.draggingNode=null,m.value.dropNode=null,m.value.allowDrop=!0}}),{dragState:m}}const ro=se({name:"ElTreeNode",components:{ElCollapseTransition:sa,ElCheckbox:Zr,NodeContent:to,ElIcon:Nt,Loading:Kr},props:{node:{type:je,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,n){const s=ve("tree"),{broadcastExpanded:u}=un(t),r=Be("RootTree"),c=J(!1),m=J(!1),p=J(null),K=J(null),g=J(null),x=Be(ln),b=rt();Fe("NodeInstance",b),t.node.expanded&&(c.value=!0,m.value=!0);const k=r.props.children||"children";ge(()=>{const D=t.node.data[k];return D&&[...D]},()=>{t.node.updateChildren()}),ge(()=>t.node.indeterminate,D=>{B(t.node.checked,D)}),ge(()=>t.node.checked,D=>{B(D,t.node.indeterminate)}),ge(()=>t.node.expanded,D=>{gt(()=>c.value=D),D&&(m.value=!0)});const d=D=>Pt(r.props.nodeKey,D.data),z=D=>{const j=t.props.class;if(!j)return{};let E;if(Rr(j)){const{data:ie}=D;E=j(ie,D)}else E=j;return Mr(E)?{[E]:!0}:E},B=(D,j)=>{(p.value!==D||K.value!==j)&&r.ctx.emit("check-change",t.node.data,D,j),p.value=D,K.value=j},S=D=>{yt(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(t.node)),r.currentNode.value=t.node,r.props.expandOnClickNode&&H(),r.props.checkOnClickNode&&!t.node.disabled&&q(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,b,D)},Q=D=>{r.instance.vnode.props.onNodeContextmenu&&(D.stopPropagation(),D.preventDefault()),r.ctx.emit("node-contextmenu",D,t.node.data,t.node,b)},H=()=>{t.node.isLeaf||(c.value?(r.ctx.emit("node-collapse",t.node.data,t.node,b),t.node.collapse()):(t.node.expand(),n.emit("node-expand",t.node.data,t.node,b)))},q=(D,j)=>{t.node.setChecked(j.target.checked,!r.props.checkStrictly),gt(()=>{const E=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:E.getCheckedNodes(),checkedKeys:E.getCheckedKeys(),halfCheckedNodes:E.getHalfCheckedNodes(),halfCheckedKeys:E.getHalfCheckedKeys()})})};return{ns:s,node$:g,tree:r,expanded:c,childNodeRendered:m,oldChecked:p,oldIndeterminate:K,getNodeKey:d,getNodeClass:z,handleSelectChange:B,handleClick:S,handleContextMenu:Q,handleExpandIconClick:H,handleCheckChange:q,handleChildNodeExpand:(D,j,E)=>{u(j),r.ctx.emit("node-expand",D,j,E)},handleDragStart:D=>{r.props.draggable&&x.treeNodeDragStart({event:D,treeNode:t})},handleDragOver:D=>{D.preventDefault(),r.props.draggable&&x.treeNodeDragOver({event:D,treeNode:{$el:g.value,node:t.node}})},handleDrop:D=>{D.preventDefault()},handleDragEnd:D=>{r.props.draggable&&x.treeNodeDragEnd(D)},CaretRight:zr}}}),ao=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],oo=["aria-expanded"];function so(t,n,s,u,r,c){const m=Ie("el-icon"),p=Ie("el-checkbox"),K=Ie("loading"),g=Ie("node-content"),x=Ie("el-tree-node"),b=Ie("el-collapse-transition");return mt((I(),L("div",{ref:"node$",class:re([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:n[1]||(n[1]=Se((...k)=>t.handleClick&&t.handleClick(...k),["stop"])),onContextmenu:n[2]||(n[2]=(...k)=>t.handleContextMenu&&t.handleContextMenu(...k)),onDragstart:n[3]||(n[3]=Se((...k)=>t.handleDragStart&&t.handleDragStart(...k),["stop"])),onDragover:n[4]||(n[4]=Se((...k)=>t.handleDragOver&&t.handleDragOver(...k),["stop"])),onDragend:n[5]||(n[5]=Se((...k)=>t.handleDragEnd&&t.handleDragEnd(...k),["stop"])),onDrop:n[6]||(n[6]=Se((...k)=>t.handleDrop&&t.handleDrop(...k),["stop"]))},[V("div",{class:re(t.ns.be("node","content")),style:$r({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(I(),ne(m,{key:0,class:re([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:Se(t.handleExpandIconClick,["stop"])},{default:X(()=>[(I(),ne(Ct(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):Y("v-if",!0),t.showCheckbox?(I(),ne(p,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:n[0]||(n[0]=Se(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Y("v-if",!0),t.node.loading?(I(),ne(m,{key:2,class:re([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:X(()=>[G(K)]),_:1},8,["class"])):Y("v-if",!0),G(g,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),G(b,null,{default:X(()=>[!t.renderAfterExpand||t.childNodeRendered?mt((I(),L("div",{key:0,class:re(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(I(!0),L(me,null,Oe(t.node.childNodes,k=>(I(),ne(x,{key:t.getNodeKey(k),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:k,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,oo)),[[vt,t.expanded]]):Y("v-if",!0)]),_:1})],42,ao)),[[vt,t.node.visible]])}var io=Ce(ro,[["render",so],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function uo({el$:t},n){const s=ve("tree"),u=Rt([]),r=Rt([]);nn(()=>{m()}),Lr(()=>{u.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),ge(r,p=>{p.forEach(K=>{K.setAttribute("tabindex","-1")})}),Br(t,"keydown",p=>{const K=p.target;if(!K.className.includes(s.b("node")))return;const g=p.code;u.value=Array.from(t.value.querySelectorAll(`.${s.is("focusable")}[role=treeitem]`));const x=u.value.indexOf(K);let b;if([De.up,De.down].includes(g)){if(p.preventDefault(),g===De.up){b=x===-1?0:x!==0?x-1:u.value.length-1;const d=b;for(;!n.value.getNode(u.value[b].dataset.key).canFocus;){if(b--,b===d){b=-1;break}b<0&&(b=u.value.length-1)}}else{b=x===-1?0:x<u.value.length-1?x+1:0;const d=b;for(;!n.value.getNode(u.value[b].dataset.key).canFocus;){if(b++,b===d){b=-1;break}b>=u.value.length&&(b=0)}}b!==-1&&u.value[b].focus()}[De.left,De.right].includes(g)&&(p.preventDefault(),K.click());const k=K.querySelector('[type="checkbox"]');[De.enter,De.space].includes(g)&&k&&(p.preventDefault(),k.click())});const m=()=>{var p;u.value=Array.from(t.value.querySelectorAll(`.${s.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const K=t.value.querySelectorAll(`.${s.is("checked")}[role=treeitem]`);if(K.length){K[0].setAttribute("tabindex","0");return}(p=u.value[0])==null||p.setAttribute("tabindex","0")}}const lo=se({name:"ElTree",components:{ElTreeNode:io},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ge}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,n){const{t:s}=xe(),u=ve("tree"),r=J(new Za({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));r.value.initialize();const c=J(r.value.root),m=J(null),p=J(null),K=J(null),{broadcastExpanded:g}=un(t),{dragState:x}=no({props:t,ctx:n,el$:p,dropIndicator$:K,store:r});uo({el$:p},r);const b=ue(()=>{const{childNodes:A}=c.value;return!A||A.length===0||A.every(({visible:T})=>!T)});ge(()=>t.currentNodeKey,A=>{r.value.setCurrentNodeKey(A)}),ge(()=>t.defaultCheckedKeys,A=>{r.value.setDefaultCheckedKey(A)}),ge(()=>t.defaultExpandedKeys,A=>{r.value.setDefaultExpandedKeys(A)}),ge(()=>t.data,A=>{r.value.setData(A)},{deep:!0}),ge(()=>t.checkStrictly,A=>{r.value.checkStrictly=A});const k=A=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(A)},d=A=>Pt(t.nodeKey,A.data),z=A=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const T=r.value.getNode(A);if(!T)return[];const pe=[T.data];let ye=T.parent;for(;ye&&ye!==c.value;)pe.push(ye.data),ye=ye.parent;return pe.reverse()},B=(A,T)=>r.value.getCheckedNodes(A,T),S=A=>r.value.getCheckedKeys(A),Q=()=>{const A=r.value.getCurrentNode();return A?A.data:null},H=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const A=Q();return A?A[t.nodeKey]:null},q=(A,T)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(A,T)},N=(A,T)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(A,T)},C=(A,T,pe)=>{r.value.setChecked(A,T,pe)},f=()=>r.value.getHalfCheckedNodes(),R=()=>r.value.getHalfCheckedKeys(),U=(A,T=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");yt(r,n.emit,()=>r.value.setUserCurrentNode(A,T))},D=(A,T=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");yt(r,n.emit,()=>r.value.setCurrentNodeKey(A,T))},j=A=>r.value.getNode(A),E=A=>{r.value.remove(A)},ie=(A,T)=>{r.value.append(A,T)},Ne=(A,T)=>{r.value.insertBefore(A,T)},we=(A,T)=>{r.value.insertAfter(A,T)},ke=(A,T,pe)=>{g(T),n.emit("node-expand",A,T,pe)},Ue=(A,T)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(A,T)};return Fe("RootTree",{ctx:n,props:t,store:r,root:c,currentNode:m,instance:rt()}),Fe(Fr,void 0),{ns:u,store:r,root:c,currentNode:m,dragState:x,el$:p,dropIndicator$:K,isEmpty:b,filter:k,getNodeKey:d,getNodePath:z,getCheckedNodes:B,getCheckedKeys:S,getCurrentNode:Q,getCurrentKey:H,setCheckedNodes:q,setCheckedKeys:N,setChecked:C,getHalfCheckedNodes:f,getHalfCheckedKeys:R,setCurrentNode:U,setCurrentKey:D,t:s,getNode:j,remove:E,append:ie,insertBefore:Ne,insertAfter:we,handleNodeExpand:ke,updateKeyChildren:Ue}}});function co(t,n,s,u,r,c){const m=Ie("el-tree-node");return I(),L("div",{ref:"el$",class:re([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(I(!0),L(me,null,Oe(t.root.childNodes,p=>(I(),ne(m,{key:t.getNodeKey(p),node:p,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(I(),L("div",{key:0,class:re(t.ns.e("empty-block"))},[Ur(t.$slots,"empty",{},()=>{var p;return[V("span",{class:re(t.ns.e("empty-text"))},ee((p=t.emptyText)!=null?p:t.t("el.tree.emptyText")),3)]})],2)):Y("v-if",!0),mt(V("div",{ref:"dropIndicator$",class:re(t.ns.e("drop-indicator"))},null,2),[[vt,t.dragState.showDropIndicator]])],2)}var nt=Ce(lo,[["render",co],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);nt.install=t=>{t.component(nt.name,nt)};const fo=nt,ho=fo;var ft={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},ht={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},$e=[],Re=[];function po(){var t=document.createElement("div"),n=t.style;"AnimationEvent"in window||(delete ft.animationstart.animation,delete ht.animationend.animation),"TransitionEvent"in window||(delete ft.transitionstart.transition,delete ht.transitionend.transition);function s(u,r){for(var c in u)if(u.hasOwnProperty(c)){var m=u[c];for(var p in m)if(p in n){r.push(m[p]);break}}}s(ft,$e),s(ht,Re)}typeof window<"u"&&typeof document<"u"&&po();function Jt(t,n,s){t.addEventListener(n,s,!1)}function Vt(t,n,s){t.removeEventListener(n,s,!1)}var go={startEvents:$e,addStartEventListener:function(n,s){if($e.length===0){setTimeout(s,0);return}$e.forEach(function(u){Jt(n,u,s)})},removeStartEventListener:function(n,s){$e.length!==0&&$e.forEach(function(u){Vt(n,u,s)})},endEvents:Re,addEndEventListener:function(n,s){if(Re.length===0){setTimeout(s,0);return}Re.forEach(function(u){Jt(n,u,s)})},removeEndEventListener:function(n,s){Re.length!==0&&Re.forEach(function(u){Vt(n,u,s)})}};const et=go;var Pe;function Qt(t){return!t||t.offsetParent===null}function mo(t){var n=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}const vo=se({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,s){var u=s.slots,r=s.expose,c=rt(),m=wt("",n),p=m.csp,K=m.prefixCls;r({csp:p});var g=null,x=null,b=null,k=!1,d=null,z=!1,B=function(f){if(!z){var R=Bt(c);!f||f.target!==R||k||q(R)}},S=function(f){!f||f.animationName!=="fadeEffect"||q(f.target)},Q=function(){var f=n.insertExtraNode;return f?"".concat(K.value,"-click-animating"):"".concat(K.value,"-click-animating-without-extra-node")},H=function(f,R){var U=n.insertExtraNode,D=n.disabled;if(!(D||!f||Qt(f)||f.className.indexOf("-leave")>=0)){d=document.createElement("div"),d.className="".concat(K.value,"-click-animating-node");var j=Q();if(f.removeAttribute(j),f.setAttribute(j,"true"),Pe=Pe||document.createElement("style"),R&&R!=="#ffffff"&&R!=="rgb(255, 255, 255)"&&mo(R)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(R)&&R!=="transparent"){var E;(E=p.value)!==null&&E!==void 0&&E.nonce&&(Pe.nonce=p.value.nonce),d.style.borderColor=R,Pe.innerHTML=`
        [`.concat(K.value,"-click-animating-without-extra-node='true']::after, .").concat(K.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(R,`;
        }`),document.body.contains(Pe)||document.body.appendChild(Pe)}U&&f.appendChild(d),et.addStartEventListener(f,B),et.addEndEventListener(f,S)}},q=function(f){if(!(!f||f===d||!(f instanceof Element))){var R=n.insertExtraNode,U=Q();f.setAttribute(U,"false"),Pe&&(Pe.innerHTML=""),R&&d&&f.contains(d)&&f.removeChild(d),et.removeStartEventListener(f,B),et.removeEndEventListener(f,S)}},N=function(f){if(!(!f||!f.getAttribute||f.getAttribute("disabled")||f.className.indexOf("disabled")>=0)){var R=function(D){if(!(D.target.tagName==="INPUT"||Qt(D.target))){q(f);var j=getComputedStyle(f).getPropertyValue("border-top-color")||getComputedStyle(f).getPropertyValue("border-color")||getComputedStyle(f).getPropertyValue("background-color");x=setTimeout(function(){return H(f,j)},0),Ft.cancel(b),k=!0,b=Ft(function(){k=!1},10)}};return f.addEventListener("click",R,!0),{cancel:function(){f.removeEventListener("click",R,!0)}}}};return nn(function(){gt(function(){var C=Bt(c);C.nodeType===1&&(g=N(C))})}),Hr(function(){g&&g.cancel(),clearTimeout(x),z=!0}),function(){var C;return(C=u.default)===null||C===void 0?void 0:C.call(u)[0]}}});var yo=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}},bo=se({compatConfig:{MODE:3},name:"ACheckableTag",props:yo(),setup:function(n,s){var u=s.slots,r=s.emit,c=wt("tag",n),m=c.prefixCls,p=function(x){var b=n.checked;r("update:checked",!b),r("change",!b),r("click",x)},K=ue(function(){var g;return rn(m.value,(g={},Me(g,"".concat(m.value,"-checkable"),!0),Me(g,"".concat(m.value,"-checkable-checked"),n.checked),g))});return function(){var g;return G("span",{class:K.value,onClick:p},[(g=u.default)===null||g===void 0?void 0:g.call(u)])}}});const kt=bo;var ko=new RegExp("^(".concat(ea.join("|"),")(-inverse)?$")),Co=new RegExp("^(".concat(ta.join("|"),")$")),No=function(){return{prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:Ut.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},"onUpdate:visible":Function,icon:Ut.any}},Qe=se({compatConfig:{MODE:3},name:"ATag",props:No(),slots:["closeIcon","icon"],setup:function(n,s){var u=s.slots,r=s.emit,c=s.attrs,m=wt("tag",n),p=m.prefixCls,K=m.direction,g=J(!0);tn(function(){n.visible!==void 0&&(g.value=n.visible)});var x=function(z){z.stopPropagation(),r("update:visible",!1),r("close",z),!z.defaultPrevented&&n.visible===void 0&&(g.value=!1)},b=ue(function(){var d=n.color;return d?ko.test(d)||Co.test(d):!1}),k=ue(function(){var d;return rn(p.value,(d={},Me(d,"".concat(p.value,"-").concat(n.color),b.value),Me(d,"".concat(p.value,"-has-color"),n.color&&!b.value),Me(d,"".concat(p.value,"-hidden"),!g.value),Me(d,"".concat(p.value,"-rtl"),K.value==="rtl"),d))});return function(){var d,z,B,S=n.icon,Q=S===void 0?(d=u.icon)===null||d===void 0?void 0:d.call(u):S,H=n.color,q=n.closeIcon,N=q===void 0?(z=u.closeIcon)===null||z===void 0?void 0:z.call(u):q,C=n.closable,f=C===void 0?!1:C,R=function(){return f?N?G("span",{class:"".concat(p.value,"-close-icon"),onClick:x},[N]):G(na,{class:"".concat(p.value,"-close-icon"),onClick:x},null):null},U={backgroundColor:H&&!b.value?H:void 0},D=Q||null,j=(B=u.default)===null||B===void 0?void 0:B.call(u),E=D?G(me,null,[D,G("span",null,[j])]):j,ie="onClick"in c,Ne=G("span",{class:k.value,style:U},[E,R()]);return ie?G(vo,null,{default:function(){return[Ne]}}):Ne}}});Qe.CheckableTag=kt;Qe.install=function(t){return t.component(Qe.name,Qe),t.component(kt.name,kt),t};const wo=Qe;var cn={exports:{}};/*! algoliasearch.umd.js | 4.18.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,n){(function(s,u){t.exports=u()})(Jr,function(){function s(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function u(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),o.push.apply(o,i)}return o}function r(e){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?u(Object(o),!0).forEach(function(i){s(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function c(e,a){if(e==null)return{};var o,i,l=function(P,h){if(P==null)return{};var w,O,_={},M=Object.keys(P);for(O=0;O<M.length;O++)w=M[O],h.indexOf(w)>=0||(_[w]=P[w]);return _}(e,a);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(e);for(i=0;i<y.length;i++)o=y[i],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(l[o]=e[o])}return l}function m(e,a){return function(o){if(Array.isArray(o))return o}(e)||function(o,i){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]"){var l=[],y=!0,P=!1,h=void 0;try{for(var w,O=o[Symbol.iterator]();!(y=(w=O.next()).done)&&(l.push(w.value),!i||l.length!==i);y=!0);}catch(_){P=!0,h=_}finally{try{y||O.return==null||O.return()}finally{if(P)throw h}}return l}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e){return function(a){if(Array.isArray(a)){for(var o=0,i=new Array(a.length);o<a.length;o++)i[o]=a[o];return i}}(e)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function K(e){var a,o="algoliasearch-client-js-".concat(e.key),i=function(){return a===void 0&&(a=e.localStorage||window.localStorage),a},l=function(){return JSON.parse(i().getItem(o)||"{}")},y=function(h){i().setItem(o,JSON.stringify(h))},P=function(){var h=e.timeToLive?1e3*e.timeToLive:null,w=l(),O=Object.fromEntries(Object.entries(w).filter(function(M){return m(M,2)[1].timestamp!==void 0}));if(y(O),h){var _=Object.fromEntries(Object.entries(O).filter(function(M){var $=m(M,2)[1],W=new Date().getTime();return!($.timestamp+h<W)}));y(_)}};return{get:function(h,w){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){P();var _=JSON.stringify(h);return l()[_]}).then(function(_){return Promise.all([_?_.value:w(),_!==void 0])}).then(function(_){var M=m(_,2),$=M[0],W=M[1];return Promise.all([$,W||O.miss($)])}).then(function(_){return m(_,1)[0]})},set:function(h,w){return Promise.resolve().then(function(){var O=l();return O[JSON.stringify(h)]={timestamp:new Date().getTime(),value:w},i().setItem(o,JSON.stringify(O)),w})},delete:function(h){return Promise.resolve().then(function(){var w=l();delete w[JSON.stringify(h)],i().setItem(o,JSON.stringify(w))})},clear:function(){return Promise.resolve().then(function(){i().removeItem(o)})}}}function g(e){var a=p(e.caches),o=a.shift();return o===void 0?{get:function(i,l){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},P=l();return P.then(function(h){return Promise.all([h,y.miss(h)])}).then(function(h){return m(h,1)[0]})},set:function(i,l){return Promise.resolve(l)},delete:function(i){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(i,l){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return o.get(i,l,y).catch(function(){return g({caches:a}).get(i,l,y)})},set:function(i,l){return o.set(i,l).catch(function(){return g({caches:a}).set(i,l)})},delete:function(i){return o.delete(i).catch(function(){return g({caches:a}).delete(i)})},clear:function(){return o.clear().catch(function(){return g({caches:a}).clear()})}}}function x(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},a={};return{get:function(o,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},y=JSON.stringify(o);if(y in a)return Promise.resolve(e.serializable?JSON.parse(a[y]):a[y]);var P=i(),h=l&&l.miss||function(){return Promise.resolve()};return P.then(function(w){return h(w)}).then(function(){return P})},set:function(o,i){return a[JSON.stringify(o)]=e.serializable?JSON.stringify(i):i,Promise.resolve(i)},delete:function(o){return delete a[JSON.stringify(o)],Promise.resolve()},clear:function(){return a={},Promise.resolve()}}}function b(e,a,o){var i={"x-algolia-api-key":o,"x-algolia-application-id":a};return{headers:function(){return e===Q.WithinHeaders?i:{}},queryParameters:function(){return e===Q.WithinQueryParameters?i:{}}}}function k(e){var a=0;return e(function o(){return a++,new Promise(function(i){setTimeout(function(){i(e(o))},Math.min(100*a,1e3))})})}function d(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(o,i){return Promise.resolve()};return Object.assign(e,{wait:function(o){return d(e.then(function(i){return Promise.all([a(i,o),i])}).then(function(i){return i[1]}))}})}function z(e){for(var a=e.length-1;a>0;a--){var o=Math.floor(Math.random()*(a+1)),i=e[a];e[a]=e[o],e[o]=i}return e}function B(e,a){return a&&Object.keys(a).forEach(function(o){e[o]=a[o](e)}),e}function S(e){for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];var l=0;return e.replace(/%s/g,function(){return encodeURIComponent(o[l++])})}var Q={WithinQueryParameters:0,WithinHeaders:1};function H(e,a){var o=e||{},i=o.data||{};return Object.keys(o).forEach(function(l){["timeout","headers","queryParameters","data","cacheable"].indexOf(l)===-1&&(i[l]=o[l])}),{data:Object.entries(i).length>0?i:void 0,timeout:o.timeout||a,headers:o.headers||{},queryParameters:o.queryParameters||{},cacheable:o.cacheable}}var q={Read:1,Write:2,Any:3},N=1,C=2,f=3;function R(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return r(r({},e),{},{status:a,lastUpdate:Date.now()})}function U(e){return typeof e=="string"?{protocol:"https",url:e,accept:q.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||q.Any}}var D="DELETE",j="GET",E="POST",ie="PUT";function Ne(e,a){return Promise.all(a.map(function(o){return e.get(o,function(){return Promise.resolve(R(o))})})).then(function(o){var i=o.filter(function(P){return function(h){return h.status===N||Date.now()-h.lastUpdate>12e4}(P)}),l=o.filter(function(P){return function(h){return h.status===f&&Date.now()-h.lastUpdate<=12e4}(P)}),y=[].concat(p(i),p(l));return{getTimeout:function(P,h){return(l.length===0&&P===0?1:l.length+3+P)*h},statelessHosts:y.length>0?y.map(function(P){return U(P)}):a}})}function we(e,a,o,i){var l=[],y=function($,W){if(!($.method===j||$.data===void 0&&W.data===void 0)){var F=Array.isArray($.data)?$.data:r(r({},$.data),W.data);return JSON.stringify(F)}}(o,i),P=function($,W){var F=r(r({},$.headers),W.headers),Z={};return Object.keys(F).forEach(function(te){var fe=F[te];Z[te.toLowerCase()]=fe}),Z}(e,i),h=o.method,w=o.method!==j?{}:r(r({},o.data),i.data),O=r(r(r({"x-algolia-agent":e.userAgent.value},e.queryParameters),w),i.queryParameters),_=0,M=function $(W,F){var Z=W.pop();if(Z===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:pe(l)};var te={data:y,headers:P,method:h,url:A(Z,o.path,O),connectTimeout:F(_,e.timeouts.connect),responseTimeout:F(_,i.timeout)},fe=function(he){var le={request:te,response:he,host:Z,triesLeft:W.length};return l.push(le),le},Je={onSuccess:function(he){return function(le){try{return JSON.parse(le.content)}catch(_e){throw function(Ee,ze){return{name:"DeserializationError",message:Ee,response:ze}}(_e.message,le)}}(he)},onRetry:function(he){var le=fe(he);return he.isTimedOut&&_++,Promise.all([e.logger.info("Retryable failure",ye(le)),e.hostsCache.set(Z,R(Z,he.isTimedOut?f:C))]).then(function(){return $(W,F)})},onFail:function(he){throw fe(he),function(le,_e){var Ee=le.content,ze=le.status,Ve=Ee;try{Ve=JSON.parse(Ee).message}catch{}return function(Ye,ct,Pr){return{name:"ApiError",message:Ye,status:ct,transporterStackTrace:Pr}}(Ve,ze,_e)}(he,pe(l))}};return e.requester.send(te).then(function(he){return function(le,_e){return function(Ee){var ze=Ee.status;return Ee.isTimedOut||function(Ve){var Ye=Ve.isTimedOut,ct=Ve.status;return!Ye&&~~ct==0}(Ee)||~~(ze/100)!=2&&~~(ze/100)!=4}(le)?_e.onRetry(le):~~(le.status/100)==2?_e.onSuccess(le):_e.onFail(le)}(he,Je)})};return Ne(e.hostsCache,a).then(function($){return M(p($.statelessHosts).reverse(),$.getTimeout)})}function ke(e){var a=e.hostsCache,o=e.logger,i=e.requester,l=e.requestsCache,y=e.responsesCache,P=e.timeouts,h=e.userAgent,w=e.hosts,O=e.queryParameters,_={hostsCache:a,logger:o,requester:i,requestsCache:l,responsesCache:y,timeouts:P,userAgent:h,headers:e.headers,queryParameters:O,hosts:w.map(function(M){return U(M)}),read:function(M,$){var W=H($,_.timeouts.read),F=function(){return we(_,_.hosts.filter(function(te){return(te.accept&q.Read)!=0}),M,W)};if((W.cacheable!==void 0?W.cacheable:M.cacheable)!==!0)return F();var Z={request:M,mappedRequestOptions:W,transporter:{queryParameters:_.queryParameters,headers:_.headers}};return _.responsesCache.get(Z,function(){return _.requestsCache.get(Z,function(){return _.requestsCache.set(Z,F()).then(function(te){return Promise.all([_.requestsCache.delete(Z),te])},function(te){return Promise.all([_.requestsCache.delete(Z),Promise.reject(te)])}).then(function(te){var fe=m(te,2);return fe[0],fe[1]})})},{miss:function(te){return _.responsesCache.set(Z,te)}})},write:function(M,$){return we(_,_.hosts.filter(function(W){return(W.accept&q.Write)!=0}),M,H($,_.timeouts.write))}};return _}function Ue(e){var a={value:"Algolia for JavaScript (".concat(e,")"),add:function(o){var i="; ".concat(o.segment).concat(o.version!==void 0?" (".concat(o.version,")"):"");return a.value.indexOf(i)===-1&&(a.value="".concat(a.value).concat(i)),a}};return a}function A(e,a,o){var i=T(o),l="".concat(e.protocol,"://").concat(e.url,"/").concat(a.charAt(0)==="/"?a.substr(1):a);return i.length&&(l+="?".concat(i)),l}function T(e){return Object.keys(e).map(function(a){return S("%s=%s",a,(o=e[a],Object.prototype.toString.call(o)==="[object Object]"||Object.prototype.toString.call(o)==="[object Array]"?JSON.stringify(e[a]):e[a]));var o}).join("&")}function pe(e){return e.map(function(a){return ye(a)})}function ye(e){var a=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),a)})})}var fn=function(e){return function(a,o){return e.transporter.write({method:E,path:"2/abtests",data:a},o)}},hn=function(e){return function(a,o){return e.transporter.write({method:D,path:S("2/abtests/%s",a)},o)}},pn=function(e){return function(a,o){return e.transporter.read({method:j,path:S("2/abtests/%s",a)},o)}},gn=function(e){return function(a){return e.transporter.read({method:j,path:"2/abtests"},a)}},mn=function(e){return function(a,o){return e.transporter.write({method:E,path:S("2/abtests/%s/stop",a)},o)}},vn=function(e){return function(a){return e.transporter.read({method:j,path:"1/strategies/personalization"},a)}},yn=function(e){return function(a,o){return e.transporter.write({method:E,path:"1/strategies/personalization",data:a},o)}};function at(e){return function a(o){return e.request(o).then(function(i){if(e.batch!==void 0&&e.batch(i.hits),!e.shouldStop(i))return i.cursor?a({cursor:i.cursor}):a({page:(o.page||0)+1})})}({})}var bn=function(e){return function(a,o){var i=o||{},l=i.queryParameters,y=c(i,["queryParameters"]),P=r({acl:a},l!==void 0?{queryParameters:l}:{});return d(e.transporter.write({method:E,path:"1/keys",data:P},y),function(h,w){return k(function(O){return He(e)(h.key,w).catch(function(_){if(_.status!==404)throw _;return O()})})})}},kn=function(e){return function(a,o,i){var l=H(i);return l.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:E,path:"1/clusters/mapping",data:{cluster:o}},l)}},Cn=function(e){return function(a,o,i){return e.transporter.write({method:E,path:"1/clusters/mapping/batch",data:{users:a,cluster:o}},i)}},Nn=function(e){return function(a,o){return d(e.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},o),function(i,l){return qe(e)(i.taskID,l)})}},Xe=function(e){return function(a,o,i){return d(e.transporter.write({method:E,path:S("1/indexes/%s/operation",a),data:{operation:"copy",destination:o}},i),function(l,y){return We(e)(a,{methods:{waitTask:ae}}).waitTask(l.taskID,y)})}},wn=function(e){return function(a,o,i){return Xe(e)(a,o,r(r({},i),{},{scope:[lt.Rules]}))}},En=function(e){return function(a,o,i){return Xe(e)(a,o,r(r({},i),{},{scope:[lt.Settings]}))}},Pn=function(e){return function(a,o,i){return Xe(e)(a,o,r(r({},i),{},{scope:[lt.Synonyms]}))}},xn=function(e){return function(a,o){return a.method===j?e.transporter.read(a,o):e.transporter.write(a,o)}},_n=function(e){return function(a,o){return d(e.transporter.write({method:D,path:S("1/keys/%s",a)},o),function(i,l){return k(function(y){return He(e)(a,l).then(y).catch(function(P){if(P.status!==404)throw P})})})}},Sn=function(e){return function(a,o,i){var l=o.map(function(y){return{action:"deleteEntry",body:{objectID:y}}});return d(e.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},i),function(y,P){return qe(e)(y.taskID,P)})}},He=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/keys/%s",a)},o)}},xt=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/task/%s",a.toString())},o)}},Dn=function(e){return function(a){return e.transporter.read({method:j,path:"/1/dictionaries/*/settings"},a)}},Tn=function(e){return function(a){return e.transporter.read({method:j,path:"1/logs"},a)}},In=function(e){return function(a){return e.transporter.read({method:j,path:"1/clusters/mapping/top"},a)}},On=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/clusters/mapping/%s",a)},o)}},jn=function(e){return function(a){var o=a||{},i=o.retrieveMappings,l=c(o,["retrieveMappings"]);return i===!0&&(l.getClusters=!0),e.transporter.read({method:j,path:"1/clusters/mapping/pending"},l)}},We=function(e){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i={transporter:e.transporter,appId:e.appId,indexName:a};return B(i,o.methods)}},An=function(e){return function(a){return e.transporter.read({method:j,path:"1/keys"},a)}},qn=function(e){return function(a){return e.transporter.read({method:j,path:"1/clusters"},a)}},Kn=function(e){return function(a){return e.transporter.read({method:j,path:"1/indexes"},a)}},zn=function(e){return function(a){return e.transporter.read({method:j,path:"1/clusters/mapping"},a)}},$n=function(e){return function(a,o,i){return d(e.transporter.write({method:E,path:S("1/indexes/%s/operation",a),data:{operation:"move",destination:o}},i),function(l,y){return We(e)(a,{methods:{waitTask:ae}}).waitTask(l.taskID,y)})}},Rn=function(e){return function(a,o){return d(e.transporter.write({method:E,path:"1/indexes/*/batch",data:{requests:a}},o),function(i,l){return Promise.all(Object.keys(i.taskID).map(function(y){return We(e)(y,{methods:{waitTask:ae}}).waitTask(i.taskID[y],l)}))})}},Mn=function(e){return function(a,o){return e.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:a}},o)}},_t=function(e){return function(a,o){var i=a.map(function(l){return r(r({},l),{},{params:T(l.params||{})})});return e.transporter.read({method:E,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},o)}},St=function(e){return function(a,o){return Promise.all(a.map(function(i){var l=i.params,y=l.facetName,P=l.facetQuery,h=c(l,["facetName","facetQuery"]);return We(e)(i.indexName,{methods:{searchForFacetValues:At}}).searchForFacetValues(y,P,r(r({},o),h))}))}},Ln=function(e){return function(a,o){var i=H(o);return i.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:D,path:"1/clusters/mapping"},i)}},Bn=function(e){return function(a,o,i){var l=o.map(function(y){return{action:"addEntry",body:y}});return d(e.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:l}},i),function(y,P){return qe(e)(y.taskID,P)})}},Fn=function(e){return function(a,o){return d(e.transporter.write({method:E,path:S("1/keys/%s/restore",a)},o),function(i,l){return k(function(y){return He(e)(a,l).catch(function(P){if(P.status!==404)throw P;return y()})})})}},Un=function(e){return function(a,o,i){var l=o.map(function(y){return{action:"addEntry",body:y}});return d(e.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},i),function(y,P){return qe(e)(y.taskID,P)})}},Hn=function(e){return function(a,o,i){return e.transporter.read({method:E,path:S("/1/dictionaries/%s/search",a),data:{query:o},cacheable:!0},i)}},Wn=function(e){return function(a,o){return e.transporter.read({method:E,path:"1/clusters/mapping/search",data:{query:a}},o)}},Jn=function(e){return function(a,o){return d(e.transporter.write({method:ie,path:"/1/dictionaries/*/settings",data:a},o),function(i,l){return qe(e)(i.taskID,l)})}},Vn=function(e){return function(a,o){var i=Object.assign({},o),l=o||{},y=l.queryParameters,P=c(l,["queryParameters"]),h=y?{queryParameters:y}:{},w=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return d(e.transporter.write({method:ie,path:S("1/keys/%s",a),data:h},P),function(O,_){return k(function(M){return He(e)(a,_).then(function($){return function(W){return Object.keys(i).filter(function(F){return w.indexOf(F)!==-1}).every(function(F){if(Array.isArray(W[F])&&Array.isArray(i[F])){var Z=W[F];return Z.length===i[F].length&&Z.every(function(te,fe){return te===i[F][fe]})}return W[F]===i[F]})}($)?Promise.resolve():M()})})})}},qe=function(e){return function(a,o){return k(function(i){return xt(e)(a,o).then(function(l){return l.status!=="published"?i():void 0})})}},Dt=function(e){return function(a,o){return d(e.transporter.write({method:E,path:S("1/indexes/%s/batch",e.indexName),data:{requests:a}},o),function(i,l){return ae(e)(i.taskID,l)})}},Qn=function(e){return function(a){return at(r(r({shouldStop:function(o){return o.cursor===void 0}},a),{},{request:function(o){return e.transporter.read({method:E,path:S("1/indexes/%s/browse",e.indexName),data:o},a)}}))}},Gn=function(e){return function(a){var o=r({hitsPerPage:1e3},a);return at(r(r({shouldStop:function(i){return i.hits.length<o.hitsPerPage}},o),{},{request:function(i){return qt(e)("",r(r({},o),i)).then(function(l){return r(r({},l),{},{hits:l.hits.map(function(y){return delete y._highlightResult,y})})})}}))}},Xn=function(e){return function(a){var o=r({hitsPerPage:1e3},a);return at(r(r({shouldStop:function(i){return i.hits.length<o.hitsPerPage}},o),{},{request:function(i){return Kt(e)("",r(r({},o),i)).then(function(l){return r(r({},l),{},{hits:l.hits.map(function(y){return delete y._highlightResult,y})})})}}))}},ot=function(e){return function(a,o,i){var l=i||{},y=l.batchSize,P=c(l,["batchSize"]),h={taskIDs:[],objectIDs:[]};return d(function w(){var O,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=[];for(O=_;O<a.length&&(M.push(a[O]),M.length!==(y||1e3));O++);return M.length===0?Promise.resolve(h):Dt(e)(M.map(function($){return{action:o,body:$}}),P).then(function($){return h.objectIDs=h.objectIDs.concat($.objectIDs),h.taskIDs.push($.taskID),O++,w(O)})}(),function(w,O){return Promise.all(w.taskIDs.map(function(_){return ae(e)(_,O)}))})}},Yn=function(e){return function(a){return d(e.transporter.write({method:E,path:S("1/indexes/%s/clear",e.indexName)},a),function(o,i){return ae(e)(o.taskID,i)})}},Zn=function(e){return function(a){var o=a||{},i=o.forwardToReplicas,l=H(c(o,["forwardToReplicas"]));return i&&(l.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:E,path:S("1/indexes/%s/rules/clear",e.indexName)},l),function(y,P){return ae(e)(y.taskID,P)})}},er=function(e){return function(a){var o=a||{},i=o.forwardToReplicas,l=H(c(o,["forwardToReplicas"]));return i&&(l.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:E,path:S("1/indexes/%s/synonyms/clear",e.indexName)},l),function(y,P){return ae(e)(y.taskID,P)})}},tr=function(e){return function(a,o){return d(e.transporter.write({method:E,path:S("1/indexes/%s/deleteByQuery",e.indexName),data:a},o),function(i,l){return ae(e)(i.taskID,l)})}},nr=function(e){return function(a){return d(e.transporter.write({method:D,path:S("1/indexes/%s",e.indexName)},a),function(o,i){return ae(e)(o.taskID,i)})}},rr=function(e){return function(a,o){return d(Tt(e)([a],o).then(function(i){return{taskID:i.taskIDs[0]}}),function(i,l){return ae(e)(i.taskID,l)})}},Tt=function(e){return function(a,o){var i=a.map(function(l){return{objectID:l}});return ot(e)(i,Ke.DeleteObject,o)}},ar=function(e){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=H(c(i,["forwardToReplicas"]));return l&&(y.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:D,path:S("1/indexes/%s/rules/%s",e.indexName,a)},y),function(P,h){return ae(e)(P.taskID,h)})}},or=function(e){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=H(c(i,["forwardToReplicas"]));return l&&(y.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:D,path:S("1/indexes/%s/synonyms/%s",e.indexName,a)},y),function(P,h){return ae(e)(P.taskID,h)})}},sr=function(e){return function(a){return It(e)(a).then(function(){return!0}).catch(function(o){if(o.status!==404)throw o;return!1})}},ir=function(e){return function(a,o,i){return e.transporter.read({method:E,path:S("1/answers/%s/prediction",e.indexName),data:{query:a,queryLanguages:o},cacheable:!0},i)}},ur=function(e){return function(a,o){var i=o||{},l=i.query,y=i.paginate,P=c(i,["query","paginate"]),h=0;return function w(){return jt(e)(l||"",r(r({},P),{},{page:h})).then(function(O){for(var _=0,M=Object.entries(O.hits);_<M.length;_++){var $=m(M[_],2),W=$[0],F=$[1];if(a(F))return{object:F,position:parseInt(W,10),page:h}}if(h++,y===!1||h>=O.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return w()})}()}},lr=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/indexes/%s/%s",e.indexName,a)},o)}},cr=function(){return function(e,a){for(var o=0,i=Object.entries(e.hits);o<i.length;o++){var l=m(i[o],2),y=l[0];if(l[1].objectID===a)return parseInt(y,10)}return-1}},dr=function(e){return function(a,o){var i=o||{},l=i.attributesToRetrieve,y=c(i,["attributesToRetrieve"]),P=a.map(function(h){return r({indexName:e.indexName,objectID:h},l?{attributesToRetrieve:l}:{})});return e.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:P}},y)}},fr=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/indexes/%s/rules/%s",e.indexName,a)},o)}},It=function(e){return function(a){return e.transporter.read({method:j,path:S("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},a)}},hr=function(e){return function(a,o){return e.transporter.read({method:j,path:S("1/indexes/%s/synonyms/%s",e.indexName,a)},o)}},pr=function(e){return function(a,o){return d(Ot(e)([a],o).then(function(i){return{objectID:i.objectIDs[0],taskID:i.taskIDs[0]}}),function(i,l){return ae(e)(i.taskID,l)})}},Ot=function(e){return function(a,o){var i=o||{},l=i.createIfNotExists,y=c(i,["createIfNotExists"]),P=l?Ke.PartialUpdateObject:Ke.PartialUpdateObjectNoCreate;return ot(e)(a,P,y)}},gr=function(e){return function(a,o){var i=o||{},l=i.safe,y=i.autoGenerateObjectIDIfNotExist,P=i.batchSize,h=c(i,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),w=function(F,Z,te,fe){return d(e.transporter.write({method:E,path:S("1/indexes/%s/operation",F),data:{operation:te,destination:Z}},fe),function(Je,he){return ae(e)(Je.taskID,he)})},O=Math.random().toString(36).substring(7),_="".concat(e.indexName,"_tmp_").concat(O),M=st({appId:e.appId,transporter:e.transporter,indexName:_}),$=[],W=w(e.indexName,_,"copy",r(r({},h),{},{scope:["settings","synonyms","rules"]}));return $.push(W),d((l?W.wait(h):W).then(function(){var F=M(a,r(r({},h),{},{autoGenerateObjectIDIfNotExist:y,batchSize:P}));return $.push(F),l?F.wait(h):F}).then(function(){var F=w(_,e.indexName,"move",h);return $.push(F),l?F.wait(h):F}).then(function(){return Promise.all($)}).then(function(F){var Z=m(F,3),te=Z[0],fe=Z[1],Je=Z[2];return{objectIDs:fe.objectIDs,taskIDs:[te.taskID].concat(p(fe.taskIDs),[Je.taskID])}}),function(F,Z){return Promise.all($.map(function(te){return te.wait(Z)}))})}},mr=function(e){return function(a,o){return it(e)(a,r(r({},o),{},{clearExistingRules:!0}))}},vr=function(e){return function(a,o){return ut(e)(a,r(r({},o),{},{clearExistingSynonyms:!0}))}},yr=function(e){return function(a,o){return d(st(e)([a],o).then(function(i){return{objectID:i.objectIDs[0],taskID:i.taskIDs[0]}}),function(i,l){return ae(e)(i.taskID,l)})}},st=function(e){return function(a,o){var i=o||{},l=i.autoGenerateObjectIDIfNotExist,y=c(i,["autoGenerateObjectIDIfNotExist"]),P=l?Ke.AddObject:Ke.UpdateObject;if(P===Ke.UpdateObject){var h=!0,w=!1,O=void 0;try{for(var _,M=a[Symbol.iterator]();!(h=(_=M.next()).done);h=!0)if(_.value.objectID===void 0)return d(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch($){w=!0,O=$}finally{try{h||M.return==null||M.return()}finally{if(w)throw O}}}return ot(e)(a,P,y)}},br=function(e){return function(a,o){return it(e)([a],o)}},it=function(e){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=i.clearExistingRules,P=H(c(i,["forwardToReplicas","clearExistingRules"]));return l&&(P.queryParameters.forwardToReplicas=1),y&&(P.queryParameters.clearExistingRules=1),d(e.transporter.write({method:E,path:S("1/indexes/%s/rules/batch",e.indexName),data:a},P),function(h,w){return ae(e)(h.taskID,w)})}},kr=function(e){return function(a,o){return ut(e)([a],o)}},ut=function(e){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=i.clearExistingSynonyms,P=i.replaceExistingSynonyms,h=H(c(i,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return l&&(h.queryParameters.forwardToReplicas=1),(P||y)&&(h.queryParameters.replaceExistingSynonyms=1),d(e.transporter.write({method:E,path:S("1/indexes/%s/synonyms/batch",e.indexName),data:a},h),function(w,O){return ae(e)(w.taskID,O)})}},jt=function(e){return function(a,o){return e.transporter.read({method:E,path:S("1/indexes/%s/query",e.indexName),data:{query:a},cacheable:!0},o)}},At=function(e){return function(a,o,i){return e.transporter.read({method:E,path:S("1/indexes/%s/facets/%s/query",e.indexName,a),data:{facetQuery:o},cacheable:!0},i)}},qt=function(e){return function(a,o){return e.transporter.read({method:E,path:S("1/indexes/%s/rules/search",e.indexName),data:{query:a}},o)}},Kt=function(e){return function(a,o){return e.transporter.read({method:E,path:S("1/indexes/%s/synonyms/search",e.indexName),data:{query:a}},o)}},Cr=function(e){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=H(c(i,["forwardToReplicas"]));return l&&(y.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:ie,path:S("1/indexes/%s/settings",e.indexName),data:a},y),function(P,h){return ae(e)(P.taskID,h)})}},ae=function(e){return function(a,o){return k(function(i){return function(l){return function(y,P){return l.transporter.read({method:j,path:S("1/indexes/%s/task/%s",l.indexName,y.toString())},P)}}(e)(a,o).then(function(l){return l.status!=="published"?i():void 0})})}},Ke={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},lt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Nr=1,wr=2,Er=3;function zt(e,a,o){var i,l={appId:e,apiKey:a,timeouts:{connect:1,read:2,write:30},requester:{send:function(h){return new Promise(function(w){var O=new XMLHttpRequest;O.open(h.method,h.url,!0),Object.keys(h.headers).forEach(function(W){return O.setRequestHeader(W,h.headers[W])});var _,M=function(W,F){return setTimeout(function(){O.abort(),w({status:0,content:F,isTimedOut:!0})},1e3*W)},$=M(h.connectTimeout,"Connection timeout");O.onreadystatechange=function(){O.readyState>O.OPENED&&_===void 0&&(clearTimeout($),_=M(h.responseTimeout,"Socket timeout"))},O.onerror=function(){O.status===0&&(clearTimeout($),clearTimeout(_),w({content:O.responseText||"Network request failed",status:O.status,isTimedOut:!1}))},O.onload=function(){clearTimeout($),clearTimeout(_),w({content:O.responseText,status:O.status,isTimedOut:!1})},O.send(h.data)})}},logger:(i=Er,{debug:function(h,w){return Nr>=i&&console.debug(h,w),Promise.resolve()},info:function(h,w){return wr>=i&&console.info(h,w),Promise.resolve()},error:function(h,w){return console.error(h,w),Promise.resolve()}}),responsesCache:x(),requestsCache:x({serializable:!1}),hostsCache:g({caches:[K({key:"".concat("4.18.0","-").concat(e)}),x()]}),userAgent:Ue("4.18.0").add({segment:"Browser"})},y=r(r({},l),o),P=function(){return function(h){return function(w){var O=w.region||"us",_=b(Q.WithinHeaders,w.appId,w.apiKey),M=ke(r(r({hosts:[{url:"personalization.".concat(O,".algolia.com")}]},w),{},{headers:r(r(r({},_.headers()),{"content-type":"application/json"}),w.headers),queryParameters:r(r({},_.queryParameters()),w.queryParameters)}));return B({appId:w.appId,transporter:M},w.methods)}(r(r(r({},l),h),{},{methods:{getPersonalizationStrategy:vn,setPersonalizationStrategy:yn}}))}};return function(h){var w=h.appId,O=b(h.authMode!==void 0?h.authMode:Q.WithinHeaders,w,h.apiKey),_=ke(r(r({hosts:[{url:"".concat(w,"-dsn.algolia.net"),accept:q.Read},{url:"".concat(w,".algolia.net"),accept:q.Write}].concat(z([{url:"".concat(w,"-1.algolianet.com")},{url:"".concat(w,"-2.algolianet.com")},{url:"".concat(w,"-3.algolianet.com")}]))},h),{},{headers:r(r(r({},O.headers()),{"content-type":"application/x-www-form-urlencoded"}),h.headers),queryParameters:r(r({},O.queryParameters()),h.queryParameters)}));return B({transporter:_,appId:w,addAlgoliaAgent:function(M,$){_.userAgent.add({segment:M,version:$})},clearCache:function(){return Promise.all([_.requestsCache.clear(),_.responsesCache.clear()]).then(function(){})}},h.methods)}(r(r({},y),{},{methods:{search:_t,searchForFacetValues:St,multipleBatch:Rn,multipleGetObjects:Mn,multipleQueries:_t,copyIndex:Xe,copySettings:En,copySynonyms:Pn,copyRules:wn,moveIndex:$n,listIndices:Kn,getLogs:Tn,listClusters:qn,multipleSearchForFacetValues:St,getApiKey:He,addApiKey:bn,listApiKeys:An,updateApiKey:Vn,deleteApiKey:_n,restoreApiKey:Fn,assignUserID:kn,assignUserIDs:Cn,getUserID:On,searchUserIDs:Wn,listUserIDs:zn,getTopUserIDs:In,removeUserID:Ln,hasPendingMappings:jn,clearDictionaryEntries:Nn,deleteDictionaryEntries:Sn,getDictionarySettings:Dn,getAppTask:xt,replaceDictionaryEntries:Bn,saveDictionaryEntries:Un,searchDictionaryEntries:Hn,setDictionarySettings:Jn,waitAppTask:qe,customRequest:xn,initIndex:function(h){return function(w){return We(h)(w,{methods:{batch:Dt,delete:nr,findAnswers:ir,getObject:lr,getObjects:dr,saveObject:yr,saveObjects:st,search:jt,searchForFacetValues:At,waitTask:ae,setSettings:Cr,getSettings:It,partialUpdateObject:pr,partialUpdateObjects:Ot,deleteObject:rr,deleteObjects:Tt,deleteBy:tr,clearObjects:Yn,browseObjects:Qn,getObjectPosition:cr,findObject:ur,exists:sr,saveSynonym:kr,saveSynonyms:ut,getSynonym:hr,searchSynonyms:Kt,browseSynonyms:Xn,deleteSynonym:or,clearSynonyms:er,replaceAllObjects:gr,replaceAllSynonyms:vr,searchRules:qt,getRule:fr,deleteRule:ar,saveRule:br,saveRules:it,replaceAllRules:mr,browseRules:Gn,clearRules:Zn}})}},initAnalytics:function(){return function(h){return function(w){var O=w.region||"us",_=b(Q.WithinHeaders,w.appId,w.apiKey),M=ke(r(r({hosts:[{url:"analytics.".concat(O,".algolia.com")}]},w),{},{headers:r(r(r({},_.headers()),{"content-type":"application/json"}),w.headers),queryParameters:r(r({},_.queryParameters()),w.queryParameters)}));return B({appId:w.appId,transporter:M},w.methods)}(r(r(r({},l),h),{},{methods:{addABTest:fn,getABTest:pn,getABTests:gn,stopABTest:mn,deleteABTest:hn}}))}},initPersonalization:P,initRecommendation:function(){return function(h){return y.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),P()(h)}}}}))}return zt.version="4.18.0",zt})})(cn);var Eo=cn.exports;const Po=Wr(Eo),xo=Po("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),dn=xo.initIndex("npm-search"),_o=async(t,n=0,s=10)=>{try{const u=Io(t);if(!u)return{response:null,query:t};const r={page:n,hitsPerPage:s,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:u.facetFilters?u.facetFilters:void 0},c=await dn.search(u.query,r);return c.hits.sort((m,p)=>m.name===u.query?-1:p.name===u.query?1:0),{response:c,query:t}}catch{return{response:null,query:t}}},So=async t=>dn.getObject(t),Do=/\s*(?:[a-z]+)\s*:\s*(?:.(?![a-z]*\s*:))*/gi,To=/^((?:(?:[^\s:]+(?![a-z]*\s*:))\s*)*)/i,Gt={author:"owner.name",type:"moduleTypes"};function Io(t){const n=t.match(To)?.[0].trim();if(n==null)return;const s=t,u=[];let r;for(;(r=Do.exec(s))!==null;){const c=r[0].split(":");Gt[c[0].trim()]&&u.push(Gt[c[0].trim()]+":"+c[1].trim())}return{query:n,facetFilters:u.join(",")}}const de=t=>(Gr("data-v-c472691b"),t=t(),Xr(),t),Oo={key:0},jo={class:"result-list"},Ao={class:"pkgName"},qo={class:"meta"},Ko=["onClick"],zo=["src","alt"],$o=de(()=>V("span",{class:"i-icon-park-outline-tag-one"},null,-1)),Ro=["title"],Mo=de(()=>V("span",{class:"i-icon-park-outline-balance-two"},null,-1)),Lo={key:0,class:"description"},Bo={key:1},Fo=de(()=>V("span",{class:"i-icon-park-outline-return"},null,-1)),Uo={key:0},Ho=de(()=>V("b",null,"名称: ",-1)),Wo={key:1},Jo=de(()=>V("b",null,"主页: ",-1)),Vo={key:2},Qo=de(()=>V("b",null,"简介: ",-1)),Go={key:3},Xo=de(()=>V("b",null,"仓库: ",-1)),Yo={key:4},Zo=de(()=>V("b",null,"协议: ",-1)),es={key:5},ts=de(()=>V("b",null,"作者: ",-1)),ns={key:7},rs=de(()=>V("b",null,"版本: ",-1)),as={key:8},os=de(()=>V("b",null,"默认文件: ",-1)),ss={key:9},is=de(()=>V("b",null,"文件列表",-1)),us=de(()=>V("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)),ls=[is,us],cs={key:0,flex:"","items-center":""},ds=de(()=>V("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),fs={key:1,flex:"","items-center":""},hs=de(()=>V("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),ps=10,gs=se({__name:"cdnQuery",setup(t){let n=null;const s=J(!1),u=J(""),r=J(""),c=J(0),m=J([]),p=J(0),K=J(""),g=J(null),x=J(""),b=J([]),k=J(null),d=J([]),z=ue(()=>d.value&&d.value.length?q(d.value):[]);async function B(N=0){if(!u.value){s.value=!1,g.value=null,x.value="",b.value=[],m.value=[],c.value=0,p.value=0,r.value="";return}n&&clearTimeout(n),n=window.setTimeout(async()=>{s.value=!0;const{response:C,query:f}=await _o(u.value,N,ps);if(f===u.value){if(C){const{hits:R,page:U,nbHits:D}=C;m.value=R,p.value=D,c.value=U,r.value="done"}else Qr.warning("搜索失败");s.value=!1}},200)}function S(N){u.value="author:"+N,B(0)}async function Q(N){K.value=N,g.value=null,x.value="",b.value=[],k.value=null,d.value=[];try{g.value=await So(N),x.value=g.value.version??"",await H()}catch(C){console.error(C.message)}}async function H(){try{b.value=[],k.value=null,d.value=[],b.value=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${g.value?.name??""}`)).data.versions.map(f=>({label:f,value:f}));const{default:N,files:C}=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${g.value?.name??""}@${x.value}`)).data;k.value=N,d.value=C}catch(N){console.error(N.message)}}function q(N,C){return N.map(f=>{const R=C?`${C}/${f.name}`:`/${f.name}`;return{label:f.name,icon:f.type==="directory"?"Folder":"",isLeaf:f.type!=="directory",fileName:R,children:f.type==="directory"&&f.files?q(f.files,R):void 0}})}return(N,C)=>{const f=ia,R=ua,U=la,D=en,j=aa,E=wo,ie=Xa,Ne=an,we=on,ke=ca,Ue=ra,A=ho;return I(),L(me,null,[G(R,null,{default:X(()=>[V("blockquote",null,[V("ul",null,[V("li",null,[oe(" 数据来自: "),G(f,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:X(()=>[oe(" JSDelivr ")]),_:1})]),V("li",null,[oe(" 搜索接口来自: "),G(f,{href:"https://www.algolia.com/",target:"_blank"},{default:X(()=>[oe(" Algolia ")]),_:1})])])])]),_:1}),G(U,{level:3},{default:X(()=>[oe(" 请输入要获取CDN的库名 ")]),_:1}),G(D,{modelValue:v(u),"onUpdate:modelValue":C[0]||(C[0]=T=>Mt(u)?u.value=T:null),placeholder:"jquery",clearable:"",onChange:C[1]||(C[1]=T=>B(0))},null,8,["modelValue"]),(I(),ne(Vr,null,[v(r)==="done"?(I(),L(me,{key:0},[G(j),v(K)?(I(),L(me,{key:1},[G(f,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:C[3]||(C[3]=T=>K.value=null)},{default:X(()=>[Fo,oe(" 返回 ")]),_:1}),v(g)?(I(),ne(Ue,{key:0,class:"metaDetail"},{default:X(()=>[V("ul",null,[v(g).name?(I(),L("li",Uo,[Ho,oe(ee(v(g).name),1)])):Y("",!0),v(g).homepage?(I(),L("li",Wo,[Jo,G(f,{href:v(g).homepage,target:"_blank"},{default:X(()=>[oe(ee(v(g).homepage),1)]),_:1},8,["href"])])):Y("",!0),v(g).description?(I(),L("li",Vo,[Qo,oe(ee(v(g).description),1)])):Y("",!0),v(g).repository?(I(),L("li",Go,[Xo,oe(ee(v(g).repository.type)+" / ",1),G(f,{href:v(g).repository.url,target:"_blank"},{default:X(()=>[oe(ee(v(g).repository.url),1)]),_:1},8,["href"])])):Y("",!0),v(g).license?(I(),L("li",Yo,[Zo,oe(ee(v(g).license),1)])):Y("",!0),v(g).owner?(I(),L("li",es,[ts,oe(ee(v(g).owner.name)+" / ",1),G(f,{href:v(g).owner.link,target:"_blank"},{default:X(()=>[oe(ee(v(g).owner.link),1)]),_:1},8,["href"])])):Y("",!0),v(b).length?(I(),ne(j,{key:6})):Y("",!0),v(b).length?(I(),L("li",ns,[rs,G(we,{modelValue:v(x),"onUpdate:modelValue":C[4]||(C[4]=T=>Mt(x)?x.value=T:null),options:v(b),onChange:H},{default:X(()=>[(I(!0),L(me,null,Oe(v(b),T=>(I(),ne(Ne,{key:T.value,value:T.value,label:T.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):Y("",!0),v(k)?(I(),L("li",as,[os,G(ke,{copyable:{text:`https://cdn.jsdelivr.net/npm/${v(g).name}@${v(x)}${v(k)}`}},{default:X(()=>[G(f,{href:`https://cdn.jsdelivr.net/npm/${v(g).name}@${v(x)}${v(k)}`,target:"_blank"},{default:X(()=>[oe(ee(v(k)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):Y("",!0),v(d)&&v(d).length?(I(),L("li",ss,ls)):Y("",!0)])]),_:1})):Y("",!0),v(g)&&v(d)&&v(d).length?(I(),ne(A,{key:1,data:v(z),selectable:!1},{default:X(({data:T})=>[T.isLeaf?(I(),L("div",cs,[ds,G(ke,{copyable:{text:`https://cdn.jsdelivr.net/npm/${v(g).name}@${v(x)}${T.fileName}`}},{default:X(()=>[oe(ee(T.label),1)]),_:2},1032,["copyable"])])):(I(),L("div",fs,[hs,G(ke,null,{default:X(()=>[oe(ee(T.label),1)]),_:2},1024)]))]),_:1},8,["data"])):Y("",!0)],64)):(I(),L(me,{key:0},[G(U,{level:4},{default:X(()=>[V("span",null,"共找到 "+ee(v(p))+" 个库",1),v(p)>1e3?(I(),L("span",Oo,"，最多展示前 1000 个结果")):Y("",!0)]),_:1}),V("div",jo,[(I(!0),L(me,null,Oe(v(m),T=>(I(),L("div",{key:T.objectID,class:"result-list-item"},[V("div",Ao,[G(U,{level:4,onClick:pe=>Q(T.objectID)},{default:X(()=>[oe(ee(T.name),1)]),_:2},1032,["onClick"])]),V("div",qo,[T.owner?(I(),L("div",{key:0,class:"owner",onClick:pe=>S(T.owner.name)},[V("img",{src:T.owner.avatar,alt:T.owner.name},null,8,zo),V("div",null,ee(T.owner.name),1)],8,Ko)):Y("",!0),T.version?(I(),ne(E,{key:1},{icon:X(()=>[$o]),default:X(()=>[V("span",{title:T.version},ee(T.version),9,Ro)]),_:2},1024)):Y("",!0),T.license?(I(),ne(E,{key:2},{icon:X(()=>[Mo]),default:X(()=>[oe(" "+ee(T.license),1)]),_:2},1024)):Y("",!0)]),T.description?(I(),L("div",Lo,ee(T.description),1)):Y("",!0),T.keywords&&T.keywords.length?(I(),L("div",Bo,[(I(!0),L(me,null,Oe(T.keywords,(pe,ye)=>(I(),ne(E,{key:ye},{default:X(()=>[oe(ee(pe),1)]),_:2},1024))),128))])):Y("",!0)]))),128))]),G(ie,{layout:"prev,jumper,next",total:v(p)>1e3?1e3:v(p),"hide-on-single-page":!0,onCurrentChange:C[2]||(C[2]=T=>B(T-1))},null,8,["total"])],64))],64)):Y("",!0)],1024))],64)}}});const js=Yr(gs,[["__scopeId","data-v-c472691b"]]);export{js as default};
