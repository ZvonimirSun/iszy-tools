var V=Object.defineProperty,H=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var b=(e,o,n)=>o in e?V(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,m=(e,o)=>{for(var n in o||(o={}))E.call(o,n)&&b(e,n,o[n]);if(U)for(var n of U(o))G.call(o,n)&&b(e,n,o[n]);return e},k=(e,o)=>H(e,j(o));import{a5 as J,bi as B,ag as P,ah as $,a4 as O,aL as R,T as z,ae as M,j as T,c as f,f as t,y as r,a as d,J as g,r as s,o as c,ab as w,h as i,L as I,p as Q,b as W,K as X}from"./vendor.53be07e2.js";/* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               */import{u as S}from"./index.ec96793c.js";import{_ as Y}from"./index.fcf5c9e4.js";const{TabPane:Z}=B,{Item:x}=P,{Password:ee}=$,{mapGetters:oe,mapActions:ne}=J("imgHosting"),ae={name:"ImgHostingSettings",components:{Tabs:B,TabPane:Z,Form:P,Item:x,Input:$,Password:ee,Button:O,Switch:R,Typography:z,Divider:M},data:()=>({uploaders:S,currentUploader:"aliyun",currentConfig:[],currentCommonConfig:{renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0}}),computed:m({},oe(["config","uploader","commonConfig"])),mounted(){this.uploader&&(this.currentUploader=this.uploader),this.changeUploader(),this.currentCommonConfig=T(this.commonConfig||{})},methods:k(m({},ne(["saveConfig","saveCommonConfig","importConfig"])),{changeUploader(){this.currentConfig=T(S[this.currentUploader].config(this.config(this.currentUploader)))},save(){const e={};for(const o of this.currentConfig){if(o.required&&(o.default==null||o.default==="")){this.$msg.warn("\u5FC5\u586B\u9879\u672A\u586B\u5199\u5B8C\u6574");return}e[o.name]=o.default}this.saveConfig({uploader:this.currentUploader,config:e}),this.$msg.success("\u4FDD\u5B58\u6210\u529F")},handler(){this.$refs.file.click()}})},N=e=>(Q("data-v-17ac37b5"),e=e(),W(),e),te=N(()=>d("h4",null,"\u901A\u7528\u914D\u7F6E",-1)),re={class:"commonConfigPanel"},se=N(()=>d("h4",null,"\u56FE\u5E8A\u8BBE\u7F6E",-1)),le={class:"configPanel"},ce={class:"configTable"},de={class:"configOperator"},ie=X(" \u4FDD\u5B58 ");function ue(e,o,n,pe,me,h){const _=s("Typography"),C=s("Switch"),u=s("Item"),v=s("Form"),q=s("Divider"),A=s("Input"),D=s("Password"),F=s("Button"),K=s("TabPane"),L=s("Tabs");return c(),f(g,null,[t(_,null,{default:r(()=>[te]),_:1}),d("div",re,[t(v,{layout:"inline"},{default:r(()=>[t(u,{label:"\u65F6\u95F4\u6233\u91CD\u547D\u540D"},{default:r(()=>[t(C,{checked:e.currentCommonConfig.renameTimeStamp,"onUpdate:checked":o[0]||(o[0]=l=>e.currentCommonConfig.renameTimeStamp=l),onChange:o[1]||(o[1]=l=>e.saveCommonConfig(e.currentCommonConfig))},null,8,["checked"])]),_:1}),t(u,{label:"\u4E0A\u4F20\u540E\u81EA\u52A8\u590D\u5236URL"},{default:r(()=>[t(C,{checked:e.currentCommonConfig.copyUrlAfterUpload,"onUpdate:checked":o[2]||(o[2]=l=>e.currentCommonConfig.copyUrlAfterUpload=l),onChange:o[3]||(o[3]=l=>e.saveCommonConfig(e.currentCommonConfig))},null,8,["checked"])]),_:1})]),_:1})]),t(q),t(_,null,{default:r(()=>[se]),_:1}),t(L,{activeKey:e.currentUploader,"onUpdate:activeKey":o[4]||(o[4]=l=>e.currentUploader=l),type:"card",onChange:h.changeUploader},{default:r(()=>[(c(!0),f(g,null,w(e.uploaders,(l,y)=>(c(),i(K,{key:y,tab:l.name},{default:r(()=>[d("div",le,[d("div",ce,[e.currentUploader===y?(c(),i(v,{key:0,layout:"vertical"},{default:r(()=>[(c(!0),f(g,null,w(e.currentConfig,a=>(c(),i(u,{key:a.name,label:a.label,required:a.required},{default:r(()=>[a.type==="input"?(c(),i(A,{key:0,value:a.default,"onUpdate:value":p=>a.default=p,"allow-clear":"",placeholder:a.hint},null,8,["value","onUpdate:value","placeholder"])):a.type==="password"?(c(),i(D,{key:1,value:a.default,"onUpdate:value":p=>a.default=p,"allow-clear":"",placeholder:a.hint},null,8,["value","onUpdate:value","placeholder"])):I("",!0)]),_:2},1032,["label","required"]))),128))]),_:2},1024)):I("",!0)]),d("div",de,[t(F,{type:"primary",onClick:h.save},{default:r(()=>[ie]),_:1},8,["onClick"])])])]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey","onChange"])],64)}var ke=Y(ae,[["render",ue],["__scopeId","data-v-17ac37b5"]]);export{ke as default};
