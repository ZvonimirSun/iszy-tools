import{Y as e,Z as r,_ as a,$ as o,a0 as t,a as s,o as i,f as n,e as d,b as l,a1 as m,w as u,p as h,h as c,g as p}from"./vendor.47dbce92.js";/* empty css              *//* empty css              */import{_ as g}from"./index.4e0857d2.js";var f=".login-container[data-v-5055a95b] {\n  width: 100%;\n  min-height: 100%;\n  position: relative;\n  padding: 5rem 0 14.4rem;\n}\n.login-container .main[data-v-5055a95b] {\n  min-width: 26rem;\n  width: 36.8rem;\n  margin: 0 auto;\n}\n.login-container .footer[data-v-5055a95b] {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 0 1.6rem;\n  margin: 4.8rem 0 2.4rem;\n  text-align: center;\n  color: #999999;\n}";const{Item:v}=a,{Password:y}=o,w={name:"Login",components:{User:e,Lock:r,Form:a,Input:o,Button:t,Item:v,Password:y},watch:{$route:{handler:function(e){const r=e.query;r&&(this.redirect=r.redirect,this.otherQuery=this.getOtherQuery(r))},immediate:!0}},data:()=>({form:{layout:"horizontal",userName:"",password:""},redirect:void 0,otherQuery:{},loading:!1}),methods:{login(){null!=this.form.userName&&null!=this.form.password&&(this.loading=!0,this.$store.dispatch("user/login",{userName:this.form.userName,password:this.form.password}).then((e=>{e?(this.$msg.success("登录成功！"),this.$router.push({path:this.redirect||"/",query:this.otherQuery}),this.loading=!1):this.$msg.error("用户名或密码错误！")})).catch((()=>{this.$msg.error("用户名或密码错误！")})).finally((()=>{this.loading=!1})))},getOtherQuery:e=>Object.keys(e).reduce(((r,a)=>("redirect"!==a&&(r[a]=e[a]),r)),{})}},b=e=>(h("data-v-5055a95b"),e=e(),c(),e),_={class:"login-container"},x={class:"main"},I=p(" 确定 "),$=b((()=>d("div",{class:"footer"},[d("div",{class:"copyright"}," Copyright © 2020 ISZY")],-1)));function k(e,r,a,o,t,h){const c=s("User"),p=s("Input"),g=s("Item"),f=s("Lock"),v=s("Password"),y=s("Button"),w=s("Form");return i(),n("div",_,[d("div",x,[l(w,m({layout:e.form.layout,model:e.form},{wrapperCol:{span:24}}),{default:u((()=>[l(g,{required:""},{default:u((()=>[l(p,{value:e.form.userName,"onUpdate:value":r[0]||(r[0]=r=>e.form.userName=r),placeholder:"账户",size:"large"},{prefix:u((()=>[l(c,{theme:"outline",style:{color:"rgba(0,0,0,.25)"}})])),_:1},8,["value"])])),_:1}),l(g,{required:""},{default:u((()=>[l(v,{value:e.form.password,"onUpdate:value":r[1]||(r[1]=r=>e.form.password=r),placeholder:"密码",size:"large"},{prefix:u((()=>[l(f,{theme:"outline",style:{color:"rgba(0,0,0,.25)"}})])),_:1},8,["value"])])),_:1}),l(g,null,{default:u((()=>[l(y,{type:"primary",block:"",size:"large",onClick:h.login,loading:e.loading},{default:u((()=>[I])),_:1},8,["onClick","loading"])])),_:1})])),_:1},16,["layout","model"])]),$])}var N=g(w,[["render",k],["__scopeId","data-v-5055a95b"]]);export{N as default};
