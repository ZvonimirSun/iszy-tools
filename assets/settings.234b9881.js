import{_ as $,j as B,cS as Z,k as E,o as s,m as f,a as t,w as a,q as d,F as g,a2 as V,by as h,p as y,c as m,n as b,b as l,co as R,$ as S,B as L}from"./index.6b075e9a.js";import{T as j,_ as Y}from"./index.37e36e6e.js";/* empty css              *//* empty css              */import{_ as T}from"./index.930a66b8.js";import{_ as q}from"./index.9aae888d.js";import{R as N}from"./index.f3cf501b.js";import{_ as F}from"./index.0e40de08.js";import{u as M}from"./index.82f3f3b1.js";import{d as P}from"./debounce.548054c3.js";import{_ as K}from"./FormItem.b9ef37ce.js";import{_ as O}from"./Password.6b43943e.js";import{F as G}from"./Form.119ef02f.js";import"./index.bd23536f.js";import"./Menu.720a4ad0.js";import"./shallowequal.fc3219e2.js";import"./_arrayIncludesWith.91d14080.js";import"./_baseFindIndex.10ef1a58.js";import"./Overflow.72920c68.js";import"./collapseMotion.4df58250.js";import"./useState.3249211e.js";import"./useRefs.a2ebad5c.js";import"./hasIn.eadcf762.js";import"./isMobile.6491fde5.js";import"./useFlexGapSupport.961efcb4.js";import"./Checkbox.e7616636.js";import"./Col.a9a9e3f5.js";import"./responsiveObserve.b9846712.js";import"./toArray.9b72b86f.js";import"./get.0e345cac.js";import"./toInteger.8027272a.js";import"./toFinite.24189daa.js";import"./EyeOutlined.4309515f.js";const{mapGetters:J,mapActions:Q}=B("imgHosting"),W={name:"ImgHostingSettings",data:()=>({uploaders:M,currentUploader:"aliyun",currentConfig:[],currentCommonConfig:{renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0,customCopyContent:"$url"},radioStyle:{display:"flex",height:"32px",lineHeight:"32px"},customContent:"$url"}),computed:{...J(["config","uploader","commonConfig"])},mounted(){this.uploader&&(this.currentUploader=this.uploader),this.changeUploader(),this.currentCommonConfig=Z(this.currentCommonConfig,E(this.commonConfig||{})),this.currentCommonConfig.customCopyContent!=="$url"&&this.currentCommonConfig.customCopyContent!=="![]($url)"&&(this.customContent=this.currentCommonConfig.customCopyContent)},methods:{...Q(["saveConfig","saveCommonConfig","importConfig"]),changeUploader(){this.currentConfig=E(M[this.currentUploader].config(this.config(this.currentUploader)))},save(){const e={};for(const o of this.currentConfig){if(o.required&&(o.default==null||o.default==="")){this.$msg.warn("\u5FC5\u586B\u9879\u672A\u586B\u5199\u5B8C\u6574");return}e[o.name]=o.default}this.saveConfig({uploader:this.currentUploader,config:e}),this.$msg.success("\u4FDD\u5B58\u6210\u529F")},handler(){this.$refs.file.click()},updateConfig:P(function(){this.saveCommonConfig(this.currentCommonConfig)},100),updateCustomCopyContent(e){this.currentCommonConfig.customCopyContent=e,this.updateConfig()}}},X=l(" \u901A\u7528\u914D\u7F6E "),ee={class:"commonConfigPanel"},oe=l(" \u94FE\u63A5\u590D\u5236\u683C\u5F0F "),te=l(" \u6807\u51C6"),ne=l(" MarkDown"),ae=l(" \u81EA\u5B9A\u4E49"),ie=l(" \u56FE\u5E8A\u8BBE\u7F6E "),re={class:"configPanel"},se={class:"configTable"},le={class:"configOperator"},me=l(" \u4FDD\u5B58 ");function de(e,o,pe,ue,ce,r){const p=V,k=F,u=K,v=R,c=N,_=S,x=q,U=T,z=O,H=G,A=L,I=Y,D=j;return s(),f(g,null,[t(p,{level:4},{default:a(()=>[X]),_:1}),d("div",ee,[t(u,{label:"\u65F6\u95F4\u6233\u91CD\u547D\u540D"},{default:a(()=>[t(k,{checked:e.currentCommonConfig.renameTimeStamp,"onUpdate:checked":o[0]||(o[0]=n=>e.currentCommonConfig.renameTimeStamp=n),onChange:r.updateConfig},null,8,["checked","onChange"])]),_:1}),t(u,{label:"\u4E0A\u4F20\u540E\u81EA\u52A8\u590D\u5236URL"},{default:a(()=>[t(k,{checked:e.currentCommonConfig.copyUrlAfterUpload,"onUpdate:checked":o[1]||(o[1]=n=>e.currentCommonConfig.copyUrlAfterUpload=n),onChange:r.updateConfig},null,8,["checked","onChange"])]),_:1}),t(p,{level:5},{default:a(()=>[oe]),_:1}),t(x,null,{default:a(()=>[t(c,{style:h(e.radioStyle),checked:e.currentCommonConfig.customCopyContent==="$url",onChange:o[2]||(o[2]=n=>r.updateCustomCopyContent("$url"))},{default:a(()=>[te,t(v,{code:"",content:"$url"})]),_:1},8,["style","checked"]),t(c,{style:h(e.radioStyle),checked:e.currentCommonConfig.customCopyContent==="![]($url)",onChange:o[3]||(o[3]=n=>r.updateCustomCopyContent("![]($url)"))},{default:a(()=>[ne,t(v,{code:"",content:"![]($url)"})]),_:1},8,["style","checked"]),t(c,{style:h(e.radioStyle),checked:e.currentCommonConfig.customCopyContent===e.customContent,onChange:o[6]||(o[6]=n=>r.updateCustomCopyContent(e.customContent))},{default:a(()=>[ae,t(_,{value:e.customContent,"onUpdate:value":o[4]||(o[4]=n=>e.customContent=n),style:{width:"100px","margin-left":"10px"},onChange:o[5]||(o[5]=n=>r.updateCustomCopyContent(n.target.value))},null,8,["value"])]),_:1},8,["style","checked"])]),_:1})]),t(U),t(p,{level:4},{default:a(()=>[ie]),_:1}),t(D,{activeKey:e.currentUploader,"onUpdate:activeKey":o[7]||(o[7]=n=>e.currentUploader=n),type:"card",onChange:r.changeUploader},{default:a(()=>[(s(!0),f(g,null,y(e.uploaders,(n,w)=>(s(),m(I,{key:w,tab:n.name},{default:a(()=>[d("div",re,[d("div",se,[e.currentUploader===w?(s(),m(H,{key:0,layout:"vertical"},{default:a(()=>[(s(!0),f(g,null,y(e.currentConfig,i=>(s(),m(u,{key:i.name,label:i.label,required:i.required},{default:a(()=>[i.type==="input"?(s(),m(_,{key:0,value:i.default,"onUpdate:value":C=>i.default=C,"allow-clear":"",placeholder:i.hint},null,8,["value","onUpdate:value","placeholder"])):i.type==="password"?(s(),m(z,{key:1,value:i.default,"onUpdate:value":C=>i.default=C,"allow-clear":"",placeholder:i.hint},null,8,["value","onUpdate:value","placeholder"])):b("",!0)]),_:2},1032,["label","required"]))),128))]),_:2},1024)):b("",!0)]),d("div",le,[t(A,{type:"primary",onClick:r.save},{default:a(()=>[me]),_:1},8,["onClick"])])])]),_:2},1032,["tab"]))),128))]),_:1},8,["activeKey","onChange"])],64)}var Ke=$(W,[["render",de],["__scopeId","data-v-1e867a53"]]);export{Ke as default};
