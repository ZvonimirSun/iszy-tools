var d={};let I;const F=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];d.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};d.getSymbolTotalCodewords=function(e){return F[e]};d.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};d.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');I=e};d.isKanjiModeEnabled=function(){return typeof I<"u"};d.toSJIS=function(e){return I(e)};var b={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+c)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(b);var B={};const o=b,C=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],S=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];B.getBlocksCount=function(e,c){switch(c){case o.L:return C[(e-1)*4+0];case o.M:return C[(e-1)*4+1];case o.Q:return C[(e-1)*4+2];case o.H:return C[(e-1)*4+3];default:return}};B.getTotalCodewordsCount=function(e,c){switch(c){case o.L:return S[(e-1)*4+0];case o.M:return S[(e-1)*4+1];case o.Q:return S[(e-1)*4+2];case o.H:return S[(e-1)*4+3];default:return}};var L={},y={};y.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var a={};const M="[0-9]+",U="[A-Z $%*+\\-./:]+";let w="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";w=w.replace(/u/g,"\\u");const J="(?:(?![A-Z0-9 $%*+\\-./:]|"+w+`)(?:.|[\r
]))+`;a.KANJI=new RegExp(w,"g");a.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");a.BYTE=new RegExp(J,"g");a.NUMERIC=new RegExp(M,"g");a.ALPHANUMERIC=new RegExp(U,"g");const K=new RegExp("^"+w+"$"),j=new RegExp("^"+M+"$"),k=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");a.testKanji=function(e){return K.test(e)};a.testNumeric=function(e){return j.test(e)};a.testAlphanumeric=function(e){return k.test(e)};(function(t){const e=y,c=a;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(r,u){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?r.ccBits[0]:u<27?r.ccBits[1]:r.ccBits[2]},t.getBestModeForData=function(r){return c.testNumeric(r)?t.NUMERIC:c.testAlphanumeric(r)?t.ALPHANUMERIC:c.testKanji(r)?t.KANJI:t.BYTE},t.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},t.isValid=function(r){return r&&r.bit&&r.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(r,u){if(t.isValid(r))return r;try{return n(r)}catch{return u}}})(L);var V={};(function(t){function e(c){if(typeof c=="number"&&(c=c.toString()),typeof c!="string")throw new Error("Color should be defined as hex string");let n=c.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+c);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(r){return[r,r]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,r=n.width&&n.width>=21?n.width:void 0,u=n.scale||4;return{width:r,scale:r?4:u,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const r=t.getScale(n,i);return Math.floor((n+i.margin*2)*r)},t.qrToImageData=function(n,i,r){const u=i.modules.size,A=i.modules.data,E=t.getScale(u,r),s=Math.floor((u+r.margin*2)*E),l=r.margin*E,N=[r.color.light,r.color.dark];for(let f=0;f<s;f++)for(let g=0;g<s;g++){let m=(f*s+g)*4,h=r.color.light;if(f>=l&&g>=l&&f<s-l&&g<s-l){const T=Math.floor((f-l)/E),R=Math.floor((g-l)/E);h=N[A[T*u+R]?1:0]}n[m++]=h.r,n[m++]=h.g,n[m++]=h.b,n[m]=h.a}}})(V);export{b as a,V as b,B as e,L as m,a as r,d as u,y as v};
