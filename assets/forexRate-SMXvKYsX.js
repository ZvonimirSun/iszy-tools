import{ae,L as le,Z as H,B as p,a3 as K,bf as z,bg as j,bh as oe,ad as se,bi as q,x as G,q as Z,c as R,b as _,aA as g,aG as ne,o as M,a as A,y as h,t as I,X as Y,F as W,e as J,az as X,W as Q,b7 as ue,ba as ie,bb as ce,aI as re,aJ as fe}from"./vendor-P7BCdu4M.js";import{_ as de,S as ve}from"./ant-design-vue-r1_T4oPT.js";var ee={exports:{}};(function(o,i){(function(a,b){o.exports=b()})(ae,function(){var a="minute",b=/[+-]\d\d(?::?\d\d)?/g,x=/([+-]|\d\d)/g;return function(d,f,v){var l=f.prototype;v.utc=function(e){var t={date:e,utc:!0,args:arguments};return new f(t)},l.utc=function(e){var t=v(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),a):t},l.local=function(){return v(this.toDate(),{locale:this.$L,utc:!1})};var w=l.parse;l.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),w.call(this,e)};var O=l.init;l.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else O.call(this)};var V=l.utcOffset;l.utcOffset=function(e,t){var c=this.$utils().u;if(c(e))return this.$u?0:c(this.$offset)?V.call(this):this.$offset;if(typeof e=="string"&&(e=function(m){m===void 0&&(m="");var D=m.match(b);if(!D)return null;var s=(""+D[0]).match(x)||["-",0,0],T=s[0],y=60*+s[1]+ +s[2];return y===0?0:T==="+"?y:-y}(e),e===null))return this;var r=Math.abs(e)<=16?60*e:e,u=this;if(t)return u.$offset=r,u.$u=e===0,u;if(e!==0){var C=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(u=this.local().add(r+C,a)).$offset=r,u.$x.$localOffset=C}else u=this.utc();return u};var $=l.format;l.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return $.call(this,t)},l.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var E=l.toDate;l.toDate=function(e){return e==="s"&&this.$offset?v(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var S=l.diff;l.diff=function(e,t,c){if(e&&this.$u===e.$u)return S.call(this,e,t,c);var r=this.local(),u=v(e).local();return S.call(r,u,t,c)}}})})(ee);var he=ee.exports;const pe=le(he);function me(...o){const i=typeof o[0]=="string"?o[0]:void 0,a=typeof i=="string"?1:0;let b={},x=K,d={immediate:!!a,shallow:!0};const f=n=>!!(n!=null&&n.request);o.length>0+a&&(f(o[0+a])?x=o[0+a]:b=o[0+a]),o.length>1+a&&f(o[1+a])&&(x=o[1+a]),(o.length===2+a&&!f(o[1+a])||o.length===3+a)&&(d=o[o.length-1]);const{initialData:v,shallow:l,onSuccess:w=z,onError:O=z,immediate:V,resetOnExecute:$=!1}=d,E=H(),S=(l?H:p)(v),e=p(!1),t=p(!1),c=p(!1),r=H(),u=K.CancelToken.source;let C=u();const m=n=>{e.value||!t.value||(C.cancel(n),C=u(),c.value=!0,t.value=!1,e.value=!1)},D=n=>{t.value=n,e.value=!n},s=()=>{$&&(S.value=v)},T=()=>new Promise((n,F)=>{oe(e).toBe(!0).then(()=>r.value?F(r.value):n(B))}),y={then:(...n)=>T().then(...n),catch:(...n)=>T().catch(...n)};let k=0;const N=(n=i,F={})=>{r.value=void 0;const L=typeof n=="string"?n:i??F.url;if(L===void 0)return r.value=new j(j.ERR_INVALID_URL),e.value=!0,y;s(),m(),D(!0),k+=1;const te=k;return c.value=!1,x(L,{...b,...typeof n=="object"?n:F,cancelToken:C.token}).then(U=>{if(c.value)return;E.value=U;const P=U.data;S.value=P,w(P)}).catch(U=>{r.value=U,O(U)}).finally(()=>{var U;(U=d.onFinish)==null||U.call(d),te===k&&D(!1)}),y};V&&i&&N();const B={response:E,data:S,error:r,isFinished:e,isLoading:t,cancel:m,isAborted:c,isCanceled:c,abort:m,execute:N};return{...B,...y}}const _e=o=>(re("data-v-2e242798"),o=o(),fe(),o),be={"w-full":"","h-full":"","overflow-auto":""},$e=_e(()=>A("blockquote",null,"仅供参考，采用第三方接口，数据可能存在延迟",-1)),Ce={__name:"forexRate",setup(o){q.extend(pe);const i=p("USD"),a=p("CNY"),b=p("USD"),x=p("CNY"),d=p(1),f=p(0),v=p([{code:"USD",label:"美元"},{code:"CNY",label:"人民币"},{code:"GBP",label:"英镑"},{code:"EUR",label:"欧元"},{code:"HKD",label:"港币"},{code:"MOP",label:"澳门元"},{code:"JPY",label:"日元"},{code:"CAD",label:"加拿大元"},{code:"AUD",label:"澳大利亚元"},{code:"SGD",label:"新加坡元"},{code:"KRW",label:"韩元"},{code:"PHP",label:"菲律宾比索"},{code:"THB",label:"泰国铢"},{code:"CHF",label:"瑞士法郎"},{code:"NZD",label:"新西兰元"},{code:"DKK",label:"丹麦克朗"},{code:"NOK",label:"挪威克朗"},{code:"SEK",label:"瑞典克朗"},{code:"RUB",label:"卢布"},{code:"MYR",label:"林吉特"},{code:"ZAR",label:"南非兰特"}]),l=G(()=>{const e={};return v.value.forEach(t=>{e[t.code]=t.label}),e}),w=p(""),{data:O,execute:V}=me("https://api.it120.cc/iszy/forex/rate",{params:{fromCode:a.value,toCode:i.value}}),$=G(()=>{var e;return O.value&&((e=O.value.data)==null?void 0:e.rate)||0});Z([i,a],()=>{V==null||V("https://api.it120.cc/iszy/forex/rate",{params:{fromCode:a.value,toCode:i.value}})}),Z($,()=>{w.value=q.utc().format("M月D日 UTC HH:mm"),b.value=i.value,x.value=a.value,f.value=d.value*$.value});function E(){f.value=parseFloat((d.value*$.value).toFixed(4))}function S(){d.value=parseFloat((f.value/$.value).toFixed(4))}return(e,t)=>{const c=de,r=ve,u=ue,C=ie,m=ce,D=ne;return M(),R("div",be,[_(c,null,{default:g(()=>[$e]),_:1}),_(D,{gap:8,direction:"vertical",style:{margin:"0 auto"}},{default:g(()=>[A("div",null,[_(r,{title:`1 ${h(l)[h(b)]} 等于`,value:`${h($)} ${h(l)[h(x)]}`},null,8,["title","value"]),_(c,null,{default:g(()=>[A("blockquote",null,"查询时间: "+I(h(w)),1)]),_:1})]),_(D,{gap:8},{default:g(()=>[_(u,{modelValue:h(d),"onUpdate:modelValue":t[0]||(t[0]=s=>Y(d)?d.value=s:null),modelModifiers:{number:!0},class:"w-50",onChange:E},null,8,["modelValue"]),_(m,{modelValue:h(i),"onUpdate:modelValue":t[1]||(t[1]=s=>Y(i)?i.value=s:null),class:"w-50"},{default:g(()=>[(M(!0),R(W,null,J(h(v),(s,T)=>(M(),X(C,{key:T,value:s.code},{default:g(()=>[Q(I(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),_(D,{gap:8},{default:g(()=>[_(u,{modelValue:h(f),"onUpdate:modelValue":t[2]||(t[2]=s=>Y(f)?f.value=s:null),modelModifiers:{number:!0},class:"w-50",onChange:S},null,8,["modelValue"]),_(m,{modelValue:h(a),"onUpdate:modelValue":t[3]||(t[3]=s=>Y(a)?a.value=s:null),class:"w-50"},{default:g(()=>[(M(!0),R(W,null,J(h(v),(s,T)=>(M(),X(C,{key:T,value:s.code},{default:g(()=>[Q(I(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])}}},xe=se(Ce,[["__scopeId","data-v-2e242798"]]);export{xe as default};
