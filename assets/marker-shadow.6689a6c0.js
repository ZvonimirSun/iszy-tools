import{l as p}from"./leaflet-src.398fb188.js";const g=p.exports.TileLayer.extend({initialize:function(e,t={}){const o=this.providers,a=e.split("."),i=a[0],l=a[1],r=a[2],s=o[i][l][r];t.subdomains=o[i].Subdomains,"tms"in o[i]&&(t.tms=o[i].tms),p.exports.TileLayer.prototype.initialize.call(this,s,t)}});function z(e,t={}){return t.csysType=o(e),new g(e,t);function o(a){const l=a.split(".")[0];let r="wgs84";switch(l){case"Geoq":case"GaoDe":case"Google":r="gcj02";break;case"Baidu":r="bd09";break;case"OSM":case"TianDiTu":r="wgs84";break}return r}}const n=Math.PI,c=6378245,d=.006693421622965943,f=n*3e3/180;g.include({providers:{TianDiTu:{Normal:{Map:"//t{s}.tianditu.gov.cn/DataServer?T=vec_w&X={x}&Y={y}&L={z}&tk={key}",Annotation:"//t{s}.tianditu.gov.cn/DataServer?T=cva_w&X={x}&Y={y}&L={z}&tk={key}"},Satellite:{Map:"//t{s}.tianditu.gov.cn/DataServer?T=img_w&X={x}&Y={y}&L={z}&tk={key}",Annotation:"//t{s}.tianditu.gov.cn/DataServer?T=cia_w&X={x}&Y={y}&L={z}&tk={key}"},Terrain:{Map:"//t{s}.tianditu.gov.cn/DataServer?T=ter_w&X={x}&Y={y}&L={z}&tk={key}",Annotation:"//t{s}.tianditu.gov.cn/DataServer?T=cta_w&X={x}&Y={y}&L={z}&tk={key}"},Subdomains:["0","1","2","3","4","5","6","7"],key:""},GaoDe:{Normal:{Map:"//webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}"},Satellite:{Map:"//webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",Annotation:"//webst0{s}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}"},Subdomains:["1","2","3","4"]},Google:{Normal:{Map:"//www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}"},Satellite:{Map:"//www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}",Annotation:"//www.google.cn/maps/vt?lyrs=y@189&gl=cn&x={x}&y={y}&z={z}"},Subdomains:[]},Geoq:{Normal:{Map:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}",PurplishBlue:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",Gray:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}",Warm:"//map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}"},Theme:{Hydro:"//thematic.geoq.cn/arcgis/rest/services/ThematicMaps/WorldHydroMap/MapServer/tile/{z}/{y}/{x}"},Subdomains:[]},OSM:{Normal:{Map:"//{s}.tile.osm.org/{z}/{x}/{y}.png"},Subdomains:["a","b","c"]},Baidu:{Normal:{Map:"//online{s}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1"},Satellite:{Map:"//shangetu{s}.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46",Annotation:"//online{s}.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&v=020"},Subdomains:"0123456789",tms:!0}},csysConvert:{bd09_To_gps84:function(e,t){const o=this.bd09_To_gcj02(e,t);return this.gcj02_To_gps84(o.lng,o.lat)},gps84_To_bd09:function(e,t){const o=this.gps84_To_gcj02(e,t);return this.gcj02_To_bd09(o.lng,o.lat)},gps84_To_gcj02:function(e,t){let o=m(e-105,t-35),a=b(e-105,t-35);const i=t/180*n;let l=Math.sin(i);l=1-d*l*l;const r=Math.sqrt(l);o=o*180/(c*(1-d)/(l*r)*n),a=a*180/(c/r*Math.cos(i)*n);const s=t+o;return{lng:e+a,lat:s}},gcj02_To_gps84:function(e,t){const o=u(e,t),a=e*2-o.lng,i=t*2-o.lat;return{lng:a,lat:i}},gcj02_To_bd09:function(e,t){const o=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*f),a=Math.atan2(t,e)+3e-6*Math.cos(e*f),i=o*Math.cos(a)+.0065,l=o*Math.sin(a)+.006;return{lng:i,lat:l}},bd09_To_gcj02:function(e,t){const o=e-.0065,a=t-.006,i=Math.sqrt(o*o+a*a)-2e-5*Math.sin(a*f),l=Math.atan2(a,o)-3e-6*Math.cos(o*f),r=i*Math.cos(l),s=i*Math.sin(l);return{lng:r,lat:s}}},_setZoomTransform:function(e,t,o){let a=t;a!=null&&this.options&&(this.options.csysType==="gcj02"?a=this.csysConvert.gps84_To_gcj02(t.lng,t.lat):this.options.csysType==="bd09"&&(a=this.csysConvert.gps84_To_bd09(t.lng,t.lat)));const i=this._map.getZoomScale(o,e.zoom),l=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(a,o)).round();p.exports.Browser.any3d?p.exports.DomUtil.setTransform(e.el,l,i):p.exports.DomUtil.setPosition(e.el,l)},_getTiledPixelBounds:function(e){let t=e;t!=null&&this.options&&(this.options.csysType==="gcj02"?t=this.csysConvert.gps84_To_gcj02(e.lng,e.lat):this.options.csysType==="bd09"&&(t=this.csysConvert.gps84_To_bd09(e.lng,e.lat)));const o=this._map,a=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),i=o.getZoomScale(a,this._tileZoom),l=o.project(t,this._tileZoom).floor(),r=o.getSize().divideBy(i*2);return new p.exports.Bounds(l.subtract(r),l.add(r))}});function u(e,t){let o=m(e-105,t-35),a=b(e-105,t-35);const i=t/180*n;let l=Math.sin(i);l=1-d*l*l;const r=Math.sqrt(l);o=o*180/(c*(1-d)/(l*r)*n),a=a*180/(c/r*Math.cos(i)*n);const s=t+o;return{lng:e+a,lat:s}}function m(e,t){let o=-100+2*e+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return o+=(20*Math.sin(6*e*n)+20*Math.sin(2*e*n))*2/3,o+=(20*Math.sin(t*n)+40*Math.sin(t/3*n))*2/3,o+=(160*Math.sin(t/12*n)+320*Math.sin(t*n/30))*2/3,o}function b(e,t){let o=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return o+=(20*Math.sin(6*e*n)+20*Math.sin(2*e*n))*2/3,o+=(20*Math.sin(e*n)+40*Math.sin(e/3*n))*2/3,o+=(150*Math.sin(e/12*n)+300*Math.sin(e/30*n))*2/3,o}var y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";export{g as C,z as c,y as m};
