import{_ as t}from"./container.29f5f960.js";import{J as e}from"./jsoneditor.min.6f6a2be0.js";import{c as n}from"./createFile.aec58ef8.js";import{$ as o,ad as a,ae as i,af as r,ag as d,ah as s,s as l,ai as c,aj as h,ak as f,al as m,p,a as g,am as b,b as u,c as j,w as v,o as E,f as L,e as w,h as x}from"./vendor.11098cc6.js";/* empty css              *//* empty css              */var y=".editorPanel[data-v-40a56b22] {\n  display: flex;\n  height: 100%;\n}\n@media (max-width: 1024px) {\n.editorPanel[data-v-40a56b22] {\n    height: calc(100% - 3.2rem - 1.2rem);\n}\n}\n.editorPanel .controller[data-v-40a56b22] {\n  height: 100%;\n  width: 10rem;\n  text-align: center;\n}\n.editorPanel .controller .ant-space[data-v-40a56b22] {\n  margin-top: 10rem;\n  width: 80%;\n}\n.editorPanel .controller .ant-space[data-v-40a56b22] .ant-btn {\n  display: flex;\n  align-items: center;\n}\n.editorPanel .controller .ant-space[data-v-40a56b22] .ant-btn .i-icon {\n  font-size: 1.8rem;\n}\n.editorPanel .controller .ant-space[data-v-40a56b22] .ant-btn .i-icon + span, .editorPanel .controller .ant-space[data-v-40a56b22] .ant-btn span + .i-icon {\n  margin-left: 0;\n}\n.editorPanel[data-v-40a56b22] .jsonEditor {\n  height: 100%;\n  width: calc(50% - 5rem);\n}\n.editorPanel[data-v-40a56b22] .jsonEditor .ace-jsoneditor *, .editorPanel[data-v-40a56b22] .jsonEditor textarea.jsoneditor-text *, .editorPanel[data-v-40a56b22] .jsonEditor code, .editorPanel[data-v-40a56b22] .jsonEditor pre {\n  font-family: JetBrains Mono, monospace;\n}\n@media (max-width: 1024px) {\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorLeft {\n    width: 100%;\n}\n}\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorLeft .differentElement {\n  background-color: pink;\n}\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorLeft .differentElement .jsoneditor-field, .editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorLeft .differentElement .jsoneditor-value {\n  color: red;\n}\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorRight .differentElement {\n  background-color: #acee61;\n}\n.editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorRight .differentElement .jsoneditor-field, .editorPanel[data-v-40a56b22] .jsonEditor.jsonEditorRight .differentElement .jsoneditor-value {\n  color: red;\n}\n@media (max-width: 1024px) {\n.noShowMobile[data-v-40a56b22] {\n    display: none !important;\n}\n}\n@media (min-width: 1024px) {\n.showMobile[data-v-40a56b22] {\n    display: none !important;\n}\n}\n@media (max-width: 1024px) {\n.ant-space[data-v-40a56b22] {\n    margin-top: 1.2rem;\n}\n}\n[data-v-40a56b22] .jsoneditor-poweredBy {\n  display: none;\n}";const R={name:"JsonEditor",components:{Container:t,Button:o,Space:a,Checkbox:i,Right:r,Left:d},data:()=>({editorLeft:null,editorRight:null,codeLeft:{Array:[1,2,3],Boolean:!0,Null:null,Number:123,Object:{a:"b",c:"d"},String:"Hello World"},codeRight:{Array:[1,2,3],Boolean:!0,Null:null,Number:123,Object:{a:"b",c:"d"},String:"Hello World"},diff:!0}),mounted(){this.init()},methods:{init(){this.editorLeft=s(new e(this.$refs.jsonEditorLeft,{mode:"code",modes:["code","tree"],onClassName:this.onClassName,onChangeText:t=>{this.codeLeft=JSON.parse(t),this.editorRight.refresh()},autocomplete:{applyTo:["value"],filter:"contain",trigger:"focus",getOptions:(t,e,n,o)=>new Promise(((t,e)=>{const n=this.extractUniqueWords(o.get());n.length>0?t(n):e(new Error("noOptions"))}))}},this.codeLeft)),this.editorRight=s(new e(this.$refs.jsonEditorRight,{mode:"tree",modes:["code","tree"],onClassName:this.onClassName,onChangeText:t=>{this.codeRight=JSON.parse(t),this.editorLeft.refresh()},autocomplete:{applyTo:["value"],filter:"contain",trigger:"focus",getOptions:(t,e,n,o)=>new Promise(((t,e)=>{const n=this.extractUniqueWords(o.get());n.length>0?t(n):e(new Error("noOptions"))}))}},this.codeRight))},copyRight(){this.codeRight=l(this.codeLeft),this.editorRight.update(this.codeRight),this.editorLeft.refresh()},copyLeft(){this.codeLeft=l(this.codeRight),this.editorLeft.update(this.codeLeft),this.editorRight.refresh()},download(){n(this.editorLeft.getText(),"main.json")},changeDiff(){this.editorLeft.refresh(),this.editorRight.refresh()},onClassName({path:t}){const e=c(this.codeLeft,t),n=c(this.codeRight,t);return this.diff?h(e,n)?"":"differentElement":""},extractUniqueWords:t=>f(m(t,(function(t,e){return b(t)?[e]:[e,String(t)]})))},beforeUnmount(){this.editorLeft&&this.editorLeft.destroy(),this.editorRight&&this.editorRight.destroy()}};p("data-v-40a56b22");const P={class:"editorPanel"},k={ref:"jsonEditorLeft",class:"jsonEditor jsonEditorLeft"},C={class:"controller noShowMobile"},N=x("复制 "),_=x(" 复制 "),S=x(" 下载 "),O=x("Diff"),B={ref:"jsonEditorRight",class:"jsonEditor jsonEditorRight noShowMobile"},M=x(" 下载 ");function J(t,e,n,o,a,i){const r=u("Right"),d=u("Button"),s=u("Left"),l=u("Checkbox"),c=u("Space"),h=u("container");return E(),j(h,null,{default:v((()=>[L("div",P,[L("div",k,null,512),L("div",C,[w(c,{direction:"vertical"},{default:v((()=>[w(d,{type:"primary",onClick:i.copyRight,block:""},{default:v((()=>[N,w(r,{theme:"outline"})])),_:1},8,["onClick"]),w(d,{type:"primary",onClick:i.copyLeft,block:""},{default:v((()=>[w(s,{theme:"outline"}),_])),_:1},8,["onClick"]),w(d,{type:"primary",onClick:i.download,block:""},{default:v((()=>[S])),_:1},8,["onClick"]),w(l,{checked:t.diff,"onUpdate:checked":e[0]||(e[0]=e=>t.diff=e),onChange:i.changeDiff},{default:v((()=>[O])),_:1},8,["checked","onChange"])])),_:1})]),L("div",B,null,512)]),w(c,{class:"showMobile"},{default:v((()=>[w(d,{type:"primary",onClick:i.download},{default:v((()=>[M])),_:1},8,["onClick"])])),_:1})])),_:1})}g(),R.render=J,R.__scopeId="data-v-40a56b22";export{R as default};
