import{_ as G,a as V,r as A,I as h,i as j,J as Be,y as m,a0 as Pe,A as x,b as ce,d as M,aI as pe,c as O,bo as L,ac as re,bp as en,X as De,aH as nn,aa as on,K as N,g as Y,o as F,w as s,C as u,b0 as tn,bq as ln,aK as rn,aJ as z,t as H,x as Z,aW as sn,ar as de,h as se,br as an,aF as Me,bs as un,E as we,u as ye,aL as dn,bt as cn,aY as pn,bu as Ke,Y as Ae,v as f,j as fn,P as be,N as mn,bv as ke,n as gn,k as vn,b1 as je,bj as Te,V as bn,a7 as Q,D as P,z as $e,M as ie,ad as X,L as wn,Q as yn}from"./index-BrEFJmNm.js";import{c as Le,E as In}from"./el-dialog-Do5Zn-SU.js";import{E as _n}from"./el-space-KxvBc_si.js";import{u as le,r as hn,a as ve,O as En,E as Cn}from"./el-popper-CycdaFL5.js";import{f as ue,v as kn}from"./jse-theme-dark-DtgRKHSP.js";import{c as Se}from"./createFile-DoOLLo7t.js";import{f as Tn}from"./formatBytes-aAslYXQD.js";import{c as Ne}from"./clone-CelRWtFt.js";import{c as $n}from"./castArray-BcYYRqOe.js";import{P as Sn,b as Nn}from"./Router-CY_jKmDv.js";const On=V({inheritAttrs:!1});function Fn(e,o,g,t,p,w){return A(e.$slots,"default")}var Rn=G(On,[["render",Fn],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Bn=V({name:"ElCollectionItem",inheritAttrs:!1});function Pn(e,o,g,t,p,w){return A(e.$slots,"default")}var Dn=G(Bn,[["render",Pn],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Ve="data-el-collection-item",Mn=e=>{const o=`El${e}Collection`,g=`${o}Item`,t=Symbol(o),p=Symbol(g),w=Object.assign({},Rn,{name:o,setup(){const a=h(),I=new Map;x(t,{itemMap:I,getItems:()=>{const c=m(a);if(!c)return[];const l=Array.from(c.querySelectorAll(`[${Ve}]`));return[...I.values()].sort((y,C)=>l.indexOf(y.ref)-l.indexOf(C.ref))},collectionRef:a})}}),i=Object.assign({},Dn,{name:g,setup(a,{attrs:I}){const E=h(),c=j(t,void 0);x(p,{collectionItemRef:E}),Be(()=>{const l=m(E);l&&c.itemMap.set(l,{ref:l,...I})}),Pe(()=>{const l=m(E);c.itemMap.delete(l)})}});return{COLLECTION_INJECTION_KEY:t,COLLECTION_ITEM_INJECTION_KEY:p,ElCollection:w,ElCollectionItem:i}},Kn=ce({style:{type:M([String,Array,Object])},currentTabId:{type:M(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:M(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:An,ElCollectionItem:jn,COLLECTION_INJECTION_KEY:ze,COLLECTION_ITEM_INJECTION_KEY:Ln}=Mn("RovingFocusGroup"),Ie=Symbol("elRovingFocusGroup"),Ge=Symbol("elRovingFocusGroupItem"),Vn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},zn=(e,o)=>e,Gn=(e,o,g)=>{const t=pe(e),p=zn(t);return Vn[p]},Un=(e,o)=>e.map((g,t)=>e[(t+o)%e.length]),Oe=e=>{const{activeElement:o}=document;for(const g of e)if(g===o||(g.focus(),o!==document.activeElement))return},Fe="currentTabIdChange",Re="rovingFocusGroup.entryFocus",Jn={bubbles:!1,cancelable:!0},Wn=V({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Kn,emits:[Fe,"entryFocus"],setup(e,{emit:o}){var g;const t=h((g=e.currentTabId||e.defaultCurrentTabId)!=null?g:null),p=h(!1),w=h(!1),i=h(),{getItems:a}=j(ze,void 0),I=O(()=>[{outline:"none"},e.style]),E=v=>{o(Fe,v)},c=()=>{p.value=!0},l=L(v=>{var b;(b=e.onMousedown)==null||b.call(e,v)},()=>{w.value=!0}),r=L(v=>{var b;(b=e.onFocus)==null||b.call(e,v)},v=>{const b=!m(w),{target:B,currentTarget:T}=v;if(B===T&&b&&!m(p)){const _=new Event(Re,Jn);if(T?.dispatchEvent(_),!_.defaultPrevented){const D=a().filter(K=>K.focusable),J=D.find(K=>K.active),U=D.find(K=>K.id===m(t)),ee=[J,U,...D].filter(Boolean).map(K=>K.ref);Oe(ee)}}w.value=!1}),y=L(v=>{var b;(b=e.onBlur)==null||b.call(e,v)},()=>{p.value=!1}),C=(...v)=>{o("entryFocus",...v)},R=v=>{const b=Gn(v);if(b){v.preventDefault();let T=a().filter(_=>_.focusable).map(_=>_.ref);switch(b){case"last":{T.reverse();break}case"prev":case"next":{b==="prev"&&T.reverse();const _=T.indexOf(v.currentTarget);T=e.loop?Un(T,_+1):T.slice(_+1);break}}on(()=>{Oe(T)})}};x(Ie,{currentTabbedId:en(t),loop:re(e,"loop"),tabIndex:O(()=>m(p)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:I,orientation:re(e,"orientation"),dir:re(e,"dir"),onItemFocus:E,onItemShiftTab:c,onBlur:y,onFocus:r,onMousedown:l,onKeydown:R}),De(()=>e.currentTabId,v=>{t.value=v??null}),nn(i,Re,C)}});function Hn(e,o,g,t,p,w){return A(e.$slots,"default")}var Yn=G(Wn,[["render",Hn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const qn=V({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:An,ElRovingFocusGroupImpl:Yn}});function Qn(e,o,g,t,p,w){const i=N("el-roving-focus-group-impl"),a=N("el-focus-group-collection");return F(),Y(a,null,{default:s(()=>[u(i,tn(ln(e.$attrs)),{default:s(()=>[A(e.$slots,"default")]),_:3},16)]),_:3})}var Xn=G(qn,[["render",Qn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const Zn=ce({trigger:{...ve.trigger,type:M([String,Array])},triggerKeys:{type:M(Array),default:()=>[z.enter,z.numpadEnter,z.space,z.down]},virtualTriggering:ve.virtualTriggering,virtualRef:ve.virtualRef,effect:{...le.effect,default:"light"},type:{type:M(String)},placement:{type:M(String),default:"bottom"},popperOptions:{type:M(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:M([Number,String]),default:0},maxHeight:{type:M([Number,String]),default:""},popperClass:le.popperClass,popperStyle:le.popperStyle,disabled:Boolean,role:{type:String,values:hn,default:"menu"},buttonProps:{type:M(Object)},teleported:le.teleported,appendTo:le.appendTo,persistent:{type:Boolean,default:!0}}),Ue=ce({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:rn}}),xn=ce({onKeydown:{type:M(Function)}}),fe=Symbol("elDropdown"),Je="elDropdown",{ButtonGroup:eo}=we,no=V({name:"ElDropdown",components:{ElButton:we,ElButtonGroup:eo,ElScrollbar:un,ElTooltip:Cn,ElRovingFocusGroup:Xn,ElOnlyChild:En,ElIcon:Me,ArrowDown:an},props:Zn,emits:["visible-change","click","command"],setup(e,{emit:o}){const g=Ae(),t=ye("dropdown"),{t:p}=dn(),w=h(),i=h(),a=h(),I=h(),E=h(null),c=h(null),l=h(!1),r=O(()=>({maxHeight:cn(e.maxHeight)})),y=O(()=>[t.m(_.value)]),C=O(()=>$n(e.trigger)),R=Ke().value,v=O(()=>e.id||R);function b(){var k;(k=a.value)==null||k.onClose(void 0,0)}function B(){var k;(k=a.value)==null||k.onClose()}function T(){var k;(k=a.value)==null||k.onOpen()}const _=pn();function D(...k){o("command",...k)}function J(){}function U(){const k=m(I);C.value.includes("hover")&&k?.focus({preventScroll:!0}),c.value=null}function ae(k){c.value=k}function ee(){o("visible-change",!0)}function K(k){var ne;l.value=k?.type==="keydown",(ne=I.value)==null||ne.focus()}function me(){o("visible-change",!1)}return x(fe,{contentRef:I,role:O(()=>e.role),triggerId:v,isUsingKeyboard:l,onItemEnter:J,onItemLeave:U,handleClose:B}),x(Je,{instance:g,dropdownSize:_,handleClick:b,commandHandler:D,trigger:re(e,"trigger"),hideOnClick:re(e,"hideOnClick")}),{t:p,ns:t,scrollbar:E,wrapStyle:r,dropdownTriggerKls:y,dropdownSize:_,triggerId:v,currentTabId:c,handleCurrentTabIdChange:ae,handlerMainButtonClick:k=>{o("click",k)},handleClose:B,handleOpen:T,handleBeforeShowTooltip:ee,handleShowTooltip:K,handleBeforeHideTooltip:me,popperRef:a,contentRef:I,triggeringElementRef:w,referenceElementRef:i}}});function oo(e,o,g,t,p,w){var i;const a=N("el-roving-focus-group"),I=N("el-scrollbar"),E=N("el-only-child"),c=N("el-tooltip"),l=N("el-button"),r=N("arrow-down"),y=N("el-icon"),C=N("el-button-group");return F(),H("div",{class:se([e.ns.b(),e.ns.is("disabled",e.disabled)])},[u(c,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"popper-style":e.popperStyle,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-arrow":e.showArrow,"show-after":e.trigger==="hover"?e.showTimeout:0,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"virtual-ref":(i=e.virtualRef)!=null?i:e.triggeringElementRef,"virtual-triggering":e.virtualTriggering||e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,"append-to":e.appendTo,pure:"","focus-on-target":"",persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},sn({content:s(()=>[u(I,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:s(()=>[u(a,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange},{default:s(()=>[A(e.$slots,"dropdown")]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:s(()=>[u(E,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:s(()=>[A(e.$slots,"default")]),_:3},8,["id","tabindex"])]),key:"0"}]),1032,["role","effect","popper-options","placement","popper-class","popper-style","trigger","trigger-keys","trigger-target-el","show-arrow","show-after","hide-after","virtual-ref","virtual-triggering","disabled","transition","teleported","append-to","persistent","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(F(),Y(C,{key:0},{default:s(()=>[u(l,de({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:s(()=>[A(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),u(l,de({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:s(()=>[u(y,{class:se(e.ns.e("icon"))},{default:s(()=>[u(r)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Z("v-if",!0)],2)}var to=G(no,[["render",oo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const lo=V({components:{ElRovingFocusCollectionItem:jn},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:g,onItemFocus:t,onItemShiftTab:p,onKeydown:w}=j(Ie,void 0),i=Ke(),a=h(),I=L(r=>{o("mousedown",r)},r=>{e.focusable?t(m(i)):r.preventDefault()}),E=L(r=>{o("focus",r)},()=>{t(m(i))}),c=L(r=>{o("keydown",r)},r=>{const{shiftKey:y,target:C,currentTarget:R}=r;if(pe(r)===z.tab&&y){p();return}C===R&&w(r)}),l=O(()=>g.value===m(i));return x(Ge,{rovingFocusGroupItemRef:a,tabIndex:O(()=>m(l)?0:-1),handleMousedown:I,handleFocus:E,handleKeydown:c}),{id:i,handleKeydown:c,handleFocus:E,handleMousedown:I}}});function ro(e,o,g,t,p,w){const i=N("el-roving-focus-collection-item");return F(),Y(i,{id:e.id,focusable:e.focusable,active:e.active},{default:s(()=>[A(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var so=G(lo,[["render",ro],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const ao=V({name:"DropdownItemImpl",components:{ElIcon:Me},props:Ue,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const g=ye("dropdown"),{role:t}=j(fe,void 0),{collectionItemRef:p}=j(Ln,void 0),{rovingFocusGroupItemRef:w,tabIndex:i,handleFocus:a,handleKeydown:I,handleMousedown:E}=j(Ge,void 0),c=Le(p,w),l=O(()=>t.value==="menu"?"menuitem":t.value==="navigation"?"link":"button"),r=L(y=>{const C=pe(y);if([z.enter,z.numpadEnter,z.space].includes(C))return y.preventDefault(),y.stopImmediatePropagation(),o("clickimpl",y),!0},I);return{ns:g,itemRef:c,dataset:{[Ve]:""},role:l,tabIndex:i,handleFocus:a,handleKeydown:r,handleMousedown:E}}}),io=["aria-disabled","tabindex","role"];function uo(e,o,g,t,p,w){const i=N("el-icon");return F(),H(mn,null,[e.divided?(F(),H("li",{key:0,role:"separator",class:se(e.ns.bem("menu","item","divided"))},null,2)):Z("v-if",!0),f("li",de({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=a=>e.$emit("clickimpl",a)),onFocus:o[1]||(o[1]=(...a)=>e.handleFocus&&e.handleFocus(...a)),onKeydown:o[2]||(o[2]=be((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:o[3]||(o[3]=(...a)=>e.handleMousedown&&e.handleMousedown(...a)),onPointermove:o[4]||(o[4]=a=>e.$emit("pointermove",a)),onPointerleave:o[5]||(o[5]=a=>e.$emit("pointerleave",a))}),[e.icon?(F(),Y(i,{key:0},{default:s(()=>[(F(),Y(fn(e.icon)))]),_:1})):Z("v-if",!0),A(e.$slots,"default")],16,io)],64)}var co=G(ao,[["render",uo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const We=()=>{const e=j(Je,{}),o=O(()=>e?.dropdownSize);return{elDropdown:e,_elDropdownSize:o}},po=V({name:"ElDropdownItem",components:{ElRovingFocusItem:so,ElDropdownItemImpl:co},inheritAttrs:!1,props:Ue,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:g}){const{elDropdown:t}=We(),p=Ae(),{onItemEnter:w,onItemLeave:i}=j(fe,void 0),a=L(l=>(o("pointermove",l),l.defaultPrevented),ke(l=>{if(e.disabled){i(l);return}const r=l.currentTarget;r===document.activeElement||r.contains(document.activeElement)||(w(l),l.defaultPrevented||r?.focus({preventScroll:!0}))})),I=L(l=>(o("pointerleave",l),l.defaultPrevented),ke(i)),E=L(l=>{if(!e.disabled)return o("click",l),l.type!=="keydown"&&l.defaultPrevented},l=>{var r,y,C;if(e.disabled){l.stopImmediatePropagation();return}(r=t?.hideOnClick)!=null&&r.value&&((y=t.handleClick)==null||y.call(t)),(C=t.commandHandler)==null||C.call(t,e.command,p,l)}),c=O(()=>({...e,...g}));return{handleClick:E,handlePointerMove:a,handlePointerLeave:I,propsAndAttrs:c}}});function fo(e,o,g,t,p,w){const i=N("el-dropdown-item-impl"),a=N("el-roving-focus-item");return F(),Y(a,{focusable:!e.disabled},{default:s(()=>[u(i,de(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:s(()=>[A(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])}var He=G(po,[["render",fo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const mo=V({name:"ElDropdownMenu",props:xn,setup(e){const o=ye("dropdown"),{_elDropdownSize:g}=We(),t=g.value,{contentRef:p,role:w,triggerId:i,isUsingKeyboard:a,handleClose:I}=j(fe,void 0),{rovingFocusGroupRef:E,rovingFocusGroupRootStyle:c,onBlur:l,onFocus:r,onKeydown:y,onMousedown:C}=j(Ie,void 0),{collectionRef:R}=j(ze,void 0),v=O(()=>[o.b("menu"),o.bm("menu",t?.value)]),b=Le(p,E,R),B=L(_=>{var D;(D=e.onKeydown)==null||D.call(e,_)},_=>{const{currentTarget:D,target:J}=_,U=pe(_);if(D.contains(J),z.tab===U)return I();y(_)});function T(_){a.value&&r(_)}return{size:t,rovingFocusGroupRootStyle:c,dropdownKls:v,role:w,triggerId:i,dropdownListWrapperRef:b,handleKeydown:B,onBlur:l,handleFocus:T,onMousedown:C}}}),go=["role","aria-labelledby"];function vo(e,o,g,t,p,w){return F(),H("ul",{ref:e.dropdownListWrapperRef,class:se(e.dropdownKls),style:gn(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onFocusin:o[0]||(o[0]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onFocusout:o[1]||(o[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onKeydown:o[2]||(o[2]=be((...i)=>e.handleKeydown&&e.handleKeydown(...i),["self"])),onMousedown:o[3]||(o[3]=be((...i)=>e.onMousedown&&e.onMousedown(...i),["self"]))},[A(e.$slots,"default")],46,go)}var Ye=G(mo,[["render",vo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const bo=vn(to,{DropdownItem:He,DropdownMenu:Ye}),wo=je(He),yo=je(Ye),Io={key:0,class:"json-editor-menu"},_o={key:0,class:"editorTitle"},ho={class:"buttonWithIcon"},Eo={class:"dialog-footer"},Co=V({__name:"VanillaJsonEditor",props:{content:{default:void 0},config:{default:()=>({mode:"text"})},showMenuBar:{type:Boolean,default:!1},name:{default:""}},emits:["change","create","changeName","open","openRecent","delete"],setup(e,{expose:o,emit:g}){const t=e,p=g,w=Te(),i=["content","mode","mainMenuBar","navigationBar","statusBar","readOnly","indentation","tabSize","escapeControlCharacters","escapeUnicodeCharacters","validator","onError","onChange","onChangeMode","onClassName","onRenderValue","onRenderMenu","queryLanguages","queryLanguageId","onChangeQueryLanguage","onFocus","onBlur"],a=h(),I=h(),E=h();let c;const l=h(""),r=h(2),y=h(!1),C=h(!1),R=h(!1),v=h(""),b=O(()=>{if(C.value){const d=c.get();let n,$;return ue(d)?$=d.json:$=d.text,typeof $=="string"?n="字符串类型":Array.isArray($)?n=`数组类型，包含 ${$.length} 个对象`:$&&typeof $=="object"?n=`对象类型，包含 ${Object.keys($).length} 个属性`:n="其他类型",{name:l.value,storage:l.value?"浏览器本地":"",updated:"",content:n,size:Tn(typeof $=="string"?$.length:JSON.stringify($,null,r.value).length)}}else return{}});let B=!1;o({container:I,update:U,set:ae,refresh:K,get:ee});let T={};Be(()=>{a.value&&(T=Ne(t.config),c=kn({target:a.value,props:{content:{json:{}},onChange:d=>{B||(ue(d)?p("change",d.json):p("change",d.text))},indentation:r.value,..._e(T,i)}}),t.config.indentation&&(r.value=t.config.indentation))}),Pe(()=>{c?.destroy()}),De(()=>Te().isDark,()=>{c?.refresh()}),bn(()=>{let d=!1;for(const n in t.config)if(t.config[n]!==T[n]){d=!0;break}d&&(T=Ne(t.config),c?.updateProps(_e(T,i))),t.content!=null&&U(t.content),l.value=t.name,c?.refresh()});function _(){c.set({json:{}}),p("create")}function D(d){switch(d){case"file":E.value?.click();break;case"recent":p("openRecent");break}}function J(d){const n=d.target;if(n.files&&n.files.length){const $=n.files[0];if(!$)return;const S=new FileReader;S.onload=()=>{S.result&&p("open",{name:$.name,content:S.result})},S.readAsText($)}n.value=""}function U(d){B=!0;let n;d!=null&&(typeof d=="string"?n=d:n=JSON.stringify(d,null,r.value),c.update({text:n})),setTimeout(()=>{B=!1},0)}function ae(d){B=!0,d!=null&&(typeof d=="string"?c.set({text:d}):c.set({json:d})),setTimeout(()=>{B=!1},0)}function ee(){const d=c.get();return ue(d)?d.json:d.text}function K(){c?.refresh()}function me(){const d=c.get(),n=l.value?`${l.value}.json`:"未命名.json";ue(d)?Se(JSON.stringify(d.json),n):Se(d.text,n)}let ge=r.value;function k(d){switch(d){case"indentation":ge=r.value,y.value=!0;break;case"properties":C.value=!0;break;case"delete":p("delete");break}}function ne(){r.value=ge,y.value=!1}function qe(){c.updateProps({indentation:r.value}),y.value=!1}function Qe(){v.value=l.value,R.value=!0}function Xe(){R.value=!1}function Ze(){v.value&&p("changeName",v.value),R.value=!1}function _e(d,n){const $={};for(const S of n)d[S]!==void 0&&($[S]=d[S]);return $}return(d,n)=>{const $=wn,S=we,oe=wo,he=yo,Ee=bo,xe=_n,q=Sn,Ce=In,te=Nn;return F(),H("div",{ref_key:"container",ref:I,class:"json-editor-wrapper"},[e.showMenuBar?(F(),H("div",Io,[m(l)&&!m(R)?(F(),H("div",_o,[P($e(m(l))+" ",1),f("i",{class:"i-icon-park-outline-edit",onClick:Qe})])):Z("",!0),m(R)?(F(),Y($,{key:1,modelValue:m(v),"onUpdate:modelValue":n[0]||(n[0]=W=>ie(v)?v.value=W:null),class:"name-editor",placeholder:"请输入名称"},{suffix:s(()=>[f("i",{class:"i-icon-park-outline-close",onClick:Xe}),f("i",{class:"i-icon-park-outline-check",onClick:Ze})]),_:1},8,["modelValue"])):Z("",!0),u(xe,{class:"editorControlButtons"},{default:s(()=>[u(S,{size:"small",type:"primary",onClick:_},{default:s(()=>[...n[4]||(n[4]=[f("span",{class:"buttonWithIcon"},[f("span",{class:"i-icon-park-outline-file-addition-one"}),P(" 新建")],-1)])]),_:1}),u(Ee,{onCommand:D},{dropdown:s(()=>[u(he,null,{default:s(()=>[u(oe,{command:"recent"},{default:s(()=>[...n[5]||(n[5]=[f("span",{class:"buttonWithIcon"},[f("span",{class:"i-icon-park-outline-history"}),P(" 打开最近记录")],-1)])]),_:1}),u(oe,{command:"file"},{default:s(()=>[...n[6]||(n[6]=[f("span",{class:"buttonWithIcon"},[f("span",{class:"i-icon-park-outline-computer"}),P(" 打开本地文件")],-1)])]),_:1})]),_:1})]),default:s(()=>[u(S,{size:"small",type:"primary"},{default:s(()=>[...n[7]||(n[7]=[f("span",{class:"buttonWithIcon"},[f("span",{class:"i-icon-park-outline-folder-open"}),P(" 打开"),f("span",{class:"i-icon-park-outline-down"})],-1)])]),_:1})]),_:1}),u(S,{size:"small",type:"primary",onClick:me},{default:s(()=>[...n[8]||(n[8]=[f("span",{class:"buttonWithIcon"},[f("span",{class:"i-icon-park-outline-save"}),P(" 保存")],-1)])]),_:1}),u(Ee,{onCommand:k},{dropdown:s(()=>[u(he,null,{default:s(()=>[u(oe,{command:"indentation"},{default:s(()=>[f("span",ho,[n[9]||(n[9]=f("span",{class:"i-icon-park-outline-indent-right"},null,-1)),P(" 缩进("+$e(m(r))+")",1)])]),_:1}),u(oe,{command:"properties"},{default:s(()=>[...n[10]||(n[10]=[f("span",{class:"buttonWithIcon"},[f("span",{class:"i-icon-park-outline-info"}),P(" 文档属性")],-1)])]),_:1}),u(oe,{command:"delete"},{default:s(()=>[...n[11]||(n[11]=[f("span",{class:"buttonWithIcon"},[f("span",{class:"i-icon-park-outline-delete"}),P(" 删除文档")],-1)])]),_:1})]),_:1})]),default:s(()=>[u(S,{size:"small",type:"primary"},{default:s(()=>[...n[12]||(n[12]=[f("span",{class:"buttonWithIcon"},[f("span",{class:"i-icon-park-outline-setting-two"}),P(" 选项"),f("span",{class:"i-icon-park-outline-down"})],-1)])]),_:1})]),_:1})]),_:1})])):Z("",!0),f("div",{ref_key:"jsonEditorDiv",ref:a,class:se(["json-editor",{"jse-theme-dark":m(w).isDark}])},null,2),Q(f("input",{ref_key:"uploader",ref:E,type:"file",accept:".json,.geojson,.txt",onChange:J},null,544),[[X,!1]]),u(Ce,{modelValue:m(y),"onUpdate:modelValue":n[2]||(n[2]=W=>ie(y)?y.value=W:null),title:"设置缩进","before-close":ne},{footer:s(()=>[f("span",Eo,[u(S,{onClick:ne},{default:s(()=>[...n[14]||(n[14]=[P("取消",-1)])]),_:1}),u(S,{type:"primary",onClick:qe},{default:s(()=>[...n[15]||(n[15]=[P(" 确定 ",-1)])]),_:1})])]),default:s(()=>[u(q,null,{default:s(()=>[...n[13]||(n[13]=[P("配置代码模式下用于缩进的空格数。 缩进同时应用于两个面板。",-1)])]),_:1}),u($,{modelValue:m(r),"onUpdate:modelValue":n[1]||(n[1]=W=>ie(r)?r.value=W:null),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1},8,["modelValue"]),u(Ce,{modelValue:m(C),"onUpdate:modelValue":n[3]||(n[3]=W=>ie(C)?C.value=W:null),title:"文档属性",class:"documentProperties"},{default:s(()=>[u(q,null,{default:s(()=>[n[16]||(n[16]=f("strong",null,"名称：",-1)),Q(u(te,{content:m(b).name},null,8,["content"]),[[X,m(b).name]])]),_:1}),u(q,null,{default:s(()=>[n[17]||(n[17]=f("strong",null,"存储：",-1)),Q(u(te,{content:m(b).storage},null,8,["content"]),[[X,m(b).storage]])]),_:1}),u(q,null,{default:s(()=>[n[18]||(n[18]=f("strong",null,"更新：",-1)),Q(u(te,{content:m(b).updated},null,8,["content"]),[[X,m(b).updated]])]),_:1}),u(q,null,{default:s(()=>[n[19]||(n[19]=f("strong",null,"内容：",-1)),Q(u(te,{content:m(b).content},null,8,["content"]),[[X,m(b).content]])]),_:1}),u(q,null,{default:s(()=>[n[20]||(n[20]=f("strong",null,"大小：",-1)),Q(u(te,{content:m(b).size},null,8,["content"]),[[X,m(b).size]])]),_:1})]),_:1},8,["modelValue"])],512)}}}),Do=yn(Co,[["__scopeId","data-v-27220758"]]);export{Do as V};
