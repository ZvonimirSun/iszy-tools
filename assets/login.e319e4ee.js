import{d as C,r as u,cP as I,u as z,cQ as K,j as q,m as S,o as j,J as E,L as i,a as t,w as s,c0 as y,b,cR as Q,I as R,B as V,b0 as D,b1 as L,_ as O}from"./index.305a1921.js";/* empty css              *//* empty css               */import{_ as P}from"./FormItem.24755645.js";import{_ as U}from"./Password.5fe92f41.js";import{F as $}from"./Form.b06a62bc.js";import"./Col.0be4cf10.js";import"./responsiveObserve.79d0750d.js";import"./useFlexGapSupport.484f27ab.js";import"./toArray.a3e4f541.js";import"./get.ba89fa72.js";import"./hasIn.1432d864.js";import"./toInteger.7f355146.js";import"./toFinite.db5623be.js";import"./_baseFindIndex.10ef1a58.js";import"./collapseMotion.7bd58bb1.js";import"./EyeOutlined.c71b9b79.js";import"./_arrayIncludesWith.91d14080.js";const h=n=>(D("data-v-fb9a2b60"),n=n(),L(),n),J={class:"login-container"},T={class:"main"},A=h(()=>i("span",{class:"i-icon-park-outline-user",style:{color:"rgba(0,0,0,.25)"}},null,-1)),G=h(()=>i("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),H={class:"btn-wrapper"},M=C({__name:"login",setup(n){const o=u({userName:"",password:""}),m=u(void 0),f=u({}),l=u(!1),w=I(),v=z(),B=K(),p=q("$msg");S(B,function(a){const e=a.query;e&&(m.value=e.redirect,f.value=F(e))},{immediate:!0});async function c(){if(!navigator.onLine){p.warn("\u5DF2\u79BB\u7EBF\uFF01");return}if(o.value.userName!=null&&o.value.password!=null){l.value=!0;try{await w.dispatch("user/login",{userName:o.value.userName,password:o.value.password}),p.success("\u767B\u5F55\u6210\u529F\uFF01"),v.push({path:m.value||"/",query:f.value})}catch(a){p.error(a.message)}l.value=!1}}function F(a){return Object.keys(a).reduce((e,r)=>(r!=="redirect"&&(e[r]=a[r]),e),{})}function k(){v.push("/register")}return(a,e)=>{const r=R,_=P,x=U,g=V,N=$;return j(),E("div",J,[i("div",T,[t(N,Q({layout:"horizontal",model:o.value},{wrapperCol:{span:24}}),{default:s(()=>[t(_,{required:""},{default:s(()=>[t(r,{value:o.value.userName,"onUpdate:value":e[0]||(e[0]=d=>o.value.userName=d),placeholder:"\u8D26\u6237",size:"large",onKeypress:y(c,["enter"])},{prefix:s(()=>[A]),_:1},8,["value","onKeypress"])]),_:1}),t(_,{required:""},{default:s(()=>[t(x,{value:o.value.password,"onUpdate:value":e[1]||(e[1]=d=>o.value.password=d),placeholder:"\u5BC6\u7801",size:"large",onKeypress:y(c,["enter"])},{prefix:s(()=>[G]),_:1},8,["value","onKeypress"])]),_:1}),t(_,null,{default:s(()=>[i("div",H,[t(g,{type:"primary",block:"",size:"large",loading:l.value,onClick:c},{default:s(()=>[b(" \u767B\u5F55 ")]),_:1},8,["loading"]),t(g,{block:"",size:"large",onClick:k},{default:s(()=>[b(" \u6CE8\u518C ")]),_:1})])]),_:1})]),_:1},16,["model"])])])}}});const me=O(M,[["__scopeId","data-v-fb9a2b60"]]);export{me as default};
