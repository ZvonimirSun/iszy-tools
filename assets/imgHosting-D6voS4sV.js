import{h as jr,j as cc,k as tt,u as Vr,q as se,E as Re,t as St,v as W,s as Xt,L as Ke,H as Br,G as gt,F as pe,x as Xu,_ as Kr,z as uc,r as it,b3 as Zu,p as Di,R as Qe,T as Xn,a7 as Zn,o as Qu,aG as Yu,am as Ju,X as ht,Y as Dt,K as G,aB as $i,b4 as ed,b5 as td,Q as nd,P as sd,b6 as Ir,n as xs,w as re,aA as Ge,a0 as Qn,W as kn,$ as rd,N as id,ab as od}from"./index-pX3VYlhd.js";import{E as dc,a as lc}from"./el-tab-pane-CepHXvpq.js";import{E as ad}from"./el-empty-eYtcvR3D.js";import{E as cd}from"./el-popover-C4vww7g6.js";import"./el-popper-CrExonT8.js";import{E as ud}from"./el-image-viewer-DX2CTLEw.js";import{_ as Gr,a as Wr,b as fc}from"./tslib.es6-C-xmt75I.js";import{v as tn,T as dd,a as ld}from"./Router-hgmec9MI.js";import{a as fd,E as hd}from"./el-form-item-BGPNF090.js";import{E as pd}from"./el-divider-Byxtf5gV.js";import{E as gd,a as md}from"./el-radio-group-suxXhfSy.js";/* empty css                 */import{E as yd}from"./el-switch-DHdRHBD_.js";import{E as bd}from"./el-upload-Db0dGQGM.js";import"./el-progress-DBSN2Gxd.js";import"./strings-DyvLTimu.js";import"./index-C84jhKwe.js";import"./isUndefined-DCTLXrZ8.js";import"./castArray-qnELWmr7.js";const wd=jr({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:cc([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),xd=tt({name:"ElCard"}),Ed=tt({...xd,props:wd,setup(e){const t=Vr("card");return(n,s)=>(se(),Re("div",{class:St([W(t).b(),W(t).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(se(),Re("div",{key:0,class:St(W(t).e("header"))},[Xt(n.$slots,"header",{},()=>[Ke(Br(n.header),1)])],2)):gt("v-if",!0),pe("div",{class:St([W(t).e("body"),n.bodyClass]),style:Xu(n.bodyStyle)},[Xt(n.$slots,"default")],6),n.$slots.footer||n.footer?(se(),Re("div",{key:1,class:St(W(t).e("footer"))},[Xt(n.$slots,"footer",{},()=>[Ke(Br(n.footer),1)])],2)):gt("v-if",!0)],2))}});var Sd=Kr(Ed,[["__file","card.vue"]]);const Ad=uc(Sd),Cd=jr({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:cc([Number,Object])}}),vd=jr({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),Rd=tt({name:"ElSkeletonItem"}),kd=tt({...Rd,props:vd,setup(e){const t=Vr("skeleton");return(n,s)=>(se(),Re("div",{class:St([W(t).e("item"),W(t).e(n.variant)])},[n.variant==="image"?(se(),it(W(Zu),{key:0})):gt("v-if",!0)],2))}});var $n=Kr(kd,[["__file","skeleton-item.vue"]]);const _d=(e,t=0)=>{if(t===0)return e;const n=Di(t)&&!!t.initVal,s=Qe(n);let r=null;const i=a=>{if(Yu(a)){s.value=e.value;return}r&&clearTimeout(r),r=setTimeout(()=>{s.value=e.value},a)},o=a=>{a==="leading"?Qu(t)?i(t):i(t.leading):Di(t)?i(t.trailing):s.value=!1};return Xn(()=>o("leading")),Zn(()=>e.value,a=>{o(a?"leading":"trailing")}),s},Td=tt({name:"ElSkeleton"}),Bd=tt({...Td,props:Cd,setup(e,{expose:t}){const n=e,s=Vr("skeleton"),r=_d(Ju(n,"loading"),n.throttle);return t({uiLoading:r}),(i,o)=>W(r)?(se(),Re("div",$i({key:0,class:[W(s).b(),W(s).is("animated",i.animated)]},i.$attrs),[(se(!0),Re(ht,null,Dt(i.count,a=>(se(),Re(ht,{key:a},[W(r)?Xt(i.$slots,"template",{key:a},()=>[G($n,{class:St(W(s).is("first")),variant:"p"},null,8,["class"]),(se(!0),Re(ht,null,Dt(i.rows,c=>(se(),it($n,{key:c,class:St([W(s).e("paragraph"),W(s).is("last",c===i.rows&&i.rows>1)]),variant:"p"},null,8,["class"]))),128))]):gt("v-if",!0)],64))),128))],16)):Xt(i.$slots,"default",ed($i({key:1},i.$attrs)))}});var Id=Kr(Bd,[["__file","skeleton.vue"]]);const Nd=uc(Id,{SkeletonItem:$n}),Pd=td($n),Md=e=>{let t=e.httpHandler;return{setHttpHandler(n){t=n},httpHandler(){return t},updateHttpClientConfig(n,s){t.updateHttpClientConfig(n,s)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},Od=e=>({httpHandler:e.httpHandler()});var Ui;(function(e){e.HEADER="header",e.QUERY="query"})(Ui||(Ui={}));var Li;(function(e){e.HEADER="header",e.QUERY="query"})(Li||(Li={}));var nn;(function(e){e.HTTP="http",e.HTTPS="https"})(nn||(nn={}));var Un;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Un||(Un={}));var Hi;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Hi||(Hi={}));const Nr="__smithy_context";var zi;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(zi||(zi={}));var qi;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(qi||(qi={}));class fe{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){const n=new fe({...t,headers:{...t.headers}});return n.query&&(n.query=Fd(n.query)),n}static isInstance(t){if(!t)return!1;const n=t;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return fe.clone(this)}}function Fd(e){return Object.keys(e).reduce((t,n)=>{const s=e[n];return{...t,[n]:Array.isArray(s)?[...s]:s}},{})}class sn{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const n=t;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}function Dd(e){return t=>async n=>{var r,i;const{request:s}=n;return fe.isInstance(s)&&s.body&&e.runtime==="node"&&((i=(r=e.requestHandler)==null?void 0:r.constructor)==null?void 0:i.name)!=="FetchHttpHandler"&&(s.headers={...s.headers,Expect:"100-continue"}),t({...n,request:s})}}const $d={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Ud=e=>({applyToStack:t=>{t.add(Dd(e),$d)}}),hc={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Ld=hc.WHEN_SUPPORTED,Hd=hc.WHEN_SUPPORTED;var ie;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(ie||(ie={}));var ji;(function(e){e.HEADER="header",e.TRAILER="trailer"})(ji||(ji={}));const zd=ie.MD5,qd=ie.CRC32;var Vi;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Vi||(Vi={}));function jd(e,t,n){return e.$source||(e.$source={}),e.$source[t]=n,e}function Ie(e,t,n){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=n}const Ki=e=>{var t,n;return sn.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((n=e.headers)==null?void 0:n.Date):void 0},Xr=e=>new Date(Date.now()+e),Vd=(e,t)=>Math.abs(Xr(t).getTime()-e)>=3e5,Gi=(e,t)=>{const n=Date.parse(e);return Vd(n,t)?n-Date.now():t},Zt=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},pc=async e=>{var u,d,h;const t=Zt("context",e.context),n=Zt("config",e.config),s=(h=(d=(u=t.endpointV2)==null?void 0:u.properties)==null?void 0:d.authSchemes)==null?void 0:h[0],i=await Zt("signer",n.signer)(s),o=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingRegionSet,c=e==null?void 0:e.signingName;return{config:n,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}};class gc{async sign(t,n,s){var h;if(!fe.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const r=await pc(s),{config:i,signer:o}=r;let{signingRegion:a,signingName:c}=r;const u=s.context;if(((h=u==null?void 0:u.authSchemes)==null?void 0:h.length)??!1){const[l,p]=u.authSchemes;(l==null?void 0:l.name)==="sigv4a"&&(p==null?void 0:p.name)==="sigv4"&&(a=(p==null?void 0:p.signingRegion)??a,c=(p==null?void 0:p.signingName)??c)}return await o.sign(t,{signingDate:Xr(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return n=>{const s=n.ServerTime??Ki(n.$response);if(s){const r=Zt("config",t.config),i=r.systemClockOffset;r.systemClockOffset=Gi(s,r.systemClockOffset),r.systemClockOffset!==i&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(t,n){const s=Ki(t);if(s){const r=Zt("config",n.config);r.systemClockOffset=Gi(s,r.systemClockOffset)}}}class Kd extends gc{async sign(t,n,s){var l;if(!fe.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await pc(s),d=(await((l=r.sigv4aSigningRegionSet)==null?void 0:l.call(r))??a??[o]).join(",");return await i.sign(t,{signingDate:Xr(r.systemClockOffset),signingRegion:d,signingService:c})}}const zt=e=>e[Nr]||(e[Nr]={}),Ye=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t};function Gd(e){const t=new Map;for(const n of e)t.set(n.schemeId,n);return t}const Wd=(e,t)=>(n,s)=>async r=>{var u;const i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,s,r.input)),o=Gd(e.httpAuthSchemes),a=zt(s),c=[];for(const d of i){const h=o.get(d.schemeId);if(!h){c.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}const l=h.identityProvider(await t.identityProviderConfigProvider(e));if(!l){c.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:p={},signingProperties:x={}}=((u=d.propertiesExtractor)==null?void 0:u.call(d,e,s))||{};d.identityProperties=Object.assign(d.identityProperties||{},p),d.signingProperties=Object.assign(d.signingProperties||{},x),a.selectedHttpAuthScheme={httpAuthOption:d,identity:await l(d.identityProperties),signer:h.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(c.join(`
`));return n(r)},Xd={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Zd=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n})=>({applyToStack:s=>{s.addRelativeTo(Wd(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:n}),Xd)}}),Qd=(e,t)=>n=>async s=>{const{response:r}=await n(s);try{const i=await t(r,e);return{response:r,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:r}),!("$metadata"in i)){const o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+o,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},Yd=(e,t)=>(n,s)=>async r=>{var a;const i=(a=s.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(s.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const o=await t(r.input,{...e,endpoint:i});return n({...r,request:o})},Jd={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Zr={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Yn(e,t,n){return{applyToStack:s=>{s.add(Qd(e,n),Jd),s.add(Yd(e,t),Zr)}}}Zr.name;const el=e=>t=>{throw t},tl=(e,t)=>{},nl=e=>(t,n)=>async s=>{if(!fe.isInstance(s.request))return t(s);const i=zt(n).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,u=await t({...s,request:await c.sign(s.request,a,o)}).catch((c.errorHandler||el)(o));return(c.successHandler||tl)(u.response,o),u},mc={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},sl=e=>({applyToStack:t=>{t.addRelativeTo(nl(),mc)}}),Pt=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},rl=async(e,t,n,...s)=>await t.send(new e(n),...s);function il(e,t,n,s,r){return async function*(o,a,...c){let u=o.startingToken||void 0,d=!0,h;for(;d;){if(a[n]=u,a[r]=a[r]??o.pageSize,o.client instanceof e)h=await rl(t,o.client,a,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;const l=u;u=ol(h,s),d=!!(u&&(!o.stopOnSameToken||u!==l))}return void 0}}const ol=(e,t)=>{let n=e;const s=t.split(".");for(const r of s){if(!n||typeof n!="object")return;n=n[r]}return n},mt={},qt=new Array(64);for(let e=0,t=65,n=90;e+t<=n;e++){const s=String.fromCharCode(e+t);mt[s]=e,qt[e]=s}for(let e=0,t=97,n=122;e+t<=n;e++){const s=String.fromCharCode(e+t),r=e+26;mt[s]=r,qt[r]=s}for(let e=0;e<10;e++){mt[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;mt[t]=n,qt[n]=t}mt["+"]=62;qt[62]="+";mt["/"]=63;qt[63]="/";const Ot=6,Qt=8,al=63,yc=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const n=new ArrayBuffer(t),s=new DataView(n);for(let r=0;r<e.length;r+=4){let i=0,o=0;for(let u=r,d=r+3;u<=d;u++)if(e[u]!=="="){if(!(e[u]in mt))throw new TypeError(`Invalid character ${e[u]} in base64 string.`);i|=mt[e[u]]<<(d-u)*Ot,o+=Ot}else i>>=Ot;const a=r/4*3;i>>=o%Qt;const c=Math.floor(o/Qt);for(let u=0;u<c;u++){const d=(c-u-1)*Qt;s.setUint8(a+u,(i&255<<d)>>d)}}return new Uint8Array(n)},_t=e=>new TextEncoder().encode(e),Ft=e=>typeof e=="string"?_t(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Qr=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function Jn(e){let t;typeof e=="string"?t=_t(e):t=e;const n=typeof t=="object"&&typeof t.length=="number",s=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!n&&!s)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let r="";for(let i=0;i<t.length;i+=3){let o=0,a=0;for(let u=i,d=Math.min(i+3,t.length);u<d;u++)o|=t[u]<<(d-u-1)*Qt,a+=Qt;const c=Math.ceil(a/Ot);o<<=c*Ot-a;for(let u=1;u<=c;u++){const d=(c-u)*Ot;r+=qt[(o&al<<d)>>d]}r+="==".slice(0,4-c)}return r}function cl(e,t="utf-8"){return t==="base64"?Jn(e):Qr(e)}function ul(e,t){return t==="base64"?At.mutate(yc(e)):At.mutate(_t(e))}class At extends Uint8Array{static fromString(t,n="utf-8"){switch(typeof t){case"string":return ul(t,n);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,At.prototype),t}transformToString(t="utf-8"){return cl(this,t)}}const dl=(e,t)=>{const{base64Encoder:n,bodyLengthChecker:s,checksumAlgorithmFn:r,checksumLocationName:i,streamHasher:o}=t,a=n!==void 0&&s!==void 0&&r!==void 0&&i!==void 0&&o!==void 0,c=a?o(r,e):void 0,u=e.getReader();return new ReadableStream({async pull(d){const{value:h,done:l}=await u.read();if(l){if(d.enqueue(`0\r
`),a){const p=n(await c);d.enqueue(`${i}:${p}\r
`),d.enqueue(`\r
`)}d.close()}else d.enqueue(`${(s(h)||0).toString(16)}\r
${h}\r
`)}})},Ct=e=>encodeURIComponent(e).replace(/[!'()*]/g,ll),ll=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function fl(e){const t=[];for(let n of Object.keys(e).sort()){const s=e[n];if(n=Ct(n),Array.isArray(s))for(let r=0,i=s.length;r<i;r++)t.push(`${n}=${Ct(s[r])}`);else{let r=n;(s||typeof s=="string")&&(r+=`=${Ct(s)}`),t.push(r)}}return t.join("&")}function Wi(e,t){return new Request(e,t)}function hl(e=0){return new Promise((t,n)=>{e&&setTimeout(()=>{const s=new Error(`Request did not complete within ${e} ms`);s.name="TimeoutError",n(s)},e)})}const Es={supported:void 0};class Yr{static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new Yr(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(n=>n||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Es.supported===void 0&&(Es.supported=typeof Request<"u"&&"keepalive"in Wi("https://[::1]"))}destroy(){}async handle(t,{abortSignal:n}={}){var m;this.config||(this.config=await this.configProvider);const s=this.config.requestTimeout,r=this.config.keepAlive===!0,i=this.config.credentials;if(n!=null&&n.aborted){const w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let o=t.path;const a=fl(t.query||{});a&&(o+=`?${a}`),t.fragment&&(o+=`#${t.fragment}`);let c="";if(t.username!=null||t.password!=null){const w=t.username??"",I=t.password??"";c=`${w}:${I}@`}const{port:u,method:d}=t,h=`${t.protocol}//${c}${t.hostname}${u?`:${u}`:""}${o}`,l=d==="GET"||d==="HEAD"?void 0:t.body,p={body:l,headers:new Headers(t.headers),method:d,credentials:i};(m=this.config)!=null&&m.cache&&(p.cache=this.config.cache),l&&(p.duplex="half"),typeof AbortController<"u"&&(p.signal=n),Es.supported&&(p.keepalive=r),typeof this.config.requestInit=="function"&&Object.assign(p,this.config.requestInit(t));let x=()=>{};const v=Wi(h,p),R=[fetch(v).then(w=>{const I=w.headers,y={};for(const b of I.entries())y[b[0]]=b[1];return w.body!=null?{response:new sn({headers:y,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(b=>({response:new sn({headers:y,reason:w.statusText,statusCode:w.status,body:b})}))}),hl(s)];return n&&R.push(new Promise((w,I)=>{const y=()=>{const T=new Error("Request aborted");T.name="AbortError",I(T)};if(typeof n.addEventListener=="function"){const T=n;T.addEventListener("abort",y,{once:!0}),x=()=>T.removeEventListener("abort",y)}else n.onabort=y})),Promise.race(R).finally(x)}updateHttpClientConfig(t,n){this.config=void 0,this.configProvider=this.configProvider.then(s=>(s[t]=n,s))}httpHandlerConfigs(){return this.config??{}}}const bc=async e=>{var t;return typeof Blob=="function"&&e instanceof Blob||((t=e.constructor)==null?void 0:t.name)==="Blob"?new Uint8Array(await e.arrayBuffer()):pl(e)};async function pl(e){const t=[],n=e.getReader();let s=!1,r=0;for(;!s;){const{done:a,value:c}=await n.read();c&&(t.push(c),r+=c.length),s=a}const i=new Uint8Array(r);let o=0;for(const a of t)i.set(a,o),o+=a.length;return i}const wc={},Pr={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),wc[e]=t,Pr[t]=e}function xc(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const s=e.slice(n,n+2).toLowerCase();if(s in Pr)t[n/2]=Pr[s];else throw new Error(`Cannot decode unrecognized sequence ${s} as hexadecimal`)}return t}function Ne(e){let t="";for(let n=0;n<e.byteLength;n++)t+=wc[e[n]];return t}const Mr=e=>{var t;return typeof ReadableStream=="function"&&(((t=e==null?void 0:e.constructor)==null?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)},Xi="The stream has already been transformed.",gl=e=>{var r,i;if(!Zi(e)&&!Mr(e)){const o=((i=(r=e==null?void 0:e.__proto__)==null?void 0:r.constructor)==null?void 0:i.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1;const n=async()=>{if(t)throw new Error(Xi);return t=!0,await bc(e)},s=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:n,transformToString:async o=>{const a=await n();if(o==="base64")return Jn(a);if(o==="hex")return Ne(a);if(o===void 0||o==="utf8"||o==="utf-8")return Qr(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(Xi);if(t=!0,Zi(e))return s(e);if(Mr(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},Zi=e=>typeof Blob=="function"&&e instanceof Blob;async function ml(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}async function yl(e,t){let n=0;const s=[],r=e.getReader();let i=!1;for(;!i;){const{done:c,value:u}=await r.read();if(u&&(s.push(u),n+=(u==null?void 0:u.byteLength)??0),n>=t)break;i=c}r.releaseLock();const o=new Uint8Array(Math.min(t,n));let a=0;for(const c of s){if(c.byteLength>o.byteLength-a){o.set(c.subarray(0,o.byteLength-a),a);break}else o.set(c,a);a+=c.length}return o}const bl=typeof ReadableStream=="function"?ReadableStream:function(){};class wl extends bl{}const xl=({expectedChecksum:e,checksum:t,source:n,checksumSourceLocation:s,base64Encoder:r})=>{var c;if(!Mr(n))throw new Error(`@smithy/util-stream: unsupported source type ${((c=n==null?void 0:n.constructor)==null?void 0:c.name)??n} in ChecksumStream.`);const i=r??Jn;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const o=new TransformStream({start(){},async transform(u,d){t.update(u),d.enqueue(u)},async flush(u){const d=await t.digest(),h=i(d);if(e!==h){const l=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${s}".`);u.error(l)}else u.terminate()}});n.pipeThrough(o);const a=o.readable;return Object.setPrototypeOf(a,wl.prototype),a},Ec=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return At.mutate(e);if(!e)return At.mutate(new Uint8Array);const n=t.streamCollector(e);return At.mutate(await n)};function Qi(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const El=(e,t,n,s,r,i)=>{if(t!=null&&t[n]!==void 0){const o=s();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(r,i?o.split("/").map(a=>Qi(a)).join("/"):Qi(o))}else throw new Error("No value provided for input HTTP label: "+n+".");return e};function es(e,t){return new Sl(e,t)}class Sl{constructor(t,n){this.input=t,this.context=n,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:t,protocol:n="https",port:s,path:r}=await this.context.endpoint();this.path=r;for(const i of this.resolvePathStack)i(this.path);return new fe({protocol:n,hostname:this.hostname||t,port:s,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(n=>{this.path=`${n!=null&&n.endsWith("/")?n.slice(0,-1):n||""}`+t}),this}p(t,n,s,r){return this.resolvePathStack.push(i=>{this.path=El(i,this.input,t,n,s,r)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}function Al(e,t,n){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=n}class Cl{constructor(t){this.authSchemes=new Map;for(const[n,s]of Object.entries(t))s!==void 0&&this.authSchemes.set(n,s)}getIdentityProvider(t){return this.authSchemes.get(t)}}const vl=e=>t=>Sc(t)&&t.expiration.getTime()-Date.now()<e,Rl=3e5,kl=vl(Rl),Sc=e=>e.expiration!==void 0,_l=(e,t,n)=>{if(e===void 0)return;const s=typeof e!="function"?async()=>Promise.resolve(e):e;let r,i,o,a=!1;const c=async u=>{i||(i=s(u));try{r=await i,o=!0,a=!1}finally{i=void 0}return r};return t===void 0?async u=>((!o||u!=null&&u.forceRefresh)&&(r=await c(u)),r):async u=>((!o||u!=null&&u.forceRefresh)&&(r=await c(u)),a?r:n(r)?(t(r)&&await c(u),r):(a=!0,r))},Tl=(e,t,n)=>{let s,r,i,o=!1;const a=async()=>{r||(r=e());try{s=await r,i=!0,o=!1}finally{r=void 0}return s};return async c=>((!i||c!=null&&c.forceRefresh)&&(s=await a()),s)},Bl=e=>(e.sigv4aSigningRegionSet=Pt(e.sigv4aSigningRegionSet),e),Il="X-Amz-Algorithm",Nl="X-Amz-Credential",Ac="X-Amz-Date",Pl="X-Amz-SignedHeaders",Ml="X-Amz-Expires",Cc="X-Amz-Signature",vc="X-Amz-Security-Token",Rc="authorization",kc=Ac.toLowerCase(),Ol="date",Fl=[Rc,kc,Ol],Dl=Cc.toLowerCase(),Or="x-amz-content-sha256",$l=vc.toLowerCase(),Ul={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Ll=/^proxy-/,Hl=/^sec-/,Ss="AWS4-HMAC-SHA256",zl="AWS4-HMAC-SHA256-PAYLOAD",ql="UNSIGNED-PAYLOAD",jl=50,_c="aws4_request",Vl=60*60*24*7,hn={},As=[],Cs=(e,t,n)=>`${e}/${t}/${n}/${_c}`,Kl=async(e,t,n,s,r)=>{const i=await Yi(e,t.secretAccessKey,t.accessKeyId),o=`${n}:${s}:${r}:${Ne(i)}:${t.sessionToken}`;if(o in hn)return hn[o];for(As.push(o);As.length>jl;)delete hn[As.shift()];let a=`AWS4${t.secretAccessKey}`;for(const c of[n,s,r,_c])a=await Yi(e,a,c);return hn[o]=a},Yi=(e,t,n)=>{const s=new e(t);return s.update(Ft(n)),s.digest()},Ji=({headers:e},t,n)=>{const s={};for(const r of Object.keys(e).sort()){if(e[r]==null)continue;const i=r.toLowerCase();(i in Ul||t!=null&&t.has(i)||Ll.test(i)||Hl.test(i))&&(!n||n&&!n.has(i))||(s[i]=e[r].trim().replace(/\s+/g," "))}return s},Gl=({query:e={}})=>{const t=[],n={};for(const s of Object.keys(e)){if(s.toLowerCase()===Dl)continue;const r=Ct(s);t.push(r);const i=e[s];typeof i=="string"?n[r]=`${r}=${Ct(i)}`:Array.isArray(i)&&(n[r]=i.slice(0).reduce((o,a)=>o.concat([`${r}=${Ct(a)}`]),[]).sort().join("&"))}return t.sort().map(s=>n[s]).filter(s=>s).join("&")},Tc=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",vs=async({headers:e,body:t},n)=>{for(const s of Object.keys(e))if(s.toLowerCase()===Or)return e[s];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Tc(t)){const s=new n;return s.update(Ft(t)),Ne(await s.digest())}return ql};class Wl{format(t){const n=[];for(const i of Object.keys(t)){const o=_t(i);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}const s=new Uint8Array(n.reduce((i,o)=>i+o.byteLength,0));let r=0;for(const i of n)s.set(i,r),r+=i.byteLength;return s}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,t.value,!1),new Uint8Array(n.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,t.value,!1),new Uint8Array(s.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(t.value.bytes,1),r;case"binary":const i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":const a=_t(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(Zl.fromNumber(t.value.valueOf()).bytes,1),d;case"uuid":if(!Xl.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const h=new Uint8Array(17);return h[0]=9,h.set(xc(t.value.replace(/\-/g,"")),1),h}}}var eo;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(eo||(eo={}));const Xl=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let Zl=class Bc{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let s=7,r=Math.abs(Math.round(t));s>-1&&r>0;s--,r/=256)n[s]=r;return t<0&&to(n),new Bc(n)}valueOf(){const t=this.bytes.slice(0),n=t[0]&128;return n&&to(t),parseInt(Ne(t),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function to(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}const Ql=(e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1},Yl=(e,t={})=>{var r,i;const{headers:n,query:s={}}=fe.clone(e);for(const o of Object.keys(n)){const a=o.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(a))||(i=t.hoistableHeaders)!=null&&i.has(a))&&(s[o]=n[o],delete n[o])}return{...e,headers:n,query:s}},no=e=>{e=fe.clone(e);for(const t of Object.keys(e.headers))Fl.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},Jl=e=>ef(e).toISOString().replace(/\.\d{3}Z$/,"Z"),ef=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class Fr{constructor({applyChecksum:t,credentials:n,region:s,service:r,sha256:i,uriEscapePath:o=!0}){this.headerFormatter=new Wl,this.service=r,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Ye(s),this.credentialProvider=Ye(n)}async presign(t,n={}){const{signingDate:s=new Date,expiresIn:r=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:c,signingRegion:u,signingService:d}=n,h=await this.credentialProvider();this.validateResolvedCredentials(h);const l=u??await this.regionProvider(),{longDate:p,shortDate:x}=pn(s);if(r>Vl)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const v=Cs(x,l,d??this.service),R=Yl(no(t),{unhoistableHeaders:o,hoistableHeaders:c});h.sessionToken&&(R.query[vc]=h.sessionToken),R.query[Il]=Ss,R.query[Nl]=`${h.accessKeyId}/${v}`,R.query[Ac]=p,R.query[Ml]=r.toString(10);const m=Ji(R,i,a);return R.query[Pl]=so(m),R.query[Cc]=await this.getSignature(p,v,this.getSigningKey(h,l,x,d),this.createCanonicalRequest(R,m,await vs(t,this.sha256))),R}async sign(t,n){return typeof t=="string"?this.signString(t,n):t.headers&&t.payload?this.signEvent(t,n):t.message?this.signMessage(t,n):this.signRequest(t,n)}async signEvent({headers:t,payload:n},{signingDate:s=new Date,priorSignature:r,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:c,longDate:u}=pn(s),d=Cs(c,a,o??this.service),h=await vs({headers:{},body:n},this.sha256),l=new this.sha256;l.update(t);const p=Ne(await l.digest()),x=[zl,u,d,r,p,h].join(`
`);return this.signString(x,{signingDate:s,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:n=new Date,signingRegion:s,signingService:r}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:n,signingRegion:s,signingService:r,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:n=new Date,signingRegion:s,signingService:r}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=s??await this.regionProvider(),{shortDate:a}=pn(n),c=new this.sha256(await this.getSigningKey(i,o,a,r));return c.update(Ft(t)),Ne(await c.digest())}async signRequest(t,{signingDate:n=new Date,signableHeaders:s,unsignableHeaders:r,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const c=i??await this.regionProvider(),u=no(t),{longDate:d,shortDate:h}=pn(n),l=Cs(h,c,o??this.service);u.headers[kc]=d,a.sessionToken&&(u.headers[$l]=a.sessionToken);const p=await vs(u,this.sha256);!Ql(Or,u.headers)&&this.applyChecksum&&(u.headers[Or]=p);const x=Ji(u,r,s),v=await this.getSignature(d,l,this.getSigningKey(a,c,h,o),this.createCanonicalRequest(u,x,p));return u.headers[Rc]=`${Ss} Credential=${a.accessKeyId}/${l}, SignedHeaders=${so(x)}, Signature=${v}`,u}createCanonicalRequest(t,n,s){const r=Object.keys(n).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Gl(t)}
${r.map(i=>`${i}:${n[i]}`).join(`
`)}

${r.join(";")}
${s}`}async createStringToSign(t,n,s){const r=new this.sha256;r.update(Ft(s));const i=await r.digest();return`${Ss}
${t}
${n}
${Ne(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const n=[];for(const i of t.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?n.pop():n.push(i));const s=`${t!=null&&t.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return Ct(s).replace(/%2F/g,"/")}return t}async getSignature(t,n,s,r){const i=await this.createStringToSign(t,n,r),o=new this.sha256(await s);return o.update(Ft(i)),Ne(await o.digest())}getSigningKey(t,n,s,r){return Kl(this.sha256,t,s,n,r||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const pn=e=>{const t=Jl(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},so=e=>Object.keys(e).sort().join(";"),tf=e=>{let t=!1,n;e.credentials&&(t=!0,n=_l(e.credentials,kl,Sc)),n||(e.credentialDefaultProvider?n=Pt(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:s=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:i}=e;let o;return e.signer?o=Pt(e.signer):e.regionInfoProvider?o=()=>Pt(e.region)().then(async a=>[await e.regionInfoProvider(a,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},a]).then(([a,c])=>{const{signingRegion:u,signingService:d}=a;e.signingRegion=e.signingRegion||u||c,e.signingName=e.signingName||d||e.serviceId;const h={...e,credentials:n,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},l=e.signerConstructor||Fr;return new l(h)}):o=async a=>{a=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Pt(e.region)(),properties:{}},a);const c=a.signingRegion,u=a.signingName;e.signingRegion=e.signingRegion||c,e.signingName=e.signingName||u||e.serviceId;const d={...e,credentials:n,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},h=e.signerConstructor||Fr;return new h(d)},{...e,systemClockOffset:r,signingEscapePath:s,credentials:t?async()=>n().then(a=>jd(a,"CREDENTIALS_CODE","e")):n,signer:o}},wt=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const s of t)n.push(s);return n},ot=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Ln=()=>{let e=[],t=[],n=!1;const s=new Set,r=h=>h.sort((l,p)=>ro[p.step]-ro[l.step]||io[p.priority||"normal"]-io[l.priority||"normal"]),i=h=>{let l=!1;const p=x=>{const v=wt(x.name,x.aliases);if(v.includes(h)){l=!0;for(const R of v)s.delete(R);return!1}return!0};return e=e.filter(p),t=t.filter(p),l},o=h=>{let l=!1;const p=x=>{if(x.middleware===h){l=!0;for(const v of wt(x.name,x.aliases))s.delete(v);return!1}return!0};return e=e.filter(p),t=t.filter(p),l},a=h=>{var l;return e.forEach(p=>{h.add(p.middleware,{...p})}),t.forEach(p=>{h.addRelativeTo(p.middleware,{...p})}),(l=h.identifyOnResolve)==null||l.call(h,d.identifyOnResolve()),h},c=h=>{const l=[];return h.before.forEach(p=>{p.before.length===0&&p.after.length===0?l.push(p):l.push(...c(p))}),l.push(h),h.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?l.push(p):l.push(...c(p))}),l},u=(h=!1)=>{const l=[],p=[],x={};return e.forEach(R=>{const m={...R,before:[],after:[]};for(const w of wt(m.name,m.aliases))x[w]=m;l.push(m)}),t.forEach(R=>{const m={...R,before:[],after:[]};for(const w of wt(m.name,m.aliases))x[w]=m;p.push(m)}),p.forEach(R=>{if(R.toMiddleware){const m=x[R.toMiddleware];if(m===void 0){if(h)return;throw new Error(`${R.toMiddleware} is not found when adding ${ot(R.name,R.aliases)} middleware ${R.relation} ${R.toMiddleware}`)}R.relation==="after"&&m.after.push(R),R.relation==="before"&&m.before.push(R)}}),r(l).map(c).reduce((R,m)=>(R.push(...m),R),[])},d={add:(h,l={})=>{const{name:p,override:x,aliases:v}=l,R={step:"initialize",priority:"normal",middleware:h,...l},m=wt(p,v);if(m.length>0){if(m.some(w=>s.has(w))){if(!x)throw new Error(`Duplicate middleware name '${ot(p,v)}'`);for(const w of m){const I=e.findIndex(T=>{var b;return T.name===w||((b=T.aliases)==null?void 0:b.some(O=>O===w))});if(I===-1)continue;const y=e[I];if(y.step!==R.step||R.priority!==y.priority)throw new Error(`"${ot(y.name,y.aliases)}" middleware with ${y.priority} priority in ${y.step} step cannot be overridden by "${ot(p,v)}" middleware with ${R.priority} priority in ${R.step} step.`);e.splice(I,1)}}for(const w of m)s.add(w)}e.push(R)},addRelativeTo:(h,l)=>{const{name:p,override:x,aliases:v}=l,R={middleware:h,...l},m=wt(p,v);if(m.length>0){if(m.some(w=>s.has(w))){if(!x)throw new Error(`Duplicate middleware name '${ot(p,v)}'`);for(const w of m){const I=t.findIndex(T=>{var b;return T.name===w||((b=T.aliases)==null?void 0:b.some(O=>O===w))});if(I===-1)continue;const y=t[I];if(y.toMiddleware!==R.toMiddleware||y.relation!==R.relation)throw new Error(`"${ot(y.name,y.aliases)}" middleware ${y.relation} "${y.toMiddleware}" middleware cannot be overridden by "${ot(p,v)}" middleware ${R.relation} "${R.toMiddleware}" middleware.`);t.splice(I,1)}}for(const w of m)s.add(w)}t.push(R)},clone:()=>a(Ln()),use:h=>{h.applyToStack(d)},remove:h=>typeof h=="string"?i(h):o(h),removeByTag:h=>{let l=!1;const p=x=>{const{tags:v,name:R,aliases:m}=x;if(v&&v.includes(h)){const w=wt(R,m);for(const I of w)s.delete(I);return l=!0,!1}return!0};return e=e.filter(p),t=t.filter(p),l},concat:h=>{var p;const l=a(Ln());return l.use(h),l.identifyOnResolve(n||l.identifyOnResolve()||(((p=h.identifyOnResolve)==null?void 0:p.call(h))??!1)),l},applyToStack:a,identify:()=>u(!0).map(h=>{const l=h.step??h.relation+" "+h.toMiddleware;return ot(h.name,h.aliases)+" - "+l}),identifyOnResolve(h){return typeof h=="boolean"&&(n=h),n},resolve:(h,l)=>{for(const p of u().map(x=>x.middleware).reverse())h=p(h,l);return n&&console.log(d.identify()),h}};return d},ro={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},io={high:3,normal:2,low:1};class nf{constructor(t){this.config=t,this.middlewareStack=Ln()}send(t,n,s){const r=typeof n!="function"?n:void 0,i=typeof n=="function"?n:s,o=r===void 0&&this.config.cacheMiddleware===!0;let a;if(o){this.handlers||(this.handlers=new WeakMap);const c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,r),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,r);if(i)a(t).then(c=>i(null,c.output),c=>i(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){var t,n,s;(s=(n=(t=this.config)==null?void 0:t.requestHandler)==null?void 0:n.destroy)==null||s.call(n),delete this.handlers}}class dn{constructor(){this.middlewareStack=Ln()}static classBuilder(){return new sf}resolveMiddlewareWithContext(t,n,s,{middlewareFn:r,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:d,CommandCtor:h}){for(const R of r.bind(this)(h,t,n,s))this.middlewareStack.use(R);const l=t.concat(this.middlewareStack),{logger:p}=n,x={logger:p,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Nr]:{commandInstance:this,...u},...d},{requestHandler:v}=n;return l.resolve(R=>v.handle(R.request,s||{}),x)}}class sf{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,n,s={}){return this._smithyContext={service:t,operation:n,...s},this}c(t={}){return this._additionalContext=t,this}n(t,n){return this._clientName=t,this._commandName=n,this}f(t=s=>s,n=s=>s){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=n,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){const t=this;let n;return n=class extends dn{static getEndpointParameterInstructions(){return t._ep}constructor(...[s]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=s??{},t._init(this)}resolveMiddleware(s,r,i){return this.resolveMiddlewareWithContext(s,r,i,{CommandCtor:n,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}const Xe="***SensitiveInformation***",ln=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},rf=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Pc.warn(Nc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},of=Math.ceil(2**127*(2-2**-23)),oo=e=>{const t=rf(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>of)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Dr=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},ao=e=>Jr(e,32),co=e=>Jr(e,16),uo=e=>Jr(e,8),Jr=(e,t)=>{const n=Dr(e);if(n!==void 0&&af(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},af=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},jt=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},ei=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},te=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Pc.warn(Nc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},cf=e=>oo(typeof e=="string"?fn(e):e),uf=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,fn=e=>{const t=e.match(uf);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Ic=e=>Dr(typeof e=="string"?fn(e):e),lo=e=>ao(typeof e=="string"?fn(e):e),df=e=>co(typeof e=="string"?fn(e):e),lf=e=>uo(typeof e=="string"?fn(e):e),Nc=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Pc={warn:console.warn},ff=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Mc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Oc(e){const t=e.getUTCFullYear(),n=e.getUTCMonth(),s=e.getUTCDay(),r=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),c=r<10?`0${r}`:`${r}`,u=i<10?`0${i}`:`${i}`,d=o<10?`0${o}`:`${o}`,h=a<10?`0${a}`:`${a}`;return`${ff[s]}, ${c} ${Mc[n]} ${t} ${u}:${d}:${h} GMT`}const hf=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ti=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=hf.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,s,r,i,o,a,c,u,d]=t,h=df(Fc(s)),l=Yt(r,"month",1,12),p=Yt(i,"day",1,31),x=pf(h,l,p,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&x.setTime(x.getTime()-wf(d)),x},pf=(e,t,n,s)=>{const r=t-1;return mf(e,r,n),new Date(Date.UTC(e,r,n,Yt(s.hours,"hour",0,23),Yt(s.minutes,"minute",0,59),Yt(s.seconds,"seconds",0,60),bf(s.fractionalMilliseconds)))},gf=[31,28,31,30,31,30,31,31,30,31,30,31],mf=(e,t,n)=>{let s=gf[t];if(t===1&&yf(e)&&(s=29),n>s)throw new TypeError(`Invalid day for ${Mc[t]} in ${e}: ${n}`)},yf=e=>e%4===0&&(e%100!==0||e%400===0),Yt=(e,t,n,s)=>{const r=lf(Fc(e));if(r<n||r>s)throw new TypeError(`${t} must be between ${n} and ${s}, inclusive`);return r},bf=e=>e==null?0:cf("0."+e)*1e3,wf=e=>{const t=e[0];let n=1;if(t=="+")n=1;else if(t=="-")n=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const s=Number(e.substring(1,3)),r=Number(e.substring(4,6));return n*(s*60+r)*60*1e3},Fc=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};class ni extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,ni.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const Me=(e,t={})=>{Object.entries(t).filter(([,s])=>s!==void 0).forEach(([s,r])=>{(e[s]==null||e[s]==="")&&(e[s]=r)});const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},xf=({output:e,parsedBody:t,exceptionCtor:n,errorCode:s})=>{const r=Sf(e),i=r.httpStatusCode?r.httpStatusCode+"":void 0,o=new n({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||s||i||"UnknownError",$fault:"client",$metadata:r});throw Me(o,t)},Ef=e=>({output:t,parsedBody:n,errorCode:s})=>{xf({output:t,parsedBody:n,exceptionCtor:e,errorCode:s})},Sf=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Af=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Cf=e=>{const t=[];for(const n in Un){const s=Un[n];e[s]!==void 0&&t.push({algorithmId:()=>s,checksumConstructor:()=>e[s]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},vf=e=>{const t={};return e.checksumAlgorithms().forEach(n=>{t[n.algorithmId()]=n.checksumConstructor()}),t},Rf=e=>{let t=e.retryStrategy;return{setRetryStrategy(n){t=n},retryStrategy(){return t}}},kf=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},_f=e=>({...Cf(e),...Rf(e)}),Tf=e=>({...vf(e),...kf(e)}),rn=e=>Array.isArray(e)?e:[e],Dc=e=>{const t="#text";for(const n in e)e.hasOwnProperty(n)&&e[n][t]!==void 0?e[n]=e[n][t]:typeof e[n]=="object"&&e[n]!==null&&(e[n]=Dc(e[n]));return e},Le=e=>e!=null;class si{trace(){}debug(){}info(){}warn(){}error(){}}function ne(e,t,n){let s,r,i;if(typeof t>"u"&&typeof n>"u")s={},i=e;else{if(s=e,typeof t=="function")return r=t,i=n,Bf(s,r,i);i=t}for(const o of Object.keys(i)){if(!Array.isArray(i[o])){s[o]=i[o];continue}If(s,null,i,o)}return s}const Bf=(e,t,n)=>ne(e,Object.entries(n).reduce((s,[r,i])=>(Array.isArray(i)?s[r]=i:typeof i=="function"?s[r]=[t,i()]:s[r]=[t,i],s),{})),If=(e,t,n,s)=>{let[r,i]=n[s];if(typeof i=="function"){let o;const a=r===void 0&&(o=i())!=null,c=typeof r=="function"&&!!r(void 0)||typeof r!="function"&&!!r;a?e[s]=o:c&&(e[s]=i())}else{const o=r===void 0&&i!=null,a=typeof r=="function"&&!!r(i)||typeof r!="function"&&!!r;(o||a)&&(e[s]=i)}};function Nf(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}const Pf=e=>e.toISOString().replace(".000Z","Z"),Mf=(e,t)=>Ec(e,t).then(n=>t.utf8Encoder(n));var Rs={},ks={},fo;function ri(){return fo||(fo=1,function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",s="["+t+"]["+n+"]*",r=new RegExp("^"+s+"$"),i=function(a,c){const u=[];let d=c.exec(a);for(;d;){const h=[];h.startIndex=c.lastIndex-d[0].length;const l=d.length;for(let p=0;p<l;p++)h.push(d[p]);u.push(h),d=c.exec(a)}return u},o=function(a){const c=r.exec(a);return!(c===null||typeof c>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,c,u){if(c){const d=Object.keys(c),h=d.length;for(let l=0;l<h;l++)u==="strict"?a[d[l]]=[c[d[l]]]:a[d[l]]=c[d[l]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=o,e.getAllMatches=i,e.nameRegexp=s}(ks)),ks}var ho;function $c(){if(ho)return Rs;ho=1;const e=ri(),t={allowBooleanAttributes:!1,unpairedTags:[]};Rs.validate=function(m,w){w=Object.assign({},t,w);const I=[];let y=!1,T=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let b=0;b<m.length;b++)if(m[b]==="<"&&m[b+1]==="?"){if(b+=2,b=s(m,b),b.err)return b}else if(m[b]==="<"){let O=b;if(b++,m[b]==="!"){b=r(m,b);continue}else{let F=!1;m[b]==="/"&&(F=!0,b++);let B="";for(;b<m.length&&m[b]!==">"&&m[b]!==" "&&m[b]!=="	"&&m[b]!==`
`&&m[b]!=="\r";b++)B+=m[b];if(B=B.trim(),B[B.length-1]==="/"&&(B=B.substring(0,B.length-1),b--),!x(B)){let k;return B.trim().length===0?k="Invalid space after '<'.":k="Tag '"+B+"' is an invalid name.",l("InvalidTag",k,v(m,b))}const z=a(m,b);if(z===!1)return l("InvalidAttr","Attributes for '"+B+"' have open quote.",v(m,b));let $=z.value;if(b=z.index,$[$.length-1]==="/"){const k=b-$.length;$=$.substring(0,$.length-1);const K=u($,w);if(K===!0)y=!0;else return l(K.err.code,K.err.msg,v(m,k+K.err.line))}else if(F)if(z.tagClosed){if($.trim().length>0)return l("InvalidTag","Closing tag '"+B+"' can't have attributes or invalid starting.",v(m,O));if(I.length===0)return l("InvalidTag","Closing tag '"+B+"' has not been opened.",v(m,O));{const k=I.pop();if(B!==k.tagName){let K=v(m,k.tagStartPos);return l("InvalidTag","Expected closing tag '"+k.tagName+"' (opened in line "+K.line+", col "+K.col+") instead of closing tag '"+B+"'.",v(m,O))}I.length==0&&(T=!0)}}else return l("InvalidTag","Closing tag '"+B+"' doesn't have proper closing.",v(m,b));else{const k=u($,w);if(k!==!0)return l(k.err.code,k.err.msg,v(m,b-$.length+k.err.line));if(T===!0)return l("InvalidXml","Multiple possible root nodes found.",v(m,b));w.unpairedTags.indexOf(B)!==-1||I.push({tagName:B,tagStartPos:O}),y=!0}for(b++;b<m.length;b++)if(m[b]==="<")if(m[b+1]==="!"){b++,b=r(m,b);continue}else if(m[b+1]==="?"){if(b=s(m,++b),b.err)return b}else break;else if(m[b]==="&"){const k=h(m,b);if(k==-1)return l("InvalidChar","char '&' is not expected.",v(m,b));b=k}else if(T===!0&&!n(m[b]))return l("InvalidXml","Extra text at the end",v(m,b));m[b]==="<"&&b--}}else{if(n(m[b]))continue;return l("InvalidChar","char '"+m[b]+"' is not expected.",v(m,b))}if(y){if(I.length==1)return l("InvalidTag","Unclosed tag '"+I[0].tagName+"'.",v(m,I[0].tagStartPos));if(I.length>0)return l("InvalidXml","Invalid '"+JSON.stringify(I.map(b=>b.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return l("InvalidXml","Start tag expected.",1);return!0};function n(m){return m===" "||m==="	"||m===`
`||m==="\r"}function s(m,w){const I=w;for(;w<m.length;w++)if(m[w]=="?"||m[w]==" "){const y=m.substr(I,w-I);if(w>5&&y==="xml")return l("InvalidXml","XML declaration allowed only at the start of the document.",v(m,w));if(m[w]=="?"&&m[w+1]==">"){w++;break}else continue}return w}function r(m,w){if(m.length>w+5&&m[w+1]==="-"&&m[w+2]==="-"){for(w+=3;w<m.length;w++)if(m[w]==="-"&&m[w+1]==="-"&&m[w+2]===">"){w+=2;break}}else if(m.length>w+8&&m[w+1]==="D"&&m[w+2]==="O"&&m[w+3]==="C"&&m[w+4]==="T"&&m[w+5]==="Y"&&m[w+6]==="P"&&m[w+7]==="E"){let I=1;for(w+=8;w<m.length;w++)if(m[w]==="<")I++;else if(m[w]===">"&&(I--,I===0))break}else if(m.length>w+9&&m[w+1]==="["&&m[w+2]==="C"&&m[w+3]==="D"&&m[w+4]==="A"&&m[w+5]==="T"&&m[w+6]==="A"&&m[w+7]==="["){for(w+=8;w<m.length;w++)if(m[w]==="]"&&m[w+1]==="]"&&m[w+2]===">"){w+=2;break}}return w}const i='"',o="'";function a(m,w){let I="",y="",T=!1;for(;w<m.length;w++){if(m[w]===i||m[w]===o)y===""?y=m[w]:y!==m[w]||(y="");else if(m[w]===">"&&y===""){T=!0;break}I+=m[w]}return y!==""?!1:{value:I,index:w,tagClosed:T}}const c=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function u(m,w){const I=e.getAllMatches(m,c),y={};for(let T=0;T<I.length;T++){if(I[T][1].length===0)return l("InvalidAttr","Attribute '"+I[T][2]+"' has no space in starting.",R(I[T]));if(I[T][3]!==void 0&&I[T][4]===void 0)return l("InvalidAttr","Attribute '"+I[T][2]+"' is without value.",R(I[T]));if(I[T][3]===void 0&&!w.allowBooleanAttributes)return l("InvalidAttr","boolean attribute '"+I[T][2]+"' is not allowed.",R(I[T]));const b=I[T][2];if(!p(b))return l("InvalidAttr","Attribute '"+b+"' is an invalid name.",R(I[T]));if(!y.hasOwnProperty(b))y[b]=1;else return l("InvalidAttr","Attribute '"+b+"' is repeated.",R(I[T]))}return!0}function d(m,w){let I=/\d/;for(m[w]==="x"&&(w++,I=/[\da-fA-F]/);w<m.length;w++){if(m[w]===";")return w;if(!m[w].match(I))break}return-1}function h(m,w){if(w++,m[w]===";")return-1;if(m[w]==="#")return w++,d(m,w);let I=0;for(;w<m.length;w++,I++)if(!(m[w].match(/\w/)&&I<20)){if(m[w]===";")break;return-1}return w}function l(m,w,I){return{err:{code:m,msg:w,line:I.line||I,col:I.col}}}function p(m){return e.isName(m)}function x(m){return e.isName(m)}function v(m,w){const I=m.substring(0,w).split(/\r?\n/);return{line:I.length,col:I[I.length-1].length+1}}function R(m){return m.startIndex+m[1].length}return Rs}var gn={},po;function Of(){if(po)return gn;po=1;const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(n,s){return s},attributeValueProcessor:function(n,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(n,s,r){return n}},t=function(n){return Object.assign({},e,n)};return gn.buildOptions=t,gn.defaultOptions=e,gn}var _s,go;function Ff(){if(go)return _s;go=1;class e{constructor(n){this.tagname=n,this.child=[],this[":@"]={}}add(n,s){n==="__proto__"&&(n="#__proto__"),this.child.push({[n]:s})}addChild(n){n.tagname==="__proto__"&&(n.tagname="#__proto__"),n[":@"]&&Object.keys(n[":@"]).length>0?this.child.push({[n.tagname]:n.child,":@":n[":@"]}):this.child.push({[n.tagname]:n.child})}}return _s=e,_s}var Ts,mo;function Df(){if(mo)return Ts;mo=1;const e=ri();function t(u,d){const h={};if(u[d+3]==="O"&&u[d+4]==="C"&&u[d+5]==="T"&&u[d+6]==="Y"&&u[d+7]==="P"&&u[d+8]==="E"){d=d+9;let l=1,p=!1,x=!1,v="";for(;d<u.length;d++)if(u[d]==="<"&&!x){if(p&&r(u,d))d+=7,[entityName,val,d]=n(u,d+1),val.indexOf("&")===-1&&(h[c(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(p&&i(u,d))d+=8;else if(p&&o(u,d))d+=8;else if(p&&a(u,d))d+=9;else if(s)x=!0;else throw new Error("Invalid DOCTYPE");l++,v=""}else if(u[d]===">"){if(x?u[d-1]==="-"&&u[d-2]==="-"&&(x=!1,l--):l--,l===0)break}else u[d]==="["?p=!0:v+=u[d];if(l!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:h,i:d}}function n(u,d){let h="";for(;d<u.length&&u[d]!=="'"&&u[d]!=='"';d++)h+=u[d];if(h=h.trim(),h.indexOf(" ")!==-1)throw new Error("External entites are not supported");const l=u[d++];let p="";for(;d<u.length&&u[d]!==l;d++)p+=u[d];return[h,p,d]}function s(u,d){return u[d+1]==="!"&&u[d+2]==="-"&&u[d+3]==="-"}function r(u,d){return u[d+1]==="!"&&u[d+2]==="E"&&u[d+3]==="N"&&u[d+4]==="T"&&u[d+5]==="I"&&u[d+6]==="T"&&u[d+7]==="Y"}function i(u,d){return u[d+1]==="!"&&u[d+2]==="E"&&u[d+3]==="L"&&u[d+4]==="E"&&u[d+5]==="M"&&u[d+6]==="E"&&u[d+7]==="N"&&u[d+8]==="T"}function o(u,d){return u[d+1]==="!"&&u[d+2]==="A"&&u[d+3]==="T"&&u[d+4]==="T"&&u[d+5]==="L"&&u[d+6]==="I"&&u[d+7]==="S"&&u[d+8]==="T"}function a(u,d){return u[d+1]==="!"&&u[d+2]==="N"&&u[d+3]==="O"&&u[d+4]==="T"&&u[d+5]==="A"&&u[d+6]==="T"&&u[d+7]==="I"&&u[d+8]==="O"&&u[d+9]==="N"}function c(u){if(e.isName(u))return u;throw new Error(`Invalid entity name ${u}`)}return Ts=t,Ts}var Bs,yo;function $f(){if(yo)return Bs;yo=1;const e=/^[-+]?0x[a-fA-F0-9]+$/,t=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function s(i,o={}){if(o=Object.assign({},n,o),!i||typeof i!="string")return i;let a=i.trim();if(o.skipLike!==void 0&&o.skipLike.test(a))return i;if(o.hex&&e.test(a))return Number.parseInt(a,16);{const c=t.exec(a);if(c){const u=c[1],d=c[2];let h=r(c[3]);const l=c[4]||c[6];if(!o.leadingZeros&&d.length>0&&u&&a[2]!==".")return i;if(!o.leadingZeros&&d.length>0&&!u&&a[1]!==".")return i;{const p=Number(a),x=""+p;return x.search(/[eE]/)!==-1||l?o.eNotation?p:i:a.indexOf(".")!==-1?x==="0"&&h===""||x===h||u&&x==="-"+h?p:i:d?h===x||u+h===x?p:i:a===x||a===u+x?p:i}}else return i}}function r(i){return i&&i.indexOf(".")!==-1&&(i=i.replace(/0+$/,""),i==="."?i="0":i[0]==="."?i="0"+i:i[i.length-1]==="."&&(i=i.substr(0,i.length-1))),i}return Bs=s,Bs}var Is,bo;function Uf(){if(bo)return Is;bo=1;const e=ri(),t=Ff(),n=Df(),s=$f();class r{constructor(T){this.options=T,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(b,O)=>String.fromCharCode(Number.parseInt(O,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(b,O)=>String.fromCharCode(Number.parseInt(O,16))}},this.addExternalEntities=i,this.parseXml=d,this.parseTextData=o,this.resolveNameSpace=a,this.buildAttributesMap=u,this.isItStopNode=x,this.replaceEntitiesValue=l,this.readStopNodeData=w,this.saveTextToParentTag=p,this.addChild=h}}function i(y){const T=Object.keys(y);for(let b=0;b<T.length;b++){const O=T[b];this.lastEntities[O]={regex:new RegExp("&"+O+";","g"),val:y[O]}}}function o(y,T,b,O,F,B,z){if(y!==void 0&&(this.options.trimValues&&!O&&(y=y.trim()),y.length>0)){z||(y=this.replaceEntitiesValue(y));const $=this.options.tagValueProcessor(T,y,b,F,B);return $==null?y:typeof $!=typeof y||$!==y?$:this.options.trimValues?I(y,this.options.parseTagValue,this.options.numberParseOptions):y.trim()===y?I(y,this.options.parseTagValue,this.options.numberParseOptions):y}}function a(y){if(this.options.removeNSPrefix){const T=y.split(":"),b=y.charAt(0)==="/"?"/":"";if(T[0]==="xmlns")return"";T.length===2&&(y=b+T[1])}return y}const c=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function u(y,T,b){if(!this.options.ignoreAttributes&&typeof y=="string"){const O=e.getAllMatches(y,c),F=O.length,B={};for(let z=0;z<F;z++){const $=this.resolveNameSpace(O[z][1]);let k=O[z][4],K=this.options.attributeNamePrefix+$;if($.length)if(this.options.transformAttributeName&&(K=this.options.transformAttributeName(K)),K==="__proto__"&&(K="#__proto__"),k!==void 0){this.options.trimValues&&(k=k.trim()),k=this.replaceEntitiesValue(k);const X=this.options.attributeValueProcessor($,k,T);X==null?B[K]=k:typeof X!=typeof k||X!==k?B[K]=X:B[K]=I(k,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(B[K]=!0)}if(!Object.keys(B).length)return;if(this.options.attributesGroupName){const z={};return z[this.options.attributesGroupName]=B,z}return B}}const d=function(y){y=y.replace(/\r\n?/g,`
`);const T=new t("!xml");let b=T,O="",F="";for(let B=0;B<y.length;B++)if(y[B]==="<")if(y[B+1]==="/"){const $=R(y,">",B,"Closing Tag is not closed.");let k=y.substring(B+2,$).trim();if(this.options.removeNSPrefix){const qe=k.indexOf(":");qe!==-1&&(k=k.substr(qe+1))}this.options.transformTagName&&(k=this.options.transformTagName(k)),b&&(O=this.saveTextToParentTag(O,b,F));const K=F.substring(F.lastIndexOf(".")+1);if(k&&this.options.unpairedTags.indexOf(k)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${k}>`);let X=0;K&&this.options.unpairedTags.indexOf(K)!==-1?(X=F.lastIndexOf(".",F.lastIndexOf(".")-1),this.tagsNodeStack.pop()):X=F.lastIndexOf("."),F=F.substring(0,X),b=this.tagsNodeStack.pop(),O="",B=$}else if(y[B+1]==="?"){let $=m(y,B,!1,"?>");if(!$)throw new Error("Pi Tag is not closed.");if(O=this.saveTextToParentTag(O,b,F),!(this.options.ignoreDeclaration&&$.tagName==="?xml"||this.options.ignorePiTags)){const k=new t($.tagName);k.add(this.options.textNodeName,""),$.tagName!==$.tagExp&&$.attrExpPresent&&(k[":@"]=this.buildAttributesMap($.tagExp,F,$.tagName)),this.addChild(b,k,F)}B=$.closeIndex+1}else if(y.substr(B+1,3)==="!--"){const $=R(y,"-->",B+4,"Comment is not closed.");if(this.options.commentPropName){const k=y.substring(B+4,$-2);O=this.saveTextToParentTag(O,b,F),b.add(this.options.commentPropName,[{[this.options.textNodeName]:k}])}B=$}else if(y.substr(B+1,2)==="!D"){const $=n(y,B);this.docTypeEntities=$.entities,B=$.i}else if(y.substr(B+1,2)==="!["){const $=R(y,"]]>",B,"CDATA is not closed.")-2,k=y.substring(B+9,$);O=this.saveTextToParentTag(O,b,F);let K=this.parseTextData(k,b.tagname,F,!0,!1,!0,!0);K==null&&(K=""),this.options.cdataPropName?b.add(this.options.cdataPropName,[{[this.options.textNodeName]:k}]):b.add(this.options.textNodeName,K),B=$+2}else{let $=m(y,B,this.options.removeNSPrefix),k=$.tagName;const K=$.rawTagName;let X=$.tagExp,qe=$.attrExpPresent,Oi=$.closeIndex;this.options.transformTagName&&(k=this.options.transformTagName(k)),b&&O&&b.tagname!=="!xml"&&(O=this.saveTextToParentTag(O,b,F,!1));const Fi=b;if(Fi&&this.options.unpairedTags.indexOf(Fi.tagname)!==-1&&(b=this.tagsNodeStack.pop(),F=F.substring(0,F.lastIndexOf("."))),k!==T.tagname&&(F+=F?"."+k:k),this.isItStopNode(this.options.stopNodes,F,k)){let $e="";if(X.length>0&&X.lastIndexOf("/")===X.length-1)k[k.length-1]==="/"?(k=k.substr(0,k.length-1),F=F.substr(0,F.length-1),X=k):X=X.substr(0,X.length-1),B=$.closeIndex;else if(this.options.unpairedTags.indexOf(k)!==-1)B=$.closeIndex;else{const ws=this.readStopNodeData(y,K,Oi+1);if(!ws)throw new Error(`Unexpected end of ${K}`);B=ws.i,$e=ws.tagContent}const bs=new t(k);k!==X&&qe&&(bs[":@"]=this.buildAttributesMap(X,F,k)),$e&&($e=this.parseTextData($e,k,F,!0,qe,!0,!0)),F=F.substr(0,F.lastIndexOf(".")),bs.add(this.options.textNodeName,$e),this.addChild(b,bs,F)}else{if(X.length>0&&X.lastIndexOf("/")===X.length-1){k[k.length-1]==="/"?(k=k.substr(0,k.length-1),F=F.substr(0,F.length-1),X=k):X=X.substr(0,X.length-1),this.options.transformTagName&&(k=this.options.transformTagName(k));const $e=new t(k);k!==X&&qe&&($e[":@"]=this.buildAttributesMap(X,F,k)),this.addChild(b,$e,F),F=F.substr(0,F.lastIndexOf("."))}else{const $e=new t(k);this.tagsNodeStack.push(b),k!==X&&qe&&($e[":@"]=this.buildAttributesMap(X,F,k)),this.addChild(b,$e,F),b=$e}O="",B=Oi}}else O+=y[B];return T.child};function h(y,T,b){const O=this.options.updateTag(T.tagname,b,T[":@"]);O===!1||(typeof O=="string"&&(T.tagname=O),y.addChild(T))}const l=function(y){if(this.options.processEntities){for(let T in this.docTypeEntities){const b=this.docTypeEntities[T];y=y.replace(b.regx,b.val)}for(let T in this.lastEntities){const b=this.lastEntities[T];y=y.replace(b.regex,b.val)}if(this.options.htmlEntities)for(let T in this.htmlEntities){const b=this.htmlEntities[T];y=y.replace(b.regex,b.val)}y=y.replace(this.ampEntity.regex,this.ampEntity.val)}return y};function p(y,T,b,O){return y&&(O===void 0&&(O=Object.keys(T.child).length===0),y=this.parseTextData(y,T.tagname,b,!1,T[":@"]?Object.keys(T[":@"]).length!==0:!1,O),y!==void 0&&y!==""&&T.add(this.options.textNodeName,y),y=""),y}function x(y,T,b){const O="*."+b;for(const F in y){const B=y[F];if(O===B||T===B)return!0}return!1}function v(y,T,b=">"){let O,F="";for(let B=T;B<y.length;B++){let z=y[B];if(O)z===O&&(O="");else if(z==='"'||z==="'")O=z;else if(z===b[0])if(b[1]){if(y[B+1]===b[1])return{data:F,index:B}}else return{data:F,index:B};else z==="	"&&(z=" ");F+=z}}function R(y,T,b,O){const F=y.indexOf(T,b);if(F===-1)throw new Error(O);return F+T.length-1}function m(y,T,b,O=">"){const F=v(y,T+1,O);if(!F)return;let B=F.data;const z=F.index,$=B.search(/\s/);let k=B,K=!0;$!==-1&&(k=B.substring(0,$),B=B.substring($+1).trimStart());const X=k;if(b){const qe=k.indexOf(":");qe!==-1&&(k=k.substr(qe+1),K=k!==F.data.substr(qe+1))}return{tagName:k,tagExp:B,closeIndex:z,attrExpPresent:K,rawTagName:X}}function w(y,T,b){const O=b;let F=1;for(;b<y.length;b++)if(y[b]==="<")if(y[b+1]==="/"){const B=R(y,">",b,`${T} is not closed`);if(y.substring(b+2,B).trim()===T&&(F--,F===0))return{tagContent:y.substring(O,b),i:B};b=B}else if(y[b+1]==="?")b=R(y,"?>",b+1,"StopNode is not closed.");else if(y.substr(b+1,3)==="!--")b=R(y,"-->",b+3,"StopNode is not closed.");else if(y.substr(b+1,2)==="![")b=R(y,"]]>",b,"StopNode is not closed.")-2;else{const B=m(y,b,">");B&&((B&&B.tagName)===T&&B.tagExp[B.tagExp.length-1]!=="/"&&F++,b=B.closeIndex)}}function I(y,T,b){if(T&&typeof y=="string"){const O=y.trim();return O==="true"?!0:O==="false"?!1:s(y,b)}else return e.isExist(y)?y:""}return Is=r,Is}var Ns={},wo;function Lf(){if(wo)return Ns;wo=1;function e(i,o){return t(i,o)}function t(i,o,a){let c;const u={};for(let d=0;d<i.length;d++){const h=i[d],l=n(h);let p="";if(a===void 0?p=l:p=a+"."+l,l===o.textNodeName)c===void 0?c=h[l]:c+=""+h[l];else{if(l===void 0)continue;if(h[l]){let x=t(h[l],o,p);const v=r(x,o);h[":@"]?s(x,h[":@"],p,o):Object.keys(x).length===1&&x[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?x=x[o.textNodeName]:Object.keys(x).length===0&&(o.alwaysCreateTextNode?x[o.textNodeName]="":x=""),u[l]!==void 0&&u.hasOwnProperty(l)?(Array.isArray(u[l])||(u[l]=[u[l]]),u[l].push(x)):o.isArray(l,p,v)?u[l]=[x]:u[l]=x}}}return typeof c=="string"?c.length>0&&(u[o.textNodeName]=c):c!==void 0&&(u[o.textNodeName]=c),u}function n(i){const o=Object.keys(i);for(let a=0;a<o.length;a++){const c=o[a];if(c!==":@")return c}}function s(i,o,a,c){if(o){const u=Object.keys(o),d=u.length;for(let h=0;h<d;h++){const l=u[h];c.isArray(l,a+"."+l,!0,!0)?i[l]=[o[l]]:i[l]=o[l]}}}function r(i,o){const{textNodeName:a}=o,c=Object.keys(i).length;return!!(c===0||c===1&&(i[a]||typeof i[a]=="boolean"||i[a]===0))}return Ns.prettify=e,Ns}var Ps,xo;function Hf(){if(xo)return Ps;xo=1;const{buildOptions:e}=Of(),t=Uf(),{prettify:n}=Lf(),s=$c();class r{constructor(o){this.externalEntities={},this.options=e(o)}parse(o,a){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(a){a===!0&&(a={});const d=s.validate(o,a);if(d!==!0)throw Error(`${d.err.msg}:${d.err.line}:${d.err.col}`)}const c=new t(this.options);c.addExternalEntities(this.externalEntities);const u=c.parseXml(o);return this.options.preserveOrder||u===void 0?u:n(u,this.options)}addEntity(o,a){if(a.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(a==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=a}}return Ps=r,Ps}var Ms,Eo;function zf(){if(Eo)return Ms;Eo=1;const e=`
`;function t(a,c){let u="";return c.format&&c.indentBy.length>0&&(u=e),n(a,c,"",u)}function n(a,c,u,d){let h="",l=!1;for(let p=0;p<a.length;p++){const x=a[p],v=s(x);if(v===void 0)continue;let R="";if(u.length===0?R=v:R=`${u}.${v}`,v===c.textNodeName){let T=x[v];i(R,c)||(T=c.tagValueProcessor(v,T),T=o(T,c)),l&&(h+=d),h+=T,l=!1;continue}else if(v===c.cdataPropName){l&&(h+=d),h+=`<![CDATA[${x[v][0][c.textNodeName]}]]>`,l=!1;continue}else if(v===c.commentPropName){h+=d+`<!--${x[v][0][c.textNodeName]}-->`,l=!0;continue}else if(v[0]==="?"){const T=r(x[":@"],c),b=v==="?xml"?"":d;let O=x[v][0][c.textNodeName];O=O.length!==0?" "+O:"",h+=b+`<${v}${O}${T}?>`,l=!0;continue}let m=d;m!==""&&(m+=c.indentBy);const w=r(x[":@"],c),I=d+`<${v}${w}`,y=n(x[v],c,R,m);c.unpairedTags.indexOf(v)!==-1?c.suppressUnpairedNode?h+=I+">":h+=I+"/>":(!y||y.length===0)&&c.suppressEmptyNode?h+=I+"/>":y&&y.endsWith(">")?h+=I+`>${y}${d}</${v}>`:(h+=I+">",y&&d!==""&&(y.includes("/>")||y.includes("</"))?h+=d+c.indentBy+y+d:h+=y,h+=`</${v}>`),l=!0}return h}function s(a){const c=Object.keys(a);for(let u=0;u<c.length;u++){const d=c[u];if(a.hasOwnProperty(d)&&d!==":@")return d}}function r(a,c){let u="";if(a&&!c.ignoreAttributes)for(let d in a){if(!a.hasOwnProperty(d))continue;let h=c.attributeValueProcessor(d,a[d]);h=o(h,c),h===!0&&c.suppressBooleanAttributes?u+=` ${d.substr(c.attributeNamePrefix.length)}`:u+=` ${d.substr(c.attributeNamePrefix.length)}="${h}"`}return u}function i(a,c){a=a.substr(0,a.length-c.textNodeName.length-1);let u=a.substr(a.lastIndexOf(".")+1);for(let d in c.stopNodes)if(c.stopNodes[d]===a||c.stopNodes[d]==="*."+u)return!0;return!1}function o(a,c){if(a&&a.length>0&&c.processEntities)for(let u=0;u<c.entities.length;u++){const d=c.entities[u];a=a.replace(d.regex,d.val)}return a}return Ms=t,Ms}var Os,So;function qf(){if(So)return Os;So=1;const e=zf(),t={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,a){return a},attributeValueProcessor:function(o,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function n(o){this.options=Object.assign({},t,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=i),this.processTextOrObjNode=s,this.options.format?(this.indentate=r,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}n.prototype.build=function(o){return this.options.preserveOrder?e(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},n.prototype.j2x=function(o,a){let c="",u="";for(let d in o)if(Object.prototype.hasOwnProperty.call(o,d))if(typeof o[d]>"u")this.isAttribute(d)&&(u+="");else if(o[d]===null)this.isAttribute(d)?u+="":d[0]==="?"?u+=this.indentate(a)+"<"+d+"?"+this.tagEndChar:u+=this.indentate(a)+"<"+d+"/"+this.tagEndChar;else if(o[d]instanceof Date)u+=this.buildTextValNode(o[d],d,"",a);else if(typeof o[d]!="object"){const h=this.isAttribute(d);if(h)c+=this.buildAttrPairStr(h,""+o[d]);else if(d===this.options.textNodeName){let l=this.options.tagValueProcessor(d,""+o[d]);u+=this.replaceEntitiesValue(l)}else u+=this.buildTextValNode(o[d],d,"",a)}else if(Array.isArray(o[d])){const h=o[d].length;let l="",p="";for(let x=0;x<h;x++){const v=o[d][x];if(!(typeof v>"u"))if(v===null)d[0]==="?"?u+=this.indentate(a)+"<"+d+"?"+this.tagEndChar:u+=this.indentate(a)+"<"+d+"/"+this.tagEndChar;else if(typeof v=="object")if(this.options.oneListGroup){const R=this.j2x(v,a+1);l+=R.val,this.options.attributesGroupName&&v.hasOwnProperty(this.options.attributesGroupName)&&(p+=R.attrStr)}else l+=this.processTextOrObjNode(v,d,a);else if(this.options.oneListGroup){let R=this.options.tagValueProcessor(d,v);R=this.replaceEntitiesValue(R),l+=R}else l+=this.buildTextValNode(v,d,"",a)}this.options.oneListGroup&&(l=this.buildObjectNode(l,d,p,a)),u+=l}else if(this.options.attributesGroupName&&d===this.options.attributesGroupName){const h=Object.keys(o[d]),l=h.length;for(let p=0;p<l;p++)c+=this.buildAttrPairStr(h[p],""+o[d][h[p]])}else u+=this.processTextOrObjNode(o[d],d,a);return{attrStr:c,val:u}},n.prototype.buildAttrPairStr=function(o,a){return a=this.options.attributeValueProcessor(o,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+o:" "+o+'="'+a+'"'};function s(o,a,c){const u=this.j2x(o,c+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],a,u.attrStr,c):this.buildObjectNode(u.val,a,u.attrStr,c)}n.prototype.buildObjectNode=function(o,a,c,u){if(o==="")return a[0]==="?"?this.indentate(u)+"<"+a+c+"?"+this.tagEndChar:this.indentate(u)+"<"+a+c+this.closeTag(a)+this.tagEndChar;{let d="</"+a+this.tagEndChar,h="";return a[0]==="?"&&(h="?",d=""),(c||c==="")&&o.indexOf("<")===-1?this.indentate(u)+"<"+a+c+h+">"+o+d:this.options.commentPropName!==!1&&a===this.options.commentPropName&&h.length===0?this.indentate(u)+`<!--${o}-->`+this.newLine:this.indentate(u)+"<"+a+c+h+this.tagEndChar+o+this.indentate(u)+d}},n.prototype.closeTag=function(o){let a="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(a="/"):this.options.suppressEmptyNode?a="/":a=`></${o}`,a},n.prototype.buildTextValNode=function(o,a,c,u){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(u)+`<![CDATA[${o}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(u)+`<!--${o}-->`+this.newLine;if(a[0]==="?")return this.indentate(u)+"<"+a+c+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(a,o);return d=this.replaceEntitiesValue(d),d===""?this.indentate(u)+"<"+a+c+this.closeTag(a)+this.tagEndChar:this.indentate(u)+"<"+a+c+">"+d+"</"+a+this.tagEndChar}},n.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){const c=this.options.entities[a];o=o.replace(c.regex,c.val)}return o};function r(o){return this.options.indentBy.repeat(o)}function i(o){return o.startsWith(this.options.attributeNamePrefix)&&o!==this.options.textNodeName?o.substr(this.attrPrefixLen):!1}return Os=n,Os}var Fs,Ao;function jf(){if(Ao)return Fs;Ao=1;const e=$c(),t=Hf(),n=qf();return Fs={XMLParser:t,XMLValidator:e,XMLBuilder:n},Fs}var Vf=jf();const ts=(e,t)=>Mf(e,t).then(n=>{if(n.length){const s=new Vf.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let r;try{r=s.parse(n,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:n}),c}const i="#text",o=Object.keys(r)[0],a=r[o];return a[i]&&(a[o]=a[i],delete a[i]),Dc(a)}return{}}),Kf=async(e,t)=>{const n=await ts(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},Gf=(e,t)=>{var n;if(((n=t==null?void 0:t.Error)==null?void 0:n.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},$r=[ie.CRC32,ie.CRC32C,ie.SHA1,ie.SHA256],Wf=[ie.SHA256,ie.SHA1,ie.CRC32,ie.CRC32C],Xf=(e,{requestChecksumRequired:t,requestAlgorithmMember:n},s)=>{const r=s?qd:zd;if(!n||!e[n])return t?r:void 0;const i=e[n];if(!$r.includes(i))throw new Error(`The checksum algorithm "${i}" is not supported by the client. Select one of ${$r}.`);return i},ii=e=>e===ie.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,Zf=(e,t)=>{const n=e.toLowerCase();for(const s of Object.keys(t))if(n===s.toLowerCase())return!0;return!1},oi=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!Tc(e),Uc=e=>new TextEncoder().encode(e);var Qf=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Uc;function yt(e){return e instanceof Uint8Array?e:typeof e=="string"?Qf(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function on(e){return typeof e=="string"?e.length===0:e.byteLength===0}function Lc(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}function Hc(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}var Yf=function(){function e(){this.crc32c=new Co}return e.prototype.update=function(t){on(t)||this.crc32c.update(yt(t))},e.prototype.digest=function(){return Gr(this,void 0,void 0,function(){return Wr(this,function(t){return[2,Lc(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new Co},e}(),Co=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var n,s;try{for(var r=fc(t),i=r.next();!i.done;i=r.next()){var o=i.value;this.checksum=this.checksum>>>8^eh[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),Jf=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],eh=Hc(Jf),th=function(){function e(){this.crc32=new Hn}return e.prototype.update=function(t){on(t)||this.crc32.update(yt(t))},e.prototype.digest=function(){return Gr(this,void 0,void 0,function(){return Wr(this,function(t){return[2,Lc(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Hn},e}(),Hn=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var n,s;try{for(var r=fc(t),i=r.next();!i.done;i=r.next()){var o=i.value;this.checksum=this.checksum>>>8^sh[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),nh=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],sh=Hc(nh);const rh=()=>th,zc=(e,t)=>({[ie.MD5]:t.md5,[ie.CRC32]:rh(),[ie.CRC32C]:Yf,[ie.SHA1]:t.sha1,[ie.SHA256]:t.sha256})[e],qc=(e,t)=>{const n=new e;return n.update(Ft(t||"")),n.digest()},ih={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},oh=(e,t)=>(n,s)=>async r=>{if(!fe.isInstance(r.request))return n(r);const{request:i,input:o}=r,{body:a,headers:c}=i,{base64Encoder:u,streamHasher:d}=e,{requestChecksumRequired:h,requestAlgorithmMember:l}=t,p=Xf(o,{requestChecksumRequired:h,requestAlgorithmMember:l},!!s.isS3ExpressBucket);let x=a,v=c;if(p){switch(p){case ie.CRC32:Ie(s,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case ie.CRC32C:Ie(s,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case ie.SHA1:Ie(s,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case ie.SHA256:Ie(s,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const m=ii(p),w=zc(p,e);if(oi(a)){const{getAwsChunkedEncodingStream:I,bodyLengthChecker:y}=e;x=I(a,{base64Encoder:u,bodyLengthChecker:y,checksumLocationName:m,checksumAlgorithmFn:w,streamHasher:d}),v={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":m},delete v["content-length"]}else if(!Zf(m,c)){const I=await qc(w,a);v={...c,[m]:u(I)}}}return await n({...r,request:{...i,headers:v,body:x}})},jc=(e=[])=>{const t=[];for(const n of Wf)!e.includes(n)||!$r.includes(n)||t.push(n);return t},ah=e=>{const t=e.lastIndexOf("-");if(t!==-1){const n=e.slice(t+1);if(!n.startsWith("0")){const s=parseInt(n,10);if(!isNaN(s)&&s>=1&&s<=1e4)return!0}}return!1};function vo(e){return new Blob([e]).stream()}const ch=async(e,{checksumAlgorithmFn:t,base64Encoder:n})=>n(await qc(t,e)),uh=async(e,{config:t,responseAlgorithms:n})=>{const s=jc(n),{body:r,headers:i}=e;for(const o of s){const a=ii(o),c=i[a];if(c){const u=zc(o,t),{base64Encoder:d}=t;if(oi(r)){e.body=xl({expectedChecksum:c,checksumSourceLocation:a,checksum:new u,source:r,base64Encoder:d});return}const h=await ch(r,{checksumAlgorithmFn:u,base64Encoder:d});if(h===c)break;throw new Error(`Checksum mismatch: expected "${h}" but received "${c}" in response header "${a}".`)}}},dh={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},lh=(e,t)=>(n,s)=>async r=>{if(!fe.isInstance(r.request))return n(r);const i=r.input,o=await n(r),a=o.response;let c;const{requestValidationModeMember:u,responseAlgorithms:d}=t;if(u&&i[u]==="ENABLED"){const{clientName:h,commandName:l}=s;if(h==="S3Client"&&l==="GetObjectCommand"&&jc(d).every(v=>{const R=ii(v),m=a.headers[R];return!m||ah(m)}))return o;const x=oi(a.body);x&&(c=await e.streamCollector(a.body),a.body=vo(c)),await uh(o.response,{config:e,responseAlgorithms:d}),x&&c&&(a.body=vo(c))}return o},Vc=(e,t)=>({applyToStack:n=>{n.add(oh(e,t),ih),n.addRelativeTo(lh(e,t),dh)}}),fh=e=>({...e,requestChecksumCalculation:Ye(e.requestChecksumCalculation??Ld),responseChecksumValidation:Ye(e.responseChecksumValidation??Hd)});const hh=e=>t=>async n=>{if(!fe.isInstance(n.request))return t(n);const{request:s}=n,{handlerProtocol:r=""}=e.requestHandler.metadata||{};if(r.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let i=s.hostname;s.port!=null&&(i+=`:${s.port}`),s.headers.host=i}return t(n)},ph={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},gh=e=>({applyToStack:t=>{t.add(hh(e),ph)}}),mh=()=>(e,t)=>async n=>{var s,r;try{const i=await e(n),{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=t,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:h}=u,l=d??t.inputFilterSensitiveLog,p=h??t.outputFilterSensitiveLog,{$metadata:x,...v}=i.output;return(s=c==null?void 0:c.info)==null||s.call(c,{clientName:o,commandName:a,input:l(n.input),output:p(v),metadata:x}),i}catch(i){const{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=t,{overrideInputFilterSensitiveLog:d}=u,h=d??t.inputFilterSensitiveLog;throw(r=c==null?void 0:c.error)==null||r.call(c,{clientName:o,commandName:a,input:h(n.input),error:i,metadata:i.$metadata}),i}},yh={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},bh=e=>({applyToStack:t=>{t.add(mh(),yh)}});var Ro={};const ko="X-Amzn-Trace-Id",wh="AWS_LAMBDA_FUNCTION_NAME",xh="_X_AMZN_TRACE_ID",Eh=e=>t=>async n=>{const{request:s}=n;if(!fe.isInstance(s)||e.runtime!=="node"||s.headers.hasOwnProperty(ko))return t(n);const r=Ro[wh],i=Ro[xh],o=a=>typeof a=="string"&&a.length>0;return o(r)&&o(i)&&(s.headers[ko]=i),t({...n,request:s})},Sh={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Ah=e=>({applyToStack:t=>{t.add(Eh(e),Sh)}}),Ch="content-length";function vh(){return(e,t)=>async n=>{var r;const{request:s}=n;if(fe.isInstance(s)&&!(Ch in s.headers)){const i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((r=t==null?void 0:t.logger)==null?void 0:r.warn)=="function"&&!(t.logger instanceof si)?t.logger.warn(i):console.warn(i)}return e({...n})}}const Rh={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},kh=e=>({applyToStack:t=>{t.add(vh(),Rh)}}),_h=e=>(t,n)=>async s=>{const r=await e.region(),i=e.region;let o=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>n.__s3RegionRedirect}),o=()=>Object.defineProperty(e,"region",{writable:!0,value:i}));try{const a=await t(s);if(n.__s3RegionRedirect){o();const c=await e.region();if(r!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}},Th={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function Bh(e){return(t,n)=>async s=>{var r,i,o;try{return await t(s)}catch(a){if(e.followRegionRedirects&&(((r=a==null?void 0:a.$metadata)==null?void 0:r.httpStatusCode)===301||((i=a==null?void 0:a.$metadata)==null?void 0:i.httpStatusCode)===400&&(a==null?void 0:a.name)==="IllegalLocationConstraintException")){try{const c=a.$response.headers["x-amz-bucket-region"];(o=n.logger)==null||o.debug(`Redirecting from ${await e.region()} to ${c}`),n.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return t(s)}throw a}}}const Ih={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Nh=e=>({applyToStack:t=>{t.add(Bh(e),Ih),t.addRelativeTo(_h(e),Th)}});class ns{constructor(t={}){this.data=t,this.lastPurgeTime=Date.now()}get(t){const n=this.data[t];if(n)return n}set(t,n){return this.data[t]=n,n}delete(t){delete this.data[t]}async purgeExpired(){const t=Date.now();if(!(this.lastPurgeTime+ns.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(const n in this.data){const s=this.data[n];if(!s.isRefreshing){const r=await s.identity;r.expiration&&r.expiration.getTime()<t&&delete this.data[n]}}}}ns.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;class Ds{constructor(t,n=!1,s=Date.now()){this._identity=t,this.isRefreshing=n,this.accessed=s}get identity(){return this.accessed=Date.now(),this._identity}}class ss{constructor(t,n=new ns){this.createSessionFn=t,this.cache=n}async getS3ExpressIdentity(t,n){const s=n.Bucket,{cache:r}=this,i=r.get(s);return i?i.identity.then(o=>{var u,d;return(((u=o.expiration)==null?void 0:u.getTime())??0)<Date.now()?r.set(s,new Ds(this.getIdentity(s))).identity:((((d=o.expiration)==null?void 0:d.getTime())??0)<Date.now()+ss.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(s).then(h=>{r.set(s,new Ds(Promise.resolve(h)))})),o)}):r.set(s,new Ds(this.getIdentity(s))).identity}async getIdentity(t){var r,i;await this.cache.purgeExpired().catch(o=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+o)});const n=await this.createSessionFn(t);if(!((r=n.Credentials)!=null&&r.AccessKeyId)||!((i=n.Credentials)!=null&&i.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretAccessKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration?new Date(n.Credentials.Expiration):void 0}}}ss.REFRESH_WINDOW_MS=6e4;var _o;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(_o||(_o={}));const Ph="Directory",Mh="S3Express",Oh="sigv4-s3express",Ur="X-Amz-S3session-Token",Lr=Ur.toLowerCase();class Fh extends Fr{async signWithCredentials(t,n,s){const r=To(n);t.headers[Lr]=n.sessionToken;const i=this;return Bo(i,r),i.signRequest(t,s??{})}async presignWithCredentials(t,n,s){const r=To(n);return delete t.headers[Lr],t.headers[Ur]=n.sessionToken,t.query=t.query??{},t.query[Ur]=n.sessionToken,Bo(this,r),this.presign(t,s)}}function To(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function Bo(e,t){const n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),s=e.credentialProvider,r=()=>(clearTimeout(n),e.credentialProvider=s,Promise.resolve(t));e.credentialProvider=r}const Dh=e=>(t,n)=>async s=>{var r,i,o,a,c;if(n.endpointV2){const u=n.endpointV2,d=((o=(i=(r=u.properties)==null?void 0:r.authSchemes)==null?void 0:i[0])==null?void 0:o.name)===Oh;if((((a=u.properties)==null?void 0:a.backend)===Mh||((c=u.properties)==null?void 0:c.bucketType)===Ph)&&(Ie(n,"S3_EXPRESS_BUCKET","J"),n.isS3ExpressBucket=!0),d){const l=s.input.Bucket;if(l){const p=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:l});n.s3ExpressIdentity=p,fe.isInstance(s.request)&&p.sessionToken&&(s.request.headers[Lr]=p.sessionToken)}}}return t(s)},$h={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},Uh=e=>({applyToStack:t=>{t.add(Dh(e),$h)}}),Lh=async(e,t,n,s)=>{const r=await s.signWithCredentials(n,e,{});if(r.headers["X-Amz-Security-Token"]||r.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return r},Hh=e=>t=>{throw t},zh=(e,t)=>{},qh=e=>(t,n)=>async s=>{if(!fe.isInstance(s.request))return t(s);const i=zt(n).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i;let u;n.s3ExpressIdentity?u=await Lh(n.s3ExpressIdentity,o,s.request,await e.signer()):u=await c.sign(s.request,a,o);const d=await t({...s,request:u}).catch((c.errorHandler||Hh)(o));return(c.successHandler||zh)(d.response,o),d},jh=e=>({applyToStack:t=>{t.addRelativeTo(qh(e),mc)}}),Vh=(e,{session:t})=>{const[n,s]=t;return{...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1,s3ExpressIdentityProvider:e.s3ExpressIdentityProvider??new ss(async r=>n().send(new s({Bucket:r,SessionMode:"ReadWrite"}))),bucketEndpoint:e.bucketEndpoint??!1}},Kh={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},Gh=3e3,Wh=e=>(t,n)=>async s=>{const r=await t(s),{response:i}=r;if(!sn.isInstance(i))return r;const{statusCode:o,body:a}=i;if(o<200||o>=300||!(typeof(a==null?void 0:a.stream)=="function"||typeof(a==null?void 0:a.pipe)=="function"||typeof(a==null?void 0:a.tee)=="function"))return r;let u=a,d=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([u,d]=await ml(a)),i.body=d;const h=await Xh(u,{streamCollector:async p=>yl(p,Gh)});typeof(u==null?void 0:u.destroy)=="function"&&u.destroy();const l=e.utf8Encoder(h.subarray(h.length-16));if(h.length===0&&Kh[n.commandName]){const p=new Error("S3 aborted request");throw p.name="InternalError",p}return l&&l.endsWith("</Error>")&&(i.statusCode=400),r},Xh=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),Zh={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},rs=e=>({applyToStack:t=>{t.addRelativeTo(Wh(e),Zh)}}),Qh=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function Yh(e){return(t,n)=>async s=>{var r,i,o,a;if(e.bucketEndpoint){const c=n.endpointV2;if(c){const u=s.input.Bucket;if(typeof u=="string")try{const d=new URL(u);n.endpointV2={...c,url:d}}catch(d){const h=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${u} could not be parsed as URL.`;throw((i=(r=n.logger)==null?void 0:r.constructor)==null?void 0:i.name)==="NoOpLogger"?console.warn(h):(a=(o=n.logger)==null?void 0:o.warn)==null||a.call(o,h),d}}}return t(s)}}const Jh={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function ep({bucketEndpoint:e}){return t=>async n=>{const{input:{Bucket:s}}=n;if(!e&&typeof s=="string"&&!Qh(s)&&s.indexOf("/")>=0){const r=new Error(`Bucket name shouldn't contain '/', received '${s}'`);throw r.name="InvalidBucketName",r}return t({...n})}}const tp={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},np=e=>({applyToStack:t=>{t.add(ep(e),tp),t.addRelativeTo(Yh(e),Jh)}}),sp=void 0;function rp(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function ip(e){const t=Pt(e.userAgentAppId??sp);return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent,userAgentAppId:async()=>{var s,r;const n=await t();if(!rp(n)){const i=((r=(s=e.logger)==null?void 0:s.constructor)==null?void 0:r.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?i==null||i.warn("userAgentAppId must be a string or undefined."):n.length>50&&(i==null||i.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return n}}}class op{constructor({size:t,params:n}){this.data=new Map,this.parameters=[],this.capacity=t??50,n&&(this.parameters=n)}get(t,n){const s=this.hash(t);if(s===!1)return n();if(!this.data.has(s)){if(this.data.size>this.capacity+10){const r=this.data.keys();let i=0;for(;;){const{value:o,done:a}=r.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(s,n())}return this.data.get(s)}size(){return this.data.size}hash(t){let n="";const{parameters:s}=this;if(s.length===0)return!1;for(const r of s){const i=String(t[r]??"");if(i.includes("|;"))return!1;n+=i+"|;"}return n}}const ap=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Kc=e=>ap.test(e)||e.startsWith("[")&&e.endsWith("]"),cp=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ai=(e,t=!1)=>{if(!t)return cp.test(e);const n=e.split(".");for(const s of n)if(!ai(s))return!1;return!0},zn={},an="endpoints";function bt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${bt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(bt).join(", ")})`:JSON.stringify(e,null,2)}class Oe extends Error{constructor(t){super(t),this.name="EndpointError"}}const up=(e,t)=>e===t,dp=e=>{const t=e.split("."),n=[];for(const s of t){const r=s.indexOf("[");if(r!==-1){if(s.indexOf("]")!==s.length-1)throw new Oe(`Path: '${e}' does not end with ']'`);const i=s.slice(r+1,-1);if(Number.isNaN(parseInt(i)))throw new Oe(`Invalid array index: '${i}' in path: '${e}'`);r!==0&&n.push(s.slice(0,r)),n.push(i)}else n.push(s)}return n},Gc=(e,t)=>dp(t).reduce((n,s)=>{if(typeof n!="object")throw new Oe(`Index '${s}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(s)]:n[s]},e),lp=e=>e!=null,fp=e=>!e,$s={[nn.HTTP]:80,[nn.HTTPS]:443},hp=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:l,port:p,protocol:x="",path:v="",query:R={}}=e,m=new URL(`${x}//${l}${p?`:${p}`:""}${v}`);return m.search=Object.entries(R).map(([w,I])=>`${w}=${I}`).join("&"),m}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:s,hostname:r,pathname:i,protocol:o,search:a}=t;if(a)return null;const c=o.slice(0,-1);if(!Object.values(nn).includes(c))return null;const u=Kc(r),d=n.includes(`${s}:${$s[c]}`)||typeof e=="string"&&e.includes(`${s}:${$s[c]}`),h=`${s}${d?`:${$s[c]}`:""}`;return{scheme:c,authority:h,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:u}},pp=(e,t)=>e===t,gp=(e,t,n,s)=>t>=n||e.length<n?null:s?e.substring(e.length-n,e.length-t):e.substring(t,n),mp=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),yp={booleanEquals:up,getAttr:Gc,isSet:lp,isValidHostLabel:ai,not:fp,parseURL:hp,stringEquals:pp,substring:gp,uriEncode:mp},Wc=(e,t)=>{const n=[],s={...t.endpointParams,...t.referenceRecord};let r=0;for(;r<e.length;){const i=e.indexOf("{",r);if(i===-1){n.push(e.slice(r));break}n.push(e.slice(r,i));const o=e.indexOf("}",i);if(o===-1){n.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(n.push(e.slice(i+1,o)),r=o+2);const a=e.substring(i+1,o);if(a.includes("#")){const[c,u]=a.split("#");n.push(Gc(s[c],u))}else n.push(s[a]);r=o+1}return n.join("")},bp=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],is=(e,t,n)=>{if(typeof e=="string")return Wc(e,n);if(e.fn)return Xc(e,n);if(e.ref)return bp(e,n);throw new Oe(`'${t}': ${String(e)} is not a string, function or reference.`)},Xc=({fn:e,argv:t},n)=>{const s=t.map(i=>["boolean","number"].includes(typeof i)?i:is(i,"arg",n)),r=e.split(".");return r[0]in zn&&r[1]!=null?zn[r[0]][r[1]](...s):yp[e](...s)},wp=({assign:e,...t},n)=>{var r,i;if(e&&e in n.referenceRecord)throw new Oe(`'${e}' is already defined in Reference Record.`);const s=Xc(t,n);return(i=(r=n.logger)==null?void 0:r.debug)==null||i.call(r,`${an} evaluateCondition: ${bt(t)} = ${bt(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},ci=(e=[],t)=>{var s,r;const n={};for(const i of e){const{result:o,toAssign:a}=wp(i,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!o)return{result:o};a&&(n[a.name]=a.value,(r=(s=t.logger)==null?void 0:s.debug)==null||r.call(s,`${an} assign: ${a.name} := ${bt(a.value)}`))}return{result:!0,referenceRecord:n}},xp=(e,t)=>Object.entries(e).reduce((n,[s,r])=>({...n,[s]:r.map(i=>{const o=is(i,"Header value entry",t);if(typeof o!="string")throw new Oe(`Header '${s}' value '${o}' is not a string`);return o})}),{}),Zc=(e,t)=>{if(Array.isArray(e))return e.map(n=>Zc(n,t));switch(typeof e){case"string":return Wc(e,t);case"object":if(e===null)throw new Oe(`Unexpected endpoint property: ${e}`);return Qc(e,t);case"boolean":return e;default:throw new Oe(`Unexpected endpoint property type: ${typeof e}`)}},Qc=(e,t)=>Object.entries(e).reduce((n,[s,r])=>({...n,[s]:Zc(r,t)}),{}),Ep=(e,t)=>{const n=is(e,"Endpoint URL",t);if(typeof n=="string")try{return new URL(n)}catch(s){throw console.error(`Failed to construct URL with ${n}`,s),s}throw new Oe(`Endpoint URL must be a string, got ${typeof n}`)},Sp=(e,t)=>{var d,h;const{conditions:n,endpoint:s}=e,{result:r,referenceRecord:i}=ci(n,t);if(!r)return;const o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:c,headers:u}=s;return(h=(d=t.logger)==null?void 0:d.debug)==null||h.call(d,`${an} Resolving endpoint from template: ${bt(s)}`),{...u!=null&&{headers:xp(u,o)},...c!=null&&{properties:Qc(c,o)},url:Ep(a,o)}},Ap=(e,t)=>{const{conditions:n,error:s}=e,{result:r,referenceRecord:i}=ci(n,t);if(r)throw new Oe(is(s,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},Cp=(e,t)=>{const{conditions:n,rules:s}=e,{result:r,referenceRecord:i}=ci(n,t);if(r)return Yc(s,{...t,referenceRecord:{...t.referenceRecord,...i}})},Yc=(e,t)=>{for(const n of e)if(n.type==="endpoint"){const s=Sp(n,t);if(s)return s}else if(n.type==="error")Ap(n,t);else if(n.type==="tree"){const s=Cp(n,t);if(s)return s}else throw new Oe(`Unknown endpoint rule: ${n}`);throw new Oe("Rules evaluation failed")},vp=(e,t)=>{var u,d,h,l;const{endpointParams:n,logger:s}=t,{parameters:r,rules:i}=e;(d=(u=t.logger)==null?void 0:u.debug)==null||d.call(u,`${an} Initial EndpointParams: ${bt(n)}`);const o=Object.entries(r).filter(([,p])=>p.default!=null).map(([p,x])=>[p,x.default]);if(o.length>0)for(const[p,x]of o)n[p]=n[p]??x;const a=Object.entries(r).filter(([,p])=>p.required).map(([p])=>p);for(const p of a)if(n[p]==null)throw new Oe(`Missing required parameter: '${p}'`);const c=Yc(i,{endpointParams:n,logger:s,referenceRecord:{}});return(l=(h=t.logger)==null?void 0:h.debug)==null||l.call(h,`${an} Resolved endpoint: ${bt(c)}`),c},Jc=(e,t=!1)=>{if(t){for(const n of e.split("."))if(!Jc(n))return!1;return!0}return!(!ai(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Kc(e))},Io=":",Rp="/",kp=e=>{const t=e.split(Io);if(t.length<6)return null;const[n,s,r,i,o,...a]=t;if(n!=="arn"||s===""||r===""||a.join(Io)==="")return null;const c=a.map(u=>u.split(Rp)).flat();return{partition:s,service:r,region:i,accountId:o,resourceId:c}},_p=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],Tp="1.1",Bp={partitions:_p,version:Tp};let Ip=Bp;const Np=e=>{const{partitions:t}=Ip;for(const s of t){const{regions:r,outputs:i}=s;for(const[o,a]of Object.entries(r))if(o===e)return{...i,...a}}for(const s of t){const{regionRegex:r,outputs:i}=s;if(new RegExp(r).test(e))return{...i}}const n=t.find(s=>s.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},eu={isVirtualHostableS3Bucket:Jc,parseArn:kp,partition:Np};zn.aws=eu;const Pp=/\d{12}\.ddb/;async function Mp(e,t,n){var i,o,a,c,u,d,h;const s=n.request;if(((i=s==null?void 0:s.headers)==null?void 0:i["smithy-protocol"])==="rpc-v2-cbor"&&Ie(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){const l=await t.retryStrategy();typeof l.acquireInitialRetryToken=="function"?(a=(o=l.constructor)==null?void 0:o.name)!=null&&a.includes("Adaptive")?Ie(e,"RETRY_MODE_ADAPTIVE","F"):Ie(e,"RETRY_MODE_STANDARD","E"):Ie(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){const l=e.endpointV2;switch(String((c=l==null?void 0:l.url)==null?void 0:c.hostname).match(Pp)&&Ie(e,"ACCOUNT_ID_ENDPOINT","O"),await((u=t.accountIdEndpointMode)==null?void 0:u.call(t))){case"disabled":Ie(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Ie(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Ie(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const r=(h=(d=e.__smithy_context)==null?void 0:d.selectedHttpAuthScheme)==null?void 0:h.identity;if(r!=null&&r.$source){const l=r;l.accountId&&Ie(e,"RESOLVED_ACCOUNT_ID","T");for(const[p,x]of Object.entries(l.$source??{}))Ie(e,p,x)}}const No="user-agent",Us="x-amz-user-agent",Po=" ",Ls="/",Op=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Fp=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Mo="-",Dp=1024;function $p(e){let t="";for(const n in e){const s=e[n];if(t.length+s.length+1<=Dp){t.length?t+=","+s:t+=s;continue}break}return t}const Up=e=>(t,n)=>async s=>{var p,x,v,R;const{request:r}=s;if(!fe.isInstance(r))return t(s);const{headers:i}=r,o=((p=n==null?void 0:n.userAgent)==null?void 0:p.map(mn))||[],a=(await e.defaultUserAgentProvider()).map(mn);await Mp(n,e,s);const c=n;a.push(`m/${$p(Object.assign({},(x=n.__smithy_context)==null?void 0:x.features,(v=c.__aws_sdk_context)==null?void 0:v.features))}`);const u=((R=e==null?void 0:e.customUserAgent)==null?void 0:R.map(mn))||[],d=await e.userAgentAppId();d&&a.push(mn([`app/${d}`]));const h=[].concat([...a,...o,...u]).join(Po),l=[...a.filter(m=>m.startsWith("aws-sdk-")),...u].join(Po);return e.runtime!=="browser"?(l&&(i[Us]=i[Us]?`${i[No]} ${l}`:l),i[No]=h):i[Us]=h,t({...s,request:r})},mn=e=>{var o;const t=e[0].split(Ls).map(a=>a.replace(Op,Mo)).join(Ls),n=(o=e[1])==null?void 0:o.replace(Fp,Mo),s=t.indexOf(Ls),r=t.substring(0,s);let i=t.substring(s+1);return r==="api"&&(i=i.toLowerCase()),[r,i,n].filter(a=>a&&a.length>0).reduce((a,c,u)=>{switch(u){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},Lp={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Hp=e=>({applyToStack:t=>{t.add(Up(e),Lp)}}),zp=!1,qp=!1,tu=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),Oo=e=>tu(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,jp=e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Oo(t);const s=await t();return Oo(s)},useFipsEndpoint:async()=>{const s=typeof t=="string"?t:await t();return tu(s)?!0:typeof n!="function"?Promise.resolve(!!n):n()}}},Vp=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),Fo="content-length";function Kp(e){return t=>async n=>{const s=n.request;if(fe.isInstance(s)){const{body:r,headers:i}=s;if(r&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(Fo)===-1)try{const o=e(r);s.headers={...s.headers,[Fo]:String(o)}}catch{}}return t({...n,request:s})}}const Gp={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Wp=e=>({applyToStack:t=>{t.add(Kp(e.bodyLengthChecker),Gp)}}),Xp=async e=>{const t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),eg(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Jp(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Zp=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Qp=/(\d+\.){3}\d+/,Yp=/\.\./,Jp=e=>Zp.test(e)&&!Qp.test(e)&&!Yp.test(e),eg=e=>{const[t,n,s,,,r]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&n&&s&&r);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},tg=(e,t,n)=>{const s=async()=>{const r=n[e]??n[t];return typeof r=="function"?r():r};return e==="credentialScope"||t==="CredentialScope"?async()=>{const r=typeof n.credentials=="function"?await n.credentials():n.credentials;return(r==null?void 0:r.credentialScope)??(r==null?void 0:r.CredentialScope)}:e==="accountId"||t==="AccountId"?async()=>{const r=typeof n.credentials=="function"?await n.credentials():n.credentials;return(r==null?void 0:r.accountId)??(r==null?void 0:r.AccountId)}:e==="endpoint"||t==="endpoint"?async()=>{const r=await s();if(r&&typeof r=="object"){if("url"in r)return r.url.href;if("hostname"in r){const{protocol:i,hostname:o,port:a,path:c}=r;return`${i}//${o}${a?":"+a:""}${c}`}}return r}:s},nu=async e=>{};function ng(e){const t={};if(e=e.replace(/^\?/,""),e)for(const n of e.split("&")){let[s,r=null]=n.split("=");s=decodeURIComponent(s),r&&(r=decodeURIComponent(r)),s in t?Array.isArray(t[s])?t[s].push(r):t[s]=[t[s],r]:t[s]=r}return t}const qn=e=>{if(typeof e=="string")return qn(new URL(e));const{hostname:t,pathname:n,port:s,protocol:r,search:i}=e;let o;return i&&(o=ng(i)),{hostname:t,port:s?parseInt(s):void 0,protocol:r,path:n,query:o}},su=e=>typeof e=="object"?"url"in e?qn(e.url):e:qn(e),sg=async(e,t,n,s)=>{if(!n.endpoint){let o;n.serviceConfiguredEndpoint?o=await n.serviceConfiguredEndpoint():o=await nu(n.serviceId),o&&(n.endpoint=()=>Promise.resolve(su(o)))}const r=await ru(e,t,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(r,s)},ru=async(e,t,n)=>{var i;const s={},r=((i=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:i.call(t))||{};for(const[o,a]of Object.entries(r))switch(a.type){case"staticContextParams":s[o]=a.value;break;case"contextParams":s[o]=e[a.name];break;case"clientContextParams":case"builtInParams":s[o]=await tg(a.name,o,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(r).length===0&&Object.assign(s,n),String(n.serviceId).toLowerCase()==="s3"&&await Xp(s),s},rg=({config:e,instructions:t})=>(n,s)=>async r=>{var a,c,u;e.endpoint&&Al(s,"ENDPOINT_OVERRIDE","N");const i=await sg(r.input,{getEndpointParameterInstructions(){return t}},{...e},s);s.endpointV2=i,s.authSchemes=(a=i.properties)==null?void 0:a.authSchemes;const o=(c=s.authSchemes)==null?void 0:c[0];if(o){s.signing_region=o.signingRegion,s.signing_service=o.signingName;const d=zt(s),h=(u=d==null?void 0:d.selectedHttpAuthScheme)==null?void 0:u.httpAuthOption;h&&(h.signingProperties=Object.assign(h.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return n({...r})},ig={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Zr.name},os=(e,t)=>({applyToStack:n=>{n.addRelativeTo(rg({config:e,instructions:t}),ig)}}),og=e=>{const t=e.tls??!0,{endpoint:n}=e,s=n!=null?async()=>su(await Ye(n)()):void 0,i={...e,endpoint:s,tls:t,isCustomEndpoint:!!n,useDualstackEndpoint:Ye(e.useDualstackEndpoint??!1),useFipsEndpoint:Ye(e.useFipsEndpoint??!1)};let o;return i.serviceConfiguredEndpoint=async()=>(e.serviceId&&!o&&(o=nu(e.serviceId)),o),i};var $t;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})($t||($t={}));const jn=3,ag=$t.STANDARD,cg=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],ug=["TimeoutError","RequestTimeout","RequestTimeoutException"],dg=[500,502,503,504],lg=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],fg=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},iu=e=>{var t,n;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||cg.includes(e.name)||((n=e.$retryable)==null?void 0:n.throttling)==!0},ui=(e,t=0)=>{var n;return fg(e)||ug.includes(e.name)||lg.includes((e==null?void 0:e.code)||"")||dg.includes(((n=e.$metadata)==null?void 0:n.httpStatusCode)||0)||e.cause!==void 0&&t<=10&&ui(e.cause,t+1)},hg=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const n=e.$metadata.httpStatusCode;return 500<=n&&n<=599&&!ui(e)}return!1};class as{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const n=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(s=>as.setTimeoutFn(s,n))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const n=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=t}updateClientSendingRate(t){let n;if(this.updateMeasuredRate(),iu(t)){const r=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=r,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(r),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());const s=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(s)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),n=Math.floor(t*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){const s=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(s*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(t){return parseFloat(t.toFixed(8))}}as.setTimeoutFn=setTimeout;const Hr=100,ou=20*1e3,pg=500,Do=500,gg=5,mg=10,yg=1,bg="amz-sdk-invocation-id",wg="amz-sdk-request",xg=()=>{let e=Hr;return{computeNextBackoffDelay:s=>Math.floor(Math.min(ou,Math.random()*2**s*e)),setDelayBase:s=>{e=s}}},$o=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(ou,e),getRetryCost:()=>n});class au{constructor(t){this.maxAttempts=t,this.mode=$t.STANDARD,this.capacity=Do,this.retryBackoffStrategy=xg(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return $o({retryDelay:Hr,retryCount:0})}async refreshRetryTokenForRetry(t,n){const s=await this.getMaxAttempts();if(this.shouldRetry(t,n,s)){const r=n.errorType;this.retryBackoffStrategy.setDelayBase(r==="THROTTLING"?pg:Hr);const i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(r);return this.capacity-=a,$o({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Do,this.capacity+(t.getRetryCost()??yg))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${jn}`),jn}}shouldRetry(t,n,s){return t.getRetryCount()+1<s&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(t){return t==="TRANSIENT"?mg:gg}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class Eg{constructor(t,n){this.maxAttemptsProvider=t,this.mode=$t.ADAPTIVE;const{rateLimiter:s}=n??{};this.rateLimiter=s??new as,this.standardRetryStrategy=new au(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(t,n)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}let yn;const Sg=new Uint8Array(16);function Ag(){if(!yn&&(yn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yn(Sg)}const we=[];for(let e=0;e<256;++e)we.push((e+256).toString(16).slice(1));function Cg(e,t=0){return we[e[t+0]]+we[e[t+1]]+we[e[t+2]]+we[e[t+3]]+"-"+we[e[t+4]]+we[e[t+5]]+"-"+we[e[t+6]]+we[e[t+7]]+"-"+we[e[t+8]]+we[e[t+9]]+"-"+we[e[t+10]]+we[e[t+11]]+we[e[t+12]]+we[e[t+13]]+we[e[t+14]]+we[e[t+15]]}const vg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Uo={randomUUID:vg};function Rg(e,t,n){if(Uo.randomUUID&&!t&&!e)return Uo.randomUUID();e=e||{};const s=e.random||(e.rng||Ag)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Cg(s)}const kg=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),_g=e=>{const{retryStrategy:t}=e,n=Ye(e.maxAttempts??jn);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await Ye(e.retryMode)()===$t.ADAPTIVE?new Eg(n):new au(n))}},Tg=e=>(e==null?void 0:e.body)instanceof ReadableStream,Bg=e=>(t,n)=>async s=>{var o;let r=await e.retryStrategy();const i=await e.maxAttempts();if(Ig(r)){r=r;let a=await r.acquireInitialRetryToken(n.partition_id),c=new Error,u=0,d=0;const{request:h}=s,l=fe.isInstance(h);for(l&&(h.headers[bg]=Rg());;)try{l&&(h.headers[wg]=`attempt=${u+1}; max=${i}`);const{response:p,output:x}=await t(s);return r.recordSuccess(a),x.$metadata.attempts=u+1,x.$metadata.totalRetryDelay=d,{response:p,output:x}}catch(p){const x=Ng(p);if(c=kg(p),l&&Tg(h))throw(o=n.logger instanceof si?console:n.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await r.refreshRetryTokenForRetry(a,x)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=u+1,c.$metadata.totalRetryDelay=d,c}u=a.getRetryCount();const v=a.getRetryDelay();d+=v,await new Promise(R=>setTimeout(R,v))}}else return r=r,r!=null&&r.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",r.mode]]),r.retry(t,s)},Ig=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Ng=e=>{const t={error:e,errorType:Pg(e)},n=Fg(e.$response);return n&&(t.retryAfterHint=n),t},Pg=e=>iu(e)?"THROTTLING":ui(e)?"TRANSIENT":hg(e)?"SERVER_ERROR":"CLIENT_ERROR",Mg={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Og=e=>({applyToStack:t=>{t.add(Bg(e),Mg)}}),Fg=e=>{if(!sn.isInstance(e))return;const t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;const n=e.headers[t],s=Number(n);return Number.isNaN(s)?new Date(n):new Date(s*1e3)},Dg={CrtSignerV4:null};class $g{constructor(t){this.sigv4Signer=new Fh(t),this.signerOptions=t}async sign(t,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,n)}return this.sigv4Signer.sign(t,n)}async signWithCredentials(t,n,s={}){if(s.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(t,n,s)}return this.sigv4Signer.signWithCredentials(t,n,s)}async presign(t,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,n)}return this.sigv4Signer.presign(t,n)}async presignWithCredentials(t,n,s={}){if(s.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,n,s)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=null;try{if(t=Dg.CrtSignerV4,typeof t!="function")throw new Error}catch(n){throw n.message=`${n.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,n}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const di="required",f="type",g="conditions",E="fn",S="argv",U="ref",Q="assign",N="url",P="properties",cu="backend",Ze="authSchemes",Fe="disableDoubleEncoding",De="signingName",nt="signingRegion",M="headers",li="signingRegionSet",Ug=6,Lg=!1,je=!0,He="isSet",be="booleanEquals",D="error",Vn="aws.partition",Z="stringEquals",ae="getAttr",ke="name",ve="substring",Lo="bucketSuffix",uu="parseURL",Ho="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",_="endpoint",C="tree",du="aws.isVirtualHostableS3Bucket",_n="{url#scheme}://{Bucket}.{url#authority}{url#path}",Je="not",Tn="{url#scheme}://{url#authority}{url#path}",lu="hardwareType",fu="regionPrefix",zo="bucketAliasSuffix",zr="outpostId",Tt="isValidHostLabel",fi="sigv4a",cn="s3-outposts",Ut="s3",hu="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",pu="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",qo="https://{Bucket}.s3.{partitionResult#dnsSuffix}",gu="aws.parseArn",mu="bucketArn",yu="arnType",Kn="",hi="s3-object-lambda",bu="accesspoint",pi="accessPointName",jo="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Vo="mrapPartition",Ko="outpostType",Go="arnPrefix",wu="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Wo="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Xo="https://s3.{partitionResult#dnsSuffix}",Bt={[di]:!1,[f]:"String"},It={[di]:!0,default:!1,[f]:"Boolean"},Vt={[di]:!1,[f]:"Boolean"},Ve={[E]:be,[S]:[{[U]:"Accelerate"},!0]},ee={[E]:be,[S]:[{[U]:"UseFIPS"},!0]},J={[E]:be,[S]:[{[U]:"UseDualStack"},!0]},de={[E]:He,[S]:[{[U]:"Endpoint"}]},xu={[E]:Vn,[S]:[{[U]:"Region"}],[Q]:"partitionResult"},Zo={[E]:Z,[S]:[{[E]:ae,[S]:[{[U]:"partitionResult"},ke]},"aws-cn"]},Gn={[E]:He,[S]:[{[U]:"Bucket"}]},ce={[U]:"Bucket"},Te={[E]:uu,[S]:[{[U]:"Endpoint"}],[Q]:"url"},Bn={[E]:be,[S]:[{[E]:ae,[S]:[{[U]:"url"},"isIp"]},!0]},Eu={[U]:"url"},Su={[E]:"uriEncode",[S]:[ce],[Q]:"uri_encoded_bucket"},rt={[cu]:"S3Express",[Ze]:[{[Fe]:!0,[ke]:"sigv4",[De]:"s3express",[nt]:"{Region}"}]},L={},Au={[E]:du,[S]:[ce,!1]},Hs={[D]:"S3Express bucket name is not a valid virtual hostable name.",[f]:D},Wn={[cu]:"S3Express",[Ze]:[{[Fe]:!0,[ke]:"sigv4-s3express",[De]:"s3express",[nt]:"{Region}"}]},Qo={[E]:He,[S]:[{[U]:"UseS3ExpressControlEndpoint"}]},Yo={[E]:be,[S]:[{[U]:"UseS3ExpressControlEndpoint"},!0]},H={[E]:Je,[S]:[de]},Jo={[D]:"Unrecognized S3Express bucket name format.",[f]:D},ea={[E]:Je,[S]:[Gn]},ta={[U]:lu},na={[g]:[H],[D]:"Expected a endpoint to be specified but no endpoint was found",[f]:D},bn={[Ze]:[{[Fe]:!0,[ke]:fi,[De]:cn,[li]:["*"]},{[Fe]:!0,[ke]:"sigv4",[De]:cn,[nt]:"{Region}"}]},zs={[E]:be,[S]:[{[U]:"ForcePathStyle"},!1]},Hg={[U]:"ForcePathStyle"},ue={[E]:be,[S]:[{[U]:"Accelerate"},!1]},he={[E]:Z,[S]:[{[U]:"Region"},"aws-global"]},ge={[Ze]:[{[Fe]:!0,[ke]:"sigv4",[De]:Ut,[nt]:"us-east-1"}]},V={[E]:Je,[S]:[he]},me={[E]:be,[S]:[{[U]:"UseGlobalEndpoint"},!0]},sa={[N]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[P]:{[Ze]:[{[Fe]:!0,[ke]:"sigv4",[De]:Ut,[nt]:"{Region}"}]},[M]:{}},le={[Ze]:[{[Fe]:!0,[ke]:"sigv4",[De]:Ut,[nt]:"{Region}"}]},ye={[E]:be,[S]:[{[U]:"UseGlobalEndpoint"},!1]},j={[E]:be,[S]:[{[U]:"UseDualStack"},!1]},ra={[N]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[P]:le,[M]:{}},q={[E]:be,[S]:[{[U]:"UseFIPS"},!1]},ia={[N]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[P]:le,[M]:{}},oa={[N]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[P]:le,[M]:{}},qs={[E]:be,[S]:[{[E]:ae,[S]:[Eu,"isIp"]},!1]},js={[N]:hu,[P]:le,[M]:{}},qr={[N]:_n,[P]:le,[M]:{}},aa={[_]:qr,[f]:_},Vs={[N]:pu,[P]:le,[M]:{}},ca={[N]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[P]:le,[M]:{}},wn={[D]:"Invalid region: region was not a valid DNS name.",[f]:D},Pe={[U]:mu},Cu={[U]:yu},Ks={[E]:ae,[S]:[Pe,"service"]},gi={[U]:pi},ua={[g]:[J],[D]:"S3 Object Lambda does not support Dual-stack",[f]:D},da={[g]:[Ve],[D]:"S3 Object Lambda does not support S3 Accelerate",[f]:D},la={[g]:[{[E]:He,[S]:[{[U]:"DisableAccessPoints"}]},{[E]:be,[S]:[{[U]:"DisableAccessPoints"},!0]}],[D]:"Access points are not supported for this operation",[f]:D},Gs={[g]:[{[E]:He,[S]:[{[U]:"UseArnRegion"}]},{[E]:be,[S]:[{[U]:"UseArnRegion"},!1]},{[E]:Je,[S]:[{[E]:Z,[S]:[{[E]:ae,[S]:[Pe,"region"]},"{Region}"]}]}],[D]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[f]:D},vu={[E]:ae,[S]:[{[U]:"bucketPartition"},ke]},Ru={[E]:ae,[S]:[Pe,"accountId"]},Ws={[Ze]:[{[Fe]:!0,[ke]:"sigv4",[De]:hi,[nt]:"{bucketArn#region}"}]},fa={[D]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[f]:D},Xs={[D]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[f]:D},Zs={[D]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[f]:D},Qs={[D]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[f]:D},ha={[D]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[f]:D},pa={[D]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[f]:D},Kt={[Ze]:[{[Fe]:!0,[ke]:"sigv4",[De]:Ut,[nt]:"{bucketArn#region}"}]},ga={[Ze]:[{[Fe]:!0,[ke]:fi,[De]:cn,[li]:["*"]},{[Fe]:!0,[ke]:"sigv4",[De]:cn,[nt]:"{bucketArn#region}"}]},ma={[E]:gu,[S]:[ce]},ya={[N]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:le,[M]:{}},ba={[N]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:le,[M]:{}},wa={[N]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:le,[M]:{}},Ys={[N]:wu,[P]:le,[M]:{}},xa={[N]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:le,[M]:{}},Ea={[U]:"UseObjectLambdaEndpoint"},Js={[Ze]:[{[Fe]:!0,[ke]:"sigv4",[De]:hi,[nt]:"{Region}"}]},Sa={[N]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[P]:le,[M]:{}},Aa={[N]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[P]:le,[M]:{}},Ca={[N]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[P]:le,[M]:{}},er={[N]:Tn,[P]:le,[M]:{}},va={[N]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[P]:le,[M]:{}},tr=[{[U]:"Region"}],zg=[{[U]:"Endpoint"}],qg=[ce],nr=[J],xn=[Ve],xt=[de,Te],Ra=[{[E]:He,[S]:[{[U]:"DisableS3ExpressSessionAuth"}]},{[E]:be,[S]:[{[U]:"DisableS3ExpressSessionAuth"},!0]}],ka=[Bn],sr=[Su],rr=[Au],Nt=[ee],_a=[{[E]:ve,[S]:[ce,6,14,!0],[Q]:"s3expressAvailabilityZoneId"},{[E]:ve,[S]:[ce,14,16,!0],[Q]:"s3expressAvailabilityZoneDelim"},{[E]:Z,[S]:[{[U]:"s3expressAvailabilityZoneDelim"},"--"]}],Gt=[{[g]:[ee],[_]:{[N]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[P]:rt,[M]:{}},[f]:_},{[_]:{[N]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[P]:rt,[M]:{}},[f]:_}],Ta=[{[E]:ve,[S]:[ce,6,15,!0],[Q]:"s3expressAvailabilityZoneId"},{[E]:ve,[S]:[ce,15,17,!0],[Q]:"s3expressAvailabilityZoneDelim"},{[E]:Z,[S]:[{[U]:"s3expressAvailabilityZoneDelim"},"--"]}],Ba=[{[E]:ve,[S]:[ce,6,19,!0],[Q]:"s3expressAvailabilityZoneId"},{[E]:ve,[S]:[ce,19,21,!0],[Q]:"s3expressAvailabilityZoneDelim"},{[E]:Z,[S]:[{[U]:"s3expressAvailabilityZoneDelim"},"--"]}],Ia=[{[E]:ve,[S]:[ce,6,20,!0],[Q]:"s3expressAvailabilityZoneId"},{[E]:ve,[S]:[ce,20,22,!0],[Q]:"s3expressAvailabilityZoneDelim"},{[E]:Z,[S]:[{[U]:"s3expressAvailabilityZoneDelim"},"--"]}],Na=[{[E]:ve,[S]:[ce,6,26,!0],[Q]:"s3expressAvailabilityZoneId"},{[E]:ve,[S]:[ce,26,28,!0],[Q]:"s3expressAvailabilityZoneDelim"},{[E]:Z,[S]:[{[U]:"s3expressAvailabilityZoneDelim"},"--"]}],Wt=[{[g]:[ee],[_]:{[N]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[P]:Wn,[M]:{}},[f]:_},{[_]:{[N]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[P]:Wn,[M]:{}},[f]:_}],jg=[Gn],Pa=[{[E]:Tt,[S]:[{[U]:zr},!1]}],Ma=[{[E]:Z,[S]:[{[U]:fu},"beta"]}],Vg=["*"],at=[xu],Oa=[{[E]:Tt,[S]:[{[U]:"Region"},!1]}],ct=[{[E]:Z,[S]:[{[U]:"Region"},"us-east-1"]}],ir=[{[E]:Z,[S]:[Cu,bu]}],Fa=[{[E]:ae,[S]:[Pe,"resourceId[1]"],[Q]:pi},{[E]:Je,[S]:[{[E]:Z,[S]:[gi,Kn]}]}],Kg=[Pe,"resourceId[1]"],or=[{[E]:Je,[S]:[{[E]:Z,[S]:[{[E]:ae,[S]:[Pe,"region"]},Kn]}]}],Da=[{[E]:Je,[S]:[{[E]:He,[S]:[{[E]:ae,[S]:[Pe,"resourceId[2]"]}]}]}],Gg=[Pe,"resourceId[2]"],ar=[{[E]:Vn,[S]:[{[E]:ae,[S]:[Pe,"region"]}],[Q]:"bucketPartition"}],$a=[{[E]:Z,[S]:[vu,{[E]:ae,[S]:[{[U]:"partitionResult"},ke]}]}],cr=[{[E]:Tt,[S]:[{[E]:ae,[S]:[Pe,"region"]},!0]}],ur=[{[E]:Tt,[S]:[Ru,!1]}],Ua=[{[E]:Tt,[S]:[gi,!1]}],La=[{[E]:Tt,[S]:[{[U]:"Region"},!0]}],Wg={version:"1.0",parameters:{Bucket:Bt,Region:Bt,UseFIPS:It,UseDualStack:It,Endpoint:Bt,ForcePathStyle:It,Accelerate:It,UseGlobalEndpoint:It,UseObjectLambdaEndpoint:Vt,Key:Bt,Prefix:Bt,CopySource:Bt,DisableAccessPoints:Vt,DisableMultiRegionAccessPoints:It,UseArnRegion:Vt,UseS3ExpressControlEndpoint:Vt,DisableS3ExpressSessionAuth:Vt},rules:[{[g]:[{[E]:He,[S]:tr}],rules:[{[g]:[Ve,ee],error:"Accelerate cannot be used with FIPS",[f]:D},{[g]:[J,de],error:"Cannot set dual-stack in combination with a custom endpoint.",[f]:D},{[g]:[de,ee],error:"A custom endpoint cannot be combined with FIPS",[f]:D},{[g]:[de,Ve],error:"A custom endpoint cannot be combined with S3 Accelerate",[f]:D},{[g]:[ee,xu,Zo],error:"Partition does not support FIPS",[f]:D},{[g]:[Gn,{[E]:ve,[S]:[ce,0,Ug,je],[Q]:Lo},{[E]:Z,[S]:[{[U]:Lo},"--x-s3"]}],rules:[{[g]:nr,error:"S3Express does not support Dual-stack.",[f]:D},{[g]:xn,error:"S3Express does not support S3 Accelerate.",[f]:D},{[g]:xt,rules:[{[g]:Ra,rules:[{[g]:ka,rules:[{[g]:sr,rules:[{endpoint:{[N]:Ho,[P]:rt,[M]:L},[f]:_}],[f]:C}],[f]:C},{[g]:rr,rules:[{endpoint:{[N]:_n,[P]:rt,[M]:L},[f]:_}],[f]:C},Hs],[f]:C},{[g]:ka,rules:[{[g]:sr,rules:[{endpoint:{[N]:Ho,[P]:Wn,[M]:L},[f]:_}],[f]:C}],[f]:C},{[g]:rr,rules:[{endpoint:{[N]:_n,[P]:Wn,[M]:L},[f]:_}],[f]:C},Hs],[f]:C},{[g]:[Qo,Yo],rules:[{[g]:[Su,H],rules:[{[g]:Nt,endpoint:{[N]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[P]:rt,[M]:L},[f]:_},{endpoint:{[N]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[P]:rt,[M]:L},[f]:_}],[f]:C}],[f]:C},{[g]:rr,rules:[{[g]:Ra,rules:[{[g]:_a,rules:Gt,[f]:C},{[g]:Ta,rules:Gt,[f]:C},{[g]:Ba,rules:Gt,[f]:C},{[g]:Ia,rules:Gt,[f]:C},{[g]:Na,rules:Gt,[f]:C},Jo],[f]:C},{[g]:_a,rules:Wt,[f]:C},{[g]:Ta,rules:Wt,[f]:C},{[g]:Ba,rules:Wt,[f]:C},{[g]:Ia,rules:Wt,[f]:C},{[g]:Na,rules:Wt,[f]:C},Jo],[f]:C},Hs],[f]:C},{[g]:[ea,Qo,Yo],rules:[{[g]:xt,endpoint:{[N]:Tn,[P]:rt,[M]:L},[f]:_},{[g]:Nt,endpoint:{[N]:"https://s3express-control-fips.{Region}.amazonaws.com",[P]:rt,[M]:L},[f]:_},{endpoint:{[N]:"https://s3express-control.{Region}.amazonaws.com",[P]:rt,[M]:L},[f]:_}],[f]:C},{[g]:[Gn,{[E]:ve,[S]:[ce,49,50,je],[Q]:lu},{[E]:ve,[S]:[ce,8,12,je],[Q]:fu},{[E]:ve,[S]:[ce,0,7,je],[Q]:zo},{[E]:ve,[S]:[ce,32,49,je],[Q]:zr},{[E]:Vn,[S]:tr,[Q]:"regionPartition"},{[E]:Z,[S]:[{[U]:zo},"--op-s3"]}],rules:[{[g]:Pa,rules:[{[g]:[{[E]:Z,[S]:[ta,"e"]}],rules:[{[g]:Ma,rules:[na,{[g]:xt,endpoint:{[N]:"https://{Bucket}.ec2.{url#authority}",[P]:bn,[M]:L},[f]:_}],[f]:C},{endpoint:{[N]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[P]:bn,[M]:L},[f]:_}],[f]:C},{[g]:[{[E]:Z,[S]:[ta,"o"]}],rules:[{[g]:Ma,rules:[na,{[g]:xt,endpoint:{[N]:"https://{Bucket}.op-{outpostId}.{url#authority}",[P]:bn,[M]:L},[f]:_}],[f]:C},{endpoint:{[N]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[P]:bn,[M]:L},[f]:_}],[f]:C},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[f]:D}],[f]:C},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[f]:D}],[f]:C},{[g]:jg,rules:[{[g]:[de,{[E]:Je,[S]:[{[E]:He,[S]:[{[E]:uu,[S]:zg}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[f]:D},{[g]:[zs,Au],rules:[{[g]:at,rules:[{[g]:Oa,rules:[{[g]:[Ve,Zo],error:"S3 Accelerate cannot be used in this region",[f]:D},{[g]:[J,ee,ue,H,he],endpoint:{[N]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:ge,[M]:L},[f]:_},{[g]:[J,ee,ue,H,V,me],rules:[{endpoint:sa,[f]:_}],[f]:C},{[g]:[J,ee,ue,H,V,ye],endpoint:sa,[f]:_},{[g]:[j,ee,ue,H,he],endpoint:{[N]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[P]:ge,[M]:L},[f]:_},{[g]:[j,ee,ue,H,V,me],rules:[{endpoint:ra,[f]:_}],[f]:C},{[g]:[j,ee,ue,H,V,ye],endpoint:ra,[f]:_},{[g]:[J,q,Ve,H,he],endpoint:{[N]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:ge,[M]:L},[f]:_},{[g]:[J,q,Ve,H,V,me],rules:[{endpoint:ia,[f]:_}],[f]:C},{[g]:[J,q,Ve,H,V,ye],endpoint:ia,[f]:_},{[g]:[J,q,ue,H,he],endpoint:{[N]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:ge,[M]:L},[f]:_},{[g]:[J,q,ue,H,V,me],rules:[{endpoint:oa,[f]:_}],[f]:C},{[g]:[J,q,ue,H,V,ye],endpoint:oa,[f]:_},{[g]:[j,q,ue,de,Te,Bn,he],endpoint:{[N]:hu,[P]:ge,[M]:L},[f]:_},{[g]:[j,q,ue,de,Te,qs,he],endpoint:{[N]:_n,[P]:ge,[M]:L},[f]:_},{[g]:[j,q,ue,de,Te,Bn,V,me],rules:[{[g]:ct,endpoint:js,[f]:_},{endpoint:js,[f]:_}],[f]:C},{[g]:[j,q,ue,de,Te,qs,V,me],rules:[{[g]:ct,endpoint:qr,[f]:_},aa],[f]:C},{[g]:[j,q,ue,de,Te,Bn,V,ye],endpoint:js,[f]:_},{[g]:[j,q,ue,de,Te,qs,V,ye],endpoint:qr,[f]:_},{[g]:[j,q,Ve,H,he],endpoint:{[N]:pu,[P]:ge,[M]:L},[f]:_},{[g]:[j,q,Ve,H,V,me],rules:[{[g]:ct,endpoint:Vs,[f]:_},{endpoint:Vs,[f]:_}],[f]:C},{[g]:[j,q,Ve,H,V,ye],endpoint:Vs,[f]:_},{[g]:[j,q,ue,H,he],endpoint:{[N]:qo,[P]:ge,[M]:L},[f]:_},{[g]:[j,q,ue,H,V,me],rules:[{[g]:ct,endpoint:{[N]:qo,[P]:le,[M]:L},[f]:_},{endpoint:ca,[f]:_}],[f]:C},{[g]:[j,q,ue,H,V,ye],endpoint:ca,[f]:_}],[f]:C},wn],[f]:C}],[f]:C},{[g]:[de,Te,{[E]:Z,[S]:[{[E]:ae,[S]:[Eu,"scheme"]},"http"]},{[E]:du,[S]:[ce,je]},zs,q,j,ue],rules:[{[g]:at,rules:[{[g]:Oa,rules:[aa],[f]:C},wn],[f]:C}],[f]:C},{[g]:[zs,{[E]:gu,[S]:qg,[Q]:mu}],rules:[{[g]:[{[E]:ae,[S]:[Pe,"resourceId[0]"],[Q]:yu},{[E]:Je,[S]:[{[E]:Z,[S]:[Cu,Kn]}]}],rules:[{[g]:[{[E]:Z,[S]:[Ks,hi]}],rules:[{[g]:ir,rules:[{[g]:Fa,rules:[ua,da,{[g]:or,rules:[la,{[g]:Da,rules:[Gs,{[g]:ar,rules:[{[g]:at,rules:[{[g]:$a,rules:[{[g]:cr,rules:[{[g]:[{[E]:Z,[S]:[Ru,Kn]}],error:"Invalid ARN: Missing account id",[f]:D},{[g]:ur,rules:[{[g]:Ua,rules:[{[g]:xt,endpoint:{[N]:jo,[P]:Ws,[M]:L},[f]:_},{[g]:Nt,endpoint:{[N]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:Ws,[M]:L},[f]:_},{endpoint:{[N]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:Ws,[M]:L},[f]:_}],[f]:C},fa],[f]:C},Xs],[f]:C},Zs],[f]:C},Qs],[f]:C}],[f]:C}],[f]:C},ha],[f]:C},{error:"Invalid ARN: bucket ARN is missing a region",[f]:D}],[f]:C},pa],[f]:C},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[f]:D}],[f]:C},{[g]:ir,rules:[{[g]:Fa,rules:[{[g]:or,rules:[{[g]:ir,rules:[{[g]:or,rules:[la,{[g]:Da,rules:[Gs,{[g]:ar,rules:[{[g]:at,rules:[{[g]:[{[E]:Z,[S]:[vu,"{partitionResult#name}"]}],rules:[{[g]:cr,rules:[{[g]:[{[E]:Z,[S]:[Ks,Ut]}],rules:[{[g]:ur,rules:[{[g]:Ua,rules:[{[g]:xn,error:"Access Points do not support S3 Accelerate",[f]:D},{[g]:[ee,J],endpoint:{[N]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:Kt,[M]:L},[f]:_},{[g]:[ee,j],endpoint:{[N]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:Kt,[M]:L},[f]:_},{[g]:[q,J],endpoint:{[N]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:Kt,[M]:L},[f]:_},{[g]:[q,j,de,Te],endpoint:{[N]:jo,[P]:Kt,[M]:L},[f]:_},{[g]:[q,j],endpoint:{[N]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:Kt,[M]:L},[f]:_}],[f]:C},fa],[f]:C},Xs],[f]:C},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[f]:D}],[f]:C},Zs],[f]:C},Qs],[f]:C}],[f]:C}],[f]:C},ha],[f]:C}],[f]:C}],[f]:C},{[g]:[{[E]:Tt,[S]:[gi,je]}],rules:[{[g]:nr,error:"S3 MRAP does not support dual-stack",[f]:D},{[g]:Nt,error:"S3 MRAP does not support FIPS",[f]:D},{[g]:xn,error:"S3 MRAP does not support S3 Accelerate",[f]:D},{[g]:[{[E]:be,[S]:[{[U]:"DisableMultiRegionAccessPoints"},je]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[f]:D},{[g]:[{[E]:Vn,[S]:tr,[Q]:Vo}],rules:[{[g]:[{[E]:Z,[S]:[{[E]:ae,[S]:[{[U]:Vo},ke]},{[E]:ae,[S]:[Pe,"partition"]}]}],rules:[{endpoint:{[N]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[P]:{[Ze]:[{[Fe]:je,name:fi,[De]:Ut,[li]:Vg}]},[M]:L},[f]:_}],[f]:C},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[f]:D}],[f]:C}],[f]:C},{error:"Invalid Access Point Name",[f]:D}],[f]:C},pa],[f]:C},{[g]:[{[E]:Z,[S]:[Ks,cn]}],rules:[{[g]:nr,error:"S3 Outposts does not support Dual-stack",[f]:D},{[g]:Nt,error:"S3 Outposts does not support FIPS",[f]:D},{[g]:xn,error:"S3 Outposts does not support S3 Accelerate",[f]:D},{[g]:[{[E]:He,[S]:[{[E]:ae,[S]:[Pe,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[f]:D},{[g]:[{[E]:ae,[S]:Kg,[Q]:zr}],rules:[{[g]:Pa,rules:[Gs,{[g]:ar,rules:[{[g]:at,rules:[{[g]:$a,rules:[{[g]:cr,rules:[{[g]:ur,rules:[{[g]:[{[E]:ae,[S]:Gg,[Q]:Ko}],rules:[{[g]:[{[E]:ae,[S]:[Pe,"resourceId[3]"],[Q]:pi}],rules:[{[g]:[{[E]:Z,[S]:[{[U]:Ko},bu]}],rules:[{[g]:xt,endpoint:{[N]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[P]:ga,[M]:L},[f]:_},{endpoint:{[N]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[P]:ga,[M]:L},[f]:_}],[f]:C},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[f]:D}],[f]:C},{error:"Invalid ARN: expected an access point name",[f]:D}],[f]:C},{error:"Invalid ARN: Expected a 4-component resource",[f]:D}],[f]:C},Xs],[f]:C},Zs],[f]:C},Qs],[f]:C}],[f]:C}],[f]:C},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[f]:D}],[f]:C},{error:"Invalid ARN: The Outpost Id was not set",[f]:D}],[f]:C},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[f]:D}],[f]:C},{error:"Invalid ARN: No ARN type specified",[f]:D}],[f]:C},{[g]:[{[E]:ve,[S]:[ce,0,4,Lg],[Q]:Go},{[E]:Z,[S]:[{[U]:Go},"arn:"]},{[E]:Je,[S]:[{[E]:He,[S]:[ma]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[f]:D},{[g]:[{[E]:be,[S]:[Hg,je]},ma],error:"Path-style addressing cannot be used with ARN buckets",[f]:D},{[g]:sr,rules:[{[g]:at,rules:[{[g]:[ue],rules:[{[g]:[J,H,ee,he],endpoint:{[N]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:ge,[M]:L},[f]:_},{[g]:[J,H,ee,V,me],rules:[{endpoint:ya,[f]:_}],[f]:C},{[g]:[J,H,ee,V,ye],endpoint:ya,[f]:_},{[g]:[j,H,ee,he],endpoint:{[N]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:ge,[M]:L},[f]:_},{[g]:[j,H,ee,V,me],rules:[{endpoint:ba,[f]:_}],[f]:C},{[g]:[j,H,ee,V,ye],endpoint:ba,[f]:_},{[g]:[J,H,q,he],endpoint:{[N]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[P]:ge,[M]:L},[f]:_},{[g]:[J,H,q,V,me],rules:[{endpoint:wa,[f]:_}],[f]:C},{[g]:[J,H,q,V,ye],endpoint:wa,[f]:_},{[g]:[j,de,Te,q,he],endpoint:{[N]:wu,[P]:ge,[M]:L},[f]:_},{[g]:[j,de,Te,q,V,me],rules:[{[g]:ct,endpoint:Ys,[f]:_},{endpoint:Ys,[f]:_}],[f]:C},{[g]:[j,de,Te,q,V,ye],endpoint:Ys,[f]:_},{[g]:[j,H,q,he],endpoint:{[N]:Wo,[P]:ge,[M]:L},[f]:_},{[g]:[j,H,q,V,me],rules:[{[g]:ct,endpoint:{[N]:Wo,[P]:le,[M]:L},[f]:_},{endpoint:xa,[f]:_}],[f]:C},{[g]:[j,H,q,V,ye],endpoint:xa,[f]:_}],[f]:C},{error:"Path-style addressing cannot be used with S3 Accelerate",[f]:D}],[f]:C}],[f]:C}],[f]:C},{[g]:[{[E]:He,[S]:[Ea]},{[E]:be,[S]:[Ea,je]}],rules:[{[g]:at,rules:[{[g]:La,rules:[ua,da,{[g]:xt,endpoint:{[N]:Tn,[P]:Js,[M]:L},[f]:_},{[g]:Nt,endpoint:{[N]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[P]:Js,[M]:L},[f]:_},{endpoint:{[N]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[P]:Js,[M]:L},[f]:_}],[f]:C},wn],[f]:C}],[f]:C},{[g]:[ea],rules:[{[g]:at,rules:[{[g]:La,rules:[{[g]:[ee,J,H,he],endpoint:{[N]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:ge,[M]:L},[f]:_},{[g]:[ee,J,H,V,me],rules:[{endpoint:Sa,[f]:_}],[f]:C},{[g]:[ee,J,H,V,ye],endpoint:Sa,[f]:_},{[g]:[ee,j,H,he],endpoint:{[N]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[P]:ge,[M]:L},[f]:_},{[g]:[ee,j,H,V,me],rules:[{endpoint:Aa,[f]:_}],[f]:C},{[g]:[ee,j,H,V,ye],endpoint:Aa,[f]:_},{[g]:[q,J,H,he],endpoint:{[N]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[P]:ge,[M]:L},[f]:_},{[g]:[q,J,H,V,me],rules:[{endpoint:Ca,[f]:_}],[f]:C},{[g]:[q,J,H,V,ye],endpoint:Ca,[f]:_},{[g]:[q,j,de,Te,he],endpoint:{[N]:Tn,[P]:ge,[M]:L},[f]:_},{[g]:[q,j,de,Te,V,me],rules:[{[g]:ct,endpoint:er,[f]:_},{endpoint:er,[f]:_}],[f]:C},{[g]:[q,j,de,Te,V,ye],endpoint:er,[f]:_},{[g]:[q,j,H,he],endpoint:{[N]:Xo,[P]:ge,[M]:L},[f]:_},{[g]:[q,j,H,V,me],rules:[{[g]:ct,endpoint:{[N]:Xo,[P]:le,[M]:L},[f]:_},{endpoint:va,[f]:_}],[f]:C},{[g]:[q,j,H,V,ye],endpoint:va,[f]:_}],[f]:C},wn],[f]:C}],[f]:C}],[f]:C},{error:"A region must be set when sending requests to S3.",[f]:D}]},Xg=Wg,Zg=new op({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),ku=(e,t={})=>Zg.get(e,()=>vp(Xg,{endpointParams:e,logger:t.logger}));zn.aws=eu;const Qg=e=>async(t,n,s)=>{var a,c,u;if(!s)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const r=await e(t,n,s),i=(u=(c=(a=zt(n))==null?void 0:a.commandInstance)==null?void 0:c.constructor)==null?void 0:u.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);const o=await ru(s,{getEndpointParameterInstructions:i},t);return Object.assign(r,o)},Yg=async(e,t,n)=>({operation:zt(t).operation,region:await Ye(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),Jg=Qg(Yg);function _u(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}function Tu(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}const em=(e,t,n)=>r=>{var c;const o=(c=e(r).properties)==null?void 0:c.authSchemes;if(!o)return t(r);const a=[];for(const u of o){const{name:d,properties:h={},...l}=u,p=d.toLowerCase();d!==p&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${p}\``);let x;if(p==="sigv4a"){if(x="aws.auth#sigv4a",o.find(w=>{const I=w.name.toLowerCase();return I!=="sigv4a"&&I.startsWith("sigv4")}))continue}else if(p.startsWith("sigv4"))x="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${p}\``);const v=n[x];if(!v)throw new Error(`Could not find HttpAuthOption create function for \`${x}\``);const R=v(r);R.schemeId=x,R.signingProperties={...R.signingProperties||{},...l,...h},a.push(R)}return a},tm=e=>{const t=[];switch(e.operation){default:t.push(_u(e)),t.push(Tu(e))}return t},nm=em(ku,tm,{"aws.auth#sigv4":_u,"aws.auth#sigv4a":Tu}),sm=e=>{const t=tf(e);return{...Bl(t)}},rm=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),cs={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class _e extends ni{constructor(t){super(t),Object.setPrototypeOf(this,_e.prototype)}}class mi extends _e{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,mi.prototype)}}class yi extends _e{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,yi.prototype)}}class bi extends _e{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,bi.prototype)}}class wi extends _e{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,wi.prototype)}}class xi extends _e{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,xi.prototype)}}var Ha;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(Ha||(Ha={}));var za;(function(e){e.visit=(t,n)=>t.Prefix!==void 0?n.Prefix(t.Prefix):t.Tag!==void 0?n.Tag(t.Tag):t.AccessPointArn!==void 0?n.AccessPointArn(t.AccessPointArn):t.And!==void 0?n.And(t.And):n._(t.$unknown[0],t.$unknown[1])})(za||(za={}));class Ei extends _e{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,Ei.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}}class Si extends _e{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,Si.prototype)}}class Ai extends _e{constructor(t){super({name:"NotFound",$fault:"client",...t}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,Ai.prototype)}}const im=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Xe},...e.SessionToken&&{SessionToken:Xe}}),om=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Xe},...e.Credentials&&{Credentials:im(e.Credentials)}}),am=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Xe}});function cm(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function um(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class dm{constructor(t){this.value=t}toString(){return um(""+this.value)}}class We{static of(t,n,s){const r=new We(t);return n!==void 0&&r.addChildNode(new dm(n)),s!==void 0&&r.withName(s),r}constructor(t,n=[]){this.name=t,this.children=n,this.attributes={}}withName(t){return this.name=t,this}addAttribute(t,n){return this.attributes[t]=n,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,n){return n!=null&&(this.attributes[t]=n),this}cc(t,n,s=n){if(t[n]!=null){const r=We.of(n,t[n]).withName(s);this.c(r)}}l(t,n,s,r){t[n]!=null&&r().map(o=>{o.withName(s),this.c(o)})}lc(t,n,s,r){if(t[n]!=null){const i=r(),o=new We(s);i.map(a=>{o.c(a)}),this.c(o)}}toString(){const t=!!this.children.length;let n=`<${this.name}`;const s=this.attributes;for(const r of Object.keys(s)){const i=s[r];i!=null&&(n+=` ${r}="${cm(""+i)}"`)}return n+=t?`>${this.children.map(r=>r.toString()).join("")}</${this.name}>`:"/>"}}class Ci extends _e{constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t}),this.name="EncryptionTypeMismatch",this.$fault="client",Object.setPrototypeOf(this,Ci.prototype)}}class vi extends _e{constructor(t){super({name:"InvalidRequest",$fault:"client",...t}),this.name="InvalidRequest",this.$fault="client",Object.setPrototypeOf(this,vi.prototype)}}class Ri extends _e{constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t}),this.name="InvalidWriteOffset",this.$fault="client",Object.setPrototypeOf(this,Ri.prototype)}}class ki extends _e{constructor(t){super({name:"TooManyParts",$fault:"client",...t}),this.name="TooManyParts",this.$fault="client",Object.setPrototypeOf(this,ki.prototype)}}class _i extends _e{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,_i.prototype)}}var qa;(function(e){e.visit=(t,n)=>t.Records!==void 0?n.Records(t.Records):t.Stats!==void 0?n.Stats(t.Stats):t.Progress!==void 0?n.Progress(t.Progress):t.Cont!==void 0?n.Cont(t.Cont):t.End!==void 0?n.End(t.End):n._(t.$unknown[0],t.$unknown[1])})(qa||(qa={}));const lm=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Xe}}),fm=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Xe},...e.SSEKMSKeyId&&{SSEKMSKeyId:Xe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Xe}}),hm=async(e,t)=>{const n=es(e,t),s=ne({},Le,{[G0]:e[b0],[hs]:e[ds],[ps]:e[fs],[gs]:e[ls],[Ht]:[()=>Le(e[Lt]),()=>e[Lt].toString()]});n.bp("/"),n.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=ne({[z0]:[,""]});return n.m("GET").h(s).q(r).b(void 0),n.build()},pm=async(e,t)=>{const n=es(e,t),s=ne({},Le,{"content-type":"application/xml",[J0]:e[l0],[Mi]:e[Ii],[K0]:[()=>Le(e[ja]),()=>e[ja].toString()],[Ni]:e[Ti],[Lu]:e[Mt]});n.bp("/"),n.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=ne({[B0]:[,""]});let i,o;return e.Delete!==void 0&&(o=Om(e.Delete),i=j0,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i+=o.toString()),n.m("POST").h(s).q(r).b(i),n.build()},gm=async(e,t)=>{const n=es(e,t),s=ne({},Le,{[Mi]:e[Ii],[Ni]:e[Ti],[sy]:[()=>Le(e[Za]),()=>(e[Za]||[]).map(Nf).join(", ")]});n.bp("/"),n.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=ne({[$0]:[,"2"],[I0]:[,e[Nn]],[P0]:[,e[Pn]],[L0]:[()=>e.MaxKeys!==void 0,()=>e[On].toString()],[H0]:[,e[vt]],[T0]:[,e[In]],[O0]:[()=>e.FetchOwner!==void 0,()=>e[r0].toString()],[q0]:[,e[Fn]]});return n.m("GET").h(s).q(r).b(void 0),n.build()},mm=async(e,t)=>{const n=es(e,t),s=ne({},Le,{[_0]:e[n0]||"application/octet-stream",[V0]:e[Zm],[S0]:e[Qm],[A0]:e[Ym],[C0]:e[Jm],[v0]:e[e0],[R0]:[()=>Le(e[Va]),()=>e[Va].toString()],[k0]:e[t0],[Lu]:e[Mt],[Fu]:e[Bu],[Du]:e[Iu],[$u]:e[Nu],[Uu]:e[Pu],[N0]:[()=>Le(e[Ka]),()=>Oc(e[Ka]).toString()],[F0]:e[u0],[D0]:e[d0],[X0]:e[i0],[Z0]:e[o0],[Q0]:e[a0],[Y0]:e[c0],[cy]:[()=>Le(e[Qa]),()=>e[Qa].toString()],[hs]:e[ds],[ry]:e[Rt],[uy]:e[E0],[Hu]:e[Mu],[iy]:e[w0],[zu]:e[Ou],[ps]:e[fs],[gs]:e[ls],[Ht]:[()=>Le(e[Lt]),()=>e[Lt].toString()],[Mi]:e[Ii],[oy]:e[x0],[ty]:e[g0],[ny]:[()=>Le(e[Xa]),()=>Pf(e[Xa]).toString()],[ey]:e[p0],[Ni]:e[Ti],...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{})});n.bp("/{Key+}"),n.p("Bucket",()=>e.Bucket,"{Bucket}",!1),n.p("Key",()=>e.Key,"{Key+}",!0);const r=ne({[dy]:[,"PutObject"]});let i,o;return e.Body!==void 0&&(o=e.Body,i=o),n.m("PUT").h(s).q(r).b(i),n.build()},ym=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return us(e,t);const n=ne({$metadata:xe(e),[ds]:[,e.headers[hs]],[fs]:[,e.headers[ps]],[ls]:[,e.headers[gs]],[Lt]:[()=>e.headers[Ht]!==void 0,()=>ln(e.headers[Ht])]}),s=jt(ei(await ts(e.body,t)),"body");return s[fr]!=null&&(n[fr]=Xm(s[fr])),n},bm=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return us(e,t);const n=ne({$metadata:xe(e),[Bi]:[,e.headers[Pi]]}),s=jt(ei(await ts(e.body,t)),"body");return s.Deleted===""?n[An]=[]:s[An]!=null&&(n[An]=zm(rn(s[An]))),s.Error===""?n[Wa]=[]:s[Ga]!=null&&(n[Wa]=jm(rn(s[Ga]))),n},wm=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return us(e,t);const n=ne({$metadata:xe(e),[Bi]:[,e.headers[Pi]]}),s=jt(ei(await ts(e.body,t)),"body");return s.CommonPrefixes===""?n[En]=[]:s[En]!=null&&(n[En]=Lm(rn(s[En]))),s.Contents===""?n[Sn]=[]:s[Sn]!=null&&(n[Sn]=Km(rn(s[Sn]))),s[In]!=null&&(n[In]=te(s[In])),s[Nn]!=null&&(n[Nn]=te(s[Nn])),s[Pn]!=null&&(n[Pn]=te(s[Pn])),s[wr]!=null&&(n[wr]=ln(s[wr])),s[xr]!=null&&(n[xr]=lo(s[xr])),s[On]!=null&&(n[On]=lo(s[On])),s[Ar]!=null&&(n[Ar]=te(s[Ar])),s[Cr]!=null&&(n[Cr]=te(s[Cr])),s[vt]!=null&&(n[vt]=te(s[vt])),s[Fn]!=null&&(n[Fn]=te(s[Fn])),n},xm=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return us(e,t);const n=ne({$metadata:xe(e),[Mn]:[,e.headers[W0]],[Jt]:[,e.headers[M0]],[Bu]:[,e.headers[Fu]],[Iu]:[,e.headers[Du]],[Nu]:[,e.headers[$u]],[Pu]:[,e.headers[Uu]],[ds]:[,e.headers[hs]],[et]:[,e.headers[ay]],[Mu]:[,e.headers[Hu]],[Ou]:[,e.headers[zu]],[fs]:[,e.headers[ps]],[ls]:[,e.headers[gs]],[Lt]:[()=>e.headers[Ht]!==void 0,()=>ln(e.headers[Ht])],[ft]:[()=>e.headers[Ya]!==void 0,()=>Ic(e.headers[Ya])],[Bi]:[,e.headers[Pi]]});return await Ec(e.body,t),n},us=async(e,t)=>{const n={...e,body:await Kf(e.body,t)},s=Gf(e,n.body);switch(s){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Bm(n);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await Pm(n);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await Sm(n);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Am(n);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await _m(n);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await vm(n);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Tm(n);case"NotFound":case"com.amazonaws.s3#NotFound":throw await Im(n);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await Cm(n);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await Rm(n);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await km(n);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await Mm(n);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Nm(n);default:const r=n.body;return Em({output:e,parsedBody:r,errorCode:s})}},Em=Ef(_e),Sm=async(e,t)=>{const n=ne({});e.body;const s=new bi({$metadata:xe(e),...n});return Me(s,e.body)},Am=async(e,t)=>{const n=ne({});e.body;const s=new wi({$metadata:xe(e),...n});return Me(s,e.body)},Cm=async(e,t)=>{const n=ne({});e.body;const s=new Ci({$metadata:xe(e),...n});return Me(s,e.body)},vm=async(e,t)=>{const n=ne({}),s=e.body;s[lr]!=null&&(n[lr]=te(s[lr])),s[Rt]!=null&&(n[Rt]=te(s[Rt]));const r=new Ei({$metadata:xe(e),...n});return Me(r,e.body)},Rm=async(e,t)=>{const n=ne({});e.body;const s=new vi({$metadata:xe(e),...n});return Me(s,e.body)},km=async(e,t)=>{const n=ne({});e.body;const s=new Ri({$metadata:xe(e),...n});return Me(s,e.body)},_m=async(e,t)=>{const n=ne({});e.body;const s=new xi({$metadata:xe(e),...n});return Me(s,e.body)},Tm=async(e,t)=>{const n=ne({});e.body;const s=new Si({$metadata:xe(e),...n});return Me(s,e.body)},Bm=async(e,t)=>{const n=ne({});e.body;const s=new mi({$metadata:xe(e),...n});return Me(s,e.body)},Im=async(e,t)=>{const n=ne({});e.body;const s=new Ai({$metadata:xe(e),...n});return Me(s,e.body)},Nm=async(e,t)=>{const n=ne({});e.body;const s=new _i({$metadata:xe(e),...n});return Me(s,e.body)},Pm=async(e,t)=>{const n=ne({});e.body;const s=new yi({$metadata:xe(e),...n});return Me(s,e.body)},Mm=async(e,t)=>{const n=ne({});e.body;const s=new ki({$metadata:xe(e),...n});return Me(s,e.body)},Om=(e,t)=>{const n=new We(s0);return n.l(e,"Objects","Object",()=>Dm(e[y0])),e[vn]!=null&&n.c(We.of(vn,String(e[vn])).n(vn)),n},Fm=(e,t)=>{const n=new We(f0);return e[ze]!=null&&n.c(We.of(h0,e[ze]).n(ze)),e[et]!=null&&n.c(We.of(m0,e[et]).n(et)),n.cc(e,Jt),e[Cn]!=null&&n.c(We.of(Cn,Oc(e[Cn]).toString()).n(Cn)),e[ft]!=null&&n.c(We.of(ft,String(e[ft])).n(ft)),n},Dm=(e,t)=>e.filter(n=>n!=null).map(n=>Fm(n).n(U0)),$m=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>te(n)),Um=(e,t)=>{const n={};return e[vt]!=null&&(n[vt]=te(e[vt])),n},Lm=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Um(n)),Hm=(e,t)=>{const n={};return e[ze]!=null&&(n[ze]=te(e[ze])),e[et]!=null&&(n[et]=te(e[et])),e[pr]!=null&&(n[pr]=ln(e[pr])),e[gr]!=null&&(n[gr]=te(e[gr])),n},zm=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Hm(n)),qm=(e,t)=>{const n={};return e[ze]!=null&&(n[ze]=te(e[ze])),e[et]!=null&&(n[et]=te(e[et])),e[hr]!=null&&(n[hr]=te(e[hr])),e[Sr]!=null&&(n[Sr]=te(e[Sr])),n},jm=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>qm(n)),Vm=(e,t)=>{const n={};return e[ze]!=null&&(n[ze]=te(e[ze])),e[Er]!=null&&(n[Er]=jt(ti(e[Er]))),e[Jt]!=null&&(n[Jt]=te(e[Jt])),e.ChecksumAlgorithm===""?n[Mt]=[]:e[Mt]!=null&&(n[Mt]=$m(rn(e[Mt]))),e[ft]!=null&&(n[ft]=Ic(e[ft])),e[Rt]!=null&&(n[Rt]=te(e[Rt])),e[vr]!=null&&(n[vr]=Gm(e[vr])),e[kr]!=null&&(n[kr]=Wm(e[kr])),n},Km=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Vm(n)),Gm=(e,t)=>{const n={};return e[mr]!=null&&(n[mr]=te(e[mr])),e[yr]!=null&&(n[yr]=te(e[yr])),n},Wm=(e,t)=>{const n={};return e[br]!=null&&(n[br]=ln(e[br])),e[Rr]!=null&&(n[Rr]=jt(ti(e[Rr]))),n},Xm=(e,t)=>{const n={};return e[dr]!=null&&(n[dr]=te(e[dr])),e[_r]!=null&&(n[_r]=te(e[_r])),e[Tr]!=null&&(n[Tr]=te(e[Tr])),e[Mn]!=null&&(n[Mn]=jt(ti(e[Mn]))),n},xe=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Zm="ACL",dr="AccessKeyId",lr="AccessTier",ja="BypassGovernanceRetention",Lt="BucketKeyEnabled",fr="Credentials",Mt="ChecksumAlgorithm",Qm="CacheControl",Bu="ChecksumCRC32",Iu="ChecksumCRC32C",Ym="ContentDisposition",Jm="ContentEncoding",e0="ContentLanguage",Va="ContentLength",t0="ContentMD5",En="CommonPrefixes",Nu="ChecksumSHA1",Pu="ChecksumSHA256",n0="ContentType",In="ContinuationToken",Sn="Contents",hr="Code",Nn="Delimiter",pr="DeleteMarker",gr="DeleteMarkerVersionId",mr="DisplayName",An="Deleted",s0="Delete",Ka="Expires",Ti="ExpectedBucketOwner",Pn="EncodingType",Jt="ETag",Ga="Error",Wa="Errors",Mn="Expiration",r0="FetchOwner",i0="GrantFullControl",o0="GrantRead",a0="GrantReadACP",c0="GrantWriteACP",yr="ID",u0="IfMatch",d0="IfNoneMatch",br="IsRestoreInProgress",wr="IsTruncated",ze="Key",xr="KeyCount",Er="LastModified",Cn="LastModifiedTime",l0="MFA",On="MaxKeys",Sr="Message",Ar="Name",Cr="NextContinuationToken",vr="Owner",f0="ObjectIdentifier",h0="ObjectKey",p0="ObjectLockLegalHoldStatus",g0="ObjectLockMode",Xa="ObjectLockRetainUntilDate",Za="OptionalObjectAttributes",m0="ObjectVersionId",y0="Objects",vt="Prefix",vn="Quiet",Bi="RequestCharged",Rr="RestoreExpiryDate",Ii="RequestPayer",kr="RestoreStatus",Fn="StartAfter",_r="SecretAccessKey",Rt="StorageClass",b0="SessionMode",ds="ServerSideEncryption",Mu="SSECustomerAlgorithm",w0="SSECustomerKey",Ou="SSECustomerKeyMD5",ls="SSEKMSEncryptionContext",fs="SSEKMSKeyId",Tr="SessionToken",ft="Size",x0="Tagging",et="VersionId",Qa="WriteOffsetBytes",E0="WebsiteRedirectLocation",S0="cache-control",A0="content-disposition",C0="content-encoding",v0="content-language",R0="content-length",k0="content-md5",_0="content-type",T0="continuation-token",B0="delete",I0="delimiter",N0="expires",P0="encoding-type",M0="etag",O0="fetch-owner",F0="if-match",D0="if-none-match",$0="list-type",U0="member",L0="max-keys",H0="prefix",z0="session",q0="start-after",j0='<?xml version="1.0" encoding="UTF-8"?>',V0="x-amz-acl",K0="x-amz-bypass-governance-retention",Fu="x-amz-checksum-crc32",Du="x-amz-checksum-crc32c",$u="x-amz-checksum-sha1",Uu="x-amz-checksum-sha256",G0="x-amz-create-session-mode",W0="x-amz-expiration",Ni="x-amz-expected-bucket-owner",X0="x-amz-grant-full-control",Z0="x-amz-grant-read",Q0="x-amz-grant-read-acp",Y0="x-amz-grant-write-acp",J0="x-amz-mfa",ey="x-amz-object-lock-legal-hold",ty="x-amz-object-lock-mode",ny="x-amz-object-lock-retain-until-date",sy="x-amz-optional-object-attributes",Ya="x-amz-object-size",Pi="x-amz-request-charged",Mi="x-amz-request-payer",ry="x-amz-storage-class",Lu="x-amz-sdk-checksum-algorithm",hs="x-amz-server-side-encryption",ps="x-amz-server-side-encryption-aws-kms-key-id",Ht="x-amz-server-side-encryption-bucket-key-enabled",gs="x-amz-server-side-encryption-context",Hu="x-amz-server-side-encryption-customer-algorithm",iy="x-amz-server-side-encryption-customer-key",zu="x-amz-server-side-encryption-customer-key-md5",oy="x-amz-tagging",ay="x-amz-version-id",cy="x-amz-write-offset-bytes",uy="x-amz-website-redirect-location",dy="x-id";class ly extends dn.classBuilder().ep({...cs,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,n,s,r){return[Yn(s,this.serialize,this.deserialize),os(s,t.getEndpointParameterInstructions()),rs(s)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(am,om).ser(hm).de(ym).build(){}const fy="@aws-sdk/client-s3",hy="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",py="3.705.0",gy={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && vitest run -c vitest.config.browser.ts --mode development","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.ts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.ts --mode development && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.ts","test:watch":"yarn g:vitest watch"},my="./dist-cjs/index.js",yy="./dist-types/index.d.ts",by="./dist-es/index.js",wy=!1,xy={"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.699.0","@aws-sdk/client-sts":"3.699.0","@aws-sdk/core":"3.696.0","@aws-sdk/credential-provider-node":"3.699.0","@aws-sdk/middleware-bucket-endpoint":"3.696.0","@aws-sdk/middleware-expect-continue":"3.696.0","@aws-sdk/middleware-flexible-checksums":"3.701.0","@aws-sdk/middleware-host-header":"3.696.0","@aws-sdk/middleware-location-constraint":"3.696.0","@aws-sdk/middleware-logger":"3.696.0","@aws-sdk/middleware-recursion-detection":"3.696.0","@aws-sdk/middleware-sdk-s3":"3.696.0","@aws-sdk/middleware-ssec":"3.696.0","@aws-sdk/middleware-user-agent":"3.696.0","@aws-sdk/region-config-resolver":"3.696.0","@aws-sdk/signature-v4-multi-region":"3.696.0","@aws-sdk/types":"3.696.0","@aws-sdk/util-endpoints":"3.696.0","@aws-sdk/util-user-agent-browser":"3.696.0","@aws-sdk/util-user-agent-node":"3.696.0","@aws-sdk/xml-builder":"3.696.0","@smithy/config-resolver":"^3.0.12","@smithy/core":"^2.5.3","@smithy/eventstream-serde-browser":"^3.0.13","@smithy/eventstream-serde-config-resolver":"^3.0.10","@smithy/eventstream-serde-node":"^3.0.12","@smithy/fetch-http-handler":"^4.1.1","@smithy/hash-blob-browser":"^3.1.9","@smithy/hash-node":"^3.0.10","@smithy/hash-stream-node":"^3.1.9","@smithy/invalid-dependency":"^3.0.10","@smithy/md5-js":"^3.0.10","@smithy/middleware-content-length":"^3.0.12","@smithy/middleware-endpoint":"^3.2.3","@smithy/middleware-retry":"^3.0.27","@smithy/middleware-serde":"^3.0.10","@smithy/middleware-stack":"^3.0.10","@smithy/node-config-provider":"^3.1.11","@smithy/node-http-handler":"^3.3.1","@smithy/protocol-http":"^4.1.7","@smithy/smithy-client":"^3.4.4","@smithy/types":"^3.7.1","@smithy/url-parser":"^3.0.10","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.27","@smithy/util-defaults-mode-node":"^3.0.27","@smithy/util-endpoints":"^2.1.6","@smithy/util-middleware":"^3.0.10","@smithy/util-retry":"^3.0.10","@smithy/util-stream":"^3.3.1","@smithy/util-utf8":"^3.0.0","@smithy/util-waiter":"^3.1.9",tslib:"^2.6.2"},Ey={"@aws-sdk/signature-v4-crt":"3.696.0","@tsconfig/node16":"16.1.3","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},Sy={node:">=16.0.0"},Ay={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},Cy=["dist-*/**"],vy={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},Ry="Apache-2.0",ky={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},_y="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",Ty={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},By={name:fy,description:hy,version:py,scripts:gy,main:my,types:yy,module:by,sideEffects:wy,dependencies:xy,devDependencies:Ey,engines:Sy,typesVersions:Ay,files:Cy,author:vy,license:Ry,browser:ky,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:_y,repository:Ty};function Ja(e){return typeof e=="string"?e.length===0:e.byteLength===0}var qu={name:"SHA-1"},ec={name:"HMAC",hash:qu},Iy=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const Ny={};function pt(){return typeof window<"u"?window:typeof self<"u"?self:Ny}var Py=function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(n,s){pt().crypto.subtle.importKey("raw",tc(t),ec,!1,["sign"]).then(n,s)}),this.key.catch(function(){}))}return e.prototype.update=function(t){if(!Ja(t)){var n=tc(t),s=new Uint8Array(this.toHash.byteLength+n.byteLength);s.set(this.toHash,0),s.set(n,this.toHash.byteLength),this.toHash=s}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(n){return pt().crypto.subtle.sign(ec,n,t.toHash).then(function(s){return new Uint8Array(s)})}):Ja(this.toHash)?Promise.resolve(Iy):Promise.resolve().then(function(){return pt().crypto.subtle.digest(qu,t.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function tc(e){return typeof e=="string"?Uc(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var My=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function ju(e){if(Oy(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return Fy(t)}return!1}function Oy(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}function Fy(e){return e&&My.every(function(t){return typeof e[t]=="function"})}var Dy=function(){function e(t){if(ju(pt()))this.hash=new Py(t);else throw new Error("SHA1 not supported")}return e.prototype.update=function(t,n){this.hash.update(yt(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),Vu={name:"SHA-256"},nc={name:"HMAC",hash:Vu},$y=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),Uy=function(){function e(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return e.prototype.update=function(t){if(!on(t)){var n=yt(t),s=new Uint8Array(this.toHash.byteLength+n.byteLength);s.set(this.toHash,0),s.set(n,this.toHash.byteLength),this.toHash=s}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(n){return pt().crypto.subtle.sign(nc,n,t.toHash).then(function(s){return new Uint8Array(s)})}):on(this.toHash)?Promise.resolve($y):Promise.resolve().then(function(){return pt().crypto.subtle.digest(Vu,t.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},e.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,s){pt().crypto.subtle.importKey("raw",yt(t.secret),nc,!1,["sign"]).then(n,s)}),this.key.catch(function(){}))},e}(),Ue=64,Ly=32,Hy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zy=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],qy=Math.pow(2,53)-1,Dn=function(){function e(){this.state=Int32Array.from(zy),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,s=t.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>qy)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=t[n++],s--,this.bufferLength===Ue&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(n.setUint8(this.bufferLength++,128),s%Ue>=Ue-8){for(var r=this.bufferLength;r<Ue;r++)n.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<Ue-8;r++)n.setUint8(r,0);n.setUint32(Ue-8,Math.floor(t/4294967296),!0),n.setUint32(Ue-4,t),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(Ly),r=0;r<8;r++)i[r*4]=this.state[r]>>>24&255,i[r*4+1]=this.state[r]>>>16&255,i[r*4+2]=this.state[r]>>>8&255,i[r*4+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var t=this,n=t.buffer,s=t.state,r=s[0],i=s[1],o=s[2],a=s[3],c=s[4],u=s[5],d=s[6],h=s[7],l=0;l<Ue;l++){if(l<16)this.temp[l]=(n[l*4]&255)<<24|(n[l*4+1]&255)<<16|(n[l*4+2]&255)<<8|n[l*4+3]&255;else{var p=this.temp[l-2],x=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;p=this.temp[l-15];var v=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[l]=(x+this.temp[l-7]|0)+(v+this.temp[l-16]|0)}var R=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&d)|0)+(h+(Hy[l]+this.temp[l]|0)|0)|0,m=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&o^i&o)|0;h=d,d=u,u=c,c=a+R|0,a=o,o=i,i=r,r=R+m|0}s[0]+=r,s[1]+=i,s[2]+=o,s[3]+=a,s[4]+=c,s[5]+=u,s[6]+=d,s[7]+=h},e}(),jy=function(){function e(t){this.secret=t,this.hash=new Dn,this.reset()}return e.prototype.update=function(t){if(!(on(t)||this.error))try{this.hash.update(yt(t))}catch(n){this.error=n}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Gr(this,void 0,void 0,function(){return Wr(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Dn,this.secret){this.outer=new Dn;var t=Vy(this.secret),n=new Uint8Array(Ue);n.set(t);for(var s=0;s<Ue;s++)t[s]^=54,n[s]^=92;this.hash.update(t),this.outer.update(n);for(var s=0;s<t.byteLength;s++)t[s]=0}},e}();function Vy(e){var t=yt(e);if(t.byteLength>Ue){var n=new Dn;n.update(t),t=n.digest()}var s=new Uint8Array(Ue);return s.set(t),s}var Ky=function(){function e(t){ju(pt())?this.hash=new Uy(t):this.hash=new jy(t)}return e.prototype.update=function(t,n){this.hash.update(yt(t))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const Gy={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Ku={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},oe={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Be={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},dt={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class A{static getFirstMatch(t,n){const s=n.match(t);return s&&s.length>0&&s[1]||""}static getSecondMatch(t,n){const s=n.match(t);return s&&s.length>1&&s[2]||""}static matchAndReturnConst(t,n,s){if(t.test(n))return s}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,s=!1){const r=A.getVersionPrecision(t),i=A.getVersionPrecision(n);let o=Math.max(r,i),a=0;const c=A.map([t,n],u=>{const d=o-A.getVersionPrecision(u),h=u+new Array(d+1).join(".0");return A.map(h.split("."),l=>new Array(20-l.length).join("0")+l).reverse()});for(s&&(a=o-Math.min(r,i)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,n){const s=[];let r;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(r=0;r<t.length;r+=1)s.push(n(t[r]));return s}static find(t,n){let s,r;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(s=0,r=t.length;s<r;s+=1){const i=t[s];if(n(i,s))return i}}static assign(t,...n){const s=t;let r,i;if(Object.assign)return Object.assign(t,...n);for(r=0,i=n.length;r<i;r+=1){const o=n[r];typeof o=="object"&&o!==null&&Object.keys(o).forEach(c=>{s[c]=o[c]})}return t}static getBrowserAlias(t){return Gy[t]}static getBrowserTypeByAlias(t){return Ku[t]||""}}const Y=/version\/(\d+(\.?_?\d+)+)/i,Wy=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=A.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=A.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=A.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=A.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=A.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=A.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=A.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=A.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=A.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=A.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=A.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=A.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=A.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=A.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=A.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=A.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=A.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=A.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=A.getFirstMatch(Y,e)||A.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=A.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=A.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=A.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=A.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=A.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=A.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=A.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=A.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=A.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=A.getFirstMatch(Y,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,r=e.search("\\(")!==-1?n:t;return{name:A.getFirstMatch(r,e),version:A.getSecondMatch(r,e)}}}],Xy=[{test:[/Roku\/DVP/],describe(e){const t=A.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Be.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=A.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Be.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=A.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=A.getWindowsVersionName(t);return{name:Be.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Be.iOS},n=A.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=A.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=A.getMacOSVersionName(t),s={name:Be.MacOS,version:t};return n&&(s.versionName=n),s}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=A.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Be.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=A.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=A.getAndroidVersionName(t),s={name:Be.Android,version:t};return n&&(s.versionName=n),s}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=A.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:Be.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=A.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||A.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||A.getFirstMatch(/\bbb(\d+)/i,e);return{name:Be.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=A.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Be.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=A.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Be.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:Be.Linux}}},{test:[/CrOS/],describe(){return{name:Be.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=A.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Be.PlayStation4,version:t}}}],Zy=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=A.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:oe.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:oe.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:oe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:oe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:oe.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:oe.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:oe.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=A.getFirstMatch(/(ipod|iphone)/i,e);return{type:oe.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:oe.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:oe.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:oe.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:oe.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:oe.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:oe.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:oe.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:oe.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:oe.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:oe.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:oe.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:oe.tv}}}],Qy=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:dt.Blink};const n=A.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:dt.EdgeHTML,version:n}}},{test:[/trident/i],describe(e){const t={name:dt.Trident},n=A.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:dt.Presto},n=A.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:dt.Gecko},n=A.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:dt.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:dt.WebKit},n=A.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class sc{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=A.find(Wy,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=A.find(Xy,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=A.find(Zy,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=A.find(Qy,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return A.assign({},this.parsedResult)}satisfies(t){const n={};let s=0;const r={};let i=0;if(Object.keys(t).forEach(a=>{const c=t[a];typeof c=="string"?(r[a]=c,i+=1):typeof c=="object"&&(n[a]=c,s+=1)}),s>0){const a=Object.keys(n),c=A.find(a,d=>this.isOS(d));if(c){const d=this.satisfies(n[c]);if(d!==void 0)return d}const u=A.find(a,d=>this.isPlatform(d));if(u){const d=this.satisfies(n[u]);if(d!==void 0)return d}}if(i>0){const a=Object.keys(r),c=A.find(a,u=>this.isBrowser(u,!0));if(c!==void 0)return this.compareVersion(r[c])}}isBrowser(t,n=!1){const s=this.getBrowserName().toLowerCase();let r=t.toLowerCase();const i=A.getBrowserTypeByAlias(r);return n&&i&&(r=i.toLowerCase()),r===s}compareVersion(t){let n=[0],s=t,r=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(s=t.substr(1),t[1]==="="?(r=!0,s=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?s=t.substr(1):t[0]==="~"&&(r=!0,s=t.substr(1)),n.indexOf(A.compareVersions(i,s,r))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Gu{static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new sc(t,n)}static parse(t){return new sc(t).getResult()}static get BROWSER_MAP(){return Ku}static get ENGINE_MAP(){return dt}static get OS_MAP(){return Be}static get PLATFORMS_MAP(){return oe}}const Yy=({serviceId:e,clientVersion:t})=>async n=>{var o,a,c,u,d,h;const s=typeof window<"u"&&((o=window==null?void 0:window.navigator)!=null&&o.userAgent)?Gu.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",t],["ua","2.1"],[`os/${((a=s==null?void 0:s.os)==null?void 0:a.name)||"other"}`,(c=s==null?void 0:s.os)==null?void 0:c.version],["lang/js"],["md/browser",`${((u=s==null?void 0:s.browser)==null?void 0:u.name)??"unknown"}_${((d=s==null?void 0:s.browser)==null?void 0:d.version)??"unknown"}`]];e&&r.push([`api/${e}`,t]);const i=await((h=n==null?void 0:n.userAgentAppId)==null?void 0:h.call(n));return i&&r.push([`app/${i}`]),r};class en{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let s=7,r=Math.abs(Math.round(t));s>-1&&r>0;s--,r/=256)n[s]=r;return t<0&&rc(n),new en(n)}valueOf(){const t=this.bytes.slice(0),n=t[0]&128;return n&&rc(t),parseInt(Ne(t),16)*(n?-1:1)}toString(){return String(this.valueOf())}}function rc(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class Jy{constructor(t,n){this.toUtf8=t,this.fromUtf8=n}format(t){const n=[];for(const i of Object.keys(t)){const o=this.fromUtf8(i);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}const s=new Uint8Array(n.reduce((i,o)=>i+o.byteLength,0));let r=0;for(const i of n)s.set(i,r),r+=i.byteLength;return s}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,t.value,!1),new Uint8Array(n.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,t.value,!1),new Uint8Array(s.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(t.value.bytes,1),r;case"binary":const i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":const a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(en.fromNumber(t.value.valueOf()).bytes,1),d;case"uuid":if(!cb.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const h=new Uint8Array(17);return h[0]=9,h.set(xc(t.value.replace(/\-/g,"")),1),h}}parse(t){const n={};let s=0;for(;s<t.byteLength;){const r=t.getUint8(s++),i=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+s,r));switch(s+=r,t.getUint8(s++)){case 0:n[i]={type:oc,value:!0};break;case 1:n[i]={type:oc,value:!1};break;case 2:n[i]={type:eb,value:t.getInt8(s++)};break;case 3:n[i]={type:tb,value:t.getInt16(s,!1)},s+=2;break;case 4:n[i]={type:nb,value:t.getInt32(s,!1)},s+=4;break;case 5:n[i]={type:sb,value:new en(new Uint8Array(t.buffer,t.byteOffset+s,8))},s+=8;break;case 6:const o=t.getUint16(s,!1);s+=2,n[i]={type:rb,value:new Uint8Array(t.buffer,t.byteOffset+s,o)},s+=o;break;case 7:const a=t.getUint16(s,!1);s+=2,n[i]={type:ib,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+s,a))},s+=a;break;case 8:n[i]={type:ob,value:new Date(new en(new Uint8Array(t.buffer,t.byteOffset+s,8)).valueOf())},s+=8;break;case 9:const c=new Uint8Array(t.buffer,t.byteOffset+s,16);s+=16,n[i]={type:ab,value:`${Ne(c.subarray(0,4))}-${Ne(c.subarray(4,6))}-${Ne(c.subarray(6,8))}-${Ne(c.subarray(8,10))}-${Ne(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}}var ic;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(ic||(ic={}));const oc="boolean",eb="byte",tb="short",nb="integer",sb="long",rb="binary",ib="string",ob="timestamp",ab="uuid",cb=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Wu=4,lt=Wu*2,Et=4,ub=lt+Et*2;function db({byteLength:e,byteOffset:t,buffer:n}){if(e<ub)throw new Error("Provided message too short to accommodate event stream message overhead");const s=new DataView(n,t,e),r=s.getUint32(0,!1);if(e!==r)throw new Error("Reported message length does not match received message length");const i=s.getUint32(Wu,!1),o=s.getUint32(lt,!1),a=s.getUint32(e-Et,!1),c=new Hn().update(new Uint8Array(n,t,lt));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,t+lt,e-(lt+Et))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,t+lt+Et,i),body:new Uint8Array(n,t+lt+Et+i,r-i-(lt+Et+Et))}}class lb{constructor(t,n){this.headerMarshaller=new Jy(t,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return n}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const n=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return n}}}encode({headers:t,body:n}){const s=this.headerMarshaller.format(t),r=s.byteLength+n.byteLength+16,i=new Uint8Array(r),o=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new Hn;return o.setUint32(0,r,!1),o.setUint32(4,s.byteLength,!1),o.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(s,12),i.set(n,s.byteLength+12),o.setUint32(r-4,a.update(i.subarray(8,r-4)).digest(),!1),i}decode(t){const{headers:n,body:s}=db(t);return{headers:this.headerMarshaller.parse(n),body:s}}formatHeaders(t){return this.headerMarshaller.format(t)}}class fb{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class hb{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class pb{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const n=await this.options.deserializer(t);n!==void 0&&(yield n)}}}class gb{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}function mb(e){let t=0,n=0,s=null,r=null;const i=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,n=4,s=new Uint8Array(a),new DataView(s.buffer).setUint32(0,a,!1)},o=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:c,done:u}=await a.next();if(u){if(t)if(t===n)yield s;else throw new Error("Truncated event message received.");else return;return}const d=c.length;let h=0;for(;h<d;){if(!s){const p=d-h;r||(r=new Uint8Array(4));const x=Math.min(4-n,p);if(r.set(c.slice(h,h+x),n),n+=x,h+=x,n<4)break;i(new DataView(r.buffer).getUint32(0,!1)),r=null}const l=Math.min(t-n,d-h);s.set(c.slice(h,h+l),n),n+=l,h+=l,t&&t===n&&(yield s,s=null,t=0,n=0)}}};return{[Symbol.asyncIterator]:o}}function yb(e,t){return async function(n){const{value:s}=n.headers[":message-type"];if(s==="error"){const r=new Error(n.headers[":error-message"].value||"UnknownError");throw r.name=n.headers[":error-code"].value,r}else if(s==="exception"){const r=n.headers[":exception-type"].value,i={[r]:n},o=await e(i);if(o.$unknown){const a=new Error(t(n.body));throw a.name=r,a}throw o[r]}else if(s==="event"){const r={[n.headers[":event-type"].value]:n},i=await e(r);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}let bb=class{constructor({utf8Encoder:t,utf8Decoder:n}){this.eventStreamCodec=new lb(t,n),this.utfEncoder=t}deserialize(t,n){const s=mb(t);return new pb({messageStream:new fb({inputStream:s,decoder:this.eventStreamCodec}),deserializer:yb(n,this.utfEncoder)})}serialize(t,n){return new hb({messageStream:new gb({inputStream:t,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const wb=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)return;yield s}}finally{t.releaseLock()}}}),xb=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(n){const{done:s,value:r}=await t.next();if(s)return n.close();n.enqueue(r)}})};class Eb{constructor({utf8Encoder:t,utf8Decoder:n}){this.universalMarshaller=new bb({utf8Decoder:n,utf8Encoder:t})}deserialize(t,n){const s=Sb(t)?wb(t):t;return this.universalMarshaller.deserialize(s,n)}serialize(t,n){const s=this.universalMarshaller.serialize(t,n);return typeof ReadableStream=="function"?xb(s):s}}const Sb=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,Ab=e=>new Eb(e);async function Cb(e,t,n=1024*1024){const s=e.size;let r=0;for(;r<s;){const i=e.slice(r,Math.min(s,r+n));t(new Uint8Array(await i.arrayBuffer())),r+=i.size}}const vb=async function(t,n){const s=new t;return await Cb(n,r=>{s.update(r)}),s.digest()},Rb=e=>()=>Promise.reject(e),ut=64,kb=16,_b=[1732584193,4023233417,2562383102,271733878];class Tb{constructor(){this.reset()}update(t){if(Bb(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const n=Ib(t);let s=0,{byteLength:r}=n;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,n[s++]),r--,this.bufferLength===ut&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:n,bufferLength:s,bytesHashed:r}=this,i=r*8;if(n.setUint8(this.bufferLength++,128),s%ut>=ut-8){for(let o=this.bufferLength;o<ut;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<ut-8;o++)n.setUint8(o,0);n.setUint32(ut-8,i>>>0,!0),n.setUint32(ut-4,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(kb));for(let n=0;n<4;n++)t.setUint32(n*4,this.state[n],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:n}=this;let s=n[0],r=n[1],i=n[2],o=n[3];s=Ee(s,r,i,o,t.getUint32(0,!0),7,3614090360),o=Ee(o,s,r,i,t.getUint32(4,!0),12,3905402710),i=Ee(i,o,s,r,t.getUint32(8,!0),17,606105819),r=Ee(r,i,o,s,t.getUint32(12,!0),22,3250441966),s=Ee(s,r,i,o,t.getUint32(16,!0),7,4118548399),o=Ee(o,s,r,i,t.getUint32(20,!0),12,1200080426),i=Ee(i,o,s,r,t.getUint32(24,!0),17,2821735955),r=Ee(r,i,o,s,t.getUint32(28,!0),22,4249261313),s=Ee(s,r,i,o,t.getUint32(32,!0),7,1770035416),o=Ee(o,s,r,i,t.getUint32(36,!0),12,2336552879),i=Ee(i,o,s,r,t.getUint32(40,!0),17,4294925233),r=Ee(r,i,o,s,t.getUint32(44,!0),22,2304563134),s=Ee(s,r,i,o,t.getUint32(48,!0),7,1804603682),o=Ee(o,s,r,i,t.getUint32(52,!0),12,4254626195),i=Ee(i,o,s,r,t.getUint32(56,!0),17,2792965006),r=Ee(r,i,o,s,t.getUint32(60,!0),22,1236535329),s=Se(s,r,i,o,t.getUint32(4,!0),5,4129170786),o=Se(o,s,r,i,t.getUint32(24,!0),9,3225465664),i=Se(i,o,s,r,t.getUint32(44,!0),14,643717713),r=Se(r,i,o,s,t.getUint32(0,!0),20,3921069994),s=Se(s,r,i,o,t.getUint32(20,!0),5,3593408605),o=Se(o,s,r,i,t.getUint32(40,!0),9,38016083),i=Se(i,o,s,r,t.getUint32(60,!0),14,3634488961),r=Se(r,i,o,s,t.getUint32(16,!0),20,3889429448),s=Se(s,r,i,o,t.getUint32(36,!0),5,568446438),o=Se(o,s,r,i,t.getUint32(56,!0),9,3275163606),i=Se(i,o,s,r,t.getUint32(12,!0),14,4107603335),r=Se(r,i,o,s,t.getUint32(32,!0),20,1163531501),s=Se(s,r,i,o,t.getUint32(52,!0),5,2850285829),o=Se(o,s,r,i,t.getUint32(8,!0),9,4243563512),i=Se(i,o,s,r,t.getUint32(28,!0),14,1735328473),r=Se(r,i,o,s,t.getUint32(48,!0),20,2368359562),s=Ae(s,r,i,o,t.getUint32(20,!0),4,4294588738),o=Ae(o,s,r,i,t.getUint32(32,!0),11,2272392833),i=Ae(i,o,s,r,t.getUint32(44,!0),16,1839030562),r=Ae(r,i,o,s,t.getUint32(56,!0),23,4259657740),s=Ae(s,r,i,o,t.getUint32(4,!0),4,2763975236),o=Ae(o,s,r,i,t.getUint32(16,!0),11,1272893353),i=Ae(i,o,s,r,t.getUint32(28,!0),16,4139469664),r=Ae(r,i,o,s,t.getUint32(40,!0),23,3200236656),s=Ae(s,r,i,o,t.getUint32(52,!0),4,681279174),o=Ae(o,s,r,i,t.getUint32(0,!0),11,3936430074),i=Ae(i,o,s,r,t.getUint32(12,!0),16,3572445317),r=Ae(r,i,o,s,t.getUint32(24,!0),23,76029189),s=Ae(s,r,i,o,t.getUint32(36,!0),4,3654602809),o=Ae(o,s,r,i,t.getUint32(48,!0),11,3873151461),i=Ae(i,o,s,r,t.getUint32(60,!0),16,530742520),r=Ae(r,i,o,s,t.getUint32(8,!0),23,3299628645),s=Ce(s,r,i,o,t.getUint32(0,!0),6,4096336452),o=Ce(o,s,r,i,t.getUint32(28,!0),10,1126891415),i=Ce(i,o,s,r,t.getUint32(56,!0),15,2878612391),r=Ce(r,i,o,s,t.getUint32(20,!0),21,4237533241),s=Ce(s,r,i,o,t.getUint32(48,!0),6,1700485571),o=Ce(o,s,r,i,t.getUint32(12,!0),10,2399980690),i=Ce(i,o,s,r,t.getUint32(40,!0),15,4293915773),r=Ce(r,i,o,s,t.getUint32(4,!0),21,2240044497),s=Ce(s,r,i,o,t.getUint32(32,!0),6,1873313359),o=Ce(o,s,r,i,t.getUint32(60,!0),10,4264355552),i=Ce(i,o,s,r,t.getUint32(24,!0),15,2734768916),r=Ce(r,i,o,s,t.getUint32(52,!0),21,1309151649),s=Ce(s,r,i,o,t.getUint32(16,!0),6,4149444226),o=Ce(o,s,r,i,t.getUint32(44,!0),10,3174756917),i=Ce(i,o,s,r,t.getUint32(8,!0),15,718787259),r=Ce(r,i,o,s,t.getUint32(36,!0),21,3951481745),n[0]=s+n[0]&4294967295,n[1]=r+n[1]&4294967295,n[2]=i+n[2]&4294967295,n[3]=o+n[3]&4294967295}reset(){this.state=Uint32Array.from(_b),this.buffer=new DataView(new ArrayBuffer(ut)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function ms(e,t,n,s,r,i){return t=(t+e&4294967295)+(s+i&4294967295)&4294967295,(t<<r|t>>>32-r)+n&4294967295}function Ee(e,t,n,s,r,i,o){return ms(t&n|~t&s,e,t,r,i,o)}function Se(e,t,n,s,r,i,o){return ms(t&s|n&~s,e,t,r,i,o)}function Ae(e,t,n,s,r,i,o){return ms(t^n^s,e,t,r,i,o)}function Ce(e,t,n,s,r,i,o){return ms(n^(t|~s),e,t,r,i,o)}function Bb(e){return typeof e=="string"?e.length===0:e.byteLength===0}function Ib(e){return typeof e=="string"?_t(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const ac=typeof TextEncoder=="function"?new TextEncoder:null,Nb=e=>{if(typeof e=="string"){if(ac)return ac.encode(e).byteLength;let t=e.length;for(let n=t-1;n>=0;n--){const s=e.charCodeAt(n);s>127&&s<=2047?t++:s>2047&&s<=65535&&(t+=2),s>=56320&&s<=57343&&n--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},Pb=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??yc,base64Encoder:(e==null?void 0:e.base64Encoder)??Jn,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??ku,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??dl,httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??nm,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new gc},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new Kd}],logger:(e==null?void 0:e.logger)??new si,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??gl,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??$g,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??qn,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??_t,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Qr}),Mb=["in-region","cross-region","mobile","standard","legacy"],Ob=({defaultsMode:e}={})=>Tl(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(Fb()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Mb.join(", ")}, got ${t}`)}}),Fb=()=>{var n,s;const e=typeof window<"u"&&((n=window==null?void 0:window.navigator)!=null&&n.userAgent)?Gu.parse(window.navigator.userAgent):void 0,t=(s=e==null?void 0:e.platform)==null?void 0:s.type;return t==="tablet"||t==="mobile"},Db=e=>{const t=Ob(e),n=()=>t().then(Af),s=Pb(e);return{...s,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Nb,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(r=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Yy({serviceId:s.serviceId,clientVersion:By.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??Ab,maxAttempts:(e==null?void 0:e.maxAttempts)??jn,md5:(e==null?void 0:e.md5)??Tb,region:(e==null?void 0:e.region)??Rb("Region is missing"),requestHandler:Yr.create((e==null?void 0:e.requestHandler)??n),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await n()).retryMode||ag),sha1:(e==null?void 0:e.sha1)??Dy,sha256:(e==null?void 0:e.sha256)??Ky,streamCollector:(e==null?void 0:e.streamCollector)??bc,streamHasher:(e==null?void 0:e.streamHasher)??vb,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(zp)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(qp))}},$b=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");const n=e.region;return typeof n=="string"?n:n()};return{setRegion(n){t=n},region(){return t}}},Ub=e=>({region:e.region()}),Lb=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(r){const i=t.findIndex(o=>o.schemeId===r.schemeId);i===-1?t.push(r):t.splice(i,1,r)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(r){n=r},httpAuthSchemeProvider(){return n},setCredentials(r){s=r},credentials(){return s}}},Hb=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Rn=e=>e,zb=(e,t)=>{const n={...Rn($b(e)),...Rn(_f(e)),...Rn(Md(e)),...Rn(Lb(e))};return t.forEach(s=>s.configure(n)),{...e,...Ub(n),...Tf(n),...Od(n),...Hb(n)}};class ys extends nf{constructor(...[t]){const n=Db(t||{}),s=rm(n),r=ip(s),i=fh(r),o=_g(i),a=jp(o),c=a,u=og(c),d=Vp(u),h=sm(d),l=Vh(h,{session:[()=>this,ly]}),p=zb(l,(t==null?void 0:t.extensions)||[]);super(p),this.config=p,this.middlewareStack.use(Hp(this.config)),this.middlewareStack.use(Og(this.config)),this.middlewareStack.use(Wp(this.config)),this.middlewareStack.use(gh(this.config)),this.middlewareStack.use(bh(this.config)),this.middlewareStack.use(Ah(this.config)),this.middlewareStack.use(Zd(this.config,{httpAuthSchemeParametersProvider:Jg,identityProviderConfigProvider:async x=>new Cl({"aws.auth#sigv4":x.credentials,"aws.auth#sigv4a":x.credentials})})),this.middlewareStack.use(sl(this.config)),this.middlewareStack.use(np(this.config)),this.middlewareStack.use(Ud(this.config)),this.middlewareStack.use(Nh(this.config)),this.middlewareStack.use(Uh(this.config)),this.middlewareStack.use(jh(this.config))}destroy(){super.destroy()}}function qb(e){return t=>async n=>{const s={...n.input},r=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const i of r){const o=s[i.target];if(o){let a;typeof o=="string"?Kb(o,e)?a=e.base64Decoder(o):(a=e.utf8Decoder(o),s[i.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),s[i.target]=e.base64Encoder(a));const c=new e.md5;c.update(a),s[i.hash]=e.base64Encoder(await c.digest())}}return t({...n,input:s})}}const jb={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Vb=e=>({applyToStack:t=>{t.add(qb(e),jb)}});function Kb(e,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return t.base64Decoder(e).length===32}catch{return!1}}class Gb extends dn.classBuilder().ep({...cs,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,n,s,r){return[Yn(s,this.serialize,this.deserialize),os(s,t.getEndpointParameterInstructions()),Vc(s,{requestAlgorithmMember:"ChecksumAlgorithm",requestAlgorithmMemberHttpHeader:"x-amz-sdk-checksum-algorithm",requestChecksumRequired:!0}),rs(s)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(pm).de(bm).build(){}class Wb extends dn.classBuilder().ep({...cs,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(t,n,s,r){return[Yn(s,this.serialize,this.deserialize),os(s,t.getEndpointParameterInstructions()),rs(s)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(gm).de(wm).build(){}class Xb extends dn.classBuilder().ep({...cs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,n,s,r){return[Yn(s,this.serialize,this.deserialize),os(s,t.getEndpointParameterInstructions()),Vc(s,{requestAlgorithmMember:"ChecksumAlgorithm",requestAlgorithmMemberHttpHeader:"x-amz-sdk-checksum-algorithm",requestChecksumRequired:!1}),kh(),rs(s),Vb(s)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(fm,lm).ser(mm).de(xm).build(){}const Zb=il(ys,Wb,"ContinuationToken","NextContinuationToken","MaxKeys");function Qb(e={}){return[{name:"accessKeyId",type:"input",default:e.accessKeyId||"",required:!0,label:"设定KeyId",hint:"AccessKeyId"},{name:"accessKeySecret",type:"password",default:e.accessKeySecret||"",required:!0,label:"设定KeySecret",hint:"AccessKeySecret"},{name:"securityToken",type:"password",default:e.securityToken||"",required:!1,label:"设定SecurityToken",hint:"SecurityToken"},{name:"bucket",type:"input",default:e.bucket||"",required:!0,label:"设定存储空间名",hint:"Bucket"},{name:"area",type:"input",default:e.area||"",required:!0,label:"确认存储区域",hint:"例如oss-cn-beijing"},{name:"path",type:"input",default:e.path||"",required:!1,label:"指定存储路径",hint:"例如img/"},{name:"options",type:"input",default:e.options||"",required:!1,label:"设定网址后缀",hint:"例如?x-oss-process=xxx"},{name:"customUrl",type:"input",default:e.customUrl||"",required:!1,label:"设定自定义域名",hint:"例如https://example.com"}]}async function Yb(e,t){const n=e.customUrl,s=e.path||"",r=new ys({region:e.area,endpoint:`https://${e.area}.aliyuncs.com`,credentials:{accessKeyId:e.accessKeyId,secretAccessKey:e.accessKeySecret,sessionToken:e.securityToken}}),i=new Xb({Bucket:e.bucket,Key:s+t.name,Body:new Blob([t])});try{await r.send(i);const o=e.options||"";return n?{id:tn(),name:t.name,url:`${n}/${s}${t.name}${o}`}:{id:tn(),name:t.name,url:`https://${e.bucket}.${e.area}.aliyuncs.com/${s}${t.name}${o}`}}catch{throw new Error("上传失败")}}async function Jb(e){const t=e.customUrl,n=e.path||"",s=e.options||"",r=new ys({region:e.area,endpoint:`https://${e.area}.aliyuncs.com`,credentials:{accessKeyId:e.accessKeyId,secretAccessKey:e.accessKeySecret,sessionToken:e.securityToken}}),i=Zb({client:r,pageSize:10},{Bucket:e.bucket}),o=[];for await(const a of i)o.push(...a.Contents||[]);return o.sort((a,c)=>c.LastModified.getTime()-a.LastModified.getTime()).map(a=>t?{id:tn(),name:a.Key,url:`${t}/${n}${a.Key}${s}`}:{id:tn(),name:a.Key,url:`https://${e.bucket}.${e.area}.aliyuncs.com/${n}${a.Key}${s}`})||[]}async function ew(e,t){const n=e.path||"",s=new ys({region:e.area,endpoint:`https://${e.area}.aliyuncs.com`,credentials:{accessKeyId:e.accessKeyId,secretAccessKey:e.accessKeySecret,sessionToken:e.securityToken}}),r=new Gb({Bucket:e.bucket,Delete:{Objects:[{Key:n+t.name}]}});try{await s.send(r)}catch{throw new Error("删除失败")}}const tw={name:"阿里云OSS",config:Qb,upload:Yb,list:Jb,remove:ew},un=Object.freeze(Object.defineProperty({__proto__:null,aliyun:tw},Symbol.toStringTag,{value:"Module"})),st=nd().modules.imgHosting,kt=sd("imgHosting",{state:()=>({imgList:[]}),getters:{uploader(){return st.uploader},config(){return e=>st.configs[e]},commonConfig(){return st.commonConfig}},actions:{saveConfig({uploader:e,config:t}={}){st.uploader=e,st.configs[e]=t},importImages(e){this.imgList=e.slice()},addImage({name:e,url:t}={}){e&&t&&this.imgList.unshift({name:e,url:t,id:tn()})},removeImage({id:e}={}){for(const t in this.imgList||[])this.imgList[t].id===e&&this.imgList.splice(Number.parseInt(t),1)},async importConfig({uploader:e="",configs:t={},commonConfig:n={renameTimeStamp:!0}}){if(typeof e=="string"&&t&&n)st.uploader=e,st.configs=t,st.commonConfig=Ir(st.commonConfig,n);else throw new Error("配置有误")}}}),nw={key:0,class:"imgList"},sw={class:"img-wrapper"},rw=["title"],iw={class:"card-action"},ow={class:"flex py-3"},aw=["onClick"],cw={style:{padding:"14px"}},uw={style:{display:"flex","align-items":"center","justify-items":"space-between","margin-top":"16px",height:"16px"}},dw=tt({__name:"imgList",setup(e){const t=xs(()=>kt().imgList),n=xs(()=>t.value.map(l=>l.url)),s=kt(),r=s.config,i=s.uploader,o=s.commonConfig,a=Qe(!0),c=xs(()=>i?r(i):null);Zn(c,()=>{d()}),Xn(()=>{d()});async function u({url:l}={}){try{o.customCopyContent?await navigator.clipboard.writeText(o.customCopyContent.replace(/\$url/g,l)):await navigator.clipboard.writeText(l),Ge.success("地址已复制到剪贴板")}catch{Ge.error("复制失败")}}async function d(){i&&c.value?(a.value=!0,s.importImages(await un[i].list(c.value)),a.value=!1):(s.importImages([]),a.value=!1)}async function h(l){i&&c.value&&(await un[i].remove(c.value,l),s.removeImage(l),Ge.success("删除成功"))}return(l,p)=>{const x=ud,v=cd,R=Ad,m=Pd,w=Nd,I=ad;return W(t).length||W(a)?(se(),Re("div",nw,[pe("div",sw,[(se(!0),Re(ht,null,Dt(W(t),(y,T)=>(se(),it(R,{key:y.id,"body-style":{padding:"0px"}},{default:re(()=>[G(x,{loading:"lazy",src:y.url,alt:y.name,"preview-src-list":W(n),"initial-index":T,style:{width:"20rem",height:"12.36rem"},fit:"cover"},null,8,["src","alt","preview-src-list","initial-index"]),pe("div",{title:y.name,class:"card-meta"},Br(y.name),9,rw),pe("div",iw,[pe("span",ow,[pe("span",{class:"i-icon-park-outline-copy-link",onClick:b=>u(y)},null,8,aw)]),G(v,{title:"是否确认删除？","confirm-button-text":"是","cancel-button-text":"否","confirm-button-type":"danger",onConfirm:b=>h(y)},{reference:re(()=>p[0]||(p[0]=[pe("span",{class:"flex py-3"},[pe("span",{class:"i-icon-park-outline-delete"})],-1)])),_:2},1032,["onConfirm"])])]),_:2},1024))),128)),W(a)?(se(),Re(ht,{key:0},Dt(10,y=>G(w,{key:y,loading:!0,animated:""},{template:re(()=>[G(m,{variant:"image",style:{width:"20rem",height:"12.36rem"}}),pe("div",cw,[G(m,{variant:"h3",style:{width:"50%"}}),pe("div",uw,[G(m,{variant:"text",style:{"margin-right":"16px"}}),G(m,{variant:"text",style:{width:"30%"}})])])]),_:2},1024)),64)):gt("",!0)])])):(se(),it(I,{key:1}))}}}),lw=Qn(dw,[["__scopeId","data-v-1280629f"]]),fw={class:"commonConfigPanel"},hw={key:0,class:"configPanel"},pw={class:"configTable"},gw={class:"configOperator"},mw=tt({__name:"settings",setup(e){const t=kt(),n=t.commonConfig,s=t.config,r={renameBeforeUpload:!1,renameTimeStamp:!0,copyUrlAfterUpload:!0,customCopyContent:"$url"},i=Qe("standard"),o=Qe("$url"),a=Qe("aliyun"),c=Qe([]);Xn(()=>{const l=kt().uploader;switch(l!=null&&(a.value=l),Ir(n,Ir({},r,n)),n.customCopyContent){case"$url":i.value="standard";break;case"![]($url)":i.value="markdown";break;default:i.value="custom",o.value=n.customCopyContent}d()});function u(l){switch(l){case"standard":n.customCopyContent="$url";break;case"markdown":n.customCopyContent="![]($url)";break;case"custom":n.customCopyContent=o.value;break}}Zn(o,l=>{i.value==="custom"&&(n.customCopyContent=l)});function d(){const l=s(a.value);a.value==="aliyun"&&(c.value=un[a.value].config(l))}function h(){const l={};for(const p of c.value){if(p.required&&(p.default==null||p.default==="")){Ge.warning("必填项未填写完整");return}l[p.name]=p.default}kt().saveConfig({uploader:a.value,config:l}),Ge.success("保存成功")}return(l,p)=>{const x=dd,v=yd,R=fd,m=ld,w=gd,I=rd,y=md,T=pd,b=hd,O=id,F=dc,B=lc;return se(),Re(ht,null,[G(x,{level:4},{default:re(()=>p[5]||(p[5]=[Ke(" 通用配置 ")])),_:1}),pe("div",fw,[G(R,{label:"时间戳重命名"},{default:re(()=>[G(v,{modelValue:W(n).renameTimeStamp,"onUpdate:modelValue":p[0]||(p[0]=z=>W(n).renameTimeStamp=z)},null,8,["modelValue"])]),_:1}),G(R,{label:"上传后自动复制URL"},{default:re(()=>[G(v,{modelValue:W(n).copyUrlAfterUpload,"onUpdate:modelValue":p[1]||(p[1]=z=>W(n).copyUrlAfterUpload=z)},null,8,["modelValue"])]),_:1}),G(x,{level:5},{default:re(()=>p[6]||(p[6]=[Ke(" 链接复制格式 ")])),_:1}),G(y,{modelValue:W(i),"onUpdate:modelValue":p[3]||(p[3]=z=>kn(i)?i.value=z:null),class:"custom-copy-wrapper",onChange:u},{default:re(()=>[G(w,{label:"standard"},{default:re(()=>[p[7]||(p[7]=Ke(" 标准 ")),G(m,{code:"",content:"$url"})]),_:1}),G(w,{label:"markdown"},{default:re(()=>[p[8]||(p[8]=Ke(" MarkDown ")),G(m,{code:"",content:"![]($url)"})]),_:1}),G(w,{label:"custom"},{default:re(()=>[p[9]||(p[9]=Ke(" 自定义 ")),G(I,{modelValue:W(o),"onUpdate:modelValue":p[2]||(p[2]=z=>kn(o)?o.value=z:null),style:{width:"100px","margin-left":"10px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),G(T),G(x,{level:4},{default:re(()=>p[10]||(p[10]=[Ke(" 图床设置 ")])),_:1}),G(B,{modelValue:W(a),"onUpdate:modelValue":p[4]||(p[4]=z=>kn(a)?a.value=z:null),type:"card",onTabChange:d},{default:re(()=>[(se(),Re(ht,null,Dt(un,(z,$)=>G(F,{key:$,name:$,label:z.name},{default:re(()=>[W(a)===$?(se(),Re("div",hw,[pe("div",pw,[G(b,{"label-position":"top"},{default:re(()=>[(se(!0),Re(ht,null,Dt(W(c),k=>(se(),it(R,{key:k.name,label:k.label,required:k.required},{default:re(()=>[k.type==="input"?(se(),it(I,{key:0,modelValue:k.default,"onUpdate:modelValue":K=>k.default=K,"allow-clear":"",placeholder:k.hint},null,8,["modelValue","onUpdate:modelValue","placeholder"])):k.type==="password"?(se(),it(I,{key:1,modelValue:k.default,"onUpdate:modelValue":K=>k.default=K,type:"password","allow-clear":"",placeholder:k.hint},null,8,["modelValue","onUpdate:modelValue","placeholder"])):gt("",!0)]),_:2},1032,["label","required"]))),128))]),_:2},1024)]),pe("div",gw,[G(O,{type:"primary",onClick:h},{default:re(()=>p[11]||(p[11]=[Ke(" 保存 ")])),_:1})])])):gt("",!0)]),_:2},1032,["name","label"])),64))]),_:1},8,["modelValue"])],64)}}}),yw=Qn(mw,[["__scopeId","data-v-7dbf1b7a"]]),bw=tt({__name:"upload",props:{activeKey:{default:""}},setup(e){const t=e,n=Qe(!1),s=Qe(),r=kt(),i=r.config,o=r.uploader,a=r.commonConfig;Xn(()=>{document.addEventListener("paste",d)}),od(()=>{document.removeEventListener("paste",d)});async function c(h){let l=h;if(n.value=!0,o&&i(o)){if(a.renameTimeStamp){const p=l.name||"";l=new File([l],(new Date().getTime()+p.substring(p.lastIndexOf("."))).toLowerCase(),{type:l.type,lastModified:l.lastModified})}try{const p=await un[o].upload(i(o),l);if(kt().addImage(p),a.copyUrlAfterUpload)try{a.customCopyContent?await navigator.clipboard.writeText(a.customCopyContent.replace(/\$url/g,p.url)):await navigator.clipboard.writeText(p.url),Ge.success("上传成功，地址已复制到剪贴板")}catch{Ge.error("上传成功，但地址复制失败")}else Ge.success("上传成功")}catch(p){console.log(p),Ge.error("上传失败")}}else Ge.warning("请先进行设置");return n.value=!1,!1}function u(){Ge.warning("不支持的文件类型！")}function d(h){if(t.activeKey==="home"&&!n.value&&!s.value){s.value=window.setTimeout(()=>{s.value=void 0},500);const l=h.clipboardData&&h.clipboardData.items;let p;if(l&&l.length)for(const x of l)x.type.includes("image")&&(p=x.getAsFile());p?c(p):(u(),clearTimeout(s.value),s.value=void 0)}}return(h,l)=>{const p=bd;return se(),it(p,{style:{height:"100%"},drag:"",accept:"image/bmp,image/gif,image/jpeg,image/png,image/webp","show-file-list":!1,"before-upload":c},{default:re(()=>l[0]||(l[0]=[pe("div",{class:"el-icon--upload"},[pe("span",{class:"i-icon-park-upload-one?mask"})],-1),pe("div",{class:"el-upload__text"},[Ke(" 直接粘贴图片或拖拽图片到这里上传"),pe("br"),Ke("或者"),pe("em",null,"直接点击选择文件上传")],-1),pe("div",{class:"el-upload__tip"}," 暂时仅支持单文件上传。 ",-1)])),_:1})}}}),ww=Qn(bw,[["__scopeId","data-v-fef27107"]]),xw={class:"wrapper"},Ew=tt({__name:"imgHosting",setup(e){const t=Qe("home"),n=Qe(!1);return Zn(t,s=>{s==="uploaded"&&(n.value=!0)}),(s,r)=>{const i=dc,o=lc;return se(),Re("div",xw,[G(o,{modelValue:W(t),"onUpdate:modelValue":r[0]||(r[0]=a=>kn(t)?t.value=a:null),type:"card",class:"totalTab"},{default:re(()=>[G(i,{name:"home",label:"上传区"},{default:re(()=>[G(ww,{"active-key":W(t)},null,8,["active-key"])]),_:1}),G(i,{name:"uploaded",label:"相册"},{default:re(()=>[W(t)==="uploaded"||W(n)?(se(),it(lw,{key:0})):gt("",!0)]),_:1}),G(i,{name:"settings",label:"设置"},{default:re(()=>[G(yw)]),_:1})]),_:1},8,["modelValue"])])}}}),zw=Qn(Ew,[["__scopeId","data-v-2caac61b"]]);export{zw as default};
