import{o as u,m as p,by as b,r as E,q as i,a as c,s as te,v as ae,y as S,x as K,n as B,F as U,p as P,_ as oe,H as ne,K as A,f as D,aC as $,bi as G,w as Y,a1 as se,B as ie,b as Z}from"./index.6b075e9a.js";import{_ as re}from"./index.4ffa7826.js";import{t as le,a as R}from"./tinycolor.de13f725.js";import{s as y,i as M,c as de}from"./color.66b3411a.js";import"./DownOutlined.4912edc5.js";import"./isMobile.6491fde5.js";import"./debounce.548054c3.js";const F={};var H={name:"Checkboard",props:{size:{type:[Number,String],default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},computed:{bgStyle(){return{"background-image":`url(${he(this.white,this.grey,this.size)})`}}}};function ce(e,t,o){if(typeof document=="undefined")return null;const s=document.createElement("canvas");s.width=s.height=o*2;const r=s.getContext("2d");return r?(r.fillStyle=e,r.fillRect(0,0,s.width,s.height),r.fillStyle=t,r.fillRect(0,0,o,o),r.translate(o,o),r.fillRect(0,0,o,o),s.toDataURL()):null}function he(e,t,o){const s=`${e},${t},${o}`;if(F[s])return F[s];const r=ce(e,t,o);return F[s]=r,r}function ue(e,t,o,s,r,a){return u(),p("div",{class:"vc-checkerboard",style:b(a.bgStyle)},null,4)}var pe=".vc-checkerboard{background-size:contain;bottom:0;left:0;position:absolute;right:0;top:0}";y(pe);H.render=ue;H.__file="src/components/checkboard/checkboard.vue";H.install=M;var j={name:"Alpha",props:{value:Object,onChange:Function},components:{checkboard:H},computed:{colors(){return this.value},gradientColor(){const{rgba:e}=this.colors,t=[e.r,e.g,e.b].join(",");return`linear-gradient(to right, rgba(${t}, 0) 0%, rgba(${t}, 1) 100%)`}},methods:{handleChange(e,t){!t&&e.preventDefault();const{container:o}=this.$refs;if(!o)return;const s=o.clientWidth,r=o.getBoundingClientRect().left+window.pageXOffset,n=(e.pageX||(e.touches?e.touches[0].pageX:0))-r;let d;n<0?d=0:n>s?d=1:d=Math.round(n*100/s)/100,this.colors.a!==d&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:d,source:"rgba"})},handleMouseDown(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const ve={class:"vc-alpha"},ge={class:"vc-alpha-checkboard-wrap"},fe=i("div",{class:"vc-alpha-picker"},null,-1),me=[fe];function ke(e,t,o,s,r,a){const n=E("checkboard");return u(),p("div",ve,[i("div",ge,[c(n)]),i("div",{class:"vc-alpha-gradient",style:b({background:a.gradientColor})},null,4),i("div",{class:"vc-alpha-container",ref:"container",onMousedown:t[0]||(t[0]=(...d)=>a.handleMouseDown&&a.handleMouseDown(...d)),onTouchmove:t[1]||(t[1]=(...d)=>a.handleChange&&a.handleChange(...d)),onTouchstart:t[2]||(t[2]=(...d)=>a.handleChange&&a.handleChange(...d))},[i("div",{class:"vc-alpha-pointer",style:b({left:a.colors.a*100+"%"})},me,4)],544)])}var be=".vc-alpha,.vc-alpha-checkboard-wrap{bottom:0;left:0;position:absolute;right:0;top:0}.vc-alpha-checkboard-wrap{overflow:hidden}.vc-alpha-gradient{bottom:0;left:0;position:absolute;right:0;top:0}.vc-alpha-container{cursor:pointer;height:100%;margin:0 3px;position:relative;z-index:2}.vc-alpha-pointer{position:absolute;z-index:2}.vc-alpha-picker{background:#fff;border-radius:1px;box-shadow:0 0 2px rgba(0,0,0,.6);cursor:pointer;height:8px;margin-top:1px;transform:translateX(-2px);width:4px}";y(be);j.render=ke;j.__file="src/components/alpha/alpha.vue";j.install=M;var I={name:"editableInput",props:{label:String,labelText:String,desc:String,value:[String,Number],max:Number,min:Number,arrowOffset:{type:Number,default:1}},computed:{val:{get(){return this.value},set(e){if(this.max!==void 0&&+e>this.max)this.$refs.input.value=this.max;else return e}},labelId(){return`input__label__${this.label}__${Math.random().toString().slice(2,5)}`},labelSpanText(){return this.labelText||this.label}},methods:{update(e){this.handleChange(e.target.value)},handleChange(e){const t={};t[this.label]=e,t.hex===void 0&&t["#"]===void 0?this.$emit("change",t):e.length>5&&this.$emit("change",t)},handleKeyDown(e){let{val:t}=this;const o=Number(t);if(o){const s=this.arrowOffset||1;e.keyCode===38&&(t=o+s,this.handleChange(t),e.preventDefault()),e.keyCode===40&&(t=o-s,this.handleChange(t),e.preventDefault())}}}};const we={class:"vc-editable-input"},Ce=["aria-labelledby"],xe=["for","id"],_e={class:"vc-input__desc"};function Ee(e,t,o,s,r,a){return u(),p("div",we,[te(i("input",{"aria-labelledby":a.labelId,class:"vc-input__input","onUpdate:modelValue":t[0]||(t[0]=n=>a.val=n),onKeydown:t[1]||(t[1]=(...n)=>a.handleKeyDown&&a.handleKeyDown(...n)),onInput:t[2]||(t[2]=(...n)=>a.update&&a.update(...n)),ref:"input"},null,40,Ce),[[ae,a.val]]),i("span",{for:o.label,class:"vc-input__label",id:a.labelId},S(a.labelSpanText),9,xe),i("span",_e,S(o.desc),1)])}var ye=".vc-editable-input{position:relative}.vc-input__input{border:0;outline:none;padding:0}.vc-input__label{text-transform:capitalize}";y(ye);I.render=Ee;I.__file="src/components/editable-input/editable-input.vue";I.install=M;function O(e,t,o){return t<o?e<t?t:e>o?o:e:e<o?o:e>t?t:e}var T={name:"Saturation",props:{value:Object},computed:{colors(){return this.value},bgColor(){return`hsl(${this.colors.hsv.h}, 100%, 50%)`},pointerTop(){return`${-(this.colors.hsv.v*100)+1+100}%`},pointerLeft(){return`${this.colors.hsv.s*100}%`}},methods:{throttle:le((e,t)=>{e(t)},20,{leading:!0,trailing:!1}),handleChange(e,t){!t&&e.preventDefault();const{container:o}=this.$refs;if(!o)return;const s=o.clientWidth,r=o.clientHeight,a=o.getBoundingClientRect().left+window.pageXOffset,n=o.getBoundingClientRect().top+window.pageYOffset,d=e.pageX||(e.touches?e.touches[0].pageX:0),w=e.pageY||(e.touches?e.touches[0].pageY:0),f=O(d-a,0,s),v=O(w-n,0,r),l=f/s,m=O(-(v/r)+1,0,1);this.throttle(this.onChange,{h:this.colors.hsv.h,s:l,v:m,a:this.colors.hsv.a,source:"hsva"})},onChange(e){this.$emit("change",e)},handleMouseDown(e){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const Me=i("div",{class:"vc-saturation--white"},null,-1),ze=i("div",{class:"vc-saturation--black"},null,-1),De=i("div",{class:"vc-saturation-circle"},null,-1),$e=[De];function Le(e,t,o,s,r,a){return u(),p("div",{class:"vc-saturation",style:b({background:a.bgColor}),ref:"container",onMousedown:t[0]||(t[0]=(...n)=>a.handleMouseDown&&a.handleMouseDown(...n)),onTouchmove:t[1]||(t[1]=(...n)=>a.handleChange&&a.handleChange(...n)),onTouchstart:t[2]||(t[2]=(...n)=>a.handleChange&&a.handleChange(...n))},[Me,ze,i("div",{class:"vc-saturation-pointer",style:b({top:a.pointerTop,left:a.pointerLeft})},$e,4)],36)}var He=".vc-saturation,.vc-saturation--black,.vc-saturation--white{bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.vc-saturation--white{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.vc-saturation--black{background:linear-gradient(0deg,#000,transparent)}.vc-saturation-pointer{cursor:pointer;position:absolute}.vc-saturation-circle{border-radius:50%;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);cursor:head;height:4px;transform:translate(-2px,-2px);width:4px}";y(He);T.render=Le;T.__file="src/components/saturation/saturation.vue";T.install=M;var V={name:"Hue",props:{value:Object,direction:{type:String,default:"horizontal"}},data(){return{oldHue:0,pullDirection:""}},computed:{colors(){const{h:e}=this.value.hsl;return e!==0&&e-this.oldHue>0&&(this.pullDirection="right"),e!==0&&e-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=e,this.value},directionClass(){return{"vc-hue--horizontal":this.direction==="horizontal","vc-hue--vertical":this.direction==="vertical"}},pointerTop(){return this.direction==="vertical"?this.colors.hsl.h===0&&this.pullDirection==="right"?0:`${-(this.colors.hsl.h*100/360)+100}%`:0},pointerLeft(){return this.direction==="vertical"?0:this.colors.hsl.h===0&&this.pullDirection==="right"?"100%":`${this.colors.hsl.h*100/360}%`}},methods:{handleChange(e,t){!t&&e.preventDefault();const{container:o}=this.$refs;if(!o)return;const s=o.clientWidth,r=o.clientHeight,a=o.getBoundingClientRect().left+window.pageXOffset,n=o.getBoundingClientRect().top+window.pageYOffset,d=e.pageX||(e.touches?e.touches[0].pageX:0),w=e.pageY||(e.touches?e.touches[0].pageY:0),f=d-a,v=w-n;let l,m;this.direction==="vertical"?(v<0?l=360:v>r?l=0:(m=-(v*100/r)+100,l=360*m/100),this.colors.hsl.h!==l&&this.$emit("change",{h:l,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(f<0?l=0:f>s?l=360:(m=f*100/s,l=360*m/100),this.colors.hsl.h!==l&&this.$emit("change",{h:l,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))},handleMouseDown(e){this.handleChange(e,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(e){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const Be=["aria-valuenow"],Ae=i("div",{class:"vc-hue-picker"},null,-1),Re=[Ae];function Se(e,t,o,s,r,a){return u(),p("div",{class:K(["vc-hue",a.directionClass])},[i("div",{class:"vc-hue-container",role:"slider","aria-valuenow":a.colors.hsl.h,"aria-valuemin":"0","aria-valuemax":"360",ref:"container",onMousedown:t[0]||(t[0]=(...n)=>a.handleMouseDown&&a.handleMouseDown(...n)),onTouchmove:t[1]||(t[1]=(...n)=>a.handleChange&&a.handleChange(...n)),onTouchstart:t[2]||(t[2]=(...n)=>a.handleChange&&a.handleChange(...n))},[i("div",{class:"vc-hue-pointer",style:b({top:a.pointerTop,left:a.pointerLeft}),role:"presentation"},Re,4)],40,Be)],2)}var je=".vc-hue{border-radius:2px;bottom:0;left:0;position:absolute;right:0;top:0}.vc-hue--horizontal{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.vc-hue--vertical{background:linear-gradient(0deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.vc-hue-container{cursor:pointer;height:100%;margin:0 2px;position:relative}.vc-hue-pointer{position:absolute;z-index:2}.vc-hue-picker{background:#fff;border-radius:1px;box-shadow:0 0 2px rgba(0,0,0,.6);cursor:pointer;height:8px;margin-top:1px;transform:translateX(-2px);width:4px}";y(je);V.render=Se;V.__file="src/components/hue/hue.vue";V.install=M;const Ie=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","rgba(0,0,0,0)"];var L={name:"Sketch",mixins:[de],components:{saturation:T,hue:V,alpha:j,"ed-in":I,checkboard:H},props:{presetColors:{type:Array,default(){return Ie}},disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},computed:{hex(){let e;return this.colors.a<1?e=this.colors.hex8:e=this.colors.hex,e.replace("#","")},activeColor(){const{rgba:e}=this.colors;return`rgba(${[e.r,e.g,e.b,e.a].join(",")})`}},methods:{handlePreset(e){this.colorChange(e)},childChange(e){this.colorChange(e)},inputChange(e){!e||(e.hex?this.isValidHex(e.hex)&&this.colorChange({hex:e.hex,source:"hex"}):(e.r||e.g||e.b||e.a)&&this.colorChange({r:e.r||this.colors.rgba.r,g:e.g||this.colors.rgba.g,b:e.b||this.colors.rgba.b,a:e.a||this.colors.rgba.a,source:"rgba"}))}}};const Te={class:"vc-sketch-saturation-wrap"},Ve={class:"vc-sketch-controls"},Xe={class:"vc-sketch-sliders"},Ye={class:"vc-sketch-hue-wrap"},Fe={key:0,class:"vc-sketch-alpha-wrap"},Oe={class:"vc-sketch-color-wrap"},Ue=["aria-label"],Ze={key:0,class:"vc-sketch-field"},Ne={class:"vc-sketch-field--double"},We={class:"vc-sketch-field--single"},Ge={class:"vc-sketch-field--single"},Ke={class:"vc-sketch-field--single"},Pe={key:0,class:"vc-sketch-field--single"},qe={class:"vc-sketch-presets",role:"group","aria-label":"A color preset, pick one to set as current color"},Je=["aria-label","onClick"],Qe=["aria-label","onClick"];function et(e,t,o,s,r,a){const n=E("saturation"),d=E("hue"),w=E("alpha"),f=E("checkboard"),v=E("ed-in");return u(),p("div",{role:"application","aria-label":"Sketch color picker",class:K(["vc-sketch",o.disableAlpha?"vc-sketch__disable-alpha":""])},[i("div",Te,[c(n,{value:e.colors,onChange:a.childChange},null,8,["value","onChange"])]),i("div",Ve,[i("div",Xe,[i("div",Ye,[c(d,{value:e.colors,onChange:a.childChange},null,8,["value","onChange"])]),o.disableAlpha?B("v-if",!0):(u(),p("div",Fe,[c(w,{value:e.colors,onChange:a.childChange},null,8,["value","onChange"])]))]),i("div",Oe,[i("div",{"aria-label":`Current color is ${a.activeColor}`,class:"vc-sketch-active-color",style:b({background:a.activeColor})},null,12,Ue),c(f)])]),o.disableFields?B("v-if",!0):(u(),p("div",Ze,[B(" rgba "),i("div",Ne,[c(v,{label:"hex",value:a.hex,onChange:a.inputChange},null,8,["value","onChange"])]),i("div",We,[c(v,{label:"r",value:e.colors.rgba.r,onChange:a.inputChange},null,8,["value","onChange"])]),i("div",Ge,[c(v,{label:"g",value:e.colors.rgba.g,onChange:a.inputChange},null,8,["value","onChange"])]),i("div",Ke,[c(v,{label:"b",value:e.colors.rgba.b,onChange:a.inputChange},null,8,["value","onChange"])]),o.disableAlpha?B("v-if",!0):(u(),p("div",Pe,[c(v,{label:"a",value:e.colors.a,"arrow-offset":.01,max:1,onChange:a.inputChange},null,8,["value","arrow-offset","onChange"])]))])),i("div",qe,[(u(!0),p(U,null,P(o.presetColors,l=>(u(),p(U,null,[e.isTransparent(l)?(u(),p("div",{key:l,"aria-label":"Color:"+l,class:"vc-sketch-presets-color",onClick:m=>a.handlePreset(l)},[c(f)],8,Qe)):(u(),p("div",{key:`!${l}`,class:"vc-sketch-presets-color","aria-label":"Color:"+l,style:b({background:l}),onClick:m=>a.handlePreset(l)},null,12,Je))],64))),256))])],2)}var tt=".vc-sketch{background:#fff;border-radius:4px;box-shadow:0 0 0 1px rgba(0,0,0,.15),0 8px 16px rgba(0,0,0,.15);box-sizing:initial;padding:10px 10px 0;position:relative;width:200px}.vc-sketch-saturation-wrap{overflow:hidden;padding-bottom:75%;position:relative;width:100%}.vc-sketch-controls{display:flex}.vc-sketch-sliders{flex:1;padding:4px 0}.vc-sketch-sliders .vc-alpha-gradient,.vc-sketch-sliders .vc-hue{border-radius:2px}.vc-sketch-alpha-wrap,.vc-sketch-hue-wrap{height:10px;position:relative}.vc-sketch-alpha-wrap{margin-top:4px;overflow:hidden}.vc-sketch-color-wrap{border-radius:3px;height:24px;margin-left:4px;margin-top:4px;position:relative;width:24px}.vc-sketch-active-color{border-radius:2px;bottom:0;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15),inset 0 0 4px rgba(0,0,0,.25);left:0;position:absolute;right:0;top:0;z-index:2}.vc-sketch-color-wrap .vc-checkerboard{background-size:auto}.vc-sketch-field{display:flex;padding-top:4px}.vc-sketch-field .vc-input__input{border:none;box-shadow:inset 0 0 0 1px #ccc;font-size:10px;padding:4px 0 3px 10%;width:90%}.vc-sketch-field .vc-input__label{color:#222;display:block;font-size:11px;padding-bottom:4px;padding-top:3px;text-align:center;text-transform:capitalize}.vc-sketch-field--single{flex:1;padding-left:6px}.vc-sketch-field--double{flex:2}.vc-sketch-presets{border-top:1px solid #eee;margin-left:-10px;margin-right:-10px;padding-left:10px;padding-top:10px}.vc-sketch-presets-color{cursor:pointer;display:inline-block;height:16px;margin:0 10px 10px 0;overflow:hidden;position:relative;vertical-align:top;width:16px}.vc-sketch-presets-color,.vc-sketch-presets-color .vc-checkerboard{border-radius:3px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15)}.vc-sketch__disable-alpha .vc-sketch-color-wrap{height:10px}";y(tt);L.render=et;L.__file="src/components/sketch/sketch.vue";L.install=M;const at={flex:"","flex-col":"","w-fit":"","mx-auto":"","justify-start":"","items-center":"","h-full":"","overflow-auto":"","p-t-1":"",class:"gap-3.2"},ot={flex:"","w-fit":"","flex-wrap":"","max-w-full":"","mx-auto":"","justify-start":"","items-center":"",class:"gap-3.2 selector"},nt={flex:"","flex-col":"","items-center":"","mx-auto":""},st=Z(" \u6E10\u53D8\u4E2A\u6570 "),it={flex:"","flex-row":"","w-fit":"","mx-auto":"","justify-start":"","flex-wrap":"","items-stretch":"",class:"gap-3.2"},rt=["onClick"],lt={relative:""},dt=Z(" \u590D\u5236\u6240\u6709 "),ct={__name:"gradientColor",setup(e){const t=ne("$msg"),o=A("#ff0000"),s=A("#00ffff"),r=A(10),a=A(!1),n=D({get(){return o.value},set(h){h&&h.hex&&(o.value=h.hex)}}),d=D({get(){return s.value},set(h){h&&h.hex&&(s.value=h.hex)}}),w=D(()=>l(o.value,s.value,r.value)),f=D(()=>w.value.map(h=>R(h).toRgbString())),v=D(()=>a.value?f.value:w.value);function l(h,k,x){const C=R(h).toRgb(),_=R(k).toRgb(),g=(_.r-C.r)/x,X=(_.g-C.g)/x,N=(_.b-C.b)/x,W=[];for(let z=0;z<x;z++){const J=Math.round(C.r+g*z),Q=Math.round(C.g+X*z),ee=Math.round(C.b+N*z);W.push(R({r:J,g:Q,b:ee}).toHexString())}return W}function m(h){window.navigator.clipboard.writeText(h),t.success("\u590D\u5236\u6210\u529F")}function q(){const h=v.value.join(",");window.navigator.clipboard.writeText(h),t.success("\u590D\u5236\u6210\u529F")}return(h,k)=>{const x=se,C=re,_=ie;return u(),p("div",at,[i("div",ot,[c($(L),{modelValue:$(n),"onUpdate:modelValue":k[0]||(k[0]=g=>G(n)?n.value=g:null),"disable-alpha":!0,"mx-auto":""},null,8,["modelValue"]),i("div",nt,[c(x,null,{default:Y(()=>[st]),_:1}),c(C,{value:r.value,"onUpdate:value":k[1]||(k[1]=g=>r.value=g),valueModifiers:{number:!0},step:1,precision:0},null,8,["value"])]),c($(L),{modelValue:$(d),"onUpdate:modelValue":k[2]||(k[2]=g=>G(d)?d.value=g:null),"mx-auto":"","disable-alpha":!0},null,8,["modelValue"])]),i("div",it,[(u(!0),p(U,null,P($(v),(g,X)=>(u(),p("div",{key:X,"display-block":"","cursor-pointer":"",truncate:"","h-fit":"","text-center":"",class:"p-3.2",style:b({background:g,width:a.value?"15rem":"9rem"}),onClick:N=>m(g)},S(g),13,rt))),128)),i("div",lt,[c(_,{"h-full":"",onClick:k[3]||(k[3]=g=>a.value=!a.value)},{default:Y(()=>[Z(S(a.value?"\u663E\u793AHEX":"\u663E\u793ARGB"),1)]),_:1})])]),c(_,{type:"primary",onClick:q},{default:Y(()=>[dt]),_:1})])}}};var kt=oe(ct,[["__scopeId","data-v-2a28dd6a"]]);export{kt as default};
