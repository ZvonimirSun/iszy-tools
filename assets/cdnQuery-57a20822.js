import{h as re,j as ve,o as T,c as te,w as X,r as Yt,bz as Sr,d9 as Dr,n as v,aU as Tr,v as ke,g as Ae,bM as Ge,aH as xe,k as ue,l as M,t as ee,q as Nt,ah as wt,a4 as Le,a5 as Zt,a9 as en,aX as tn,y as J,D as ge,a as G,G as me,H as Oe,p as ae,m as V,B as nn,aV as rn,s as Y,d4 as Ir,da as Rt,d5 as Or,a3 as jr,ad as at,an as Fe,aE as Ar,aG as be,as as Te,ai as qr,aj as Kr,x as zr,cA as gt,Y as $r,aM as Rr,cW as ft,cU as Br,bN as Mr,ab as mt,db as Lr,aK as Ie,T as vt,U as yt,aL as Se,a1 as Fr,bw as Ur,ar as Hr,a0 as Bt,R as an,ag as Wr,aC as Jr,al as De,bF as Vr,$ as Qr,C as Gr,X as Xr,b as se,z as Mt,dc as Yr,A as Zr,aR as Lt,I as ea,J as ta,_ as na}from"./index-c00b8812.js";import{E as ra}from"./el-checkbox-e1a5aa0d.js";import{u as Et,h as Ft,j as Ut,c as on,a as Be,k as aa,l as oa,P as Ht,C as sa,T as ia}from"./index-821d71dc.js";import"./el-tag-8a85312f.js";import{E as sn,a as un}from"./el-select-ab53fd1e.js";import"./el-scrollbar-e88d9e52.js";import"./el-popper-9ba09715.js";import{E as ua}from"./el-divider-afd7c2fa.js";import{i as la}from"./isEqual-026a6ab9.js";import"./index-ca21c84e.js";import{_ as ca}from"./Link-0d7d9066.js";import{_ as da}from"./Paragraph-7aa24f92.js";import{_ as fa}from"./Title-a3d01143.js";import{_ as ha}from"./Text-eec22c6e.js";import"./hasIn-1f8e4d37.js";import"./ResizeObserver.es-0f9f8adb.js";import"./index-9731973f.js";import"./strings-a11040d5.js";import"./toFinite-d05950af.js";const pa=re({name:"ElCollapseTransition"}),ga=re({...pa,setup(n){const r=ve("collapse-transition"),s=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},u={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){s(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){s(e)},leaveCancelled(e){s(e)}};return(e,c)=>(T(),te(Tr,Sr({name:v(r).b()},Dr(u)),{default:X(()=>[Yt(e.$slots,"default")]),_:3},16,["name"]))}});var tt=ke(ga,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);tt.install=n=>{n.component(tt.name,tt)};const ma=tt,ln=Symbol("elPaginationKey"),va=Ae({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ge}}),ya={click:n=>n instanceof MouseEvent},ba=["disabled","aria-label","aria-disabled"],ka={key:0},Ca=re({name:"ElPaginationPrev"}),Na=re({...Ca,props:va,emits:ya,setup(n){const r=n,{t:s}=xe(),u=ue(()=>r.disabled||r.currentPage<=1);return(e,c)=>(T(),M("button",{type:"button",class:"btn-prev",disabled:v(u),"aria-label":e.prevText||v(s)("el.pagination.prev"),"aria-disabled":v(u),onClick:c[0]||(c[0]=h=>e.$emit("click",h))},[e.prevText?(T(),M("span",ka,ee(e.prevText),1)):(T(),te(v(wt),{key:1},{default:X(()=>[(T(),te(Nt(e.prevIcon)))]),_:1}))],8,ba))}});var wa=ke(Na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const Ea=Ae({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ge}}),Pa=["disabled","aria-label","aria-disabled"],xa={key:0},_a=re({name:"ElPaginationNext"}),Sa=re({..._a,props:Ea,emits:["click"],setup(n){const r=n,{t:s}=xe(),u=ue(()=>r.disabled||r.currentPage===r.pageCount||r.pageCount===0);return(e,c)=>(T(),M("button",{type:"button",class:"btn-next",disabled:v(u),"aria-label":e.nextText||v(s)("el.pagination.next"),"aria-disabled":v(u),onClick:c[0]||(c[0]=h=>e.$emit("click",h))},[e.nextText?(T(),M("span",xa,ee(e.nextText),1)):(T(),te(v(wt),{key:1},{default:X(()=>[(T(),te(Nt(e.nextIcon)))]),_:1}))],8,Pa))}});var Da=ke(Sa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Pt=()=>Le(ln,{}),Ta=Ae({pageSize:{type:Number,required:!0},pageSizes:{type:Zt(Array),default:()=>en([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:tn}}),Ia=re({name:"ElPaginationSizes"}),Oa=re({...Ia,props:Ta,emits:["page-size-change"],setup(n,{emit:r}){const s=n,{t:u}=xe(),e=ve("pagination"),c=Pt(),h=J(s.pageSize);ge(()=>s.pageSizes,(m,x)=>{if(!la(m,x)&&Array.isArray(m)){const b=m.includes(s.pageSize)?s.pageSize:s.pageSizes[0];r("page-size-change",b)}}),ge(()=>s.pageSize,m=>{h.value=m});const g=ue(()=>s.pageSizes);function K(m){var x;m!==h.value&&(h.value=m,(x=c.handleSizeChange)==null||x.call(c,Number(m)))}return(m,x)=>(T(),M("span",{class:ae(v(e).e("sizes"))},[G(v(un),{"model-value":h.value,disabled:m.disabled,"popper-class":m.popperClass,size:m.size,teleported:m.teleported,"validate-event":!1,onChange:K},{default:X(()=>[(T(!0),M(me,null,Oe(v(g),b=>(T(),te(v(sn),{key:b,value:b,label:b+v(u)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var ja=ke(Oa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const Aa=Ae({size:{type:String,values:tn}}),qa=["disabled"],Ka=re({name:"ElPaginationJumper"}),za=re({...Ka,props:Aa,setup(n){const{t:r}=xe(),s=ve("pagination"),{pageCount:u,disabled:e,currentPage:c,changeEvent:h}=Pt(),g=J(),K=ue(()=>{var b;return(b=g.value)!=null?b:c==null?void 0:c.value});function m(b){g.value=b?+b:""}function x(b){b=Math.trunc(+b),h==null||h(b),g.value=void 0}return(b,k)=>(T(),M("span",{class:ae(v(s).e("jump")),disabled:v(e)},[V("span",{class:ae([v(s).e("goto")])},ee(v(r)("el.pagination.goto")),3),G(v(nn),{size:b.size,class:ae([v(s).e("editor"),v(s).is("in-pagination")]),min:1,max:v(u),disabled:v(e),"model-value":v(K),"validate-event":!1,label:v(r)("el.pagination.page"),type:"number","onUpdate:modelValue":m,onChange:x},null,8,["size","class","max","disabled","model-value","label"]),V("span",{class:ae([v(s).e("classifier")])},ee(v(r)("el.pagination.pageClassifier")),3)],10,qa))}});var $a=ke(za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const Ra=Ae({total:{type:Number,default:1e3}}),Ba=["disabled"],Ma=re({name:"ElPaginationTotal"}),La=re({...Ma,props:Ra,setup(n){const{t:r}=xe(),s=ve("pagination"),{disabled:u}=Pt();return(e,c)=>(T(),M("span",{class:ae(v(s).e("total")),disabled:v(u)},ee(v(r)("el.pagination.total",{total:e.total})),11,Ba))}});var Fa=ke(La,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const Ua=Ae({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Ha=["onKeyup"],Wa=["aria-current","aria-label","tabindex"],Ja=["tabindex","aria-label"],Va=["aria-current","aria-label","tabindex"],Qa=["tabindex","aria-label"],Ga=["aria-current","aria-label","tabindex"],Xa=re({name:"ElPaginationPager"}),Ya=re({...Xa,props:Ua,emits:["change"],setup(n,{emit:r}){const s=n,u=ve("pager"),e=ve("icon"),{t:c}=xe(),h=J(!1),g=J(!1),K=J(!1),m=J(!1),x=J(!1),b=J(!1),k=ue(()=>{const w=s.pagerCount,C=(w-1)/2,f=Number(s.currentPage),$=Number(s.pageCount);let U=!1,D=!1;$>w&&(f>w-C&&(U=!0),f<$-C&&(D=!0));const j=[];if(U&&!D){const E=$-(w-2);for(let ie=E;ie<$;ie++)j.push(ie)}else if(!U&&D)for(let E=2;E<w;E++)j.push(E);else if(U&&D){const E=Math.floor(w/2)-1;for(let ie=f-E;ie<=f+E;ie++)j.push(ie)}else for(let E=2;E<$;E++)j.push(E);return j}),d=ue(()=>["more","btn-quickprev",e.b(),u.is("disabled",s.disabled)]),z=ue(()=>["more","btn-quicknext",e.b(),u.is("disabled",s.disabled)]),L=ue(()=>s.disabled?-1:0);rn(()=>{const w=(s.pagerCount-1)/2;h.value=!1,g.value=!1,s.pageCount>s.pagerCount&&(s.currentPage>s.pagerCount-w&&(h.value=!0),s.currentPage<s.pageCount-w&&(g.value=!0))});function S(w=!1){s.disabled||(w?K.value=!0:m.value=!0)}function Q(w=!1){w?x.value=!0:b.value=!0}function H(w){const C=w.target;if(C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("number")){const f=Number(C.textContent);f!==s.currentPage&&r("change",f)}else C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("more")&&q(w)}function q(w){const C=w.target;if(C.tagName.toLowerCase()==="ul"||s.disabled)return;let f=Number(C.textContent);const $=s.pageCount,U=s.currentPage,D=s.pagerCount-2;C.className.includes("more")&&(C.className.includes("quickprev")?f=U-D:C.className.includes("quicknext")&&(f=U+D)),Number.isNaN(+f)||(f<1&&(f=1),f>$&&(f=$)),f!==U&&r("change",f)}return(w,C)=>(T(),M("ul",{class:ae(v(u).b()),onClick:q,onKeyup:jr(H,["enter"])},[w.pageCount>0?(T(),M("li",{key:0,class:ae([[v(u).is("active",w.currentPage===1),v(u).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===1,"aria-label":v(c)("el.pagination.currentPage",{pager:1}),tabindex:v(L)}," 1 ",10,Wa)):Y("v-if",!0),h.value?(T(),M("li",{key:1,class:ae(v(d)),tabindex:v(L),"aria-label":v(c)("el.pagination.prevPages",{pager:w.pagerCount-2}),onMouseenter:C[0]||(C[0]=f=>S(!0)),onMouseleave:C[1]||(C[1]=f=>K.value=!1),onFocus:C[2]||(C[2]=f=>Q(!0)),onBlur:C[3]||(C[3]=f=>x.value=!1)},[(K.value||x.value)&&!w.disabled?(T(),te(v(Ir),{key:0})):(T(),te(v(Rt),{key:1}))],42,Ja)):Y("v-if",!0),(T(!0),M(me,null,Oe(v(k),f=>(T(),M("li",{key:f,class:ae([[v(u).is("active",w.currentPage===f),v(u).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===f,"aria-label":v(c)("el.pagination.currentPage",{pager:f}),tabindex:v(L)},ee(f),11,Va))),128)),g.value?(T(),M("li",{key:2,class:ae(v(z)),tabindex:v(L),"aria-label":v(c)("el.pagination.nextPages",{pager:w.pagerCount-2}),onMouseenter:C[4]||(C[4]=f=>S()),onMouseleave:C[5]||(C[5]=f=>m.value=!1),onFocus:C[6]||(C[6]=f=>Q()),onBlur:C[7]||(C[7]=f=>b.value=!1)},[(m.value||b.value)&&!w.disabled?(T(),te(v(Or),{key:0})):(T(),te(v(Rt),{key:1}))],42,Qa)):Y("v-if",!0),w.pageCount>1?(T(),M("li",{key:3,class:ae([[v(u).is("active",w.currentPage===w.pageCount),v(u).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===w.pageCount,"aria-label":v(c)("el.pagination.currentPage",{pager:w.pageCount}),tabindex:v(L)},ee(w.pageCount),11,Ga)):Y("v-if",!0)],42,Ha))}});var Za=ke(Ya,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const ce=n=>typeof n!="number",eo=Ae({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:n=>Te(n)&&Math.trunc(n)===n&&n>4&&n<22&&n%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Zt(Array),default:()=>en([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ge,default:()=>qr},nextText:{type:String,default:""},nextIcon:{type:Ge,default:()=>Kr},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),to={"update:current-page":n=>Te(n),"update:page-size":n=>Te(n),"size-change":n=>Te(n),"current-change":n=>Te(n),"prev-click":n=>Te(n),"next-click":n=>Te(n)},Wt="ElPagination";var no=re({name:Wt,props:eo,emits:to,setup(n,{emit:r,slots:s}){const{t:u}=xe(),e=ve("pagination"),c=at().vnode.props||{},h="onUpdate:currentPage"in c||"onUpdate:current-page"in c||"onCurrentChange"in c,g="onUpdate:pageSize"in c||"onUpdate:page-size"in c||"onSizeChange"in c,K=ue(()=>{if(ce(n.total)&&ce(n.pageCount)||!ce(n.currentPage)&&!h)return!1;if(n.layout.includes("sizes")){if(ce(n.pageCount)){if(!ce(n.total)&&!ce(n.pageSize)&&!g)return!1}else if(!g)return!1}return!0}),m=J(ce(n.defaultPageSize)?10:n.defaultPageSize),x=J(ce(n.defaultCurrentPage)?1:n.defaultCurrentPage),b=ue({get(){return ce(n.pageSize)?m.value:n.pageSize},set(q){ce(n.pageSize)&&(m.value=q),g&&(r("update:page-size",q),r("size-change",q))}}),k=ue(()=>{let q=0;return ce(n.pageCount)?ce(n.total)||(q=Math.max(1,Math.ceil(n.total/b.value))):q=n.pageCount,q}),d=ue({get(){return ce(n.currentPage)?x.value:n.currentPage},set(q){let w=q;q<1?w=1:q>k.value&&(w=k.value),ce(n.currentPage)&&(x.value=w),h&&(r("update:current-page",w),r("current-change",w))}});ge(k,q=>{d.value>q&&(d.value=q)});function z(q){d.value=q}function L(q){b.value=q;const w=k.value;d.value>w&&(d.value=w)}function S(){n.disabled||(d.value-=1,r("prev-click",d.value))}function Q(){n.disabled||(d.value+=1,r("next-click",d.value))}function H(q,w){q&&(q.props||(q.props={}),q.props.class=[q.props.class,w].join(" "))}return Fe(ln,{pageCount:k,disabled:ue(()=>n.disabled),currentPage:d,changeEvent:z,handleSizeChange:L}),()=>{var q,w;if(!K.value)return Ar(Wt,u("el.pagination.deprecationWarning")),null;if(!n.layout||n.hideOnSinglePage&&k.value<=1)return null;const C=[],f=[],$=be("div",{class:e.e("rightwrapper")},f),U={prev:be(wa,{disabled:n.disabled,currentPage:d.value,prevText:n.prevText,prevIcon:n.prevIcon,onClick:S}),jumper:be($a,{size:n.small?"small":"default"}),pager:be(Za,{currentPage:d.value,pageCount:k.value,pagerCount:n.pagerCount,onChange:z,disabled:n.disabled}),next:be(Da,{disabled:n.disabled,currentPage:d.value,pageCount:k.value,nextText:n.nextText,nextIcon:n.nextIcon,onClick:Q}),sizes:be(ja,{pageSize:b.value,pageSizes:n.pageSizes,popperClass:n.popperClass,disabled:n.disabled,teleported:n.teleported,size:n.small?"small":"default"}),slot:(w=(q=s==null?void 0:s.default)==null?void 0:q.call(s))!=null?w:null,total:be(Fa,{total:ce(n.total)?0:n.total})},D=n.layout.split(",").map(E=>E.trim());let j=!1;return D.forEach(E=>{if(E==="->"){j=!0;return}j?f.push(U[E]):C.push(U[E])}),H(C[0],e.is("first")),H(C[C.length-1],e.is("last")),j&&f.length>0&&(H(f[0],e.is("first")),H(f[f.length-1],e.is("last")),C.push($)),be("div",{class:[e.b(),e.is("background",n.background),{[e.m("small")]:n.small}]},C)}}});const ro=zr(no),Me="$treeNodeId",Jt=function(n,r){!r||r[Me]||Object.defineProperty(r,Me,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},xt=function(n,r){return n?r[n]:r[Me]},bt=(n,r,s)=>{const u=n.value.currentNode;s();const e=n.value.currentNode;u!==e&&r("current-change",e?e.data:null,e)},kt=n=>{let r=!0,s=!0,u=!0;for(let e=0,c=n.length;e<c;e++){const h=n[e];(h.checked!==!0||h.indeterminate)&&(r=!1,h.disabled||(u=!1)),(h.checked!==!1||h.indeterminate)&&(s=!1)}return{all:r,none:s,allWithoutDisable:u,half:!r&&!s}},nt=function(n){if(n.childNodes.length===0||n.loading)return;const{all:r,none:s,half:u}=kt(n.childNodes);r?(n.checked=!0,n.indeterminate=!1):u?(n.checked=!1,n.indeterminate=!0):s&&(n.checked=!1,n.indeterminate=!1);const e=n.parent;!e||e.level===0||n.store.checkStrictly||nt(e)},Ze=function(n,r){const s=n.store.props,u=n.data||{},e=s[r];if(typeof e=="function")return e(u,n);if(typeof e=="string")return u[e];if(typeof e>"u"){const c=u[r];return c===void 0?"":c}};let ao=0;class je{constructor(r){this.id=ao++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const s in r)gt(r,s)&&(this[s]=r[s]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const r=this.store;if(!r)throw new Error("[Node]store is required!");r.registerNode(this);const s=r.props;if(s&&typeof s.isLeaf<"u"){const c=Ze(this,"isLeaf");typeof c=="boolean"&&(this.isLeafByUser=c)}if(r.lazy!==!0&&this.data?(this.setData(this.data),r.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&r.lazy&&r.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Jt(this,this.data),!this.data)return;const u=r.defaultExpandedKeys,e=r.key;e&&u&&u.includes(this.key)&&this.expand(null,r.autoExpandParent),e&&r.currentNodeKey!==void 0&&this.key===r.currentNodeKey&&(r.currentNode=this,r.currentNode.isCurrent=!0),r.lazy&&r._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(r){Array.isArray(r)||Jt(this,r),this.data=r,this.childNodes=[];let s;this.level===0&&Array.isArray(this.data)?s=this.data:s=Ze(this,"children")||[];for(let u=0,e=s.length;u<e;u++)this.insertChild({data:s[u]})}get label(){return Ze(this,"label")}get key(){const r=this.store.key;return this.data?this.data[r]:null}get disabled(){return Ze(this,"disabled")}get nextSibling(){const r=this.parent;if(r){const s=r.childNodes.indexOf(this);if(s>-1)return r.childNodes[s+1]}return null}get previousSibling(){const r=this.parent;if(r){const s=r.childNodes.indexOf(this);if(s>-1)return s>0?r.childNodes[s-1]:null}return null}contains(r,s=!0){return(this.childNodes||[]).some(u=>u===r||s&&u.contains(r))}remove(){const r=this.parent;r&&r.removeChild(this)}insertChild(r,s,u){if(!r)throw new Error("InsertChild error: child is required.");if(!(r instanceof je)){if(!u){const e=this.getChildren(!0);e.includes(r.data)||(typeof s>"u"||s<0?e.push(r.data):e.splice(s,0,r.data))}Object.assign(r,{parent:this,store:this.store}),r=$r(new je(r)),r instanceof je&&r.initialize()}r.level=this.level+1,typeof s>"u"||s<0?this.childNodes.push(r):this.childNodes.splice(s,0,r),this.updateLeafState()}insertBefore(r,s){let u;s&&(u=this.childNodes.indexOf(s)),this.insertChild(r,u)}insertAfter(r,s){let u;s&&(u=this.childNodes.indexOf(s),u!==-1&&(u+=1)),this.insertChild(r,u)}removeChild(r){const s=this.getChildren()||[],u=s.indexOf(r.data);u>-1&&s.splice(u,1);const e=this.childNodes.indexOf(r);e>-1&&(this.store&&this.store.deregisterNode(r),r.parent=null,this.childNodes.splice(e,1)),this.updateLeafState()}removeChildByData(r){let s=null;for(let u=0;u<this.childNodes.length;u++)if(this.childNodes[u].data===r){s=this.childNodes[u];break}s&&this.removeChild(s)}expand(r,s){const u=()=>{if(s){let e=this.parent;for(;e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,r&&r(),this.childNodes.forEach(e=>{e.canFocus=!0})};this.shouldLoadData()?this.loadData(e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||nt(this),u())}):u()}doCreateChildren(r,s={}){r.forEach(u=>{this.insertChild(Object.assign({data:u},s),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(r=>{r.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const r=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!r||r.length===0;return}this.isLeaf=!1}setChecked(r,s,u,e){if(this.indeterminate=r==="half",this.checked=r===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:h,allWithoutDisable:g}=kt(this.childNodes);!this.isLeaf&&!h&&g&&(this.checked=!1,r=!1);const K=()=>{if(s){const m=this.childNodes;for(let k=0,d=m.length;k<d;k++){const z=m[k];e=e||r!==!1;const L=z.disabled?z.checked:e;z.setChecked(L,s,!0,e)}const{half:x,all:b}=kt(m);b||(this.checked=b,this.indeterminate=x)}};if(this.shouldLoadData()){this.loadData(()=>{K(),nt(this)},{checked:r!==!1});return}else K()}const c=this.parent;!c||c.level===0||u||nt(c)}getChildren(r=!1){if(this.level===0)return this.data;const s=this.data;if(!s)return null;const u=this.store.props;let e="children";return u&&(e=u.children||"children"),s[e]===void 0&&(s[e]=null),r&&!s[e]&&(s[e]=[]),s[e]}updateChildren(){const r=this.getChildren()||[],s=this.childNodes.map(c=>c.data),u={},e=[];r.forEach((c,h)=>{const g=c[Me];!!g&&s.findIndex(m=>m[Me]===g)>=0?u[g]={index:h,data:c}:e.push({index:h,data:c})}),this.store.lazy||s.forEach(c=>{u[c[Me]]||this.removeChildByData(c)}),e.forEach(({index:c,data:h})=>{this.insertChild({data:h},c)}),this.updateLeafState()}loadData(r,s={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(s).length)){this.loading=!0;const u=e=>{this.childNodes=[],this.doCreateChildren(e,s),this.loaded=!0,this.loading=!1,this.updateLeafState(),r&&r.call(this,e)};this.store.load(this,u)}else r&&r.call(this)}}class oo{constructor(r){this.currentNode=null,this.currentNodeKey=null;for(const s in r)gt(r,s)&&(this[s]=r[s]);this.nodesMap={}}initialize(){if(this.root=new je({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const r=this.load;r(this.root,s=>{this.root.doCreateChildren(s),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(r){const s=this.filterNodeMethod,u=this.lazy,e=function(c){const h=c.root?c.root.childNodes:c.childNodes;if(h.forEach(g=>{g.visible=s.call(g,r,g.data,g),e(g)}),!c.visible&&h.length){let g=!0;g=!h.some(K=>K.visible),c.root?c.root.visible=g===!1:c.visible=g===!1}r&&c.visible&&!c.isLeaf&&!u&&c.expand()};e(this)}setData(r){r!==this.root.data?(this.root.setData(r),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(r){if(r instanceof je)return r;const s=Rr(r)?xt(this.key,r):r;return this.nodesMap[s]||null}insertBefore(r,s){const u=this.getNode(s);u.parent.insertBefore({data:r},u)}insertAfter(r,s){const u=this.getNode(s);u.parent.insertAfter({data:r},u)}remove(r){const s=this.getNode(r);s&&s.parent&&(s===this.currentNode&&(this.currentNode=null),s.parent.removeChild(s))}append(r,s){const u=s?this.getNode(s):this.root;u&&u.insertChild({data:r})}_initDefaultCheckedNodes(){const r=this.defaultCheckedKeys||[],s=this.nodesMap;r.forEach(u=>{const e=s[u];e&&e.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(r){(this.defaultCheckedKeys||[]).includes(r.key)&&r.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(r){r!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=r,this._initDefaultCheckedNodes())}registerNode(r){const s=this.key;!r||!r.data||(s?r.key!==void 0&&(this.nodesMap[r.key]=r):this.nodesMap[r.id]=r)}deregisterNode(r){!this.key||!r||!r.data||(r.childNodes.forEach(u=>{this.deregisterNode(u)}),delete this.nodesMap[r.key])}getCheckedNodes(r=!1,s=!1){const u=[],e=function(c){(c.root?c.root.childNodes:c.childNodes).forEach(g=>{(g.checked||s&&g.indeterminate)&&(!r||r&&g.isLeaf)&&u.push(g.data),e(g)})};return e(this),u}getCheckedKeys(r=!1){return this.getCheckedNodes(r).map(s=>(s||{})[this.key])}getHalfCheckedNodes(){const r=[],s=function(u){(u.root?u.root.childNodes:u.childNodes).forEach(c=>{c.indeterminate&&r.push(c.data),s(c)})};return s(this),r}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(r=>(r||{})[this.key])}_getAllNodes(){const r=[],s=this.nodesMap;for(const u in s)gt(s,u)&&r.push(s[u]);return r}updateChildren(r,s){const u=this.nodesMap[r];if(!u)return;const e=u.childNodes;for(let c=e.length-1;c>=0;c--){const h=e[c];this.remove(h.data)}for(let c=0,h=s.length;c<h;c++){const g=s[c];this.append(g,u.data)}}_setCheckedKeys(r,s=!1,u){const e=this._getAllNodes().sort((g,K)=>K.level-g.level),c=Object.create(null),h=Object.keys(u);e.forEach(g=>g.setChecked(!1,!1));for(let g=0,K=e.length;g<K;g++){const m=e[g],x=m.data[r].toString();if(!h.includes(x)){m.checked&&!c[x]&&m.setChecked(!1,!1);continue}let k=m.parent;for(;k&&k.level>0;)c[k.data[r]]=!0,k=k.parent;if(m.isLeaf||this.checkStrictly){m.setChecked(!0,!1);continue}if(m.setChecked(!0,!0),s){m.setChecked(!1,!1);const d=function(z){z.childNodes.forEach(S=>{S.isLeaf||S.setChecked(!1,!1),d(S)})};d(m)}}}setCheckedNodes(r,s=!1){const u=this.key,e={};r.forEach(c=>{e[(c||{})[u]]=!0}),this._setCheckedKeys(u,s,e)}setCheckedKeys(r,s=!1){this.defaultCheckedKeys=r;const u=this.key,e={};r.forEach(c=>{e[c]=!0}),this._setCheckedKeys(u,s,e)}setDefaultExpandedKeys(r){r=r||[],this.defaultExpandedKeys=r,r.forEach(s=>{const u=this.getNode(s);u&&u.expand(null,this.autoExpandParent)})}setChecked(r,s,u){const e=this.getNode(r);e&&e.setChecked(!!s,u)}getCurrentNode(){return this.currentNode}setCurrentNode(r){const s=this.currentNode;s&&(s.isCurrent=!1),this.currentNode=r,this.currentNode.isCurrent=!0}setUserCurrentNode(r,s=!0){const u=r[this.key],e=this.nodesMap[u];this.setCurrentNode(e),s&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(r,s=!0){if(r==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const u=this.getNode(r);u&&(this.setCurrentNode(u),s&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const so=re({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const r=ve("tree"),s=Le("NodeInstance"),u=Le("RootTree");return()=>{const e=n.node,{data:c,store:h}=e;return n.renderContent?n.renderContent(be,{_self:s,node:e,data:c,store:h}):u.ctx.slots.default?u.ctx.slots.default({node:e,data:c}):be("span",{class:r.be("node","label")},[e.label])}}});var io=ke(so,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function cn(n){const r=Le("TreeNodeMap",null),s={treeNodeExpand:u=>{n.node!==u&&n.node.collapse()},children:[]};return r&&r.children.push(s),Fe("TreeNodeMap",s),{broadcastExpanded:u=>{if(n.accordion)for(const e of s.children)e.treeNodeExpand(u)}}}const dn=Symbol("dragEvents");function uo({props:n,ctx:r,el$:s,dropIndicator$:u,store:e}){const c=ve("tree"),h=J({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Fe(dn,{treeNodeDragStart:({event:x,treeNode:b})=>{if(typeof n.allowDrag=="function"&&!n.allowDrag(b.node))return x.preventDefault(),!1;x.dataTransfer.effectAllowed="move";try{x.dataTransfer.setData("text/plain","")}catch{}h.value.draggingNode=b,r.emit("node-drag-start",b.node,x)},treeNodeDragOver:({event:x,treeNode:b})=>{const k=b,d=h.value.dropNode;d&&d.node.id!==k.node.id&&ft(d.$el,c.is("drop-inner"));const z=h.value.draggingNode;if(!z||!k)return;let L=!0,S=!0,Q=!0,H=!0;typeof n.allowDrop=="function"&&(L=n.allowDrop(z.node,k.node,"prev"),H=S=n.allowDrop(z.node,k.node,"inner"),Q=n.allowDrop(z.node,k.node,"next")),x.dataTransfer.dropEffect=S||L||Q?"move":"none",(L||S||Q)&&(d==null?void 0:d.node.id)!==k.node.id&&(d&&r.emit("node-drag-leave",z.node,d.node,x),r.emit("node-drag-enter",z.node,k.node,x)),(L||S||Q)&&(h.value.dropNode=k),k.node.nextSibling===z.node&&(Q=!1),k.node.previousSibling===z.node&&(L=!1),k.node.contains(z.node,!1)&&(S=!1),(z.node===k.node||z.node.contains(k.node))&&(L=!1,S=!1,Q=!1);const q=k.$el.querySelector(`.${c.be("node","content")}`).getBoundingClientRect(),w=s.value.getBoundingClientRect();let C;const f=L?S?.25:Q?.45:1:-1,$=Q?S?.75:L?.55:0:1;let U=-9999;const D=x.clientY-q.top;D<q.height*f?C="before":D>q.height*$?C="after":S?C="inner":C="none";const j=k.$el.querySelector(`.${c.be("node","expand-icon")}`).getBoundingClientRect(),E=u.value;C==="before"?U=j.top-w.top:C==="after"&&(U=j.bottom-w.top),E.style.top=`${U}px`,E.style.left=`${j.right-w.left}px`,C==="inner"?Br(k.$el,c.is("drop-inner")):ft(k.$el,c.is("drop-inner")),h.value.showDropIndicator=C==="before"||C==="after",h.value.allowDrop=h.value.showDropIndicator||H,h.value.dropType=C,r.emit("node-drag-over",z.node,k.node,x)},treeNodeDragEnd:x=>{const{draggingNode:b,dropType:k,dropNode:d}=h.value;if(x.preventDefault(),x.dataTransfer.dropEffect="move",b&&d){const z={data:b.node.data};k!=="none"&&b.node.remove(),k==="before"?d.node.parent.insertBefore(z,d.node):k==="after"?d.node.parent.insertAfter(z,d.node):k==="inner"&&d.node.insertChild(z),k!=="none"&&e.value.registerNode(z),ft(d.$el,c.is("drop-inner")),r.emit("node-drag-end",b.node,d.node,k,x),k!=="none"&&r.emit("node-drop",b.node,d.node,k,x)}b&&!d&&r.emit("node-drag-end",b.node,null,k,x),h.value.showDropIndicator=!1,h.value.draggingNode=null,h.value.dropNode=null,h.value.allowDrop=!0}}),{dragState:h}}const lo=re({name:"ElTreeNode",components:{ElCollapseTransition:ma,ElCheckbox:ra,NodeContent:io,ElIcon:wt,Loading:Mr},props:{node:{type:je,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(n,r){const s=ve("tree"),{broadcastExpanded:u}=cn(n),e=Le("RootTree"),c=J(!1),h=J(!1),g=J(null),K=J(null),m=J(null),x=Le(dn),b=at();Fe("NodeInstance",b),n.node.expanded&&(c.value=!0,h.value=!0);const k=e.props.props.children||"children";ge(()=>{const D=n.node.data[k];return D&&[...D]},()=>{n.node.updateChildren()}),ge(()=>n.node.indeterminate,D=>{L(n.node.checked,D)}),ge(()=>n.node.checked,D=>{L(D,n.node.indeterminate)}),ge(()=>n.node.expanded,D=>{mt(()=>c.value=D),D&&(h.value=!0)});const d=D=>xt(e.props.nodeKey,D.data),z=D=>{const j=n.props.class;if(!j)return{};let E;if(Ur(j)){const{data:ie}=D;E=j(ie,D)}else E=j;return Hr(E)?{[E]:!0}:E},L=(D,j)=>{(g.value!==D||K.value!==j)&&e.ctx.emit("check-change",n.node.data,D,j),g.value=D,K.value=j},S=D=>{bt(e.store,e.ctx.emit,()=>e.store.value.setCurrentNode(n.node)),e.currentNode.value=n.node,e.props.expandOnClickNode&&H(),e.props.checkOnClickNode&&!n.node.disabled&&q(null,{target:{checked:!n.node.checked}}),e.ctx.emit("node-click",n.node.data,n.node,b,D)},Q=D=>{e.instance.vnode.props.onNodeContextmenu&&(D.stopPropagation(),D.preventDefault()),e.ctx.emit("node-contextmenu",D,n.node.data,n.node,b)},H=()=>{n.node.isLeaf||(c.value?(e.ctx.emit("node-collapse",n.node.data,n.node,b),n.node.collapse()):(n.node.expand(),r.emit("node-expand",n.node.data,n.node,b)))},q=(D,j)=>{n.node.setChecked(j.target.checked,!e.props.checkStrictly),mt(()=>{const E=e.store.value;e.ctx.emit("check",n.node.data,{checkedNodes:E.getCheckedNodes(),checkedKeys:E.getCheckedKeys(),halfCheckedNodes:E.getHalfCheckedNodes(),halfCheckedKeys:E.getHalfCheckedKeys()})})};return{ns:s,node$:m,tree:e,expanded:c,childNodeRendered:h,oldChecked:g,oldIndeterminate:K,getNodeKey:d,getNodeClass:z,handleSelectChange:L,handleClick:S,handleContextMenu:Q,handleExpandIconClick:H,handleCheckChange:q,handleChildNodeExpand:(D,j,E)=>{u(j),e.ctx.emit("node-expand",D,j,E)},handleDragStart:D=>{e.props.draggable&&x.treeNodeDragStart({event:D,treeNode:n})},handleDragOver:D=>{D.preventDefault(),e.props.draggable&&x.treeNodeDragOver({event:D,treeNode:{$el:m.value,node:n.node}})},handleDrop:D=>{D.preventDefault()},handleDragEnd:D=>{e.props.draggable&&x.treeNodeDragEnd(D)},CaretRight:Lr}}}),co=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],fo=["aria-expanded"];function ho(n,r,s,u,e,c){const h=Ie("el-icon"),g=Ie("el-checkbox"),K=Ie("loading"),m=Ie("node-content"),x=Ie("el-tree-node"),b=Ie("el-collapse-transition");return vt((T(),M("div",{ref:"node$",class:ae([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:r[1]||(r[1]=Se((...k)=>n.handleClick&&n.handleClick(...k),["stop"])),onContextmenu:r[2]||(r[2]=(...k)=>n.handleContextMenu&&n.handleContextMenu(...k)),onDragstart:r[3]||(r[3]=Se((...k)=>n.handleDragStart&&n.handleDragStart(...k),["stop"])),onDragover:r[4]||(r[4]=Se((...k)=>n.handleDragOver&&n.handleDragOver(...k),["stop"])),onDragend:r[5]||(r[5]=Se((...k)=>n.handleDragEnd&&n.handleDragEnd(...k),["stop"])),onDrop:r[6]||(r[6]=Se((...k)=>n.handleDrop&&n.handleDrop(...k),["stop"]))},[V("div",{class:ae(n.ns.be("node","content")),style:Fr({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(T(),te(h,{key:0,class:ae([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:Se(n.handleExpandIconClick,["stop"])},{default:X(()=>[(T(),te(Nt(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):Y("v-if",!0),n.showCheckbox?(T(),te(g,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:r[0]||(r[0]=Se(()=>{},["stop"])),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Y("v-if",!0),n.node.loading?(T(),te(h,{key:2,class:ae([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:X(()=>[G(K)]),_:1},8,["class"])):Y("v-if",!0),G(m,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),G(b,null,{default:X(()=>[!n.renderAfterExpand||n.childNodeRendered?vt((T(),M("div",{key:0,class:ae(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded},[(T(!0),M(me,null,Oe(n.node.childNodes,k=>(T(),te(x,{key:n.getNodeKey(k),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:k,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,fo)),[[yt,n.expanded]]):Y("v-if",!0)]),_:1})],42,co)),[[yt,n.node.visible]])}var po=ke(lo,[["render",ho],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function go({el$:n},r){const s=ve("tree"),u=Bt([]),e=Bt([]);an(()=>{h()}),Wr(()=>{u.value=Array.from(n.value.querySelectorAll("[role=treeitem]")),e.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"))}),ge(e,g=>{g.forEach(K=>{K.setAttribute("tabindex","-1")})}),Jr(n,"keydown",g=>{const K=g.target;if(!K.className.includes(s.b("node")))return;const m=g.code;u.value=Array.from(n.value.querySelectorAll(`.${s.is("focusable")}[role=treeitem]`));const x=u.value.indexOf(K);let b;if([De.up,De.down].includes(m)){if(g.preventDefault(),m===De.up){b=x===-1?0:x!==0?x-1:u.value.length-1;const d=b;for(;!r.value.getNode(u.value[b].dataset.key).canFocus;){if(b--,b===d){b=-1;break}b<0&&(b=u.value.length-1)}}else{b=x===-1?0:x<u.value.length-1?x+1:0;const d=b;for(;!r.value.getNode(u.value[b].dataset.key).canFocus;){if(b++,b===d){b=-1;break}b>=u.value.length&&(b=0)}}b!==-1&&u.value[b].focus()}[De.left,De.right].includes(m)&&(g.preventDefault(),K.click());const k=K.querySelector('[type="checkbox"]');[De.enter,De.space].includes(m)&&k&&(g.preventDefault(),k.click())});const h=()=>{var g;u.value=Array.from(n.value.querySelectorAll(`.${s.is("focusable")}[role=treeitem]`)),e.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"));const K=n.value.querySelectorAll(`.${s.is("checked")}[role=treeitem]`);if(K.length){K[0].setAttribute("tabindex","0");return}(g=u.value[0])==null||g.setAttribute("tabindex","0")}}const mo=re({name:"ElTree",components:{ElTreeNode:po},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ge}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,r){const{t:s}=xe(),u=ve("tree"),e=J(new oo({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));e.value.initialize();const c=J(e.value.root),h=J(null),g=J(null),K=J(null),{broadcastExpanded:m}=cn(n),{dragState:x}=uo({props:n,ctx:r,el$:g,dropIndicator$:K,store:e});go({el$:g},e);const b=ue(()=>{const{childNodes:A}=c.value;return!A||A.length===0||A.every(({visible:I})=>!I)});ge(()=>n.currentNodeKey,A=>{e.value.setCurrentNodeKey(A)}),ge(()=>n.defaultCheckedKeys,A=>{e.value.setDefaultCheckedKey(A)}),ge(()=>n.defaultExpandedKeys,A=>{e.value.setDefaultExpandedKeys(A)}),ge(()=>n.data,A=>{e.value.setData(A)},{deep:!0}),ge(()=>n.checkStrictly,A=>{e.value.checkStrictly=A});const k=A=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");e.value.filter(A)},d=A=>xt(n.nodeKey,A.data),z=A=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const I=e.value.getNode(A);if(!I)return[];const pe=[I.data];let ye=I.parent;for(;ye&&ye!==c.value;)pe.push(ye.data),ye=ye.parent;return pe.reverse()},L=(A,I)=>e.value.getCheckedNodes(A,I),S=A=>e.value.getCheckedKeys(A),Q=()=>{const A=e.value.getCurrentNode();return A?A.data:null},H=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const A=Q();return A?A[n.nodeKey]:null},q=(A,I)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");e.value.setCheckedNodes(A,I)},w=(A,I)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");e.value.setCheckedKeys(A,I)},C=(A,I,pe)=>{e.value.setChecked(A,I,pe)},f=()=>e.value.getHalfCheckedNodes(),$=()=>e.value.getHalfCheckedKeys(),U=(A,I=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");bt(e,r.emit,()=>e.value.setUserCurrentNode(A,I))},D=(A,I=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");bt(e,r.emit,()=>e.value.setCurrentNodeKey(A,I))},j=A=>e.value.getNode(A),E=A=>{e.value.remove(A)},ie=(A,I)=>{e.value.append(A,I)},Ne=(A,I)=>{e.value.insertBefore(A,I)},we=(A,I)=>{e.value.insertAfter(A,I)},Ce=(A,I,pe)=>{m(I),r.emit("node-expand",A,I,pe)},Ue=(A,I)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");e.value.updateChildren(A,I)};return Fe("RootTree",{ctx:r,props:n,store:e,root:c,currentNode:h,instance:at()}),Fe(Vr,void 0),{ns:u,store:e,root:c,currentNode:h,dragState:x,el$:g,dropIndicator$:K,isEmpty:b,filter:k,getNodeKey:d,getNodePath:z,getCheckedNodes:L,getCheckedKeys:S,getCurrentNode:Q,getCurrentKey:H,setCheckedNodes:q,setCheckedKeys:w,setChecked:C,getHalfCheckedNodes:f,getHalfCheckedKeys:$,setCurrentNode:U,setCurrentKey:D,t:s,getNode:j,remove:E,append:ie,insertBefore:Ne,insertAfter:we,handleNodeExpand:Ce,updateKeyChildren:Ue}}});function vo(n,r,s,u,e,c){const h=Ie("el-tree-node");return T(),M("div",{ref:"el$",class:ae([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(T(!0),M(me,null,Oe(n.root.childNodes,g=>(T(),te(h,{key:n.getNodeKey(g),node:g,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(T(),M("div",{key:0,class:ae(n.ns.e("empty-block"))},[Yt(n.$slots,"empty",{},()=>{var g;return[V("span",{class:ae(n.ns.e("empty-text"))},ee((g=n.emptyText)!=null?g:n.t("el.tree.emptyText")),3)]})],2)):Y("v-if",!0),vt(V("div",{ref:"dropIndicator$",class:ae(n.ns.e("drop-indicator"))},null,2),[[yt,n.dragState.showDropIndicator]])],2)}var rt=ke(mo,[["render",vo],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);rt.install=n=>{n.component(rt.name,rt)};const yo=rt,bo=yo;var ht={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},pt={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},$e=[],Re=[];function ko(){var n=document.createElement("div"),r=n.style;"AnimationEvent"in window||(delete ht.animationstart.animation,delete pt.animationend.animation),"TransitionEvent"in window||(delete ht.transitionstart.transition,delete pt.transitionend.transition);function s(u,e){for(var c in u)if(u.hasOwnProperty(c)){var h=u[c];for(var g in h)if(g in r){e.push(h[g]);break}}}s(ht,$e),s(pt,Re)}typeof window<"u"&&typeof document<"u"&&ko();function Vt(n,r,s){n.addEventListener(r,s,!1)}function Qt(n,r,s){n.removeEventListener(r,s,!1)}var Co={startEvents:$e,addStartEventListener:function(r,s){if($e.length===0){setTimeout(s,0);return}$e.forEach(function(u){Vt(r,u,s)})},removeStartEventListener:function(r,s){$e.length!==0&&$e.forEach(function(u){Qt(r,u,s)})},endEvents:Re,addEndEventListener:function(r,s){if(Re.length===0){setTimeout(s,0);return}Re.forEach(function(u){Vt(r,u,s)})},removeEndEventListener:function(r,s){Re.length!==0&&Re.forEach(function(u){Qt(r,u,s)})}};const et=Co;var Pe;function Gt(n){return!n||n.offsetParent===null}function No(n){var r=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return r&&r[1]&&r[2]&&r[3]?!(r[1]===r[2]&&r[2]===r[3]):!0}const wo=re({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(r,s){var u=s.slots,e=s.expose,c=at(),h=Et("",r),g=h.csp,K=h.prefixCls;e({csp:g});var m=null,x=null,b=null,k=!1,d=null,z=!1,L=function(f){if(!z){var $=Ft(c);!f||f.target!==$||k||q($)}},S=function(f){!f||f.animationName!=="fadeEffect"||q(f.target)},Q=function(){var f=r.insertExtraNode;return f?"".concat(K.value,"-click-animating"):"".concat(K.value,"-click-animating-without-extra-node")},H=function(f,$){var U=r.insertExtraNode,D=r.disabled;if(!(D||!f||Gt(f)||f.className.indexOf("-leave")>=0)){d=document.createElement("div"),d.className="".concat(K.value,"-click-animating-node");var j=Q();if(f.removeAttribute(j),f.setAttribute(j,"true"),Pe=Pe||document.createElement("style"),$&&$!=="#ffffff"&&$!=="rgb(255, 255, 255)"&&No($)&&!/rgba\(\d*, \d*, \d*, 0\)/.test($)&&$!=="transparent"){var E;(E=g.value)!==null&&E!==void 0&&E.nonce&&(Pe.nonce=g.value.nonce),d.style.borderColor=$,Pe.innerHTML=`
        [`.concat(K.value,"-click-animating-without-extra-node='true']::after, .").concat(K.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat($,`;
        }`),document.body.contains(Pe)||document.body.appendChild(Pe)}U&&f.appendChild(d),et.addStartEventListener(f,L),et.addEndEventListener(f,S)}},q=function(f){if(!(!f||f===d||!(f instanceof Element))){var $=r.insertExtraNode,U=Q();f.setAttribute(U,"false"),Pe&&(Pe.innerHTML=""),$&&d&&f.contains(d)&&f.removeChild(d),et.removeStartEventListener(f,L),et.removeEndEventListener(f,S)}},w=function(f){if(!(!f||!f.getAttribute||f.getAttribute("disabled")||f.className.indexOf("disabled")>=0)){var $=function(D){if(!(D.target.tagName==="INPUT"||Gt(D.target))){q(f);var j=getComputedStyle(f).getPropertyValue("border-top-color")||getComputedStyle(f).getPropertyValue("border-color")||getComputedStyle(f).getPropertyValue("background-color");x=setTimeout(function(){return H(f,j)},0),Ut.cancel(b),k=!0,b=Ut(function(){k=!1},10)}};return f.addEventListener("click",$,!0),{cancel:function(){f.removeEventListener("click",$,!0)}}}};return an(function(){mt(function(){var C=Ft(c);C.nodeType===1&&(m=w(C))})}),Qr(function(){m&&m.cancel(),clearTimeout(x),z=!0}),function(){var C;return(C=u.default)===null||C===void 0?void 0:C.call(u)[0]}}});var Eo=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}},Po=re({compatConfig:{MODE:3},name:"ACheckableTag",props:Eo(),setup:function(r,s){var u=s.slots,e=s.emit,c=Et("tag",r),h=c.prefixCls,g=function(x){var b=r.checked;e("update:checked",!b),e("change",!b),e("click",x)},K=ue(function(){var m;return on(h.value,(m={},Be(m,"".concat(h.value,"-checkable"),!0),Be(m,"".concat(h.value,"-checkable-checked"),r.checked),m))});return function(){var m;return G("span",{class:K.value,onClick:g},[(m=u.default)===null||m===void 0?void 0:m.call(u)])}}});const Ct=Po;var xo=new RegExp("^(".concat(aa.join("|"),")(-inverse)?$")),_o=new RegExp("^(".concat(oa.join("|"),")$")),So=function(){return{prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:Ht.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},"onUpdate:visible":Function,icon:Ht.any}},Qe=re({compatConfig:{MODE:3},name:"ATag",props:So(),slots:["closeIcon","icon"],setup:function(r,s){var u=s.slots,e=s.emit,c=s.attrs,h=Et("tag",r),g=h.prefixCls,K=h.direction,m=J(!0);rn(function(){r.visible!==void 0&&(m.value=r.visible)});var x=function(z){z.stopPropagation(),e("update:visible",!1),e("close",z),!z.defaultPrevented&&r.visible===void 0&&(m.value=!1)},b=ue(function(){var d=r.color;return d?xo.test(d)||_o.test(d):!1}),k=ue(function(){var d;return on(g.value,(d={},Be(d,"".concat(g.value,"-").concat(r.color),b.value),Be(d,"".concat(g.value,"-has-color"),r.color&&!b.value),Be(d,"".concat(g.value,"-hidden"),!m.value),Be(d,"".concat(g.value,"-rtl"),K.value==="rtl"),d))});return function(){var d,z,L,S=r.icon,Q=S===void 0?(d=u.icon)===null||d===void 0?void 0:d.call(u):S,H=r.color,q=r.closeIcon,w=q===void 0?(z=u.closeIcon)===null||z===void 0?void 0:z.call(u):q,C=r.closable,f=C===void 0?!1:C,$=function(){return f?w?G("span",{class:"".concat(g.value,"-close-icon"),onClick:x},[w]):G(sa,{class:"".concat(g.value,"-close-icon"),onClick:x},null):null},U={backgroundColor:H&&!b.value?H:void 0},D=Q||null,j=(L=u.default)===null||L===void 0?void 0:L.call(u),E=D?G(me,null,[D,G("span",null,[j])]):j,ie="onClick"in c,Ne=G("span",{class:k.value,style:U},[E,$()]);return ie?G(wo,null,{default:function(){return[Ne]}}):Ne}}});Qe.CheckableTag=Ct;Qe.install=function(n){return n.component(Qe.name,Qe),n.component(Ct.name,Ct),n};const Do=Qe;var fn={exports:{}};/*! algoliasearch.umd.js | 4.20.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(n,r){(function(s,u){n.exports=u()})(Xr,function(){function s(t,a,o){return a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}function u(t,a){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),o.push.apply(o,i)}return o}function e(t){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?u(Object(o),!0).forEach(function(i){s(t,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i))})}return t}function c(t,a){if(t==null)return{};var o,i,l=function(P,p){if(P==null)return{};var N,O,_={},B=Object.keys(P);for(O=0;O<B.length;O++)N=B[O],p.indexOf(N)>=0||(_[N]=P[N]);return _}(t,a);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);for(i=0;i<y.length;i++)o=y[i],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(l[o]=t[o])}return l}function h(t,a){return function(o){if(Array.isArray(o))return o}(t)||function(o,i){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]"){var l=[],y=!0,P=!1,p=void 0;try{for(var N,O=o[Symbol.iterator]();!(y=(N=O.next()).done)&&(l.push(N.value),!i||l.length!==i);y=!0);}catch(_){P=!0,p=_}finally{try{y||O.return==null||O.return()}finally{if(P)throw p}}return l}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(t){return function(a){if(Array.isArray(a)){for(var o=0,i=new Array(a.length);o<a.length;o++)i[o]=a[o];return i}}(t)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function K(t){var a,o="algoliasearch-client-js-".concat(t.key),i=function(){return a===void 0&&(a=t.localStorage||window.localStorage),a},l=function(){return JSON.parse(i().getItem(o)||"{}")},y=function(p){i().setItem(o,JSON.stringify(p))},P=function(){var p=t.timeToLive?1e3*t.timeToLive:null,N=l(),O=Object.fromEntries(Object.entries(N).filter(function(B){return h(B,2)[1].timestamp!==void 0}));if(y(O),p){var _=Object.fromEntries(Object.entries(O).filter(function(B){var R=h(B,2)[1],W=new Date().getTime();return!(R.timestamp+p<W)}));y(_)}};return{get:function(p,N){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){P();var _=JSON.stringify(p);return l()[_]}).then(function(_){return Promise.all([_?_.value:N(),_!==void 0])}).then(function(_){var B=h(_,2),R=B[0],W=B[1];return Promise.all([R,W||O.miss(R)])}).then(function(_){return h(_,1)[0]})},set:function(p,N){return Promise.resolve().then(function(){var O=l();return O[JSON.stringify(p)]={timestamp:new Date().getTime(),value:N},i().setItem(o,JSON.stringify(O)),N})},delete:function(p){return Promise.resolve().then(function(){var N=l();delete N[JSON.stringify(p)],i().setItem(o,JSON.stringify(N))})},clear:function(){return Promise.resolve().then(function(){i().removeItem(o)})}}}function m(t){var a=g(t.caches),o=a.shift();return o===void 0?{get:function(i,l){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},P=l();return P.then(function(p){return Promise.all([p,y.miss(p)])}).then(function(p){return h(p,1)[0]})},set:function(i,l){return Promise.resolve(l)},delete:function(i){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(i,l){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return o.get(i,l,y).catch(function(){return m({caches:a}).get(i,l,y)})},set:function(i,l){return o.set(i,l).catch(function(){return m({caches:a}).set(i,l)})},delete:function(i){return o.delete(i).catch(function(){return m({caches:a}).delete(i)})},clear:function(){return o.clear().catch(function(){return m({caches:a}).clear()})}}}function x(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},a={};return{get:function(o,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},y=JSON.stringify(o);if(y in a)return Promise.resolve(t.serializable?JSON.parse(a[y]):a[y]);var P=i(),p=l&&l.miss||function(){return Promise.resolve()};return P.then(function(N){return p(N)}).then(function(){return P})},set:function(o,i){return a[JSON.stringify(o)]=t.serializable?JSON.stringify(i):i,Promise.resolve(i)},delete:function(o){return delete a[JSON.stringify(o)],Promise.resolve()},clear:function(){return a={},Promise.resolve()}}}function b(t,a,o){var i={"x-algolia-api-key":o,"x-algolia-application-id":a};return{headers:function(){return t===Q.WithinHeaders?i:{}},queryParameters:function(){return t===Q.WithinQueryParameters?i:{}}}}function k(t){var a=0;return t(function o(){return a++,new Promise(function(i){setTimeout(function(){i(t(o))},Math.min(100*a,1e3))})})}function d(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(o,i){return Promise.resolve()};return Object.assign(t,{wait:function(o){return d(t.then(function(i){return Promise.all([a(i,o),i])}).then(function(i){return i[1]}))}})}function z(t){for(var a=t.length-1;a>0;a--){var o=Math.floor(Math.random()*(a+1)),i=t[a];t[a]=t[o],t[o]=i}return t}function L(t,a){return a&&Object.keys(a).forEach(function(o){t[o]=a[o](t)}),t}function S(t){for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];var l=0;return t.replace(/%s/g,function(){return encodeURIComponent(o[l++])})}var Q={WithinQueryParameters:0,WithinHeaders:1};function H(t,a){var o=t||{},i=o.data||{};return Object.keys(o).forEach(function(l){["timeout","headers","queryParameters","data","cacheable"].indexOf(l)===-1&&(i[l]=o[l])}),{data:Object.entries(i).length>0?i:void 0,timeout:o.timeout||a,headers:o.headers||{},queryParameters:o.queryParameters||{},cacheable:o.cacheable}}var q={Read:1,Write:2,Any:3},w=1,C=2,f=3;function $(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;return e(e({},t),{},{status:a,lastUpdate:Date.now()})}function U(t){return typeof t=="string"?{protocol:"https",url:t,accept:q.Any}:{protocol:t.protocol||"https",url:t.url,accept:t.accept||q.Any}}var D="DELETE",j="GET",E="POST",ie="PUT";function Ne(t,a){return Promise.all(a.map(function(o){return t.get(o,function(){return Promise.resolve($(o))})})).then(function(o){var i=o.filter(function(P){return function(p){return p.status===w||Date.now()-p.lastUpdate>12e4}(P)}),l=o.filter(function(P){return function(p){return p.status===f&&Date.now()-p.lastUpdate<=12e4}(P)}),y=[].concat(g(i),g(l));return{getTimeout:function(P,p){return(l.length===0&&P===0?1:l.length+3+P)*p},statelessHosts:y.length>0?y.map(function(P){return U(P)}):a}})}function we(t,a,o,i){var l=[],y=function(R,W){if(!(R.method===j||R.data===void 0&&W.data===void 0)){var F=Array.isArray(R.data)?R.data:e(e({},R.data),W.data);return JSON.stringify(F)}}(o,i),P=function(R,W){var F=e(e({},R.headers),W.headers),Z={};return Object.keys(F).forEach(function(ne){var fe=F[ne];Z[ne.toLowerCase()]=fe}),Z}(t,i),p=o.method,N=o.method!==j?{}:e(e({},o.data),i.data),O=e(e(e({"x-algolia-agent":t.userAgent.value},t.queryParameters),N),i.queryParameters),_=0,B=function R(W,F){var Z=W.pop();if(Z===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:pe(l)};var ne={data:y,headers:P,method:p,url:A(Z,o.path,O),connectTimeout:F(_,t.timeouts.connect),responseTimeout:F(_,i.timeout)},fe=function(he){var le={request:ne,response:he,host:Z,triesLeft:W.length};return l.push(le),le},Je={onSuccess:function(he){return function(le){try{return JSON.parse(le.content)}catch(_e){throw function(Ee,ze){return{name:"DeserializationError",message:Ee,response:ze}}(_e.message,le)}}(he)},onRetry:function(he){var le=fe(he);return he.isTimedOut&&_++,Promise.all([t.logger.info("Retryable failure",ye(le)),t.hostsCache.set(Z,$(Z,he.isTimedOut?f:C))]).then(function(){return R(W,F)})},onFail:function(he){throw fe(he),function(le,_e){var Ee=le.content,ze=le.status,Ve=Ee;try{Ve=JSON.parse(Ee).message}catch{}return function(Ye,dt,_r){return{name:"ApiError",message:Ye,status:dt,transporterStackTrace:_r}}(Ve,ze,_e)}(he,pe(l))}};return t.requester.send(ne).then(function(he){return function(le,_e){return function(Ee){var ze=Ee.status;return Ee.isTimedOut||function(Ve){var Ye=Ve.isTimedOut,dt=Ve.status;return!Ye&&~~dt==0}(Ee)||~~(ze/100)!=2&&~~(ze/100)!=4}(le)?_e.onRetry(le):~~(le.status/100)==2?_e.onSuccess(le):_e.onFail(le)}(he,Je)})};return Ne(t.hostsCache,a).then(function(R){return B(g(R.statelessHosts).reverse(),R.getTimeout)})}function Ce(t){var a=t.hostsCache,o=t.logger,i=t.requester,l=t.requestsCache,y=t.responsesCache,P=t.timeouts,p=t.userAgent,N=t.hosts,O=t.queryParameters,_={hostsCache:a,logger:o,requester:i,requestsCache:l,responsesCache:y,timeouts:P,userAgent:p,headers:t.headers,queryParameters:O,hosts:N.map(function(B){return U(B)}),read:function(B,R){var W=H(R,_.timeouts.read),F=function(){return we(_,_.hosts.filter(function(ne){return(ne.accept&q.Read)!=0}),B,W)};if((W.cacheable!==void 0?W.cacheable:B.cacheable)!==!0)return F();var Z={request:B,mappedRequestOptions:W,transporter:{queryParameters:_.queryParameters,headers:_.headers}};return _.responsesCache.get(Z,function(){return _.requestsCache.get(Z,function(){return _.requestsCache.set(Z,F()).then(function(ne){return Promise.all([_.requestsCache.delete(Z),ne])},function(ne){return Promise.all([_.requestsCache.delete(Z),Promise.reject(ne)])}).then(function(ne){var fe=h(ne,2);return fe[0],fe[1]})})},{miss:function(ne){return _.responsesCache.set(Z,ne)}})},write:function(B,R){return we(_,_.hosts.filter(function(W){return(W.accept&q.Write)!=0}),B,H(R,_.timeouts.write))}};return _}function Ue(t){var a={value:"Algolia for JavaScript (".concat(t,")"),add:function(o){var i="; ".concat(o.segment).concat(o.version!==void 0?" (".concat(o.version,")"):"");return a.value.indexOf(i)===-1&&(a.value="".concat(a.value).concat(i)),a}};return a}function A(t,a,o){var i=I(o),l="".concat(t.protocol,"://").concat(t.url,"/").concat(a.charAt(0)==="/"?a.substr(1):a);return i.length&&(l+="?".concat(i)),l}function I(t){return Object.keys(t).map(function(a){return S("%s=%s",a,(o=t[a],Object.prototype.toString.call(o)==="[object Object]"||Object.prototype.toString.call(o)==="[object Array]"?JSON.stringify(t[a]):t[a]));var o}).join("&")}function pe(t){return t.map(function(a){return ye(a)})}function ye(t){var a=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return e(e({},t),{},{request:e(e({},t.request),{},{headers:e(e({},t.request.headers),a)})})}var pn=function(t){return function(a,o){return t.transporter.write({method:E,path:"2/abtests",data:a},o)}},gn=function(t){return function(a,o){return t.transporter.write({method:D,path:S("2/abtests/%s",a)},o)}},mn=function(t){return function(a,o){return t.transporter.read({method:j,path:S("2/abtests/%s",a)},o)}},vn=function(t){return function(a){return t.transporter.read({method:j,path:"2/abtests"},a)}},yn=function(t){return function(a,o){return t.transporter.write({method:E,path:S("2/abtests/%s/stop",a)},o)}},bn=function(t){return function(a){return t.transporter.read({method:j,path:"1/strategies/personalization"},a)}},kn=function(t){return function(a,o){return t.transporter.write({method:E,path:"1/strategies/personalization",data:a},o)}};function ot(t){return function a(o){return t.request(o).then(function(i){if(t.batch!==void 0&&t.batch(i.hits),!t.shouldStop(i))return i.cursor?a({cursor:i.cursor}):a({page:(o.page||0)+1})})}({})}var Cn=function(t){return function(a,o){var i=o||{},l=i.queryParameters,y=c(i,["queryParameters"]),P=e({acl:a},l!==void 0?{queryParameters:l}:{});return d(t.transporter.write({method:E,path:"1/keys",data:P},y),function(p,N){return k(function(O){return He(t)(p.key,N).catch(function(_){if(_.status!==404)throw _;return O()})})})}},Nn=function(t){return function(a,o,i){var l=H(i);return l.queryParameters["X-Algolia-User-ID"]=a,t.transporter.write({method:E,path:"1/clusters/mapping",data:{cluster:o}},l)}},wn=function(t){return function(a,o,i){return t.transporter.write({method:E,path:"1/clusters/mapping/batch",data:{users:a,cluster:o}},i)}},En=function(t){return function(a,o){return d(t.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},o),function(i,l){return qe(t)(i.taskID,l)})}},Xe=function(t){return function(a,o,i){return d(t.transporter.write({method:E,path:S("1/indexes/%s/operation",a),data:{operation:"copy",destination:o}},i),function(l,y){return We(t)(a,{methods:{waitTask:oe}}).waitTask(l.taskID,y)})}},Pn=function(t){return function(a,o,i){return Xe(t)(a,o,e(e({},i),{},{scope:[ct.Rules]}))}},xn=function(t){return function(a,o,i){return Xe(t)(a,o,e(e({},i),{},{scope:[ct.Settings]}))}},_n=function(t){return function(a,o,i){return Xe(t)(a,o,e(e({},i),{},{scope:[ct.Synonyms]}))}},Sn=function(t){return function(a,o){return a.method===j?t.transporter.read(a,o):t.transporter.write(a,o)}},Dn=function(t){return function(a,o){return d(t.transporter.write({method:D,path:S("1/keys/%s",a)},o),function(i,l){return k(function(y){return He(t)(a,l).then(y).catch(function(P){if(P.status!==404)throw P})})})}},Tn=function(t){return function(a,o,i){var l=o.map(function(y){return{action:"deleteEntry",body:{objectID:y}}});return d(t.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},i),function(y,P){return qe(t)(y.taskID,P)})}},He=function(t){return function(a,o){return t.transporter.read({method:j,path:S("1/keys/%s",a)},o)}},_t=function(t){return function(a,o){return t.transporter.read({method:j,path:S("1/task/%s",a.toString())},o)}},In=function(t){return function(a){return t.transporter.read({method:j,path:"/1/dictionaries/*/settings"},a)}},On=function(t){return function(a){return t.transporter.read({method:j,path:"1/logs"},a)}},jn=function(t){return function(a){return t.transporter.read({method:j,path:"1/clusters/mapping/top"},a)}},An=function(t){return function(a,o){return t.transporter.read({method:j,path:S("1/clusters/mapping/%s",a)},o)}},qn=function(t){return function(a){var o=a||{},i=o.retrieveMappings,l=c(o,["retrieveMappings"]);return i===!0&&(l.getClusters=!0),t.transporter.read({method:j,path:"1/clusters/mapping/pending"},l)}},We=function(t){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i={transporter:t.transporter,appId:t.appId,indexName:a};return L(i,o.methods)}},Kn=function(t){return function(a){return t.transporter.read({method:j,path:"1/keys"},a)}},zn=function(t){return function(a){return t.transporter.read({method:j,path:"1/clusters"},a)}},$n=function(t){return function(a){return t.transporter.read({method:j,path:"1/indexes"},a)}},Rn=function(t){return function(a){return t.transporter.read({method:j,path:"1/clusters/mapping"},a)}},Bn=function(t){return function(a,o,i){return d(t.transporter.write({method:E,path:S("1/indexes/%s/operation",a),data:{operation:"move",destination:o}},i),function(l,y){return We(t)(a,{methods:{waitTask:oe}}).waitTask(l.taskID,y)})}},Mn=function(t){return function(a,o){return d(t.transporter.write({method:E,path:"1/indexes/*/batch",data:{requests:a}},o),function(i,l){return Promise.all(Object.keys(i.taskID).map(function(y){return We(t)(y,{methods:{waitTask:oe}}).waitTask(i.taskID[y],l)}))})}},Ln=function(t){return function(a,o){return t.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:a}},o)}},St=function(t){return function(a,o){var i=a.map(function(l){return e(e({},l),{},{params:I(l.params||{})})});return t.transporter.read({method:E,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},o)}},Dt=function(t){return function(a,o){return Promise.all(a.map(function(i){var l=i.params,y=l.facetName,P=l.facetQuery,p=c(l,["facetName","facetQuery"]);return We(t)(i.indexName,{methods:{searchForFacetValues:qt}}).searchForFacetValues(y,P,e(e({},o),p))}))}},Fn=function(t){return function(a,o){var i=H(o);return i.queryParameters["X-Algolia-User-ID"]=a,t.transporter.write({method:D,path:"1/clusters/mapping"},i)}},Un=function(t){return function(a,o,i){var l=o.map(function(y){return{action:"addEntry",body:y}});return d(t.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:l}},i),function(y,P){return qe(t)(y.taskID,P)})}},Hn=function(t){return function(a,o){return d(t.transporter.write({method:E,path:S("1/keys/%s/restore",a)},o),function(i,l){return k(function(y){return He(t)(a,l).catch(function(P){if(P.status!==404)throw P;return y()})})})}},Wn=function(t){return function(a,o,i){var l=o.map(function(y){return{action:"addEntry",body:y}});return d(t.transporter.write({method:E,path:S("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},i),function(y,P){return qe(t)(y.taskID,P)})}},Jn=function(t){return function(a,o,i){return t.transporter.read({method:E,path:S("/1/dictionaries/%s/search",a),data:{query:o},cacheable:!0},i)}},Vn=function(t){return function(a,o){return t.transporter.read({method:E,path:"1/clusters/mapping/search",data:{query:a}},o)}},Qn=function(t){return function(a,o){return d(t.transporter.write({method:ie,path:"/1/dictionaries/*/settings",data:a},o),function(i,l){return qe(t)(i.taskID,l)})}},Gn=function(t){return function(a,o){var i=Object.assign({},o),l=o||{},y=l.queryParameters,P=c(l,["queryParameters"]),p=y?{queryParameters:y}:{},N=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return d(t.transporter.write({method:ie,path:S("1/keys/%s",a),data:p},P),function(O,_){return k(function(B){return He(t)(a,_).then(function(R){return function(W){return Object.keys(i).filter(function(F){return N.indexOf(F)!==-1}).every(function(F){if(Array.isArray(W[F])&&Array.isArray(i[F])){var Z=W[F];return Z.length===i[F].length&&Z.every(function(ne,fe){return ne===i[F][fe]})}return W[F]===i[F]})}(R)?Promise.resolve():B()})})})}},qe=function(t){return function(a,o){return k(function(i){return _t(t)(a,o).then(function(l){return l.status!=="published"?i():void 0})})}},Tt=function(t){return function(a,o){return d(t.transporter.write({method:E,path:S("1/indexes/%s/batch",t.indexName),data:{requests:a}},o),function(i,l){return oe(t)(i.taskID,l)})}},Xn=function(t){return function(a){return ot(e(e({shouldStop:function(o){return o.cursor===void 0}},a),{},{request:function(o){return t.transporter.read({method:E,path:S("1/indexes/%s/browse",t.indexName),data:o},a)}}))}},Yn=function(t){return function(a){var o=e({hitsPerPage:1e3},a);return ot(e(e({shouldStop:function(i){return i.hits.length<o.hitsPerPage}},o),{},{request:function(i){return Kt(t)("",e(e({},o),i)).then(function(l){return e(e({},l),{},{hits:l.hits.map(function(y){return delete y._highlightResult,y})})})}}))}},Zn=function(t){return function(a){var o=e({hitsPerPage:1e3},a);return ot(e(e({shouldStop:function(i){return i.hits.length<o.hitsPerPage}},o),{},{request:function(i){return zt(t)("",e(e({},o),i)).then(function(l){return e(e({},l),{},{hits:l.hits.map(function(y){return delete y._highlightResult,y})})})}}))}},st=function(t){return function(a,o,i){var l=i||{},y=l.batchSize,P=c(l,["batchSize"]),p={taskIDs:[],objectIDs:[]};return d(function N(){var O,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=[];for(O=_;O<a.length&&(B.push(a[O]),B.length!==(y||1e3));O++);return B.length===0?Promise.resolve(p):Tt(t)(B.map(function(R){return{action:o,body:R}}),P).then(function(R){return p.objectIDs=p.objectIDs.concat(R.objectIDs),p.taskIDs.push(R.taskID),O++,N(O)})}(),function(N,O){return Promise.all(N.taskIDs.map(function(_){return oe(t)(_,O)}))})}},er=function(t){return function(a){return d(t.transporter.write({method:E,path:S("1/indexes/%s/clear",t.indexName)},a),function(o,i){return oe(t)(o.taskID,i)})}},tr=function(t){return function(a){var o=a||{},i=o.forwardToReplicas,l=H(c(o,["forwardToReplicas"]));return i&&(l.queryParameters.forwardToReplicas=1),d(t.transporter.write({method:E,path:S("1/indexes/%s/rules/clear",t.indexName)},l),function(y,P){return oe(t)(y.taskID,P)})}},nr=function(t){return function(a){var o=a||{},i=o.forwardToReplicas,l=H(c(o,["forwardToReplicas"]));return i&&(l.queryParameters.forwardToReplicas=1),d(t.transporter.write({method:E,path:S("1/indexes/%s/synonyms/clear",t.indexName)},l),function(y,P){return oe(t)(y.taskID,P)})}},rr=function(t){return function(a,o){return d(t.transporter.write({method:E,path:S("1/indexes/%s/deleteByQuery",t.indexName),data:a},o),function(i,l){return oe(t)(i.taskID,l)})}},ar=function(t){return function(a){return d(t.transporter.write({method:D,path:S("1/indexes/%s",t.indexName)},a),function(o,i){return oe(t)(o.taskID,i)})}},or=function(t){return function(a,o){return d(It(t)([a],o).then(function(i){return{taskID:i.taskIDs[0]}}),function(i,l){return oe(t)(i.taskID,l)})}},It=function(t){return function(a,o){var i=a.map(function(l){return{objectID:l}});return st(t)(i,Ke.DeleteObject,o)}},sr=function(t){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=H(c(i,["forwardToReplicas"]));return l&&(y.queryParameters.forwardToReplicas=1),d(t.transporter.write({method:D,path:S("1/indexes/%s/rules/%s",t.indexName,a)},y),function(P,p){return oe(t)(P.taskID,p)})}},ir=function(t){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=H(c(i,["forwardToReplicas"]));return l&&(y.queryParameters.forwardToReplicas=1),d(t.transporter.write({method:D,path:S("1/indexes/%s/synonyms/%s",t.indexName,a)},y),function(P,p){return oe(t)(P.taskID,p)})}},ur=function(t){return function(a){return Ot(t)(a).then(function(){return!0}).catch(function(o){if(o.status!==404)throw o;return!1})}},lr=function(t){return function(a,o,i){return t.transporter.read({method:E,path:S("1/answers/%s/prediction",t.indexName),data:{query:a,queryLanguages:o},cacheable:!0},i)}},cr=function(t){return function(a,o){var i=o||{},l=i.query,y=i.paginate,P=c(i,["query","paginate"]),p=0;return function N(){return At(t)(l||"",e(e({},P),{},{page:p})).then(function(O){for(var _=0,B=Object.entries(O.hits);_<B.length;_++){var R=h(B[_],2),W=R[0],F=R[1];if(a(F))return{object:F,position:parseInt(W,10),page:p}}if(p++,y===!1||p>=O.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return N()})}()}},dr=function(t){return function(a,o){return t.transporter.read({method:j,path:S("1/indexes/%s/%s",t.indexName,a)},o)}},fr=function(){return function(t,a){for(var o=0,i=Object.entries(t.hits);o<i.length;o++){var l=h(i[o],2),y=l[0];if(l[1].objectID===a)return parseInt(y,10)}return-1}},hr=function(t){return function(a,o){var i=o||{},l=i.attributesToRetrieve,y=c(i,["attributesToRetrieve"]),P=a.map(function(p){return e({indexName:t.indexName,objectID:p},l?{attributesToRetrieve:l}:{})});return t.transporter.read({method:E,path:"1/indexes/*/objects",data:{requests:P}},y)}},pr=function(t){return function(a,o){return t.transporter.read({method:j,path:S("1/indexes/%s/rules/%s",t.indexName,a)},o)}},Ot=function(t){return function(a){return t.transporter.read({method:j,path:S("1/indexes/%s/settings",t.indexName),data:{getVersion:2}},a)}},gr=function(t){return function(a,o){return t.transporter.read({method:j,path:S("1/indexes/%s/synonyms/%s",t.indexName,a)},o)}},mr=function(t){return function(a,o){return d(jt(t)([a],o).then(function(i){return{objectID:i.objectIDs[0],taskID:i.taskIDs[0]}}),function(i,l){return oe(t)(i.taskID,l)})}},jt=function(t){return function(a,o){var i=o||{},l=i.createIfNotExists,y=c(i,["createIfNotExists"]),P=l?Ke.PartialUpdateObject:Ke.PartialUpdateObjectNoCreate;return st(t)(a,P,y)}},vr=function(t){return function(a,o){var i=o||{},l=i.safe,y=i.autoGenerateObjectIDIfNotExist,P=i.batchSize,p=c(i,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),N=function(F,Z,ne,fe){return d(t.transporter.write({method:E,path:S("1/indexes/%s/operation",F),data:{operation:ne,destination:Z}},fe),function(Je,he){return oe(t)(Je.taskID,he)})},O=Math.random().toString(36).substring(7),_="".concat(t.indexName,"_tmp_").concat(O),B=it({appId:t.appId,transporter:t.transporter,indexName:_}),R=[],W=N(t.indexName,_,"copy",e(e({},p),{},{scope:["settings","synonyms","rules"]}));return R.push(W),d((l?W.wait(p):W).then(function(){var F=B(a,e(e({},p),{},{autoGenerateObjectIDIfNotExist:y,batchSize:P}));return R.push(F),l?F.wait(p):F}).then(function(){var F=N(_,t.indexName,"move",p);return R.push(F),l?F.wait(p):F}).then(function(){return Promise.all(R)}).then(function(F){var Z=h(F,3),ne=Z[0],fe=Z[1],Je=Z[2];return{objectIDs:fe.objectIDs,taskIDs:[ne.taskID].concat(g(fe.taskIDs),[Je.taskID])}}),function(F,Z){return Promise.all(R.map(function(ne){return ne.wait(Z)}))})}},yr=function(t){return function(a,o){return ut(t)(a,e(e({},o),{},{clearExistingRules:!0}))}},br=function(t){return function(a,o){return lt(t)(a,e(e({},o),{},{clearExistingSynonyms:!0}))}},kr=function(t){return function(a,o){return d(it(t)([a],o).then(function(i){return{objectID:i.objectIDs[0],taskID:i.taskIDs[0]}}),function(i,l){return oe(t)(i.taskID,l)})}},it=function(t){return function(a,o){var i=o||{},l=i.autoGenerateObjectIDIfNotExist,y=c(i,["autoGenerateObjectIDIfNotExist"]),P=l?Ke.AddObject:Ke.UpdateObject;if(P===Ke.UpdateObject){var p=!0,N=!1,O=void 0;try{for(var _,B=a[Symbol.iterator]();!(p=(_=B.next()).done);p=!0)if(_.value.objectID===void 0)return d(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(R){N=!0,O=R}finally{try{p||B.return==null||B.return()}finally{if(N)throw O}}}return st(t)(a,P,y)}},Cr=function(t){return function(a,o){return ut(t)([a],o)}},ut=function(t){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=i.clearExistingRules,P=H(c(i,["forwardToReplicas","clearExistingRules"]));return l&&(P.queryParameters.forwardToReplicas=1),y&&(P.queryParameters.clearExistingRules=1),d(t.transporter.write({method:E,path:S("1/indexes/%s/rules/batch",t.indexName),data:a},P),function(p,N){return oe(t)(p.taskID,N)})}},Nr=function(t){return function(a,o){return lt(t)([a],o)}},lt=function(t){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=i.clearExistingSynonyms,P=i.replaceExistingSynonyms,p=H(c(i,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return l&&(p.queryParameters.forwardToReplicas=1),(P||y)&&(p.queryParameters.replaceExistingSynonyms=1),d(t.transporter.write({method:E,path:S("1/indexes/%s/synonyms/batch",t.indexName),data:a},p),function(N,O){return oe(t)(N.taskID,O)})}},At=function(t){return function(a,o){return t.transporter.read({method:E,path:S("1/indexes/%s/query",t.indexName),data:{query:a},cacheable:!0},o)}},qt=function(t){return function(a,o,i){return t.transporter.read({method:E,path:S("1/indexes/%s/facets/%s/query",t.indexName,a),data:{facetQuery:o},cacheable:!0},i)}},Kt=function(t){return function(a,o){return t.transporter.read({method:E,path:S("1/indexes/%s/rules/search",t.indexName),data:{query:a}},o)}},zt=function(t){return function(a,o){return t.transporter.read({method:E,path:S("1/indexes/%s/synonyms/search",t.indexName),data:{query:a}},o)}},wr=function(t){return function(a,o){var i=o||{},l=i.forwardToReplicas,y=H(c(i,["forwardToReplicas"]));return l&&(y.queryParameters.forwardToReplicas=1),d(t.transporter.write({method:ie,path:S("1/indexes/%s/settings",t.indexName),data:a},y),function(P,p){return oe(t)(P.taskID,p)})}},oe=function(t){return function(a,o){return k(function(i){return function(l){return function(y,P){return l.transporter.read({method:j,path:S("1/indexes/%s/task/%s",l.indexName,y.toString())},P)}}(t)(a,o).then(function(l){return l.status!=="published"?i():void 0})})}},Ke={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ct={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Er=1,Pr=2,xr=3;function $t(t,a,o){var i,l={appId:t,apiKey:a,timeouts:{connect:1,read:2,write:30},requester:{send:function(p){return new Promise(function(N){var O=new XMLHttpRequest;O.open(p.method,p.url,!0),Object.keys(p.headers).forEach(function(W){return O.setRequestHeader(W,p.headers[W])});var _,B=function(W,F){return setTimeout(function(){O.abort(),N({status:0,content:F,isTimedOut:!0})},1e3*W)},R=B(p.connectTimeout,"Connection timeout");O.onreadystatechange=function(){O.readyState>O.OPENED&&_===void 0&&(clearTimeout(R),_=B(p.responseTimeout,"Socket timeout"))},O.onerror=function(){O.status===0&&(clearTimeout(R),clearTimeout(_),N({content:O.responseText||"Network request failed",status:O.status,isTimedOut:!1}))},O.onload=function(){clearTimeout(R),clearTimeout(_),N({content:O.responseText,status:O.status,isTimedOut:!1})},O.send(p.data)})}},logger:(i=xr,{debug:function(p,N){return Er>=i&&console.debug(p,N),Promise.resolve()},info:function(p,N){return Pr>=i&&console.info(p,N),Promise.resolve()},error:function(p,N){return console.error(p,N),Promise.resolve()}}),responsesCache:x(),requestsCache:x({serializable:!1}),hostsCache:m({caches:[K({key:"".concat("4.20.0","-").concat(t)}),x()]}),userAgent:Ue("4.20.0").add({segment:"Browser"})},y=e(e({},l),o),P=function(){return function(p){return function(N){var O=N.region||"us",_=b(Q.WithinHeaders,N.appId,N.apiKey),B=Ce(e(e({hosts:[{url:"personalization.".concat(O,".algolia.com")}]},N),{},{headers:e(e(e({},_.headers()),{"content-type":"application/json"}),N.headers),queryParameters:e(e({},_.queryParameters()),N.queryParameters)}));return L({appId:N.appId,transporter:B},N.methods)}(e(e(e({},l),p),{},{methods:{getPersonalizationStrategy:bn,setPersonalizationStrategy:kn}}))}};return function(p){var N=p.appId,O=b(p.authMode!==void 0?p.authMode:Q.WithinHeaders,N,p.apiKey),_=Ce(e(e({hosts:[{url:"".concat(N,"-dsn.algolia.net"),accept:q.Read},{url:"".concat(N,".algolia.net"),accept:q.Write}].concat(z([{url:"".concat(N,"-1.algolianet.com")},{url:"".concat(N,"-2.algolianet.com")},{url:"".concat(N,"-3.algolianet.com")}]))},p),{},{headers:e(e(e({},O.headers()),{"content-type":"application/x-www-form-urlencoded"}),p.headers),queryParameters:e(e({},O.queryParameters()),p.queryParameters)}));return L({transporter:_,appId:N,addAlgoliaAgent:function(B,R){_.userAgent.add({segment:B,version:R})},clearCache:function(){return Promise.all([_.requestsCache.clear(),_.responsesCache.clear()]).then(function(){})}},p.methods)}(e(e({},y),{},{methods:{search:St,searchForFacetValues:Dt,multipleBatch:Mn,multipleGetObjects:Ln,multipleQueries:St,copyIndex:Xe,copySettings:xn,copySynonyms:_n,copyRules:Pn,moveIndex:Bn,listIndices:$n,getLogs:On,listClusters:zn,multipleSearchForFacetValues:Dt,getApiKey:He,addApiKey:Cn,listApiKeys:Kn,updateApiKey:Gn,deleteApiKey:Dn,restoreApiKey:Hn,assignUserID:Nn,assignUserIDs:wn,getUserID:An,searchUserIDs:Vn,listUserIDs:Rn,getTopUserIDs:jn,removeUserID:Fn,hasPendingMappings:qn,clearDictionaryEntries:En,deleteDictionaryEntries:Tn,getDictionarySettings:In,getAppTask:_t,replaceDictionaryEntries:Un,saveDictionaryEntries:Wn,searchDictionaryEntries:Jn,setDictionarySettings:Qn,waitAppTask:qe,customRequest:Sn,initIndex:function(p){return function(N){return We(p)(N,{methods:{batch:Tt,delete:ar,findAnswers:lr,getObject:dr,getObjects:hr,saveObject:kr,saveObjects:it,search:At,searchForFacetValues:qt,waitTask:oe,setSettings:wr,getSettings:Ot,partialUpdateObject:mr,partialUpdateObjects:jt,deleteObject:or,deleteObjects:It,deleteBy:rr,clearObjects:er,browseObjects:Xn,getObjectPosition:fr,findObject:cr,exists:ur,saveSynonym:Nr,saveSynonyms:lt,getSynonym:gr,searchSynonyms:zt,browseSynonyms:Zn,deleteSynonym:ir,clearSynonyms:nr,replaceAllObjects:vr,replaceAllSynonyms:br,searchRules:Kt,getRule:pr,deleteRule:sr,saveRule:Cr,saveRules:ut,replaceAllRules:yr,browseRules:Yn,clearRules:tr}})}},initAnalytics:function(){return function(p){return function(N){var O=N.region||"us",_=b(Q.WithinHeaders,N.appId,N.apiKey),B=Ce(e(e({hosts:[{url:"analytics.".concat(O,".algolia.com")}]},N),{},{headers:e(e(e({},_.headers()),{"content-type":"application/json"}),N.headers),queryParameters:e(e({},_.queryParameters()),N.queryParameters)}));return L({appId:N.appId,transporter:B},N.methods)}(e(e(e({},l),p),{},{methods:{addABTest:pn,getABTest:mn,getABTests:vn,stopABTest:yn,deleteABTest:gn}}))}},initPersonalization:P,initRecommendation:function(){return function(p){return y.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),P()(p)}}}}))}return $t.version="4.20.0",$t})})(fn);var To=fn.exports;const Io=Gr(To),Oo=Io("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),hn=Oo.initIndex("npm-search"),jo=async(n,r=0,s=10)=>{try{const u=zo(n);if(!u)return{response:null,query:n};const e={page:r,hitsPerPage:s,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:u.facetFilters?u.facetFilters:void 0},c=await hn.search(u.query,e);return c.hits.sort((h,g)=>h.name===u.query?-1:g.name===u.query?1:0),{response:c,query:n}}catch{return{response:null,query:n}}},Ao=async n=>hn.getObject(n),qo=/\s*(?:[a-z]+)\s*:\s*(?:.(?![a-z]*\s*:))*/gi,Ko=/^((?:(?:[^\s:]+(?![a-z]*\s*:))\s*)*)/i,Xt={author:"owner.name",type:"moduleTypes"};function zo(n){var c;const r=(c=n.match(Ko))==null?void 0:c[0].trim();if(r==null)return;const s=n,u=[];let e;for(;(e=qo.exec(s))!==null;){const h=e[0].split(":");Xt[h[0].trim()]&&u.push(Xt[h[0].trim()]+":"+h[1].trim())}return{query:r,facetFilters:u.join(",")}}const de=n=>(ea("data-v-c472691b"),n=n(),ta(),n),$o={key:0},Ro={class:"result-list"},Bo={class:"pkgName"},Mo={class:"meta"},Lo=["onClick"],Fo=["src","alt"],Uo=de(()=>V("span",{class:"i-icon-park-outline-tag-one"},null,-1)),Ho=["title"],Wo=de(()=>V("span",{class:"i-icon-park-outline-balance-two"},null,-1)),Jo={key:0,class:"description"},Vo={key:1},Qo=de(()=>V("span",{class:"i-icon-park-outline-return"},null,-1)),Go={key:0},Xo=de(()=>V("b",null,"名称: ",-1)),Yo={key:1},Zo=de(()=>V("b",null,"主页: ",-1)),es={key:2},ts=de(()=>V("b",null,"简介: ",-1)),ns={key:3},rs=de(()=>V("b",null,"仓库: ",-1)),as={key:4},os=de(()=>V("b",null,"协议: ",-1)),ss={key:5},is=de(()=>V("b",null,"作者: ",-1)),us={key:7},ls=de(()=>V("b",null,"版本: ",-1)),cs={key:8},ds=de(()=>V("b",null,"默认文件: ",-1)),fs={key:9},hs=de(()=>V("b",null,"文件列表",-1)),ps=de(()=>V("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)),gs=[hs,ps],ms={key:0,flex:"","items-center":""},vs=de(()=>V("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),ys={key:1,flex:"","items-center":""},bs=de(()=>V("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),ks=10,Cs=re({__name:"cdnQuery",setup(n){let r=null;const s=J(!1),u=J(""),e=J(""),c=J(0),h=J([]),g=J(0),K=J(""),m=J(null),x=J(""),b=J([]),k=J(null),d=J([]),z=ue(()=>d.value&&d.value.length?q(d.value):[]);async function L(w=0){if(!u.value){s.value=!1,m.value=null,x.value="",b.value=[],h.value=[],c.value=0,g.value=0,e.value="";return}r&&clearTimeout(r),r=window.setTimeout(async()=>{s.value=!0;const{response:C,query:f}=await jo(u.value,w,ks);if(f===u.value){if(C){const{hits:$,page:U,nbHits:D}=C;h.value=$,g.value=D,c.value=U,e.value="done"}else Zr.warning("搜索失败");s.value=!1}},200)}function S(w){u.value="author:"+w,L(0)}async function Q(w){K.value=w,m.value=null,x.value="",b.value=[],k.value=null,d.value=[];try{m.value=await Ao(w),x.value=m.value.version??"",await H()}catch(C){console.error(C.message)}}async function H(){var w,C;try{b.value=[],k.value=null,d.value=[],b.value=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${((w=m.value)==null?void 0:w.name)??""}`)).data.versions.map(U=>({label:U,value:U}));const{default:f,files:$}=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${((C=m.value)==null?void 0:C.name)??""}@${x.value}`)).data;k.value=f,d.value=$}catch(f){console.error(f.message)}}function q(w,C){return w.map(f=>{const $=C?`${C}/${f.name}`:`/${f.name}`;return{label:f.name,icon:f.type==="directory"?"Folder":"",isLeaf:f.type!=="directory",fileName:$,children:f.type==="directory"&&f.files?q(f.files,$):void 0}})}return(w,C)=>{const f=ca,$=da,U=fa,D=nn,j=ua,E=Do,ie=ro,Ne=sn,we=un,Ce=ha,Ue=ia,A=bo;return T(),M(me,null,[G($,null,{default:X(()=>[V("blockquote",null,[V("ul",null,[V("li",null,[se(" 数据来自: "),G(f,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:X(()=>[se(" JSDelivr ")]),_:1})]),V("li",null,[se(" 搜索接口来自: "),G(f,{href:"https://www.algolia.com/",target:"_blank"},{default:X(()=>[se(" Algolia ")]),_:1})])])])]),_:1}),G(U,{level:3},{default:X(()=>[se(" 请输入要获取CDN的库名 ")]),_:1}),G(D,{modelValue:v(u),"onUpdate:modelValue":C[0]||(C[0]=I=>Mt(u)?u.value=I:null),placeholder:"jquery",clearable:"",onChange:C[1]||(C[1]=I=>L(0))},null,8,["modelValue"]),(T(),te(Yr,null,[v(e)==="done"?(T(),M(me,{key:0},[G(j),v(K)?(T(),M(me,{key:1},[G(f,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:C[3]||(C[3]=I=>K.value=null)},{default:X(()=>[Qo,se(" 返回 ")]),_:1}),v(m)?(T(),te(Ue,{key:0,class:"metaDetail"},{default:X(()=>[V("ul",null,[v(m).name?(T(),M("li",Go,[Xo,se(ee(v(m).name),1)])):Y("",!0),v(m).homepage?(T(),M("li",Yo,[Zo,G(f,{href:v(m).homepage,target:"_blank"},{default:X(()=>[se(ee(v(m).homepage),1)]),_:1},8,["href"])])):Y("",!0),v(m).description?(T(),M("li",es,[ts,se(ee(v(m).description),1)])):Y("",!0),v(m).repository?(T(),M("li",ns,[rs,se(ee(v(m).repository.type)+" / ",1),G(f,{href:v(m).repository.url,target:"_blank"},{default:X(()=>[se(ee(v(m).repository.url),1)]),_:1},8,["href"])])):Y("",!0),v(m).license?(T(),M("li",as,[os,se(ee(v(m).license),1)])):Y("",!0),v(m).owner?(T(),M("li",ss,[is,se(ee(v(m).owner.name)+" / ",1),G(f,{href:v(m).owner.link,target:"_blank"},{default:X(()=>[se(ee(v(m).owner.link),1)]),_:1},8,["href"])])):Y("",!0),v(b).length?(T(),te(j,{key:6})):Y("",!0),v(b).length?(T(),M("li",us,[ls,G(we,{modelValue:v(x),"onUpdate:modelValue":C[4]||(C[4]=I=>Mt(x)?x.value=I:null),options:v(b),onChange:H},{default:X(()=>[(T(!0),M(me,null,Oe(v(b),I=>(T(),te(Ne,{key:I.value,value:I.value,label:I.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):Y("",!0),v(k)?(T(),M("li",cs,[ds,G(Ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${v(m).name}@${v(x)}${v(k)}`}},{default:X(()=>[G(f,{href:`https://cdn.jsdelivr.net/npm/${v(m).name}@${v(x)}${v(k)}`,target:"_blank"},{default:X(()=>[se(ee(v(k)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):Y("",!0),v(d)&&v(d).length?(T(),M("li",fs,gs)):Y("",!0)])]),_:1})):Y("",!0),v(m)&&v(d)&&v(d).length?(T(),te(A,{key:1,data:v(z),selectable:!1},{default:X(({data:I})=>[I.isLeaf?(T(),M("div",ms,[vs,G(Ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${v(m).name}@${v(x)}${I.fileName}`}},{default:X(()=>[se(ee(I.label),1)]),_:2},1032,["copyable"])])):(T(),M("div",ys,[bs,G(Ce,null,{default:X(()=>[se(ee(I.label),1)]),_:2},1024)]))]),_:1},8,["data"])):Y("",!0)],64)):(T(),M(me,{key:0},[G(U,{level:4},{default:X(()=>[V("span",null,"共找到 "+ee(v(g))+" 个库",1),v(g)>1e3?(T(),M("span",$o,"，最多展示前 1000 个结果")):Y("",!0)]),_:1}),V("div",Ro,[(T(!0),M(me,null,Oe(v(h),I=>(T(),M("div",{key:I.objectID,class:"result-list-item"},[V("div",Bo,[G(U,{level:4,onClick:pe=>Q(I.objectID)},{default:X(()=>[se(ee(I.name),1)]),_:2},1032,["onClick"])]),V("div",Mo,[I.owner?(T(),M("div",{key:0,class:"owner",onClick:pe=>S(I.owner.name)},[V("img",{src:I.owner.avatar,alt:I.owner.name},null,8,Fo),V("div",null,ee(I.owner.name),1)],8,Lo)):Y("",!0),I.version?(T(),te(E,{key:1},{icon:X(()=>[Uo]),default:X(()=>[V("span",{title:I.version},ee(I.version),9,Ho)]),_:2},1024)):Y("",!0),I.license?(T(),te(E,{key:2},{icon:X(()=>[Wo]),default:X(()=>[se(" "+ee(I.license),1)]),_:2},1024)):Y("",!0)]),I.description?(T(),M("div",Jo,ee(I.description),1)):Y("",!0),I.keywords&&I.keywords.length?(T(),M("div",Vo,[(T(!0),M(me,null,Oe(I.keywords,(pe,ye)=>(T(),te(E,{key:ye},{default:X(()=>[se(ee(pe),1)]),_:2},1024))),128))])):Y("",!0)]))),128))]),G(ie,{layout:"prev,jumper,next",total:v(g)>1e3?1e3:v(g),"hide-on-single-page":!0,onCurrentChange:C[2]||(C[2]=I=>L(I-1))},null,8,["total"])],64))],64)):Y("",!0)],1024))],64)}}});const Ms=na(Cs,[["__scopeId","data-v-c472691b"]]);export{Ms as default};
