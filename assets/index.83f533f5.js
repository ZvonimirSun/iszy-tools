import{b as e,X as o,Y as r,B as t,p as i,j as s,r as n,K as a,k as l,w as d,Z as c,o as h,e as u}from"./vendor.562cc7dd.js";/* empty css              *//* empty css              */import{I as m}from"./index.795094c8.js";var p=m("lock",!1,(function(o){return e("svg",{width:o.size,height:o.size,viewBox:"0 0 48 48",fill:"none"},[e("rect",{x:"6",y:"22",width:"36",height:"22",rx:"2",fill:o.colors[1],stroke:o.colors[0],"stroke-width":o.strokeWidth,"stroke-linejoin":o.strokeLinejoin},null),e("path",{d:"M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22",stroke:o.colors[0],"stroke-width":o.strokeWidth,"stroke-linecap":o.strokeLinecap,"stroke-linejoin":o.strokeLinejoin},null),e("path",{d:"M24 30V36",stroke:o.colors[2],"stroke-width":o.strokeWidth,"stroke-linecap":o.strokeLinecap,"stroke-linejoin":o.strokeLinejoin},null)])})),k=m("user",!1,(function(o){return e("svg",{width:o.size,height:o.size,viewBox:"0 0 48 48",fill:"none"},[e("circle",{cx:"24",cy:"12",r:"8",fill:o.colors[1],stroke:o.colors[0],"stroke-width":o.strokeWidth,"stroke-linecap":o.strokeLinecap,"stroke-linejoin":o.strokeLinejoin},null),e("path",{d:"M42 44C42 34.0589 33.9411 26 24 26C14.0589 26 6 34.0589 6 44",stroke:o.colors[0],"stroke-width":o.strokeWidth,"stroke-linecap":o.strokeLinecap,"stroke-linejoin":o.strokeLinejoin},null)])})),g=".login-container[data-v-5055a95b] {\n  width: 100%;\n  min-height: 100%;\n  position: relative;\n  padding: 5rem 0 14.4rem;\n}\n.login-container .main[data-v-5055a95b] {\n  min-width: 26rem;\n  width: 36.8rem;\n  margin: 0 auto;\n}\n.login-container .footer[data-v-5055a95b] {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 0 1.6rem;\n  margin: 4.8rem 0 2.4rem;\n  text-align: center;\n  color: #999999;\n}";const{Item:f}=o,{Password:w}=r,v={name:"Login",components:{User:k,Lock:p,Form:o,Input:r,Button:t,Item:f,Password:w},watch:{$route:{handler:function(e){const o=e.query;o&&(this.redirect=o.redirect,this.otherQuery=this.getOtherQuery(o))},immediate:!0}},data:()=>({form:{layout:"horizontal",userName:"",password:""},redirect:void 0,otherQuery:{},loading:!1}),methods:{login(){null!=this.form.userName&&null!=this.form.password&&(this.loading=!0,this.$store.dispatch("user/login",{userName:this.form.userName,password:this.form.password}).then((e=>{e?(this.$msg.success("登录成功！"),this.$router.push({path:this.redirect||"/",query:this.otherQuery}),this.loading=!1):this.$msg.error("用户名或密码错误！")})).catch((()=>{this.$msg.error("用户名或密码错误！")})).finally((()=>{this.loading=!1})))},getOtherQuery:e=>Object.keys(e).reduce(((o,r)=>("redirect"!==r&&(o[r]=e[r]),o)),{})}};i("data-v-5055a95b");const y={class:"login-container"},j={class:"main"},b=u(" 确定 "),x=l("div",{class:"footer"},[l("div",{class:"copyright"}," Copyright © 2020 ISZY")],-1);function L(o,r,t,i,s,u){const m=n("User"),p=n("Input"),k=n("Item"),g=n("Lock"),f=n("Password"),w=n("Button"),v=n("Form");return h(),a("div",y,[l("div",j,[e(v,c({layout:o.form.layout,model:o.form},{wrapperCol:{span:24}}),{default:d((()=>[e(k,{required:""},{default:d((()=>[e(p,{value:o.form.userName,"onUpdate:value":r[0]||(r[0]=e=>o.form.userName=e),placeholder:"账户",size:"large"},{prefix:d((()=>[e(m,{theme:"outline",style:{color:"rgba(0,0,0,.25)"}})])),_:1},8,["value"])])),_:1}),e(k,{required:""},{default:d((()=>[e(f,{value:o.form.password,"onUpdate:value":r[1]||(r[1]=e=>o.form.password=e),placeholder:"密码",size:"large"},{prefix:d((()=>[e(g,{theme:"outline",style:{color:"rgba(0,0,0,.25)"}})])),_:1},8,["value"])])),_:1}),e(k,null,{default:d((()=>[e(w,{type:"primary",block:"",size:"large",onClick:u.login,loading:o.loading},{default:d((()=>[b])),_:1},8,["onClick","loading"])])),_:1})])),_:1},16,["layout","model"])]),x])}s(),v.render=L,v.__scopeId="data-v-5055a95b";export{v as default};
