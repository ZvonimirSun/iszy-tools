import{Y as rt,c as x,bF as Io,b as de,bG as Ne,d as p,m as Xt,a as Se,u as Oe,I as D,U as Oo,bH as Ao,y as n,X as Ae,a0 as Zt,a5 as ve,P as Lo,f as xt,Z as $e,e as J,aU as No,aa as pe,av as Ge,ay as Tt,bt as et,S as ze,ac as Nt,i as Et,V as zo,C,aH as dt,J as Ht,bI as Po,bJ as Do,j as zt,az as Pt,ar as Y,N as Fo,at as $o,ax as Wo,bK as Go,A as Jt,r as Ye,aF as Qt,bc as Vo,bL as Ko,bM as jo,bN as ko,aL as Bo,b7 as qo,k as eo}from"./index-COHXkc47.js";import{V as Uo,F as Be,B as ut,R as to,a as oo,b as ht,c as lo,S as Yo,H as Dt,d as Xo,I as Ft,e as $t,A as Ce,D as Wt,C as We,f as ft,g as mt,h as no,E as Zo}from"./el-empty-BRZ-95yi.js";import{c as Jo}from"./castArray-6iw5AqBK.js";import{c as lt,r as Ct}from"./raf-SxW_Pnhi.js";import{m as Qo}from"./memoize-one.esm-BdPwpGay.js";const el=()=>{const t=rt().proxy.$props;return x(()=>{const o=(l,r,a)=>({});return t.perfMode?Io(o):Qo(o)})},vt=Ne({type:p([Number,Function]),required:!0}),yt=Ne({type:Number}),gt=Ne({type:Number,default:2}),tl=Ne({type:String,values:["ltr","rtl"],default:"ltr"}),wt=Ne({type:Number,default:0}),nt=Ne({type:Number,required:!0}),ao=Ne({type:String,values:["horizontal","vertical"],default:Uo}),ro=de({className:{type:String,default:""},containerElement:{type:p([String,Object]),default:"div"},data:{type:p(Array),default:()=>Xt([])},direction:tl,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},innerProps:{type:p(Object),default:()=>({})},style:{type:p([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),ol=de({cache:gt,estimatedItemSize:yt,layout:ao,initScrollOffset:wt,total:nt,itemSize:vt,...ro}),bt={type:Number,default:6},so={type:Number,default:0},co={type:Number,default:2},Ie=de({columnCache:gt,columnWidth:vt,estimatedColumnWidth:yt,estimatedRowHeight:yt,initScrollLeft:wt,initScrollTop:wt,itemKey:{type:p(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:gt,rowHeight:vt,totalColumn:nt,totalRow:nt,hScrollbarSize:bt,vScrollbarSize:bt,scrollbarStartGap:so,scrollbarEndGap:co,role:String,...ro}),io=de({alwaysOn:Boolean,class:String,layout:ao,total:nt,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:bt,startGap:so,endGap:co,visible:Boolean}),Qe=(e,t)=>e<t?Be:ut,Gt=e=>e===to;let Fe=null;function Vt(e=!1){if(Fe===null||e){const t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";const l=document.createElement("div"),r=l.style;return r.width="100px",r.height="100px",t.appendChild(l),document.body.appendChild(t),t.scrollLeft>0?Fe=oo:(t.scrollLeft=1,t.scrollLeft===0?Fe=ht:Fe=lo),document.body.removeChild(t),Fe}return Fe}function ll({move:e,size:t,bar:o},l){const r={},a=`translate${o.axis}(${e}px)`;return r[o.size]=t,r.transform=a,l==="horizontal"?r.height="100%":r.width="100%",r}const Kt=Se({name:"ElVirtualScrollBar",props:io,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const o=x(()=>e.startGap+e.endGap),l=Oe("virtual-scrollbar"),r=Oe("scrollbar"),a=D(),c=D();let s=null,m=null;const h=Oo({isDragging:!1,traveled:0}),i=x(()=>Ao[e.layout]),v=x(()=>e.clientSize-n(o)),w=x(()=>({position:"absolute",width:`${Dt===e.layout?v.value:e.scrollbarSize}px`,height:`${Dt===e.layout?e.scrollbarSize:v.value}px`,[Yo[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),g=x(()=>{const S=e.ratio;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*v.value/100;const W=v.value/3;return Math.floor(Math.min(Math.max(S*v.value/100,Xo),W))}),y=x(()=>{if(!Number.isFinite(g.value))return{display:"none"};const S=`${g.value}px`;return ll({bar:i.value,size:S,move:h.traveled},e.layout)}),d=x(()=>Math.ceil(e.clientSize-g.value-n(o))),u=()=>{window.addEventListener("mousemove",M),window.addEventListener("mouseup",T);const S=n(c);S&&(m=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",M,{passive:!0}),S.addEventListener("touchend",T))},f=()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",T),document.onselectstart=m,m=null;const S=n(c);S&&(S.removeEventListener("touchmove",M),S.removeEventListener("touchend",T))},b=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(h.isDragging=!0,h[i.value.axis]=S.currentTarget[i.value.offset]-(S[i.value.client]-S.currentTarget.getBoundingClientRect()[i.value.direction]),t("start-move"),u())},T=()=>{h.isDragging=!1,h[i.value.axis]=0,t("stop-move"),f()},M=S=>{const{isDragging:W}=h;if(!W||!c.value||!a.value)return;const V=h[i.value.axis];if(!V)return;lt(s);const j=(a.value.getBoundingClientRect()[i.value.direction]-S[i.value.client])*-1,R=c.value[i.value.offset]-V,O=j-R;s=Ct(()=>{h.traveled=Math.max(0,Math.min(O,d.value)),t("scroll",O,d.value)})},I=S=>{const W=Math.abs(S.target.getBoundingClientRect()[i.value.direction]-S[i.value.client]),V=c.value[i.value.offset]/2,j=W-V;h.traveled=Math.max(0,Math.min(j,d.value)),t("scroll",j,d.value)};return Ae(()=>e.scrollFrom,S=>{h.isDragging||(h.traveled=Math.ceil(S*d.value))}),Zt(()=>{f()}),()=>ve("div",{role:"presentation",ref:a,class:[l.b(),e.class,(e.alwaysOn||h.isDragging)&&"always-on"],style:w.value,onMousedown:Lo(I,["stop","prevent"]),onTouchstartPrevent:b},ve("div",{ref:c,class:r.e("thumb"),style:y.value,onMousedown:b},[]))}});var _e=(e=>(e.ASC="asc",e.DESC="desc",e))(_e||{}),qe=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(qe||{}),uo=(e=>(e.LEFT="left",e.RIGHT="right",e))(uo||{});const St={asc:"desc",desc:"asc"},Ue=Symbol("placeholder"),nl=(e,t,o)=>{var l;const r={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};o||(r.flexShrink=1);const a={...(l=e.style)!=null?l:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a};function al(e,t,o){const l=x(()=>n(t).map((u,f)=>{var b,T;return{...u,key:(T=(b=u.key)!=null?b:u.dataKey)!=null?T:f}})),r=x(()=>n(l).filter(u=>!u.hidden)),a=x(()=>n(r).filter(u=>u.fixed==="left"||u.fixed===!0)),c=x(()=>n(r).filter(u=>u.fixed==="right")),s=x(()=>n(r).filter(u=>!u.fixed)),m=x(()=>{const u=[];return n(a).forEach(f=>{u.push({...f,placeholderSign:Ue})}),n(s).forEach(f=>{u.push(f)}),n(c).forEach(f=>{u.push({...f,placeholderSign:Ue})}),u}),h=x(()=>n(a).length||n(c).length),i=x(()=>n(l).reduce((u,f)=>(u[f.key]=nl(f,n(o),e.fixed),u),{})),v=x(()=>n(r).reduce((u,f)=>u+f.width,0)),w=u=>n(l).find(f=>f.key===u),g=u=>n(i)[u],y=(u,f)=>{u.width=f};function d(u){var f;const{key:b}=u.currentTarget.dataset;if(!b)return;const{sortState:T,sortBy:M}=e;let I=_e.ASC;xt(T)?I=St[T[b]]:I=St[M.order],(f=e.onColumnSort)==null||f.call(e,{column:w(b),key:b,order:I})}return{columns:l,columnsStyles:i,columnsTotalWidth:v,fixedColumnsOnLeft:a,fixedColumnsOnRight:c,hasFixedColumns:h,mainColumns:m,normalColumns:s,visibleColumns:r,getColumn:w,getColumnStyle:g,updateColumnWidth:y,onColumnSorted:d}}const rl=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:r})=>{const a=D({scrollLeft:0,scrollTop:0});function c(g){var y,d,u;const{scrollTop:f}=g;(y=t.value)==null||y.scrollTo(g),(d=o.value)==null||d.scrollToTop(f),(u=l.value)==null||u.scrollToTop(f)}function s(g){a.value=g,c(g)}function m(g){a.value.scrollTop=g,c(n(a))}function h(g){var y,d;a.value.scrollLeft=g,(d=(y=t.value)==null?void 0:y.scrollTo)==null||d.call(y,n(a))}function i(g){var y;s(g),(y=e.onScroll)==null||y.call(e,g)}function v({scrollTop:g}){const{scrollTop:y}=n(a);g!==y&&m(g)}function w(g,y="auto"){var d;(d=t.value)==null||d.scrollToRow(g,y)}return Ae(()=>n(a).scrollTop,(g,y)=>{g>y&&r()}),{scrollPos:a,scrollTo:s,scrollToLeft:h,scrollToTop:m,scrollToRow:w,onScroll:i,onVerticalScroll:v}},sl=(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:r,ns:a,isScrolling:c})=>{const s=rt(),{emit:m}=s,h=$e(!1),i=D(e.defaultExpandedRowKeys||[]),v=D(-1),w=$e(null),g=D({}),y=D({}),d=$e({}),u=$e({}),f=$e({}),b=x(()=>J(e.estimatedRowHeight));function T(R){var O;(O=e.onRowsRendered)==null||O.call(e,R),R.rowCacheEnd>n(v)&&(v.value=R.rowCacheEnd)}function M({hovered:R,rowKey:O}){if(c.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(O)}"]`).forEach(K=>{R?K.classList.add(a.is("hovered")):K.classList.remove(a.is("hovered"))})}function I({expanded:R,rowData:O,rowIndex:F,rowKey:L}){var K,B;const G=[...n(i)],U=G.indexOf(L);R?U===-1&&G.push(L):U>-1&&G.splice(U,1),i.value=G,m("update:expandedRowKeys",G),(K=e.onRowExpand)==null||K.call(e,{expanded:R,rowData:O,rowIndex:F,rowKey:L}),(B=e.onExpandedRowsChange)==null||B.call(e,G),r.vnode.el.querySelector(`.${a.is("hovered")}[rowkey="${String(L)}"]`)&&pe(()=>M({hovered:!0,rowKey:L}))}const S=No(()=>{var R,O,F,L;h.value=!0,g.value={...n(g),...n(y)},W(n(w),!1),y.value={},w.value=null,(R=t.value)==null||R.forceUpdate(),(O=o.value)==null||O.forceUpdate(),(F=l.value)==null||F.forceUpdate(),(L=s.proxy)==null||L.$forceUpdate(),h.value=!1},0);function W(R,O=!1){n(b)&&[t,o,l].forEach(F=>{const L=n(F);L&&L.resetAfterRowIndex(R,O)})}function V(R,O,F){const L=n(w);(L===null||L>F)&&(w.value=F),y.value[R]=O}function j({rowKey:R,height:O,rowIndex:F},L){L?L===uo.RIGHT?f.value[R]=O:d.value[R]=O:u.value[R]=O;const K=Math.max(...[d,f,u].map(B=>B.value[R]||0));n(g)[R]!==K&&(V(R,K,F),S())}return{expandedRowKeys:i,lastRenderedRowIndex:v,isDynamic:b,isResetting:h,rowHeights:g,resetAfterIndex:W,onRowExpanded:I,onRowHovered:M,onRowsRendered:T,onRowHeightChange:j}},cl=(e,{expandedRowKeys:t,lastRenderedRowIndex:o,resetAfterIndex:l})=>{const r=D({}),a=x(()=>{const s={},{data:m,rowKey:h}=e,i=n(t);if(!i||!i.length)return m;const v=[],w=new Set;i.forEach(y=>w.add(y));let g=m.slice();for(g.forEach(y=>s[y[h]]=0);g.length>0;){const y=g.shift();v.push(y),w.has(y[h])&&Ge(y.children)&&y.children.length>0&&(g=[...y.children,...g],y.children.forEach(d=>s[d[h]]=s[y[h]]+1))}return r.value=s,v}),c=x(()=>{const{data:s,expandColumnKey:m}=e;return m?n(a):s});return Ae(c,(s,m)=>{s!==m&&(o.value=-1,l(0,!0))}),{data:c,depthMap:r}},il=(e,t)=>e+t,tt=e=>Ge(e)?e.reduce(il,0):e,Le=(e,t,o={})=>Tt(e)?e(t):e??o,be=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=et(e[t])}),e),ho=e=>ze(e)?t=>ve(e,t):e,dl=(e,{columnsTotalWidth:t,rowsHeight:o,fixedColumnsOnLeft:l,fixedColumnsOnRight:r})=>{const a=x(()=>{const{fixed:f,width:b,vScrollbarSize:T}=e,M=b-T;return f?Math.max(Math.round(n(t)),M):M}),c=x(()=>{const{height:f=0,maxHeight:b=0,footerHeight:T,hScrollbarSize:M}=e;if(b>0){const I=n(w),S=n(o),V=n(v)+I+S+M;return Math.min(V,b-T)}return f-T}),s=x(()=>{const{maxHeight:f}=e,b=n(c);if(J(f)&&f>0)return b;const T=n(o)+n(v)+n(w);return Math.min(b,T)}),m=f=>f.width,h=x(()=>tt(n(l).map(m))),i=x(()=>tt(n(r).map(m))),v=x(()=>tt(e.headerHeight)),w=x(()=>{var f;return(((f=e.fixedData)==null?void 0:f.length)||0)*e.rowHeight}),g=x(()=>n(c)-n(v)-n(w)),y=x(()=>{const{style:f={},height:b,width:T}=e;return be({...f,height:b,width:T})}),d=x(()=>be({height:e.footerHeight})),u=x(()=>({top:et(n(v)),bottom:et(e.footerHeight),width:et(e.width)}));return{bodyWidth:a,fixedTableHeight:s,mainTableHeight:c,leftTableWidth:h,rightTableWidth:i,windowHeight:g,footerHeight:d,emptyStyle:u,rootStyle:y,headerHeight:v}};function ul(e){const t=D(),o=D(),l=D(),{columns:r,columnsStyles:a,columnsTotalWidth:c,fixedColumnsOnLeft:s,fixedColumnsOnRight:m,hasFixedColumns:h,mainColumns:i,onColumnSorted:v}=al(e,Nt(e,"columns"),Nt(e,"fixed")),{scrollTo:w,scrollToLeft:g,scrollToTop:y,scrollToRow:d,onScroll:u,onVerticalScroll:f,scrollPos:b}=rl(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,onMaybeEndReached:De}),T=Oe("table-v2"),M=rt(),I=$e(!1),{expandedRowKeys:S,lastRenderedRowIndex:W,isDynamic:V,isResetting:j,rowHeights:R,resetAfterIndex:O,onRowExpanded:F,onRowHeightChange:L,onRowHovered:K,onRowsRendered:B}=sl(e,{mainTableRef:t,leftTableRef:o,rightTableRef:l,tableInstance:M,ns:T,isScrolling:I}),{data:G,depthMap:U}=cl(e,{expandedRowKeys:S,lastRenderedRowIndex:W,resetAfterIndex:O}),le=x(()=>{const{estimatedRowHeight:X,rowHeight:ee}=e,ie=n(G);return J(X)?Object.values(n(R)).reduce((fe,ne)=>fe+ne,0):ie.length*ee}),{bodyWidth:ge,fixedTableHeight:ue,mainTableHeight:re,leftTableWidth:Re,rightTableWidth:we,windowHeight:se,footerHeight:Q,emptyStyle:ce,rootStyle:Pe,headerHeight:xe}=dl(e,{columnsTotalWidth:c,fixedColumnsOnLeft:s,fixedColumnsOnRight:m,rowsHeight:le}),Te=D(),Ve=x(()=>{const X=n(G).length===0;return Ge(e.fixedData)?e.fixedData.length===0&&X:X});function Ke(X){const{estimatedRowHeight:ee,rowHeight:ie,rowKey:fe}=e;return ee?n(R)[n(G)[X][fe]]||ee:ie}const he=D(!1);function De(){const{onEndReached:X}=e;if(!X)return;const{scrollTop:ee}=n(b),ie=n(le),fe=n(se),ne=ie-(ee+fe)+e.hScrollbarSize;!he.value&&n(W)>=0&&ie<=ee+n(re)-n(xe)?(he.value=!0,X(ne)):he.value=!1}return Ae(()=>n(le),()=>he.value=!1),Ae(()=>e.expandedRowKeys,X=>S.value=X,{deep:!0}),{columns:r,containerRef:Te,mainTableRef:t,leftTableRef:o,rightTableRef:l,isDynamic:V,isResetting:j,isScrolling:I,hasFixedColumns:h,columnsStyles:a,columnsTotalWidth:c,data:G,expandedRowKeys:S,depthMap:U,fixedColumnsOnLeft:s,fixedColumnsOnRight:m,mainColumns:i,bodyWidth:ge,emptyStyle:ce,rootStyle:Pe,footerHeight:Q,mainTableHeight:re,fixedTableHeight:ue,leftTableWidth:Re,rightTableWidth:we,showEmpty:Ve,getRowHeight:Ke,onColumnSorted:v,onRowHovered:K,onRowExpanded:F,onRowsRendered:B,onRowHeightChange:L,scrollTo:w,scrollToLeft:g,scrollToTop:y,scrollToRow:d,onScroll:u,onVerticalScroll:f}}const _t=Symbol("tableV2"),fo="tableV2GridScrollLeft",mo=String,Xe={type:p(Array),required:!0},Mt={type:p(Array)},vo={...Mt,required:!0},hl=String,jt={type:p(Array),default:()=>Xt([])},He={type:Number,required:!0},yo={type:p([String,Number,Symbol]),default:"id"},kt={type:p(Object)},Me=de({class:String,columns:Xe,columnsStyles:{type:p(Object),required:!0},depth:Number,expandColumnKey:hl,estimatedRowHeight:{...Ie.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:p(Function)},onRowHover:{type:p(Function)},onRowHeightChange:{type:p(Function)},rowData:{type:p(Object),required:!0},rowEventHandlers:{type:p(Object)},rowIndex:{type:Number,required:!0},rowKey:yo,style:{type:p(Object)}}),it={type:Number,required:!0},pt=de({class:String,columns:Xe,fixedHeaderData:{type:p(Array)},headerData:{type:p(Array),required:!0},headerHeight:{type:p([Number,Array]),default:50},rowWidth:it,rowHeight:{type:Number,default:50},height:it,width:it}),ot=de({columns:Xe,data:vo,fixedData:Mt,estimatedRowHeight:Me.estimatedRowHeight,width:He,height:He,headerWidth:He,headerHeight:pt.headerHeight,bodyWidth:He,rowHeight:He,cache:ol.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Ie.scrollbarAlwaysOn,scrollbarStartGap:Ie.scrollbarStartGap,scrollbarEndGap:Ie.scrollbarEndGap,class:mo,style:kt,containerStyle:kt,getRowHeight:{type:p(Function),required:!0},rowKey:Me.rowKey,onRowsRendered:{type:p(Function)},onScroll:{type:p(Function)}}),fl=de({cache:ot.cache,estimatedRowHeight:Me.estimatedRowHeight,rowKey:yo,headerClass:{type:p([String,Function])},headerProps:{type:p([Object,Function])},headerCellProps:{type:p([Object,Function])},headerHeight:pt.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:p([String,Function])},rowProps:{type:p([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:p([Object,Function])},columns:Xe,data:vo,dataGetter:{type:p(Function)},fixedData:Mt,expandColumnKey:Me.expandColumnKey,expandedRowKeys:jt,defaultExpandedRowKeys:jt,class:mo,fixed:Boolean,style:{type:p(Object)},width:He,height:He,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Ie.hScrollbarSize,vScrollbarSize:Ie.vScrollbarSize,scrollbarAlwaysOn:io.alwaysOn,sortBy:{type:p(Object),default:()=>({})},sortState:{type:p(Object),default:void 0},onColumnSort:{type:p(Function)},onExpandedRowsChange:{type:p(Function)},onEndReached:{type:p(Function)},onRowExpand:Me.onRowExpand,onScroll:ot.onScroll,onRowsRendered:ot.onRowsRendered,rowEventHandlers:Me.rowEventHandlers}),ml="ElTableV2Header",vl=Se({name:ml,props:pt,setup(e,{slots:t,expose:o}){const l=Oe("table-v2"),r=Et(fo),a=D(),c=x(()=>be({width:e.width,height:e.height})),s=x(()=>be({width:e.rowWidth,height:e.height})),m=x(()=>Jo(n(e.headerHeight))),h=w=>{const g=n(a);pe(()=>{g?.scroll&&g.scroll({left:w})})},i=()=>{const w=l.e("fixed-header-row"),{columns:g,fixedHeaderData:y,rowHeight:d}=e;return y?.map((u,f)=>{var b;const T=be({height:d,width:"100%"});return(b=t.fixed)==null?void 0:b.call(t,{class:w,columns:g,rowData:u,rowIndex:-(f+1),style:T})})},v=()=>{const w=l.e("dynamic-header-row"),{columns:g}=e;return n(m).map((y,d)=>{var u;const f=be({width:"100%",height:y});return(u=t.dynamic)==null?void 0:u.call(t,{class:w,columns:g,headerIndex:d,style:f})})};return zo(()=>{r?.value&&h(r.value)}),o({scrollToLeft:h}),()=>{if(!(e.height<=0))return C("div",{ref:a,class:e.class,style:n(c),role:"rowgroup"},[C("div",{style:n(s),class:l.e("header")},[v(),i()])])}}});var yl=vl;const gl=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:o,atYStartEdge:l},r)=>{let a=null,c=0,s=0;const m=(i,v)=>{const w=i<=0&&t.value||i>=0&&e.value,g=v<=0&&l.value||v>=0&&o.value;return w&&g};return{hasReachedEdge:m,onWheel:i=>{lt(a);let v=i.deltaX,w=i.deltaY;Math.abs(v)>Math.abs(w)?w=0:v=0,i.shiftKey&&w!==0&&(v=w,w=0),!(m(c,s)&&m(c+v,s+w))&&(c+=v,s+=w,i.preventDefault(),a=Ct(()=>{r(c,s),c=0,s=0}))}}},wl=(e,t,o,l,r,a,c)=>{const s=D(0),m=D(0);let h,i=0,v=0;const w=y=>{lt(h),s.value=y.touches[0].clientX,m.value=y.touches[0].clientY,i=0,v=0},g=y=>{y.preventDefault(),lt(h),i+=s.value-y.touches[0].clientX,v+=m.value-y.touches[0].clientY,s.value=y.touches[0].clientX,m.value=y.touches[0].clientY,h=Ct(()=>{const d=l.value-n(a),u=r.value-n(c),f=Math.min(t.value.scrollLeft+i,d),b=Math.min(t.value.scrollTop+v,u);o({scrollLeft:f,scrollTop:b}),i=0,v=0})};return dt(e,"touchstart",w,{passive:!0}),dt(e,"touchmove",g,{passive:!1}),{touchStartX:s,touchStartY:m,handleTouchStart:w,handleTouchMove:g}},go=({name:e,clearCache:t,getColumnPosition:o,getColumnStartIndexForOffset:l,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:a,getEstimatedTotalWidth:c,getColumnOffset:s,getRowOffset:m,getRowPosition:h,getRowStartIndexForOffset:i,getRowStopIndexForStartIndex:v,initCache:w,injectToInstance:g,validateProps:y})=>Se({name:e??"ElVirtualList",props:Ie,emits:[Ft,$t],setup(d,{emit:u,expose:f,slots:b}){const T=Oe("vl");y(d);const M=rt(),I=D(w(d,M));g?.(M,I);const S=D(),W=D(),V=D(),j=D(),R=D({isScrolling:!1,scrollLeft:J(d.initScrollLeft)?d.initScrollLeft:0,scrollTop:J(d.initScrollTop)?d.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Be,yAxisScrollDir:Be}),O=el(),F=x(()=>Number.parseInt(`${d.height}`,10)),L=x(()=>Number.parseInt(`${d.width}`,10)),K=x(()=>{const{totalColumn:E,totalRow:H,columnCache:_}=d,{isScrolling:N,xAxisScrollDir:z,scrollLeft:A}=n(R);if(E===0||H===0)return[0,0,0,0];const P=l(d,A,n(I)),$=r(d,P,A,n(I)),k=!N||z===ut?Math.max(1,_):1,Z=!N||z===Be?Math.max(1,_):1;return[Math.max(0,P-k),Math.max(0,Math.min(E-1,$+Z)),P,$]}),B=x(()=>{const{totalColumn:E,totalRow:H,rowCache:_}=d,{isScrolling:N,yAxisScrollDir:z,scrollTop:A}=n(R);if(E===0||H===0)return[0,0,0,0];const P=i(d,A,n(I)),$=v(d,P,A,n(I)),k=!N||z===ut?Math.max(1,_):1,Z=!N||z===Be?Math.max(1,_):1;return[Math.max(0,P-k),Math.max(0,Math.min(H-1,$+Z)),P,$]}),G=x(()=>a(d,n(I))),U=x(()=>c(d,n(I))),le=x(()=>{var E;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:d.direction,height:J(d.height)?`${d.height}px`:d.height,width:J(d.width)?`${d.width}px`:d.width},(E=d.style)!=null?E:{}]}),ge=x(()=>{const E=`${n(U)}px`;return{height:`${n(G)}px`,pointerEvents:n(R).isScrolling?"none":void 0,width:E,margin:0,boxSizing:"border-box"}}),ue=()=>{const{totalColumn:E,totalRow:H}=d;if(E>0&&H>0){const[$,k,Z,oe]=n(K),[te,q,je,Je]=n(B);u(Ft,{columnCacheStart:$,columnCacheEnd:k,rowCacheStart:te,rowCacheEnd:q,columnVisibleStart:Z,columnVisibleEnd:oe,rowVisibleStart:je,rowVisibleEnd:Je})}const{scrollLeft:_,scrollTop:N,updateRequested:z,xAxisScrollDir:A,yAxisScrollDir:P}=n(R);u($t,{xAxisScrollDir:A,scrollLeft:_,yAxisScrollDir:P,scrollTop:N,updateRequested:z})},re=E=>{const{clientHeight:H,clientWidth:_,scrollHeight:N,scrollLeft:z,scrollTop:A,scrollWidth:P}=E.currentTarget,$=n(R);if($.scrollTop===A&&$.scrollLeft===z)return;let k=z;if(Gt(d.direction))switch(Vt()){case ht:k=-z;break;case oo:k=P-_-z;break}R.value={...$,isScrolling:!0,scrollLeft:k,scrollTop:Math.max(0,Math.min(A,N-H)),updateRequested:!0,xAxisScrollDir:Qe($.scrollLeft,k),yAxisScrollDir:Qe($.scrollTop,A)},pe(()=>he()),De(),ue()},Re=(E,H)=>{const _=n(F),N=(G.value-_)/H*E;Q({scrollTop:Math.min(G.value-_,N)})},we=(E,H)=>{const _=n(L),N=(U.value-_)/H*E;Q({scrollLeft:Math.min(U.value-_,N)})},{onWheel:se}=gl({atXStartEdge:x(()=>R.value.scrollLeft<=0),atXEndEdge:x(()=>R.value.scrollLeft>=U.value-n(L)),atYStartEdge:x(()=>R.value.scrollTop<=0),atYEndEdge:x(()=>R.value.scrollTop>=G.value-n(F))},(E,H)=>{var _,N,z,A;(N=(_=W.value)==null?void 0:_.onMouseUp)==null||N.call(_),(A=(z=V.value)==null?void 0:z.onMouseUp)==null||A.call(z);const P=n(L),$=n(F);Q({scrollLeft:Math.min(R.value.scrollLeft+E,U.value-P),scrollTop:Math.min(R.value.scrollTop+H,G.value-$)})});dt(S,"wheel",se,{passive:!1});const Q=({scrollLeft:E=R.value.scrollLeft,scrollTop:H=R.value.scrollTop})=>{E=Math.max(E,0),H=Math.max(H,0);const _=n(R);H===_.scrollTop&&E===_.scrollLeft||(R.value={..._,xAxisScrollDir:Qe(_.scrollLeft,E),yAxisScrollDir:Qe(_.scrollTop,H),scrollLeft:E,scrollTop:H,updateRequested:!0},pe(()=>he()),De(),ue())},{touchStartX:ce,touchStartY:Pe,handleTouchStart:xe,handleTouchMove:Te}=wl(S,R,Q,U,G,L,F),Ve=(E=0,H=0,_=Ce)=>{const N=n(R);H=Math.max(0,Math.min(H,d.totalColumn-1)),E=Math.max(0,Math.min(E,d.totalRow-1));const z=Do(T.namespace.value),A=n(I),P=a(d,A),$=c(d,A);Q({scrollLeft:s(d,H,_,N.scrollLeft,A,$>d.width?z:0),scrollTop:m(d,E,_,N.scrollTop,A,P>d.height?z:0)})},Ke=(E,H)=>{const{columnWidth:_,direction:N,rowHeight:z}=d,A=O.value(t&&_,t&&z,t&&N),P=`${E},${H}`;if($o(A,P))return A[P];{const[,$]=o(d,H,n(I)),k=n(I),Z=Gt(N),[oe,te]=h(d,E,k),[q]=o(d,H,k);return A[P]={position:"absolute",left:Z?void 0:`${$}px`,right:Z?`${$}px`:void 0,top:`${te}px`,height:`${oe}px`,width:`${q}px`},A[P]}},he=()=>{R.value.isScrolling=!1,pe(()=>{O.value(-1,null,null)})};Ht(()=>{if(!Po)return;const{initScrollLeft:E,initScrollTop:H}=d,_=n(S);_&&(J(E)&&(_.scrollLeft=E),J(H)&&(_.scrollTop=H)),ue()});const De=()=>{const{direction:E}=d,{scrollLeft:H,scrollTop:_,updateRequested:N}=n(R),z=n(S);if(N&&z){if(E===to)switch(Vt()){case ht:{z.scrollLeft=-H;break}case lo:{z.scrollLeft=H;break}default:{const{clientWidth:A,scrollWidth:P}=z;z.scrollLeft=P-A-H;break}}else z.scrollLeft=Math.max(0,H);z.scrollTop=Math.max(0,_)}},{resetAfterColumnIndex:X,resetAfterRowIndex:ee,resetAfter:ie}=M.proxy;f({windowRef:S,innerRef:j,getItemStyleCache:O,touchStartX:ce,touchStartY:Pe,handleTouchStart:xe,handleTouchMove:Te,scrollTo:Q,scrollToItem:Ve,states:R,resetAfterColumnIndex:X,resetAfterRowIndex:ee,resetAfter:ie});const fe=()=>{const{scrollbarAlwaysOn:E,scrollbarStartGap:H,scrollbarEndGap:_,totalColumn:N,totalRow:z}=d,A=n(L),P=n(F),$=n(U),k=n(G),{scrollLeft:Z,scrollTop:oe}=n(R),te=ve(Kt,{ref:W,alwaysOn:E,startGap:H,endGap:_,class:T.e("horizontal"),clientSize:A,layout:"horizontal",onScroll:we,ratio:A*100/$,scrollFrom:Z/($-A),total:z,visible:!0}),q=ve(Kt,{ref:V,alwaysOn:E,startGap:H,endGap:_,class:T.e("vertical"),clientSize:P,layout:"vertical",onScroll:Re,ratio:P*100/k,scrollFrom:oe/(k-P),total:N,visible:!0});return{horizontalScrollbar:te,verticalScrollbar:q}},ne=()=>{var E;const[H,_]=n(K),[N,z]=n(B),{data:A,totalColumn:P,totalRow:$,useIsScrolling:k,itemKey:Z}=d,oe=[];if($>0&&P>0)for(let te=N;te<=z;te++)for(let q=H;q<=_;q++){const je=Z({columnIndex:q,data:A,rowIndex:te});oe.push(ve(Fo,{key:je},(E=b.default)==null?void 0:E.call(b,{columnIndex:q,data:A,isScrolling:k?n(R).isScrolling:void 0,style:Ke(te,q),rowIndex:te})))}return oe},st=()=>{const E=zt(d.innerElement),H=ne();return[ve(E,Y(d.innerProps,{style:n(ge),ref:j}),Pt(E)?H:{default:()=>H})]};return()=>{const E=zt(d.containerElement),{horizontalScrollbar:H,verticalScrollbar:_}=fe(),N=st();return ve("div",{key:0,class:T.e("wrapper"),role:d.role},[ve(E,{class:d.className,style:n(le),onScroll:re,ref:S},Pt(E)?N:{default:()=>N}),H,_])}}}),{max:at,min:wo,floor:bo}=Math,bl={column:"columnWidth",row:"rowHeight"},Rt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},ye=(e,t,o,l)=>{const[r,a,c]=[o[l],e[bl[l]],o[Rt[l]]];if(t>c){let s=0;if(c>=0){const m=r[c];s=m.offset+m.size}for(let m=c+1;m<=t;m++){const h=a(m);r[m]={offset:s,size:h},s+=h}o[Rt[l]]=t}return r[t]},So=(e,t,o,l,r,a)=>{for(;o<=l;){const c=o+bo((l-o)/2),s=ye(e,c,t,a).offset;if(s===r)return c;s<r?o=c+1:l=c-1}return at(0,o-1)},Sl=(e,t,o,l,r)=>{const a=r==="column"?e.totalColumn:e.totalRow;let c=1;for(;o<a&&ye(e,o,t,r).offset<l;)o+=c,c*=2;return So(e,t,bo(o/2),wo(o,a-1),l,r)},Bt=(e,t,o,l)=>{const[r,a]=[t[l],t[Rt[l]]];return(a>0?r[a].offset:0)>=o?So(e,t,0,a,o,l):Sl(e,t,at(0,a),o,l)},Ro=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:o,row:l})=>{let r=0;if(o>=e&&(o=e-1),o>=0){const s=l[o];r=s.offset+s.size}const c=(e-o-1)*t;return r+c},xo=({totalColumn:e},{column:t,estimatedColumnWidth:o,lastVisitedColumnIndex:l})=>{let r=0;if(l>e&&(l=e-1),l>=0){const s=t[l];r=s.offset+s.size}const c=(e-l-1)*o;return r+c},Rl={column:xo,row:Ro},qt=(e,t,o,l,r,a,c)=>{const[s,m]=[a==="row"?e.height:e.width,Rl[a]],h=ye(e,t,r,a),i=m(e,r),v=at(0,wo(i-s,h.offset)),w=at(0,h.offset-s+c+h.size);switch(o===no&&(l>=w-s&&l<=v+s?o=Ce:o=We),o){case mt:return v;case ft:return w;case We:return Math.round(w+(v-w)/2);case Ce:default:return l>=w&&l<=v?l:w>v||l<w?w:v}},xl=go({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,o)=>{const l=ye(e,t,o,"column");return[l.size,l.offset]},getRowPosition:(e,t,o)=>{const l=ye(e,t,o,"row");return[l.size,l.offset]},getColumnOffset:(e,t,o,l,r,a)=>qt(e,t,o,l,r,"column",a),getRowOffset:(e,t,o,l,r,a)=>qt(e,t,o,l,r,"row",a),getColumnStartIndexForOffset:(e,t,o)=>Bt(e,o,t,"column"),getColumnStopIndexForStartIndex:(e,t,o,l)=>{const r=ye(e,t,l,"column"),a=o+e.width;let c=r.offset+r.size,s=t;for(;s<e.totalColumn-1&&c<a;)s++,c+=ye(e,t,l,"column").size;return s},getEstimatedTotalHeight:Ro,getEstimatedTotalWidth:xo,getRowStartIndexForOffset:(e,t,o)=>Bt(e,o,t,"row"),getRowStopIndexForStartIndex:(e,t,o,l)=>{const{totalRow:r,height:a}=e,c=ye(e,t,l,"row"),s=o+a;let m=c.size+c.offset,h=t;for(;h<r-1&&m<s;)h++,m+=ye(e,h,l,"row").size;return h},injectToInstance:(e,t)=>{const o=({columnIndex:a,rowIndex:c},s)=>{var m,h;s=Wo(s)?!0:s,J(a)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,a-1)),J(c)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,c-1)),(m=e.exposed)==null||m.getItemStyleCache.value(-1,null,null),s&&((h=e.proxy)==null||h.$forceUpdate())},l=(a,c)=>{o({columnIndex:a},c)},r=(a,c)=>{o({rowIndex:a},c)};Object.assign(e.proxy,{resetAfterColumnIndex:l,resetAfterRowIndex:r,resetAfter:o})},initCache:({estimatedColumnWidth:e=Wt,estimatedRowHeight:t=Wt})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Tl=go({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:o},l,r,a,c,s)=>{o=Number(o);const m=Math.max(0,e*t-o),h=Math.min(m,l*t),i=Math.max(0,l*t-o+s+t);switch(r==="smart"&&(a>=i-o&&a<=h+o?r=Ce:r=We),r){case mt:return h;case ft:return i;case We:{const v=Math.round(i+(h-i)/2);return v<Math.ceil(o/2)?0:v>m+Math.floor(o/2)?m:v}case Ce:default:return a>=i&&a<=h?a:i>h||a<i?i:h}},getRowOffset:({rowHeight:e,height:t,totalRow:o},l,r,a,c,s)=>{t=Number(t);const m=Math.max(0,o*e-t),h=Math.min(m,l*e),i=Math.max(0,l*e-t+s+e);switch(r===no&&(a>=i-t&&a<=h+t?r=Ce:r=We),r){case mt:return h;case ft:return i;case We:{const v=Math.round(i+(h-i)/2);return v<Math.ceil(t/2)?0:v>m+Math.floor(t/2)?m:v}case Ce:default:return a>=i&&a<=h?a:i>h||a<i?i:h}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:o},l,r)=>{const a=l*e,c=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+c-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:o},l,r)=>{const a=l*e,c=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+c-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),El="ElTableV2Grid",Hl=e=>{const t=D(),o=D(),l=D(0),r=x(()=>{const{data:u,rowHeight:f,estimatedRowHeight:b}=e;if(!b)return u.length*f}),a=x(()=>{const{fixedData:u,rowHeight:f}=e;return(u?.length||0)*f}),c=x(()=>tt(e.headerHeight)),s=x(()=>{const{height:u}=e;return Math.max(0,u-n(c)-n(a))}),m=x(()=>n(c)+n(a)>0),h=({data:u,rowIndex:f})=>u[f][e.rowKey];function i({rowCacheStart:u,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:T}){var M;(M=e.onRowsRendered)==null||M.call(e,{rowCacheStart:u,rowCacheEnd:f,rowVisibleStart:b,rowVisibleEnd:T})}function v(u,f){var b;(b=o.value)==null||b.resetAfterRowIndex(u,f)}function w(u,f){const b=n(t),T=n(o);xt(u)?(b?.scrollToLeft(u.scrollLeft),l.value=u.scrollLeft,T?.scrollTo(u)):(b?.scrollToLeft(u),l.value=u,T?.scrollTo({scrollLeft:u,scrollTop:f}))}function g(u){var f;(f=n(o))==null||f.scrollTo({scrollTop:u})}function y(u,f){var b;(b=n(o))==null||b.scrollToItem(u,1,f)}function d(){var u,f;(u=n(o))==null||u.$forceUpdate(),(f=n(t))==null||f.$forceUpdate()}return Ae(()=>e.bodyWidth,()=>{var u;J(e.estimatedRowHeight)&&((u=o.value)==null||u.resetAfter({columnIndex:0},!1))}),{bodyRef:o,forceUpdate:d,fixedRowHeight:a,gridHeight:s,hasHeader:m,headerHeight:c,headerRef:t,totalHeight:r,itemKey:h,onItemRendered:i,resetAfterRowIndex:v,scrollTo:w,scrollToTop:g,scrollToRow:y,scrollLeft:l}},Cl=Se({name:El,props:ot,setup(e,{slots:t,expose:o}){const{ns:l}=Et(_t),{bodyRef:r,fixedRowHeight:a,gridHeight:c,hasHeader:s,headerRef:m,headerHeight:h,totalHeight:i,forceUpdate:v,itemKey:w,onItemRendered:g,resetAfterRowIndex:y,scrollTo:d,scrollToTop:u,scrollToRow:f,scrollLeft:b}=Hl(e);Jt(fo,b),Go(async()=>{var M;await pe();const I=(M=r.value)==null?void 0:M.states.scrollTop;I&&u(Math.round(I)+1)}),o({forceUpdate:v,totalHeight:i,scrollTo:d,scrollToTop:u,scrollToRow:f,resetAfterRowIndex:y});const T=()=>e.bodyWidth;return()=>{const{cache:M,columns:I,data:S,fixedData:W,useIsScrolling:V,scrollbarAlwaysOn:j,scrollbarEndGap:R,scrollbarStartGap:O,style:F,rowHeight:L,bodyWidth:K,estimatedRowHeight:B,headerWidth:G,height:U,width:le,getRowHeight:ge,onScroll:ue}=e,re=J(B),Re=re?xl:Tl,we=n(h);return C("div",{role:"table",class:[l.e("table"),e.class],style:F},[C(Re,{ref:r,data:S,useIsScrolling:V,itemKey:w,columnCache:0,columnWidth:re?T:K,totalColumn:1,totalRow:S.length,rowCache:M,rowHeight:re?ge:L,width:le,height:n(c),class:l.e("body"),role:"rowgroup",scrollbarStartGap:O,scrollbarEndGap:R,scrollbarAlwaysOn:j,onScroll:ue,onItemRendered:g,perfMode:!1},{default:se=>{var Q;const ce=S[se.rowIndex];return(Q=t.row)==null?void 0:Q.call(t,{...se,columns:I,rowData:ce})}}),n(s)&&C(yl,{ref:m,class:l.e("header-wrapper"),columns:I,headerData:S,headerHeight:e.headerHeight,fixedHeaderData:W,rowWidth:G,rowHeight:L,width:le,height:Math.min(we+n(a),U)},{dynamic:t.header,fixed:t.row})])}}});var It=Cl;function _l(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const Ml=(e,{slots:t})=>{const{mainTableRef:o,...l}=e;return C(It,Y({ref:o},l),_l(t)?t:{default:()=>[t]})};var pl=Ml;function Il(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const Ol=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:o,...l}=e;return C(It,Y({ref:o},l),Il(t)?t:{default:()=>[t]})};var Al=Ol;function Ll(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const Nl=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:o,...l}=e;return C(It,Y({ref:o},l),Ll(t)?t:{default:()=>[t]})};var zl=Nl;const Pl=e=>{const{isScrolling:t}=Et(_t),o=D(!1),l=D(),r=x(()=>J(e.estimatedRowHeight)&&e.rowIndex>=0),a=(m=!1)=>{const h=n(l);if(!h)return;const{columns:i,onRowHeightChange:v,rowKey:w,rowIndex:g,style:y}=e,{height:d}=h.getBoundingClientRect();o.value=!0,pe(()=>{if(m||d!==Number.parseInt(y.height)){const u=i[0],f=u?.placeholderSign===Ue;v?.({rowKey:w,height:d,rowIndex:g},u&&!f&&u.fixed)}})},c=x(()=>{const{rowData:m,rowIndex:h,rowKey:i,onRowHover:v}=e,w=e.rowEventHandlers||{},g={};return Object.entries(w).forEach(([y,d])=>{Tt(d)&&(g[y]=u=>{d({event:u,rowData:m,rowIndex:h,rowKey:i})})}),v&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:y,hovered:d})=>{const u=g[y];g[y]=f=>{v({event:f,hovered:d,rowData:m,rowIndex:h,rowKey:i}),u?.(f)}}),g}),s=m=>{const{onRowExpand:h,rowData:i,rowIndex:v,rowKey:w}=e;h?.({expanded:m,rowData:i,rowIndex:v,rowKey:w})};return Ht(()=>{n(r)&&a(!0)}),{isScrolling:t,measurable:r,measured:o,rowRef:l,eventHandlers:c,onExpand:s}},Dl="ElTableV2TableRow",Fl=Se({name:Dl,props:Me,setup(e,{expose:t,slots:o,attrs:l}){const{eventHandlers:r,isScrolling:a,measurable:c,measured:s,rowRef:m,onExpand:h}=Pl(e);return t({onExpand:h}),()=>{const{columns:i,columnsStyles:v,expandColumnKey:w,depth:g,rowData:y,rowIndex:d,style:u}=e;let f=i.map((b,T)=>{const M=Ge(y.children)&&y.children.length>0&&b.key===w;return o.cell({column:b,columns:i,columnIndex:T,depth:g,style:v[b.key],rowData:y,rowIndex:d,isScrolling:n(a),expandIconProps:M?{rowData:y,rowIndex:d,onExpand:h}:void 0})});if(o.row&&(f=o.row({cells:f.map(b=>Ge(b)&&b.length===1?b[0]:b),style:u,columns:i,depth:g,rowData:y,rowIndex:d,isScrolling:n(a)})),n(c)){const{height:b,...T}=u||{},M=n(s);return C("div",Y({ref:m,class:e.class,style:M?u:T,role:"row"},l,n(r)),[f])}return C("div",Y(l,{ref:m,class:e.class,style:u,role:"row"},n(r)),[f])}}});var $l=Fl;function Wl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const Gl=(e,{slots:t})=>{const{columns:o,columnsStyles:l,depthMap:r,expandColumnKey:a,expandedRowKeys:c,estimatedRowHeight:s,hasFixedColumns:m,rowData:h,rowIndex:i,style:v,isScrolling:w,rowProps:g,rowClass:y,rowKey:d,rowEventHandlers:u,ns:f,onRowHovered:b,onRowExpanded:T}=e,M=Le(y,{columns:o,rowData:h,rowIndex:i},""),I=Le(g,{columns:o,rowData:h,rowIndex:i}),S=h[d],W=r[S]||0,V=!!a,j=i<0,R=[f.e("row"),M,f.is("expanded",V&&c.includes(S)),f.is("fixed",!W&&j),f.is("customized",!!t.row),{[f.e(`row-depth-${W}`)]:V&&i>=0}],O=m?b:void 0,F={...I,columns:o,columnsStyles:l,class:R,depth:W,expandColumnKey:a,estimatedRowHeight:j?void 0:s,isScrolling:w,rowIndex:i,rowData:h,rowKey:S,rowEventHandlers:u,style:v};return C($l,Y(F,{onRowExpand:T,onMouseenter:B=>{O?.({hovered:!0,rowKey:S,event:B,rowData:h,rowIndex:i})},onMouseleave:B=>{O?.({hovered:!1,rowKey:S,event:B,rowData:h,rowIndex:i})},rowkey:S}),Wl(t)?t:{default:()=>[t]})};var Vl=Gl;const Ot=(e,{slots:t})=>{var o;const{cellData:l,style:r}=e,a=((o=l?.toString)==null?void 0:o.call(l))||"",c=Ye(t,"default",e,()=>[a]);return C("div",{class:e.class,title:a,style:r},[c])};Ot.displayName="ElTableV2Cell";Ot.inheritAttrs=!1;var Kl=Ot;const jl=e=>{const{expanded:t,expandable:o,onExpand:l,style:r,size:a,ariaLabel:c}=e,s={onClick:o?()=>l(!t):void 0,ariaLabel:c,ariaExpanded:t,class:e.class};return C("button",Y(s,{type:"button"}),[C(Qt,{size:a,style:r},{default:()=>[C(Vo,null,null)]})])};var kl=jl;const To=({columns:e,column:t,columnIndex:o,depth:l,expandIconProps:r,isScrolling:a,rowData:c,rowIndex:s,style:m,expandedRowKeys:h,ns:i,t:v,cellProps:w,expandColumnKey:g,indentSize:y,iconSize:d,rowKey:u},{slots:f})=>{const b=be(m);if(t.placeholderSign===Ue)return C("div",{class:i.em("row-cell","placeholder"),style:b},null);const{cellRenderer:T,dataKey:M,dataGetter:I}=t,S=Tt(I)?I({columns:e,column:t,columnIndex:o,rowData:c,rowIndex:s}):Ko(c,M??""),W=Le(w,{cellData:S,columns:e,column:t,columnIndex:o,rowIndex:s,rowData:c}),V={class:i.e("cell-text"),columns:e,column:t,columnIndex:o,cellData:S,isScrolling:a,rowData:c,rowIndex:s},j=ho(T),R=j?j(V):Ye(f,"default",V,()=>[C(Kl,V,null)]),O=[i.e("row-cell"),t.class,t.align===qe.CENTER&&i.is("align-center"),t.align===qe.RIGHT&&i.is("align-right")],F=s>=0&&g&&t.key===g,L=s>=0&&h.includes(c[u]);let K;const B=`margin-inline-start: ${l*y}px;`;return F&&(xt(r)?K=C(kl,Y(r,{class:[i.e("expand-icon"),i.is("expanded",L)],size:d,expanded:L,ariaLabel:v(L?"el.table.collapseRowLabel":"el.table.expandRowLabel"),style:B,expandable:!0}),null):K=C("div",{style:[B,`width: ${d}px; height: ${d}px;`].join(" ")},null)),C("div",Y({class:O,style:b},W,{role:"cell"}),[K,R])};To.inheritAttrs=!1;var Ut=To;const Bl=de({class:String,columns:Xe,columnsStyles:{type:p(Object),required:!0},headerIndex:Number,style:{type:p(Object)}}),ql=Se({name:"ElTableV2HeaderRow",props:Bl,setup(e,{slots:t}){return()=>{const{columns:o,columnsStyles:l,headerIndex:r,style:a}=e;let c=o.map((s,m)=>t.cell({columns:o,column:s,columnIndex:m,headerIndex:r,style:l[s.key]}));return t.header&&(c=t.header({cells:c.map(s=>Ge(s)&&s.length===1?s[0]:s),columns:o,headerIndex:r})),C("div",{class:e.class,style:a,role:"row"},[c])}}});var Ul=ql;function Yl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const Xl=({columns:e,columnsStyles:t,headerIndex:o,style:l,headerClass:r,headerProps:a,ns:c},{slots:s})=>{const m={columns:e,headerIndex:o},h=[c.e("header-row"),Le(r,m,""),c.is("customized",!!s.header)],i={...Le(a,m),columnsStyles:t,class:h,columns:e,headerIndex:o,style:l};return C(Ul,i,Yl(s)?s:{default:()=>[s]})};var Zl=Xl;const At=(e,{slots:t})=>Ye(t,"default",e,()=>{var o,l;return[C("div",{class:e.class,title:(o=e.column)==null?void 0:o.title},[(l=e.column)==null?void 0:l.title])]});At.displayName="ElTableV2HeaderCell";At.inheritAttrs=!1;var Jl=At;const Ql=e=>{const{sortOrder:t}=e;return C("button",{type:"button","aria-label":e.ariaLabel,class:e.class},[C(Qt,{size:14},{default:()=>[t===_e.ASC?C(jo,null,null):C(ko,null,null)]})])};var en=Ql;const tn=(e,{slots:t})=>{const{column:o,ns:l,t:r,style:a,onColumnSorted:c}=e,s=be(a);if(o.placeholderSign===Ue)return C("div",{class:l.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:m,headerClass:h,sortable:i}=o,v={...e,class:l.e("header-cell-text")},w=ho(m),g=w?w(v):Ye(t,"default",v,()=>[C(Jl,v,null)]),{sortBy:y,sortState:d,headerCellProps:u}=e;let f,b,T;if(d){const S=d[o.key];f=!!St[S],b=f?S:_e.ASC}else f=o.key===y.key,b=f?y.order:_e.ASC;b===_e.ASC?T="ascending":b===_e.DESC?T="descending":T=void 0;const M=[l.e("header-cell"),Le(h,e,""),o.align===qe.CENTER&&l.is("align-center"),o.align===qe.RIGHT&&l.is("align-right"),i&&l.is("sortable")],I={...Le(u,e),onClick:o.sortable?c:void 0,ariaSort:i?T:void 0,class:M,style:s,"data-key":o.key};return C("div",Y(I,{role:"columnheader"}),[g,i&&C(en,{class:[l.e("sort-icon"),f&&l.is("sorting")],sortOrder:b,ariaLabel:r("el.table.sortLabel",{column:o.title||""})},null)])};var Yt=tn;const Eo=(e,{slots:t})=>{var o;return C("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};Eo.displayName="ElTableV2Footer";var on=Eo;const Ho=(e,{slots:t})=>{const o=Ye(t,"default",{},()=>[C(Zo,null,null)]);return C("div",{class:e.class,style:e.style},[o])};Ho.displayName="ElTableV2Empty";var ln=Ho;const Co=(e,{slots:t})=>{var o;return C("div",{class:e.class,style:e.style},[(o=t.default)==null?void 0:o.call(t)])};Co.displayName="ElTableV2Overlay";var nn=Co;function ke(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}const an="ElTableV2",rn=Se({name:an,props:fl,setup(e,{slots:t,expose:o}){const l=Oe("table-v2"),{t:r}=Bo(),{columnsStyles:a,fixedColumnsOnLeft:c,fixedColumnsOnRight:s,mainColumns:m,mainTableHeight:h,fixedTableHeight:i,leftTableWidth:v,rightTableWidth:w,data:g,depthMap:y,expandedRowKeys:d,hasFixedColumns:u,mainTableRef:f,leftTableRef:b,rightTableRef:T,isDynamic:M,isResetting:I,isScrolling:S,bodyWidth:W,emptyStyle:V,rootStyle:j,footerHeight:R,showEmpty:O,scrollTo:F,scrollToLeft:L,scrollToTop:K,scrollToRow:B,getRowHeight:G,onColumnSorted:U,onRowHeightChange:le,onRowHovered:ge,onRowExpanded:ue,onRowsRendered:re,onScroll:Re,onVerticalScroll:we}=ul(e);return o({scrollTo:F,scrollToLeft:L,scrollToTop:K,scrollToRow:B}),Jt(_t,{ns:l,isResetting:I,isScrolling:S}),()=>{const{cache:se,cellProps:Q,estimatedRowHeight:ce,expandColumnKey:Pe,fixedData:xe,headerHeight:Te,headerClass:Ve,headerProps:Ke,headerCellProps:he,sortBy:De,sortState:X,rowHeight:ee,rowClass:ie,rowEventHandlers:fe,rowKey:ne,rowProps:st,scrollbarAlwaysOn:Ze,indentSize:E,iconSize:H,useIsScrolling:_,vScrollbarSize:N,width:z}=e,A=n(g),P={cache:se,class:l.e("main"),columns:n(m),data:A,fixedData:xe,estimatedRowHeight:ce,bodyWidth:n(W),headerHeight:Te,headerWidth:n(W),height:n(h),mainTableRef:f,rowKey:ne,rowHeight:ee,scrollbarAlwaysOn:Ze,scrollbarStartGap:2,scrollbarEndGap:N,useIsScrolling:_,width:z,getRowHeight:G,onRowsRendered:re,onScroll:Re},$=n(v),k=n(i),Z={cache:se,class:l.e("left"),columns:n(c),data:A,fixedData:xe,estimatedRowHeight:ce,leftTableRef:b,rowHeight:ee,bodyWidth:$,headerWidth:$,headerHeight:Te,height:k,rowKey:ne,scrollbarAlwaysOn:Ze,scrollbarStartGap:2,scrollbarEndGap:N,useIsScrolling:_,width:$,getRowHeight:G,onScroll:we},oe=n(w),te={cache:se,class:l.e("right"),columns:n(s),data:A,fixedData:xe,estimatedRowHeight:ce,rightTableRef:T,rowHeight:ee,bodyWidth:oe,headerWidth:oe,headerHeight:Te,height:k,rowKey:ne,scrollbarAlwaysOn:Ze,scrollbarStartGap:2,scrollbarEndGap:N,width:oe,style:`${l.cssVarName("table-scrollbar-size")}: ${N}px`,useIsScrolling:_,getRowHeight:G,onScroll:we},q=n(a),je={ns:l,depthMap:n(y),columnsStyles:q,expandColumnKey:Pe,expandedRowKeys:n(d),estimatedRowHeight:ce,hasFixedColumns:n(u),rowProps:st,rowClass:ie,rowKey:ne,rowEventHandlers:fe,onRowHovered:ge,onRowExpanded:ue,onRowHeightChange:le},Je={cellProps:Q,expandColumnKey:Pe,indentSize:E,iconSize:H,rowKey:ne,expandedRowKeys:n(d),ns:l,t:r},_o={ns:l,headerClass:Ve,headerProps:Ke,columnsStyles:q},Lt={ns:l,t:r,sortBy:De,sortState:X,headerCellProps:he,onColumnSorted:U},me={row:ct=>C(Vl,Y(ct,je),{row:t.row,cell:ae=>{let Ee;return t.cell?C(Ut,Y(ae,Je,{style:q[ae.column.key]}),ke(Ee=t.cell(ae))?Ee:{default:()=>[Ee]}):C(Ut,Y(ae,Je,{style:q[ae.column.key]}),null)}}),header:ct=>C(Zl,Y(ct,_o),{header:t.header,cell:ae=>{let Ee;return t["header-cell"]?C(Yt,Y(ae,Lt,{style:q[ae.column.key]}),ke(Ee=t["header-cell"](ae))?Ee:{default:()=>[Ee]}):C(Yt,Y(ae,Lt,{style:q[ae.column.key]}),null)}})},Mo=[e.class,l.b(),l.e("root"),l.is("dynamic",n(M))],po={class:l.e("footer"),style:n(R)};return C("div",{class:Mo,style:n(j)},[C(pl,P,ke(me)?me:{default:()=>[me]}),C(Al,Z,ke(me)?me:{default:()=>[me]}),C(zl,te,ke(me)?me:{default:()=>[me]}),t.footer&&C(on,po,{default:t.footer}),n(O)&&C(ln,{class:l.e("empty"),style:n(V)},{default:t.empty}),t.overlay&&C(nn,{class:l.e("overlay")},{default:t.overlay})])}}});var sn=rn;const cn=de({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:p(Function)}}),dn=e=>{const t=D(),o=D(0),l=D(0);let r;return Ht(()=>{r=qo(t,([a])=>{const{width:c,height:s}=a.contentRect,{paddingLeft:m,paddingRight:h,paddingTop:i,paddingBottom:v}=getComputedStyle(a.target),w=Number.parseInt(m)||0,g=Number.parseInt(h)||0,y=Number.parseInt(i)||0,d=Number.parseInt(v)||0;o.value=c-w-g,l.value=s-y-d}).stop}),Zt(()=>{r?.()}),Ae([o,l],([a,c])=>{var s;(s=e.onResize)==null||s.call(e,{width:a,height:c})}),{sizer:t,width:o,height:l}},un=Se({name:"ElAutoResizer",props:cn,setup(e,{slots:t}){const o=Oe("auto-resizer"),{height:l,width:r,sizer:a}=dn(e),c={width:"100%",height:"100%"};return()=>{var s;return C("div",{ref:a,class:o.b(),style:c},[(s=t.default)==null?void 0:s.call(t,{height:l.value,width:r.value})])}}});var hn=un;const wn=eo(sn),bn=eo(hn);export{bn as E,uo as F,wn as a};
