var e=Object.defineProperty,a=Object.defineProperties,n=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(a,n,t)=>n in a?e(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,i=(e,a)=>{for(var n in a||(a={}))o.call(a,n)&&l(e,n,a[n]);if(t)for(var n of t(a))r.call(a,n)&&l(e,n,a[n]);return e},s=(e,t)=>a(e,n(t));import{E as c,a3 as d,_ as m,$ as u,a0 as f,a8 as p,l as g,a as b,o as h,f as v,e as C,b as y,w as P,P as U,Q as w,c as j,O,g as x}from"./vendor.6fbc78f0.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{u as _}from"./index.72c0e99f.js";import{_ as k}from"./index.dcfdef32.js";var T=".configPanel[data-v-2b539ba1] {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.configPanel .configTable[data-v-2b539ba1] {\n  flex: 1;\n  overflow: auto;\n}\n.configPanel .configOperator[data-v-2b539ba1] {\n  text-align: right;\n  margin-top: 0.8rem;\n}\n.commonConfigPanel[data-v-2b539ba1] {\n  margin-bottom: 0.8rem;\n}\n.ant-form-item[data-v-2b539ba1] {\n  margin-bottom: 0.8rem;\n}\n.ant-form-item[data-v-2b539ba1]:last-child {\n  margin-bottom: 0;\n}";const{TabPane:I}=d,{Item:S}=m,{Password:q}=u,{mapGetters:K,mapState:$,mapActions:B}=c("imgHosting"),E={name:"settings",components:{Tabs:d,TabPane:I,Form:m,Item:S,Input:u,Password:q,Button:f,Switch:p},data:()=>({uploaders:_,currentUploader:"aliyun",currentConfig:[],currentCommonConfig:{renameTimeStamp:!0}}),computed:i(i({},K(["config"])),$(["uploader","commonConfig"])),mounted(){this.uploader&&(this.currentUploader=this.uploader,this.changeUploader()),this.currentCommonConfig=g(this.commonConfig||{})},methods:s(i({},B(["saveConfig","saveCommonConfig"])),{changeUploader(){this.currentConfig=g(_[this.currentUploader].config(this.config(this.currentUploader)))},save(){const e={};for(const a of this.currentConfig){if(a.required&&(null==a.default||""===a.default))return void this.$msg.warn("必填项未填写完整");e[a.name]=a.default}this.saveConfig({uploader:this.currentUploader,config:e}),this.$msg.success("保存成功")}})},F={class:"commonConfigPanel"},A={class:"configPanel"},D={class:"configTable"},G={class:"configOperator"},H=x("保存");function Q(e,a,n,t,o,r){const l=b("Switch"),i=b("Item"),s=b("Form"),c=b("Input"),d=b("Password"),m=b("Button"),u=b("TabPane"),f=b("Tabs");return h(),v(U,null,[C("div",F,[y(s,{layout:"vertical"},{default:P((()=>[y(i,{label:"重命名时间戳"},{default:P((()=>[y(l,{checked:e.currentCommonConfig.renameTimeStamp,"onUpdate:checked":a[0]||(a[0]=a=>e.currentCommonConfig.renameTimeStamp=a),onChange:a[1]||(a[1]=a=>e.saveCommonConfig(e.currentCommonConfig))},null,8,["checked"])])),_:1})])),_:1})]),y(f,{activeKey:e.currentUploader,"onUpdate:activeKey":a[2]||(a[2]=a=>e.currentUploader=a),type:"card",onChange:r.changeUploader},{default:P((()=>[(h(!0),v(U,null,w(e.uploaders,((a,n)=>(h(),j(u,{key:n,tab:a.name},{default:P((()=>[C("div",A,[C("div",D,[e.currentUploader===n?(h(),j(s,{key:0,layout:"vertical"},{default:P((()=>[(h(!0),v(U,null,w(e.currentConfig,(e=>(h(),j(i,{key:e.name,label:e.label,required:e.required},{default:P((()=>["input"===e.type?(h(),j(c,{key:0,value:e.default,"onUpdate:value":a=>e.default=a,"allow-clear":"",placeholder:e.hint},null,8,["value","onUpdate:value","placeholder"])):"password"===e.type?(h(),j(d,{key:1,value:e.default,"onUpdate:value":a=>e.default=a,"allow-clear":"",placeholder:e.hint},null,8,["value","onUpdate:value","placeholder"])):O("",!0)])),_:2},1032,["label","required"])))),128))])),_:2},1024)):O("",!0)]),C("div",G,[y(m,{type:"primary",onClick:r.save},{default:P((()=>[H])),_:1},8,["onClick"])])])])),_:2},1032,["tab"])))),128))])),_:1},8,["activeKey","onChange"])],64)}var z=k(E,[["render",Q],["__scopeId","data-v-2b539ba1"]]);export{z as default};
