import{e as $,J as Se,g as f,I as he,P as j,L as _,Z as Oe,b as m,a2 as v,h as Q,a6 as re,ae as xe,Q as k}from"./index.dce6f2f8.js";var ae=Symbol("OverflowContextProviderKey"),J=$({name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup:function(e,a){var t=a.slots;return Se(ae,f(function(){return e.value})),function(){var n;return(n=t.default)===null||n===void 0?void 0:n.call(t)}}}),Ce=function(){return he(ae,f(function(){return null}))},_e=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},E=void 0,V=$({name:"Item",props:{prefixCls:String,item:j.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:j.any,invalidate:Boolean},setup:function(e,a){var t=a.slots,n=a.expose,d=f(function(){return e.responsive&&!e.display}),w=_();n({itemNodeRef:w});function s(c){e.registerSize(e.itemKey,c)}return Oe(function(){s(null)}),function(){var c,I=e.prefixCls,y=e.invalidate,S=e.item,g=e.renderItem,R=e.responsive;e.registerSize,e.itemKey,e.display;var O=e.order,p=e.component,P=p===void 0?"div":p,M=_e(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),N=(c=t.default)===null||c===void 0?void 0:c.call(t),T=g&&S!==E?g(S):N,D;y||(D={opacity:d.value?0:1,height:d.value?0:E,overflowY:d.value?"hidden":E,order:R?O:E,pointerEvents:d.value?"none":E,position:d.value?"absolute":E});var x={};return d.value&&(x["aria-hidden"]=!0),m(re,{disabled:!R,onResize:function(z){var L=z.offsetWidth;s(L)}},{default:function(){return m(P,v(v(v({class:Q(!y&&I),style:D},x),M),{},{ref:w}),{default:function(){return[T]}})}})}}}),H=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},Re=$({name:"RawItem",inheritAttrs:!1,props:{component:j.any,title:j.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function}},setup:function(e,a){var t=a.slots,n=a.attrs,d=Ce();return function(){var w;if(!d.value){var s=e.component,c=s===void 0?"div":s,I=H(e,["component"]);return m(c,v(v({},I),n),{default:function(){return[(w=t.default)===null||w===void 0?void 0:w.call(t)]}})}var y=d.value,S=y.className,g=H(y,["className"]),R=n.class,O=H(n,["class"]);return m(J,{value:null},{default:function(){return[m(V,v(v(v({class:Q(S,R)},g),O),e),t)]}})}}}),Ne=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},ue="responsive",le="invalidate";function pe(r){return"+ ".concat(r.length," ...")}var Ie=function(){return{id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:j.any,component:String,itemComponent:j.any,onVisibleChange:Function,ssr:String,onMousedown:Function}},B=$({name:"Overflow",inheritAttrs:!1,props:Ie(),emits:["visibleChange"],setup:function(e,a){var t=a.attrs,n=a.emit,d=f(function(){return e.ssr==="full"}),w=_(null),s=f(function(){return w.value||0}),c=_(new Map),I=_(0),y=_(0),S=_(0),g=_(null),R=_(null),O=f(function(){return R.value===null&&d.value?Number.MAX_SAFE_INTEGER:R.value||0}),p=_(!1),P=f(function(){return"".concat(e.prefixCls,"-item")}),M=f(function(){return Math.max(I.value,y.value)}),N=f(function(){return!!(e.data.length&&e.maxCount===ue)}),T=f(function(){return e.maxCount===le}),D=f(function(){return N.value||typeof e.maxCount=="number"&&e.data.length>e.maxCount}),x=f(function(){var u=e.data;return N.value?w.value===null&&d.value?u=e.data:u=e.data.slice(0,Math.min(e.data.length,s.value/e.itemWidth)):typeof e.maxCount=="number"&&(u=e.data.slice(0,e.maxCount)),u}),K=f(function(){return N.value?e.data.slice(O.value+1):e.data.slice(x.value.length)}),z=function(l,i){var o,C;return typeof e.itemKey=="function"?e.itemKey(l):(C=e.itemKey&&((o=l)===null||o===void 0?void 0:o[e.itemKey]))!==null&&C!==void 0?C:i},L=f(function(){return e.renderItem||function(u){return u}}),W=function(l,i){R.value=l,i||(p.value=l<e.data.length-1,n("visibleChange",l))},ie=function(l,i){w.value=i.clientWidth},Y=function(l,i){var o=new Map(c.value);i===null?o.delete(l):o.set(l,i),c.value=o},oe=function(l,i){I.value=y.value,y.value=i},ve=function(l,i){S.value=i},G=function(l){return c.value.get(z(x.value[l],l))};return xe([s,c,y,S,function(){return e.itemKey},x],function(){if(s.value&&M.value&&x.value){var u=S.value,l=x.value.length,i=l-1;if(!l){W(0),g.value=null;return}for(var o=0;o<l;o+=1){var C=G(o);if(C===void 0){W(o-1,!0);break}if(u+=C,i===0&&u<=s.value||o===i-1&&u+G(i)<=s.value){W(i),g.value=null;break}else if(u+M.value>s.value){W(o-1),g.value=u-C-S.value+y.value;break}}e.suffix&&G(0)+S.value>s.value&&(g.value=null)}}),function(){var u=p.value&&!!K.value.length,l=e.itemComponent,i=e.renderRawItem,o=e.renderRawRest,C=e.renderRest,Z=e.prefixCls,fe=Z===void 0?"rc-overflow":Z,q=e.suffix,ee=e.component,se=ee===void 0?"div":ee,de=e.id,ce=e.onMousedown,me=t.class,ye=t.style,ge=Ne(t,["class","style"]),te={};g.value!==null&&N.value&&(te={position:"absolute",left:"".concat(g.value,"px"),top:0});var A={prefixCls:P.value,responsive:N.value,component:l,invalidate:T.value},be=i?function(h,b){var F=z(h,b);return m(J,{key:F,value:k(k({},A),{order:b,item:h,itemKey:F,registerSize:Y,display:b<=O.value})},{default:function(){return[i(h,b)]}})}:function(h,b){var F=z(h,b);return m(V,v(v({},A),{},{order:b,key:F,item:h,renderItem:L.value,itemKey:F,registerSize:Y,display:b<=O.value}),null)},U=function(){return null},ne={order:u?O.value:Number.MAX_SAFE_INTEGER,className:"".concat(P.value," ").concat(P.value,"-rest"),registerSize:oe,display:u};if(o)o&&(U=function(){return m(J,{value:k(k({},A),ne)},{default:function(){return[o(K.value)]}})});else{var X=C||pe;U=function(){return m(V,v(v({},A),ne),{default:function(){return typeof X=="function"?X(K.value):X}})}}var we=function(){return m(se,v({id:de,class:Q(!T.value&&fe,me),style:ye,onMousedown:ce},ge),{default:function(){return[x.value.map(be),D.value?U():null,q&&m(V,v(v({},A),{},{order:O.value,class:"".concat(P.value,"-suffix"),registerSize:ve,display:!0,style:te}),{default:function(){return q}})]}})};return m(re,{disabled:!N.value,onResize:ie},{default:we})}}});B.Item=Re;B.RESPONSIVE=ue;B.INVALIDATE=le;var Fe=B;export{Fe as O};
