import{d as B,I as he,f as d,H as xe,P as K,K as C,bo as Ce,a as m,Y as f,g as q,bk as re,S as _e,O as V}from"./index.6b075e9a.js";var ae=Symbol("OverflowContextProviderKey"),Y=B({name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup:function(e,a){var t=a.slots;return he(ae,d(function(){return e.value})),function(){var n;return(n=t.default)===null||n===void 0?void 0:n.call(t)}}}),Re=function(){return xe(ae,d(function(){return null}))},Ne=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},E=void 0,$=B({name:"Item",props:{prefixCls:String,item:K.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:K.any,invalidate:Boolean},setup:function(e,a){var t=a.slots,n=a.expose,c=d(function(){return e.responsive&&!e.display}),O=C();n({itemNodeRef:O});function h(v){e.registerSize(e.itemKey,v)}return Ce(function(){h(null)}),function(){var v,_=e.prefixCls,R=e.invalidate,g=e.item,b=e.renderItem,y=e.responsive;e.registerSize,e.itemKey,e.display;var I=e.order,S=e.component,T=S===void 0?"div":S,P=Ne(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),k=(v=t.default)===null||v===void 0?void 0:v.call(t),N=b&&g!==E?b(g):k,j;R||(j={opacity:c.value?0:1,height:c.value?0:E,overflowY:c.value?"hidden":E,order:y?I:E,pointerEvents:c.value?"none":E,position:c.value?"absolute":E});var D={};return c.value&&(D["aria-hidden"]=!0),m(re,{disabled:!y,onResize:function(z){var A=z.offsetWidth;h(A)}},{default:function(){return m(T,f(f(f({class:q(!R&&_),style:j},D),P),{},{ref:O}),{default:function(){return[N]}})}})}}}),X=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},pe=B({name:"RawItem",inheritAttrs:!1,props:{component:K.any,title:K.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function}},setup:function(e,a){var t=a.slots,n=a.attrs,c=Re();return function(){var O;if(!c.value){var h=e.component,v=h===void 0?"div":h,_=X(e,["component"]);return m(v,f(f({},_),n),{default:function(){return[(O=t.default)===null||O===void 0?void 0:O.call(t)]}})}var R=c.value,g=R.className,b=X(R,["className"]),y=n.class,I=X(n,["class"]);return m(Y,{value:null},{default:function(){return[m($,f(f(f({class:q(g,y)},b),I),e),t)]}})}}}),Ie=globalThis&&globalThis.__rest||function(r,e){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a},le="responsive",ue="invalidate";function Pe(r){return"+ ".concat(r.length," ...")}var ze=function(){return{id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:K.any,component:String,itemComponent:K.any,onVisibleChange:Function,ssr:String,onMousedown:Function}},G=B({name:"Overflow",inheritAttrs:!1,props:ze(),emits:["visibleChange"],setup:function(e,a){var t=a.attrs,n=a.emit,c=a.slots,O=d(function(){return e.ssr==="full"}),h=C(null),v=d(function(){return h.value||0}),_=C(new Map),R=C(0),g=C(0),b=C(0),y=C(null),I=C(null),S=d(function(){return I.value===null&&O.value?Number.MAX_SAFE_INTEGER:I.value||0}),T=C(!1),P=d(function(){return"".concat(e.prefixCls,"-item")}),k=d(function(){return Math.max(R.value,g.value)}),N=d(function(){return!!(e.data.length&&e.maxCount===le)}),j=d(function(){return e.maxCount===ue}),D=d(function(){return N.value||typeof e.maxCount=="number"&&e.data.length>e.maxCount}),p=d(function(){var l=e.data;return N.value?h.value===null&&O.value?l=e.data:l=e.data.slice(0,Math.min(e.data.length,v.value/e.itemWidth)):typeof e.maxCount=="number"&&(l=e.data.slice(0,e.maxCount)),l}),z=d(function(){return N.value?e.data.slice(S.value+1):e.data.slice(p.value.length)}),A=function(u,i){var o,x;return typeof e.itemKey=="function"?e.itemKey(u):(x=e.itemKey&&((o=u)===null||o===void 0?void 0:o[e.itemKey]))!==null&&x!==void 0?x:i},ie=d(function(){return e.renderItem||function(l){return l}}),W=function(u,i){I.value=u,i||(T.value=u<e.data.length-1,n("visibleChange",u))},oe=function(u,i){h.value=i.clientWidth},J=function(u,i){var o=new Map(_.value);i===null?o.delete(u):o.set(u,i),_.value=o},ve=function(u,i){R.value=g.value,g.value=i},fe=function(u,i){b.value=i},H=function(u){return _.value.get(A(p.value[u],u))};return _e([v,_,g,b,function(){return e.itemKey},p],function(){if(v.value&&k.value&&p.value){var l=b.value,u=p.value.length,i=u-1;if(!u){W(0),y.value=null;return}for(var o=0;o<u;o+=1){var x=H(o);if(x===void 0){W(o-1,!0);break}if(l+=x,i===0&&l<=v.value||o===i-1&&l+H(i)<=v.value){W(i),y.value=null;break}else if(l+k.value>v.value){W(o-1),y.value=l-x-b.value+g.value;break}}e.suffix&&H(0)+b.value>v.value&&(y.value=null)}}),function(){var l=T.value&&!!z.value.length,u=e.itemComponent,i=e.renderRawItem,o=e.renderRawRest,x=e.renderRest,Q=e.prefixCls,se=Q===void 0?"rc-overflow":Q,Z=e.suffix,ee=e.component,de=ee===void 0?"div":ee,ce=e.id,me=e.onMousedown,ye=t.class,ge=t.style,be=Ie(t,["class","style"]),te={};y.value!==null&&N.value&&(te={position:"absolute",left:"".concat(y.value,"px"),top:0});var M={prefixCls:P.value,responsive:N.value,component:u,invalidate:j.value},Se=i?function(w,s){var F=A(w,s);return m(Y,{key:F,value:V(V({},M),{order:s,item:w,itemKey:F,registerSize:J,display:s<=S.value})},{default:function(){return[i(w,s)]}})}:function(w,s){var F=A(w,s);return m($,f(f({},M),{},{order:s,key:F,item:w,renderItem:ie.value,itemKey:F,registerSize:J,display:s<=S.value}),null)},L=function(){return null},ne={order:l?S.value:Number.MAX_SAFE_INTEGER,className:"".concat(P.value," ").concat(P.value,"-rest"),registerSize:ve,display:l};if(o)o&&(L=function(){return m(Y,{value:V(V({},M),ne)},{default:function(){return[o(z.value)]}})});else{var U=x||Pe;L=function(){return m($,f(f({},M),ne),{default:function(){return typeof U=="function"?U(z.value):U}})}}var we=function(){var s;return m(de,f({id:ce,class:q(!j.value&&se,ye),style:ge,onMousedown:me},be),{default:function(){return[p.value.map(Se),D.value?L():null,Z&&m($,f(f({},M),{},{order:S.value,class:"".concat(P.value,"-suffix"),registerSize:fe,display:!0,style:te}),{default:function(){return Z}}),(s=c.default)===null||s===void 0?void 0:s.call(c)]}})};return m(re,{disabled:!N.value,onResize:oe},{default:we})}}});G.Item=pe;G.RESPONSIVE=le;G.INVALIDATE=ue;var Ee=G;export{Ee as O};
