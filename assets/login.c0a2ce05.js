import{d as I,r as u,u as q,cP as z,bf as K,p as S,o as E,L as Q,M as i,a as t,w as s,k as a,b_ as h,b as w,cQ as U,$ as m,I as V,B as D,bh as L,bi as P,_ as R}from"./index.ae07ae9c.js";/* empty css              *//* empty css               */import{_ as $,F as M}from"./Form.2526de11.js";import{_ as O}from"./Password.66a170e6.js";import"./Col.e66b75c0.js";import"./responsiveObserve.ee522443.js";import"./useFlexGapSupport.2c8ccc1e.js";import"./toArray.88a764c0.js";import"./get.c61b3778.js";import"./_baseGet.2820b254.js";import"./toString.91d5579e.js";import"./_arrayMap.dc1f124f.js";import"./_flatRest.6a791d79.js";import"./toInteger.64c43e44.js";import"./toFinite.c10c9a20.js";import"./_arrayIncludesWith.40afec22.js";import"./collapseMotion.8c55a50b.js";import"./EyeOutlined.90806b6b.js";const b=n=>(L("data-v-70d7b8f7"),n=n(),P(),n),T={class:"login-container"},j={class:"main"},A=b(()=>i("span",{class:"i-icon-park-outline-user",style:{color:"rgba(0,0,0,.25)"}},null,-1)),G=b(()=>i("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),H={class:"btn-wrapper"},J=I({__name:"login",setup(n){const o=u({userName:"",password:""}),f=u(),g=u({}),l=u(!1),v=q(),B=z(),F=K();S(B,function(r){const e=r.query;e&&(typeof e.redirect=="string"&&(f.value=e.redirect),g.value=k(e))},{immediate:!0});async function p(){if(!navigator.onLine){m.warn("\u5DF2\u79BB\u7EBF\uFF01");return}if(o.value.userName!=null&&o.value.password!=null){l.value=!0;try{await F.login({userName:o.value.userName,password:o.value.password}),m.success("\u767B\u5F55\u6210\u529F\uFF01"),v.push({path:f.value||"/",query:g.value})}catch(r){r instanceof Error&&m.error(r.message)}l.value=!1}}function k(r){const{redirect:e,...c}=r;return c}function x(){v.push("/register")}return(r,e)=>{const c=V,_=$,N=O,y=D,C=M;return E(),Q("div",T,[i("div",j,[t(C,U({layout:"horizontal",model:a(o)},{wrapperCol:{span:24}}),{default:s(()=>[t(_,{required:""},{default:s(()=>[t(c,{value:a(o).userName,"onUpdate:value":e[0]||(e[0]=d=>a(o).userName=d),placeholder:"\u8D26\u6237",size:"large",onKeypress:h(p,["enter"])},{prefix:s(()=>[A]),_:1},8,["value","onKeypress"])]),_:1}),t(_,{required:""},{default:s(()=>[t(N,{value:a(o).password,"onUpdate:value":e[1]||(e[1]=d=>a(o).password=d),placeholder:"\u5BC6\u7801",size:"large",onKeypress:h(p,["enter"])},{prefix:s(()=>[G]),_:1},8,["value","onKeypress"])]),_:1}),t(_,null,{default:s(()=>[i("div",H,[t(y,{type:"primary",block:"",size:"large",loading:a(l),onClick:p},{default:s(()=>[w(" \u767B\u5F55 ")]),_:1},8,["loading"]),t(y,{block:"",size:"large",onClick:x},{default:s(()=>[w(" \u6CE8\u518C ")]),_:1})])]),_:1})]),_:1},16,["model"])])])}}});const fe=R(J,[["__scopeId","data-v-70d7b8f7"]]);export{fe as default};
