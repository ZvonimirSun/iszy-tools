import{_ as Qe,k as Ie,u as Oe,q as oe,r as K,w as H,s as ut,aB as nr,aC as rr,x as T,ah as ar,z as Pt,aD as nt,aE as or,aF as Me,aG as Re,a4 as sr,aH as Je,aI as Tt,p as ir,aJ as Ct,al as rt,l as Ee,ag as wt,I as Be,R as V,aK as tt,aL as ur,V as ke,ai as at,an as ot,E as z,F as L,K as G,G as U,y as dr,v as he,$ as me,t as cr,Y as fe,Z as $e,aM as lr,aN as fr,a7 as ce,aO as hr,a8 as jt,T as pr,a5 as mr,aP as gr,aQ as ge,H as ee,aR as yr,aS as vr,n as St,aT as kr,aU as br,N as Z,X as xt,W as Nr,aV as Cr,aA as wr,aW as Dt,a0 as xr}from"./index-CG8Xhv7v.js";import{E as Dr}from"./el-checkbox-COhdTtip.js";import{E as Er}from"./el-text-izsaE_ld.js";/* empty css               */import{s as Ir,a as Or,E as Pr}from"./el-select-B7MGzNXm.js";import"./el-popper-DZR2K7yN.js";import{E as Tr}from"./el-pagination-eqfno_Ie.js";import{E as jr}from"./el-divider-DfqM7QWx.js";import{L as Sr,P as qr,T as Kr,a as Ar,b as _r}from"./Router-Cn2HKYA9.js";import{E as Rr}from"./index-BhMAMU7-.js";import"./strings-lrnfZ0hZ.js";import"./castArray-BczT6YY5.js";import"./_baseIteratee-DsCp5G5U.js";import"./index-d_zk_s1o.js";import"./index-Al8x0y5d.js";import"./isUndefined-DCTLXrZ8.js";const $r=Ie({name:"ElCollapseTransition"}),Br=Ie({...$r,setup(s){const o=Oe("collapse-transition"),i=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},c={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){i(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){i(t)},leaveCancelled(t){i(t)}};return(t,d)=>(K(),oe(ar,nr({name:T(o).b()},rr(c)),{default:H(()=>[ut(t.$slots,"default")]),_:3},16,["name"]))}});var Lr=Qe(Br,[["__file","collapse-transition.vue"]]);const Fr=Pt(Lr),De="$treeNodeId",Et=function(s,o){!o||o[De]||Object.defineProperty(o,De,{value:s.id,enumerable:!1,configurable:!1,writable:!1})},dt=(s,o)=>o==null?void 0:o[s||De],st=(s,o,i)=>{const c=s.value.currentNode;i();const t=s.value.currentNode;c!==t&&o("current-change",t?t.data:null,t)},it=s=>{let o=!0,i=!0,c=!0;for(let t=0,d=s.length;t<d;t++){const p=s[t];(p.checked!==!0||p.indeterminate)&&(o=!1,p.disabled||(c=!1)),(p.checked!==!1||p.indeterminate)&&(i=!1)}return{all:o,none:i,allWithoutDisable:c,half:!o&&!i}},_e=function(s){if(s.childNodes.length===0||s.loading)return;const{all:o,none:i,half:c}=it(s.childNodes);o?(s.checked=!0,s.indeterminate=!1):c?(s.checked=!1,s.indeterminate=!0):i&&(s.checked=!1,s.indeterminate=!1);const t=s.parent;!t||t.level===0||s.store.checkStrictly||_e(t)},He=function(s,o){const i=s.store.props,c=s.data||{},t=i[o];if(Je(t))return t(c,s);if(Tt(t))return c[t];if(Re(t)){const d=c[o];return Re(d)?"":d}};let zr=0;class be{constructor(o){this.id=zr++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in o)nt(o,i)&&(this[i]=o[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const o=this.store;if(!o)throw new Error("[Node]store is required!");o.registerNode(this);const i=o.props;if(i&&typeof i.isLeaf<"u"){const d=He(this,"isLeaf");or(d)&&(this.isLeafByUser=d)}if(o.lazy!==!0&&this.data?(this.setData(this.data),o.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&o.lazy&&o.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Me(this.data)||Et(this,this.data),!this.data)return;const c=o.defaultExpandedKeys,t=o.key;t&&c&&c.includes(this.key)&&this.expand(null,o.autoExpandParent),t&&o.currentNodeKey!==void 0&&this.key===o.currentNodeKey&&(o.currentNode=this,o.currentNode.isCurrent=!0),o.lazy&&o._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(o){Me(o)||Et(this,o),this.data=o,this.childNodes=[];let i;this.level===0&&Me(this.data)?i=this.data:i=He(this,"children")||[];for(let c=0,t=i.length;c<t;c++)this.insertChild({data:i[c]})}get label(){return He(this,"label")}get key(){const o=this.store.key;return this.data?this.data[o]:null}get disabled(){return He(this,"disabled")}get nextSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return o.childNodes[i+1]}return null}get previousSibling(){const o=this.parent;if(o){const i=o.childNodes.indexOf(this);if(i>-1)return i>0?o.childNodes[i-1]:null}return null}contains(o,i=!0){return(this.childNodes||[]).some(c=>c===o||i&&c.contains(o))}remove(){const o=this.parent;o&&o.removeChild(this)}insertChild(o,i,c){if(!o)throw new Error("InsertChild error: child is required.");if(!(o instanceof be)){if(!c){const t=this.getChildren(!0);t.includes(o.data)||(Re(i)||i<0?t.push(o.data):t.splice(i,0,o.data))}Object.assign(o,{parent:this,store:this.store}),o=sr(new be(o)),o instanceof be&&o.initialize()}o.level=this.level+1,Re(i)||i<0?this.childNodes.push(o):this.childNodes.splice(i,0,o),this.updateLeafState()}insertBefore(o,i){let c;i&&(c=this.childNodes.indexOf(i)),this.insertChild(o,c)}insertAfter(o,i){let c;i&&(c=this.childNodes.indexOf(i),c!==-1&&(c+=1)),this.insertChild(o,c)}removeChild(o){const i=this.getChildren()||[],c=i.indexOf(o.data);c>-1&&i.splice(c,1);const t=this.childNodes.indexOf(o);t>-1&&(this.store&&this.store.deregisterNode(o),o.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()}removeChildByData(o){let i=null;for(let c=0;c<this.childNodes.length;c++)if(this.childNodes[c].data===o){i=this.childNodes[c];break}i&&this.removeChild(i)}expand(o,i){const c=()=>{if(i){let t=this.parent;for(;t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,o&&o(),this.childNodes.forEach(t=>{t.canFocus=!0})};this.shouldLoadData()?this.loadData(t=>{Me(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||_e(this),c())}):c()}doCreateChildren(o,i={}){o.forEach(c=>{this.insertChild(Object.assign({data:c},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(o=>{o.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const o=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!o||o.length===0;return}this.isLeaf=!1}setChecked(o,i,c,t){if(this.indeterminate=o==="half",this.checked=o===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:p,allWithoutDisable:x}=it(this.childNodes);!this.isLeaf&&!p&&x&&(this.checked=!1,o=!1);const P=()=>{if(i){const N=this.childNodes;for(let D=0,b=N.length;D<b;D++){const $=N[D];t=t||o!==!1;const F=$.disabled?$.checked:t;$.setChecked(F,i,!0,t)}const{half:y,all:j}=it(N);j||(this.checked=j,this.indeterminate=y)}};if(this.shouldLoadData()){this.loadData(()=>{P(),_e(this)},{checked:o!==!1});return}else P()}const d=this.parent;!d||d.level===0||c||_e(d)}getChildren(o=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const c=this.store.props;let t="children";return c&&(t=c.children||"children"),Re(i[t])&&(i[t]=null),o&&!i[t]&&(i[t]=[]),i[t]}updateChildren(){const o=this.getChildren()||[],i=this.childNodes.map(d=>d.data),c={},t=[];o.forEach((d,p)=>{const x=d[De];!!x&&i.findIndex(N=>N[De]===x)>=0?c[x]={index:p,data:d}:t.push({index:p,data:d})}),this.store.lazy||i.forEach(d=>{c[d[De]]||this.removeChildByData(d)}),t.forEach(({index:d,data:p})=>{this.insertChild({data:p},d)}),this.updateLeafState()}loadData(o,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const c=d=>{this.childNodes=[],this.doCreateChildren(d,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),o&&o.call(this,d)},t=()=>{this.loading=!1};this.store.load(this,c,t)}else o&&o.call(this)}eachNode(o){const i=[this];for(;i.length;){const c=i.shift();i.unshift(...c.childNodes),o(c)}}reInitChecked(){this.store.checkStrictly||_e(this)}}class Mr{constructor(o){this.currentNode=null,this.currentNodeKey=null;for(const i in o)nt(o,i)&&(this[i]=o[i]);this.nodesMap={}}initialize(){if(this.root=new be({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const o=this.load;o(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(o){const i=this.filterNodeMethod,c=this.lazy,t=async function(d){const p=d.root?d.root.childNodes:d.childNodes;for(const[x,P]of p.entries())P.visible=i.call(P,o,P.data,P),x%80===0&&x>0&&await rt(),await t(P);if(!d.visible&&p.length){let x=!0;x=!p.some(P=>P.visible),d.root?d.root.visible=x===!1:d.visible=x===!1}o&&d.visible&&!d.isLeaf&&(!c||d.loaded)&&d.expand()};t(this)}setData(o){o!==this.root.data?(this.nodesMap={},this.root.setData(o),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(o){if(o instanceof be)return o;const i=ir(o)?dt(this.key,o):o;return this.nodesMap[i]||null}insertBefore(o,i){const c=this.getNode(i);c.parent.insertBefore({data:o},c)}insertAfter(o,i){const c=this.getNode(i);c.parent.insertAfter({data:o},c)}remove(o){const i=this.getNode(o);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(o,i){const c=Ct(i)?this.root:this.getNode(i);c&&c.insertChild({data:o})}_initDefaultCheckedNodes(){const o=this.defaultCheckedKeys||[],i=this.nodesMap;o.forEach(c=>{const t=i[c];t&&t.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(o){(this.defaultCheckedKeys||[]).includes(o.key)&&o.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(o){o!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=o,this._initDefaultCheckedNodes())}registerNode(o){const i=this.key;!o||!o.data||(i?o.key!==void 0&&(this.nodesMap[o.key]=o):this.nodesMap[o.id]=o)}deregisterNode(o){!this.key||!o||!o.data||(o.childNodes.forEach(c=>{this.deregisterNode(c)}),delete this.nodesMap[o.key])}getCheckedNodes(o=!1,i=!1){const c=[],t=function(d){(d.root?d.root.childNodes:d.childNodes).forEach(x=>{(x.checked||i&&x.indeterminate)&&(!o||o&&x.isLeaf)&&c.push(x.data),t(x)})};return t(this),c}getCheckedKeys(o=!1){return this.getCheckedNodes(o).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const o=[],i=function(c){(c.root?c.root.childNodes:c.childNodes).forEach(d=>{d.indeterminate&&o.push(d.data),i(d)})};return i(this),o}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(o=>(o||{})[this.key])}_getAllNodes(){const o=[],i=this.nodesMap;for(const c in i)nt(i,c)&&o.push(i[c]);return o}updateChildren(o,i){const c=this.nodesMap[o];if(!c)return;const t=c.childNodes;for(let d=t.length-1;d>=0;d--){const p=t[d];this.remove(p.data)}for(let d=0,p=i.length;d<p;d++){const x=i[d];this.append(x,c.data)}}_setCheckedKeys(o,i=!1,c){const t=this._getAllNodes().sort((P,N)=>P.level-N.level),d=Object.create(null),p=Object.keys(c);t.forEach(P=>P.setChecked(!1,!1));const x=P=>{P.childNodes.forEach(N=>{var y;d[N.data[o]]=!0,(y=N.childNodes)!=null&&y.length&&x(N)})};for(let P=0,N=t.length;P<N;P++){const y=t[P],j=y.data[o].toString();if(!p.includes(j)){y.checked&&!d[j]&&y.setChecked(!1,!1);continue}if(y.childNodes.length&&x(y),y.isLeaf||this.checkStrictly){y.setChecked(!0,!1);continue}if(y.setChecked(!0,!0),i){y.setChecked(!1,!1);const b=function($){$.childNodes.forEach(w=>{w.isLeaf||w.setChecked(!1,!1),b(w)})};b(y)}}}setCheckedNodes(o,i=!1){const c=this.key,t={};o.forEach(d=>{t[(d||{})[c]]=!0}),this._setCheckedKeys(c,i,t)}setCheckedKeys(o,i=!1){this.defaultCheckedKeys=o;const c=this.key,t={};o.forEach(d=>{t[d]=!0}),this._setCheckedKeys(c,i,t)}setDefaultExpandedKeys(o){o=o||[],this.defaultExpandedKeys=o,o.forEach(i=>{const c=this.getNode(i);c&&c.expand(null,this.autoExpandParent)})}setChecked(o,i,c){const t=this.getNode(o);t&&t.setChecked(!!i,c)}getCurrentNode(){return this.currentNode}setCurrentNode(o){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=o,this.currentNode.isCurrent=!0}setUserCurrentNode(o,i=!0){const c=o[this.key],t=this.nodesMap[c];this.setCurrentNode(t),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(o,i=!0){if(this.currentNodeKey=o,Ct(o)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const c=this.getNode(o);c&&(this.setCurrentNode(c),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Hr=Ie({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(s){const o=Oe("tree"),i=Ee("NodeInstance"),c=Ee("RootTree");return()=>{const t=s.node,{data:d,store:p}=t;return s.renderContent?s.renderContent(wt,{_self:i,node:t,data:d,store:p}):ut(c.ctx.slots,"default",{node:t,data:d},()=>[wt(Er,{tag:"span",truncated:!0,class:o.be("node","label")},()=>[t.label])])}}});var Ur=Qe(Hr,[["__file","tree-node-content.vue"]]);function qt(s){const o=Ee("TreeNodeMap",null),i={treeNodeExpand:c=>{s.node!==c&&s.node.collapse()},children:[]};return o&&o.children.push(i),Be("TreeNodeMap",i),{broadcastExpanded:c=>{if(s.accordion)for(const t of i.children)t.treeNodeExpand(c)}}}const Kt=Symbol("dragEvents");function Jr({props:s,ctx:o,el$:i,dropIndicator$:c,store:t}){const d=Oe("tree"),p=V({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Be(Kt,{treeNodeDragStart:({event:y,treeNode:j})=>{if(Je(s.allowDrag)&&!s.allowDrag(j.node))return y.preventDefault(),!1;y.dataTransfer.effectAllowed="move";try{y.dataTransfer.setData("text/plain","")}catch{}p.value.draggingNode=j,o.emit("node-drag-start",j.node,y)},treeNodeDragOver:({event:y,treeNode:j})=>{const D=j,b=p.value.dropNode;b&&b.node.id!==D.node.id&&tt(b.$el,d.is("drop-inner"));const $=p.value.draggingNode;if(!$||!D)return;let F=!0,w=!0,X=!0,J=!0;Je(s.allowDrop)&&(F=s.allowDrop($.node,D.node,"prev"),J=w=s.allowDrop($.node,D.node,"inner"),X=s.allowDrop($.node,D.node,"next")),y.dataTransfer.dropEffect=w||F||X?"move":"none",(F||w||X)&&(b==null?void 0:b.node.id)!==D.node.id&&(b&&o.emit("node-drag-leave",$.node,b.node,y),o.emit("node-drag-enter",$.node,D.node,y)),F||w||X?p.value.dropNode=D:p.value.dropNode=null,D.node.nextSibling===$.node&&(X=!1),D.node.previousSibling===$.node&&(F=!1),D.node.contains($.node,!1)&&(w=!1),($.node===D.node||$.node.contains(D.node))&&(F=!1,w=!1,X=!1);const te=D.$el.querySelector(`.${d.be("node","content")}`).getBoundingClientRect(),W=i.value.getBoundingClientRect();let v;const B=F?w?.25:X?.45:1:-1,re=X?w?.75:F?.55:0:1;let ne=-9999;const O=y.clientY-te.top;O<te.height*B?v="before":O>te.height*re?v="after":w?v="inner":v="none";const E=D.$el.querySelector(`.${d.be("node","expand-icon")}`).getBoundingClientRect(),I=c.value;v==="before"?ne=E.top-W.top:v==="after"&&(ne=E.bottom-W.top),I.style.top=`${ne}px`,I.style.left=`${E.right-W.left}px`,v==="inner"?ur(D.$el,d.is("drop-inner")):tt(D.$el,d.is("drop-inner")),p.value.showDropIndicator=v==="before"||v==="after",p.value.allowDrop=p.value.showDropIndicator||J,p.value.dropType=v,o.emit("node-drag-over",$.node,D.node,y)},treeNodeDragEnd:y=>{const{draggingNode:j,dropType:D,dropNode:b}=p.value;if(y.preventDefault(),y.dataTransfer&&(y.dataTransfer.dropEffect="move"),j&&b){const $={data:j.node.data};D!=="none"&&j.node.remove(),D==="before"?b.node.parent.insertBefore($,b.node):D==="after"?b.node.parent.insertAfter($,b.node):D==="inner"&&b.node.insertChild($),D!=="none"&&(t.value.registerNode($),t.value.key&&j.node.eachNode(F=>{var w;(w=t.value.nodesMap[F.data[t.value.key]])==null||w.setChecked(F.checked,!t.value.checkStrictly)})),tt(b.$el,d.is("drop-inner")),o.emit("node-drag-end",j.node,b.node,D,y),D!=="none"&&o.emit("node-drop",j.node,b.node,D,y)}j&&!b&&o.emit("node-drag-end",j.node,null,D,y),p.value.showDropIndicator=!1,p.value.draggingNode=null,p.value.dropNode=null,p.value.allowDrop=!0}}),{dragState:p}}const Qr=Ie({name:"ElTreeNode",components:{ElCollapseTransition:Fr,ElCheckbox:Dr,NodeContent:Ur,ElIcon:fr,Loading:lr},props:{node:{type:be,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(s,o){const i=Oe("tree"),{broadcastExpanded:c}=qt(s),t=Ee("RootTree"),d=V(!1),p=V(!1),x=V(),P=V(),N=V(),y=Ee(Kt),j=jt();Be("NodeInstance",j),s.node.expanded&&(d.value=!0,p.value=!0);const D=t.props.props.children||"children";ce(()=>{var O;const E=(O=s.node.data)==null?void 0:O[D];return E&&[...E]},()=>{s.node.updateChildren()}),ce(()=>s.node.indeterminate,O=>{F(s.node.checked,O)}),ce(()=>s.node.checked,O=>{F(O,s.node.indeterminate)}),ce(()=>s.node.childNodes.length,()=>s.node.reInitChecked()),ce(()=>s.node.expanded,O=>{rt(()=>d.value=O),O&&(p.value=!0)});const b=O=>dt(t.props.nodeKey,O.data),$=O=>{const E=s.props.class;if(!E)return{};let I;if(Je(E)){const{data:de}=O;I=E(de,O)}else I=E;return Tt(I)?{[I]:!0}:I},F=(O,E)=>{(x.value!==O||P.value!==E)&&t.ctx.emit("check-change",s.node.data,O,E),x.value=O,P.value=E},w=O=>{st(t.store,t.ctx.emit,()=>{var E;if((E=t==null?void 0:t.props)==null?void 0:E.nodeKey){const de=b(s.node);t.store.value.setCurrentNodeKey(de)}else t.store.value.setCurrentNode(s.node)}),t.currentNode.value=s.node,t.props.expandOnClickNode&&J(),(t.props.checkOnClickNode||s.node.isLeaf&&t.props.checkOnClickLeaf&&s.showCheckbox)&&!s.node.disabled&&te(!s.node.checked),t.ctx.emit("node-click",s.node.data,s.node,j,O)},X=O=>{var E;(E=t.instance.vnode.props)!=null&&E.onNodeContextmenu&&(O.stopPropagation(),O.preventDefault()),t.ctx.emit("node-contextmenu",O,s.node.data,s.node,j)},J=()=>{s.node.isLeaf||(d.value?(t.ctx.emit("node-collapse",s.node.data,s.node,j),s.node.collapse()):s.node.expand(()=>{o.emit("node-expand",s.node.data,s.node,j)}))},te=O=>{s.node.setChecked(O,!(t!=null&&t.props.checkStrictly)),rt(()=>{const E=t.store.value;t.ctx.emit("check",s.node.data,{checkedNodes:E.getCheckedNodes(),checkedKeys:E.getCheckedKeys(),halfCheckedNodes:E.getHalfCheckedNodes(),halfCheckedKeys:E.getHalfCheckedKeys()})})};return{ns:i,node$:N,tree:t,expanded:d,childNodeRendered:p,oldChecked:x,oldIndeterminate:P,getNodeKey:b,getNodeClass:$,handleSelectChange:F,handleClick:w,handleContextMenu:X,handleExpandIconClick:J,handleCheckChange:te,handleChildNodeExpand:(O,E,I)=>{c(E),t.ctx.emit("node-expand",O,E,I)},handleDragStart:O=>{t.props.draggable&&y.treeNodeDragStart({event:O,treeNode:s})},handleDragOver:O=>{O.preventDefault(),t.props.draggable&&y.treeNodeDragOver({event:O,treeNode:{$el:N.value,node:s.node}})},handleDrop:O=>{O.preventDefault()},handleDragEnd:O=>{t.props.draggable&&y.treeNodeDragEnd(O)},CaretRight:hr}}});function Vr(s,o,i,c,t,d){const p=ke("el-icon"),x=ke("el-checkbox"),P=ke("loading"),N=ke("node-content"),y=ke("el-tree-node"),j=ke("el-collapse-transition");return at((K(),z("div",{ref:"node$",class:he([s.ns.b("node"),s.ns.is("expanded",s.expanded),s.ns.is("current",s.node.isCurrent),s.ns.is("hidden",!s.node.visible),s.ns.is("focusable",!s.node.disabled),s.ns.is("checked",!s.node.disabled&&s.node.checked),s.getNodeClass(s.node)]),role:"treeitem",tabindex:"-1","aria-expanded":s.expanded,"aria-disabled":s.node.disabled,"aria-checked":s.node.checked,draggable:s.tree.props.draggable,"data-key":s.getNodeKey(s.node),onClick:me(s.handleClick,["stop"]),onContextmenu:s.handleContextMenu,onDragstart:me(s.handleDragStart,["stop"]),onDragover:me(s.handleDragOver,["stop"]),onDragend:me(s.handleDragEnd,["stop"]),onDrop:me(s.handleDrop,["stop"])},[L("div",{class:he(s.ns.be("node","content")),style:cr({paddingLeft:(s.node.level-1)*s.tree.props.indent+"px"})},[s.tree.props.icon||s.CaretRight?(K(),oe(p,{key:0,class:he([s.ns.be("node","expand-icon"),s.ns.is("leaf",s.node.isLeaf),{expanded:!s.node.isLeaf&&s.expanded}]),onClick:me(s.handleExpandIconClick,["stop"])},{default:H(()=>[(K(),oe(dr(s.tree.props.icon||s.CaretRight)))]),_:1},8,["class","onClick"])):U("v-if",!0),s.showCheckbox?(K(),oe(x,{key:1,"model-value":s.node.checked,indeterminate:s.node.indeterminate,disabled:!!s.node.disabled,onClick:me(()=>{},["stop"]),onChange:s.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):U("v-if",!0),s.node.loading?(K(),oe(p,{key:2,class:he([s.ns.be("node","loading-icon"),s.ns.is("loading")])},{default:H(()=>[G(P)]),_:1},8,["class"])):U("v-if",!0),G(N,{node:s.node,"render-content":s.renderContent},null,8,["node","render-content"])],6),G(j,null,{default:H(()=>[!s.renderAfterExpand||s.childNodeRendered?at((K(),z("div",{key:0,class:he(s.ns.be("node","children")),role:"group","aria-expanded":s.expanded,onClick:me(()=>{},["stop"])},[(K(!0),z(fe,null,$e(s.node.childNodes,D=>(K(),oe(y,{key:s.getNodeKey(D),"render-content":s.renderContent,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,node:D,accordion:s.accordion,props:s.props,onNodeExpand:s.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[ot,s.expanded]]):U("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[ot,s.node.visible]])}var Wr=Qe(Qr,[["render",Vr],["__file","tree-node.vue"]]);function Gr({el$:s},o){const i=Oe("tree");pr(()=>{t()}),mr(()=>{Array.from(s.value.querySelectorAll("input[type=checkbox]")).forEach(p=>{p.setAttribute("tabindex","-1")})}),gr(s,"keydown",d=>{const p=d.target;if(!p.className.includes(i.b("node")))return;const x=d.code,P=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),N=P.indexOf(p);let y;if([ge.up,ge.down].includes(x)){if(d.preventDefault(),x===ge.up){y=N===-1?0:N!==0?N-1:P.length-1;const D=y;for(;!o.value.getNode(P[y].dataset.key).canFocus;){if(y--,y===D){y=-1;break}y<0&&(y=P.length-1)}}else{y=N===-1?0:N<P.length-1?N+1:0;const D=y;for(;!o.value.getNode(P[y].dataset.key).canFocus;){if(y++,y===D){y=-1;break}y>=P.length&&(y=0)}}y!==-1&&P[y].focus()}[ge.left,ge.right].includes(x)&&(d.preventDefault(),p.click());const j=p.querySelector('[type="checkbox"]');[ge.enter,ge.numpadEnter,ge.space].includes(x)&&j&&(d.preventDefault(),j.click())});const t=()=>{var d;const p=Array.from(s.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));Array.from(s.value.querySelectorAll("input[type=checkbox]")).forEach(N=>{N.setAttribute("tabindex","-1")});const P=s.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(P.length){P[0].setAttribute("tabindex","0");return}(d=p[0])==null||d.setAttribute("tabindex","0")}}const Xr=Ie({name:"ElTree",components:{ElTreeNode:Wr},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:yr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(s,o){const{t:i}=vr(),c=Oe("tree"),t=Ee(Ir,null),d=V(new Mr({key:s.nodeKey,data:s.data,lazy:s.lazy,props:s.props,load:s.load,currentNodeKey:s.currentNodeKey,checkStrictly:s.checkStrictly,checkDescendants:s.checkDescendants,defaultCheckedKeys:s.defaultCheckedKeys,defaultExpandedKeys:s.defaultExpandedKeys,autoExpandParent:s.autoExpandParent,defaultExpandAll:s.defaultExpandAll,filterNodeMethod:s.filterNodeMethod}));d.value.initialize();const p=V(d.value.root),x=V(null),P=V(null),N=V(null),{broadcastExpanded:y}=qt(s),{dragState:j}=Jr({props:s,ctx:o,el$:P,dropIndicator$:N,store:d});Gr({el$:P},d);const D=St(()=>{const{childNodes:h}=p.value,_=t?t.hasFilteredOptions!==0:!1;return(!h||h.length===0||h.every(({visible:ue})=>!ue))&&!_});ce(()=>s.currentNodeKey,h=>{d.value.setCurrentNodeKey(h)}),ce(()=>s.defaultCheckedKeys,h=>{d.value.setDefaultCheckedKey(h)}),ce(()=>s.defaultExpandedKeys,h=>{d.value.setDefaultExpandedKeys(h)}),ce(()=>s.data,h=>{d.value.setData(h)},{deep:!0}),ce(()=>s.checkStrictly,h=>{d.value.checkStrictly=h});const b=h=>{if(!s.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");d.value.filter(h)},$=h=>dt(s.nodeKey,h.data),F=h=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const _=d.value.getNode(h);if(!_)return[];const ue=[_.data];let ye=_.parent;for(;ye&&ye!==p.value;)ue.push(ye.data),ye=ye.parent;return ue.reverse()},w=(h,_)=>d.value.getCheckedNodes(h,_),X=h=>d.value.getCheckedKeys(h),J=()=>{const h=d.value.getCurrentNode();return h?h.data:null},te=()=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const h=J();return h?h[s.nodeKey]:null},W=(h,_)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");d.value.setCheckedNodes(h,_)},v=(h,_)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");d.value.setCheckedKeys(h,_)},B=(h,_,ue)=>{d.value.setChecked(h,_,ue)},re=()=>d.value.getHalfCheckedNodes(),ne=()=>d.value.getHalfCheckedKeys(),O=(h,_=!0)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");st(d,o.emit,()=>{y(h),d.value.setUserCurrentNode(h,_)})},E=(h,_=!0)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");st(d,o.emit,()=>{y(),d.value.setCurrentNodeKey(h,_)})},I=h=>d.value.getNode(h),de=h=>{d.value.remove(h)},Pe=(h,_)=>{d.value.append(h,_)},Ne=(h,_)=>{d.value.insertBefore(h,_)},le=(h,_)=>{d.value.insertAfter(h,_)},Te=(h,_,ue)=>{y(_),o.emit("node-expand",h,_,ue)},je=(h,_)=>{if(!s.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");d.value.updateChildren(h,_)};return Be("RootTree",{ctx:o,props:s,store:d,root:p,currentNode:x,instance:jt()}),Be(kr,void 0),{ns:c,store:d,root:p,currentNode:x,dragState:j,el$:P,dropIndicator$:N,isEmpty:D,filter:b,getNodeKey:$,getNodePath:F,getCheckedNodes:w,getCheckedKeys:X,getCurrentNode:J,getCurrentKey:te,setCheckedNodes:W,setCheckedKeys:v,setChecked:B,getHalfCheckedNodes:re,getHalfCheckedKeys:ne,setCurrentNode:O,setCurrentKey:E,t:i,getNode:I,remove:de,append:Pe,insertBefore:Ne,insertAfter:le,handleNodeExpand:Te,updateKeyChildren:je}}});function Yr(s,o,i,c,t,d){const p=ke("el-tree-node");return K(),z("div",{ref:"el$",class:he([s.ns.b(),s.ns.is("dragging",!!s.dragState.draggingNode),s.ns.is("drop-not-allow",!s.dragState.allowDrop),s.ns.is("drop-inner",s.dragState.dropType==="inner"),{[s.ns.m("highlight-current")]:s.highlightCurrent}]),role:"tree"},[(K(!0),z(fe,null,$e(s.root.childNodes,x=>(K(),oe(p,{key:s.getNodeKey(x),node:x,props:s.props,accordion:s.accordion,"render-after-expand":s.renderAfterExpand,"show-checkbox":s.showCheckbox,"render-content":s.renderContent,onNodeExpand:s.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),s.isEmpty?(K(),z("div",{key:0,class:he(s.ns.e("empty-block"))},[ut(s.$slots,"empty",{},()=>{var x;return[L("span",{class:he(s.ns.e("empty-text"))},ee((x=s.emptyText)!=null?x:s.t("el.tree.emptyText")),3)]})],2)):U("v-if",!0),at(L("div",{ref:"dropIndicator$",class:he(s.ns.e("drop-indicator"))},null,2),[[ot,s.dragState.showDropIndicator]])],2)}var Zr=Qe(Xr,[["render",Yr],["__file","tree.vue"]]);const ea=Pt(Zr);var Ue={exports:{}};/*! algoliasearch.umd.js | 4.24.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */var ta=Ue.exports,It;function na(){return It||(It=1,function(s,o){(function(i,c){s.exports=c()})(ta,function(){function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function c(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),r.push.apply(r,a)}return r}function t(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?c(Object(r),!0).forEach(function(a){i(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function d(e,n){if(e==null)return{};var r,a,u=function(g,l){if(g==null)return{};var m,C,k={},q=Object.keys(g);for(C=0;C<q.length;C++)m=q[C],l.indexOf(m)>=0||(k[m]=g[m]);return k}(e,n);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(a=0;a<f.length;a++)r=f[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(u[r]=e[r])}return u}function p(e,n){return function(r){if(Array.isArray(r))return r}(e)||function(r,a){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]"){var u=[],f=!0,g=!1,l=void 0;try{for(var m,C=r[Symbol.iterator]();!(f=(m=C.next()).done)&&(u.push(m.value),!a||u.length!==a);f=!0);}catch(k){g=!0,l=k}finally{try{f||C.return==null||C.return()}finally{if(g)throw l}}return u}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(e){return function(n){if(Array.isArray(n)){for(var r=0,a=new Array(n.length);r<n.length;r++)a[r]=n[r];return a}}(e)||function(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e){var n,r="algoliasearch-client-js-".concat(e.key),a=function(){return n===void 0&&(n=e.localStorage||window.localStorage),n},u=function(){return JSON.parse(a().getItem(r)||"{}")},f=function(l){a().setItem(r,JSON.stringify(l))},g=function(){var l=e.timeToLive?1e3*e.timeToLive:null,m=u(),C=Object.fromEntries(Object.entries(m).filter(function(q){return p(q,2)[1].timestamp!==void 0}));if(f(C),l){var k=Object.fromEntries(Object.entries(C).filter(function(q){var S=p(q,2)[1],R=new Date().getTime();return!(S.timestamp+l<R)}));f(k)}};return{get:function(l,m){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){g();var k=JSON.stringify(l);return u()[k]}).then(function(k){return Promise.all([k?k.value:m(),k!==void 0])}).then(function(k){var q=p(k,2),S=q[0],R=q[1];return Promise.all([S,R||C.miss(S)])}).then(function(k){return p(k,1)[0]})},set:function(l,m){return Promise.resolve().then(function(){var C=u();return C[JSON.stringify(l)]={timestamp:new Date().getTime(),value:m},a().setItem(r,JSON.stringify(C)),m})},delete:function(l){return Promise.resolve().then(function(){var m=u();delete m[JSON.stringify(l)],a().setItem(r,JSON.stringify(m))})},clear:function(){return Promise.resolve().then(function(){a().removeItem(r)})}}}function N(e){var n=x(e.caches),r=n.shift();return r===void 0?{get:function(a,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},g=u();return g.then(function(l){return Promise.all([l,f.miss(l)])}).then(function(l){return p(l,1)[0]})},set:function(a,u){return Promise.resolve(u)},delete:function(a){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(a,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(a,u,f).catch(function(){return N({caches:n}).get(a,u,f)})},set:function(a,u){return r.set(a,u).catch(function(){return N({caches:n}).set(a,u)})},delete:function(a){return r.delete(a).catch(function(){return N({caches:n}).delete(a)})},clear:function(){return r.clear().catch(function(){return N({caches:n}).clear()})}}}function y(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},n={};return{get:function(r,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},f=JSON.stringify(r);if(f in n)return Promise.resolve(e.serializable?JSON.parse(n[f]):n[f]);var g=a(),l=u&&u.miss||function(){return Promise.resolve()};return g.then(function(m){return l(m)}).then(function(){return g})},set:function(r,a){return n[JSON.stringify(r)]=e.serializable?JSON.stringify(a):a,Promise.resolve(a)},delete:function(r){return delete n[JSON.stringify(r)],Promise.resolve()},clear:function(){return n={},Promise.resolve()}}}function j(e,n,r){var a={"x-algolia-api-key":r,"x-algolia-application-id":n};return{headers:function(){return e===X.WithinHeaders?a:{}},queryParameters:function(){return e===X.WithinQueryParameters?a:{}}}}function D(e){var n=0;return e(function r(){return n++,new Promise(function(a){setTimeout(function(){a(e(r))},Math.min(100*n,1e3))})})}function b(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r,a){return Promise.resolve()};return Object.assign(e,{wait:function(r){return b(e.then(function(a){return Promise.all([n(a,r),a])}).then(function(a){return a[1]}))}})}function $(e){for(var n=e.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=e[n];e[n]=e[r],e[r]=a}return e}function F(e,n){return n&&Object.keys(n).forEach(function(r){e[r]=n[r](e)}),e}function w(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var u=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[u++])})}var X={WithinQueryParameters:0,WithinHeaders:1};function J(e,n){var r=e||{},a=r.data||{};return Object.keys(r).forEach(function(u){["timeout","headers","queryParameters","data","cacheable"].indexOf(u)===-1&&(a[u]=r[u])}),{data:Object.entries(a).length>0?a:void 0,timeout:r.timeout||n,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var te={Read:1,Write:2,Any:3},W=1,v=2,B=3;function re(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W;return t(t({},e),{},{status:n,lastUpdate:Date.now()})}function ne(e){return typeof e=="string"?{protocol:"https",url:e,accept:te.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||te.Any}}var O="DELETE",E="GET",I="POST",de="PUT";function Pe(e,n){return Promise.all(n.map(function(r){return e.get(r,function(){return Promise.resolve(re(r))})})).then(function(r){var a=r.filter(function(g){return function(l){return l.status===W||Date.now()-l.lastUpdate>12e4}(g)}),u=r.filter(function(g){return function(l){return l.status===B&&Date.now()-l.lastUpdate<=12e4}(g)}),f=[].concat(x(a),x(u));return{getTimeout:function(g,l){return(u.length===0&&g===0?1:u.length+3+g)*l},statelessHosts:f.length>0?f.map(function(g){return ne(g)}):n}})}function Ne(e,n,r,a){var u=[],f=function(S,R){if(!(S.method===E||S.data===void 0&&R.data===void 0)){var A=Array.isArray(S.data)?S.data:t(t({},S.data),R.data);return JSON.stringify(A)}}(r,a),g=function(S,R){var A=t(t({},S.headers),R.headers),M={};return Object.keys(A).forEach(function(Q){var se=A[Q];M[Q.toLowerCase()]=se}),M}(e,a),l=r.method,m=r.method!==E?{}:t(t({},r.data),a.data),C=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),m),a.queryParameters),k=0,q=function S(R,A){var M=R.pop();if(M===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:_(u)};var Q={data:f,headers:g,method:l,url:je(M,r.path,C),connectTimeout:A(k,e.timeouts.connect),responseTimeout:A(k,a.timeout)},se=function(ie){var ae={request:Q,response:ie,host:M,triesLeft:R.length};return u.push(ae),ae},Ke={onSuccess:function(ie){return function(ae){try{return JSON.parse(ae.content)}catch(ve){throw function(pe,xe){return{name:"DeserializationError",message:pe,response:xe}}(ve.message,ae)}}(ie)},onRetry:function(ie){var ae=se(ie);return ie.isTimedOut&&k++,Promise.all([e.logger.info("Retryable failure",ue(ae)),e.hostsCache.set(M,re(M,ie.isTimedOut?B:v))]).then(function(){return S(R,A)})},onFail:function(ie){throw se(ie),function(ae,ve){var pe=ae.content,xe=ae.status,Ae=pe;try{Ae=JSON.parse(pe).message}catch{}return function(ze,et,tr){return{name:"ApiError",message:ze,status:et,transporterStackTrace:tr}}(Ae,xe,ve)}(ie,_(u))}};return e.requester.send(Q).then(function(ie){return function(ae,ve){return function(pe){var xe=pe.status;return pe.isTimedOut||function(Ae){var ze=Ae.isTimedOut,et=Ae.status;return!ze&&~~et==0}(pe)||~~(xe/100)!=2&&~~(xe/100)!=4}(ae)?ve.onRetry(ae):~~(ae.status/100)==2?ve.onSuccess(ae):ve.onFail(ae)}(ie,Ke)})};return Pe(e.hostsCache,n).then(function(S){return q(x(S.statelessHosts).reverse(),S.getTimeout)})}function le(e){var n=e.hostsCache,r=e.logger,a=e.requester,u=e.requestsCache,f=e.responsesCache,g=e.timeouts,l=e.userAgent,m=e.hosts,C=e.queryParameters,k={hostsCache:n,logger:r,requester:a,requestsCache:u,responsesCache:f,timeouts:g,userAgent:l,headers:e.headers,queryParameters:C,hosts:m.map(function(q){return ne(q)}),read:function(q,S){var R=J(S,k.timeouts.read),A=function(){return Ne(k,k.hosts.filter(function(Q){return(Q.accept&te.Read)!=0}),q,R)};if((R.cacheable!==void 0?R.cacheable:q.cacheable)!==!0)return A();var M={request:q,mappedRequestOptions:R,transporter:{queryParameters:k.queryParameters,headers:k.headers}};return k.responsesCache.get(M,function(){return k.requestsCache.get(M,function(){return k.requestsCache.set(M,A()).then(function(Q){return Promise.all([k.requestsCache.delete(M),Q])},function(Q){return Promise.all([k.requestsCache.delete(M),Promise.reject(Q)])}).then(function(Q){var se=p(Q,2);return se[0],se[1]})})},{miss:function(Q){return k.responsesCache.set(M,Q)}})},write:function(q,S){return Ne(k,k.hosts.filter(function(R){return(R.accept&te.Write)!=0}),q,J(S,k.timeouts.write))}};return k}function Te(e){var n={value:"Algolia for JavaScript (".concat(e,")"),add:function(r){var a="; ".concat(r.segment).concat(r.version!==void 0?" (".concat(r.version,")"):"");return n.value.indexOf(a)===-1&&(n.value="".concat(n.value).concat(a)),n}};return n}function je(e,n,r){var a=h(r),u="".concat(e.protocol,"://").concat(e.url,"/").concat(n.charAt(0)==="/"?n.substr(1):n);return a.length&&(u+="?".concat(a)),u}function h(e){return Object.keys(e).map(function(n){return w("%s=%s",n,(r=e[n],Object.prototype.toString.call(r)==="[object Object]"||Object.prototype.toString.call(r)==="[object Array]"?JSON.stringify(e[n]):e[n]));var r}).join("&")}function _(e){return e.map(function(n){return ue(n)})}function ue(e){var n=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),n)})})}var ye=function(e){return function(n,r){return e.transporter.write({method:I,path:"2/abtests",data:n},r)}},_t=function(e){return function(n,r){return e.transporter.write({method:O,path:w("2/abtests/%s",n)},r)}},Rt=function(e){return function(n,r){return e.transporter.read({method:E,path:w("2/abtests/%s",n)},r)}},$t=function(e){return function(n){return e.transporter.read({method:E,path:"2/abtests"},n)}},Bt=function(e){return function(n,r){return e.transporter.write({method:I,path:w("2/abtests/%s/stop",n)},r)}},Lt=function(e){return function(n){return e.transporter.read({method:E,path:"1/strategies/personalization"},n)}},Ft=function(e){return function(n,r){return e.transporter.write({method:I,path:"1/strategies/personalization",data:n},r)}};function Ve(e){return function n(r){return e.request(r).then(function(a){if(e.batch!==void 0&&e.batch(a.hits),!e.shouldStop(a))return a.cursor?n({cursor:a.cursor}):n({page:(r.page||0)+1})})}({})}var zt=function(e){return function(n,r){var a=r||{},u=a.queryParameters,f=d(a,["queryParameters"]),g=t({acl:n},u!==void 0?{queryParameters:u}:{});return b(e.transporter.write({method:I,path:"1/keys",data:g},f),function(l,m){return D(function(C){return Se(e)(l.key,m).catch(function(k){if(k.status!==404)throw k;return C()})})})}},Mt=function(e){return function(n,r,a){var u=J(a);return u.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:I,path:"1/clusters/mapping",data:{cluster:r}},u)}},Ht=function(e){return function(n,r,a){return e.transporter.write({method:I,path:"1/clusters/mapping/batch",data:{users:n,cluster:r}},a)}},Ut=function(e){return function(n,r){return b(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),function(a,u){return Ce(e)(a.taskID,u)})}},Le=function(e){return function(n,r,a){return b(e.transporter.write({method:I,path:w("1/indexes/%s/operation",n),data:{operation:"copy",destination:r}},a),function(u,f){return qe(e)(n,{methods:{waitTask:Y}}).waitTask(u.taskID,f)})}},Jt=function(e){return function(n,r,a){return Le(e)(n,r,t(t({},a),{},{scope:[Ze.Rules]}))}},Qt=function(e){return function(n,r,a){return Le(e)(n,r,t(t({},a),{},{scope:[Ze.Settings]}))}},Vt=function(e){return function(n,r,a){return Le(e)(n,r,t(t({},a),{},{scope:[Ze.Synonyms]}))}},Wt=function(e){return function(n,r){return n.method===E?e.transporter.read(n,r):e.transporter.write(n,r)}},Gt=function(e){return function(n,r){return b(e.transporter.write({method:O,path:w("1/keys/%s",n)},r),function(a,u){return D(function(f){return Se(e)(n,u).then(f).catch(function(g){if(g.status!==404)throw g})})})}},Xt=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"deleteEntry",body:{objectID:f}}});return b(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(f,g){return Ce(e)(f.taskID,g)})}},Se=function(e){return function(n,r){return e.transporter.read({method:E,path:w("1/keys/%s",n)},r)}},ct=function(e){return function(n,r){return e.transporter.read({method:E,path:w("1/task/%s",n.toString())},r)}},Yt=function(e){return function(n){return e.transporter.read({method:E,path:"/1/dictionaries/*/settings"},n)}},Zt=function(e){return function(n){return e.transporter.read({method:E,path:"1/logs"},n)}},en=function(e){return function(n){return e.transporter.read({method:E,path:"1/clusters/mapping/top"},n)}},tn=function(e){return function(n,r){return e.transporter.read({method:E,path:w("1/clusters/mapping/%s",n)},r)}},nn=function(e){return function(n){var r=n||{},a=r.retrieveMappings,u=d(r,["retrieveMappings"]);return a===!0&&(u.getClusters=!0),e.transporter.read({method:E,path:"1/clusters/mapping/pending"},u)}},qe=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={transporter:e.transporter,appId:e.appId,indexName:n};return F(a,r.methods)}},rn=function(e){return function(n){return e.transporter.read({method:E,path:"1/keys"},n)}},an=function(e){return function(n){return e.transporter.read({method:E,path:"1/clusters"},n)}},on=function(e){return function(n){return e.transporter.read({method:E,path:"1/indexes"},n)}},sn=function(e){return function(n){return e.transporter.read({method:E,path:"1/clusters/mapping"},n)}},un=function(e){return function(n,r,a){return b(e.transporter.write({method:I,path:w("1/indexes/%s/operation",n),data:{operation:"move",destination:r}},a),function(u,f){return qe(e)(n,{methods:{waitTask:Y}}).waitTask(u.taskID,f)})}},dn=function(e){return function(n,r){return b(e.transporter.write({method:I,path:"1/indexes/*/batch",data:{requests:n}},r),function(a,u){return Promise.all(Object.keys(a.taskID).map(function(f){return qe(e)(f,{methods:{waitTask:Y}}).waitTask(a.taskID[f],u)}))})}},cn=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:n}},r)}},lt=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{params:h(u.params||{})})});return e.transporter.read({method:I,path:"1/indexes/*/queries",data:{requests:a},cacheable:!0},r)}},ft=function(e){return function(n,r){return Promise.all(n.map(function(a){var u=a.params,f=u.facetName,g=u.facetQuery,l=d(u,["facetName","facetQuery"]);return qe(e)(a.indexName,{methods:{searchForFacetValues:vt}}).searchForFacetValues(f,g,t(t({},r),l))}))}},ln=function(e){return function(n,r){var a=J(r);return a.queryParameters["X-Algolia-User-ID"]=n,e.transporter.write({method:O,path:"1/clusters/mapping"},a)}},fn=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"addEntry",body:f}});return b(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!0,requests:u}},a),function(f,g){return Ce(e)(f.taskID,g)})}},hn=function(e){return function(n,r){return b(e.transporter.write({method:I,path:w("1/keys/%s/restore",n)},r),function(a,u){return D(function(f){return Se(e)(n,u).catch(function(g){if(g.status!==404)throw g;return f()})})})}},pn=function(e){return function(n,r,a){var u=r.map(function(f){return{action:"addEntry",body:f}});return b(e.transporter.write({method:I,path:w("/1/dictionaries/%s/batch",n),data:{clearExistingDictionaryEntries:!1,requests:u}},a),function(f,g){return Ce(e)(f.taskID,g)})}},mn=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("/1/dictionaries/%s/search",n),data:{query:r},cacheable:!0},a)}},gn=function(e){return function(n,r){return e.transporter.read({method:I,path:"1/clusters/mapping/search",data:{query:n}},r)}},yn=function(e){return function(n,r){return b(e.transporter.write({method:de,path:"/1/dictionaries/*/settings",data:n},r),function(a,u){return Ce(e)(a.taskID,u)})}},vn=function(e){return function(n,r){var a=Object.assign({},r),u=r||{},f=u.queryParameters,g=d(u,["queryParameters"]),l=f?{queryParameters:f}:{},m=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return b(e.transporter.write({method:de,path:w("1/keys/%s",n),data:l},g),function(C,k){return D(function(q){return Se(e)(n,k).then(function(S){return function(R){return Object.keys(a).filter(function(A){return m.indexOf(A)!==-1}).every(function(A){if(Array.isArray(R[A])&&Array.isArray(a[A])){var M=R[A];return M.length===a[A].length&&M.every(function(Q,se){return Q===a[A][se]})}return R[A]===a[A]})}(S)?Promise.resolve():q()})})})}},Ce=function(e){return function(n,r){return D(function(a){return ct(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},ht=function(e){return function(n,r){return b(e.transporter.write({method:I,path:w("1/indexes/%s/batch",e.indexName),data:{requests:n}},r),function(a,u){return Y(e)(a.taskID,u)})}},kn=function(e){return function(n){return Ve(t(t({shouldStop:function(r){return r.cursor===void 0}},n),{},{request:function(r){return e.transporter.read({method:I,path:w("1/indexes/%s/browse",e.indexName),data:r},n)}}))}},bn=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Ve(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return kt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(f){return delete f._highlightResult,f})})})}}))}},Nn=function(e){return function(n){var r=t({hitsPerPage:1e3},n);return Ve(t(t({shouldStop:function(a){return a.hits.length<r.hitsPerPage}},r),{},{request:function(a){return bt(e)("",t(t({},r),a)).then(function(u){return t(t({},u),{},{hits:u.hits.map(function(f){return delete f._highlightResult,f})})})}}))}},We=function(e){return function(n,r,a){var u=a||{},f=u.batchSize,g=d(u,["batchSize"]),l={taskIDs:[],objectIDs:[]};return b(function m(){var C,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=[];for(C=k;C<n.length&&(q.push(n[C]),q.length!==(f||1e3));C++);return q.length===0?Promise.resolve(l):ht(e)(q.map(function(S){return{action:r,body:S}}),g).then(function(S){return l.objectIDs=l.objectIDs.concat(S.objectIDs),l.taskIDs.push(S.taskID),C++,m(C)})}(),function(m,C){return Promise.all(m.taskIDs.map(function(k){return Y(e)(k,C)}))})}},Cn=function(e){return function(n){return b(e.transporter.write({method:I,path:w("1/indexes/%s/clear",e.indexName)},n),function(r,a){return Y(e)(r.taskID,a)})}},wn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=J(d(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),b(e.transporter.write({method:I,path:w("1/indexes/%s/rules/clear",e.indexName)},u),function(f,g){return Y(e)(f.taskID,g)})}},xn=function(e){return function(n){var r=n||{},a=r.forwardToReplicas,u=J(d(r,["forwardToReplicas"]));return a&&(u.queryParameters.forwardToReplicas=1),b(e.transporter.write({method:I,path:w("1/indexes/%s/synonyms/clear",e.indexName)},u),function(f,g){return Y(e)(f.taskID,g)})}},Dn=function(e){return function(n,r){return b(e.transporter.write({method:I,path:w("1/indexes/%s/deleteByQuery",e.indexName),data:n},r),function(a,u){return Y(e)(a.taskID,u)})}},En=function(e){return function(n){return b(e.transporter.write({method:O,path:w("1/indexes/%s",e.indexName)},n),function(r,a){return Y(e)(r.taskID,a)})}},In=function(e){return function(n,r){return b(pt(e)([n],r).then(function(a){return{taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},pt=function(e){return function(n,r){var a=n.map(function(u){return{objectID:u}});return We(e)(a,we.DeleteObject,r)}},On=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(d(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),b(e.transporter.write({method:O,path:w("1/indexes/%s/rules/%s",e.indexName,n)},f),function(g,l){return Y(e)(g.taskID,l)})}},Pn=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(d(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),b(e.transporter.write({method:O,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},f),function(g,l){return Y(e)(g.taskID,l)})}},Tn=function(e){return function(n){return mt(e)(n).then(function(){return!0}).catch(function(r){if(r.status!==404)throw r;return!1})}},jn=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("1/answers/%s/prediction",e.indexName),data:{query:n,queryLanguages:r},cacheable:!0},a)}},Sn=function(e){return function(n,r){var a=r||{},u=a.query,f=a.paginate,g=d(a,["query","paginate"]),l=0;return function m(){return yt(e)(u||"",t(t({},g),{},{page:l})).then(function(C){for(var k=0,q=Object.entries(C.hits);k<q.length;k++){var S=p(q[k],2),R=S[0],A=S[1];if(n(A))return{object:A,position:parseInt(R,10),page:l}}if(l++,f===!1||l>=C.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return m()})}()}},qn=function(e){return function(n,r){return e.transporter.read({method:E,path:w("1/indexes/%s/%s",e.indexName,n)},r)}},Kn=function(){return function(e,n){for(var r=0,a=Object.entries(e.hits);r<a.length;r++){var u=p(a[r],2),f=u[0];if(u[1].objectID===n)return parseInt(f,10)}return-1}},An=function(e){return function(n,r){var a=r||{},u=a.attributesToRetrieve,f=d(a,["attributesToRetrieve"]),g=n.map(function(l){return t({indexName:e.indexName,objectID:l},u?{attributesToRetrieve:u}:{})});return e.transporter.read({method:I,path:"1/indexes/*/objects",data:{requests:g}},f)}},_n=function(e){return function(n,r){return e.transporter.read({method:E,path:w("1/indexes/%s/rules/%s",e.indexName,n)},r)}},mt=function(e){return function(n){return e.transporter.read({method:E,path:w("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},n)}},Rn=function(e){return function(n,r){return e.transporter.read({method:E,path:w("1/indexes/%s/synonyms/%s",e.indexName,n)},r)}},$n=function(e){return function(n,r){return b(gt(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},gt=function(e){return function(n,r){var a=r||{},u=a.createIfNotExists,f=d(a,["createIfNotExists"]),g=u?we.PartialUpdateObject:we.PartialUpdateObjectNoCreate;return We(e)(n,g,f)}},Bn=function(e){return function(n,r){var a=r||{},u=a.safe,f=a.autoGenerateObjectIDIfNotExist,g=a.batchSize,l=d(a,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),m=function(A,M,Q,se){return b(e.transporter.write({method:I,path:w("1/indexes/%s/operation",A),data:{operation:Q,destination:M}},se),function(Ke,ie){return Y(e)(Ke.taskID,ie)})},C=Math.random().toString(36).substring(7),k="".concat(e.indexName,"_tmp_").concat(C),q=Ge({appId:e.appId,transporter:e.transporter,indexName:k}),S=[],R=m(e.indexName,k,"copy",t(t({},l),{},{scope:["settings","synonyms","rules"]}));return S.push(R),b((u?R.wait(l):R).then(function(){var A=q(n,t(t({},l),{},{autoGenerateObjectIDIfNotExist:f,batchSize:g}));return S.push(A),u?A.wait(l):A}).then(function(){var A=m(k,e.indexName,"move",l);return S.push(A),u?A.wait(l):A}).then(function(){return Promise.all(S)}).then(function(A){var M=p(A,3),Q=M[0],se=M[1],Ke=M[2];return{objectIDs:se.objectIDs,taskIDs:[Q.taskID].concat(x(se.taskIDs),[Ke.taskID])}}),function(A,M){return Promise.all(S.map(function(Q){return Q.wait(M)}))})}},Ln=function(e){return function(n,r){return Xe(e)(n,t(t({},r),{},{clearExistingRules:!0}))}},Fn=function(e){return function(n,r){return Ye(e)(n,t(t({},r),{},{clearExistingSynonyms:!0}))}},zn=function(e){return function(n,r){return b(Ge(e)([n],r).then(function(a){return{objectID:a.objectIDs[0],taskID:a.taskIDs[0]}}),function(a,u){return Y(e)(a.taskID,u)})}},Ge=function(e){return function(n,r){var a=r||{},u=a.autoGenerateObjectIDIfNotExist,f=d(a,["autoGenerateObjectIDIfNotExist"]),g=u?we.AddObject:we.UpdateObject;if(g===we.UpdateObject){var l=!0,m=!1,C=void 0;try{for(var k,q=n[Symbol.iterator]();!(l=(k=q.next()).done);l=!0)if(k.value.objectID===void 0)return b(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(S){m=!0,C=S}finally{try{l||q.return==null||q.return()}finally{if(m)throw C}}}return We(e)(n,g,f)}},Mn=function(e){return function(n,r){return Xe(e)([n],r)}},Xe=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=a.clearExistingRules,g=J(d(a,["forwardToReplicas","clearExistingRules"]));return u&&(g.queryParameters.forwardToReplicas=1),f&&(g.queryParameters.clearExistingRules=1),b(e.transporter.write({method:I,path:w("1/indexes/%s/rules/batch",e.indexName),data:n},g),function(l,m){return Y(e)(l.taskID,m)})}},Hn=function(e){return function(n,r){return Ye(e)([n],r)}},Ye=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=a.clearExistingSynonyms,g=a.replaceExistingSynonyms,l=J(d(a,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return u&&(l.queryParameters.forwardToReplicas=1),(g||f)&&(l.queryParameters.replaceExistingSynonyms=1),b(e.transporter.write({method:I,path:w("1/indexes/%s/synonyms/batch",e.indexName),data:n},l),function(m,C){return Y(e)(m.taskID,C)})}},yt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/query",e.indexName),data:{query:n},cacheable:!0},r)}},vt=function(e){return function(n,r,a){return e.transporter.read({method:I,path:w("1/indexes/%s/facets/%s/query",e.indexName,n),data:{facetQuery:r},cacheable:!0},a)}},kt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/rules/search",e.indexName),data:{query:n}},r)}},bt=function(e){return function(n,r){return e.transporter.read({method:I,path:w("1/indexes/%s/synonyms/search",e.indexName),data:{query:n}},r)}},Un=function(e){return function(n,r){var a=r||{},u=a.forwardToReplicas,f=J(d(a,["forwardToReplicas"]));return u&&(f.queryParameters.forwardToReplicas=1),b(e.transporter.write({method:de,path:w("1/indexes/%s/settings",e.indexName),data:n},f),function(g,l){return Y(e)(g.taskID,l)})}},Y=function(e){return function(n,r){return D(function(a){return function(u){return function(f,g){return u.transporter.read({method:E,path:w("1/indexes/%s/task/%s",u.indexName,f.toString())},g)}}(e)(n,r).then(function(u){return u.status!=="published"?a():void 0})})}},we={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject"},Ze={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},Jn=1,Qn=2,Vn=3,Fe=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Wn=function(e){return function(n,r){return Fe(e)(n.map(function(a){return t(t({},a),{},{fallbackParameters:{},model:"bought-together"})}),r)}},Gn=function(e){return function(n,r){return Fe(e)(n.map(function(a){return t(t({},a),{},{model:"related-products"})}),r)}},Xn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-facets",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Yn=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"trending-items",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}},Zn=function(e){return function(n,r){return Fe(e)(n.map(function(a){return t(t({},a),{},{model:"looking-similar"})}),r)}},er=function(e){return function(n,r){var a=n.map(function(u){return t(t({},u),{},{model:"recommended-for-you",threshold:u.threshold||0})});return e.transporter.read({method:I,path:"1/indexes/*/recommendations",data:{requests:a},cacheable:!0},r)}};function Nt(e,n,r){var a,u={appId:e,apiKey:n,timeouts:{connect:1,read:2,write:30},requester:{send:function(l){return new Promise(function(m){var C=new XMLHttpRequest;C.open(l.method,l.url,!0),Object.keys(l.headers).forEach(function(R){return C.setRequestHeader(R,l.headers[R])});var k,q=function(R,A){return setTimeout(function(){C.abort(),m({status:0,content:A,isTimedOut:!0})},1e3*R)},S=q(l.connectTimeout,"Connection timeout");C.onreadystatechange=function(){C.readyState>C.OPENED&&k===void 0&&(clearTimeout(S),k=q(l.responseTimeout,"Socket timeout"))},C.onerror=function(){C.status===0&&(clearTimeout(S),clearTimeout(k),m({content:C.responseText||"Network request failed",status:C.status,isTimedOut:!1}))},C.onload=function(){clearTimeout(S),clearTimeout(k),m({content:C.responseText,status:C.status,isTimedOut:!1})},C.send(l.data)})}},logger:(a=Vn,{debug:function(l,m){return Jn>=a&&console.debug(l,m),Promise.resolve()},info:function(l,m){return Qn>=a&&console.info(l,m),Promise.resolve()},error:function(l,m){return console.error(l,m),Promise.resolve()}}),responsesCache:y(),requestsCache:y({serializable:!1}),hostsCache:N({caches:[P({key:"".concat("4.24.0","-").concat(e)}),y()]}),userAgent:Te("4.24.0").add({segment:"Browser"})},f=t(t({},u),r),g=function(){return function(l){return function(m){var C=m.region||"us",k=j(X.WithinHeaders,m.appId,m.apiKey),q=le(t(t({hosts:[{url:"personalization.".concat(C,".algolia.com")}]},m),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),m.headers),queryParameters:t(t({},k.queryParameters()),m.queryParameters)}));return F({appId:m.appId,transporter:q},m.methods)}(t(t(t({},u),l),{},{methods:{getPersonalizationStrategy:Lt,setPersonalizationStrategy:Ft}}))}};return function(l){var m=l.appId,C=j(l.authMode!==void 0?l.authMode:X.WithinHeaders,m,l.apiKey),k=le(t(t({hosts:[{url:"".concat(m,"-dsn.algolia.net"),accept:te.Read},{url:"".concat(m,".algolia.net"),accept:te.Write}].concat($([{url:"".concat(m,"-1.algolianet.com")},{url:"".concat(m,"-2.algolianet.com")},{url:"".concat(m,"-3.algolianet.com")}]))},l),{},{headers:t(t(t({},C.headers()),{"content-type":"application/x-www-form-urlencoded"}),l.headers),queryParameters:t(t({},C.queryParameters()),l.queryParameters)}));return F({transporter:k,appId:m,addAlgoliaAgent:function(q,S){k.userAgent.add({segment:q,version:S})},clearCache:function(){return Promise.all([k.requestsCache.clear(),k.responsesCache.clear()]).then(function(){})}},l.methods)}(t(t({},f),{},{methods:{search:lt,searchForFacetValues:ft,multipleBatch:dn,multipleGetObjects:cn,multipleQueries:lt,copyIndex:Le,copySettings:Qt,copySynonyms:Vt,copyRules:Jt,moveIndex:un,listIndices:on,getLogs:Zt,listClusters:an,multipleSearchForFacetValues:ft,getApiKey:Se,addApiKey:zt,listApiKeys:rn,updateApiKey:vn,deleteApiKey:Gt,restoreApiKey:hn,assignUserID:Mt,assignUserIDs:Ht,getUserID:tn,searchUserIDs:gn,listUserIDs:sn,getTopUserIDs:en,removeUserID:ln,hasPendingMappings:nn,clearDictionaryEntries:Ut,deleteDictionaryEntries:Xt,getDictionarySettings:Yt,getAppTask:ct,replaceDictionaryEntries:fn,saveDictionaryEntries:pn,searchDictionaryEntries:mn,setDictionarySettings:yn,waitAppTask:Ce,customRequest:Wt,initIndex:function(l){return function(m){return qe(l)(m,{methods:{batch:ht,delete:En,findAnswers:jn,getObject:qn,getObjects:An,saveObject:zn,saveObjects:Ge,search:yt,searchForFacetValues:vt,waitTask:Y,setSettings:Un,getSettings:mt,partialUpdateObject:$n,partialUpdateObjects:gt,deleteObject:In,deleteObjects:pt,deleteBy:Dn,clearObjects:Cn,browseObjects:kn,getObjectPosition:Kn,findObject:Sn,exists:Tn,saveSynonym:Hn,saveSynonyms:Ye,getSynonym:Rn,searchSynonyms:bt,browseSynonyms:Nn,deleteSynonym:Pn,clearSynonyms:xn,replaceAllObjects:Bn,replaceAllSynonyms:Fn,searchRules:kt,getRule:_n,deleteRule:On,saveRule:Mn,saveRules:Xe,replaceAllRules:Ln,browseRules:bn,clearRules:wn}})}},initAnalytics:function(){return function(l){return function(m){var C=m.region||"us",k=j(X.WithinHeaders,m.appId,m.apiKey),q=le(t(t({hosts:[{url:"analytics.".concat(C,".algolia.com")}]},m),{},{headers:t(t(t({},k.headers()),{"content-type":"application/json"}),m.headers),queryParameters:t(t({},k.queryParameters()),m.queryParameters)}));return F({appId:m.appId,transporter:q},m.methods)}(t(t(t({},u),l),{},{methods:{addABTest:ye,getABTest:Rt,getABTests:$t,stopABTest:Bt,deleteABTest:_t}}))}},initPersonalization:g,initRecommendation:function(){return function(l){return f.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),g()(l)}},getRecommendations:Fe,getFrequentlyBoughtTogether:Wn,getLookingSimilar:Zn,getRecommendedForYou:er,getRelatedProducts:Gn,getTrendingFacets:Xn,getTrendingItems:Yn}}))}return Nt.version="4.24.0",Nt})}(Ue)),Ue.exports}var ra=na();const aa=br(ra),oa=aa("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),At=oa.initIndex("npm-search"),sa=async(s,o=0,i=10)=>{try{const c=ca(s);if(!c)return{response:null,query:s};const t={page:o,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:c.facetFilters?c.facetFilters:void 0},d=await At.search(c.query,t);return d.hits.sort((p,x)=>p.name===c.query?-1:x.name===c.query?1:0),{response:d,query:s}}catch{return{response:null,query:s}}};async function ia(s){return At.getObject(s)}const ua=/\s*[a-z]+\s*:\s*(?:.(?![a-z]*\s*:))*/gi,da=/^((?:[^\s:]+(?!\s*:)\s*)*)/,Ot={author:"owner.name",type:"moduleTypes"};function ca(s){var d;const o=(d=s.match(da))==null?void 0:d[0].trim();if(o==null)return;const i=s,c=[];let t;for(;(t=ua.exec(i))!==null;){const p=t[0].split(":");Ot[p[0].trim()]&&c.push(`${Ot[p[0].trim()]}:${p[1].trim()}`)}return{query:o,facetFilters:c.join(",")}}const la={key:0},fa={class:"result-list"},ha={class:"pkgName"},pa={class:"meta"},ma=["onClick"],ga=["src","alt"],ya=["title"],va={key:0,class:"description"},ka={key:1,flex:"","gap-2":""},ba={key:0},Na={key:1},Ca={key:2},wa={key:3},xa={key:4},Da={key:5},Ea={key:7},Ia={key:8},Oa={key:9},Pa={key:0,flex:"","items-center":""},Ta={key:1,flex:"","items-center":""},ja=10,Sa=Ie({__name:"cdnQuery",setup(s){let o=null;const i=V(!1),c=V(""),t=V(""),d=V(0),p=V([]),x=V(0),P=V(""),N=V(),y=V(""),j=V([]),D=V(),b=V([]),$=St(()=>b.value&&b.value.length?te(b.value):[]);async function F(W=0){if(!c.value){i.value=!1,N.value=null,y.value="",j.value=[],p.value=[],d.value=0,x.value=0,t.value="";return}o&&clearTimeout(o),o=window.setTimeout(async()=>{i.value=!0;const{response:v,query:B}=await sa(c.value,W,ja);if(B===c.value){if(v){const{hits:re,page:ne,nbHits:O}=v;p.value=re,x.value=O,d.value=ne,t.value="done"}else wr.warning("搜索失败");i.value=!1}},200)}function w(W){c.value=`author:${W}`,F(0)}async function X(W){P.value=W,N.value=null,y.value="",j.value=[],D.value=null,b.value=[];try{N.value=await ia(W),y.value=N.value.version??"",await J()}catch(v){console.error(v.message)}}async function J(){var W,v;try{j.value=[],D.value=null,b.value=[],j.value=(await Dt.get(`https://data.jsdelivr.com/v1/package/npm/${((W=N.value)==null?void 0:W.name)??""}`)).data.versions.map(ne=>({label:ne,value:ne}));const{default:B,files:re}=(await Dt.get(`https://data.jsdelivr.com/v1/package/npm/${((v=N.value)==null?void 0:v.name)??""}@${y.value}`)).data;D.value=B,b.value=re}catch(B){console.error(B.message)}}function te(W,v){return W.map(B=>{const re=v?`${v}/${B.name}`:`/${B.name}`;return{label:B.name,icon:B.type==="directory"?"Folder":"",isLeaf:B.type!=="directory",fileName:re,children:B.type==="directory"&&B.files?te(B.files,re):void 0}})}return(W,v)=>{const B=Sr,re=qr,ne=Kr,O=Nr,E=jr,I=Rr,de=Tr,Pe=Pr,Ne=Or,le=_r,Te=Ar,je=ea;return K(),z(fe,null,[G(re,null,{default:H(()=>[L("blockquote",null,[L("ul",null,[L("li",null,[v[6]||(v[6]=Z(" 数据来自: ")),G(B,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:H(()=>v[5]||(v[5]=[Z(" JSDelivr ")])),_:1,__:[5]})]),L("li",null,[v[8]||(v[8]=Z(" 搜索接口来自: ")),G(B,{href:"https://www.algolia.com/",target:"_blank"},{default:H(()=>v[7]||(v[7]=[Z(" Algolia ")])),_:1,__:[7]})])])])]),_:1}),G(ne,{level:3},{default:H(()=>v[9]||(v[9]=[Z(" 请输入要获取CDN的库名 ")])),_:1,__:[9]}),G(O,{modelValue:T(c),"onUpdate:modelValue":v[0]||(v[0]=h=>xt(c)?c.value=h:null),placeholder:"jquery",clearable:"",onChange:v[1]||(v[1]=h=>F(0))},null,8,["modelValue"]),(K(),oe(Cr,null,[T(t)==="done"?(K(),z(fe,{key:0},[G(E),T(P)?(K(),z(fe,{key:1},[G(B,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:v[3]||(v[3]=h=>P.value=null)},{default:H(()=>v[12]||(v[12]=[L("span",{class:"i-icon-park-outline-return"},null,-1),Z(" 返回 ")])),_:1,__:[12]}),T(N)?(K(),oe(Te,{key:0,class:"metaDetail"},{default:H(()=>[L("ul",null,[T(N).name?(K(),z("li",ba,[v[13]||(v[13]=L("b",null,"名称: ",-1)),Z(ee(T(N).name),1)])):U("",!0),T(N).homepage?(K(),z("li",Na,[v[14]||(v[14]=L("b",null,"主页: ",-1)),G(B,{href:T(N).homepage,target:"_blank"},{default:H(()=>[Z(ee(T(N).homepage),1)]),_:1},8,["href"])])):U("",!0),T(N).description?(K(),z("li",Ca,[v[15]||(v[15]=L("b",null,"简介: ",-1)),Z(ee(T(N).description),1)])):U("",!0),T(N).repository?(K(),z("li",wa,[v[16]||(v[16]=L("b",null,"仓库: ",-1)),Z(ee(T(N).repository.type)+" / ",1),G(B,{href:T(N).repository.url,target:"_blank"},{default:H(()=>[Z(ee(T(N).repository.url),1)]),_:1},8,["href"])])):U("",!0),T(N).license?(K(),z("li",xa,[v[17]||(v[17]=L("b",null,"协议: ",-1)),Z(ee(T(N).license),1)])):U("",!0),T(N).owner?(K(),z("li",Da,[v[18]||(v[18]=L("b",null,"作者: ",-1)),Z(ee(T(N).owner.name)+" / ",1),G(B,{href:T(N).owner.link,target:"_blank"},{default:H(()=>[Z(ee(T(N).owner.link),1)]),_:1},8,["href"])])):U("",!0),T(j).length?(K(),oe(E,{key:6})):U("",!0),T(j).length?(K(),z("li",Ea,[v[19]||(v[19]=L("b",null,"版本: ",-1)),G(Ne,{modelValue:T(y),"onUpdate:modelValue":v[4]||(v[4]=h=>xt(y)?y.value=h:null),options:T(j),onChange:J},{default:H(()=>[(K(!0),z(fe,null,$e(T(j),h=>(K(),oe(Pe,{key:h.value,value:h.value,label:h.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):U("",!0),T(D)?(K(),z("li",Ia,[v[20]||(v[20]=L("b",null,"默认文件: ",-1)),G(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${T(N).name}@${T(y)}${T(D)}`}},{default:H(()=>[G(B,{href:`https://cdn.jsdelivr.net/npm/${T(N).name}@${T(y)}${T(D)}`,target:"_blank"},{default:H(()=>[Z(ee(T(D)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):U("",!0),T(b)&&T(b).length?(K(),z("li",Oa,v[21]||(v[21]=[L("b",null,"文件列表",-1),L("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)]))):U("",!0)])]),_:1})):U("",!0),T(N)&&T(b)&&T(b).length?(K(),oe(je,{key:1,data:T($),selectable:!1},{default:H(({data:h})=>[h.isLeaf?(K(),z("div",Pa,[v[22]||(v[22]=L("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),G(le,{copyable:{text:`https://cdn.jsdelivr.net/npm/${T(N).name}@${T(y)}${h.fileName}`}},{default:H(()=>[Z(ee(h.label),1)]),_:2},1032,["copyable"])])):(K(),z("div",Ta,[v[23]||(v[23]=L("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),G(le,null,{default:H(()=>[Z(ee(h.label),1)]),_:2},1024)]))]),_:1},8,["data"])):U("",!0)],64)):(K(),z(fe,{key:0},[G(ne,{level:4},{default:H(()=>[L("span",null,"共找到 "+ee(T(x))+" 个库",1),T(x)>1e3?(K(),z("span",la,"，最多展示前 1000 个结果")):U("",!0)]),_:1}),L("div",fa,[(K(!0),z(fe,null,$e(T(p),h=>(K(),z("div",{key:h.objectID,class:"result-list-item"},[L("div",ha,[G(ne,{level:4,onClick:_=>X(h.objectID)},{default:H(()=>[Z(ee(h.name),1)]),_:2},1032,["onClick"])]),L("div",pa,[h.owner?(K(),z("div",{key:0,class:"owner",onClick:_=>w(h.owner.name)},[L("img",{src:h.owner.avatar,alt:h.owner.name},null,8,ga),L("div",null,ee(h.owner.name),1)],8,ma)):U("",!0),h.version?(K(),oe(I,{key:1,effect:"plain"},{default:H(()=>[v[10]||(v[10]=L("span",{class:"i-icon-park-outline-tag-one"},null,-1)),L("span",{title:h.version},ee(h.version),9,ya)]),_:2,__:[10]},1024)):U("",!0),h.license?(K(),oe(I,{key:2,effect:"plain"},{default:H(()=>[v[11]||(v[11]=L("span",{class:"i-icon-park-outline-balance-two"},null,-1)),Z(ee(h.license),1)]),_:2,__:[11]},1024)):U("",!0)]),h.description?(K(),z("div",va,ee(h.description),1)):U("",!0),h.keywords&&h.keywords.length?(K(),z("div",ka,[(K(!0),z(fe,null,$e(h.keywords,(_,ue)=>(K(),oe(I,{key:ue,effect:"plain"},{default:H(()=>[Z(ee(_),1)]),_:2},1024))),128))])):U("",!0)]))),128))]),G(de,{layout:"prev,jumper,next",total:T(x)>1e3?1e3:T(x),"hide-on-single-page":!0,onCurrentChange:v[2]||(v[2]=h=>F(h-1))},null,8,["total"])],64))],64)):U("",!0)],1024))],64)}}}),Wa=xr(Sa,[["__scopeId","data-v-ead9b880"]]);export{Wa as default};
