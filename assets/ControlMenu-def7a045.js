import{a3 as p,o as d,c as g,w as m,a as i,b as r,ae as l,aa as x,ag as v,W as c,aw as s,f as y}from"./vendor-c7d095d4.js";import{E as a,c as C}from"./common-bad41c28.js";import{a as w}from"./@turf/turf-d56e32fa.js";import"./ant-design-vue-8684357f.js";const E={class:"controlMenu"},h={__name:"ControlMenu",setup(k){function u(e){if(e.target.files.length){const t=e.target.files[0],o=new FileReader;o.onload=()=>{if(o.result&&typeof o.result=="string")try{const n=JSON.parse(o.result);a.emit("updateEditor",n),a.emit("updateGeojsonLayer",n)}catch{}},o.readAsText(t)}e.target.value=""}function _(){a.emit("getGeoJson",function(e){e?C(JSON.stringify(e),"exportFile.geojson"):x.warning("无可导出数据")})}function f(){a.emit("getGeoJson",function(e){if(e){const t=w(e);t<1e6?s.alert(`面积: ${t.toFixed(2)} 平方米`,"信息"):t<1e8?s.alert(`面积: ${(t/1e4).toFixed(2)} 公顷`,"信息"):s.alert(`面积: ${(t/1e6).toFixed(2)} 平方千米`,"信息")}})}return(e,t)=>{const o=v;return d(),g("div",E,[m(i("input",{ref:"uploader",type:"file",accept:".json,.JSON,.geojson,.GEOJSON",onChange:u},null,544),[[y,!1]]),r(o,{onClick:t[0]||(t[0]=n=>e.$refs.uploader.click())},{default:l(()=>[c(" 打开 ")]),_:1}),r(o,{onClick:_},{default:l(()=>[c(" 保存 ")]),_:1}),i("i",{class:"i-icon-park-outline-info",onClick:f})])}}},B=p(h,[["__scopeId","data-v-c88a1548"]]);export{B as default};
