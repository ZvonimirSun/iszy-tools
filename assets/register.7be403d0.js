import{d as A,r as E,j as g,u as x,aL as K,o as P,L as U,M as l,a as u,w as o,k as s,bZ as c,b as $,cW as I,I as q,B as V,U as z,V as S,_ as Z}from"./index.1467a21b.js";/* empty css              *//* empty css               */import{_ as j,F as L}from"./Form.6fe69b90.js";import{_ as R}from"./Password.69e93bee.js";import"./Col.c37abaa5.js";import"./responsiveObserve.de63f7f4.js";import"./useFlexGapSupport.492ea448.js";import"./toArray.bad0c157.js";import"./get.8ddc54f7.js";import"./hasIn.6a514662.js";import"./toInteger.c9d8dd81.js";import"./toFinite.2dc4e127.js";import"./_arrayIncludesWith.15e56e3a.js";import"./collapseMotion.e05c3cc9.js";import"./EyeOutlined.e161d9e4.js";const d=_=>(z("data-v-c506cf0a"),_=_(),S(),_),M={class:"register-container"},T={class:"main"},W=d(()=>l("span",{class:"i-icon-park-outline-user-business",style:{color:"rgba(0,0,0,.25)"}},null,-1)),G=d(()=>l("span",{class:"i-icon-park-outline-user",style:{color:"rgba(0,0,0,.25)"}},null,-1)),H=d(()=>l("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),J=d(()=>l("span",{class:"i-icon-park-outline-lock",style:{color:"rgba(0,0,0,.25)"}},null,-1)),O=d(()=>l("span",{class:"i-icon-park-outline-phone-telephone",style:{color:"rgba(0,0,0,.25)"}},null,-1)),Q=d(()=>l("span",{class:"i-icon-park-outline-mail",style:{color:"rgba(0,0,0,.25)"}},null,-1)),X=A({__name:"register",setup(_){const m=E(),f=g("$axios"),F=g("$msg"),B=x(),r=K({userName:"",nickName:"",password:"",rePassword:"",mobile:"",email:""}),y=E(!1),v={userName:[{required:!0,validator:C,trigger:"blur"}],nickName:[{required:!0,validator:D,trigger:"blur"}],password:[{required:!0,validator:h,trigger:"blur"}],rePassword:[{required:Boolean(r.password),validator:k,trigger:"blur"}]};async function C(t,e=""){const p=/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/;if(e)if(p.test(e)){if(e==="admin")throw new Error("\u7528\u6237\u540D\u7981\u6B62\u4F7F\u7528admin")}else throw new Error("\u7528\u6237\u540D\u75315-16\u4F4D\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u7EC4\u6210\uFF0C\u4E14\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934");else throw new Error("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A")}async function D(t,e=""){if(e){if(e.trim()!==e)throw new Error("\u5F00\u5934\u548C\u7ED3\u5C3E\u4E0D\u80FD\u5305\u542B\u7A7A\u683C");if(e.length>30)throw new Error("\u6635\u79F0\u4E0D\u80FD\u8D85\u8FC730\u5B57\u7B26")}else throw new Error("\u6635\u79F0\u4E0D\u80FD\u4E3A\u7A7A")}async function h(t,e=""){if(e){if(e.length<8)throw new Error("\u5BC6\u7801\u4E0D\u80FD\u5C11\u4E8E8\u4F4D");if(e.length>32)throw new Error("\u5BC6\u7801\u4E0D\u80FD\u591A\u4E8E32\u4F4D");r.rePassword&&m.value.validateFields("rePassword")}else throw new Error("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A")}async function k(t,e=""){if(e!==r.password)throw new Error("\u4E24\u6B21\u5BC6\u7801\u5185\u5BB9\u4E0D\u4E00\u81F4")}async function n(){try{await m.value.validateFields();const t=(await f.post(f.$apiBase+"/auth/register",{userName:r.userName,nickName:r.nickName,password:r.password,mobile:r.mobile,email:r.email})).data;t.success?(F.success("\u6CE8\u518C\u6210\u529F\uFF0C\u8BF7\u7B49\u5F85\u7BA1\u7406\u5458\u5BA1\u6838"),await B.push("/")):F.error(`\u6CE8\u518C\u5931\u8D25\uFF0C${t.message}`)}catch{}}return(t,e)=>{const p=q,i=j,w=R,b=V,N=L;return P(),U("div",M,[l("div",T,[u(N,I({wrapperCol:{span:24}},{ref_key:"registerForm",ref:m,layout:"horizontal",model:s(r),rules:v}),{default:o(()=>[u(i,{name:"nickName"},{default:o(()=>[u(p,{value:s(r).nickName,"onUpdate:value":e[0]||(e[0]=a=>s(r).nickName=a),placeholder:"\u6635\u79F0",onKeypress:c(n,["enter"])},{prefix:o(()=>[W]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"userName"},{default:o(()=>[u(p,{value:s(r).userName,"onUpdate:value":e[1]||(e[1]=a=>s(r).userName=a),placeholder:"\u7528\u6237\u540D",onKeypress:c(n,["enter"])},{prefix:o(()=>[G]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"password"},{default:o(()=>[u(w,{value:s(r).password,"onUpdate:value":e[2]||(e[2]=a=>s(r).password=a),placeholder:"\u5BC6\u7801",onKeypress:c(n,["enter"])},{prefix:o(()=>[H]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"rePassword"},{default:o(()=>[u(w,{value:s(r).rePassword,"onUpdate:value":e[3]||(e[3]=a=>s(r).rePassword=a),placeholder:"\u518D\u6B21\u8F93\u5165\u5BC6\u7801",onKeypress:c(n,["enter"])},{prefix:o(()=>[J]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"mobile"},{default:o(()=>[u(p,{value:s(r).mobile,"onUpdate:value":e[4]||(e[4]=a=>s(r).mobile=a),placeholder:"\u624B\u673A\u53F7\uFF08\u53EF\u9009\uFF09",onKeypress:c(n,["enter"])},{prefix:o(()=>[O]),_:1},8,["value","onKeypress"])]),_:1}),u(i,{name:"email"},{default:o(()=>[u(p,{value:s(r).email,"onUpdate:value":e[5]||(e[5]=a=>s(r).email=a),placeholder:"\u90AE\u7BB1\uFF08\u53EF\u9009\uFF09",onKeypress:c(n,["enter"])},{prefix:o(()=>[Q]),_:1},8,["value","onKeypress"])]),_:1}),u(i,null,{default:o(()=>[u(b,{type:"primary",block:"",loading:s(y),onClick:n},{default:o(()=>[$(" \u6CE8\u518C ")]),_:1},8,["loading"])]),_:1})]),_:1},16,["model"])])])}}});const fe=Z(X,[["__scopeId","data-v-c506cf0a"]]);export{fe as default};
