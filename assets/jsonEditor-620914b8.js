import{h as oe,y as f,D as I,R as ne,k as ae,o as w,l as y,T as B,U,n as o,m as r,a as d,p as L,ax as N,w as u,H as T,b as v,s as le,z as X,t as se,dc as ie,Q as $,E as de,B as ue,J as re,K as ce,dd as fe,_ as pe}from"./index-bf1b9cab.js";import{E as ve}from"./el-dialog-36a7b4a7.js";import"./index-3c57e300.js";import{u as me,S as _e,_ as ge,a as he,b as we}from"./jsonEditor-30d1e957.js";import{E as ye}from"./el-space-424de701.js";import{_ as Ce}from"./Paragraph-958e162c.js";import"./refs-cd49941d.js";import"./ResizeObserver.es-0f9f8adb.js";import"./isEqual-650fac00.js";import"./dayjs.min-1859de9f.js";import"./clamp-4d0d070d.js";const _=C=>(re("data-v-71fd8510"),C=C(),ce(),C),Se={class:"loadingPanel"},xe=_(()=>r("div",{class:"emptySpace"},null,-1)),Ee=_(()=>r("span",{class:"i-icon-park-outline-right"},null,-1)),De=_(()=>r("span",{class:"i-icon-park-outline-left"},null,-1)),ke={class:"dragIcon"},Le={key:0,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},be=_(()=>r("path",{fill:"currentColor",d:"M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"},null,-1)),je=[be],Ve={key:1,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"chevron-left",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},Pe=_(()=>r("path",{fill:"currentColor",d:"M224 480c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l169.4 169.4c12.5 12.5 12.5 32.75 0 45.25C240.4 476.9 232.2 480 224 480z"},null,-1)),Me=[Pe],Re={key:2,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"ellipsis-vertical",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 512"},ze=_(()=>r("path",{fill:"currentColor",d:"M64 360C94.93 360 120 385.1 120 416C120 446.9 94.93 472 64 472C33.07 472 8 446.9 8 416C8 385.1 33.07 360 64 360zM64 200C94.93 200 120 225.1 120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200zM64 152C33.07 152 8 126.9 8 96C8 65.07 33.07 40 64 40C94.93 40 120 65.07 120 96C120 126.9 94.93 152 64 152z"},null,-1)),Fe=[ze],Ie={class:"dialog-footer"},Be=oe({__name:"jsonEditor",setup(C){const P=ie(()=>fe(()=>import("./json-editor-extend-c3ddb69e.js"),["./json-editor-extend-c3ddb69e.js","./index-3c57e300.js","./index-bf1b9cab.js","./index-67d5b110.css","./ResizeObserver.es-0f9f8adb.js","./isEqual-650fac00.js","./index-ef167827.css","./el-dialog-36a7b4a7.js","./refs-cd49941d.js","./el-dialog-cf7618c9.css","./el-space-424de701.js","./el-space-417b6673.css","./el-dropdown-b9c0a8a6.js","./el-popper-51ee63d5.js","./el-popper-b17b6765.css","./el-scrollbar-76a3c665.js","./el-scrollbar-df5aa9a0.css","./el-dropdown-fcde02f4.css","./formatBytes-f3c6eb77.js","./jsoneditor.min-200066c2.js","./jsoneditor-322cecc8.css","./createFile-90913148.js","./Paragraph-958e162c.js","./Text-315cd6f4.js","./json-editor-extend-5cc9e6fe.css"],import.meta.url)),M=f(),S=f(),x=f(!0),l=f(""),t=me(),s=f({id:"",code:{array:[1,2,3],boolean:!0,color:"gold",null:null,number:123,object:{a:"b",c:"d"},string:"Hello World"},name:""}),i=f({id:"",code:{},name:""});I(s,n=>{debugger}),I(i,n=>{debugger}),ne(()=>{O()});async function O(){t.syncCloud&&await t.getSyncData(),x.value=!1,t.leftData&&t.leftData.content&&(s.value.name=t.leftData.name,t.leftData.content.json?s.value.code=t.leftData.content.json:t.leftData.content.text&&(s.value.code=t.leftData.content.text)),t.rightData&&t.rightData.content&&(i.value.name=t.rightData.name,t.rightData.content.json?i.value.code=t.rightData.content.json:t.rightData.content.text&&(i.value.code=t.rightData.content.text)),l.value=t.fullStatus}function R(n){n==="left"?(s.value.id="",s.value.name=""):(i.value.id="",i.value.name="")}const m=f(!1),c=f(""),g=f("");let b="";const A=ae(()=>t.dataList(g.value));function z(n){c.value="",g.value="",b=n,m.value=!0}function J(){if(c.value){const n=t.data(c.value);if(n&&n.content){const e=n.content;b==="left"?(t.saveData({left:!0,id:c.value}),e.json?(s.value.id=c.value,s.value.name=n.name,s.value.code=e.json):e.text&&(s.value.id=c.value,s.value.name=n.name,s.value.code=e.text)):b==="right"&&(t.saveData({right:!0,id:c.value}),e.json?(i.value.id=c.value,i.value.name=n.name,i.value.code=e.json):e.text&&(i.value.id=c.value,i.value.name=n.name,i.value.code=e.text))}}m.value=!1}function W(){i.value.code=$(s.value.code)}function H(){s.value.code=$(i.value.code)}let j=0,E=0,V=!1;function F(n){if(n instanceof MouseEvent&&n.button!==0)return;V=!1;const e=M.value.container;E=parseFloat(window.getComputedStyle(e).width),isNaN(E)&&(E=0),n instanceof TouchEvent?(j=n.touches[0].clientX,document.addEventListener("touchend",k),document.addEventListener("touchmove",D)):(j=n.clientX,document.addEventListener("mouseup",k),document.addEventListener("mousemove",D))}function D(n){V=!0;let e=0;n instanceof TouchEvent?e=n.touches[0].clientX:e=n.clientX;const h=E-j+e,p=parseFloat(window.getComputedStyle(S.value).width);h<435?(l.value="right",l.value!==t.fullStatus&&t.setFullStatus("right")):p-100-h<435?(l.value="left",l.value!==t.fullStatus&&t.setFullStatus("left")):(l.value="",t.setSplitter(h/(p-100)),l.value!==t.fullStatus&&t.setFullStatus())}function k(){document.removeEventListener("mousemove",D),document.removeEventListener("touchmove",D),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k)}function K(){V||(l.value==="left"?(t.setSplitter(1-435/(parseFloat(window.getComputedStyle(S.value).width)-100)),l.value=""):l.value==="right"&&(t.setSplitter(435/(parseFloat(window.getComputedStyle(S.value).width)-100)),l.value=""))}return(n,e)=>{const h=_e,p=de,Q=ye,q=Ce,G=ue,Y=ge,Z=he,ee=we,te=ve;return w(),y(T,null,[B(r("div",Se,[d(h,{tip:"同步中..."})],512),[[U,o(x)]]),B(r("div",{ref_key:"editorPanel",ref:S,class:"editorPanel"},[d(o(P),{ref_key:"editorPanelContainerLeft",ref:M,code:o(s).code,"onUpdate:code":e[0]||(e[0]=a=>o(s).code=a),name:o(s).name,"onUpdate:name":e[1]||(e[1]=a=>o(s).name=a),class:L(["editorPanelContainerLeft",{full:o(l)==="left",hide:o(l)==="right"}]),style:N({flex:o(t).splitterValue+" 1 0"}),mode:"code",onOpenRecent:e[2]||(e[2]=a=>z("left")),onCreate:e[3]||(e[3]=a=>R("left"))},null,8,["code","name","class","style"]),r("div",{class:L(["controller noShowMobile",{full:o(l)}])},[d(Q,{direction:"vertical"},{default:u(()=>[o(l)?le("",!0):(w(),y(T,{key:0},[xe,d(p,{type:"primary",block:"",onClick:W},{default:u(()=>[v(" 复制 "),Ee]),_:1}),d(p,{type:"primary",block:"",onClick:H},{default:u(()=>[De,v(" 复制 ")]),_:1})],64)),r("div",{class:"drag",onMousedown:F,onTouchstart:F,onClick:K},[r("div",ke,[o(l)==="right"?(w(),y("svg",Le,je)):o(l)==="left"?(w(),y("svg",Ve,Me)):(w(),y("svg",Re,Fe))])],32)]),_:1})],2),d(o(P),{code:o(i).code,"onUpdate:code":e[4]||(e[4]=a=>o(i).code=a),name:o(i).name,"onUpdate:name":e[5]||(e[5]=a=>o(i).name=a),class:L(["editorPanelContainerRight noShowMobile",{full:o(l)==="right",hide:o(l)==="left"}]),style:N({flex:1-o(t).splitterValue+" 1 0"}),mode:"tree",onOpenRecent:e[6]||(e[6]=a=>z("right")),onCreate:e[7]||(e[7]=a=>R("right"))},null,8,["code","name","class","style"])],512),[[U,!o(x)]]),d(te,{modelValue:o(m),"onUpdate:modelValue":e[10]||(e[10]=a=>X(m)?m.value=a:null),title:"打开最近"},{footer:u(()=>[r("span",Ie,[d(p,{onClick:e[9]||(e[9]=a=>m.value=!1)},{default:u(()=>[v("取消")]),_:1}),d(p,{type:"primary",onClick:J},{default:u(()=>[v(" 确定 ")]),_:1})])]),default:u(()=>[d(q,null,{default:u(()=>[v("搜索")]),_:1}),d(G,{modelValue:o(g),"onUpdate:modelValue":e[8]||(e[8]=a=>X(g)?g.value=a:null),placeholder:"请输入文档名称"},null,8,["modelValue"]),d(ee,{class:"dataList","item-layout":"horizontal","data-source":o(A)},{renderItem:u(({item:a})=>[d(Z,{class:L({selected:a._id===o(c)}),onClick:Ue=>c.value=a._id},{actions:u(()=>[d(p,{type:"danger"},{default:u(()=>[v(" 删除 ")]),_:1})]),default:u(()=>[d(Y,{description:"最后修改: "+a.updated},{title:u(()=>[v(se(a.name),1)]),_:2},1032,["description"])]),_:2},1032,["class","onClick"])]),_:1},8,["data-source"])]),_:1},8,["modelValue"])],64)}}});const qe=pe(Be,[["__scopeId","data-v-71fd8510"]]);export{qe as default};
