import{_ as k,r as v,j as N,o as b,c as B,w as i,a as _,k as g,l as w,b as f,m as E,B as j}from"./index.78e7e2f3.js";import{_ as C}from"./index.2795be3e.js";import"./useFlexGapSupport.2c5afeee.js";const h=[16,8,4,2,1],x="0123456789bcdefghjkmnpqrstuvwxyz",y=function(n,t,e){t&e?n[0]=(n[0]+n[1])/2:n[1]=(n[0]+n[1])/2};function G(n,t){if(typeof n=="string"){const a=n.split(",");if(a.length>=2){if(n=parseFloat(a[0]),t=parseFloat(a[1]),isNaN(n)||isNaN(t))throw new Error("Not Supported")}else throw new Error("Not Supported")}let e=1;const o=[],c=[];let r=0,u=0;const s=12;let l="";for(o[0]=-90,o[1]=90,c[0]=-180,c[1]=180;l.length<s;){if(e){const a=(c[0]+c[1])/2;t>a?(u|=h[r],c[0]=a):c[1]=a}else{const a=(o[0]+o[1])/2;n>a?(u|=h[r],o[0]=a):o[1]=a}e=!e,r<4?r++:(l+=x[u],r=0,u=0)}return l}function H(n){let t=1;const e=[],o=[];e[0]=-90,e[1]=90,o[0]=-180,o[1]=180;for(let c=0;c<n.length;c++){const r=n[c],u=x.indexOf(r);for(let s=0;s<5;s++){const l=h[s];y(t?o:e,u,l),t=!t}}return e[2]=(e[0]+e[1])/2,o[2]=(o[0]+o[1])/2,{latitude:e[2],longitude:o[2]}}const S={__name:"geohash",setup(n){const t=v(""),e=v(""),o=N("$msg");function c(){try{e.value=G(t.value)}catch(s){o.error(`\u7F16\u7801\u5931\u8D25\uFF0C${s.message}`)}}function r(){try{const{latitude:s,longitude:l}=H(t.value);e.value=s+","+l}catch(s){o.error(`\u89E3\u7801\u5931\u8D25\uFF0C${s.message}`)}}function u(){const s=t.value;t.value=e.value,e.value=s}return(s,l)=>{const a=E,p=j,m=C;return b(),B(m,{direction:"vertical",style:{width:"100%"}},{default:i(()=>[_(a,{value:g(t),"onUpdate:value":l[0]||(l[0]=d=>w(t)?t.value=d:null),rows:5,placeholder:"\u8BF7\u8F93\u5165\u8981\u8FDB\u884C GeoHash \u7F16\u7801\u6216\u89E3\u7801\u7684\u5B57\u7B26"},null,8,["value"]),_(m,{style:{"flex-wrap":"wrap"}},{default:i(()=>[_(p,{type:"primary",onClick:c},{default:i(()=>[f(" \u7F16\u7801 (Encode) ")]),_:1}),_(p,{onClick:r},{default:i(()=>[f(" \u89E3\u7801 (Decode) ")]),_:1}),_(p,{onClick:u},{default:i(()=>[f(" \u2195\u4EA4\u6362 ")]),_:1})]),_:1}),_(a,{value:g(e),"onUpdate:value":l[1]||(l[1]=d=>w(e)?e.value=d:null),rows:5,readonly:"",placeholder:"GeoHash \u7F16\u7801\u6216\u89E3\u7801\u7684\u7ED3\u679C"},null,8,["value"])]),_:1})}}},T=k(S,[["__scopeId","data-v-4577b636"]]);export{T as default};
