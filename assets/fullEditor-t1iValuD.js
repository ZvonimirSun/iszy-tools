import{a3 as X,B as A,a8 as z,q as S,V as D,o as U,c as $,a as b,b as _,ay as R,y,X as H,t as F,K as N,aA as O,b4 as P,aG as V,aH as Z}from"./vendor-Ru-BxWlB.js";import{a as I,V as j}from"./vue3-ace-editor-EqwXQE1E.js";import"./ace-builds-34Vbu04p.js";import"./common-K04dNQ2-.js";import"./ant-design-vue-MAwBXcQi.js";import"./vanilla-jsoneditor-_koh3yF9.js";var Y={exports:{}};(function(v,E){ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(u,w,M){var r=u("../lib/oop"),f=u("./text_highlight_rules").TextHighlightRules,x=function(s){var d="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+d+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:d},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+d+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+d+":)?"+d+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:d},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===x&&this.normalizeRules()};(function(){this.embedTagRules=function(s,d,c){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(<)("+c+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:d+"start"}]}),this.$rules[c+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(i,l,n){return n.splice(0),this.token}}],this.embedRules(s,d,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+c+".tag-name.xml"],regex:"(</)("+c+"(?=\\s|>|$))",next:c+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(f.prototype),r.inherits(x,f),w.XmlHighlightRules=x}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(u,w,M){var r=u("../../lib/oop"),f=u("../behaviour").Behaviour,x=u("../../token_iterator").TokenIterator;u("../../lib/lang");function s(c,i){return c&&c.type.lastIndexOf(i+".xml")>-1}var d=function(){this.add("string_dquotes","insertion",function(c,i,l,n,e){if(e=='"'||e=="'"){var t=e,a=n.doc.getTextRange(l.getSelectionRange());if(a!==""&&a!=="'"&&a!='"'&&l.getWrapBehavioursEnabled())return{text:t+a+t,selection:!1};var o=l.getCursorPosition(),g=n.doc.getLine(o.row),h=g.substring(o.column,o.column+1),k=new x(n,o.row,o.column),p=k.getCurrentToken();if(h==t&&(s(p,"attribute-value")||s(p,"string")))return{text:"",selection:[1,1]};if(p||(p=k.stepBackward()),!p)return;for(;s(p,"tag-whitespace")||s(p,"whitespace");)p=k.stepBackward();var m=!h||h.match(/\s/);if(s(p,"attribute-equals")&&(m||h==">")||s(p,"decl-attribute-equals")&&(m||h=="?"))return{text:t+t,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(c,i,l,n,e){var t=n.doc.getTextRange(e);if(!e.isMultiLine()&&(t=='"'||t=="'")){var a=n.doc.getLine(e.start.row),o=a.substring(e.start.column+1,e.start.column+2);if(o==t)return e.end.column++,e}}),this.add("autoclosing","insertion",function(c,i,l,n,e){if(e==">"){var t=l.getSelectionRange().start,a=new x(n,t.row,t.column),o=a.getCurrentToken()||a.stepBackward();if(!o||!(s(o,"tag-name")||s(o,"tag-whitespace")||s(o,"attribute-name")||s(o,"attribute-equals")||s(o,"attribute-value"))||s(o,"reference.attribute-value"))return;if(s(o,"attribute-value")){var g=a.getCurrentTokenColumn()+o.value.length;if(t.column<g)return;if(t.column==g){var h=a.stepForward();if(h&&s(h,"attribute-value"))return;a.stepBackward()}}if(/^\s*>/.test(n.getLine(t.row).slice(t.column)))return;for(;!s(o,"tag-name");)if(o=a.stepBackward(),o.value=="<"){o=a.stepForward();break}var k=a.getCurrentTokenRow(),p=a.getCurrentTokenColumn();if(s(a.stepBackward(),"end-tag-open"))return;var m=o.value;return k==t.row&&(m=m.substring(0,t.column-p)),this.voidElements.hasOwnProperty(m.toLowerCase())?void 0:{text:"></"+m+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(c,i,l,n,e){if(e==`
`){var t=l.getCursorPosition(),a=n.getLine(t.row),o=new x(n,t.row,t.column),g=o.getCurrentToken();if(g&&g.type.indexOf("tag-close")!==-1){if(g.value=="/>")return;for(;g&&g.type.indexOf("tag-name")===-1;)g=o.stepBackward();if(!g)return;var h=g.value,k=o.getCurrentTokenRow();if(g=o.stepBackward(),!g||g.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[h]){var p=n.getTokenAt(t.row,t.column+1),a=n.getLine(k),m=this.$getIndent(a),T=m+n.getTabString();return p&&p.value==="</"?{text:`
`+T+`
`+m,selection:[1,T.length,1,T.length]}:{text:`
`+T}}}}})};r.inherits(d,f),w.XmlBehaviour=d}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(u,w,M){var r=u("../../lib/oop"),f=u("../../range").Range,x=u("./fold_mode").FoldMode,s=w.FoldMode=function(i,l){x.call(this),this.voidElements=i||{},this.optionalEndTags=r.mixin({},this.voidElements),l&&r.mixin(this.optionalEndTags,l)};r.inherits(s,x);var d=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(i,l){return i.type.lastIndexOf(l+".xml")>-1}(function(){this.getFoldWidget=function(i,l,n){var e=this._getFirstTagInLine(i,n);return e?e.closing||!e.tagName&&e.selfClosing?l==="markbeginend"?"end":"":!e.tagName||e.selfClosing||this.voidElements.hasOwnProperty(e.tagName.toLowerCase())||this._findEndTagInLine(i,n,e.tagName,e.end.column)?"":"start":this.getCommentFoldWidget(i,n)},this.getCommentFoldWidget=function(i,l){return/comment/.test(i.getState(l))&&/<!-/.test(i.getLine(l))?"start":""},this._getFirstTagInLine=function(i,l){for(var n=i.getTokens(l),e=new d,t=0;t<n.length;t++){var a=n[t];if(c(a,"tag-open")){if(e.end.column=e.start.column+a.value.length,e.closing=c(a,"end-tag-open"),a=n[++t],!a)return null;for(e.tagName=a.value,e.end.column+=a.value.length,t++;t<n.length;t++)if(a=n[t],e.end.column+=a.value.length,c(a,"tag-close")){e.selfClosing=a.value=="/>";break}return e}else if(c(a,"tag-close"))return e.selfClosing=a.value=="/>",e;e.start.column+=a.value.length}return null},this._findEndTagInLine=function(i,l,n,e){for(var t=i.getTokens(l),a=0,o=0;o<t.length;o++){var g=t[o];if(a+=g.value.length,!(a<e)&&c(g,"end-tag-open")&&(g=t[o+1],g&&g.value==n))return!0}return!1},this.getFoldWidgetRange=function(i,l,n){var e=i.getMatchingTags({row:n,column:0});return e?new f(e.openTag.end.row,e.openTag.end.column,e.closeTag.start.row,e.closeTag.start.column):this.getCommentFoldWidget(i,n)&&i.getCommentFoldRange(n,i.getLine(n).length)}}).call(s.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(u,w,M){var r=u("../lib/oop"),f=u("../lib/lang"),x=u("./text").Mode,s=u("./xml_highlight_rules").XmlHighlightRules,d=u("./behaviour/xml").XmlBehaviour,c=u("./folding/xml").FoldMode,i=u("../worker/worker_client").WorkerClient,l=function(){this.HighlightRules=s,this.$behaviour=new d,this.foldingRules=new c};r.inherits(l,x),(function(){this.voidElements=f.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.createWorker=function(n){var e=new i(["ace"],"ace/mode/xml_worker","Worker");return e.attachToDocument(n.getDocument()),e.on("error",function(t){n.setAnnotations(t.data)}),e.on("terminate",function(){n.clearAnnotations()}),e},this.$id="ace/mode/xml"}).call(l.prototype),w.Mode=l}),function(){ace.require(["ace/mode/xml"],function(u){v&&(v.exports=u)})}()})(Y);var G={exports:{}};(function(v,E){(function(){ace.require(["ace/snippets/xml"],function(u){v&&(v.exports=u)})})()})(G);const K="/assets/worker-xml-rnPWdY3y.js",B=v=>(V("data-v-fae09179"),v=v(),Z(),v),J={class:"codePanel"},Q={class:"header"},q=B(()=>b("span",{class:"i-iszy-jsoneditor-format"},null,-1)),ee=B(()=>b("span",{class:"i-icon-park-outline-collapse-text-input"},null,-1)),te=B(()=>b("span",{class:"i-icon-park-outline-expand-text-input"},null,-1)),ne=B(()=>b("span",{class:"i-icon-park-outline-undo"},null,-1)),ae=B(()=>b("span",{class:"i-icon-park-outline-redo"},null,-1)),oe=B(()=>b("span",{class:"i-icon-park-outline-to-top"},null,-1)),ie=B(()=>b("span",{class:"i-icon-park-outline-to-bottom"},null,-1)),le={class:"ace-container"},re={class:"footer"},se={__name:"fullEditor",props:{value:{type:String,default:""}},emits:["change"],setup(v,{emit:E}){I.config.setModuleUrl("ace/mode/xml_worker",K);const u=I.require("ace/ext/beautify"),w=v,M=E;let r=null;const f=A(""),x=A({row:0,column:0}),s=A(0),d=A(!1),c=A(!1),i=A("textmate"),l=z();l.value&&(i.value="twilight"),S(l,m=>{m?i.value="twilight":i.value="textmate"}),S(f,m=>{M("change",m)}),D(()=>{f.value=w.value});function n(m){r=m,r.getSession().setTabSize(2),r.getSession().setUseSoftTabs(!0),r.setShowPrintMargin(!1),r.selection.on("changeCursor",()=>{x.value=r.selection.getCursor()}),x.value=r.selection.getCursor(),s.value=r.session.getLength()}function e(){r.session.foldAll()}function t(){r.session.unfold()}function a(){r.gotoLine(0)}function o(){u.beautify(r.session)}function g(){r.gotoLine(r.session.getLength())}async function h(){s.value=r.session.getLength(),await N();const m=r.session.getUndoManager();d.value=m.hasUndo(),c.value=m.hasRedo()}function k(){r.getSession().getUndoManager().undo()}function p(){r.getSession().getUndoManager().redo()}return(m,T)=>{const C=O,L=P;return U(),$("div",J,[b("div",Q,[_(C,{type:"primary",title:"格式化",onClick:o},{icon:R(()=>[q]),_:1}),_(L,{direction:"vertical"}),_(C,{type:"primary",title:"折叠所有",onClick:e},{icon:R(()=>[ee]),_:1}),_(C,{type:"primary",title:"展开所有",onClick:t},{icon:R(()=>[te]),_:1}),_(L,{direction:"vertical"}),_(C,{type:"primary",title:"撤销",disabled:!y(d),onClick:k},{icon:R(()=>[ne]),_:1},8,["disabled"]),_(C,{type:"primary",title:"重做",disabled:!y(c),onClick:p},{icon:R(()=>[ae]),_:1},8,["disabled"]),_(L,{direction:"vertical"}),_(C,{type:"primary",title:"前往顶部",onClick:a},{icon:R(()=>[oe]),_:1}),_(C,{type:"primary",title:"前往底部",onClick:g},{icon:R(()=>[ie]),_:1})]),b("div",le,[_(y(j),{value:y(f),"onUpdate:value":T[0]||(T[0]=W=>H(f)?f.value=W:null),lang:"xml",theme:y(i),style:{height:"100%"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0},onInit:n,onChange:h},null,8,["value","theme"])]),b("div",re,[b("span",null,"总行数: "+F(y(s))+"  行数: "+F(y(x).row+1)+"  列数: "+F(y(x).column+1),1)])])}}},pe=X(se,[["__scopeId","data-v-fae09179"]]);export{pe as default};
