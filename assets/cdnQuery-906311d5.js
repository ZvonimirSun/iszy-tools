import{h as ne,j as ve,o as D,c as ee,w as G,r as Yt,bx as _r,d6 as Sr,n as g,aU as Dr,v as ke,g as Ae,bK as Ge,aG as xe,k as ue,l as R,t as Z,q as Nt,ag as wt,a4 as Le,a5 as Zt,a9 as en,aX as tn,y as W,D as pe,a as Q,H as me,I as Oe,p as ae,m as J,B as nn,aV as rn,s as Y,d1 as Tr,d7 as Rt,d2 as Ir,a3 as Or,ac as at,am as Fe,aD as jr,aF as be,ar as Te,ah as Ar,ai as qr,x as Kr,co as gt,X as zr,aL as $r,cP as ft,cN as Rr,bL as Br,$ as mt,d8 as Mr,aJ as Ie,T as vt,U as yt,aK as Se,a1 as Lr,bz as Fr,aq as Ur,a0 as Bt,R as an,af as Hr,aB as Wr,ak as De,bE as Jr,Z as Vr,C as Qr,W as Gr,b as se,z as Mt,d9 as Xr,A as Yr,aQ as Lt,J as Zr,K as ea,_ as ta}from"./index-f2ec282f.js";import{E as na}from"./el-checkbox-8fd63dc5.js";import{u as Pt,h as Ft,j as Ut,c as on,a as Be,k as ra,l as aa,P as Ht,C as oa,T as sa}from"./index-b13042ab.js";import"./el-tag-5ed018ec.js";import{E as sn,a as un}from"./el-select-37a899dc.js";import"./el-scrollbar-e88d9e52.js";import"./el-popper-800d90cb.js";import{E as ia}from"./el-divider-2863de80.js";import{i as ua}from"./isEqual-13a6b9eb.js";import"./index-3157bc73.js";import{_ as la}from"./Link-bdfc6d2d.js";import{_ as ca}from"./Paragraph-244759ba.js";import{_ as da}from"./Title-7d18c8fb.js";import{_ as fa}from"./Text-e95f14b8.js";import"./ResizeObserver.es-0f9f8adb.js";import"./index-b3defa77.js";import"./strings-5c4d6843.js";const ha=ne({name:"ElCollapseTransition"}),pa=ne({...ha,setup(t){const n=ve("collapse-transition"),i={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){s.dataset.oldOverflow=s.style.overflow,s.scrollHeight!==0?(s.style.maxHeight=`${s.scrollHeight}px`,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom):(s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom),s.style.overflow="hidden"},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom}};return(s,r)=>(D(),ee(Dr,_r({name:g(n).b()},Sr(i)),{default:G(()=>[Yt(s.$slots,"default")]),_:3},16,["name"]))}});var tt=ke(pa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);tt.install=t=>{t.component(tt.name,tt)};const ga=tt,ln=Symbol("elPaginationKey"),ma=Ae({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ge}}),va={click:t=>t instanceof MouseEvent},ya=["disabled","aria-label","aria-disabled"],ba={key:0},ka=ne({name:"ElPaginationPrev"}),Ca=ne({...ka,props:ma,emits:va,setup(t){const n=t,{t:i}=xe(),s=ue(()=>n.disabled||n.currentPage<=1);return(r,c)=>(D(),R("button",{type:"button",class:"btn-prev",disabled:g(s),"aria-label":r.prevText||g(i)("el.pagination.prev"),"aria-disabled":g(s),onClick:c[0]||(c[0]=m=>r.$emit("click",m))},[r.prevText?(D(),R("span",ba,Z(r.prevText),1)):(D(),ee(g(wt),{key:1},{default:G(()=>[(D(),ee(Nt(r.prevIcon)))]),_:1}))],8,ya))}});var Na=ke(Ca,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const wa=Ae({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ge}}),Pa=["disabled","aria-label","aria-disabled"],Ea={key:0},xa=ne({name:"ElPaginationNext"}),_a=ne({...xa,props:wa,emits:["click"],setup(t){const n=t,{t:i}=xe(),s=ue(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(r,c)=>(D(),R("button",{type:"button",class:"btn-next",disabled:g(s),"aria-label":r.nextText||g(i)("el.pagination.next"),"aria-disabled":g(s),onClick:c[0]||(c[0]=m=>r.$emit("click",m))},[r.nextText?(D(),R("span",Ea,Z(r.nextText),1)):(D(),ee(g(wt),{key:1},{default:G(()=>[(D(),ee(Nt(r.nextIcon)))]),_:1}))],8,Pa))}});var Sa=ke(_a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Et=()=>Le(ln,{}),Da=Ae({pageSize:{type:Number,required:!0},pageSizes:{type:Zt(Array),default:()=>en([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:tn}}),Ta=ne({name:"ElPaginationSizes"}),Ia=ne({...Ta,props:Da,emits:["page-size-change"],setup(t,{emit:n}){const i=t,{t:s}=xe(),r=ve("pagination"),c=Et(),m=W(i.pageSize);pe(()=>i.pageSizes,(p,x)=>{if(!ua(p,x)&&Array.isArray(p)){const b=p.includes(i.pageSize)?i.pageSize:i.pageSizes[0];n("page-size-change",b)}}),pe(()=>i.pageSize,p=>{m.value=p});const h=ue(()=>i.pageSizes);function K(p){var x;p!==m.value&&(m.value=p,(x=c.handleSizeChange)==null||x.call(c,Number(p)))}return(p,x)=>(D(),R("span",{class:ae(g(r).e("sizes"))},[Q(g(un),{"model-value":m.value,disabled:p.disabled,"popper-class":p.popperClass,size:p.size,"validate-event":!1,onChange:K},{default:G(()=>[(D(!0),R(me,null,Oe(g(h),b=>(D(),ee(g(sn),{key:b,value:b,label:b+g(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var Oa=ke(Ia,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const ja=Ae({size:{type:String,values:tn}}),Aa=["disabled"],qa=ne({name:"ElPaginationJumper"}),Ka=ne({...qa,props:ja,setup(t){const{t:n}=xe(),i=ve("pagination"),{pageCount:s,disabled:r,currentPage:c,changeEvent:m}=Et(),h=W(),K=ue(()=>{var b;return(b=h.value)!=null?b:c?.value});function p(b){h.value=b?+b:""}function x(b){b=Math.trunc(+b),m?.(b),h.value=void 0}return(b,k)=>(D(),R("span",{class:ae(g(i).e("jump")),disabled:g(r)},[J("span",{class:ae([g(i).e("goto")])},Z(g(n)("el.pagination.goto")),3),Q(g(nn),{size:b.size,class:ae([g(i).e("editor"),g(i).is("in-pagination")]),min:1,max:g(s),disabled:g(r),"model-value":g(K),"validate-event":!1,label:g(n)("el.pagination.page"),type:"number","onUpdate:modelValue":p,onChange:x},null,8,["size","class","max","disabled","model-value","label"]),J("span",{class:ae([g(i).e("classifier")])},Z(g(n)("el.pagination.pageClassifier")),3)],10,Aa))}});var za=ke(Ka,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const $a=Ae({total:{type:Number,default:1e3}}),Ra=["disabled"],Ba=ne({name:"ElPaginationTotal"}),Ma=ne({...Ba,props:$a,setup(t){const{t:n}=xe(),i=ve("pagination"),{disabled:s}=Et();return(r,c)=>(D(),R("span",{class:ae(g(i).e("total")),disabled:g(s)},Z(g(n)("el.pagination.total",{total:r.total})),11,Ra))}});var La=ke(Ma,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const Fa=Ae({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Ua=["onKeyup"],Ha=["aria-current","aria-label","tabindex"],Wa=["tabindex","aria-label"],Ja=["aria-current","aria-label","tabindex"],Va=["tabindex","aria-label"],Qa=["aria-current","aria-label","tabindex"],Ga=ne({name:"ElPaginationPager"}),Xa=ne({...Ga,props:Fa,emits:["change"],setup(t,{emit:n}){const i=t,s=ve("pager"),r=ve("icon"),{t:c}=xe(),m=W(!1),h=W(!1),K=W(!1),p=W(!1),x=W(!1),b=W(!1),k=ue(()=>{const w=i.pagerCount,C=(w-1)/2,f=Number(i.currentPage),$=Number(i.pageCount);let F=!1,S=!1;$>w&&(f>w-C&&(F=!0),f<$-C&&(S=!0));const O=[];if(F&&!S){const P=$-(w-2);for(let ie=P;ie<$;ie++)O.push(ie)}else if(!F&&S)for(let P=2;P<w;P++)O.push(P);else if(F&&S){const P=Math.floor(w/2)-1;for(let ie=f-P;ie<=f+P;ie++)O.push(ie)}else for(let P=2;P<$;P++)O.push(P);return O}),d=ue(()=>["more","btn-quickprev",r.b(),s.is("disabled",i.disabled)]),z=ue(()=>["more","btn-quicknext",r.b(),s.is("disabled",i.disabled)]),B=ue(()=>i.disabled?-1:0);rn(()=>{const w=(i.pagerCount-1)/2;m.value=!1,h.value=!1,i.pageCount>i.pagerCount&&(i.currentPage>i.pagerCount-w&&(m.value=!0),i.currentPage<i.pageCount-w&&(h.value=!0))});function _(w=!1){i.disabled||(w?K.value=!0:p.value=!0)}function V(w=!1){w?x.value=!0:b.value=!0}function U(w){const C=w.target;if(C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("number")){const f=Number(C.textContent);f!==i.currentPage&&n("change",f)}else C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("more")&&q(w)}function q(w){const C=w.target;if(C.tagName.toLowerCase()==="ul"||i.disabled)return;let f=Number(C.textContent);const $=i.pageCount,F=i.currentPage,S=i.pagerCount-2;C.className.includes("more")&&(C.className.includes("quickprev")?f=F-S:C.className.includes("quicknext")&&(f=F+S)),Number.isNaN(+f)||(f<1&&(f=1),f>$&&(f=$)),f!==F&&n("change",f)}return(w,C)=>(D(),R("ul",{class:ae(g(s).b()),onClick:q,onKeyup:Or(U,["enter"])},[w.pageCount>0?(D(),R("li",{key:0,class:ae([[g(s).is("active",w.currentPage===1),g(s).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===1,"aria-label":g(c)("el.pagination.currentPage",{pager:1}),tabindex:g(B)}," 1 ",10,Ha)):Y("v-if",!0),m.value?(D(),R("li",{key:1,class:ae(g(d)),tabindex:g(B),"aria-label":g(c)("el.pagination.prevPages",{pager:w.pagerCount-2}),onMouseenter:C[0]||(C[0]=f=>_(!0)),onMouseleave:C[1]||(C[1]=f=>K.value=!1),onFocus:C[2]||(C[2]=f=>V(!0)),onBlur:C[3]||(C[3]=f=>x.value=!1)},[(K.value||x.value)&&!w.disabled?(D(),ee(g(Tr),{key:0})):(D(),ee(g(Rt),{key:1}))],42,Wa)):Y("v-if",!0),(D(!0),R(me,null,Oe(g(k),f=>(D(),R("li",{key:f,class:ae([[g(s).is("active",w.currentPage===f),g(s).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===f,"aria-label":g(c)("el.pagination.currentPage",{pager:f}),tabindex:g(B)},Z(f),11,Ja))),128)),h.value?(D(),R("li",{key:2,class:ae(g(z)),tabindex:g(B),"aria-label":g(c)("el.pagination.nextPages",{pager:w.pagerCount-2}),onMouseenter:C[4]||(C[4]=f=>_()),onMouseleave:C[5]||(C[5]=f=>p.value=!1),onFocus:C[6]||(C[6]=f=>V()),onBlur:C[7]||(C[7]=f=>b.value=!1)},[(p.value||b.value)&&!w.disabled?(D(),ee(g(Ir),{key:0})):(D(),ee(g(Rt),{key:1}))],42,Va)):Y("v-if",!0),w.pageCount>1?(D(),R("li",{key:3,class:ae([[g(s).is("active",w.currentPage===w.pageCount),g(s).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===w.pageCount,"aria-label":g(c)("el.pagination.currentPage",{pager:w.pageCount}),tabindex:g(B)},Z(w.pageCount),11,Qa)):Y("v-if",!0)],42,Ua))}});var Ya=ke(Xa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const ce=t=>typeof t!="number",Za=Ae({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Te(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Zt(Array),default:()=>en([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ge,default:()=>Ar},nextText:{type:String,default:""},nextIcon:{type:Ge,default:()=>qr},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),eo={"update:current-page":t=>Te(t),"update:page-size":t=>Te(t),"size-change":t=>Te(t),"current-change":t=>Te(t),"prev-click":t=>Te(t),"next-click":t=>Te(t)},Wt="ElPagination";var to=ne({name:Wt,props:Za,emits:eo,setup(t,{emit:n,slots:i}){const{t:s}=xe(),r=ve("pagination"),c=at().vnode.props||{},m="onUpdate:currentPage"in c||"onUpdate:current-page"in c||"onCurrentChange"in c,h="onUpdate:pageSize"in c||"onUpdate:page-size"in c||"onSizeChange"in c,K=ue(()=>{if(ce(t.total)&&ce(t.pageCount)||!ce(t.currentPage)&&!m)return!1;if(t.layout.includes("sizes")){if(ce(t.pageCount)){if(!ce(t.total)&&!ce(t.pageSize)&&!h)return!1}else if(!h)return!1}return!0}),p=W(ce(t.defaultPageSize)?10:t.defaultPageSize),x=W(ce(t.defaultCurrentPage)?1:t.defaultCurrentPage),b=ue({get(){return ce(t.pageSize)?p.value:t.pageSize},set(q){ce(t.pageSize)&&(p.value=q),h&&(n("update:page-size",q),n("size-change",q))}}),k=ue(()=>{let q=0;return ce(t.pageCount)?ce(t.total)||(q=Math.max(1,Math.ceil(t.total/b.value))):q=t.pageCount,q}),d=ue({get(){return ce(t.currentPage)?x.value:t.currentPage},set(q){let w=q;q<1?w=1:q>k.value&&(w=k.value),ce(t.currentPage)&&(x.value=w),m&&(n("update:current-page",w),n("current-change",w))}});pe(k,q=>{d.value>q&&(d.value=q)});function z(q){d.value=q}function B(q){b.value=q;const w=k.value;d.value>w&&(d.value=w)}function _(){t.disabled||(d.value-=1,n("prev-click",d.value))}function V(){t.disabled||(d.value+=1,n("next-click",d.value))}function U(q,w){q&&(q.props||(q.props={}),q.props.class=[q.props.class,w].join(" "))}return Fe(ln,{pageCount:k,disabled:ue(()=>t.disabled),currentPage:d,changeEvent:z,handleSizeChange:B}),()=>{var q,w;if(!K.value)return jr(Wt,s("el.pagination.deprecationWarning")),null;if(!t.layout||t.hideOnSinglePage&&k.value<=1)return null;const C=[],f=[],$=be("div",{class:r.e("rightwrapper")},f),F={prev:be(Na,{disabled:t.disabled,currentPage:d.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:_}),jumper:be(za,{size:t.small?"small":"default"}),pager:be(Ya,{currentPage:d.value,pageCount:k.value,pagerCount:t.pagerCount,onChange:z,disabled:t.disabled}),next:be(Sa,{disabled:t.disabled,currentPage:d.value,pageCount:k.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:V}),sizes:be(Oa,{pageSize:b.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,size:t.small?"small":"default"}),slot:(w=(q=i?.default)==null?void 0:q.call(i))!=null?w:null,total:be(La,{total:ce(t.total)?0:t.total})},S=t.layout.split(",").map(P=>P.trim());let O=!1;return S.forEach(P=>{if(P==="->"){O=!0;return}O?f.push(F[P]):C.push(F[P])}),U(C[0],r.is("first")),U(C[C.length-1],r.is("last")),O&&f.length>0&&(U(f[0],r.is("first")),U(f[f.length-1],r.is("last")),C.push($)),be("div",{class:[r.b(),r.is("background",t.background),{[r.m("small")]:t.small}]},C)}}});const no=Kr(to),Me="$treeNodeId",Jt=function(t,n){!n||n[Me]||Object.defineProperty(n,Me,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},xt=function(t,n){return t?n[t]:n[Me]},bt=(t,n,i)=>{const s=t.value.currentNode;i();const r=t.value.currentNode;s!==r&&n("current-change",r?r.data:null,r)},kt=t=>{let n=!0,i=!0,s=!0;for(let r=0,c=t.length;r<c;r++){const m=t[r];(m.checked!==!0||m.indeterminate)&&(n=!1,m.disabled||(s=!1)),(m.checked!==!1||m.indeterminate)&&(i=!1)}return{all:n,none:i,allWithoutDisable:s,half:!n&&!i}},nt=function(t){if(t.childNodes.length===0||t.loading)return;const{all:n,none:i,half:s}=kt(t.childNodes);n?(t.checked=!0,t.indeterminate=!1):s?(t.checked=!1,t.indeterminate=!0):i&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||nt(r)},Ze=function(t,n){const i=t.store.props,s=t.data||{},r=i[n];if(typeof r=="function")return r(s,t);if(typeof r=="string")return s[r];if(typeof r>"u"){const c=s[n];return c===void 0?"":c}};let ro=0;class je{constructor(n){this.id=ro++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const i in n)gt(n,i)&&(this[i]=n[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const i=n.props;if(i&&typeof i.isLeaf<"u"){const c=Ze(this,"isLeaf");typeof c=="boolean"&&(this.isLeafByUser=c)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Jt(this,this.data),!this.data)return;const s=n.defaultExpandedKeys,r=n.key;r&&s&&s.includes(this.key)&&this.expand(null,n.autoExpandParent),r&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){Array.isArray(n)||Jt(this,n),this.data=n,this.childNodes=[];let i;this.level===0&&Array.isArray(this.data)?i=this.data:i=Ze(this,"children")||[];for(let s=0,r=i.length;s<r;s++)this.insertChild({data:i[s]})}get label(){return Ze(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return Ze(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return n.childNodes[i+1]}return null}get previousSibling(){const n=this.parent;if(n){const i=n.childNodes.indexOf(this);if(i>-1)return i>0?n.childNodes[i-1]:null}return null}contains(n,i=!0){return(this.childNodes||[]).some(s=>s===n||i&&s.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,i,s){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof je)){if(!s){const r=this.getChildren(!0);r.includes(n.data)||(typeof i>"u"||i<0?r.push(n.data):r.splice(i,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=zr(new je(n)),n instanceof je&&n.initialize()}n.level=this.level+1,typeof i>"u"||i<0?this.childNodes.push(n):this.childNodes.splice(i,0,n),this.updateLeafState()}insertBefore(n,i){let s;i&&(s=this.childNodes.indexOf(i)),this.insertChild(n,s)}insertAfter(n,i){let s;i&&(s=this.childNodes.indexOf(i),s!==-1&&(s+=1)),this.insertChild(n,s)}removeChild(n){const i=this.getChildren()||[],s=i.indexOf(n.data);s>-1&&i.splice(s,1);const r=this.childNodes.indexOf(n);r>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(n){let i=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===n){i=this.childNodes[s];break}i&&this.removeChild(i)}expand(n,i){const s=()=>{if(i){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||nt(this),s())}):s()}doCreateChildren(n,i={}){n.forEach(s=>{this.insertChild(Object.assign({data:s},i),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,i,s,r){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:m,allWithoutDisable:h}=kt(this.childNodes);!this.isLeaf&&!m&&h&&(this.checked=!1,n=!1);const K=()=>{if(i){const p=this.childNodes;for(let k=0,d=p.length;k<d;k++){const z=p[k];r=r||n!==!1;const B=z.disabled?z.checked:r;z.setChecked(B,i,!0,r)}const{half:x,all:b}=kt(p);b||(this.checked=b,this.indeterminate=x)}};if(this.shouldLoadData()){this.loadData(()=>{K(),nt(this)},{checked:n!==!1});return}else K()}const c=this.parent;!c||c.level===0||s||nt(c)}getChildren(n=!1){if(this.level===0)return this.data;const i=this.data;if(!i)return null;const s=this.store.props;let r="children";return s&&(r=s.children||"children"),i[r]===void 0&&(i[r]=null),n&&!i[r]&&(i[r]=[]),i[r]}updateChildren(){const n=this.getChildren()||[],i=this.childNodes.map(c=>c.data),s={},r=[];n.forEach((c,m)=>{const h=c[Me];!!h&&i.findIndex(p=>p[Me]===h)>=0?s[h]={index:m,data:c}:r.push({index:m,data:c})}),this.store.lazy||i.forEach(c=>{s[c[Me]]||this.removeChildByData(c)}),r.forEach(({index:c,data:m})=>{this.insertChild({data:m},c)}),this.updateLeafState()}loadData(n,i={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(i).length)){this.loading=!0;const s=r=>{this.childNodes=[],this.doCreateChildren(r,i),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,r)};this.store.load(this,s)}else n&&n.call(this)}}class ao{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const i in n)gt(n,i)&&(this[i]=n[i]);this.nodesMap={}}initialize(){if(this.root=new je({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,i=>{this.root.doCreateChildren(i),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const i=this.filterNodeMethod,s=this.lazy,r=function(c){const m=c.root?c.root.childNodes:c.childNodes;if(m.forEach(h=>{h.visible=i.call(h,n,h.data,h),r(h)}),!c.visible&&m.length){let h=!0;h=!m.some(K=>K.visible),c.root?c.root.visible=h===!1:c.visible=h===!1}n&&c.visible&&!c.isLeaf&&!s&&c.expand()};r(this)}setData(n){n!==this.root.data?(this.root.setData(n),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(n){if(n instanceof je)return n;const i=$r(n)?xt(this.key,n):n;return this.nodesMap[i]||null}insertBefore(n,i){const s=this.getNode(i);s.parent.insertBefore({data:n},s)}insertAfter(n,i){const s=this.getNode(i);s.parent.insertAfter({data:n},s)}remove(n){const i=this.getNode(n);i&&i.parent&&(i===this.currentNode&&(this.currentNode=null),i.parent.removeChild(i))}append(n,i){const s=i?this.getNode(i):this.root;s&&s.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],i=this.nodesMap;n.forEach(s=>{const r=i[s];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const i=this.key;!n||!n.data||(i?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,i=!1){const s=[],r=function(c){(c.root?c.root.childNodes:c.childNodes).forEach(h=>{(h.checked||i&&h.indeterminate)&&(!n||n&&h.isLeaf)&&s.push(h.data),r(h)})};return r(this),s}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(i=>(i||{})[this.key])}getHalfCheckedNodes(){const n=[],i=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(c=>{c.indeterminate&&n.push(c.data),i(c)})};return i(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],i=this.nodesMap;for(const s in i)gt(i,s)&&n.push(i[s]);return n}updateChildren(n,i){const s=this.nodesMap[n];if(!s)return;const r=s.childNodes;for(let c=r.length-1;c>=0;c--){const m=r[c];this.remove(m.data)}for(let c=0,m=i.length;c<m;c++){const h=i[c];this.append(h,s.data)}}_setCheckedKeys(n,i=!1,s){const r=this._getAllNodes().sort((h,K)=>K.level-h.level),c=Object.create(null),m=Object.keys(s);r.forEach(h=>h.setChecked(!1,!1));for(let h=0,K=r.length;h<K;h++){const p=r[h],x=p.data[n].toString();if(!m.includes(x)){p.checked&&!c[x]&&p.setChecked(!1,!1);continue}let k=p.parent;for(;k&&k.level>0;)c[k.data[n]]=!0,k=k.parent;if(p.isLeaf||this.checkStrictly){p.setChecked(!0,!1);continue}if(p.setChecked(!0,!0),i){p.setChecked(!1,!1);const d=function(z){z.childNodes.forEach(_=>{_.isLeaf||_.setChecked(!1,!1),d(_)})};d(p)}}}setCheckedNodes(n,i=!1){const s=this.key,r={};n.forEach(c=>{r[(c||{})[s]]=!0}),this._setCheckedKeys(s,i,r)}setCheckedKeys(n,i=!1){this.defaultCheckedKeys=n;const s=this.key,r={};n.forEach(c=>{r[c]=!0}),this._setCheckedKeys(s,i,r)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(i=>{const s=this.getNode(i);s&&s.expand(null,this.autoExpandParent)})}setChecked(n,i,s){const r=this.getNode(n);r&&r.setChecked(!!i,s)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const i=this.currentNode;i&&(i.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,i=!0){const s=n[this.key],r=this.nodesMap[s];this.setCurrentNode(r),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,i=!0){if(n==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(n);s&&(this.setCurrentNode(s),i&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const oo=ne({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const n=ve("tree"),i=Le("NodeInstance"),s=Le("RootTree");return()=>{const r=t.node,{data:c,store:m}=r;return t.renderContent?t.renderContent(be,{_self:i,node:r,data:c,store:m}):s.ctx.slots.default?s.ctx.slots.default({node:r,data:c}):be("span",{class:n.be("node","label")},[r.label])}}});var so=ke(oo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function cn(t){const n=Le("TreeNodeMap",null),i={treeNodeExpand:s=>{t.node!==s&&t.node.collapse()},children:[]};return n&&n.children.push(i),Fe("TreeNodeMap",i),{broadcastExpanded:s=>{if(t.accordion)for(const r of i.children)r.treeNodeExpand(s)}}}const dn=Symbol("dragEvents");function io({props:t,ctx:n,el$:i,dropIndicator$:s,store:r}){const c=ve("tree"),m=W({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Fe(dn,{treeNodeDragStart:({event:x,treeNode:b})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(b.node))return x.preventDefault(),!1;x.dataTransfer.effectAllowed="move";try{x.dataTransfer.setData("text/plain","")}catch{}m.value.draggingNode=b,n.emit("node-drag-start",b.node,x)},treeNodeDragOver:({event:x,treeNode:b})=>{const k=b,d=m.value.dropNode;d&&d.node.id!==k.node.id&&ft(d.$el,c.is("drop-inner"));const z=m.value.draggingNode;if(!z||!k)return;let B=!0,_=!0,V=!0,U=!0;typeof t.allowDrop=="function"&&(B=t.allowDrop(z.node,k.node,"prev"),U=_=t.allowDrop(z.node,k.node,"inner"),V=t.allowDrop(z.node,k.node,"next")),x.dataTransfer.dropEffect=_||B||V?"move":"none",(B||_||V)&&d?.node.id!==k.node.id&&(d&&n.emit("node-drag-leave",z.node,d.node,x),n.emit("node-drag-enter",z.node,k.node,x)),(B||_||V)&&(m.value.dropNode=k),k.node.nextSibling===z.node&&(V=!1),k.node.previousSibling===z.node&&(B=!1),k.node.contains(z.node,!1)&&(_=!1),(z.node===k.node||z.node.contains(k.node))&&(B=!1,_=!1,V=!1);const q=k.$el.querySelector(`.${c.be("node","content")}`).getBoundingClientRect(),w=i.value.getBoundingClientRect();let C;const f=B?_?.25:V?.45:1:-1,$=V?_?.75:B?.55:0:1;let F=-9999;const S=x.clientY-q.top;S<q.height*f?C="before":S>q.height*$?C="after":_?C="inner":C="none";const O=k.$el.querySelector(`.${c.be("node","expand-icon")}`).getBoundingClientRect(),P=s.value;C==="before"?F=O.top-w.top:C==="after"&&(F=O.bottom-w.top),P.style.top=`${F}px`,P.style.left=`${O.right-w.left}px`,C==="inner"?Rr(k.$el,c.is("drop-inner")):ft(k.$el,c.is("drop-inner")),m.value.showDropIndicator=C==="before"||C==="after",m.value.allowDrop=m.value.showDropIndicator||U,m.value.dropType=C,n.emit("node-drag-over",z.node,k.node,x)},treeNodeDragEnd:x=>{const{draggingNode:b,dropType:k,dropNode:d}=m.value;if(x.preventDefault(),x.dataTransfer.dropEffect="move",b&&d){const z={data:b.node.data};k!=="none"&&b.node.remove(),k==="before"?d.node.parent.insertBefore(z,d.node):k==="after"?d.node.parent.insertAfter(z,d.node):k==="inner"&&d.node.insertChild(z),k!=="none"&&r.value.registerNode(z),ft(d.$el,c.is("drop-inner")),n.emit("node-drag-end",b.node,d.node,k,x),k!=="none"&&n.emit("node-drop",b.node,d.node,k,x)}b&&!d&&n.emit("node-drag-end",b.node,null,k,x),m.value.showDropIndicator=!1,m.value.draggingNode=null,m.value.dropNode=null,m.value.allowDrop=!0}}),{dragState:m}}const uo=ne({name:"ElTreeNode",components:{ElCollapseTransition:ga,ElCheckbox:na,NodeContent:so,ElIcon:wt,Loading:Br},props:{node:{type:je,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,n){const i=ve("tree"),{broadcastExpanded:s}=cn(t),r=Le("RootTree"),c=W(!1),m=W(!1),h=W(null),K=W(null),p=W(null),x=Le(dn),b=at();Fe("NodeInstance",b),t.node.expanded&&(c.value=!0,m.value=!0);const k=r.props.children||"children";pe(()=>{const S=t.node.data[k];return S&&[...S]},()=>{t.node.updateChildren()}),pe(()=>t.node.indeterminate,S=>{B(t.node.checked,S)}),pe(()=>t.node.checked,S=>{B(S,t.node.indeterminate)}),pe(()=>t.node.expanded,S=>{mt(()=>c.value=S),S&&(m.value=!0)});const d=S=>xt(r.props.nodeKey,S.data),z=S=>{const O=t.props.class;if(!O)return{};let P;if(Fr(O)){const{data:ie}=S;P=O(ie,S)}else P=O;return Ur(P)?{[P]:!0}:P},B=(S,O)=>{(h.value!==S||K.value!==O)&&r.ctx.emit("check-change",t.node.data,S,O),h.value=S,K.value=O},_=S=>{bt(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(t.node)),r.currentNode.value=t.node,r.props.expandOnClickNode&&U(),r.props.checkOnClickNode&&!t.node.disabled&&q(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,b,S)},V=S=>{r.instance.vnode.props.onNodeContextmenu&&(S.stopPropagation(),S.preventDefault()),r.ctx.emit("node-contextmenu",S,t.node.data,t.node,b)},U=()=>{t.node.isLeaf||(c.value?(r.ctx.emit("node-collapse",t.node.data,t.node,b),t.node.collapse()):(t.node.expand(),n.emit("node-expand",t.node.data,t.node,b)))},q=(S,O)=>{t.node.setChecked(O.target.checked,!r.props.checkStrictly),mt(()=>{const P=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:P.getCheckedNodes(),checkedKeys:P.getCheckedKeys(),halfCheckedNodes:P.getHalfCheckedNodes(),halfCheckedKeys:P.getHalfCheckedKeys()})})};return{ns:i,node$:p,tree:r,expanded:c,childNodeRendered:m,oldChecked:h,oldIndeterminate:K,getNodeKey:d,getNodeClass:z,handleSelectChange:B,handleClick:_,handleContextMenu:V,handleExpandIconClick:U,handleCheckChange:q,handleChildNodeExpand:(S,O,P)=>{s(O),r.ctx.emit("node-expand",S,O,P)},handleDragStart:S=>{r.props.draggable&&x.treeNodeDragStart({event:S,treeNode:t})},handleDragOver:S=>{S.preventDefault(),r.props.draggable&&x.treeNodeDragOver({event:S,treeNode:{$el:p.value,node:t.node}})},handleDrop:S=>{S.preventDefault()},handleDragEnd:S=>{r.props.draggable&&x.treeNodeDragEnd(S)},CaretRight:Mr}}}),lo=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],co=["aria-expanded"];function fo(t,n,i,s,r,c){const m=Ie("el-icon"),h=Ie("el-checkbox"),K=Ie("loading"),p=Ie("node-content"),x=Ie("el-tree-node"),b=Ie("el-collapse-transition");return vt((D(),R("div",{ref:"node$",class:ae([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:n[1]||(n[1]=Se((...k)=>t.handleClick&&t.handleClick(...k),["stop"])),onContextmenu:n[2]||(n[2]=(...k)=>t.handleContextMenu&&t.handleContextMenu(...k)),onDragstart:n[3]||(n[3]=Se((...k)=>t.handleDragStart&&t.handleDragStart(...k),["stop"])),onDragover:n[4]||(n[4]=Se((...k)=>t.handleDragOver&&t.handleDragOver(...k),["stop"])),onDragend:n[5]||(n[5]=Se((...k)=>t.handleDragEnd&&t.handleDragEnd(...k),["stop"])),onDrop:n[6]||(n[6]=Se((...k)=>t.handleDrop&&t.handleDrop(...k),["stop"]))},[J("div",{class:ae(t.ns.be("node","content")),style:Lr({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(D(),ee(m,{key:0,class:ae([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:Se(t.handleExpandIconClick,["stop"])},{default:G(()=>[(D(),ee(Nt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):Y("v-if",!0),t.showCheckbox?(D(),ee(h,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:n[0]||(n[0]=Se(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Y("v-if",!0),t.node.loading?(D(),ee(m,{key:2,class:ae([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:G(()=>[Q(K)]),_:1},8,["class"])):Y("v-if",!0),Q(p,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),Q(b,null,{default:G(()=>[!t.renderAfterExpand||t.childNodeRendered?vt((D(),R("div",{key:0,class:ae(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(D(!0),R(me,null,Oe(t.node.childNodes,k=>(D(),ee(x,{key:t.getNodeKey(k),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:k,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,co)),[[yt,t.expanded]]):Y("v-if",!0)]),_:1})],42,lo)),[[yt,t.node.visible]])}var ho=ke(uo,[["render",fo],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function po({el$:t},n){const i=ve("tree"),s=Bt([]),r=Bt([]);an(()=>{m()}),Hr(()=>{s.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),pe(r,h=>{h.forEach(K=>{K.setAttribute("tabindex","-1")})}),Wr(t,"keydown",h=>{const K=h.target;if(!K.className.includes(i.b("node")))return;const p=h.code;s.value=Array.from(t.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`));const x=s.value.indexOf(K);let b;if([De.up,De.down].includes(p)){if(h.preventDefault(),p===De.up){b=x===-1?0:x!==0?x-1:s.value.length-1;const d=b;for(;!n.value.getNode(s.value[b].dataset.key).canFocus;){if(b--,b===d){b=-1;break}b<0&&(b=s.value.length-1)}}else{b=x===-1?0:x<s.value.length-1?x+1:0;const d=b;for(;!n.value.getNode(s.value[b].dataset.key).canFocus;){if(b++,b===d){b=-1;break}b>=s.value.length&&(b=0)}}b!==-1&&s.value[b].focus()}[De.left,De.right].includes(p)&&(h.preventDefault(),K.click());const k=K.querySelector('[type="checkbox"]');[De.enter,De.space].includes(p)&&k&&(h.preventDefault(),k.click())});const m=()=>{var h;s.value=Array.from(t.value.querySelectorAll(`.${i.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const K=t.value.querySelectorAll(`.${i.is("checked")}[role=treeitem]`);if(K.length){K[0].setAttribute("tabindex","0");return}(h=s.value[0])==null||h.setAttribute("tabindex","0")}}const go=ne({name:"ElTree",components:{ElTreeNode:ho},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ge}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,n){const{t:i}=xe(),s=ve("tree"),r=W(new ao({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));r.value.initialize();const c=W(r.value.root),m=W(null),h=W(null),K=W(null),{broadcastExpanded:p}=cn(t),{dragState:x}=io({props:t,ctx:n,el$:h,dropIndicator$:K,store:r});po({el$:h},r);const b=ue(()=>{const{childNodes:A}=c.value;return!A||A.length===0||A.every(({visible:T})=>!T)});pe(()=>t.currentNodeKey,A=>{r.value.setCurrentNodeKey(A)}),pe(()=>t.defaultCheckedKeys,A=>{r.value.setDefaultCheckedKey(A)}),pe(()=>t.defaultExpandedKeys,A=>{r.value.setDefaultExpandedKeys(A)}),pe(()=>t.data,A=>{r.value.setData(A)},{deep:!0}),pe(()=>t.checkStrictly,A=>{r.value.checkStrictly=A});const k=A=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(A)},d=A=>xt(t.nodeKey,A.data),z=A=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const T=r.value.getNode(A);if(!T)return[];const he=[T.data];let ye=T.parent;for(;ye&&ye!==c.value;)he.push(ye.data),ye=ye.parent;return he.reverse()},B=(A,T)=>r.value.getCheckedNodes(A,T),_=A=>r.value.getCheckedKeys(A),V=()=>{const A=r.value.getCurrentNode();return A?A.data:null},U=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const A=V();return A?A[t.nodeKey]:null},q=(A,T)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(A,T)},w=(A,T)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(A,T)},C=(A,T,he)=>{r.value.setChecked(A,T,he)},f=()=>r.value.getHalfCheckedNodes(),$=()=>r.value.getHalfCheckedKeys(),F=(A,T=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");bt(r,n.emit,()=>r.value.setUserCurrentNode(A,T))},S=(A,T=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");bt(r,n.emit,()=>r.value.setCurrentNodeKey(A,T))},O=A=>r.value.getNode(A),P=A=>{r.value.remove(A)},ie=(A,T)=>{r.value.append(A,T)},Ne=(A,T)=>{r.value.insertBefore(A,T)},we=(A,T)=>{r.value.insertAfter(A,T)},Ce=(A,T,he)=>{p(T),n.emit("node-expand",A,T,he)},Ue=(A,T)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(A,T)};return Fe("RootTree",{ctx:n,props:t,store:r,root:c,currentNode:m,instance:at()}),Fe(Jr,void 0),{ns:s,store:r,root:c,currentNode:m,dragState:x,el$:h,dropIndicator$:K,isEmpty:b,filter:k,getNodeKey:d,getNodePath:z,getCheckedNodes:B,getCheckedKeys:_,getCurrentNode:V,getCurrentKey:U,setCheckedNodes:q,setCheckedKeys:w,setChecked:C,getHalfCheckedNodes:f,getHalfCheckedKeys:$,setCurrentNode:F,setCurrentKey:S,t:i,getNode:O,remove:P,append:ie,insertBefore:Ne,insertAfter:we,handleNodeExpand:Ce,updateKeyChildren:Ue}}});function mo(t,n,i,s,r,c){const m=Ie("el-tree-node");return D(),R("div",{ref:"el$",class:ae([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(D(!0),R(me,null,Oe(t.root.childNodes,h=>(D(),ee(m,{key:t.getNodeKey(h),node:h,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(D(),R("div",{key:0,class:ae(t.ns.e("empty-block"))},[Yt(t.$slots,"empty",{},()=>{var h;return[J("span",{class:ae(t.ns.e("empty-text"))},Z((h=t.emptyText)!=null?h:t.t("el.tree.emptyText")),3)]})],2)):Y("v-if",!0),vt(J("div",{ref:"dropIndicator$",class:ae(t.ns.e("drop-indicator"))},null,2),[[yt,t.dragState.showDropIndicator]])],2)}var rt=ke(go,[["render",mo],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);rt.install=t=>{t.component(rt.name,rt)};const vo=rt,yo=vo;var ht={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},pt={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},$e=[],Re=[];function bo(){var t=document.createElement("div"),n=t.style;"AnimationEvent"in window||(delete ht.animationstart.animation,delete pt.animationend.animation),"TransitionEvent"in window||(delete ht.transitionstart.transition,delete pt.transitionend.transition);function i(s,r){for(var c in s)if(s.hasOwnProperty(c)){var m=s[c];for(var h in m)if(h in n){r.push(m[h]);break}}}i(ht,$e),i(pt,Re)}typeof window<"u"&&typeof document<"u"&&bo();function Vt(t,n,i){t.addEventListener(n,i,!1)}function Qt(t,n,i){t.removeEventListener(n,i,!1)}var ko={startEvents:$e,addStartEventListener:function(n,i){if($e.length===0){setTimeout(i,0);return}$e.forEach(function(s){Vt(n,s,i)})},removeStartEventListener:function(n,i){$e.length!==0&&$e.forEach(function(s){Qt(n,s,i)})},endEvents:Re,addEndEventListener:function(n,i){if(Re.length===0){setTimeout(i,0);return}Re.forEach(function(s){Vt(n,s,i)})},removeEndEventListener:function(n,i){Re.length!==0&&Re.forEach(function(s){Qt(n,s,i)})}};const et=ko;var Ee;function Gt(t){return!t||t.offsetParent===null}function Co(t){var n=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return n&&n[1]&&n[2]&&n[3]?!(n[1]===n[2]&&n[2]===n[3]):!0}const No=ne({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(n,i){var s=i.slots,r=i.expose,c=at(),m=Pt("",n),h=m.csp,K=m.prefixCls;r({csp:h});var p=null,x=null,b=null,k=!1,d=null,z=!1,B=function(f){if(!z){var $=Ft(c);!f||f.target!==$||k||q($)}},_=function(f){!f||f.animationName!=="fadeEffect"||q(f.target)},V=function(){var f=n.insertExtraNode;return f?"".concat(K.value,"-click-animating"):"".concat(K.value,"-click-animating-without-extra-node")},U=function(f,$){var F=n.insertExtraNode,S=n.disabled;if(!(S||!f||Gt(f)||f.className.indexOf("-leave")>=0)){d=document.createElement("div"),d.className="".concat(K.value,"-click-animating-node");var O=V();if(f.removeAttribute(O),f.setAttribute(O,"true"),Ee=Ee||document.createElement("style"),$&&$!=="#ffffff"&&$!=="rgb(255, 255, 255)"&&Co($)&&!/rgba\(\d*, \d*, \d*, 0\)/.test($)&&$!=="transparent"){var P;(P=h.value)!==null&&P!==void 0&&P.nonce&&(Ee.nonce=h.value.nonce),d.style.borderColor=$,Ee.innerHTML=`
        [`.concat(K.value,"-click-animating-without-extra-node='true']::after, .").concat(K.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat($,`;
        }`),document.body.contains(Ee)||document.body.appendChild(Ee)}F&&f.appendChild(d),et.addStartEventListener(f,B),et.addEndEventListener(f,_)}},q=function(f){if(!(!f||f===d||!(f instanceof Element))){var $=n.insertExtraNode,F=V();f.setAttribute(F,"false"),Ee&&(Ee.innerHTML=""),$&&d&&f.contains(d)&&f.removeChild(d),et.removeStartEventListener(f,B),et.removeEndEventListener(f,_)}},w=function(f){if(!(!f||!f.getAttribute||f.getAttribute("disabled")||f.className.indexOf("disabled")>=0)){var $=function(S){if(!(S.target.tagName==="INPUT"||Gt(S.target))){q(f);var O=getComputedStyle(f).getPropertyValue("border-top-color")||getComputedStyle(f).getPropertyValue("border-color")||getComputedStyle(f).getPropertyValue("background-color");x=setTimeout(function(){return U(f,O)},0),Ut.cancel(b),k=!0,b=Ut(function(){k=!1},10)}};return f.addEventListener("click",$,!0),{cancel:function(){f.removeEventListener("click",$,!0)}}}};return an(function(){mt(function(){var C=Ft(c);C.nodeType===1&&(p=w(C))})}),Vr(function(){p&&p.cancel(),clearTimeout(x),z=!0}),function(){var C;return(C=s.default)===null||C===void 0?void 0:C.call(s)[0]}}});var wo=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}},Po=ne({compatConfig:{MODE:3},name:"ACheckableTag",props:wo(),setup:function(n,i){var s=i.slots,r=i.emit,c=Pt("tag",n),m=c.prefixCls,h=function(x){var b=n.checked;r("update:checked",!b),r("change",!b),r("click",x)},K=ue(function(){var p;return on(m.value,(p={},Be(p,"".concat(m.value,"-checkable"),!0),Be(p,"".concat(m.value,"-checkable-checked"),n.checked),p))});return function(){var p;return Q("span",{class:K.value,onClick:h},[(p=s.default)===null||p===void 0?void 0:p.call(s)])}}});const Ct=Po;var Eo=new RegExp("^(".concat(ra.join("|"),")(-inverse)?$")),xo=new RegExp("^(".concat(aa.join("|"),")$")),_o=function(){return{prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:Ht.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},"onUpdate:visible":Function,icon:Ht.any}},Qe=ne({compatConfig:{MODE:3},name:"ATag",props:_o(),slots:["closeIcon","icon"],setup:function(n,i){var s=i.slots,r=i.emit,c=i.attrs,m=Pt("tag",n),h=m.prefixCls,K=m.direction,p=W(!0);rn(function(){n.visible!==void 0&&(p.value=n.visible)});var x=function(z){z.stopPropagation(),r("update:visible",!1),r("close",z),!z.defaultPrevented&&n.visible===void 0&&(p.value=!1)},b=ue(function(){var d=n.color;return d?Eo.test(d)||xo.test(d):!1}),k=ue(function(){var d;return on(h.value,(d={},Be(d,"".concat(h.value,"-").concat(n.color),b.value),Be(d,"".concat(h.value,"-has-color"),n.color&&!b.value),Be(d,"".concat(h.value,"-hidden"),!p.value),Be(d,"".concat(h.value,"-rtl"),K.value==="rtl"),d))});return function(){var d,z,B,_=n.icon,V=_===void 0?(d=s.icon)===null||d===void 0?void 0:d.call(s):_,U=n.color,q=n.closeIcon,w=q===void 0?(z=s.closeIcon)===null||z===void 0?void 0:z.call(s):q,C=n.closable,f=C===void 0?!1:C,$=function(){return f?w?Q("span",{class:"".concat(h.value,"-close-icon"),onClick:x},[w]):Q(oa,{class:"".concat(h.value,"-close-icon"),onClick:x},null):null},F={backgroundColor:U&&!b.value?U:void 0},S=V||null,O=(B=s.default)===null||B===void 0?void 0:B.call(s),P=S?Q(me,null,[S,Q("span",null,[O])]):O,ie="onClick"in c,Ne=Q("span",{class:k.value,style:F},[P,$()]);return ie?Q(No,null,{default:function(){return[Ne]}}):Ne}}});Qe.CheckableTag=Ct;Qe.install=function(t){return t.component(Qe.name,Qe),t.component(Ct.name,Ct),t};const So=Qe;var fn={exports:{}};/*! algoliasearch.umd.js | 4.10.5 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,n){(function(i,s){t.exports=s()})(Gr,function(){function i(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function s(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);a&&(u=u.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),o.push.apply(o,u)}return o}function r(e){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?s(Object(o),!0).forEach(function(u){i(e,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(o,u))})}return e}function c(e,a){if(e==null)return{};var o,u,l=function(N,y){if(N==null)return{};var E,j,I={},L=Object.keys(N);for(j=0;j<L.length;j++)E=L[j],y.indexOf(E)>=0||(I[E]=N[E]);return I}(e,a);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(e);for(u=0;u<v.length;u++)o=v[u],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(l[o]=e[o])}return l}function m(e,a){return function(o){if(Array.isArray(o))return o}(e)||function(o,u){if(Symbol.iterator in Object(o)||Object.prototype.toString.call(o)==="[object Arguments]"){var l=[],v=!0,N=!1,y=void 0;try{for(var E,j=o[Symbol.iterator]();!(v=(E=j.next()).done)&&(l.push(E.value),!u||l.length!==u);v=!0);}catch(I){N=!0,y=I}finally{try{v||j.return==null||j.return()}finally{if(N)throw y}}return l}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e){return function(a){if(Array.isArray(a)){for(var o=0,u=new Array(a.length);o<a.length;o++)u[o]=a[o];return u}}(e)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function K(e){var a,o="algoliasearch-client-js-".concat(e.key),u=function(){return a===void 0&&(a=e.localStorage||window.localStorage),a},l=function(){return JSON.parse(u().getItem(o)||"{}")};return{get:function(v,N){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var E=JSON.stringify(v),j=l()[E];return Promise.all([j||N(),j!==void 0])}).then(function(E){var j=m(E,2),I=j[0],L=j[1];return Promise.all([I,L||y.miss(I)])}).then(function(E){return m(E,1)[0]})},set:function(v,N){return Promise.resolve().then(function(){var y=l();return y[JSON.stringify(v)]=N,u().setItem(o,JSON.stringify(y)),N})},delete:function(v){return Promise.resolve().then(function(){var N=l();delete N[JSON.stringify(v)],u().setItem(o,JSON.stringify(N))})},clear:function(){return Promise.resolve().then(function(){u().removeItem(o)})}}}function p(e){var a=h(e.caches),o=a.shift();return o===void 0?{get:function(u,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},N=l();return N.then(function(y){return Promise.all([y,v.miss(y)])}).then(function(y){return m(y,1)[0]})},set:function(u,l){return Promise.resolve(l)},delete:function(u){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(u,l){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return o.get(u,l,v).catch(function(){return p({caches:a}).get(u,l,v)})},set:function(u,l){return o.set(u,l).catch(function(){return p({caches:a}).set(u,l)})},delete:function(u){return o.delete(u).catch(function(){return p({caches:a}).delete(u)})},clear:function(){return o.clear().catch(function(){return p({caches:a}).clear()})}}}function x(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},a={};return{get:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},v=JSON.stringify(o);if(v in a)return Promise.resolve(e.serializable?JSON.parse(a[v]):a[v]);var N=u(),y=l&&l.miss||function(){return Promise.resolve()};return N.then(function(E){return y(E)}).then(function(){return N})},set:function(o,u){return a[JSON.stringify(o)]=e.serializable?JSON.stringify(u):u,Promise.resolve(u)},delete:function(o){return delete a[JSON.stringify(o)],Promise.resolve()},clear:function(){return a={},Promise.resolve()}}}function b(e,a,o){var u={"x-algolia-api-key":o,"x-algolia-application-id":a};return{headers:function(){return e===V.WithinHeaders?u:{}},queryParameters:function(){return e===V.WithinQueryParameters?u:{}}}}function k(e){var a=0;return e(function o(){return a++,new Promise(function(u){setTimeout(function(){u(e(o))},Math.min(100*a,1e3))})})}function d(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(o,u){return Promise.resolve()};return Object.assign(e,{wait:function(o){return d(e.then(function(u){return Promise.all([a(u,o),u])}).then(function(u){return u[1]}))}})}function z(e){for(var a=e.length-1;a>0;a--){var o=Math.floor(Math.random()*(a+1)),u=e[a];e[a]=e[o],e[o]=u}return e}function B(e,a){return a&&Object.keys(a).forEach(function(o){e[o]=a[o](e)}),e}function _(e){for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];var l=0;return e.replace(/%s/g,function(){return encodeURIComponent(o[l++])})}var V={WithinQueryParameters:0,WithinHeaders:1};function U(e,a){var o=e||{},u=o.data||{};return Object.keys(o).forEach(function(l){["timeout","headers","queryParameters","data","cacheable"].indexOf(l)===-1&&(u[l]=o[l])}),{data:Object.entries(u).length>0?u:void 0,timeout:o.timeout||a,headers:o.headers||{},queryParameters:o.queryParameters||{},cacheable:o.cacheable}}var q={Read:1,Write:2,Any:3},w=1,C=2,f=3;function $(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w;return r(r({},e),{},{status:a,lastUpdate:Date.now()})}function F(e){return typeof e=="string"?{protocol:"https",url:e,accept:q.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||q.Any}}var S="DELETE",O="GET",P="POST",ie="PUT";function Ne(e,a){return Promise.all(a.map(function(o){return e.get(o,function(){return Promise.resolve($(o))})})).then(function(o){var u=o.filter(function(N){return function(y){return y.status===w||Date.now()-y.lastUpdate>12e4}(N)}),l=o.filter(function(N){return function(y){return y.status===f&&Date.now()-y.lastUpdate<=12e4}(N)}),v=[].concat(h(u),h(l));return{getTimeout:function(N,y){return(l.length===0&&N===0?1:l.length+3+N)*y},statelessHosts:v.length>0?v.map(function(N){return F(N)}):a}})}function we(e,a,o,u){var l=[],v=function(M,X){if(!(M.method===O||M.data===void 0&&X.data===void 0)){var H=Array.isArray(M.data)?M.data:r(r({},M.data),X.data);return JSON.stringify(H)}}(o,u),N=function(M,X){var H=r(r({},M.headers),X.headers),te={};return Object.keys(H).forEach(function(re){var ge=H[re];te[re.toLowerCase()]=ge}),te}(e,u),y=o.method,E=o.method!==O?{}:r(r({},o.data),u.data),j=r(r(r({"x-algolia-agent":e.userAgent.value},e.queryParameters),E),u.queryParameters),I=0,L=function M(X,H){var te=X.pop();if(te===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:he(l)};var re={data:v,headers:N,method:y,url:A(te,o.path,j),connectTimeout:H(I,e.timeouts.connect),responseTimeout:H(I,u.timeout)},ge=function(fe){var le={request:re,response:fe,host:te,triesLeft:X.length};return l.push(le),le},Je={onSuccess:function(fe){return function(le){try{return JSON.parse(le.content)}catch(_e){throw function(Pe,ze){return{name:"DeserializationError",message:Pe,response:ze}}(_e.message,le)}}(fe)},onRetry:function(fe){var le=ge(fe);return fe.isTimedOut&&I++,Promise.all([e.logger.info("Retryable failure",ye(le)),e.hostsCache.set(te,$(te,fe.isTimedOut?f:C))]).then(function(){return M(X,H)})},onFail:function(fe){throw ge(fe),function(le,_e){var Pe=le.content,ze=le.status,Ve=Pe;try{Ve=JSON.parse(Pe).message}catch{}return function(Ye,dt,xr){return{name:"ApiError",message:Ye,status:dt,transporterStackTrace:xr}}(Ve,ze,_e)}(fe,he(l))}};return e.requester.send(re).then(function(fe){return function(le,_e){return function(Pe){var ze=Pe.status;return Pe.isTimedOut||function(Ve){var Ye=Ve.isTimedOut,dt=Ve.status;return!Ye&&~~dt==0}(Pe)||~~(ze/100)!=2&&~~(ze/100)!=4}(le)?_e.onRetry(le):~~(le.status/100)==2?_e.onSuccess(le):_e.onFail(le)}(fe,Je)})};return Ne(e.hostsCache,a).then(function(M){return L(h(M.statelessHosts).reverse(),M.getTimeout)})}function Ce(e){var a=e.hostsCache,o=e.logger,u=e.requester,l=e.requestsCache,v=e.responsesCache,N=e.timeouts,y=e.userAgent,E=e.hosts,j=e.queryParameters,I={hostsCache:a,logger:o,requester:u,requestsCache:l,responsesCache:v,timeouts:N,userAgent:y,headers:e.headers,queryParameters:j,hosts:E.map(function(L){return F(L)}),read:function(L,M){var X=U(M,I.timeouts.read),H=function(){return we(I,I.hosts.filter(function(re){return(re.accept&q.Read)!=0}),L,X)};if((X.cacheable!==void 0?X.cacheable:L.cacheable)!==!0)return H();var te={request:L,mappedRequestOptions:X,transporter:{queryParameters:I.queryParameters,headers:I.headers}};return I.responsesCache.get(te,function(){return I.requestsCache.get(te,function(){return I.requestsCache.set(te,H()).then(function(re){return Promise.all([I.requestsCache.delete(te),re])},function(re){return Promise.all([I.requestsCache.delete(te),Promise.reject(re)])}).then(function(re){var ge=m(re,2);return ge[0],ge[1]})})},{miss:function(re){return I.responsesCache.set(te,re)}})},write:function(L,M){return we(I,I.hosts.filter(function(X){return(X.accept&q.Write)!=0}),L,U(M,I.timeouts.write))}};return I}function Ue(e){var a={value:"Algolia for JavaScript (".concat(e,")"),add:function(o){var u="; ".concat(o.segment).concat(o.version!==void 0?" (".concat(o.version,")"):"");return a.value.indexOf(u)===-1&&(a.value="".concat(a.value).concat(u)),a}};return a}function A(e,a,o){var u=T(o),l="".concat(e.protocol,"://").concat(e.url,"/").concat(a.charAt(0)==="/"?a.substr(1):a);return u.length&&(l+="?".concat(u)),l}function T(e){return Object.keys(e).map(function(a){return _("%s=%s",a,(o=e[a],Object.prototype.toString.call(o)==="[object Object]"||Object.prototype.toString.call(o)==="[object Array]"?JSON.stringify(e[a]):e[a]));var o}).join("&")}function he(e){return e.map(function(a){return ye(a)})}function ye(e){var a=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),a)})})}var pn=function(e){return function(a,o){return e.transporter.write({method:P,path:"2/abtests",data:a},o)}},gn=function(e){return function(a,o){return e.transporter.write({method:S,path:_("2/abtests/%s",a)},o)}},mn=function(e){return function(a,o){return e.transporter.read({method:O,path:_("2/abtests/%s",a)},o)}},vn=function(e){return function(a){return e.transporter.read({method:O,path:"2/abtests"},a)}},yn=function(e){return function(a,o){return e.transporter.write({method:P,path:_("2/abtests/%s/stop",a)},o)}},bn=function(e){return function(a){return e.transporter.read({method:O,path:"1/strategies/personalization"},a)}},kn=function(e){return function(a,o){return e.transporter.write({method:P,path:"1/strategies/personalization",data:a},o)}};function ot(e){return function a(o){return e.request(o).then(function(u){if(e.batch!==void 0&&e.batch(u.hits),!e.shouldStop(u))return u.cursor?a({cursor:u.cursor}):a({page:(o.page||0)+1})})}({})}var Cn=function(e){return function(a,o){var u=o||{},l=u.queryParameters,v=c(u,["queryParameters"]),N=r({acl:a},l!==void 0?{queryParameters:l}:{});return d(e.transporter.write({method:P,path:"1/keys",data:N},v),function(y,E){return k(function(j){return He(e)(y.key,E).catch(function(I){if(I.status!==404)throw I;return j()})})})}},Nn=function(e){return function(a,o,u){var l=U(u);return l.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:P,path:"1/clusters/mapping",data:{cluster:o}},l)}},wn=function(e){return function(a,o,u){return e.transporter.write({method:P,path:"1/clusters/mapping/batch",data:{users:a,cluster:o}},u)}},Pn=function(e){return function(a,o){return d(e.transporter.write({method:P,path:_("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},o),function(u,l){return qe(e)(u.taskID,l)})}},Xe=function(e){return function(a,o,u){return d(e.transporter.write({method:P,path:_("1/indexes/%s/operation",a),data:{operation:"copy",destination:o}},u),function(l,v){return We(e)(a,{methods:{waitTask:oe}}).waitTask(l.taskID,v)})}},En=function(e){return function(a,o,u){return Xe(e)(a,o,r(r({},u),{},{scope:[ct.Rules]}))}},xn=function(e){return function(a,o,u){return Xe(e)(a,o,r(r({},u),{},{scope:[ct.Settings]}))}},_n=function(e){return function(a,o,u){return Xe(e)(a,o,r(r({},u),{},{scope:[ct.Synonyms]}))}},Sn=function(e){return function(a,o){return d(e.transporter.write({method:S,path:_("1/keys/%s",a)},o),function(u,l){return k(function(v){return He(e)(a,l).then(v).catch(function(N){if(N.status!==404)throw N})})})}},Dn=function(e){return function(a,o,u){var l=o.map(function(v){return{action:"deleteEntry",body:{objectID:v}}});return d(e.transporter.write({method:P,path:_("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},u),function(v,N){return qe(e)(v.taskID,N)})}},He=function(e){return function(a,o){return e.transporter.read({method:O,path:_("1/keys/%s",a)},o)}},Tn=function(e){return function(a){return e.transporter.read({method:O,path:"/1/dictionaries/*/settings"},a)}},In=function(e){return function(a){return e.transporter.read({method:O,path:"1/logs"},a)}},On=function(e){return function(a){return e.transporter.read({method:O,path:"1/clusters/mapping/top"},a)}},_t=function(e){return function(a,o){return e.transporter.read({method:O,path:_("1/task/%s",a.toString())},o)}},jn=function(e){return function(a,o){return e.transporter.read({method:O,path:_("1/clusters/mapping/%s",a)},o)}},An=function(e){return function(a){var o=a||{},u=o.retrieveMappings,l=c(o,["retrieveMappings"]);return u===!0&&(l.getClusters=!0),e.transporter.read({method:O,path:"1/clusters/mapping/pending"},l)}},We=function(e){return function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={transporter:e.transporter,appId:e.appId,indexName:a};return B(u,o.methods)}},qn=function(e){return function(a){return e.transporter.read({method:O,path:"1/keys"},a)}},Kn=function(e){return function(a){return e.transporter.read({method:O,path:"1/clusters"},a)}},zn=function(e){return function(a){return e.transporter.read({method:O,path:"1/indexes"},a)}},$n=function(e){return function(a){return e.transporter.read({method:O,path:"1/clusters/mapping"},a)}},Rn=function(e){return function(a,o,u){return d(e.transporter.write({method:P,path:_("1/indexes/%s/operation",a),data:{operation:"move",destination:o}},u),function(l,v){return We(e)(a,{methods:{waitTask:oe}}).waitTask(l.taskID,v)})}},Bn=function(e){return function(a,o){return d(e.transporter.write({method:P,path:"1/indexes/*/batch",data:{requests:a}},o),function(u,l){return Promise.all(Object.keys(u.taskID).map(function(v){return We(e)(v,{methods:{waitTask:oe}}).waitTask(u.taskID[v],l)}))})}},Mn=function(e){return function(a,o){return e.transporter.read({method:P,path:"1/indexes/*/objects",data:{requests:a}},o)}},St=function(e){return function(a,o){var u=a.map(function(l){return r(r({},l),{},{params:T(l.params||{})})});return e.transporter.read({method:P,path:"1/indexes/*/queries",data:{requests:u},cacheable:!0},o)}},Dt=function(e){return function(a,o){return Promise.all(a.map(function(u){var l=u.params,v=l.facetName,N=l.facetQuery,y=c(l,["facetName","facetQuery"]);return We(e)(u.indexName,{methods:{searchForFacetValues:qt}}).searchForFacetValues(v,N,r(r({},o),y))}))}},Ln=function(e){return function(a,o){var u=U(o);return u.queryParameters["X-Algolia-User-ID"]=a,e.transporter.write({method:S,path:"1/clusters/mapping"},u)}},Fn=function(e){return function(a,o,u){var l=o.map(function(v){return{action:"addEntry",body:v}});return d(e.transporter.write({method:P,path:_("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!0,requests:l}},u),function(v,N){return qe(e)(v.taskID,N)})}},Un=function(e){return function(a,o){return d(e.transporter.write({method:P,path:_("1/keys/%s/restore",a)},o),function(u,l){return k(function(v){return He(e)(a,l).catch(function(N){if(N.status!==404)throw N;return v()})})})}},Hn=function(e){return function(a,o,u){var l=o.map(function(v){return{action:"addEntry",body:v}});return d(e.transporter.write({method:P,path:_("/1/dictionaries/%s/batch",a),data:{clearExistingDictionaryEntries:!1,requests:l}},u),function(v,N){return qe(e)(v.taskID,N)})}},Wn=function(e){return function(a,o,u){return e.transporter.read({method:P,path:_("/1/dictionaries/%s/search",a),data:{query:o},cacheable:!0},u)}},Jn=function(e){return function(a,o){return e.transporter.read({method:P,path:"1/clusters/mapping/search",data:{query:a}},o)}},Vn=function(e){return function(a,o){return d(e.transporter.write({method:ie,path:"/1/dictionaries/*/settings",data:a},o),function(u,l){return qe(e)(u.taskID,l)})}},Qn=function(e){return function(a,o){var u=Object.assign({},o),l=o||{},v=l.queryParameters,N=c(l,["queryParameters"]),y=v?{queryParameters:v}:{},E=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return d(e.transporter.write({method:ie,path:_("1/keys/%s",a),data:y},N),function(j,I){return k(function(L){return He(e)(a,I).then(function(M){return function(X){return Object.keys(u).filter(function(H){return E.indexOf(H)!==-1}).every(function(H){return X[H]===u[H]})}(M)?Promise.resolve():L()})})})}},qe=function(e){return function(a,o){return k(function(u){return _t(e)(a,o).then(function(l){return l.status!=="published"?u():void 0})})}},Tt=function(e){return function(a,o){return d(e.transporter.write({method:P,path:_("1/indexes/%s/batch",e.indexName),data:{requests:a}},o),function(u,l){return oe(e)(u.taskID,l)})}},Gn=function(e){return function(a){return ot(r(r({shouldStop:function(o){return o.cursor===void 0}},a),{},{request:function(o){return e.transporter.read({method:P,path:_("1/indexes/%s/browse",e.indexName),data:o},a)}}))}},Xn=function(e){return function(a){var o=r({hitsPerPage:1e3},a);return ot(r(r({shouldStop:function(u){return u.hits.length<o.hitsPerPage}},o),{},{request:function(u){return Kt(e)("",r(r({},o),u)).then(function(l){return r(r({},l),{},{hits:l.hits.map(function(v){return delete v._highlightResult,v})})})}}))}},Yn=function(e){return function(a){var o=r({hitsPerPage:1e3},a);return ot(r(r({shouldStop:function(u){return u.hits.length<o.hitsPerPage}},o),{},{request:function(u){return zt(e)("",r(r({},o),u)).then(function(l){return r(r({},l),{},{hits:l.hits.map(function(v){return delete v._highlightResult,v})})})}}))}},st=function(e){return function(a,o,u){var l=u||{},v=l.batchSize,N=c(l,["batchSize"]),y={taskIDs:[],objectIDs:[]};return d(function E(){var j,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=[];for(j=I;j<a.length&&(L.push(a[j]),L.length!==(v||1e3));j++);return L.length===0?Promise.resolve(y):Tt(e)(L.map(function(M){return{action:o,body:M}}),N).then(function(M){return y.objectIDs=y.objectIDs.concat(M.objectIDs),y.taskIDs.push(M.taskID),j++,E(j)})}(),function(E,j){return Promise.all(E.taskIDs.map(function(I){return oe(e)(I,j)}))})}},Zn=function(e){return function(a){return d(e.transporter.write({method:P,path:_("1/indexes/%s/clear",e.indexName)},a),function(o,u){return oe(e)(o.taskID,u)})}},er=function(e){return function(a){var o=a||{},u=o.forwardToReplicas,l=U(c(o,["forwardToReplicas"]));return u&&(l.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:P,path:_("1/indexes/%s/rules/clear",e.indexName)},l),function(v,N){return oe(e)(v.taskID,N)})}},tr=function(e){return function(a){var o=a||{},u=o.forwardToReplicas,l=U(c(o,["forwardToReplicas"]));return u&&(l.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:P,path:_("1/indexes/%s/synonyms/clear",e.indexName)},l),function(v,N){return oe(e)(v.taskID,N)})}},nr=function(e){return function(a,o){return d(e.transporter.write({method:P,path:_("1/indexes/%s/deleteByQuery",e.indexName),data:a},o),function(u,l){return oe(e)(u.taskID,l)})}},rr=function(e){return function(a){return d(e.transporter.write({method:S,path:_("1/indexes/%s",e.indexName)},a),function(o,u){return oe(e)(o.taskID,u)})}},ar=function(e){return function(a,o){return d(It(e)([a],o).then(function(u){return{taskID:u.taskIDs[0]}}),function(u,l){return oe(e)(u.taskID,l)})}},It=function(e){return function(a,o){var u=a.map(function(l){return{objectID:l}});return st(e)(u,Ke.DeleteObject,o)}},or=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,v=U(c(u,["forwardToReplicas"]));return l&&(v.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:S,path:_("1/indexes/%s/rules/%s",e.indexName,a)},v),function(N,y){return oe(e)(N.taskID,y)})}},sr=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,v=U(c(u,["forwardToReplicas"]));return l&&(v.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:S,path:_("1/indexes/%s/synonyms/%s",e.indexName,a)},v),function(N,y){return oe(e)(N.taskID,y)})}},ir=function(e){return function(a){return Ot(e)(a).then(function(){return!0}).catch(function(o){if(o.status!==404)throw o;return!1})}},ur=function(e){return function(a,o,u){return e.transporter.read({method:P,path:_("1/answers/%s/prediction",e.indexName),data:{query:a,queryLanguages:o},cacheable:!0},u)}},lr=function(e){return function(a,o){var u=o||{},l=u.query,v=u.paginate,N=c(u,["query","paginate"]),y=0;return function E(){return At(e)(l||"",r(r({},N),{},{page:y})).then(function(j){for(var I=0,L=Object.entries(j.hits);I<L.length;I++){var M=m(L[I],2),X=M[0],H=M[1];if(a(H))return{object:H,position:parseInt(X,10),page:y}}if(y++,v===!1||y>=j.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return E()})}()}},cr=function(e){return function(a,o){return e.transporter.read({method:O,path:_("1/indexes/%s/%s",e.indexName,a)},o)}},dr=function(){return function(e,a){for(var o=0,u=Object.entries(e.hits);o<u.length;o++){var l=m(u[o],2),v=l[0];if(l[1].objectID===a)return parseInt(v,10)}return-1}},fr=function(e){return function(a,o){var u=o||{},l=u.attributesToRetrieve,v=c(u,["attributesToRetrieve"]),N=a.map(function(y){return r({indexName:e.indexName,objectID:y},l?{attributesToRetrieve:l}:{})});return e.transporter.read({method:P,path:"1/indexes/*/objects",data:{requests:N}},v)}},hr=function(e){return function(a,o){return e.transporter.read({method:O,path:_("1/indexes/%s/rules/%s",e.indexName,a)},o)}},Ot=function(e){return function(a){return e.transporter.read({method:O,path:_("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},a)}},pr=function(e){return function(a,o){return e.transporter.read({method:O,path:_("1/indexes/%s/synonyms/%s",e.indexName,a)},o)}},gr=function(e){return function(a,o){return d(jt(e)([a],o).then(function(u){return{objectID:u.objectIDs[0],taskID:u.taskIDs[0]}}),function(u,l){return oe(e)(u.taskID,l)})}},jt=function(e){return function(a,o){var u=o||{},l=u.createIfNotExists,v=c(u,["createIfNotExists"]),N=l?Ke.PartialUpdateObject:Ke.PartialUpdateObjectNoCreate;return st(e)(a,N,v)}},mr=function(e){return function(a,o){var u=o||{},l=u.safe,v=u.autoGenerateObjectIDIfNotExist,N=u.batchSize,y=c(u,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),E=function(H,te,re,ge){return d(e.transporter.write({method:P,path:_("1/indexes/%s/operation",H),data:{operation:re,destination:te}},ge),function(Je,fe){return oe(e)(Je.taskID,fe)})},j=Math.random().toString(36).substring(7),I="".concat(e.indexName,"_tmp_").concat(j),L=it({appId:e.appId,transporter:e.transporter,indexName:I}),M=[],X=E(e.indexName,I,"copy",r(r({},y),{},{scope:["settings","synonyms","rules"]}));return M.push(X),d((l?X.wait(y):X).then(function(){var H=L(a,r(r({},y),{},{autoGenerateObjectIDIfNotExist:v,batchSize:N}));return M.push(H),l?H.wait(y):H}).then(function(){var H=E(I,e.indexName,"move",y);return M.push(H),l?H.wait(y):H}).then(function(){return Promise.all(M)}).then(function(H){var te=m(H,3),re=te[0],ge=te[1],Je=te[2];return{objectIDs:ge.objectIDs,taskIDs:[re.taskID].concat(h(ge.taskIDs),[Je.taskID])}}),function(H,te){return Promise.all(M.map(function(re){return re.wait(te)}))})}},vr=function(e){return function(a,o){return ut(e)(a,r(r({},o),{},{clearExistingRules:!0}))}},yr=function(e){return function(a,o){return lt(e)(a,r(r({},o),{},{clearExistingSynonyms:!0}))}},br=function(e){return function(a,o){return d(it(e)([a],o).then(function(u){return{objectID:u.objectIDs[0],taskID:u.taskIDs[0]}}),function(u,l){return oe(e)(u.taskID,l)})}},it=function(e){return function(a,o){var u=o||{},l=u.autoGenerateObjectIDIfNotExist,v=c(u,["autoGenerateObjectIDIfNotExist"]),N=l?Ke.AddObject:Ke.UpdateObject;if(N===Ke.UpdateObject){var y=!0,E=!1,j=void 0;try{for(var I,L=a[Symbol.iterator]();!(y=(I=L.next()).done);y=!0)if(I.value.objectID===void 0)return d(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(M){E=!0,j=M}finally{try{y||L.return==null||L.return()}finally{if(E)throw j}}}return st(e)(a,N,v)}},kr=function(e){return function(a,o){return ut(e)([a],o)}},ut=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,v=u.clearExistingRules,N=U(c(u,["forwardToReplicas","clearExistingRules"]));return l&&(N.queryParameters.forwardToReplicas=1),v&&(N.queryParameters.clearExistingRules=1),d(e.transporter.write({method:P,path:_("1/indexes/%s/rules/batch",e.indexName),data:a},N),function(y,E){return oe(e)(y.taskID,E)})}},Cr=function(e){return function(a,o){return lt(e)([a],o)}},lt=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,v=u.clearExistingSynonyms,N=u.replaceExistingSynonyms,y=U(c(u,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return l&&(y.queryParameters.forwardToReplicas=1),(N||v)&&(y.queryParameters.replaceExistingSynonyms=1),d(e.transporter.write({method:P,path:_("1/indexes/%s/synonyms/batch",e.indexName),data:a},y),function(E,j){return oe(e)(E.taskID,j)})}},At=function(e){return function(a,o){return e.transporter.read({method:P,path:_("1/indexes/%s/query",e.indexName),data:{query:a},cacheable:!0},o)}},qt=function(e){return function(a,o,u){return e.transporter.read({method:P,path:_("1/indexes/%s/facets/%s/query",e.indexName,a),data:{facetQuery:o},cacheable:!0},u)}},Kt=function(e){return function(a,o){return e.transporter.read({method:P,path:_("1/indexes/%s/rules/search",e.indexName),data:{query:a}},o)}},zt=function(e){return function(a,o){return e.transporter.read({method:P,path:_("1/indexes/%s/synonyms/search",e.indexName),data:{query:a}},o)}},Nr=function(e){return function(a,o){var u=o||{},l=u.forwardToReplicas,v=U(c(u,["forwardToReplicas"]));return l&&(v.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:ie,path:_("1/indexes/%s/settings",e.indexName),data:a},v),function(N,y){return oe(e)(N.taskID,y)})}},oe=function(e){return function(a,o){return k(function(u){return function(l){return function(v,N){return l.transporter.read({method:O,path:_("1/indexes/%s/task/%s",l.indexName,v.toString())},N)}}(e)(a,o).then(function(l){return l.status!=="published"?u():void 0})})}},Ke={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ct={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},wr=1,Pr=2,Er=3;function $t(e,a,o){var u,l={appId:e,apiKey:a,timeouts:{connect:1,read:2,write:30},requester:{send:function(y){return new Promise(function(E){var j=new XMLHttpRequest;j.open(y.method,y.url,!0),Object.keys(y.headers).forEach(function(X){return j.setRequestHeader(X,y.headers[X])});var I,L=function(X,H){return setTimeout(function(){j.abort(),E({status:0,content:H,isTimedOut:!0})},1e3*X)},M=L(y.connectTimeout,"Connection timeout");j.onreadystatechange=function(){j.readyState>j.OPENED&&I===void 0&&(clearTimeout(M),I=L(y.responseTimeout,"Socket timeout"))},j.onerror=function(){j.status===0&&(clearTimeout(M),clearTimeout(I),E({content:j.responseText||"Network request failed",status:j.status,isTimedOut:!1}))},j.onload=function(){clearTimeout(M),clearTimeout(I),E({content:j.responseText,status:j.status,isTimedOut:!1})},j.send(y.data)})}},logger:(u=Er,{debug:function(y,E){return wr>=u&&console.debug(y,E),Promise.resolve()},info:function(y,E){return Pr>=u&&console.info(y,E),Promise.resolve()},error:function(y,E){return console.error(y,E),Promise.resolve()}}),responsesCache:x(),requestsCache:x({serializable:!1}),hostsCache:p({caches:[K({key:"".concat("4.10.5","-").concat(e)}),x()]}),userAgent:Ue("4.10.5").add({segment:"Browser"})},v=r(r({},l),o),N=function(){return function(y){return function(E){var j=E.region||"us",I=b(V.WithinHeaders,E.appId,E.apiKey),L=Ce(r(r({hosts:[{url:"personalization.".concat(j,".algolia.com")}]},E),{},{headers:r(r(r({},I.headers()),{"content-type":"application/json"}),E.headers),queryParameters:r(r({},I.queryParameters()),E.queryParameters)}));return B({appId:E.appId,transporter:L},E.methods)}(r(r(r({},l),y),{},{methods:{getPersonalizationStrategy:bn,setPersonalizationStrategy:kn}}))}};return function(y){var E=y.appId,j=b(y.authMode!==void 0?y.authMode:V.WithinHeaders,E,y.apiKey),I=Ce(r(r({hosts:[{url:"".concat(E,"-dsn.algolia.net"),accept:q.Read},{url:"".concat(E,".algolia.net"),accept:q.Write}].concat(z([{url:"".concat(E,"-1.algolianet.com")},{url:"".concat(E,"-2.algolianet.com")},{url:"".concat(E,"-3.algolianet.com")}]))},y),{},{headers:r(r(r({},j.headers()),{"content-type":"application/x-www-form-urlencoded"}),y.headers),queryParameters:r(r({},j.queryParameters()),y.queryParameters)}));return B({transporter:I,appId:E,addAlgoliaAgent:function(L,M){I.userAgent.add({segment:L,version:M})},clearCache:function(){return Promise.all([I.requestsCache.clear(),I.responsesCache.clear()]).then(function(){})}},y.methods)}(r(r({},v),{},{methods:{search:St,searchForFacetValues:Dt,multipleBatch:Bn,multipleGetObjects:Mn,multipleQueries:St,copyIndex:Xe,copySettings:xn,copySynonyms:_n,copyRules:En,moveIndex:Rn,listIndices:zn,getLogs:In,listClusters:Kn,multipleSearchForFacetValues:Dt,getApiKey:He,addApiKey:Cn,listApiKeys:qn,updateApiKey:Qn,deleteApiKey:Sn,restoreApiKey:Un,assignUserID:Nn,assignUserIDs:wn,getUserID:jn,searchUserIDs:Jn,listUserIDs:$n,getTopUserIDs:On,removeUserID:Ln,hasPendingMappings:An,clearDictionaryEntries:Pn,deleteDictionaryEntries:Dn,getDictionarySettings:Tn,getAppTask:_t,replaceDictionaryEntries:Fn,saveDictionaryEntries:Hn,searchDictionaryEntries:Wn,setDictionarySettings:Vn,waitAppTask:qe,initIndex:function(y){return function(E){return We(y)(E,{methods:{batch:Tt,delete:rr,findAnswers:ur,getObject:cr,getObjects:fr,saveObject:br,saveObjects:it,search:At,searchForFacetValues:qt,waitTask:oe,setSettings:Nr,getSettings:Ot,partialUpdateObject:gr,partialUpdateObjects:jt,deleteObject:ar,deleteObjects:It,deleteBy:nr,clearObjects:Zn,browseObjects:Gn,getObjectPosition:dr,findObject:lr,exists:ir,saveSynonym:Cr,saveSynonyms:lt,getSynonym:pr,searchSynonyms:zt,browseSynonyms:Yn,deleteSynonym:sr,clearSynonyms:tr,replaceAllObjects:mr,replaceAllSynonyms:yr,searchRules:Kt,getRule:hr,deleteRule:or,saveRule:kr,saveRules:ut,replaceAllRules:vr,browseRules:Xn,clearRules:er}})}},initAnalytics:function(){return function(y){return function(E){var j=E.region||"us",I=b(V.WithinHeaders,E.appId,E.apiKey),L=Ce(r(r({hosts:[{url:"analytics.".concat(j,".algolia.com")}]},E),{},{headers:r(r(r({},I.headers()),{"content-type":"application/json"}),E.headers),queryParameters:r(r({},I.queryParameters()),E.queryParameters)}));return B({appId:E.appId,transporter:L},E.methods)}(r(r(r({},l),y),{},{methods:{addABTest:pn,getABTest:mn,getABTests:vn,stopABTest:yn,deleteABTest:gn}}))}},initPersonalization:N,initRecommendation:function(){return function(y){return v.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),N()(y)}}}}))}return $t.version="4.10.5",$t})})(fn);var Do=fn.exports;const To=Qr(Do),Io=To("OFCNCOG2CU","f54e21fa3a2a0160595bb058179bfb1e"),hn=Io.initIndex("npm-search"),Oo=async(t,n=0,i=10)=>{try{const s=Ko(t);if(!s)return{response:null,query:t};const r={page:n,hitsPerPage:i,attributesToHighlight:[],attributesToRetrieve:["deprecated","description","githubRepo","homepage","keywords","license","name","owner","version"],analyticsTags:["jsdelivr"],facetFilters:s.facetFilters?s.facetFilters:void 0},c=await hn.search(s.query,r);return c.hits.sort((m,h)=>m.name===s.query?-1:h.name===s.query?1:0),{response:c,query:t}}catch{return{response:null,query:t}}},jo=async t=>hn.getObject(t),Ao=/\s*(?:[a-z]+)\s*:\s*(?:.(?![a-z]*\s*:))*/gi,qo=/^((?:(?:[^\s:]+(?![a-z]*\s*:))\s*)*)/i,Xt={author:"owner.name",type:"moduleTypes"};function Ko(t){const n=t.match(qo)?.[0].trim();if(n==null)return;const i=t,s=[];let r;for(;(r=Ao.exec(i))!==null;){const c=r[0].split(":");Xt[c[0].trim()]&&s.push(Xt[c[0].trim()]+":"+c[1].trim())}return{query:n,facetFilters:s.join(",")}}const de=t=>(Zr("data-v-c472691b"),t=t(),ea(),t),zo={key:0},$o={class:"result-list"},Ro={class:"pkgName"},Bo={class:"meta"},Mo=["onClick"],Lo=["src","alt"],Fo=de(()=>J("span",{class:"i-icon-park-outline-tag-one"},null,-1)),Uo=["title"],Ho=de(()=>J("span",{class:"i-icon-park-outline-balance-two"},null,-1)),Wo={key:0,class:"description"},Jo={key:1},Vo=de(()=>J("span",{class:"i-icon-park-outline-return"},null,-1)),Qo={key:0},Go=de(()=>J("b",null,"名称: ",-1)),Xo={key:1},Yo=de(()=>J("b",null,"主页: ",-1)),Zo={key:2},es=de(()=>J("b",null,"简介: ",-1)),ts={key:3},ns=de(()=>J("b",null,"仓库: ",-1)),rs={key:4},as=de(()=>J("b",null,"协议: ",-1)),os={key:5},ss=de(()=>J("b",null,"作者: ",-1)),is={key:7},us=de(()=>J("b",null,"版本: ",-1)),ls={key:8},cs=de(()=>J("b",null,"默认文件: ",-1)),ds={key:9},fs=de(()=>J("b",null,"文件列表",-1)),hs=de(()=>J("span",{class:"i-icon-park-outline-corner-right-down"},null,-1)),ps=[fs,hs],gs={key:0,flex:"","items-center":""},ms=de(()=>J("span",{class:"i-fa-solid-file","m-r-2":""},null,-1)),vs={key:1,flex:"","items-center":""},ys=de(()=>J("span",{class:"i-fa-solid-folder","m-r-2":""},null,-1)),bs=10,ks=ne({__name:"cdnQuery",setup(t){let n=null;const i=W(!1),s=W(""),r=W(""),c=W(0),m=W([]),h=W(0),K=W(""),p=W(null),x=W(""),b=W([]),k=W(null),d=W([]),z=ue(()=>d.value&&d.value.length?q(d.value):[]);async function B(w=0){if(!s.value){i.value=!1,p.value=null,x.value="",b.value=[],m.value=[],c.value=0,h.value=0,r.value="";return}n&&clearTimeout(n),n=window.setTimeout(async()=>{i.value=!0;const{response:C,query:f}=await Oo(s.value,w,bs);if(f===s.value){if(C){const{hits:$,page:F,nbHits:S}=C;m.value=$,h.value=S,c.value=F,r.value="done"}else Yr.warning("搜索失败");i.value=!1}},200)}function _(w){s.value="author:"+w,B(0)}async function V(w){K.value=w,p.value=null,x.value="",b.value=[],k.value=null,d.value=[];try{p.value=await jo(w),x.value=p.value.version??"",await U()}catch(C){console.error(C.message)}}async function U(){try{b.value=[],k.value=null,d.value=[],b.value=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${p.value?.name??""}`)).data.versions.map(f=>({label:f,value:f}));const{default:w,files:C}=(await Lt.get(`https://data.jsdelivr.com/v1/package/npm/${p.value?.name??""}@${x.value}`)).data;k.value=w,d.value=C}catch(w){console.error(w.message)}}function q(w,C){return w.map(f=>{const $=C?`${C}/${f.name}`:`/${f.name}`;return{label:f.name,icon:f.type==="directory"?"Folder":"",isLeaf:f.type!=="directory",fileName:$,children:f.type==="directory"&&f.files?q(f.files,$):void 0}})}return(w,C)=>{const f=la,$=ca,F=da,S=nn,O=ia,P=So,ie=no,Ne=sn,we=un,Ce=fa,Ue=sa,A=yo;return D(),R(me,null,[Q($,null,{default:G(()=>[J("blockquote",null,[J("ul",null,[J("li",null,[se(" 数据来自: "),Q(f,{href:"https://www.jsdelivr.com/",target:"_blank"},{default:G(()=>[se(" JSDelivr ")]),_:1})]),J("li",null,[se(" 搜索接口来自: "),Q(f,{href:"https://www.algolia.com/",target:"_blank"},{default:G(()=>[se(" Algolia ")]),_:1})])])])]),_:1}),Q(F,{level:3},{default:G(()=>[se(" 请输入要获取CDN的库名 ")]),_:1}),Q(S,{modelValue:g(s),"onUpdate:modelValue":C[0]||(C[0]=T=>Mt(s)?s.value=T:null),placeholder:"jquery",clearable:"",onChange:C[1]||(C[1]=T=>B(0))},null,8,["modelValue"]),(D(),ee(Xr,null,[g(r)==="done"?(D(),R(me,{key:0},[Q(O),g(K)?(D(),R(me,{key:1},[Q(f,{href:"javascript:;",style:{"margin-bottom":".8rem",display:"block"},onClick:C[3]||(C[3]=T=>K.value=null)},{default:G(()=>[Vo,se(" 返回 ")]),_:1}),g(p)?(D(),ee(Ue,{key:0,class:"metaDetail"},{default:G(()=>[J("ul",null,[g(p).name?(D(),R("li",Qo,[Go,se(Z(g(p).name),1)])):Y("",!0),g(p).homepage?(D(),R("li",Xo,[Yo,Q(f,{href:g(p).homepage,target:"_blank"},{default:G(()=>[se(Z(g(p).homepage),1)]),_:1},8,["href"])])):Y("",!0),g(p).description?(D(),R("li",Zo,[es,se(Z(g(p).description),1)])):Y("",!0),g(p).repository?(D(),R("li",ts,[ns,se(Z(g(p).repository.type)+" / ",1),Q(f,{href:g(p).repository.url,target:"_blank"},{default:G(()=>[se(Z(g(p).repository.url),1)]),_:1},8,["href"])])):Y("",!0),g(p).license?(D(),R("li",rs,[as,se(Z(g(p).license),1)])):Y("",!0),g(p).owner?(D(),R("li",os,[ss,se(Z(g(p).owner.name)+" / ",1),Q(f,{href:g(p).owner.link,target:"_blank"},{default:G(()=>[se(Z(g(p).owner.link),1)]),_:1},8,["href"])])):Y("",!0),g(b).length?(D(),ee(O,{key:6})):Y("",!0),g(b).length?(D(),R("li",is,[us,Q(we,{modelValue:g(x),"onUpdate:modelValue":C[4]||(C[4]=T=>Mt(x)?x.value=T:null),options:g(b),onChange:U},{default:G(()=>[(D(!0),R(me,null,Oe(g(b),T=>(D(),ee(Ne,{key:T.value,value:T.value,label:T.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","options"])])):Y("",!0),g(k)?(D(),R("li",ls,[cs,Q(Ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${g(p).name}@${g(x)}${g(k)}`}},{default:G(()=>[Q(f,{href:`https://cdn.jsdelivr.net/npm/${g(p).name}@${g(x)}${g(k)}`,target:"_blank"},{default:G(()=>[se(Z(g(k)),1)]),_:1},8,["href"])]),_:1},8,["copyable"])])):Y("",!0),g(d)&&g(d).length?(D(),R("li",ds,ps)):Y("",!0)])]),_:1})):Y("",!0),g(p)&&g(d)&&g(d).length?(D(),ee(A,{key:1,data:g(z),selectable:!1},{default:G(({data:T})=>[T.isLeaf?(D(),R("div",gs,[ms,Q(Ce,{copyable:{text:`https://cdn.jsdelivr.net/npm/${g(p).name}@${g(x)}${T.fileName}`}},{default:G(()=>[se(Z(T.label),1)]),_:2},1032,["copyable"])])):(D(),R("div",vs,[ys,Q(Ce,null,{default:G(()=>[se(Z(T.label),1)]),_:2},1024)]))]),_:1},8,["data"])):Y("",!0)],64)):(D(),R(me,{key:0},[Q(F,{level:4},{default:G(()=>[J("span",null,"共找到 "+Z(g(h))+" 个库",1),g(h)>1e3?(D(),R("span",zo,"，最多展示前 1000 个结果")):Y("",!0)]),_:1}),J("div",$o,[(D(!0),R(me,null,Oe(g(m),T=>(D(),R("div",{key:T.objectID,class:"result-list-item"},[J("div",Ro,[Q(F,{level:4,onClick:he=>V(T.objectID)},{default:G(()=>[se(Z(T.name),1)]),_:2},1032,["onClick"])]),J("div",Bo,[T.owner?(D(),R("div",{key:0,class:"owner",onClick:he=>_(T.owner.name)},[J("img",{src:T.owner.avatar,alt:T.owner.name},null,8,Lo),J("div",null,Z(T.owner.name),1)],8,Mo)):Y("",!0),T.version?(D(),ee(P,{key:1},{icon:G(()=>[Fo]),default:G(()=>[J("span",{title:T.version},Z(T.version),9,Uo)]),_:2},1024)):Y("",!0),T.license?(D(),ee(P,{key:2},{icon:G(()=>[Ho]),default:G(()=>[se(" "+Z(T.license),1)]),_:2},1024)):Y("",!0)]),T.description?(D(),R("div",Wo,Z(T.description),1)):Y("",!0),T.keywords&&T.keywords.length?(D(),R("div",Jo,[(D(!0),R(me,null,Oe(T.keywords,(he,ye)=>(D(),ee(P,{key:ye},{default:G(()=>[se(Z(he),1)]),_:2},1024))),128))])):Y("",!0)]))),128))]),Q(ie,{layout:"prev,jumper,next",total:g(h)>1e3?1e3:g(h),"hide-on-single-page":!0,onCurrentChange:C[2]||(C[2]=T=>B(T-1))},null,8,["total"])],64))],64)):Y("",!0)],1024))],64)}}});const $s=ta(ks,[["__scopeId","data-v-c472691b"]]);export{$s as default};
